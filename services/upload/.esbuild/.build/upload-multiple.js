"use strict";var $Wt=Object.create;var YU=Object.defineProperty;var zWt=Object.getOwnPropertyDescriptor;var HWt=Object.getOwnPropertyNames;var VWt=Object.getPrototypeOf,GWt=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ct=(e,t)=>{for(var r in t)YU(e,r,{get:t[r],enumerable:!0})},dCe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HWt(t))!GWt.call(e,s)&&s!==r&&YU(e,s,{get:()=>t[s],enumerable:!(n=zWt(t,s))||n.enumerable});return e};var C=(e,t,r)=>(r=e!=null?$Wt(VWt(e)):{},dCe(t||!e||!e.__esModule?YU(r,"default",{value:e,enumerable:!0}):r,e)),F=e=>dCe(YU({},"__esModule",{value:!0}),e);var Sh=E((Y4n,SCe)=>{var ZU=Object.defineProperty,WWt=Object.getOwnPropertyDescriptor,KWt=Object.getOwnPropertyNames,XWt=Object.prototype.hasOwnProperty,_h=(e,t)=>ZU(e,"name",{value:t,configurable:!0}),JWt=(e,t)=>{for(var r in t)ZU(e,r,{get:t[r],enumerable:!0})},QWt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KWt(t))!XWt.call(e,s)&&s!==r&&ZU(e,s,{get:()=>t[s],enumerable:!(n=WWt(t,s))||n.enumerable});return e},YWt=e=>QWt(ZU({},"__esModule",{value:!0}),e),uCe={};JWt(uCe,{AlgorithmId:()=>gCe,EndpointURLScheme:()=>pCe,FieldPosition:()=>hCe,HttpApiKeyAuthLocation:()=>fCe,HttpAuthLocation:()=>mCe,IniSectionType:()=>yCe,RequestHandlerProtocol:()=>_Ce,SMITHY_CONTEXT_KEY:()=>nKt,getDefaultClientConfiguration:()=>tKt,resolveDefaultRuntimeConfig:()=>rKt});SCe.exports=YWt(uCe);var mCe=(e=>(e.HEADER="header",e.QUERY="query",e))(mCe||{}),fCe=(e=>(e.HEADER="header",e.QUERY="query",e))(fCe||{}),pCe=(e=>(e.HTTP="http",e.HTTPS="https",e))(pCe||{}),gCe=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(gCe||{}),ZWt=_h(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:_h(()=>"sha256","algorithmId"),checksumConstructor:_h(()=>e.sha256,"checksumConstructor")}),e.md5!=null&&t.push({algorithmId:_h(()=>"md5","algorithmId"),checksumConstructor:_h(()=>e.md5,"checksumConstructor")}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),eKt=_h(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),tKt=_h(e=>ZWt(e),"getDefaultClientConfiguration"),rKt=_h(e=>eKt(e),"resolveDefaultRuntimeConfig"),hCe=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(hCe||{}),nKt="__smithy_context",yCe=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(yCe||{}),_Ce=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(_Ce||{})});var Ge=E((Z4n,wCe)=>{var eF=Object.defineProperty,sKt=Object.getOwnPropertyDescriptor,iKt=Object.getOwnPropertyNames,oKt=Object.prototype.hasOwnProperty,vh=(e,t)=>eF(e,"name",{value:t,configurable:!0}),aKt=(e,t)=>{for(var r in t)eF(e,r,{get:t[r],enumerable:!0})},cKt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of iKt(t))!oKt.call(e,s)&&s!==r&&eF(e,s,{get:()=>t[s],enumerable:!(n=sKt(t,s))||n.enumerable});return e},lKt=e=>cKt(eF({},"__esModule",{value:!0}),e),vCe={};aKt(vCe,{Field:()=>mKt,Fields:()=>fKt,HttpRequest:()=>pKt,HttpResponse:()=>gKt,IHttpRequest:()=>ECe.HttpRequest,getHttpHandlerExtensionConfiguration:()=>dKt,isValidHostname:()=>bCe,resolveHttpHandlerRuntimeConfig:()=>uKt});wCe.exports=lKt(vCe);var dKt=vh(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),uKt=vh(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),ECe=Sh(),mKt=class{static{vh(this,"Field")}constructor({name:e,kind:t=ECe.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},fKt=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{vh(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},pKt=class nJ{static{vh(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new nJ({...t,headers:{...t.headers}});return r.query&&(r.query=CCe(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return nJ.clone(this)}};function CCe(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}vh(CCe,"cloneQuery");var gKt=class{static{vh(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function bCe(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}vh(bCe,"isValidHostname")});var JR=E((nWn,TCe)=>{"use strict";var rF=Object.defineProperty,hKt=Object.getOwnPropertyDescriptor,yKt=Object.getOwnPropertyNames,_Kt=Object.prototype.hasOwnProperty,tF=(e,t)=>rF(e,"name",{value:t,configurable:!0}),SKt=(e,t)=>{for(var r in t)rF(e,r,{get:t[r],enumerable:!0})},vKt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yKt(t))!_Kt.call(e,s)&&s!==r&&rF(e,s,{get:()=>t[s],enumerable:!(n=hKt(t,s))||n.enumerable});return e},EKt=e=>vKt(rF({},"__esModule",{value:!0}),e),ACe={};SKt(ACe,{getHostHeaderPlugin:()=>bKt,hostHeaderMiddleware:()=>PCe,hostHeaderMiddlewareOptions:()=>RCe,resolveHostHeaderConfig:()=>xCe});TCe.exports=EKt(ACe);var CKt=Ge();function xCe(e){return e}tF(xCe,"resolveHostHeaderConfig");var PCe=tF(e=>t=>async r=>{if(!CKt.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),RCe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},bKt=tF(e=>({applyToStack:tF(t=>{t.add(PCe(e),RCe)},"applyToStack")}),"getHostHeaderPlugin")});var QR=E((sWn,DCe)=>{"use strict";var nF=Object.defineProperty,wKt=Object.getOwnPropertyDescriptor,AKt=Object.getOwnPropertyNames,xKt=Object.prototype.hasOwnProperty,sJ=(e,t)=>nF(e,"name",{value:t,configurable:!0}),PKt=(e,t)=>{for(var r in t)nF(e,r,{get:t[r],enumerable:!0})},RKt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of AKt(t))!xKt.call(e,s)&&s!==r&&nF(e,s,{get:()=>t[s],enumerable:!(n=wKt(t,s))||n.enumerable});return e},TKt=e=>RKt(nF({},"__esModule",{value:!0}),e),ICe={};PKt(ICe,{getLoggerPlugin:()=>IKt,loggerMiddleware:()=>OCe,loggerMiddlewareOptions:()=>NCe});DCe.exports=TKt(ICe);var OCe=sJ(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),NCe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},IKt=sJ(e=>({applyToStack:sJ(t=>{t.add(OCe(),NCe)},"applyToStack")}),"getLoggerPlugin")});var YR=E((iWn,UCe)=>{"use strict";var iF=Object.defineProperty,OKt=Object.getOwnPropertyDescriptor,NKt=Object.getOwnPropertyNames,DKt=Object.prototype.hasOwnProperty,sF=(e,t)=>iF(e,"name",{value:t,configurable:!0}),kKt=(e,t)=>{for(var r in t)iF(e,r,{get:t[r],enumerable:!0})},MKt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NKt(t))!DKt.call(e,s)&&s!==r&&iF(e,s,{get:()=>t[s],enumerable:!(n=OKt(t,s))||n.enumerable});return e},LKt=e=>MKt(iF({},"__esModule",{value:!0}),e),kCe={};kKt(kCe,{addRecursionDetectionMiddlewareOptions:()=>LCe,getRecursionDetectionPlugin:()=>qKt,recursionDetectionMiddleware:()=>MCe});UCe.exports=LKt(kCe);var UKt=Ge(),iJ="X-Amzn-Trace-Id",FKt="AWS_LAMBDA_FUNCTION_NAME",BKt="_X_AMZN_TRACE_ID",MCe=sF(e=>t=>async r=>{let{request:n}=r;if(!UKt.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===iJ.toLowerCase())??iJ;if(n.headers.hasOwnProperty(s))return t(r);let i=process.env[FKt],o=process.env[BKt],a=sF(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(i)&&a(o)&&(n.headers[iJ]=o),t({...r,request:n})},"recursionDetectionMiddleware"),LCe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},qKt=sF(e=>({applyToStack:sF(t=>{t.add(MCe(e),LCe)},"applyToStack")}),"getRecursionDetectionPlugin")});var oJ,jKt,FCe=_(()=>{oJ=C(Sh()),jKt=e=>e[oJ.SMITHY_CONTEXT_KEY]||(e[oJ.SMITHY_CONTEXT_KEY]={})});var Jn=E((aWn,$Ce)=>{var oF=Object.defineProperty,$Kt=Object.getOwnPropertyDescriptor,zKt=Object.getOwnPropertyNames,HKt=Object.prototype.hasOwnProperty,qCe=(e,t)=>oF(e,"name",{value:t,configurable:!0}),VKt=(e,t)=>{for(var r in t)oF(e,r,{get:t[r],enumerable:!0})},GKt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zKt(t))!HKt.call(e,s)&&s!==r&&oF(e,s,{get:()=>t[s],enumerable:!(n=$Kt(t,s))||n.enumerable});return e},WKt=e=>GKt(oF({},"__esModule",{value:!0}),e),jCe={};VKt(jCe,{getSmithyContext:()=>KKt,normalizeProvider:()=>XKt});$Ce.exports=WKt(jCe);var BCe=Sh(),KKt=qCe(e=>e[BCe.SMITHY_CONTEXT_KEY]||(e[BCe.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),XKt=qCe(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var zCe,HCe=_(()=>{zCe=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function JKt(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var VCe,ZR,aF=_(()=>{VCe=C(Jn());HCe();ZR=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=zCe(i,o),c=JKt(e.httpAuthSchemes),l=(0,VCe.getSmithyContext)(n),d=[];for(let u of a){let m=c.get(u.schemeId);if(!m){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let p=m.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:y={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},y),l.selectedHttpAuthScheme={httpAuthOption:u,identity:await p(u.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)}});var GCe,Zc,WCe=_(()=>{aF();GCe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Zc=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ZR(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),GCe)}})});var io=E((fWn,ebe)=>{var cF=Object.defineProperty,QKt=Object.getOwnPropertyDescriptor,YKt=Object.getOwnPropertyNames,ZKt=Object.prototype.hasOwnProperty,eT=(e,t)=>cF(e,"name",{value:t,configurable:!0}),e6t=(e,t)=>{for(var r in t)cF(e,r,{get:t[r],enumerable:!0})},t6t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of YKt(t))!ZKt.call(e,s)&&s!==r&&cF(e,s,{get:()=>t[s],enumerable:!(n=QKt(t,s))||n.enumerable});return e},r6t=e=>t6t(cF({},"__esModule",{value:!0}),e),KCe={};e6t(KCe,{deserializerMiddleware:()=>XCe,deserializerMiddlewareOption:()=>QCe,getSerdePlugin:()=>ZCe,serializerMiddleware:()=>JCe,serializerMiddlewareOption:()=>YCe});ebe.exports=r6t(KCe);var n6t=Ge(),XCe=eT((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(n6t.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:aJ(/^x-[\w-]+-request-?id$/,l),extendedRequestId:aJ(/^x-[\w-]+-id-2$/,l),cfId:aJ(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},"deserializerMiddleware"),aJ=eT((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),JCe=eT((e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},"serializerMiddleware"),QCe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},YCe={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ZCe(e,t,r){return{applyToStack:eT(n=>{n.add(XCe(e,r),QCe),n.add(JCe(e,t),YCe)},"applyToStack")}}eT(ZCe,"getSerdePlugin")});var tbe,rbe,s6t,nbe=_(()=>{tbe=C(io());aF();rbe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:tbe.serializerMiddlewareOption.name},s6t=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ZR(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),rbe)}})});var sbe=_(()=>{aF();WCe();nbe()});var ibe,obe,i6t,o6t,cJ,lJ=_(()=>{ibe=C(Ge()),obe=C(Jn()),i6t=e=>t=>{throw t},o6t=(e,t)=>{},cJ=e=>(t,r)=>async n=>{if(!ibe.HttpRequest.isInstance(n.request))return t(n);let i=(0,obe.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||i6t)(o));return(c.successHandler||o6t)(l.response,o),l}});var abe,el,cbe=_(()=>{lJ();abe={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},el=e=>({applyToStack:t=>{t.addRelativeTo(cJ(e),abe)}})});var lbe=_(()=>{lJ();cbe()});var fr,dbe=_(()=>{fr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function ube(e,t,r,n,s){return async function*(o,a,...c){let l=a,d=o.startingToken??l[r],u=!0,m;for(;u;){if(l[r]=d,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)m=await a6t(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let p=d;d=c6t(m,n),u=!!(d&&(!o.stopOnSameToken||d!==p))}return void 0}}var a6t,c6t,mbe=_(()=>{a6t=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};c6t=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var tT=E((RWn,pbe)=>{var lF=Object.defineProperty,l6t=Object.getOwnPropertyDescriptor,d6t=Object.getOwnPropertyNames,u6t=Object.prototype.hasOwnProperty,m6t=(e,t)=>lF(e,"name",{value:t,configurable:!0}),f6t=(e,t)=>{for(var r in t)lF(e,r,{get:t[r],enumerable:!0})},p6t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of d6t(t))!u6t.call(e,s)&&s!==r&&lF(e,s,{get:()=>t[s],enumerable:!(n=l6t(t,s))||n.enumerable});return e},g6t=e=>p6t(lF({},"__esModule",{value:!0}),e),fbe={};f6t(fbe,{isArrayBuffer:()=>h6t});pbe.exports=g6t(fbe);var h6t=m6t(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var xb=E((TWn,ybe)=>{var dF=Object.defineProperty,y6t=Object.getOwnPropertyDescriptor,_6t=Object.getOwnPropertyNames,S6t=Object.prototype.hasOwnProperty,gbe=(e,t)=>dF(e,"name",{value:t,configurable:!0}),v6t=(e,t)=>{for(var r in t)dF(e,r,{get:t[r],enumerable:!0})},E6t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _6t(t))!S6t.call(e,s)&&s!==r&&dF(e,s,{get:()=>t[s],enumerable:!(n=y6t(t,s))||n.enumerable});return e},C6t=e=>E6t(dF({},"__esModule",{value:!0}),e),hbe={};v6t(hbe,{fromArrayBuffer:()=>w6t,fromString:()=>A6t});ybe.exports=C6t(hbe);var b6t=tT(),dJ=require("buffer"),w6t=gbe((e,t=0,r=e.byteLength-t)=>{if(!(0,b6t.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return dJ.Buffer.from(e,t,r)},"fromArrayBuffer"),A6t=gbe((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?dJ.Buffer.from(e,t):dJ.Buffer.from(e)},"fromString")});var _be=E(uF=>{"use strict";Object.defineProperty(uF,"__esModule",{value:!0});uF.fromBase64=void 0;var x6t=xb(),P6t=/^[A-Za-z0-9+/]*={0,2}$/,R6t=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!P6t.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,x6t.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};uF.fromBase64=R6t});var kt=E((OWn,Cbe)=>{var mF=Object.defineProperty,T6t=Object.getOwnPropertyDescriptor,I6t=Object.getOwnPropertyNames,O6t=Object.prototype.hasOwnProperty,uJ=(e,t)=>mF(e,"name",{value:t,configurable:!0}),N6t=(e,t)=>{for(var r in t)mF(e,r,{get:t[r],enumerable:!0})},D6t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of I6t(t))!O6t.call(e,s)&&s!==r&&mF(e,s,{get:()=>t[s],enumerable:!(n=T6t(t,s))||n.enumerable});return e},k6t=e=>D6t(mF({},"__esModule",{value:!0}),e),Sbe={};N6t(Sbe,{fromUtf8:()=>Ebe,toUint8Array:()=>M6t,toUtf8:()=>L6t});Cbe.exports=k6t(Sbe);var vbe=xb(),Ebe=uJ(e=>{let t=(0,vbe.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),M6t=uJ(e=>typeof e=="string"?Ebe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),L6t=uJ(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,vbe.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var bbe=E(fF=>{"use strict";Object.defineProperty(fF,"__esModule",{value:!0});fF.toBase64=void 0;var U6t=xb(),F6t=kt(),B6t=e=>{let t;if(typeof e=="string"?t=(0,F6t.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,U6t.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};fF.toBase64=B6t});var Mt=E((DWn,pF)=>{var wbe=Object.defineProperty,q6t=Object.getOwnPropertyDescriptor,j6t=Object.getOwnPropertyNames,$6t=Object.prototype.hasOwnProperty,mJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j6t(t))!$6t.call(e,s)&&s!==r&&wbe(e,s,{get:()=>t[s],enumerable:!(n=q6t(t,s))||n.enumerable});return e},Abe=(e,t,r)=>(mJ(e,t,"default"),r&&mJ(r,t,"default")),z6t=e=>mJ(wbe({},"__esModule",{value:!0}),e),fJ={};pF.exports=z6t(fJ);Abe(fJ,_be(),pF.exports);Abe(fJ,bbe(),pF.exports)});var gJ=E(gF=>{"use strict";Object.defineProperty(gF,"__esModule",{value:!0});gF.ChecksumStream=void 0;var H6t=Mt(),V6t=require("stream"),pJ=class extends V6t.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=i??H6t.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};gF.ChecksumStream=pJ});var Eh=E(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.isBlob=Pb.isReadableStream=void 0;var G6t=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Pb.isReadableStream=G6t;var W6t=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Pb.isBlob=W6t});var xbe=E(hF=>{"use strict";Object.defineProperty(hF,"__esModule",{value:!0});hF.ChecksumStream=void 0;var K6t=typeof ReadableStream=="function"?ReadableStream:function(){},hJ=class extends K6t{};hF.ChecksumStream=hJ});var Pbe=E(yF=>{"use strict";Object.defineProperty(yF,"__esModule",{value:!0});yF.createChecksumStream=void 0;var X6t=Mt(),J6t=Eh(),Q6t=xbe(),Y6t=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var i,o;if(!(0,J6t.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=s??X6t.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,u){t.update(d),u.enqueue(d)},async flush(d){let u=await t.digest(),m=a(u);if(e!==m){let p=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);d.error(p)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,Q6t.ChecksumStream.prototype),l};yF.createChecksumStream=Y6t});var Rbe=E(yJ=>{"use strict";Object.defineProperty(yJ,"__esModule",{value:!0});yJ.createChecksumStream=r8t;var Z6t=Eh(),e8t=gJ(),t8t=Pbe();function r8t(e){return typeof ReadableStream=="function"&&(0,Z6t.isReadableStream)(e.source)?(0,t8t.createChecksumStream)(e):new e8t.ChecksumStream(e)}});var SJ=E(_F=>{"use strict";Object.defineProperty(_F,"__esModule",{value:!0});_F.ByteArrayCollector=void 0;var _J=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};_F.ByteArrayCollector=_J});var Nbe=E(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.createBufferedReadable=void 0;rp.createBufferedReadableStream=Tbe;rp.merge=Ibe;rp.flush=SF;rp.sizeOf=Rb;rp.modeOf=Obe;var n8t=SJ();function Tbe(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new n8t.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:u}=await n.read(),m=d;if(u){if(a!==-1){let p=SF(o,a);Rb(p)>0&&l.enqueue(p)}l.close()}else{let p=Obe(m,!1);if(a!==p&&(a>=0&&l.enqueue(SF(o,a)),a=p),a===-1){l.enqueue(m);return}let g=Rb(m);i+=g;let y=Rb(o[a]);if(g>=t&&y===0)l.enqueue(m);else{let b=Ibe(o,a,m);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),b>=t?l.enqueue(SF(o,a)):await c(l)}}};return new ReadableStream({pull:c})}rp.createBufferedReadable=Tbe;function Ibe(e,t,r){switch(t){case 0:return e[0]+=r,Rb(e[0]);case 1:case 2:return e[t].push(r),Rb(e[t])}}function SF(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Rb(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function Obe(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var kbe=E(vJ=>{"use strict";Object.defineProperty(vJ,"__esModule",{value:!0});vJ.createBufferedReadable=o8t;var s8t=require("node:stream"),Dbe=SJ(),np=Nbe(),i8t=Eh();function o8t(e,t,r){if((0,i8t.isReadableStream)(e))return(0,np.createBufferedReadableStream)(e,t,r);let n=new s8t.Readable({read(){}}),s=!1,i=0,o=["",new Dbe.ByteArrayCollector(c=>new Uint8Array(c)),new Dbe.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,np.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,np.flush)(o,a)),a=l),a===-1){n.push(c);return}let d=(0,np.sizeOf)(c);i+=d;let u=(0,np.sizeOf)(o[a]);if(d>=t&&u===0)n.push(c);else{let m=(0,np.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,np.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,np.flush)(o,a);(0,np.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var Mbe=E(vF=>{"use strict";Object.defineProperty(vF,"__esModule",{value:!0});vF.getAwsChunkedEncodingStream=void 0;var a8t=require("stream"),c8t=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new a8t.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${i}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};vF.getAwsChunkedEncodingStream=c8t});var Lbe=E(EJ=>{"use strict";Object.defineProperty(EJ,"__esModule",{value:!0});EJ.headStream=l8t;async function l8t(e,t){var r;let n=0,s=[],i=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await i.read();if(d&&(s.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;o=l}i.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of s){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var Ube=E(EF=>{"use strict";Object.defineProperty(EF,"__esModule",{value:!0});EF.headStream=void 0;var d8t=require("stream"),u8t=Lbe(),m8t=Eh(),f8t=(e,t)=>(0,m8t.isReadableStream)(e)?(0,u8t.headStream)(e,t):new Promise((r,n)=>{let s=new CJ;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});EF.headStream=f8t;var CJ=class extends d8t.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-i),this.emit("finish")}n()}}});var wJ=E((VWn,qbe)=>{var CF=Object.defineProperty,p8t=Object.getOwnPropertyDescriptor,g8t=Object.getOwnPropertyNames,h8t=Object.prototype.hasOwnProperty,bJ=(e,t)=>CF(e,"name",{value:t,configurable:!0}),y8t=(e,t)=>{for(var r in t)CF(e,r,{get:t[r],enumerable:!0})},_8t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of g8t(t))!h8t.call(e,s)&&s!==r&&CF(e,s,{get:()=>t[s],enumerable:!(n=p8t(t,s))||n.enumerable});return e},S8t=e=>_8t(CF({},"__esModule",{value:!0}),e),Fbe={};y8t(Fbe,{escapeUri:()=>Bbe,escapeUriPath:()=>E8t});qbe.exports=S8t(Fbe);var Bbe=bJ(e=>encodeURIComponent(e).replace(/[!'()*]/g,v8t),"escapeUri"),v8t=bJ(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),E8t=bJ(e=>e.split("/").map(Bbe).join("/"),"escapeUriPath")});var wF=E((GWn,zbe)=>{var bF=Object.defineProperty,C8t=Object.getOwnPropertyDescriptor,b8t=Object.getOwnPropertyNames,w8t=Object.prototype.hasOwnProperty,A8t=(e,t)=>bF(e,"name",{value:t,configurable:!0}),x8t=(e,t)=>{for(var r in t)bF(e,r,{get:t[r],enumerable:!0})},P8t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of b8t(t))!w8t.call(e,s)&&s!==r&&bF(e,s,{get:()=>t[s],enumerable:!(n=C8t(t,s))||n.enumerable});return e},R8t=e=>P8t(bF({},"__esModule",{value:!0}),e),jbe={};x8t(jbe,{buildQueryString:()=>$be});zbe.exports=R8t(jbe);var AJ=wJ();function $be(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,AJ.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,AJ.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,AJ.escapeUri)(n)}`),t.push(s)}}return t.join("&")}A8t($be,"buildQueryString")});var Oo=E((WWn,swe)=>{var T8t=Object.create,rT=Object.defineProperty,I8t=Object.getOwnPropertyDescriptor,O8t=Object.getOwnPropertyNames,N8t=Object.getPrototypeOf,D8t=Object.prototype.hasOwnProperty,Qr=(e,t)=>rT(e,"name",{value:t,configurable:!0}),k8t=(e,t)=>{for(var r in t)rT(e,r,{get:t[r],enumerable:!0})},Kbe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of O8t(t))!D8t.call(e,s)&&s!==r&&rT(e,s,{get:()=>t[s],enumerable:!(n=I8t(t,s))||n.enumerable});return e},M8t=(e,t,r)=>(r=e!=null?T8t(N8t(e)):{},Kbe(t||!e||!e.__esModule?rT(r,"default",{value:e,enumerable:!0}):r,e)),L8t=e=>Kbe(rT({},"__esModule",{value:!0}),e),Xbe={};k8t(Xbe,{DEFAULT_REQUEST_TIMEOUT:()=>twe,NodeHttp2Handler:()=>G8t,NodeHttpHandler:()=>$8t,streamCollector:()=>K8t});swe.exports=L8t(Xbe);var Jbe=Ge(),Qbe=wF(),xJ=require("http"),PJ=require("https"),U8t=["ECONNRESET","EPIPE","ETIMEDOUT"],Ybe=Qr(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),yc={setTimeout:Qr((e,t)=>setTimeout(e,t),"setTimeout"),clearTimeout:Qr(e=>clearTimeout(e),"clearTimeout")},Hbe=1e3,F8t=Qr((e,t,r=0)=>{if(!r)return-1;let n=Qr(s=>{let i=yc.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),o=Qr(a=>{a?.connecting?a.on("connect",()=>{yc.clearTimeout(i)}):yc.clearTimeout(i)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):yc.setTimeout(n.bind(null,Hbe),Hbe)},"setConnectionTimeout"),B8t=3e3,q8t=Qr((e,{keepAlive:t,keepAliveMsecs:r},n=B8t)=>{if(t!==!0)return-1;let s=Qr(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):yc.setTimeout(s,n)},"setSocketKeepAlive"),Vbe=3e3,j8t=Qr((e,t,r=twe)=>{let n=Qr(s=>{let i=r-s,o=Qr(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):yc.setTimeout(n.bind(null,r===0?0:Vbe),Vbe)},"setSocketTimeout"),Zbe=require("stream"),Gbe=6e3;async function TJ(e,t,r=Gbe){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(yc.setTimeout(()=>a(!0),Math.max(Gbe,r)))}),new Promise(a=>{e.on("continue",()=>{yc.clearTimeout(i),a(!0)}),e.on("response",()=>{yc.clearTimeout(i),a(!1)}),e.on("error",()=>{yc.clearTimeout(i),a(!1)})})])),o&&ewe(e,t.body)}Qr(TJ,"writeRequestBody");function ewe(e,t){if(t instanceof Zbe.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Qr(ewe,"writeBody");var twe=0,$8t=class RJ{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{Qr(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new RJ(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,d=i[c]?.length??0;if(l>=o&&d>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:i,httpAgent:o instanceof xJ.Agent||typeof o?.destroy=="function"?o:new xJ.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof PJ.Agent||typeof a?.destroy=="function"?a:new PJ.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],c=Qr(async k=>{await o,a.forEach(yc.clearTimeout),s(k)},"resolve"),l=Qr(async k=>{await o,a.forEach(yc.clearTimeout),i(k)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let k=new Error("Request aborted");k.name="AbortError",l(k);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push(yc.setTimeout(()=>{this.socketWarningTimestamp=RJ.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,Qbe.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let k=t.username??"",z=t.password??"";p=`${k}:${z}`}let g=t.path;m&&(g+=`?${m}`),t.fragment&&(g+=`#${t.fragment}`);let y=t.hostname??"";y[0]==="["&&y.endsWith("]")?y=t.hostname.slice(1,-1):y=t.hostname;let b={headers:t.headers,host:y,method:t.method,path:g,port:t.port,agent:u,auth:p},A=(d?PJ.request:xJ.request)(b,k=>{let z=new Jbe.HttpResponse({statusCode:k.statusCode||-1,reason:k.statusMessage,headers:Ybe(k.headers),body:k});c({response:z})});if(A.on("error",k=>{U8t.includes(k.code)?l(Object.assign(k,{name:"TimeoutError"})):l(k)}),r){let k=Qr(()=>{A.destroy();let z=new Error("Request aborted");z.name="AbortError",l(z)},"onAbort");if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",k,{once:!0}),A.once("close",()=>z.removeEventListener("abort",k))}else r.onabort=k}let O=n??this.config.requestTimeout;a.push(F8t(A,l,this.config.connectionTimeout)),a.push(j8t(A,l,O));let T=b.agent;typeof T=="object"&&"keepAlive"in T&&a.push(q8t(A,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs})),o=TJ(A,t,O).catch(k=>(a.forEach(yc.clearTimeout),i(k)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Wbe=require("http2"),z8t=M8t(require("http2")),H8t=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{Qr(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},V8t=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{Qr(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=z8t.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let i=Qr(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,i);let o=this.sessionCache.get(r)||new H8t;return o.offerLast(s),this.sessionCache.set(r,o),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},G8t=class rwe{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new V8t({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{Qr(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new rwe(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,d,u=Qr(async ye=>{await d,a(ye)},"resolve"),m=Qr(async ye=>{await d,c(ye)},"reject");if(r?.aborted){l=!0;let ye=new Error("Request aborted");ye.name="AbortError",m(ye);return}let{hostname:p,method:g,port:y,protocol:b,query:w}=t,A="";if(t.username!=null||t.password!=null){let ye=t.username??"",Re=t.password??"";A=`${ye}:${Re}@`}let O=`${b}//${A}${p}${y?`:${y}`:""}`,T={destination:new URL(O)},k=this.connectionManager.lease(T,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),z=Qr(ye=>{i&&this.destroySession(k),l=!0,m(ye)},"rejectWithDestroy"),oe=(0,Qbe.buildQueryString)(w||{}),Q=t.path;oe&&(Q+=`?${oe}`),t.fragment&&(Q+=`#${t.fragment}`);let _e=k.request({...t.headers,[Wbe.constants.HTTP2_HEADER_PATH]:Q,[Wbe.constants.HTTP2_HEADER_METHOD]:g});if(k.ref(),_e.on("response",ye=>{let Re=new Jbe.HttpResponse({statusCode:ye[":status"]||-1,headers:Ybe(ye),body:_e});l=!0,u({response:Re}),i&&(k.close(),this.connectionManager.deleteSession(O,k))}),o&&_e.setTimeout(o,()=>{_e.close();let ye=new Error(`Stream timed out because of no activity for ${o} ms`);ye.name="TimeoutError",z(ye)}),r){let ye=Qr(()=>{_e.close();let Re=new Error("Request aborted");Re.name="AbortError",z(Re)},"onAbort");if(typeof r.addEventListener=="function"){let Re=r;Re.addEventListener("abort",ye,{once:!0}),_e.once("close",()=>Re.removeEventListener("abort",ye))}else r.onabort=ye}_e.on("frameError",(ye,Re,kn)=>{z(new Error(`Frame type id ${ye} in stream id ${kn} has failed with code ${Re}.`))}),_e.on("error",z),_e.on("aborted",()=>{z(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${_e.rstCode}.`))}),_e.on("close",()=>{k.unref(),i&&k.destroy(),l||z(new Error("Unexpected error: http2 request did not get a response"))}),d=TJ(_e,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},W8t=class extends Zbe.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{Qr(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},K8t=Qr(e=>X8t(e)?nwe(e):new Promise((t,r)=>{let n=new W8t;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),X8t=Qr(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function nwe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Qr(nwe,"collectReadableStream")});var fwe=E((QWn,mwe)=>{var xF=Object.defineProperty,J8t=Object.getOwnPropertyDescriptor,Q8t=Object.getOwnPropertyNames,Y8t=Object.prototype.hasOwnProperty,wm=(e,t)=>xF(e,"name",{value:t,configurable:!0}),Z8t=(e,t)=>{for(var r in t)xF(e,r,{get:t[r],enumerable:!0})},e5t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Q8t(t))!Y8t.call(e,s)&&s!==r&&xF(e,s,{get:()=>t[s],enumerable:!(n=J8t(t,s))||n.enumerable});return e},t5t=e=>e5t(xF({},"__esModule",{value:!0}),e),owe={};Z8t(owe,{FetchHttpHandler:()=>n5t,keepAliveSupport:()=>AF,streamCollector:()=>i5t});mwe.exports=t5t(owe);var iwe=Ge(),r5t=wF();function IJ(e,t){return new Request(e,t)}wm(IJ,"createRequest");function awe(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}wm(awe,"requestTimeout");var AF={supported:void 0},n5t=class cwe{static{wm(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new cwe(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),AF.supported===void 0&&(AF.supported=typeof Request<"u"&&"keepalive"in IJ("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let A=new Error("Request aborted");return A.name="AbortError",Promise.reject(A)}let a=t.path,c=(0,r5t.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let A=t.username??"",O=t.password??"";l=`${A}:${O}@`}let{port:d,method:u}=t,m=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,p=u==="GET"||u==="HEAD"?void 0:t.body,g={body:p,headers:new Headers(t.headers),method:u,credentials:o};this.config?.cache&&(g.cache=this.config.cache),p&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),AF.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let y=wm(()=>{},"removeSignalEventListener"),b=IJ(m,g),w=[fetch(b).then(A=>{let O=A.headers,T={};for(let z of O.entries())T[z[0]]=z[1];return A.body!=null?{response:new iwe.HttpResponse({headers:T,reason:A.statusText,statusCode:A.status,body:A.body})}:A.blob().then(z=>({response:new iwe.HttpResponse({headers:T,reason:A.statusText,statusCode:A.status,body:z})}))}),awe(s)];return r&&w.push(new Promise((A,O)=>{let T=wm(()=>{let k=new Error("Request aborted");k.name="AbortError",O(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",T,{once:!0}),y=wm(()=>k.removeEventListener("abort",T),"removeSignalEventListener")}else r.onabort=T})),Promise.race(w).finally(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},s5t=Mt(),i5t=wm(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):lwe(e):dwe(e),"streamCollector");async function lwe(e){let t=await uwe(e),r=(0,s5t.fromBase64)(t);return new Uint8Array(r)}wm(lwe,"collectBlob");async function dwe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}wm(dwe,"collectStream");function uwe(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}wm(uwe,"readToBase64")});var RF=E((YWn,Swe)=>{var PF=Object.defineProperty,o5t=Object.getOwnPropertyDescriptor,a5t=Object.getOwnPropertyNames,c5t=Object.prototype.hasOwnProperty,pwe=(e,t)=>PF(e,"name",{value:t,configurable:!0}),l5t=(e,t)=>{for(var r in t)PF(e,r,{get:t[r],enumerable:!0})},d5t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of a5t(t))!c5t.call(e,s)&&s!==r&&PF(e,s,{get:()=>t[s],enumerable:!(n=o5t(t,s))||n.enumerable});return e},u5t=e=>d5t(PF({},"__esModule",{value:!0}),e),gwe={};l5t(gwe,{fromHex:()=>ywe,toHex:()=>_we});Swe.exports=u5t(gwe);var hwe={},OJ={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),hwe[e]=t,OJ[t]=e}function ywe(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in OJ)t[r/2]=OJ[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}pwe(ywe,"fromHex");function _we(e){let t="";for(let r=0;r<e.byteLength;r++)t+=hwe[e[r]];return t}pwe(_we,"toHex")});var bwe=E(TF=>{"use strict";Object.defineProperty(TF,"__esModule",{value:!0});TF.sdkStreamMixin=void 0;var m5t=fwe(),f5t=Mt(),p5t=RF(),g5t=kt(),vwe=Eh(),Ewe="The stream has already been transformed.",h5t=e=>{var t,r;if(!Cwe(e)&&!(0,vwe.isReadableStream)(e)){let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(Ewe);return n=!0,await(0,m5t.streamCollector)(e)},i=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();if(o==="base64")return(0,f5t.toBase64)(a);if(o==="hex")return(0,p5t.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,g5t.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Ewe);if(n=!0,Cwe(e))return i(e);if((0,vwe.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};TF.sdkStreamMixin=h5t;var Cwe=e=>typeof Blob=="function"&&e instanceof Blob});var Awe=E(IF=>{"use strict";Object.defineProperty(IF,"__esModule",{value:!0});IF.sdkStreamMixin=void 0;var y5t=Oo(),_5t=xb(),NJ=require("stream"),S5t=bwe(),wwe="The stream has already been transformed.",v5t=e=>{var t,r;if(!(e instanceof NJ.Readable))try{return(0,S5t.sdkStreamMixin)(e)}catch{let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(wwe);return n=!0,await(0,y5t.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let o=await s();return i===void 0||Buffer.isEncoding(i)?(0,_5t.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(n)throw new Error(wwe);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof NJ.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,NJ.Readable.toWeb(e)}})};IF.sdkStreamMixin=v5t});var xwe=E(DJ=>{"use strict";Object.defineProperty(DJ,"__esModule",{value:!0});DJ.splitStream=E5t;async function E5t(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Twe=E(kJ=>{"use strict";Object.defineProperty(kJ,"__esModule",{value:!0});kJ.splitStream=b5t;var Pwe=require("stream"),C5t=xwe(),Rwe=Eh();async function b5t(e){if((0,Rwe.isReadableStream)(e)||(0,Rwe.isBlob)(e))return(0,C5t.splitStream)(e);let t=new Pwe.PassThrough,r=new Pwe.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var sp=E((nKn,xm)=>{var OF=Object.defineProperty,w5t=Object.getOwnPropertyDescriptor,A5t=Object.getOwnPropertyNames,x5t=Object.prototype.hasOwnProperty,UJ=(e,t)=>OF(e,"name",{value:t,configurable:!0}),P5t=(e,t)=>{for(var r in t)OF(e,r,{get:t[r],enumerable:!0})},MJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A5t(t))!x5t.call(e,s)&&s!==r&&OF(e,s,{get:()=>t[s],enumerable:!(n=w5t(t,s))||n.enumerable});return e},Ch=(e,t,r)=>(MJ(e,t,"default"),r&&MJ(r,t,"default")),R5t=e=>MJ(OF({},"__esModule",{value:!0}),e),Am={};P5t(Am,{Uint8ArrayBlobAdapter:()=>LJ});xm.exports=R5t(Am);var Iwe=Mt(),Owe=kt();function Nwe(e,t="utf-8"){return t==="base64"?(0,Iwe.toBase64)(e):(0,Owe.toUtf8)(e)}UJ(Nwe,"transformToString");function Dwe(e,t){return t==="base64"?LJ.mutate((0,Iwe.fromBase64)(e)):LJ.mutate((0,Owe.fromUtf8)(e))}UJ(Dwe,"transformFromString");var LJ=class kwe extends Uint8Array{static{UJ(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Dwe(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,kwe.prototype),t}transformToString(t="utf-8"){return Nwe(this,t)}};Ch(Am,gJ(),xm.exports);Ch(Am,Rbe(),xm.exports);Ch(Am,kbe(),xm.exports);Ch(Am,Mbe(),xm.exports);Ch(Am,Ube(),xm.exports);Ch(Am,Awe(),xm.exports);Ch(Am,Twe(),xm.exports);Ch(Am,Eh(),xm.exports)});var NF,Ts,DF=_(()=>{NF=C(sp()),Ts=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return NF.Uint8ArrayBlobAdapter.mutate(e);if(!e)return NF.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return NF.Uint8ArrayBlobAdapter.mutate(await r)}});function ri(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var kF=_(()=>{});var mn,FJ=_(()=>{mn=e=>typeof e=="function"?e():e});var Mwe,Lwe,Uwe,BJ,Fwe=_(()=>{Mwe=C(Ge()),Lwe=C(Jn()),Uwe=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,Lwe.getSmithyContext)(r);try{let o=await e.protocol.deserializeResponse(i,{...e,...r},s);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(Mwe.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);o.$metadata={httpStatusCode:s.statusCode,requestId:BJ(/^x-[\w-]+-request-?id$/,l),extendedRequestId:BJ(/^x-[\w-]+-id-2$/,l),cfId:BJ(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},BJ=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Bwe,qwe,jwe=_(()=>{Bwe=C(Jn()),qwe=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,Bwe.getSmithyContext)(r),i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,o=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:i});return t({...n,request:o})}});function T5t(e){return{applyToStack:t=>{t.add(qwe(e),zwe),t.add(Uwe(e),$we),e.protocol.setSerdeContext(e)}}}var $we,zwe,Hwe=_(()=>{Fwe();jwe();$we={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zwe={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var ls,qJ=_(()=>{ls=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};ls.registries=new Map});var Is,ip=_(()=>{qJ();Is=class{static assign(t,r){let n=Object.assign(t,r);return ls.for(n.namespace).register(n.name,n),n}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var FS,I5t,jJ=_(()=>{ip();FS=class e extends Is{constructor(){super(...arguments),this.symbol=e.symbol}};FS.symbol=Symbol.for("@smithy/lis");I5t=(e,t,r,n)=>Is.assign(new FS,{name:t,namespace:e,traits:r,valueSchema:n})});var BS,O5t,$J=_(()=>{ip();BS=class e extends Is{constructor(){super(...arguments),this.symbol=e.symbol}};BS.symbol=Symbol.for("@smithy/map");O5t=(e,t,r,n,s)=>Is.assign(new BS,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var nT,N5t,Vwe=_(()=>{ip();nT=class e extends Is{constructor(){super(...arguments),this.symbol=e.symbol}};nT.symbol=Symbol.for("@smithy/ope");N5t=(e,t,r,n,s)=>Is.assign(new nT,{name:t,namespace:e,traits:r,input:n,output:s})});var op,D5t,MF=_(()=>{ip();op=class e extends Is{constructor(){super(...arguments),this.symbol=e.symbol}};op.symbol=Symbol.for("@smithy/str");D5t=(e,t,r,n,s)=>Is.assign(new op,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var sT,k5t,Gwe=_(()=>{ip();MF();sT=class e extends op{constructor(){super(...arguments),this.symbol=e.symbol}};sT.symbol=Symbol.for("@smithy/err");k5t=(e,t,r,n,s,i)=>Is.assign(new sT,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:i})});var j,zJ=_(()=>{j={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var qS,M5t,HJ=_(()=>{ip();qS=class e extends Is{constructor(){super(...arguments),this.symbol=e.symbol}};qS.symbol=Symbol.for("@smithy/sim");M5t=(e,t,r,n)=>Is.assign(new qS,{name:t,namespace:e,traits:n,schemaRef:r})});var B,Wwe=_(()=>{FJ();jJ();$J();ip();zJ();HJ();MF();B=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=mn(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(i instanceof e){Object.assign(this,i),this.memberTraits=Object.assign({},i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=mn(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof Is?this.schema.getName?.():void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){return Is[Symbol.hasInstance].bind(this)(t)}static of(t){if(t instanceof e)return t;if(Array.isArray(t)){let[r,n]=t;if(r instanceof e)return Object.assign(r.getMergedTraits(),e.translateTraits(n)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(t)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={},n=0;for(let s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(r[s]=1);return r}getSchema(){return this.schema instanceof e?(Object.assign(this,{schema:this.schema.getSchema()}),this.schema):this.schema instanceof qS?mn(this.schema.schemaRef):mn(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=j.LIST_MODIFIER&&t<j.MAP_MODIFIER:t instanceof FS}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=j.MAP_MODIFIER&&t<=255:t instanceof BS}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof op}isBlobSchema(){return this.getSchema()===j.BLOB||this.getSchema()===j.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=j.TIMESTAMP_DEFAULT&&t<=j.TIMESTAMP_EPOCH_SECONDS}isDocumentSchema(){return this.getSchema()===j.DOCUMENT}isStringSchema(){return this.getSchema()===j.STRING}isBooleanSchema(){return this.getSchema()===j.BOOLEAN}isNumericSchema(){return this.getSchema()===j.NUMERIC}isBigIntegerSchema(){return this.getSchema()===j.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===j.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===j.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return this.memberFrom([j.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?this.memberFrom([63&t,0],"key"):this.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return this.memberFrom([63&t,0],"value");if(this.isListSchema())return this.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`may not getValueSchema() on structure ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return this.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return this.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return this.memberFrom([j.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}hasMemberSchema(t){return this.isStructSchema()?this.getSchema().memberNames.includes(t):!1}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!r.memberNames.includes(t))throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no member=${t}.`);let n=r.memberNames.indexOf(t),s=r.memberList[n];return this.memberFrom(Array.isArray(s)?s:[s,0],t)}if(this.isDocumentSchema())return this.memberFrom([j.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no members.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],this.memberFrom([t.memberList[r],0],t.memberNames[r])]}memberFrom(t,r){return t instanceof e?Object.assign(t,{memberName:r,_isMemberSchema:!0}):new e(t,r)}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(j).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case j.MAP_MODIFIER:return`${s}Map`;case j.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};B.symbol=Symbol.for("@smithy/nor")});var Kwe={};ct(Kwe,{ErrorSchema:()=>sT,ListSchema:()=>FS,MapSchema:()=>BS,NormalizedSchema:()=>B,OperationSchema:()=>nT,SCHEMA:()=>j,Schema:()=>Is,SimpleSchema:()=>qS,StructureSchema:()=>op,TypeRegistry:()=>ls,deref:()=>mn,deserializerMiddlewareOption:()=>$we,error:()=>k5t,getSchemaSerdePlugin:()=>T5t,list:()=>I5t,map:()=>O5t,op:()=>N5t,serializerMiddlewareOption:()=>zwe,sim:()=>M5t,struct:()=>D5t});var ke=_(()=>{FJ();Hwe();jJ();$J();Vwe();Gwe();Wwe();ip();HJ();MF();zJ();qJ()});var L5t,Xwe=_(()=>{L5t=(e,t,r=n=>n)=>e});var U5t,F5t,iT,B5t,LF,oT,q5t,VJ,GJ,WJ,KJ,j5t,$5t,Jwe,z5t,H5t,FF,V5t,XJ,G5t,Tb,JJ,W5t,K5t,X5t,Qwe,Ywe,J5t,Q5t,jS,QJ,UF,aT,YJ=_(()=>{U5t=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},F5t=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&aT.warn(UF(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&aT.warn(UF(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},iT=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&aT.warn(UF(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},B5t=Math.ceil(34028234663852886e22),LF=e=>{let t=iT(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>B5t)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},oT=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},q5t=oT,VJ=e=>KJ(e,32),GJ=e=>KJ(e,16),WJ=e=>KJ(e,8),KJ=(e,t)=>{let r=oT(e);if(r!==void 0&&j5t(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},j5t=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},$5t=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Jwe=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},z5t=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return aT.warn(UF(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},H5t=e=>{if(e==null)return;let t=Jwe(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},FF=e=>iT(typeof e=="string"?Tb(e):e),V5t=FF,XJ=e=>LF(typeof e=="string"?Tb(e):e),G5t=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Tb=e=>{let t=e.match(G5t);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},JJ=e=>typeof e=="string"?Qwe(e):iT(e),W5t=JJ,K5t=JJ,X5t=e=>typeof e=="string"?Qwe(e):LF(e),Qwe=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Ywe=e=>oT(typeof e=="string"?Tb(e):e),J5t=Ywe,Q5t=e=>VJ(typeof e=="string"?Tb(e):e),jS=e=>GJ(typeof e=="string"?Tb(e):e),QJ=e=>WJ(typeof e=="string"?Tb(e):e),UF=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),aT={warn:console.warn}});function tl(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,d=o<10?`0${o}`:`${o}`,u=a<10?`0${a}`:`${a}`;return`${Y5t[n]}, ${c} ${eQ[r]} ${t} ${l}:${d}:${u} GMT`}var Y5t,eQ,Z5t,eXt,tXt,rl,rXt,nXt,sXt,nl,ja,cT,iXt,oXt,aXt,ZJ,cXt,lXt,dXt,Pm,uXt,mXt,Ib,Zwe=_(()=>{YJ();Y5t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],eQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Z5t=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),eXt=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Z5t.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,d=jS(Ib(n)),u=Pm(s,"month",1,12),m=Pm(i,"day",1,31);return cT(d,u,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},tXt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),rl=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=tXt.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,d]=t,u=jS(Ib(n)),m=Pm(s,"month",1,12),p=Pm(i,"day",1,31),g=cT(u,m,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&g.setTime(g.getTime()-mXt(d)),g},rXt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),nXt=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),sXt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),nl=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=rXt.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return cT(jS(Ib(i)),ZJ(s),Pm(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=nXt.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return aXt(cT(iXt(i),ZJ(s),Pm(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=sXt.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return cT(jS(Ib(l)),ZJ(n),Pm(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ja=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=FF(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},cT=(e,t,r,n)=>{let s=t-1;return lXt(e,s,r),new Date(Date.UTC(e,s,r,Pm(n.hours,"hour",0,23),Pm(n.minutes,"minute",0,59),Pm(n.seconds,"seconds",0,60),uXt(n.fractionalMilliseconds)))},iXt=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+jS(Ib(e));return r<t?r+100:r},oXt=50*365*24*60*60*1e3,aXt=e=>e.getTime()-new Date().getTime()>oXt?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,ZJ=e=>{let t=eQ.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},cXt=[31,28,31,30,31,30,31,31,30,31,30,31],lXt=(e,t,r)=>{let n=cXt[t];if(t===1&&dXt(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${eQ[t]} in ${e}: ${r}`)},dXt=e=>e%4===0&&(e%100!==0||e%400===0),Pm=(e,t,r,n)=>{let s=QJ(Ib(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},uXt=e=>e==null?0:XJ("0."+e)*1e3,mXt=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Ib=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function lT(){return BF>qF.length-16&&(e0e.default.randomFillSync(qF),BF=0),qF.slice(BF,BF+=16)}var e0e,qF,BF,tQ=_(()=>{e0e=C(require("crypto")),qF=new Uint8Array(256),BF=qF.length});var t0e,r0e=_(()=>{t0e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function fXt(e){return typeof e=="string"&&t0e.test(e)}var bh,dT=_(()=>{r0e();bh=fXt});function $S(e,t=0){return No[e[t+0]]+No[e[t+1]]+No[e[t+2]]+No[e[t+3]]+"-"+No[e[t+4]]+No[e[t+5]]+"-"+No[e[t+6]]+No[e[t+7]]+"-"+No[e[t+8]]+No[e[t+9]]+"-"+No[e[t+10]]+No[e[t+11]]+No[e[t+12]]+No[e[t+13]]+No[e[t+14]]+No[e[t+15]]}function pXt(e,t=0){let r=$S(e,t);if(!bh(r))throw TypeError("Stringified UUID is invalid");return r}var No,n0e,uT=_(()=>{dT();No=[];for(let e=0;e<256;++e)No.push((e+256).toString(16).slice(1));n0e=pXt});function gXt(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||s0e,o=e.clockseq!==void 0?e.clockseq:rQ;if(i==null||o==null){let m=e.random||(e.rng||lT)();i==null&&(i=s0e=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=rQ=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:sQ+1,l=a-nQ+(c-sQ)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>nQ)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");nQ=a,sQ=c,rQ=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=u&255,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let m=0;m<6;++m)s[n+m]=i[m];return t||$S(s)}var s0e,rQ,nQ,sQ,i0e,o0e=_(()=>{tQ();uT();nQ=0,sQ=0;i0e=gXt});function hXt(e){if(!bh(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var jF,iQ=_(()=>{dT();jF=hXt});function yXt(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function mT(e,t,r){function n(s,i,o,a){var c;if(typeof s=="string"&&(s=yXt(s)),typeof i=="string"&&(i=jF(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return $S(l)}try{n.name=e}catch{}return n.DNS=_Xt,n.URL=SXt,n}var _Xt,SXt,oQ=_(()=>{uT();iQ();_Xt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",SXt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function vXt(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),a0e.default.createHash("md5").update(e).digest()}var a0e,c0e,l0e=_(()=>{a0e=C(require("crypto"));c0e=vXt});var EXt,d0e,u0e=_(()=>{oQ();l0e();EXt=mT("v3",48,c0e),d0e=EXt});var m0e,aQ,f0e=_(()=>{m0e=C(require("crypto")),aQ={randomUUID:m0e.default.randomUUID}});function CXt(e,t,r){if(aQ.randomUUID&&!t&&!e)return aQ.randomUUID();e=e||{};let n=e.random||(e.rng||lT)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return $S(n)}var pr,p0e=_(()=>{f0e();tQ();uT();pr=CXt});function bXt(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),g0e.default.createHash("sha1").update(e).digest()}var g0e,h0e,y0e=_(()=>{g0e=C(require("crypto"));h0e=bXt});var wXt,_0e,S0e=_(()=>{oQ();y0e();wXt=mT("v5",80,h0e),_0e=wXt});var v0e,E0e=_(()=>{v0e="00000000-0000-0000-0000-000000000000"});function AXt(e){if(!bh(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var C0e,b0e=_(()=>{dT();C0e=AXt});var $F={};ct($F,{NIL:()=>v0e,parse:()=>jF,stringify:()=>n0e,v1:()=>i0e,v3:()=>d0e,v4:()=>pr,v5:()=>_0e,validate:()=>bh,version:()=>C0e});var fT=_(()=>{o0e();u0e();p0e();S0e();E0e();b0e();dT();uT();iQ()});var w0e=_(()=>{fT()});var zr,A0e=_(()=>{zr=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};zr.from=e=>e&&typeof e=="object"&&(e instanceof zr||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?zr(String(e)):zr(JSON.stringify(e));zr.fromObject=zr.from});function cQ(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var x0e=_(()=>{});function lQ(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var P0e=_(()=>{});var pT,R0e=_(()=>{pT=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function dQ(e){return new Ee(String(e),"bigDecimal")}var Ee,T0e=_(()=>{Ee=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let i=t.charCodeAt(s);if(!(s===0&&i===45)){if(i===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name?.endsWith("NumericValue")?!0:n)}}});var I0e={};ct(I0e,{LazyJsonString:()=>zr,NumericValue:()=>Ee,copyDocumentWithTransform:()=>L5t,dateToUtcString:()=>tl,expectBoolean:()=>F5t,expectByte:()=>WJ,expectFloat32:()=>LF,expectInt:()=>q5t,expectInt32:()=>VJ,expectLong:()=>oT,expectNonNull:()=>$5t,expectNumber:()=>iT,expectObject:()=>Jwe,expectShort:()=>GJ,expectString:()=>z5t,expectUnion:()=>H5t,generateIdempotencyToken:()=>pr,handleFloat:()=>W5t,limitedParseDouble:()=>JJ,limitedParseFloat:()=>K5t,limitedParseFloat32:()=>X5t,logger:()=>aT,nv:()=>dQ,parseBoolean:()=>U5t,parseEpochTimestamp:()=>ja,parseRfc3339DateTime:()=>eXt,parseRfc3339DateTimeWithOffset:()=>rl,parseRfc7231DateTime:()=>nl,quoteHeader:()=>cQ,splitEvery:()=>lQ,splitHeader:()=>pT,strictParseByte:()=>QJ,strictParseDouble:()=>FF,strictParseFloat:()=>V5t,strictParseFloat32:()=>XJ,strictParseInt:()=>J5t,strictParseInt32:()=>Q5t,strictParseLong:()=>Ywe,strictParseShort:()=>jS});var nr=_(()=>{Xwe();Zwe();w0e();A0e();YJ();x0e();P0e();R0e();T0e()});var O0e,uQ,N0e=_(()=>{ke();O0e=C(kt()),uQ=class{constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=o.getMemberSchemas(),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(r,n);let p=c.flush();yield{[d]:!0,headers:m,body:p}}for await(let m of t)yield m}};return s.serialize(u,m=>{if(m[d])return{headers:m.headers,body:m.body};let p=Object.keys(m).find(O=>O!=="__type")??"",{additionalHeaders:g,body:y,eventType:b,explicitPayloadContentType:w}=this.writeEventBody(p,o,m);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:w??l},...g},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async m=>{let p=Object.keys(m).find(g=>g!=="__type")??"";if(p==="initial-response"){let g=await this.deserializer.read(r,m[p].body);return delete g[i],{[c]:!0,...g}}else if(p in a){let g=a[p];return{[p]:await this.deserializer.read(g,m[p].body)}}else return{$unknown:m}}),d=l[Symbol.asyncIterator](),u=await d.next();if(u.done)return l;if(u.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,p]of Object.entries(u.value))n[m]=p}return{async*[Symbol.asyncIterator](){for(u?.value?.[c]||(yield u.value);;){let{done:m,value:p}=await d.next();if(m)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.hasMemberSchema(t),l={};if(c){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[p,g]of m.structIterator()){let{eventHeader:y,eventPayload:b}=g.getMergedTraits();if(b){o=p;break}else if(y){let w=n[t][p],A="binary";g.isNumericSchema()?(-2)**31<=w&&w<=2**31-1?A="integer":A="long":g.isTimestampSchema()?A="timestamp":g.isStringSchema()?A="string":g.isBooleanSchema()&&(A="boolean"),w!=null&&(l[p]={type:A,value:w},delete n[t][p])}}if(o!==null){let p=m.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][o])}else s.write(m,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,p]=n[t];i=m,s.write(j.DOCUMENT,p)}let d=s.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??O0e.fromUtf8)(d):d,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var D0e={};ct(D0e,{EventStreamSerde:()=>uQ});var k0e=_(()=>{N0e()});var zF,zS,HF=_(()=>{ke();zF=C(Ge()),zS=class{constructor(t){this.options=t}getRequestType(){return zF.HttpRequest}getResponseType(){return zF.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=B.of(r),i=B.of(r.input);if(s.getMergedTraits().endpoint){let o=s.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(k0e(),D0e));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var M0e,L0e,Os,U0e=_(()=>{ke();nr();M0e=C(Ge()),L0e=C(sp());DF();kF();HF();Os=class extends zS{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=B.of(t?.input),d=l.getSchema(),u=!1,m,p=new M0e.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let g=B.translateTraits(t.traits);if(g.http){p.method=g.http[0];let[y,b]=g.http[1].split("?");p.path=="/"?p.path=y:p.path+=y;let w=new URLSearchParams(b??"");Object.assign(o,Object.fromEntries(w))}}for(let[g,y]of l.structIterator()){let b=y.getMergedTraits()??{},w=s[g];if(w!=null)if(b.httpPayload)y.isStreaming()?y.isStructSchema()?s[g]&&(m=await this.serializeEventStream({eventStream:s[g],requestSchema:l})):m=w:(i.write(y,w),m=i.flush()),delete s[g];else if(b.httpLabel){i.write(y,w);let A=i.flush();p.path.includes(`{${g}+}`)?p.path=p.path.replace(`{${g}+}`,A.split("/").map(ri).join("/")):p.path.includes(`{${g}}`)&&(p.path=p.path.replace(`{${g}}`,ri(A))),delete s[g]}else if(b.httpHeader)i.write(y,w),a[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof b.httpPrefixHeaders=="string"){for(let[A,O]of Object.entries(w)){let T=b.httpPrefixHeaders+A;i.write([y.getValueSchema(),{httpHeader:T}],O),a[T.toLowerCase()]=i.flush()}delete s[g]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(y,w,o),delete s[g]):u=!0}return u&&s&&(i.write(d,s),m=i.flush()),p.headers=a,p.query=o,p.body=m,p}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let c=await Ts(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await Ts(n.body,r);if(c.byteLength>0){let l=await s.read(i,c);for(let d of a)o[d]=l[d]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=B.of(t),l=[];for(let[d,u]of c.structIterator()){let m=u.getMemberTraits();if(m.httpPayload){if(u.isStreaming())u.isStructSchema()?o[d]=await this.deserializeEventStream({response:n,responseSchema:c}):o[d]=(0,L0e.sdkStreamMixin)(n.body);else if(n.body){let g=await Ts(n.body,r);g.byteLength>0&&(o[d]=await a.read(u,g))}}else if(m.httpHeader){let p=String(m.httpHeader).toLowerCase(),g=n.headers[p];if(g!=null)if(u.isListSchema()){let y=u.getValueSchema();y.getMergedTraits().httpHeader=p;let b;y.isTimestampSchema()&&y.getSchema()===j.TIMESTAMP_DEFAULT?b=lQ(g,",",2):b=pT(g);let w=[];for(let A of b)w.push(await a.read(y,A.trim()));o[d]=w}else o[d]=await a.read(u,g)}else if(m.httpPrefixHeaders!==void 0){o[d]={};for(let[p,g]of Object.entries(n.headers))if(p.startsWith(m.httpPrefixHeaders)){let y=u.getValueSchema();y.getMergedTraits().httpHeader=p,o[d][p.slice(m.httpPrefixHeaders.length)]=await a.read(y,g)}}else m.httpResponseCode?o[d]=n.statusCode:l.push(d)}return l}}});var F0e,Qn,B0e=_(()=>{ke();F0e=C(Ge());DF();HF();Qn=class extends zS{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=B.of(t?.input),l=c.getSchema(),d,u=new F0e.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let m={...r};if(r){let p=c.getEventStreamMember();if(p){if(m[p]){let g={};for(let[y,b]of c.structIterator())y!==p&&m[y]&&(s.write(b,m[y]),g[y]=s.flush());d=await this.serializeEventStream({eventStream:m[p],requestSchema:c,initialRequest:g})}}else s.write(l,m),d=s.flush()}return u.headers=o,u.query=i,u.body=d,u.method="POST",u}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let c=await Ts(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await Ts(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var mQ,fQ=_(()=>{kF();mQ=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>ri(a)).join("/"):ri(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ap(e,t){return new VF(e,t)}var q0e,VF,j0e=_(()=>{q0e=C(Ge());fQ();VF=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new q0e.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=mQ(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Bt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===j.TIMESTAMP_DATE_TIME||e.getSchema()===j.TIMESTAMP_HTTP_DATE||e.getSchema()===j.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?j.TIMESTAMP_HTTP_DATE:i||r?j.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var GF=_(()=>{ke()});var pQ,$0e,$a,gQ=_(()=>{ke();nr();pQ=C(Mt()),$0e=C(kt());GF();$a=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=B.of(t);if(n.isListSchema())return pT(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??pQ.fromBase64)(r);if(n.isTimestampSchema())switch(Bt(n,this.settings)){case j.TIMESTAMP_DATE_TIME:return rl(r);case j.TIMESTAMP_HTTP_DATE:return nl(r);case j.TIMESTAMP_EPOCH_SECONDS:return ja(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=zr.from(i)),i}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Ee(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??$0e.toUtf8)((this.serdeContext?.base64Decoder??pQ.fromBase64)(t))}}});var WF,Ns,z0e=_(()=>{ke();WF=C(kt());gQ();Ns=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new $a(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=B.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??WF.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??WF.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var hQ,gT,yQ=_(()=>{ke();nr();hQ=C(Mt());GF();gT=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=B.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Bt(n,this.settings)){case j.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case j.TIMESTAMP_HTTP_DATE:this.stringBuffer=tl(r);break;case j.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??hQ.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:cQ(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=zr.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??hQ.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Ds,H0e=_(()=>{ke();yQ();Ds=class{constructor(t,r,n=new gT(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=B.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var V0e={};ct(V0e,{FromStringShapeDeserializer:()=>$a,HttpBindingProtocol:()=>Os,HttpInterceptingShapeDeserializer:()=>Ns,HttpInterceptingShapeSerializer:()=>Ds,HttpProtocol:()=>zS,RequestBuilder:()=>VF,RpcProtocol:()=>Qn,ToStringShapeSerializer:()=>gT,collectBody:()=>Ts,determineTimestampFormat:()=>Bt,extendedEncodeURIComponent:()=>ri,requestBuilder:()=>ap,resolvedPath:()=>mQ});var ft=_(()=>{DF();kF();U0e();HF();B0e();j0e();fQ();gQ();z0e();H0e();yQ();GF()});var G0e=_(()=>{ft()});function xXt(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var W0e=_(()=>{});var za,K0e=_(()=>{za=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var X0e,_Q,SQ,J0e=_(()=>{X0e=C(Ge()),_Q=C(Sh()),SQ=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=X0e.HttpRequest.clone(t);if(n.in===_Q.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===_Q.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var Q0e,vQ,Y0e=_(()=>{Q0e=C(Ge()),vQ=class{async sign(t,r,n){let s=Q0e.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var di,Z0e=_(()=>{di=class{async sign(t,r,n){return t}}});var eAe=_(()=>{J0e();Y0e();Z0e()});var tAe,PXt,Bu,Bl,qu,rAe=_(()=>{tAe=e=>t=>Bl(t)&&t.expiration.getTime()-Date.now()<e,PXt=3e5,Bu=tAe(3e5),Bl=e=>e.expiration!==void 0,qu=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var nAe=_(()=>{K0e();eAe();rAe()});var ui={};ct(ui,{DefaultIdentityProviderConfig:()=>za,EXPIRATION_MS:()=>PXt,HttpApiKeyAuthSigner:()=>SQ,HttpBearerAuthSigner:()=>vQ,NoAuthSigner:()=>di,createIsIdentityExpiredFunction:()=>tAe,createPaginator:()=>ube,doesIdentityRequireRefresh:()=>Bl,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Zc,getHttpAuthSchemePlugin:()=>s6t,getHttpSigningPlugin:()=>el,getSmithyContext:()=>jKt,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>GCe,httpAuthSchemeMiddleware:()=>ZR,httpAuthSchemeMiddlewareOptions:()=>rbe,httpSigningMiddleware:()=>cJ,httpSigningMiddlewareOptions:()=>abe,isIdentityExpired:()=>Bu,memoizeIdentityProvider:()=>qu,normalizeProvider:()=>fr,requestBuilder:()=>ap,setFeature:()=>xXt});var lt=_(()=>{FCe();sbe();lbe();dbe();mbe();G0e();W0e();nAe()});var ra=E((y5n,mAe)=>{var KF=Object.defineProperty,RXt=Object.getOwnPropertyDescriptor,TXt=Object.getOwnPropertyNames,IXt=Object.prototype.hasOwnProperty,Yr=(e,t)=>KF(e,"name",{value:t,configurable:!0}),OXt=(e,t)=>{for(var r in t)KF(e,r,{get:t[r],enumerable:!0})},NXt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of TXt(t))!IXt.call(e,s)&&s!==r&&KF(e,s,{get:()=>t[s],enumerable:!(n=RXt(t,s))||n.enumerable});return e},DXt=e=>NXt(KF({},"__esModule",{value:!0}),e),sAe={};OXt(sAe,{EndpointCache:()=>kXt,EndpointError:()=>_c,customEndpointFunctions:()=>CQ,isIpAddress:()=>iAe,isValidHostLabel:()=>wQ,resolveEndpoint:()=>ZXt});mAe.exports=DXt(sAe);var kXt=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Yr(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:o}=n.next();if(this.data.delete(i),o||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},MXt=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),iAe=Yr(e=>MXt.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),LXt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),wQ=Yr((e,t=!1)=>{if(!t)return LXt.test(e);let r=e.split(".");for(let n of r)if(!wQ(n))return!1;return!0},"isValidHostLabel"),CQ={},hT="endpoints";function cp(e){return typeof e!="object"||e==null?e:"ref"in e?`$${cp(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(cp).join(", ")})`:JSON.stringify(e,null,2)}Yr(cp,"toDebugString");var _c=class extends Error{static{Yr(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},UXt=Yr((e,t)=>e===t,"booleanEquals"),FXt=Yr(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new _c(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new _c(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),oAe=Yr((e,t)=>FXt(t).reduce((r,n)=>{if(typeof r!="object")throw new _c(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),BXt=Yr(e=>e!=null,"isSet"),qXt=Yr(e=>!e,"not"),bQ=Sh(),EQ={[bQ.EndpointURLScheme.HTTP]:80,[bQ.EndpointURLScheme.HTTPS]:443},jXt=Yr(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:p,protocol:g="",path:y="",query:b={}}=e,w=new URL(`${g}//${m}${p?`:${p}`:""}${y}`);return w.search=Object.entries(b).map(([A,O])=>`${A}=${O}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(bQ.EndpointURLScheme).includes(c))return null;let l=iAe(s),d=r.includes(`${n}:${EQ[c]}`)||typeof e=="string"&&e.includes(`${n}:${EQ[c]}`),u=`${n}${d?`:${EQ[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),$Xt=Yr((e,t)=>e===t,"stringEquals"),zXt=Yr((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),HXt=Yr(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),VXt={booleanEquals:UXt,getAttr:oAe,isSet:BXt,isValidHostLabel:wQ,not:qXt,parseURL:jXt,stringEquals:$Xt,substring:zXt,uriEncode:HXt},aAe=Yr((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(oAe(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},"evaluateTemplate"),GXt=Yr(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),XF=Yr((e,t,r)=>{if(typeof e=="string")return aAe(e,r);if(e.fn)return cAe(e,r);if(e.ref)return GXt(e,r);throw new _c(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),cAe=Yr(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:XF(i,"arg",r)),s=e.split(".");return s[0]in CQ&&s[1]!=null?CQ[s[0]][s[1]](...n):VXt[e](...n)},"callFunction"),WXt=Yr(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new _c(`'${e}' is already defined in Reference Record.`);let n=cAe(t,r);return r.logger?.debug?.(`${hT} evaluateCondition: ${cp(t)} = ${cp(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),AQ=Yr((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=WXt(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${hT} assign: ${i.name} := ${cp(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),KXt=Yr((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=XF(i,"Header value entry",t);if(typeof o!="string")throw new _c(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),lAe=Yr((e,t)=>{if(Array.isArray(e))return e.map(r=>lAe(r,t));switch(typeof e){case"string":return aAe(e,t);case"object":if(e===null)throw new _c(`Unexpected endpoint property: ${e}`);return dAe(e,t);case"boolean":return e;default:throw new _c(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),dAe=Yr((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:lAe(s,t)}),{}),"getEndpointProperties"),XXt=Yr((e,t)=>{let r=XF(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new _c(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),JXt=Yr((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=AQ(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${hT} Resolving endpoint from template: ${cp(n)}`),{...l!=null&&{headers:KXt(l,o)},...c!=null&&{properties:dAe(c,o)},url:XXt(a,o)}},"evaluateEndpointRule"),QXt=Yr((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=AQ(r,t);if(s)throw new _c(XF(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),YXt=Yr((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=AQ(r,t);if(s)return uAe(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),uAe=Yr((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=JXt(r,t);if(n)return n}else if(r.type==="error")QXt(r,t);else if(r.type==="tree"){let n=YXt(r,t);if(n)return n}else throw new _c(`Unknown endpoint rule: ${r}`);throw new _c("Rules evaluation failed")},"evaluateRules"),ZXt=Yr((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${hT} Initial EndpointParams: ${cp(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(o.length>0)for(let[l,d]of o)r[l]=r[l]??d;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new _c(`Missing required parameter: '${l}'`);let c=uAe(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${hT} Resolved endpoint: ${cp(c)}`),c},"resolveEndpoint")});var hAe=E((v5n,gAe)=>{var JF=Object.defineProperty,eJt=Object.getOwnPropertyDescriptor,tJt=Object.getOwnPropertyNames,rJt=Object.prototype.hasOwnProperty,nJt=(e,t)=>JF(e,"name",{value:t,configurable:!0}),sJt=(e,t)=>{for(var r in t)JF(e,r,{get:t[r],enumerable:!0})},iJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tJt(t))!rJt.call(e,s)&&s!==r&&JF(e,s,{get:()=>t[s],enumerable:!(n=eJt(t,s))||n.enumerable});return e},oJt=e=>iJt(JF({},"__esModule",{value:!0}),e),fAe={};sJt(fAe,{parseQueryString:()=>pAe});gAe.exports=oJt(fAe);function pAe(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}nJt(pAe,"parseQueryString")});var oo=E((E5n,SAe)=>{var QF=Object.defineProperty,aJt=Object.getOwnPropertyDescriptor,cJt=Object.getOwnPropertyNames,lJt=Object.prototype.hasOwnProperty,dJt=(e,t)=>QF(e,"name",{value:t,configurable:!0}),uJt=(e,t)=>{for(var r in t)QF(e,r,{get:t[r],enumerable:!0})},mJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cJt(t))!lJt.call(e,s)&&s!==r&&QF(e,s,{get:()=>t[s],enumerable:!(n=aJt(t,s))||n.enumerable});return e},fJt=e=>mJt(QF({},"__esModule",{value:!0}),e),yAe={};uJt(yAe,{parseUrl:()=>_Ae});SAe.exports=fJt(yAe);var pJt=hAe(),_Ae=dJt(e=>{if(typeof e=="string")return _Ae(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,pJt.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},"parseUrl")});var Ob=E((C5n,IAe)=>{"use strict";var YF=Object.defineProperty,gJt=Object.getOwnPropertyDescriptor,hJt=Object.getOwnPropertyNames,yJt=Object.prototype.hasOwnProperty,wh=(e,t)=>YF(e,"name",{value:t,configurable:!0}),_Jt=(e,t)=>{for(var r in t)YF(e,r,{get:t[r],enumerable:!0})},SJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hJt(t))!yJt.call(e,s)&&s!==r&&YF(e,s,{get:()=>t[s],enumerable:!(n=gJt(t,s))||n.enumerable});return e},vJt=e=>SJt(YF({},"__esModule",{value:!0}),e),EAe={};_Jt(EAe,{ConditionObject:()=>Mn.ConditionObject,DeprecatedObject:()=>Mn.DeprecatedObject,EndpointError:()=>Mn.EndpointError,EndpointObject:()=>Mn.EndpointObject,EndpointObjectHeaders:()=>Mn.EndpointObjectHeaders,EndpointObjectProperties:()=>Mn.EndpointObjectProperties,EndpointParams:()=>Mn.EndpointParams,EndpointResolverOptions:()=>Mn.EndpointResolverOptions,EndpointRuleObject:()=>Mn.EndpointRuleObject,ErrorRuleObject:()=>Mn.ErrorRuleObject,EvaluateOptions:()=>Mn.EvaluateOptions,Expression:()=>Mn.Expression,FunctionArgv:()=>Mn.FunctionArgv,FunctionObject:()=>Mn.FunctionObject,FunctionReturn:()=>Mn.FunctionReturn,ParameterObject:()=>Mn.ParameterObject,ReferenceObject:()=>Mn.ReferenceObject,ReferenceRecord:()=>Mn.ReferenceRecord,RuleSetObject:()=>Mn.RuleSetObject,RuleSetRules:()=>Mn.RuleSetRules,TreeRuleObject:()=>Mn.TreeRuleObject,awsEndpointFunctions:()=>RAe,getUserAgentPrefix:()=>wJt,isIpAddress:()=>Mn.isIpAddress,partition:()=>xAe,resolveDefaultAwsRegionalEndpointsConfig:()=>xJt,resolveEndpoint:()=>Mn.resolveEndpoint,setPartitionInfo:()=>PAe,toEndpointV1:()=>TAe,useDefaultPartitionInfo:()=>bJt});IAe.exports=vJt(EAe);var Mn=ra(),CAe=wh((e,t=!1)=>{if(t){for(let r of e.split("."))if(!CAe(r))return!1;return!0}return!(!(0,Mn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Mn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),vAe=":",EJt="/",CJt=wh(e=>{let t=e.split(vAe);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(vAe)==="")return null;let c=a.map(l=>l.split(EJt)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),bAe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},wAe=bAe,AAe="",xAe=wh(e=>{let{partitions:t}=wAe;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),PAe=wh((e,t="")=>{wAe=e,AAe=t},"setPartitionInfo"),bJt=wh(()=>{PAe(bAe,"")},"useDefaultPartitionInfo"),wJt=wh(()=>AAe,"getUserAgentPrefix"),RAe={isVirtualHostableS3Bucket:CAe,parseArn:CJt,partition:xAe};Mn.customEndpointFunctions.aws=RAe;var AJt=oo(),xJt=wh(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>TAe(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),TAe=wh(e=>(0,AJt.parseUrl)(e.url),"toEndpointV1")});var ZF,Nb,OAe=_(()=>{ZF={warningEmitted:!1},Nb=e=>{e&&!ZF.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(ZF.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Ah(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var NAe=_(()=>{});function DAe(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var kAe=_(()=>{});function MAe(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var LAe=_(()=>{});var xh={};ct(xh,{emitWarningIfUnsupportedVersion:()=>Nb,setCredentialFeature:()=>Ah,setFeature:()=>DAe,setTokenFeature:()=>MAe,state:()=>ZF});var ju=_(()=>{OAe();NAe();kAe();LAe()});var UAe,xQ,FAe=_(()=>{UAe=C(Ge()),xQ=e=>UAe.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Db,PQ=_(()=>{Db=e=>new Date(Date.now()+e)});var BAe,qAe=_(()=>{PQ();BAe=(e,t)=>Math.abs(Db(t).getTime()-e)>=3e5});var RQ,jAe=_(()=>{qAe();RQ=(e,t)=>{let r=Date.parse(e);return BAe(r,t)?r-Date.now():t}});var TQ=_(()=>{FAe();PQ();jAe()});var $Ae,yT,kb,Sc,IQ,OQ=_(()=>{$Ae=C(Ge());TQ();yT=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},kb=async e=>{let t=yT("context",e.context),r=yT("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await yT("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Sc=class{async sign(t,r,n){if(!$Ae.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await kb(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:Db(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??xQ(r.$response);if(n){let s=yT("config",t.config),i=s.systemClockOffset;s.systemClockOffset=RQ(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=xQ(t);if(n){let s=yT("config",r.config);s.systemClockOffset=RQ(n,s.systemClockOffset)}}},IQ=Sc});var zAe,_T,HAe=_(()=>{zAe=C(Ge());TQ();OQ();_T=class extends Sc{async sign(t,r,n){if(!zAe.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await kb(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:Db(s.systemClockOffset),signingRegion:d,signingService:c})}}});var NQ,VAe=_(()=>{NQ=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var eB,DQ=_(()=>{eB=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var GAe,WAe,Mb,KAe=_(()=>{VAe();DQ();GAe="AWS_AUTH_SCHEME_PREFERENCE",WAe="auth_scheme_preference",Mb={environmentVariableSelector:(e,t)=>{if(t?.signingName&&eB(t.signingName)in e)return["httpBearerAuth"];if(GAe in e)return NQ(e[GAe])},configFileSelector:e=>{if(WAe in e)return NQ(e[WAe])},default:[]}});var qt=E((Q5n,ZAe)=>{var tB=Object.defineProperty,PJt=Object.getOwnPropertyDescriptor,RJt=Object.getOwnPropertyNames,TJt=Object.prototype.hasOwnProperty,HS=(e,t)=>tB(e,"name",{value:t,configurable:!0}),IJt=(e,t)=>{for(var r in t)tB(e,r,{get:t[r],enumerable:!0})},OJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RJt(t))!TJt.call(e,s)&&s!==r&&tB(e,s,{get:()=>t[s],enumerable:!(n=PJt(t,s))||n.enumerable});return e},NJt=e=>OJt(tB({},"__esModule",{value:!0}),e),XAe={};IJt(XAe,{CredentialsProviderError:()=>DJt,ProviderError:()=>rB,TokenProviderError:()=>kJt,chain:()=>MJt,fromStatic:()=>LJt,memoize:()=>UJt});ZAe.exports=NJt(XAe);var rB=class JAe extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,JAe.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{HS(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},DJt=class QAe extends rB{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,QAe.prototype)}static{HS(this,"CredentialsProviderError")}},kJt=class YAe extends rB{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,YAe.prototype)}static{HS(this,"TokenProviderError")}},MJt=HS((...e)=>async()=>{if(e.length===0)throw new rB("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),LJt=HS(e=>()=>Promise.resolve(e),"fromStatic"),UJt=HS((e,t,r)=>{let n,s,i,o=!1,a=HS(async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var kQ,exe,txe,rxe=_(()=>{lt();kQ=C(qt()),exe=e=>(e.sigv4aSigningRegionSet=fr(e.sigv4aSigningRegionSet),e),txe={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new kQ.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new kQ.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Rh=E((eXn,Ixe)=>{var lB=Object.defineProperty,FJt=Object.getOwnPropertyDescriptor,BJt=Object.getOwnPropertyNames,qJt=Object.prototype.hasOwnProperty,Do=(e,t)=>lB(e,"name",{value:t,configurable:!0}),jJt=(e,t)=>{for(var r in t)lB(e,r,{get:t[r],enumerable:!0})},$Jt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BJt(t))!qJt.call(e,s)&&s!==r&&lB(e,s,{get:()=>t[s],enumerable:!(n=FJt(t,s))||n.enumerable});return e},zJt=e=>$Jt(lB({},"__esModule",{value:!0}),e),axe={};jJt(axe,{ALGORITHM_IDENTIFIER:()=>nB,ALGORITHM_IDENTIFIER_V4A:()=>WJt,ALGORITHM_QUERY_PARAM:()=>cxe,ALWAYS_UNSIGNABLE_HEADERS:()=>hxe,AMZ_DATE_HEADER:()=>$Q,AMZ_DATE_QUERY_PARAM:()=>FQ,AUTH_HEADER:()=>jQ,CREDENTIAL_QUERY_PARAM:()=>lxe,DATE_HEADER:()=>mxe,EVENT_ALGORITHM_IDENTIFIER:()=>Sxe,EXPIRES_QUERY_PARAM:()=>uxe,GENERATED_HEADERS:()=>fxe,HOST_HEADER:()=>VJt,KEY_TYPE_IDENTIFIER:()=>zQ,MAX_CACHE_SIZE:()=>Exe,MAX_PRESIGNED_TTL:()=>Cxe,PROXY_HEADER_PATTERN:()=>yxe,REGION_SET_PARAM:()=>HJt,SEC_HEADER_PATTERN:()=>_xe,SHA256_HEADER:()=>cB,SIGNATURE_HEADER:()=>pxe,SIGNATURE_QUERY_PARAM:()=>BQ,SIGNED_HEADERS_QUERY_PARAM:()=>dxe,SignatureV4:()=>sQt,SignatureV4Base:()=>Txe,TOKEN_HEADER:()=>gxe,TOKEN_QUERY_PARAM:()=>qQ,UNSIGNABLE_PATTERNS:()=>GJt,UNSIGNED_PAYLOAD:()=>vxe,clearCredentialCache:()=>XJt,createScope:()=>iB,getCanonicalHeaders:()=>MQ,getCanonicalQuery:()=>Rxe,getPayloadHash:()=>oB,getSigningKey:()=>bxe,hasHeader:()=>Axe,moveHeadersToQuery:()=>Pxe,prepareRequest:()=>UQ,signatureV4aContainer:()=>iQt});Ixe.exports=zJt(axe);var nxe=kt(),cxe="X-Amz-Algorithm",lxe="X-Amz-Credential",FQ="X-Amz-Date",dxe="X-Amz-SignedHeaders",uxe="X-Amz-Expires",BQ="X-Amz-Signature",qQ="X-Amz-Security-Token",HJt="X-Amz-Region-Set",jQ="authorization",$Q=FQ.toLowerCase(),mxe="date",fxe=[jQ,$Q,mxe],pxe=BQ.toLowerCase(),cB="x-amz-content-sha256",gxe=qQ.toLowerCase(),VJt="host",hxe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},yxe=/^proxy-/,_xe=/^sec-/,GJt=[/^proxy-/i,/^sec-/i],nB="AWS4-HMAC-SHA256",WJt="AWS4-ECDSA-P256-SHA256",Sxe="AWS4-HMAC-SHA256-PAYLOAD",vxe="UNSIGNED-PAYLOAD",Exe=50,zQ="aws4_request",Cxe=60*60*24*7,Ph=RF(),KJt=kt(),Lb={},sB=[],iB=Do((e,t,r)=>`${e}/${t}/${r}/${zQ}`,"createScope"),bxe=Do(async(e,t,r,n,s)=>{let i=await sxe(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,Ph.toHex)(i)}:${t.sessionToken}`;if(o in Lb)return Lb[o];for(sB.push(o);sB.length>Exe;)delete Lb[sB.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,zQ])a=await sxe(e,a,c);return Lb[o]=a},"getSigningKey"),XJt=Do(()=>{sB.length=0,Object.keys(Lb).forEach(e=>{delete Lb[e]})},"clearCredentialCache"),sxe=Do((e,t,r)=>{let n=new e(t);return n.update((0,KJt.toUint8Array)(r)),n.digest()},"hmac"),MQ=Do(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in hxe||t?.has(i)||yxe.test(i)||_xe.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),JJt=tT(),QJt=kt(),oB=Do(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===cB)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,JJt.isArrayBuffer)(t)){let n=new r;return n.update((0,QJt.toUint8Array)(t)),(0,Ph.toHex)(await n.digest())}return vxe},"getPayloadHash"),ixe=kt(),YJt=class{static{Do(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let i=(0,ixe.fromUtf8)(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=(0,ixe.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(eQt.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!ZJt.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,Ph.fromHex)(e.value.replace(/\-/g,"")),1),d}}},ZJt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,eQt=class wxe{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Do(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&LQ(r),new wxe(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&LQ(t),parseInt((0,Ph.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function LQ(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Do(LQ,"negate");var Axe=Do((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),xxe=Ge(),Pxe=Do((e,t={})=>{let{headers:r,query:n={}}=xxe.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),UQ=Do(e=>{e=xxe.HttpRequest.clone(e);for(let t of Object.keys(e.headers))fxe.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),oxe=Jn(),tQt=kt(),aB=wJ(),Rxe=Do(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===pxe)continue;let s=(0,aB.escapeUri)(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${(0,aB.escapeUri)(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${(0,aB.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),rQt=Do(e=>nQt(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),nQt=Do(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Txe=class{static{Do(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,oxe.normalizeProvider)(r),this.credentialProvider=(0,oxe.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Rxe(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,tQt.toUint8Array)(r));let i=await s.digest();return`${n}
${e}
${t}
${(0,Ph.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,aB.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=rQt(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},sQt=class extends Txe{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i}),this.headerFormatter=new YJt}static{Do(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:m,shortDate:p}=this.formatDate(r);if(n>Cxe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=iB(p,u,l??this.service),y=Pxe(UQ(e),{unhoistableHeaders:i,hoistableHeaders:a});d.sessionToken&&(y.query[qQ]=d.sessionToken),y.query[cxe]=nB,y.query[lxe]=`${d.accessKeyId}/${g}`,y.query[FQ]=m,y.query[uxe]=n.toString(10);let b=MQ(y,s,o);return y.query[dxe]=this.getCanonicalHeaderList(b),y.query[BQ]=await this.getSignature(m,g,this.getSigningKey(d,u,p,l),this.createCanonicalRequest(y,b,await oB(e,this.sha256))),y}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:i}){let o=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=iB(a,o,i??this.service),d=await oB({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let m=(0,Ph.toHex)(await u.digest()),p=[Sxe,c,l,n,m,d].join(`
`);return this.signString(p,{signingDate:r,signingRegion:o,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=r??await this.regionProvider(),{shortDate:o}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,i,o,n));return a.update((0,nxe.toUint8Array)(e)),(0,Ph.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=s??await this.regionProvider(),c=UQ(e),{longDate:l,shortDate:d}=this.formatDate(t),u=iB(d,a,i??this.service);c.headers[$Q]=l,o.sessionToken&&(c.headers[gxe]=o.sessionToken);let m=await oB(c,this.sha256);!Axe(cB,c.headers)&&this.applyChecksum&&(c.headers[cB]=m);let p=MQ(c,n,r),g=await this.getSignature(l,u,this.getSigningKey(o,a,d,i),this.createCanonicalRequest(c,p,m));return c.headers[jQ]=`${nB} Credential=${o.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${g}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,nB),i=new this.sha256(await r);return i.update((0,nxe.toUint8Array)(s)),(0,Ph.toHex)(await i.digest())}getSigningKey(e,t,r,n){return bxe(this.sha256,e,r,t,n||this.service)}},iQt={SignatureV4a:null}});function oQt(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=qu(t,Bu,Bl):r?n=fr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function aQt(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var HQ,VS,Oxe,Nxe=_(()=>{ju();lt();HQ=C(Rh()),VS=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=oQt(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=aQt(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>Ah(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=fr(e.signer):e.regionInfoProvider?a=()=>fr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||HQ.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fr(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||HQ.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},Oxe=VS});var Dxe=_(()=>{OQ();HAe();KAe();rxe();Nxe()});var kxe={};ct(kxe,{AWSSDKSigV4Signer:()=>IQ,AwsSdkSigV4ASigner:()=>_T,AwsSdkSigV4Signer:()=>Sc,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Mb,NODE_SIGV4A_CONFIG_OPTIONS:()=>txe,getBearerTokenEnvKey:()=>eB,resolveAWSSDKSigV4Config:()=>Oxe,resolveAwsSdkSigV4AConfig:()=>exe,resolveAwsSdkSigV4Config:()=>VS,validateSigningProperties:()=>kb});var VQ=_(()=>{Dxe();DQ()});function Th(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function dB(e){return e[GQ]=!0,e}var GQ,uB=_(()=>{GQ=Symbol("@smithy/core/cbor::tagSymbol")});function Uxe(e){fn=e,dp=new DataView(fn.buffer,fn.byteOffset,fn.byteLength)}function Rm(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(fn[e]&224)>>5,n=fn[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=Bxe[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let c=e+1;o===1?s=fn[c]:o===2?s=dp.getUint16(c):o===4?s=dp.getUint32(c):s=dp.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return sr=i,WQ(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,sr=i,WQ(o)}else if(n===2||n===3){let o=CT(e+i,t),a=BigInt(0),c=e+i+sr;for(let l=c;l<c+o;++l)a=a<<BigInt(8)|BigInt(fn[l]);return sr=i+sr+o,n===3?-a-BigInt(1):a}else if(n===4){let o=Rm(e+i,t),[a,c]=o,l=c<0?-1:1,d="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),u,m=c<0?"-":"";return u=a===0?d:d.slice(0,d.length+a)+"."+d.slice(a),u=u.replace(/^0+/g,""),u===""&&(u="0"),u[0]==="."&&(u="0"+u),u=m+u,sr=i+sr,dQ(u)}else{let o=Rm(e+i,t);return sr=i+sr,dB({tag:WQ(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return pQt(e,t);case 5:return SQt(e,t);case 4:return yQt(e,t);case 2:return gQt(e,t)}else switch(r){case 3:return fQt(e,t);case 5:return _Qt(e,t);case 4:return hQt(e,t);case 2:return ZQ(e,t)}default:return vQt(e,t)}}function Fxe(e,t,r){return dQt&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):Mxe?Mxe.decode(e.subarray(t,r)):(0,Lxe.toUtf8)(e.subarray(t,r))}function uQt(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function mQt(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function CT(e,t){let r=fn[e]&31;if(r<24)return sr=1,r;if(r===24||r===25||r===26||r===27){let n=Bxe[r];if(sr=n+1,t-e<sr)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?fn[s]:n===2?dp.getUint16(s):n===4?dp.getUint32(s):uQt(dp.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function fQt(e,t){let r=CT(e,t),n=sr;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=Fxe(fn,e,e+r);return sr=n+r,s}function pQt(e,t){e+=1;let r=[];for(let n=e;e<t;){if(fn[e]===255){let c=Th(r.length);return c.set(r,0),sr=e-n+2,Fxe(c,0,c.length)}let s=(fn[e]&224)>>5,i=fn[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=ZQ(e,t);e+=sr;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function ZQ(e,t){let r=CT(e,t),n=sr;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=fn.subarray(e,e+r);return sr=n+r,s}function gQt(e,t){e+=1;let r=[];for(let n=e;e<t;){if(fn[e]===255){let c=Th(r.length);return c.set(r,0),sr=e-n+2,c}let s=(fn[e]&224)>>5,i=fn[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=ZQ(e,t);e+=sr;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function hQt(e,t){let r=CT(e,t),n=sr;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=Rm(e,t),c=sr;i[o]=a,e+=c}return sr=n+(e-s),i}function yQt(e,t){e+=1;let r=[];for(let n=e;e<t;){if(fn[e]===255)return sr=e-n+2,r;let s=Rm(e,t);e+=sr,r.push(s)}throw new Error("expected break marker.")}function _Qt(e,t){let r=CT(e,t),n=sr;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(fn[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Rm(e,t);e+=sr;let l=Rm(e,t);e+=sr,i[c]=l}return sr=n+(e-s),i}function SQt(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(fn[e]===255)return sr=e-r+2,n;let s=(fn[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=Rm(e,t);e+=sr;let o=Rm(e,t);e+=sr,n[i]=o}throw new Error("expected break marker.")}function vQt(e,t){let r=fn[e]&31;switch(r){case 21:case 20:return sr=1,r===21;case 22:return sr=1,null;case 23:return sr=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return sr=3,mQt(fn[e+1],fn[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return sr=5,dp.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return sr=9,dp.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function WQ(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var Lxe,lQt,dQt,fn,dp,Mxe,sr,Bxe,qxe=_(()=>{nr();Lxe=C(kt());uB();lQt=typeof TextDecoder<"u",dQt=typeof Buffer<"u",fn=Th(0),dp=new DataView(fn.buffer,fn.byteOffset,fn.byteLength),Mxe=lQt?new TextDecoder:null,sr=0;Bxe={[24]:1,[25]:2,[26]:4,[27]:8}});function tY(e){pt.byteLength-Qe<e&&(Qe<16e6?fB(Math.max(pt.byteLength*4,pt.byteLength+e)):fB(pt.byteLength+e+16e6))}function rY(){let e=Th(Qe);return e.set(pt.subarray(0,Qe),0),Qe=0,e}function fB(e){let t=pt;pt=Th(e),t&&(t.copy?t.copy(pt,0,0,t.byteLength):pt.set(t,0)),fp=new DataView(pt.buffer,pt.byteOffset,pt.byteLength)}function mp(e,t){t<24?pt[Qe++]=e<<5|t:t<256?(pt[Qe++]=e<<5|24,pt[Qe++]=t):t<65536?(pt[Qe++]=e<<5|25,fp.setUint16(Qe,t),Qe+=2):t<2**32?(pt[Qe++]=e<<5|26,fp.setUint32(Qe,t),Qe+=4):(pt[Qe++]=e<<5|27,fp.setBigUint64(Qe,typeof t=="bigint"?t:BigInt(t)),Qe+=8)}function zxe(e){let t=[e];for(;t.length;){let r=t.pop();if(tY(typeof r=="string"?r.length*4:64),typeof r=="string"){if(jxe)mp(3,Buffer.byteLength(r)),Qe+=pt.write(r,Qe);else{let n=(0,$xe.fromUtf8)(r);mp(3,n.byteLength),pt.set(n,Qe),Qe+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?pt[Qe++]=s<<5|i:i<256?(pt[Qe++]=s<<5|24,pt[Qe++]=i):i<65536?(pt[Qe++]=s<<5|25,pt[Qe++]=i>>8,pt[Qe++]=i):i<4294967296?(pt[Qe++]=s<<5|26,fp.setUint32(Qe,i),Qe+=4):(pt[Qe++]=s<<5|27,fp.setBigUint64(Qe,BigInt(i)),Qe+=8);continue}pt[Qe++]=251,fp.setFloat64(Qe,r),Qe+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),o=Number(i);if(o<24)pt[Qe++]=s<<5|o;else if(o<256)pt[Qe++]=s<<5|24,pt[Qe++]=o;else if(o<65536)pt[Qe++]=s<<5|25,pt[Qe++]=o>>8,pt[Qe++]=o&255;else if(o<4294967296)pt[Qe++]=s<<5|26,fp.setUint32(Qe,o),Qe+=4;else if(i<BigInt("18446744073709551616"))pt[Qe++]=s<<5|27,fp.setBigUint64(Qe,i),Qe+=8;else{let a=i.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=i,d=0;for(;c.byteLength-++d>=0;)c[c.byteLength-d]=Number(l&BigInt(255)),l>>=BigInt(8);tY(c.byteLength*2),pt[Qe++]=n?194:195,jxe?mp(2,Buffer.byteLength(c)):mp(2,c.byteLength),pt.set(c,Qe),Qe+=c.byteLength}continue}else if(r===null){pt[Qe++]=246;continue}else if(typeof r=="boolean"){pt[Qe++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);mp(4,r.length);continue}else if(typeof r.byteLength=="number"){tY(r.length*2),mp(2,r.length),pt.set(r,Qe),Qe+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Ee){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,o=BigInt(r.string.replace(".",""));pt[Qe++]=196,t.push(o),t.push(i),mp(4,2);continue}if(r[GQ])if("tag"in r&&"value"in r){t.push(r.value),mp(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];t.push(r[i]),t.push(i)}mp(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var $xe,jxe,EQt,pt,fp,Qe,Hxe=_(()=>{nr();$xe=C(kt());uB();jxe=typeof Buffer<"u",EQt=2048,pt=Th(EQt),fp=new DataView(pt.buffer,pt.byteOffset,pt.byteLength),Qe=0});var nY,Vxe=_(()=>{qxe();Hxe();nY={deserialize(e){return Uxe(e),Rm(0,e.length)},serialize(e){try{return zxe(e),rY()}catch(t){throw rY(),t}},resizeEncodingBuffer(e){fB(e)}}});var Fb=E((AXn,Kxe)=>{var pB=Object.defineProperty,CQt=Object.getOwnPropertyDescriptor,bQt=Object.getOwnPropertyNames,wQt=Object.prototype.hasOwnProperty,AQt=(e,t)=>pB(e,"name",{value:t,configurable:!0}),xQt=(e,t)=>{for(var r in t)pB(e,r,{get:t[r],enumerable:!0})},PQt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bQt(t))!wQt.call(e,s)&&s!==r&&pB(e,s,{get:()=>t[s],enumerable:!(n=CQt(t,s))||n.enumerable});return e},RQt=e=>PQt(pB({},"__esModule",{value:!0}),e),Wxe={};xQt(Wxe,{calculateBodyLength:()=>TQt});Kxe.exports=RQt(Wxe);var Gxe=typeof TextEncoder=="function"?new TextEncoder:null,TQt=AQt(e=>{if(typeof e=="string"){if(Gxe)return Gxe.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var gB,ql,hB=_(()=>{uB();gB=e=>dB({tag:1,value:e.getTime()/1e3}),ql=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var oY,yB,sY,iY,aY=_(()=>{ke();nr();oY=C(Mt());Vxe();hB();yB=class{createSerializer(){let t=new sY;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new iY;return t.setSerdeContext(this.serdeContext),t}setSerdeContext(t){this.serdeContext=t}},sY=class{setSerdeContext(t){this.serdeContext=t}write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=B.of(t);if(r==null)return n.isIdempotencyToken()?pr():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??oY.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?gB(new Date(Number(r)/1e3|0)):gB(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let o=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of s){let d=this.serialize(n.getValueSchema(),l);(d!=null||o)&&(a[c++]=d)}return a}if(s instanceof Date)return gB(s);let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||o)&&(i[a]=c)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator()){let c=this.serialize(a,s[o]);c!=null&&(i[o]=c)}else if(n.isDocumentSchema())for(let o of Object.keys(s))i[o]=this.serialize(n.getValueSchema(),s[o]);return i}return r}flush(){let t=nY.serialize(this.value);return this.value=void 0,t}},iY=class{setSerdeContext(t){this.serdeContext=t}read(t,r){let n=nY.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=B.of(t);if(n.isTimestampSchema()&&typeof r=="number")return ja(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??oY.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(o,c);(l!=null||a)&&i.push(l)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(o,r[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema())for(let[i,o]of n.structIterator())s[i]=this.readValue(o,r[i]);return s}else return r}}});var Xxe,jl,Jxe=_(()=>{ft();ke();Xxe=C(Jn());aY();hB();jl=class extends Qn{constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new yB,this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),mn(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,Xxe.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=ql(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let c={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},l=ls.for(a),d;try{d=l.getSchema(o)}catch{s.Message&&(s.message=s.Message);let b=ls.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w({name:o}),c,s)}throw Object.assign(new Error(o),c,s)}let u=B.of(d),m=s.message??s.Message??"Unknown",p=new d.ctor(m),g={};for(let[y,b]of u.structIterator())g[y]=this.deserializer.readValue(b,s[y]);throw Object.assign(p,c,{$fault:u.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/cbor"}}});var Bb=_(()=>{hB();Jxe();aY()});var Qxe,$l,qb=_(()=>{ke();Qxe=C(Fb()),$l=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??Qxe.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=ls.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let m=ls.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(m){let p=m.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var cY,Yxe=_(()=>{Bb();ke();qb();cY=class extends jl{awsQueryCompatible;mixin=new $l;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ql(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator())m[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var IQt,OQt,NQt,Zxe=_(()=>{IQt=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},OQt=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},NQt=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var na,Dh=_(()=>{na=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function ePe(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ee(n,"bigDecimal"):BigInt(n)}return t}var tPe=_(()=>{nr()});var oPe=E((YXn,iPe)=>{var _B=Object.defineProperty,DQt=Object.getOwnPropertyDescriptor,kQt=Object.getOwnPropertyNames,MQt=Object.prototype.hasOwnProperty,mi=(e,t)=>_B(e,"name",{value:t,configurable:!0}),LQt=(e,t)=>{for(var r in t)_B(e,r,{get:t[r],enumerable:!0})},UQt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kQt(t))!MQt.call(e,s)&&s!==r&&_B(e,s,{get:()=>t[s],enumerable:!(n=DQt(t,s))||n.enumerable});return e},FQt=e=>UQt(_B({},"__esModule",{value:!0}),e),sPe={};LQt(sPe,{constructStack:()=>lY});iPe.exports=FQt(sPe);var GS=mi((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),kh=mi((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),lY=mi(()=>{let e=[],t=[],r=!1,n=new Set,s=mi(u=>u.sort((m,p)=>rPe[p.step]-rPe[m.step]||nPe[p.priority||"normal"]-nPe[m.priority||"normal"]),"sort"),i=mi(u=>{let m=!1,p=mi(g=>{let y=GS(g.name,g.aliases);if(y.includes(u)){m=!0;for(let b of y)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByName"),o=mi(u=>{let m=!1,p=mi(g=>{if(g.middleware===u){m=!0;for(let y of GS(g.name,g.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByReference"),a=mi(u=>(e.forEach(m=>{u.add(m.middleware,{...m})}),t.forEach(m=>{u.addRelativeTo(m.middleware,{...m})}),u.identifyOnResolve?.(d.identifyOnResolve()),u),"cloneTo"),c=mi(u=>{let m=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m},"expandRelativeMiddlewareList"),l=mi((u=!1)=>{let m=[],p=[],g={};return e.forEach(b=>{let w={...b,before:[],after:[]};for(let A of GS(w.name,w.aliases))g[A]=w;m.push(w)}),t.forEach(b=>{let w={...b,before:[],after:[]};for(let A of GS(w.name,w.aliases))g[A]=w;p.push(w)}),p.forEach(b=>{if(b.toMiddleware){let w=g[b.toMiddleware];if(w===void 0){if(u)return;throw new Error(`${b.toMiddleware} is not found when adding ${kh(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&w.after.push(b),b.relation==="before"&&w.before.push(b)}}),s(m).map(c).reduce((b,w)=>(b.push(...w),b),[])},"getMiddlewareList"),d={add:mi((u,m={})=>{let{name:p,override:g,aliases:y}=m,b={step:"initialize",priority:"normal",middleware:u,...m},w=GS(p,y);if(w.length>0){if(w.some(A=>n.has(A))){if(!g)throw new Error(`Duplicate middleware name '${kh(p,y)}'`);for(let A of w){let O=e.findIndex(k=>k.name===A||k.aliases?.some(z=>z===A));if(O===-1)continue;let T=e[O];if(T.step!==b.step||b.priority!==T.priority)throw new Error(`"${kh(T.name,T.aliases)}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by "${kh(p,y)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice(O,1)}}for(let A of w)n.add(A)}e.push(b)},"add"),addRelativeTo:mi((u,m)=>{let{name:p,override:g,aliases:y}=m,b={middleware:u,...m},w=GS(p,y);if(w.length>0){if(w.some(A=>n.has(A))){if(!g)throw new Error(`Duplicate middleware name '${kh(p,y)}'`);for(let A of w){let O=t.findIndex(k=>k.name===A||k.aliases?.some(z=>z===A));if(O===-1)continue;let T=t[O];if(T.toMiddleware!==b.toMiddleware||T.relation!==b.relation)throw new Error(`"${kh(T.name,T.aliases)}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by "${kh(p,y)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(O,1)}}for(let A of w)n.add(A)}t.push(b)},"addRelativeTo"),clone:mi(()=>a(lY()),"clone"),use:mi(u=>{u.applyToStack(d)},"use"),remove:mi(u=>typeof u=="string"?i(u):o(u),"remove"),removeByTag:mi(u=>{let m=!1,p=mi(g=>{let{tags:y,name:b,aliases:w}=g;if(y&&y.includes(u)){let A=GS(b,w);for(let O of A)n.delete(O);return m=!0,!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByTag"),concat:mi(u=>{let m=a(lY());return m.use(u),m.identifyOnResolve(r||m.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),m},"concat"),applyToStack:a,identify:mi(()=>l(!0).map(u=>{let m=u.step??u.relation+" "+u.toMiddleware;return kh(u.name,u.aliases)+" - "+m}),"identify"),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:mi((u,m)=>{for(let p of l().map(g=>g.middleware).reverse())u=p(u,m);return r&&console.log(d.identify()),u},"resolve")};return d},"constructStack"),rPe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},nPe={high:3,normal:2,low:1}});var K=E((ZXn,yY)=>{var vB=Object.defineProperty,BQt=Object.getOwnPropertyDescriptor,qQt=Object.getOwnPropertyNames,jQt=Object.prototype.hasOwnProperty,ir=(e,t)=>vB(e,"name",{value:t,configurable:!0}),$Qt=(e,t)=>{for(var r in t)vB(e,r,{get:t[r],enumerable:!0})},mY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qQt(t))!jQt.call(e,s)&&s!==r&&vB(e,s,{get:()=>t[s],enumerable:!(n=BQt(t,s))||n.enumerable});return e},zQt=(e,t,r)=>(mY(e,t,"default"),r&&mY(r,t,"default")),HQt=e=>mY(vB({},"__esModule",{value:!0}),e),gY={};$Qt(gY,{Client:()=>VQt,Command:()=>lPe,NoOpLogger:()=>lYt,SENSITIVE_STRING:()=>KQt,ServiceException:()=>JQt,_json:()=>pY,collectBody:()=>dY.collectBody,convertMap:()=>dYt,createAggregatedClient:()=>XQt,decorateServiceException:()=>dPe,emitWarningIfUnsupportedVersion:()=>eYt,extendedEncodeURIComponent:()=>dY.extendedEncodeURIComponent,getArrayIfSingleItem:()=>aYt,getDefaultClientConfiguration:()=>iYt,getDefaultExtensionConfiguration:()=>mPe,getValueFromTextNode:()=>fPe,isSerializableHeaderValue:()=>cYt,loadConfigsForDefaultMode:()=>ZQt,map:()=>hY,resolveDefaultRuntimeConfig:()=>oYt,resolvedPath:()=>dY.resolvedPath,serializeDateTime:()=>hYt,serializeFloat:()=>gYt,take:()=>uYt,throwDefaultError:()=>uPe,withBaseException:()=>QQt});yY.exports=HQt(gY);var cPe=oPe(),VQt=class{constructor(e){this.config=e,this.middlewareStack=(0,cPe.constructStack)()}static{ir(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,i=n===void 0&&this.config.cacheMiddleware===!0,o;if(i){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?o=a.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},dY=(ft(),F(V0e)),fY=Sh(),GQt=(ke(),F(Kwe)),uY="***SensitiveInformation***";function SB(e,t){if(t==null)return t;let r=GQt.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return uY;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return uY}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return uY}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=SB(o,n[i]));return s}return t}ir(SB,"schemaLogFilter");var lPe=class{constructor(){this.middlewareStack=(0,cPe.constructStack)()}static{ir(this,"Command")}static classBuilder(){return new WQt}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let y of n.bind(this)(d,e,t,r))this.middlewareStack.use(y);let u=e.concat(this.middlewareStack),{logger:m}=t,p={logger:m,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[fY.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return u.resolve(y=>g.handle(y.request,r||{}),p)}},WQt=class{constructor(){this._init=ir(()=>{},"_init"),this._ep={},this._middlewareFn=ir(()=>[],"_middlewareFn"),this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=void 0,this._outputFilterSensitiveLog=void 0,this._serializer=null,this._deserializer=null}static{ir(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends lPe{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ir(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(e._operationSchema?SB.bind(null,e._operationSchema.input):i=>i),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(e._operationSchema?SB.bind(null,e._operationSchema.output):i=>i),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},KQt="***SensitiveInformation***",XQt=ir((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=ir(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},"createAggregatedClient"),JQt=class bT extends Error{static{ir(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return bT.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===bT?bT.isInstance(t):bT.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},dPe=ir((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),uPe=ir(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=YQt(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw dPe(o,t)},"throwDefaultError"),QQt=ir(e=>({output:t,parsedBody:r,errorCode:n})=>{uPe({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),YQt=ir(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ZQt=ir(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),aPe=!1,eYt=ir(e=>{e&&!aPe&&parseInt(e.substring(1,e.indexOf(".")))<16&&(aPe=!0)},"emitWarningIfUnsupportedVersion"),tYt=ir(e=>{let t=[];for(let r in fY.AlgorithmId){let n=fY.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:ir(()=>n,"algorithmId"),checksumConstructor:ir(()=>e[n],"checksumConstructor")})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),rYt=ir(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),nYt=ir(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),sYt=ir(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),mPe=ir(e=>Object.assign(tYt(e),nYt(e)),"getDefaultExtensionConfiguration"),iYt=mPe,oYt=ir(e=>Object.assign(rYt(e),sYt(e)),"resolveDefaultRuntimeConfig"),aYt=ir(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),fPe=ir(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=fPe(e[r]));return e},"getValueFromTextNode"),cYt=ir(e=>e!=null,"isSerializableHeaderValue"),lYt=class{static{ir(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function hY(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,mYt(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}pPe(n,null,i,o)}return n}ir(hY,"map");var dYt=ir(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),uYt=ir((e,t)=>{let r={};for(let n in t)pPe(r,e,t,n);return r},"take"),mYt=ir((e,t,r)=>hY(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),pPe=ir((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=fYt,c=pYt,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},"applyInstruction"),fYt=ir(e=>e!=null,"nonNullish"),pYt=ir(e=>e,"pass"),gYt=ir(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),hYt=ir(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),pY=ir(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(pY);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=pY(e[r]));return t}return e},"_json");zQt(gY,(nr(),F(I0e)),yY.exports)});var gPe,hPe,EB,_Y=_(()=>{gPe=C(K()),hPe=C(kt()),EB=(e,t)=>(0,gPe.collectBody)(e,t).then(r=>(t?.utf8Encoder??hPe.toUtf8)(r))});var jb,SY,WS,wT=_(()=>{_Y();jb=(e,t)=>EB(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),SY=async(e,t)=>{let r=await jb(e,t);return r.message=r.message??r.Message,r},WS=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var yPe,AT,vY=_(()=>{ke();nr();yPe=C(Mt());Dh();tPe();wT();AT=class extends na{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,ePe):await jb(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=B.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,yPe.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return zr.from(r);if(s.isTimestampSchema()){let o=this.settings.timestampFormat;switch(o.useTrait?s.getSchema()===j.TIMESTAMP_DEFAULT?o.default:s.getSchema()??o.default:o.default){case j.TIMESTAMP_DATE_TIME:return rl(r);case j.TIMESTAMP_HTTP_DATE:return nl(r);case j.TIMESTAMP_EPOCH_SECONDS:return ja(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof Ee?r:new Ee(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var _Pe,CB,SPe=_(()=>{nr();_Pe="\u039D",CB=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ee){let n=`${_Pe+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${_Pe+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var xT,EY=_(()=>{ke();nr();Dh();SPe();xT=class extends na{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=B.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new CB;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=B.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(i===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(i.isTimestampSchema()&&r instanceof Date){let o=this.settings.timestampFormat;switch(o.useTrait?i.getSchema()===j.TIMESTAMP_DEFAULT?o.default:i.getSchema()??o.default:o.default){case j.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case j.TIMESTAMP_HTTP_DATE:return tl(r);case j.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return pr();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return zr.from(r)}return r}}}});var KS,bB=_(()=>{Dh();vY();EY();KS=class extends na{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new xT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new AT(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var XS,wB=_(()=>{ft();ke();qb();bB();wT();XS=class extends Qn{serializer;deserializer;serviceTarget;codec;mixin=new $l;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new KS({timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${B.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(mn(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=WS(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var CY,vPe=_(()=>{wB();CY=class extends XS{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var bY,EPe=_(()=>{wB();bY=class extends XS{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var wY,CPe=_(()=>{ft();ke();qb();bB();wT();wY=class extends Os{serializer;deserializer;codec;mixin=new $l;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new KS(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=WS(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/json"}}});var bPe,yYt,wPe=_(()=>{bPe=C(K()),yYt=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,bPe.expectUnion)(e)}});function AB(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r}function xPe(e){return typeof e<"u"}var APe,_Yt,SYt,vYt,PT,xB=_(()=>{"use strict";APe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",_Yt=APe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",SYt="["+APe+"]["+_Yt+"]*",vYt=new RegExp("^"+SYt+"$");PT=function(e){let t=vYt.exec(e);return!(t===null||typeof t>"u")}});function OPe(e,t){t=Object.assign({},EYt,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=RPe(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=TPe(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!TYt(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",fi("InvalidTag",u,Ha(e,i))}let l=wYt(e,i);if(l===!1)return fi("InvalidAttr","Attributes for '"+c+"' have open quote.",Ha(e,i));let d=l.value;if(i=l.index,d[d.length-1]==="/"){let u=i-d.length;d=d.substring(0,d.length-1);let m=IPe(d,t);if(m===!0)n=!0;else return fi(m.err.code,m.err.msg,Ha(e,u+m.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return fi("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ha(e,o));if(r.length===0)return fi("InvalidTag","Closing tag '"+c+"' has not been opened.",Ha(e,o));{let u=r.pop();if(c!==u.tagName){let m=Ha(e,u.tagStartPos);return fi("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",Ha(e,o))}r.length==0&&(s=!0)}}else return fi("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ha(e,i));else{let u=IPe(d,t);if(u!==!0)return fi(u.err.code,u.err.msg,Ha(e,i-d.length+u.err.line));if(s===!0)return fi("InvalidXml","Multiple possible root nodes found.",Ha(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=TPe(e,i);continue}else if(e[i+1]==="?"){if(i=RPe(e,++i),i.err)return i}else break;else if(e[i]==="&"){let u=PYt(e,i);if(u==-1)return fi("InvalidChar","char '&' is not expected.",Ha(e,i));i=u}else if(s===!0&&!PPe(e[i]))return fi("InvalidXml","Extra text at the end",Ha(e,i));e[i]==="<"&&i--}}else{if(PPe(e[i]))continue;return fi("InvalidChar","char '"+e[i]+"' is not expected.",Ha(e,i))}if(n){if(r.length==1)return fi("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ha(e,r[0].tagStartPos));if(r.length>0)return fi("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return fi("InvalidXml","Start tag expected.",1);return!0}function PPe(e){return e===" "||e==="	"||e===`
`||e==="\r"}function RPe(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return fi("InvalidXml","XML declaration allowed only at the start of the document.",Ha(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function TPe(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function wYt(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===CYt||e[t]===bYt)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}function IPe(e,t){let r=AB(e,AYt),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return fi("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",RT(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return fi("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",RT(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return fi("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",RT(r[s]));let i=r[s][2];if(!RYt(i))return fi("InvalidAttr","Attribute '"+i+"' is an invalid name.",RT(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return fi("InvalidAttr","Attribute '"+i+"' is repeated.",RT(r[s]))}return!0}function xYt(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function PYt(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,xYt(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function fi(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function RYt(e){return PT(e)}function TYt(e){return PT(e)}function Ha(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function RT(e){return e.startIndex+e[1].length}var EYt,CYt,bYt,AYt,NPe=_(()=>{"use strict";xB();EYt={allowBooleanAttributes:!1,unpairedTags:[]};CYt='"',bYt="'";AYt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var IYt,DPe,kPe=_(()=>{IYt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},DPe=function(e){return Object.assign({},IYt,e)}});var PB,sl,RB=_(()=>{"use strict";typeof Symbol!="function"?PB="@@xmlMetadata":PB=Symbol("XML Node Metadata");sl=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][PB]={startIndex:r})}static getMetaDataSymbol(){return PB}}});function AY(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&JS(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=OYt(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(s&&JS(e,"!ELEMENT",t)){t+=8;let{index:a}=DYt(e,t+1);t=a}else if(s&&JS(e,"!ATTLIST",t))t+=8;else if(s&&JS(e,"!NOTATION",t)){t+=9;let{index:a}=NYt(e,t+1);t=a}else if(JS(e,"!--",t))i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function OYt(e,t){t=Mh(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(xY(r),t=Mh(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=TB(e,t,"entity"),t--,[r,n,t]}function NYt(e,t){t=Mh(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;xY(r),t=Mh(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=Mh(e,t);let s=null,i=null;if(n==="PUBLIC")[t,s]=TB(e,t,"publicIdentifier"),t=Mh(e,t),(e[t]==='"'||e[t]==="'")&&([t,i]=TB(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,i]=TB(e,t,"systemIdentifier"),!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:i,index:--t}}function TB(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function DYt(e,t){t=Mh(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!xY(r))throw new Error(`Invalid element name: "${r}"`);t=Mh(e,t);let n="";if(e[t]==="E"&&JS(e,"MPTY",t))t+=4;else if(e[t]==="A"&&JS(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function JS(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function xY(e){if(PT(e))return e;throw new Error(`Invalid entity name ${e}`)}var Mh,MPe=_(()=>{xB();Mh=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function PY(e,t={}){if(t=Object.assign({},LYt,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&kYt.test(r))return qYt(r,16);if(r.search(/.+[eE].+/)!==-1)return FYt(e,r,t);{let n=MYt.exec(r);if(n){let s=n[1]||"",i=n[2],o=BYt(n[3]),a=s?e[i.length+1]===".":e[i.length]===".";if(!t.leadingZeros&&(i.length>1||i.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===o||l===`${s}${o}`?c:e;let d=i?o:r;return i?d===l||s+d===l?c:e:d===l||d===s+l?c:e}}else return e}}function FYt(e,t,r){if(!r.eNotation)return e;let n=t.match(UYt);if(n){let s=n[1]||"",i=n[3].indexOf("e")===-1?"E":"e",o=n[2],a=s?e[o.length+1]===i:e[o.length]===i;return o.length>1&&a?e:o.length===1&&(n[3].startsWith(`.${i}`)||n[3][0]===i)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function BYt(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function qYt(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var kYt,MYt,LYt,UYt,LPe=_(()=>{kYt=/^[-+]?0x[a-fA-F0-9]+$/,MYt=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,LYt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};UYt=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function RY(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var UPe=_(()=>{});function jYt(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function $Yt(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?IY(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?IY(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function zYt(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function VYt(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=AB(e,HYt),s=n.length,i={};for(let o=0;o<s;o++){let a=this.resolveNameSpace(n[o][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?i[l]=c:typeof d!=typeof c||d!==c?i[l]=d:i[l]=IY(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=i,o}return i}}function WYt(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}function XYt(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function JYt(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function QYt(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function QS(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function TY(e,t,r,n=">"){let s=QYt(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let d=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),l=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:d}}function YYt(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=QS(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=QS(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=QS(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=QS(e,"]]>",r,"StopNode is not closed.")-2;else{let i=TY(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function IY(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:PY(e,r)}else return xPe(e)?e:""}var TT,HYt,GYt,KYt,FPe=_(()=>{"use strict";xB();RB();MPe();LPe();UPe();TT=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=jYt,this.parseXml=GYt,this.parseTextData=$Yt,this.resolveNameSpace=zYt,this.buildAttributesMap=VYt,this.isItStopNode=JYt,this.replaceEntitiesValue=KYt,this.readStopNodeData=YYt,this.saveTextToParentTag=XYt,this.addChild=WYt,this.ignoreAttributesFn=RY(this.options.ignoreAttributes)}};HYt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");GYt=function(e){e=e.replace(/\r\n?/g,`
`);let t=new sl("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=QS(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=TY(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new sl(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s,i)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=QS(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=AY(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=QS(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),i=a+2}else{let a=TY(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,u=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c);let g=i;if(this.isItStopNode(this.options.stopNodes,s,c)){let y="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let w=this.readStopNodeData(e,l,m+1);if(!w)throw new Error(`Unexpected end of ${l}`);i=w.i,y=w.tagContent}let b=new sl(c);c!==d&&u&&(b[":@"]=this.buildAttributesMap(d,s,c)),y&&(y=this.parseTextData(y,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),b.add(this.options.textNodeName,y),this.addChild(r,b,s,g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new sl(c);c!==d&&u&&(y[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,y,s,g),s=s.substr(0,s.lastIndexOf("."))}else{let y=new sl(c);this.tagsNodeStack.push(r),c!==d&&u&&(y[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,y,s,g),r=y}n="",i=m}}else n+=e[i];return t.child};KYt=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function NY(e,t){return BPe(e,t)}function BPe(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=ZYt(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=BPe(o[a],t,c),d=t9t(l,t);o[OY]!==void 0&&(l[OY]=o[OY]),o[":@"]?e9t(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):t.isArray(a,c,d)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function ZYt(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function e9t(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function t9t(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var OY,qPe=_(()=>{"use strict";RB();OY=sl.getMetaDataSymbol()});var ds,jPe=_(()=>{kPe();FPe();qPe();NPe();RB();ds=class{constructor(t){this.externalEntities={},this.options=DPe(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=OPe(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new TT(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:NY(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return sl.getMetaDataSymbol()}}});var $u=_(()=>{"use strict";jPe()});var $Pe,zPe,YS,IB=_(()=>{ft();ke();$Pe=C(K()),zPe=C(kt());$u();Dh();YS=class extends na{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $a(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=B.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??zPe.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=B.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],m=Array.isArray(u)?u:[u];for(let p of m)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],y=p[m];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,$Pe.getValueFromTextNode)(o)}return{}}}});var HPe,VPe,OB,GPe=_(()=>{ft();ke();nr();HPe=C(K()),VPe=C(Mt());Dh();OB=class extends na{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=B.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??VPe.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(pr()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ee?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case j.TIMESTAMP_HTTP_DATE:this.writeValue((0,HPe.dateToUtcString)(r));break;case j.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${ri(t)}=`}writeValue(t){this.buffer+=ri(t)}}});var IT,DY=_(()=>{ft();ke();qb();IB();GPe();IT=class extends Qn{options;serializer;deserializer;mixin=new $l;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new OB(r),this.deserializer=new YS(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(mn(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let u=await Ts(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let m=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Ts(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,y)=>g.find(b=>B.of(b).getMergedTraits().awsQueryError?.[0]===y)),d=B.of(c),u=this.loadQueryErrorMessage(s),m=new c.ctor(u),p={};for(let[g,y]of d.structIterator()){let b=y.getMergedTraits().xmlName??g,w=a[b]??s[b];p[g]=this.deserializer.readSchema(y,w)}throw Object.assign(m,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var kY,WPe=_(()=>{DY();kY=class extends IT{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var KPe,OT,MY,LY,UY=_(()=>{KPe=C(K());$u();_Y();OT=(e,t)=>EB(e,t).then(r=>{if(r.length){let n=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,KPe.getValueFromTextNode)(a)}return{}}),MY=async(e,t)=>{let r=await OT(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},LY=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var eRe=E((kQn,ZPe)=>{"use strict";var DB=Object.defineProperty,r9t=Object.getOwnPropertyDescriptor,n9t=Object.getOwnPropertyNames,s9t=Object.prototype.hasOwnProperty,kB=(e,t)=>DB(e,"name",{value:t,configurable:!0}),i9t=(e,t)=>{for(var r in t)DB(e,r,{get:t[r],enumerable:!0})},o9t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of n9t(t))!s9t.call(e,s)&&s!==r&&DB(e,s,{get:()=>t[s],enumerable:!(n=r9t(t,s))||n.enumerable});return e},a9t=e=>o9t(DB({},"__esModule",{value:!0}),e),XPe={};i9t(XPe,{XmlNode:()=>c9t,XmlText:()=>YPe});ZPe.exports=a9t(XPe);function JPe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}kB(JPe,"escapeAttribute");function QPe(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}kB(QPe,"escapeElement");var YPe=class{constructor(e){this.value=e}static{kB(this,"XmlText")}toString(){return QPe(""+this.value)}},c9t=class NB{constructor(t,r=[]){this.name=t,this.children=r}static{kB(this,"XmlNode")}attributes={};static of(t,r,n){let s=new NB(t);return r!==void 0&&s.addChildNode(new YPe(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=NB.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new NB(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${JPe(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var zl,FY,MB,NT,BY=_(()=>{zl=C(eRe());ke();nr();FY=C(K()),MB=C(Mt());Dh();NT=class extends na{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=B.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??MB.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=zl.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=zl.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=zl.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=zl.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=zl.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=zl.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=zl.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=zl.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=zl.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=B.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??MB.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?n.getSchema()===j.TIMESTAMP_DEFAULT?i.default:n.getSchema()??i.default:i.default){case j.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case j.TIMESTAMP_HTTP_DATE:s=(0,FY.dateToUtcString)(r);break;case j.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,FY.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ee?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=pr():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=B.of(t),a=new zl.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var DT,qY=_(()=>{Dh();IB();BY();DT=class extends na{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new NT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new YS(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var jY,tRe=_(()=>{ft();ke();qb();UY();qY();jY=class extends Os{codec;serializer;deserializer;mixin=new $l;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new DT(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=LY(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().xmlName??p,b=s.Error?.[y]??s[y];m[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/xml"}}});var rRe=_(()=>{Yxe();Zxe();vPe();EPe();wB();CPe();bB();vY();EY();wPe();wT();WPe();DY();tRe();qY();IB();BY();UY()});var Tm={};ct(Tm,{AWSSDKSigV4Signer:()=>IQ,AwsEc2QueryProtocol:()=>kY,AwsJson1_0Protocol:()=>CY,AwsJson1_1Protocol:()=>bY,AwsJsonRpcProtocol:()=>XS,AwsQueryProtocol:()=>IT,AwsRestJsonProtocol:()=>wY,AwsRestXmlProtocol:()=>jY,AwsSdkSigV4ASigner:()=>_T,AwsSdkSigV4Signer:()=>Sc,AwsSmithyRpcV2CborProtocol:()=>cY,JsonCodec:()=>KS,JsonShapeDeserializer:()=>AT,JsonShapeSerializer:()=>xT,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Mb,NODE_SIGV4A_CONFIG_OPTIONS:()=>txe,XmlCodec:()=>DT,XmlShapeDeserializer:()=>YS,XmlShapeSerializer:()=>NT,_toBool:()=>OQt,_toNum:()=>NQt,_toStr:()=>IQt,awsExpectUnion:()=>yYt,emitWarningIfUnsupportedVersion:()=>Nb,getBearerTokenEnvKey:()=>eB,loadRestJsonErrorCode:()=>WS,loadRestXmlErrorCode:()=>LY,parseJsonBody:()=>jb,parseJsonErrorBody:()=>SY,parseXmlBody:()=>OT,parseXmlErrorBody:()=>MY,resolveAWSSDKSigV4Config:()=>Oxe,resolveAwsSdkSigV4AConfig:()=>exe,resolveAwsSdkSigV4Config:()=>VS,setCredentialFeature:()=>Ah,setFeature:()=>DAe,setTokenFeature:()=>MAe,state:()=>ZF,validateSigningProperties:()=>kb});var ao=_(()=>{ju();VQ();rRe()});var $b=E((_Yn,pRe)=>{"use strict";var UB=Object.defineProperty,l9t=Object.getOwnPropertyDescriptor,d9t=Object.getOwnPropertyNames,u9t=Object.prototype.hasOwnProperty,pp=(e,t)=>UB(e,"name",{value:t,configurable:!0}),m9t=(e,t)=>{for(var r in t)UB(e,r,{get:t[r],enumerable:!0})},f9t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of d9t(t))!u9t.call(e,s)&&s!==r&&UB(e,s,{get:()=>t[s],enumerable:!(n=l9t(t,s))||n.enumerable});return e},p9t=e=>f9t(UB({},"__esModule",{value:!0}),e),oRe={};m9t(oRe,{DEFAULT_UA_APP_ID:()=>aRe,getUserAgentMiddlewareOptions:()=>fRe,getUserAgentPlugin:()=>C9t,resolveUserAgentConfig:()=>lRe,userAgentMiddleware:()=>mRe});pRe.exports=p9t(oRe);var g9t=(lt(),F(ui)),aRe=void 0;function cRe(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}pp(cRe,"isValidUserAgentAppId");function lRe(e){let t=(0,g9t.normalizeProvider)(e.userAgentAppId??aRe),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:pp(async()=>{let n=await t();if(!cRe(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}pp(lRe,"resolveUserAgentConfig");var h9t=Ob(),y9t=Ge(),Im=(ao(),F(Tm)),_9t=/\d{12}\.ddb/;async function dRe(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Im.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,Im.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Im.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Im.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(_9t)&&(0,Im.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Im.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Im.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Im.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,Im.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,Im.setFeature)(e,o,a)}}pp(dRe,"checkFeatures");var nRe="user-agent",$Y="x-amz-user-agent",sRe=" ",zY="/",S9t=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,v9t=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,iRe="-",E9t=1024;function uRe(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=E9t){t.length?t+=","+n:t+=n;continue}break}return t}pp(uRe,"encodeFeatures");var mRe=pp(e=>(t,r)=>async n=>{let{request:s}=n;if(!y9t.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(LB)||[],a=(await e.defaultUserAgentProvider()).map(LB);await dRe(r,e,n);let c=r;a.push(`m/${uRe(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(LB)||[],d=await e.userAgentAppId();d&&a.push(LB([`app/${d}`]));let u=(0,h9t.getUserAgentPrefix)(),m=(u?[u]:[]).concat([...a,...o,...l]).join(sRe),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(sRe);return e.runtime!=="browser"?(p&&(i[$Y]=i[$Y]?`${i[nRe]} ${p}`:p),i[nRe]=m):i[$Y]=m,t({...n,request:s})},"userAgentMiddleware"),LB=pp(e=>{let t=e[0].split(zY).map(o=>o.replace(S9t,iRe)).join(zY),r=e[1]?.replace(v9t,iRe),n=t.indexOf(zY),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),fRe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},C9t=pp(e=>({applyToStack:pp(t=>{t.add(mRe(e),fRe)},"applyToStack")}),"getUserAgentPlugin")});var kT=E((SYn,_Re)=>{var FB=Object.defineProperty,b9t=Object.getOwnPropertyDescriptor,w9t=Object.getOwnPropertyNames,A9t=Object.prototype.hasOwnProperty,gRe=(e,t)=>FB(e,"name",{value:t,configurable:!0}),x9t=(e,t)=>{for(var r in t)FB(e,r,{get:t[r],enumerable:!0})},P9t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of w9t(t))!A9t.call(e,s)&&s!==r&&FB(e,s,{get:()=>t[s],enumerable:!(n=b9t(t,s))||n.enumerable});return e},R9t=e=>P9t(FB({},"__esModule",{value:!0}),e),hRe={};x9t(hRe,{SelectorType:()=>yRe,booleanSelector:()=>T9t,numberSelector:()=>I9t});_Re.exports=R9t(hRe);var T9t=gRe((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),I9t=gRe((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),yRe=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(yRe||{})});var Ln=E((vYn,TRe)=>{var qB=Object.defineProperty,O9t=Object.getOwnPropertyDescriptor,N9t=Object.getOwnPropertyNames,D9t=Object.prototype.hasOwnProperty,Ii=(e,t)=>qB(e,"name",{value:t,configurable:!0}),k9t=(e,t)=>{for(var r in t)qB(e,r,{get:t[r],enumerable:!0})},M9t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of N9t(t))!D9t.call(e,s)&&s!==r&&qB(e,s,{get:()=>t[s],enumerable:!(n=O9t(t,s))||n.enumerable});return e},L9t=e=>M9t(qB({},"__esModule",{value:!0}),e),ERe={};k9t(ERe,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>bRe,CONFIG_USE_FIPS_ENDPOINT:()=>ARe,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>U9t,DEFAULT_USE_FIPS_ENDPOINT:()=>B9t,ENV_USE_DUALSTACK_ENDPOINT:()=>CRe,ENV_USE_FIPS_ENDPOINT:()=>wRe,NODE_REGION_CONFIG_FILE_OPTIONS:()=>V9t,NODE_REGION_CONFIG_OPTIONS:()=>H9t,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>F9t,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>q9t,REGION_ENV_NAME:()=>xRe,REGION_INI_NAME:()=>PRe,getRegionInfo:()=>J9t,resolveCustomEndpointsConfig:()=>j9t,resolveEndpointsConfig:()=>z9t,resolveRegionConfig:()=>G9t});TRe.exports=L9t(ERe);var Lh=kT(),CRe="AWS_USE_DUALSTACK_ENDPOINT",bRe="use_dualstack_endpoint",U9t=!1,F9t={environmentVariableSelector:Ii(e=>(0,Lh.booleanSelector)(e,CRe,Lh.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Ii(e=>(0,Lh.booleanSelector)(e,bRe,Lh.SelectorType.CONFIG),"configFileSelector"),default:!1},wRe="AWS_USE_FIPS_ENDPOINT",ARe="use_fips_endpoint",B9t=!1,q9t={environmentVariableSelector:Ii(e=>(0,Lh.booleanSelector)(e,wRe,Lh.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Ii(e=>(0,Lh.booleanSelector)(e,ARe,Lh.SelectorType.CONFIG),"configFileSelector"),default:!1},BB=Jn(),j9t=Ii(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,BB.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,BB.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),$9t=Ii(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),z9t=Ii(e=>{let t=(0,BB.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?(0,BB.normalizeProvider)(typeof r=="string"?s(r):r):()=>$9t({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),xRe="AWS_REGION",PRe="region",H9t={environmentVariableSelector:Ii(e=>e[xRe],"environmentVariableSelector"),configFileSelector:Ii(e=>e[PRe],"configFileSelector"),default:Ii(()=>{throw new Error("Region is missing")},"default")},V9t={preferredFile:"credentials"},RRe=Ii(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),SRe=Ii(e=>RRe(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),G9t=Ii(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Ii(async()=>{if(typeof t=="string")return SRe(t);let n=await t();return SRe(n)},"region"),useFipsEndpoint:Ii(async()=>{let n=typeof t=="string"?t:await t();return RRe(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig"),vRe=Ii((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),W9t=Ii((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),K9t=Ii((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),X9t=Ii((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),J9t=Ii((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=K9t(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=vRe(s[a]?.variants,c),d=vRe(i[o]?.variants,c),u=W9t(a,{regionHostname:l,partitionHostname:d});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=X9t(u,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:u,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var il=E((EYn,DRe)=>{var jB=Object.defineProperty,Q9t=Object.getOwnPropertyDescriptor,Y9t=Object.getOwnPropertyNames,Z9t=Object.prototype.hasOwnProperty,HY=(e,t)=>jB(e,"name",{value:t,configurable:!0}),e7t=(e,t)=>{for(var r in t)jB(e,r,{get:t[r],enumerable:!0})},t7t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Y9t(t))!Z9t.call(e,s)&&s!==r&&jB(e,s,{get:()=>t[s],enumerable:!(n=Q9t(t,s))||n.enumerable});return e},r7t=e=>t7t(jB({},"__esModule",{value:!0}),e),ORe={};e7t(ORe,{contentLengthMiddleware:()=>VY,contentLengthMiddlewareOptions:()=>NRe,getContentLengthPlugin:()=>s7t});DRe.exports=r7t(ORe);var n7t=Ge(),IRe="content-length";function VY(e){return t=>async r=>{let n=r.request;if(n7t.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(IRe)===-1)try{let o=e(s);n.headers={...n.headers,[IRe]:String(o)}}catch{}}return t({...r,request:n})}}HY(VY,"contentLengthMiddleware");var NRe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},s7t=HY(e=>({applyToStack:HY(t=>{t.add(VY(e.bodyLengthChecker),NRe)},"applyToStack")}),"getContentLengthPlugin")});var zb=E($B=>{"use strict";Object.defineProperty($B,"__esModule",{value:!0});$B.getHomeDir=void 0;var i7t=require("os"),o7t=require("path"),GY={},a7t=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",c7t=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${o7t.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=a7t();return GY[s]||(GY[s]=(0,i7t.homedir)()),GY[s]};$B.getHomeDir=c7t});var WY=E(zB=>{"use strict";Object.defineProperty(zB,"__esModule",{value:!0});zB.getSSOTokenFilepath=void 0;var l7t=require("crypto"),d7t=require("path"),u7t=zb(),m7t=e=>{let r=(0,l7t.createHash)("sha1").update(e).digest("hex");return(0,d7t.join)((0,u7t.getHomeDir)(),".aws","sso","cache",`${r}.json`)};zB.getSSOTokenFilepath=m7t});var KY=E(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.getSSOTokenFromFile=Uh.tokenIntercept=void 0;var f7t=require("fs"),p7t=WY(),{readFile:g7t}=f7t.promises;Uh.tokenIntercept={};var h7t=async e=>{if(Uh.tokenIntercept[e])return Uh.tokenIntercept[e];let t=(0,p7t.getSSOTokenFilepath)(e),r=await g7t(t,"utf8");return JSON.parse(r)};Uh.getSSOTokenFromFile=h7t});var HB=E(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.slurpFile=ol.fileIntercept=ol.filePromisesHash=void 0;var y7t=require("fs"),{readFile:_7t}=y7t.promises;ol.filePromisesHash={};ol.fileIntercept={};var S7t=(e,t)=>ol.fileIntercept[e]!==void 0?ol.fileIntercept[e]:((!ol.filePromisesHash[e]||t?.ignoreCache)&&(ol.filePromisesHash[e]=_7t(e,"utf8")),ol.filePromisesHash[e]);ol.slurpFile=S7t});var Ki=E((xYn,XB)=>{var WB=Object.defineProperty,v7t=Object.getOwnPropertyDescriptor,E7t=Object.getOwnPropertyNames,C7t=Object.prototype.hasOwnProperty,Hl=(e,t)=>WB(e,"name",{value:t,configurable:!0}),b7t=(e,t)=>{for(var r in t)WB(e,r,{get:t[r],enumerable:!0})},XY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of E7t(t))!C7t.call(e,s)&&s!==r&&WB(e,s,{get:()=>t[s],enumerable:!(n=v7t(t,s))||n.enumerable});return e},BRe=(e,t,r)=>(XY(e,t,"default"),r&&XY(r,t,"default")),w7t=e=>XY(WB({},"__esModule",{value:!0}),e),KB={};b7t(KB,{CONFIG_PREFIX_SEPARATOR:()=>ZS,DEFAULT_PROFILE:()=>jRe,ENV_PROFILE:()=>qRe,SSOToken:()=>kRe.SSOToken,externalDataInterceptor:()=>j7t,getProfileName:()=>A7t,getSSOTokenFromFile:()=>kRe.getSSOTokenFromFile,loadSharedConfigFiles:()=>zRe,loadSsoSessionData:()=>F7t,parseKnownFiles:()=>q7t});XB.exports=w7t(KB);BRe(KB,zb(),XB.exports);var qRe="AWS_PROFILE",jRe="default",A7t=Hl(e=>e.profile||process.env[qRe]||jRe,"getProfileName");BRe(KB,WY(),XB.exports);var kRe=KY(),VB=Sh(),x7t=Hl(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(ZS);return r===-1?!1:Object.values(VB.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(ZS),i=r.substring(0,s)===VB.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),GB=require("path"),P7t=zb(),R7t="AWS_CONFIG_FILE",$Re=Hl(()=>process.env[R7t]||(0,GB.join)((0,P7t.getHomeDir)(),".aws","config"),"getConfigFilepath"),T7t=zb(),I7t="AWS_SHARED_CREDENTIALS_FILE",O7t=Hl(()=>process.env[I7t]||(0,GB.join)((0,T7t.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),N7t=zb(),D7t=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,k7t=["__proto__","profile __proto__"],JY=Hl(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=D7t.exec(a);if(c){let[,l,,d]=c;Object.values(VB.IniSectionType).includes(l)&&(r=[l,d].join(ZS))}else r=a;if(k7t.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(ZS):c;t[r][d]=l}}}}return t},"parseIni"),MRe=HB(),LRe=Hl(()=>({}),"swallowError"),ZS=".",zRe=Hl(async(e={})=>{let{filepath:t=O7t(),configFilepath:r=$Re()}=e,n=(0,N7t.getHomeDir)(),s="~/",i=t;t.startsWith(s)&&(i=(0,GB.join)(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=(0,GB.join)(n,r.slice(2)));let a=await Promise.all([(0,MRe.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(JY).then(x7t).catch(LRe),(0,MRe.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(JY).catch(LRe)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),M7t=Hl(e=>Object.entries(e).filter(([t])=>t.startsWith(VB.IniSectionType.SSO_SESSION+ZS)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(ZS)+1)]:n}),{}),"getSsoSessionData"),L7t=HB(),U7t=Hl(()=>({}),"swallowError"),F7t=Hl(async(e={})=>(0,L7t.slurpFile)(e.configFilepath??$Re()).then(JY).then(M7t).catch(U7t),"loadSsoSessionData"),B7t=Hl((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),q7t=Hl(async e=>{let t=await zRe(e);return B7t(t.configFile,t.credentialsFile)},"parseKnownFiles"),URe=KY(),FRe=HB(),j7t={getFileRecord(){return FRe.fileIntercept},interceptFile(e,t){FRe.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return URe.tokenIntercept},interceptToken(e,t){URe.tokenIntercept[e]=t}}});var sa=E((PYn,GRe)=>{var JB=Object.defineProperty,$7t=Object.getOwnPropertyDescriptor,z7t=Object.getOwnPropertyNames,H7t=Object.prototype.hasOwnProperty,Hb=(e,t)=>JB(e,"name",{value:t,configurable:!0}),V7t=(e,t)=>{for(var r in t)JB(e,r,{get:t[r],enumerable:!0})},G7t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of z7t(t))!H7t.call(e,s)&&s!==r&&JB(e,s,{get:()=>t[s],enumerable:!(n=$7t(t,s))||n.enumerable});return e},W7t=e=>G7t(JB({},"__esModule",{value:!0}),e),VRe={};V7t(VRe,{loadConfig:()=>Y7t});GRe.exports=W7t(VRe);var MT=qt();function QY(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Hb(QY,"getSelectorName");var K7t=Hb((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new MT.CredentialsProviderError(r.message||`Not found in ENV: ${QY(e.toString())}`,{logger:t?.logger})}},"fromEnv"),HRe=Ki(),X7t=Hb((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,HRe.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,HRe.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c,t==="config"?s:i);if(d===void 0)throw new Error;return d}catch(l){throw new MT.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${QY(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),J7t=Hb(e=>typeof e=="function","isFunction"),Q7t=Hb(e=>J7t(e)?async()=>await e():(0,MT.fromStatic)(e),"fromStatic"),Y7t=Hb(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return(0,MT.memoize)((0,MT.chain)(K7t(e,o),X7t(t,n),Q7t(r)))},"loadConfig")});var JRe=E(QB=>{"use strict";Object.defineProperty(QB,"__esModule",{value:!0});QB.getEndpointUrlConfig=void 0;var WRe=Ki(),KRe="AWS_ENDPOINT_URL",XRe="endpoint_url",Z7t=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[KRe,...r].join("_")];if(n)return n;let s=t[KRe];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(WRe.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),XRe].join(WRe.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[XRe];if(n)return n},default:void 0});QB.getEndpointUrlConfig=Z7t});var YY=E(YB=>{"use strict";Object.defineProperty(YB,"__esModule",{value:!0});YB.getEndpointFromConfig=void 0;var eZt=sa(),tZt=JRe(),rZt=async e=>(0,eZt.loadConfig)((0,tZt.getEndpointUrlConfig)(e??""))();YB.getEndpointFromConfig=rZt});var us=E((IYn,nTe)=>{var eq=Object.defineProperty,nZt=Object.getOwnPropertyDescriptor,sZt=Object.getOwnPropertyNames,iZt=Object.prototype.hasOwnProperty,al=(e,t)=>eq(e,"name",{value:t,configurable:!0}),oZt=(e,t)=>{for(var r in t)eq(e,r,{get:t[r],enumerable:!0})},aZt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sZt(t))!iZt.call(e,s)&&s!==r&&eq(e,s,{get:()=>t[s],enumerable:!(n=nZt(t,s))||n.enumerable});return e},cZt=e=>aZt(eq({},"__esModule",{value:!0}),e),YRe={};oZt(YRe,{endpointMiddleware:()=>tTe,endpointMiddlewareOptions:()=>rTe,getEndpointFromInstructions:()=>ZRe,getEndpointPlugin:()=>SZt,resolveEndpointConfig:()=>EZt,resolveEndpointRequiredConfig:()=>CZt,resolveParams:()=>eTe,toEndpointV1:()=>ZY});nTe.exports=cZt(YRe);var lZt=al(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),pZt(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!fZt(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),dZt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,uZt=/(\d+\.){3}\d+/,mZt=/\.\./,fZt=al(e=>dZt.test(e)&&!uZt.test(e)&&!mZt.test(e),"isDnsCompatibleBucketName"),pZt=al(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),gZt=al((e,t,r)=>{let n=al(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),hZt=YY(),QRe=oo(),ZY=al(e=>typeof e=="object"?"url"in e?(0,QRe.parseUrl)(e.url):e:(0,QRe.parseUrl)(e),"toEndpointV1"),ZRe=al(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,hZt.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(ZY(o)),r.isCustomEndpoint=!0)}let s=await eTe(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),eTe=al(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await gZt(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await lZt(n),n},"resolveParams"),yZt=(lt(),F(ui)),ZB=Jn(),tTe=al(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,yZt.setFeature)(n,"ENDPOINT_OVERRIDE","N");let i=await ZRe(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,ZB.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},"endpointMiddleware"),_Zt=io(),rTe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:_Zt.serializerMiddlewareOption.name},SZt=al((e,t)=>({applyToStack:al(r=>{r.addRelativeTo(tTe({config:e,instructions:t}),rTe)},"applyToStack")}),"getEndpointPlugin"),vZt=YY(),EZt=al(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>ZY(await(0,ZB.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,ZB.normalizeProvider)(n??!1),useFipsEndpoint:(0,ZB.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,vZt.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),CZt=al(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var t9=E((OYn,cTe)=>{var tq=Object.defineProperty,bZt=Object.getOwnPropertyDescriptor,wZt=Object.getOwnPropertyNames,AZt=Object.prototype.hasOwnProperty,ev=(e,t)=>tq(e,"name",{value:t,configurable:!0}),xZt=(e,t)=>{for(var r in t)tq(e,r,{get:t[r],enumerable:!0})},PZt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wZt(t))!AZt.call(e,s)&&s!==r&&tq(e,s,{get:()=>t[s],enumerable:!(n=bZt(t,s))||n.enumerable});return e},RZt=e=>PZt(tq({},"__esModule",{value:!0}),e),sTe={};xZt(sTe,{isBrowserNetworkError:()=>aTe,isClockSkewCorrectedError:()=>oTe,isClockSkewError:()=>MZt,isRetryableByTrait:()=>iTe,isServerError:()=>UZt,isThrottlingError:()=>LZt,isTransientError:()=>e9});cTe.exports=RZt(sTe);var TZt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],IZt=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],OZt=["TimeoutError","RequestTimeout","RequestTimeoutException"],NZt=[500,502,503,504],DZt=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],kZt=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],iTe=ev(e=>e?.$retryable!==void 0,"isRetryableByTrait"),MZt=ev(e=>TZt.includes(e.name),"isClockSkewError"),oTe=ev(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),aTe=ev(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),LZt=ev(e=>e.$metadata?.httpStatusCode===429||IZt.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),e9=ev((e,t=0)=>iTe(e)||oTe(e)||OZt.includes(e.name)||DZt.includes(e?.code||"")||kZt.includes(e?.code||"")||NZt.includes(e.$metadata?.httpStatusCode||0)||aTe(e)||e.cause!==void 0&&t<=10&&e9(e.cause,t+1),"isTransientError"),UZt=ev(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!e9(e)}return!1},"isServerError")});var vc=E((NYn,_Te)=>{var rq=Object.defineProperty,FZt=Object.getOwnPropertyDescriptor,BZt=Object.getOwnPropertyNames,qZt=Object.prototype.hasOwnProperty,zu=(e,t)=>rq(e,"name",{value:t,configurable:!0}),jZt=(e,t)=>{for(var r in t)rq(e,r,{get:t[r],enumerable:!0})},$Zt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BZt(t))!qZt.call(e,s)&&s!==r&&rq(e,s,{get:()=>t[s],enumerable:!(n=FZt(t,s))||n.enumerable});return e},zZt=e=>$Zt(rq({},"__esModule",{value:!0}),e),dTe={};jZt(dTe,{AdaptiveRetryStrategy:()=>XZt,ConfiguredRetryStrategy:()=>JZt,DEFAULT_MAX_ATTEMPTS:()=>r9,DEFAULT_RETRY_DELAY_BASE:()=>LT,DEFAULT_RETRY_MODE:()=>HZt,DefaultRateLimiter:()=>mTe,INITIAL_RETRY_TOKENS:()=>n9,INVOCATION_ID_HEADER:()=>GZt,MAXIMUM_RETRY_DELAY:()=>s9,NO_RETRY_INCREMENT:()=>yTe,REQUEST_HEADER:()=>WZt,RETRY_COST:()=>gTe,RETRY_MODES:()=>uTe,StandardRetryStrategy:()=>i9,THROTTLING_RETRY_DELAY_BASE:()=>pTe,TIMEOUT_RETRY_COST:()=>hTe});_Te.exports=zZt(dTe);var uTe=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(uTe||{}),r9=3,HZt="standard",VZt=t9(),mTe=class fTe{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{zu(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>fTe.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,VZt.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},LT=100,s9=20*1e3,pTe=500,n9=500,gTe=5,hTe=10,yTe=1,GZt="amz-sdk-invocation-id",WZt="amz-sdk-request",KZt=zu(()=>{let e=LT;return{computeNextBackoffDelay:zu(n=>Math.floor(Math.min(s9,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:zu(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),lTe=zu(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:zu(()=>t,"getRetryCount"),getRetryDelay:zu(()=>Math.min(s9,e),"getRetryDelay"),getRetryCost:zu(()=>r,"getRetryCost")}),"createDefaultRetryToken"),i9=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=n9,this.retryBackoffStrategy=KZt(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{zu(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return lTe({retryDelay:LT,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?pTe:LT);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(n);return this.capacity-=o,lTe({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(n9,this.capacity+(e.getRetryCost()??yTe))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${r9}`),r9}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?hTe:gTe}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},XZt=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new mTe,this.standardRetryStrategy=new i9(e)}static{zu(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},JZt=class extends i9{static{zu(this,"ConfiguredRetryStrategy")}constructor(e,t=LT){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var STe=E(nq=>{"use strict";Object.defineProperty(nq,"__esModule",{value:!0});nq.isStreamingPayload=void 0;var QZt=require("stream"),YZt=e=>e?.body instanceof QZt.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;nq.isStreamingPayload=YZt});var Yn=E((UYn,kTe)=>{var sq=Object.defineProperty,ZZt=Object.getOwnPropertyDescriptor,eer=Object.getOwnPropertyNames,ter=Object.prototype.hasOwnProperty,Zr=(e,t)=>sq(e,"name",{value:t,configurable:!0}),rer=(e,t)=>{for(var r in t)sq(e,r,{get:t[r],enumerable:!0})},ner=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eer(t))!ter.call(e,s)&&s!==r&&sq(e,s,{get:()=>t[s],enumerable:!(n=ZZt(t,s))||n.enumerable});return e},ser=e=>ner(sq({},"__esModule",{value:!0}),e),ETe={};rer(ETe,{AdaptiveRetryStrategy:()=>aer,CONFIG_MAX_ATTEMPTS:()=>a9,CONFIG_RETRY_MODE:()=>RTe,ENV_MAX_ATTEMPTS:()=>o9,ENV_RETRY_MODE:()=>PTe,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>cer,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>der,StandardRetryStrategy:()=>xTe,defaultDelayDecider:()=>bTe,defaultRetryDecider:()=>wTe,getOmitRetryHeadersPlugin:()=>uer,getRetryAfterHint:()=>DTe,getRetryPlugin:()=>yer,omitRetryHeadersMiddleware:()=>TTe,omitRetryHeadersMiddlewareOptions:()=>ITe,resolveRetryConfig:()=>ler,retryMiddleware:()=>OTe,retryMiddlewareOptions:()=>NTe});kTe.exports=ser(ETe);var Vb=Ge(),CTe=(fT(),F($F)),ks=vc(),ier=Zr((e,t)=>{let r=e,n=t?.noRetryIncrement??ks.NO_RETRY_INCREMENT,s=t?.retryCost??ks.RETRY_COST,i=t?.timeoutRetryCost??ks.TIMEOUT_RETRY_COST,o=e,a=Zr(u=>u.name==="TimeoutError"?i:s,"getCapacityAmount"),c=Zr(u=>a(u)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:Zr(u=>{if(!c(u))throw new Error("No retry token available");let m=a(u);return o-=m,m},"retrieveRetryTokens"),releaseRetryTokens:Zr(u=>{o+=u??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),bTe=Zr((e,t)=>Math.floor(Math.min(ks.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Fh=t9(),wTe=Zr(e=>e?(0,Fh.isRetryableByTrait)(e)||(0,Fh.isClockSkewError)(e)||(0,Fh.isThrottlingError)(e)||(0,Fh.isTransientError)(e):!1,"defaultRetryDecider"),ATe=Zr(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),xTe=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ks.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??wTe,this.delayDecider=t?.delayDecider??bTe,this.retryQuota=t?.retryQuota??ier(ks.INITIAL_RETRY_TOKENS)}static{Zr(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ks.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,i=0,o=await this.getMaxAttempts(),{request:a}=t;for(Vb.HttpRequest.isInstance(a)&&(a.headers[ks.INVOCATION_ID_HEADER]=(0,CTe.v4)());;)try{Vb.HttpRequest.isInstance(a)&&(a.headers[ks.REQUEST_HEADER]=`attempt=${s+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:c,output:l}}catch(c){let l=ATe(c);if(s++,this.shouldRetry(l,s,o)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,Fh.isThrottlingError)(l)?ks.THROTTLING_RETRY_DELAY_BASE:ks.DEFAULT_RETRY_DELAY_BASE,s),u=oer(l.$response),m=Math.max(u||0,d);i+=m,await new Promise(p=>setTimeout(p,m));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},oer=Zr(e=>{if(!Vb.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),aer=class extends xTe{static{Zr(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ks.DefaultRateLimiter,this.mode=ks.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:Zr(async()=>this.rateLimiter.getSendToken(),"beforeRequest"),afterRequest:Zr(r=>{this.rateLimiter.updateClientSendingRate(r)},"afterRequest")})}},vTe=Jn(),o9="AWS_MAX_ATTEMPTS",a9="max_attempts",cer={environmentVariableSelector:Zr(e=>{let t=e[o9];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${o9} mast be a number, got "${t}"`);return r},"environmentVariableSelector"),configFileSelector:Zr(e=>{let t=e[a9];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${a9} mast be a number, got "${t}"`);return r},"configFileSelector"),default:ks.DEFAULT_MAX_ATTEMPTS},ler=Zr(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,vTe.normalizeProvider)(n??ks.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:Zr(async()=>t||(await(0,vTe.normalizeProvider)(r)()===ks.RETRY_MODES.ADAPTIVE?new ks.AdaptiveRetryStrategy(s):new ks.StandardRetryStrategy(s)),"retryStrategy")})},"resolveRetryConfig"),PTe="AWS_RETRY_MODE",RTe="retry_mode",der={environmentVariableSelector:Zr(e=>e[PTe],"environmentVariableSelector"),configFileSelector:Zr(e=>e[RTe],"configFileSelector"),default:ks.DEFAULT_RETRY_MODE},TTe=Zr(()=>e=>async t=>{let{request:r}=t;return Vb.HttpRequest.isInstance(r)&&(delete r.headers[ks.INVOCATION_ID_HEADER],delete r.headers[ks.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),ITe={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},uer=Zr(e=>({applyToStack:Zr(t=>{t.addRelativeTo(TTe(),ITe)},"applyToStack")}),"getOmitRetryHeadersPlugin"),mer=K(),fer=STe(),OTe=Zr(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(per(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,u=Vb.HttpRequest.isInstance(d);for(u&&(d.headers[ks.INVOCATION_ID_HEADER]=(0,CTe.v4)());;)try{u&&(d.headers[ks.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:m,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:m,output:p}}catch(m){let p=ger(m);if(a=ATe(m),u&&(0,fer.isStreamingPayload)(d))throw(r.logger instanceof mer.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let g=o.getRetryDelay();l+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),per=Zr(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),ger=Zr(e=>{let t={error:e,errorType:her(e)},r=DTe(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),her=Zr(e=>(0,Fh.isThrottlingError)(e)?"THROTTLING":(0,Fh.isTransientError)(e)?"TRANSIENT":(0,Fh.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),NTe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},yer=Zr(e=>({applyToStack:Zr(t=>{t.add(OTe(e),NTe)},"applyToStack")}),"getRetryPlugin"),DTe=Zr(e=>{if(!Vb.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var l9=E(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.resolveHttpAuthSchemeConfig=Bh.defaultSecretsManagerHttpAuthSchemeProvider=Bh.defaultSecretsManagerHttpAuthSchemeParametersProvider=void 0;var _er=(ao(),F(Tm)),c9=Jn(),Ser=async(e,t,r)=>({operation:(0,c9.getSmithyContext)(t).operation,region:await(0,c9.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Bh.defaultSecretsManagerHttpAuthSchemeParametersProvider=Ser;function ver(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Eer=e=>{let t=[];switch(e.operation){default:t.push(ver(e))}return t};Bh.defaultSecretsManagerHttpAuthSchemeProvider=Eer;var Cer=e=>{let t=(0,_er.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,c9.normalizeProvider)(e.authSchemePreference??[])})};Bh.resolveHttpAuthSchemeConfig=Cer});var Va={};ct(Va,{__addDisposableResource:()=>iIe,__assign:()=>iq,__asyncDelegator:()=>QTe,__asyncGenerator:()=>JTe,__asyncValues:()=>YTe,__await:()=>Gb,__awaiter:()=>HTe,__classPrivateFieldGet:()=>rIe,__classPrivateFieldIn:()=>sIe,__classPrivateFieldSet:()=>nIe,__createBinding:()=>aq,__decorate:()=>UTe,__disposeResources:()=>oIe,__esDecorate:()=>BTe,__exportStar:()=>GTe,__extends:()=>MTe,__generator:()=>VTe,__importDefault:()=>tIe,__importStar:()=>eIe,__makeTemplateObject:()=>ZTe,__metadata:()=>zTe,__param:()=>FTe,__propKey:()=>jTe,__read:()=>m9,__rest:()=>LTe,__rewriteRelativeImportExtension:()=>aIe,__runInitializers:()=>qTe,__setFunctionName:()=>$Te,__spread:()=>WTe,__spreadArray:()=>XTe,__spreadArrays:()=>KTe,__values:()=>oq,default:()=>Aer});function MTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");d9(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function LTe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function UTe(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function FTe(e,t){return function(r,n){t(r,n,e)}}function BTe(e,t,r,n,s,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,m=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var b=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(u=o(b.get))&&(d.get=u),(u=o(b.set))&&(d.set=u),(u=o(b.init))&&s.unshift(u)}else(u=o(b))&&(a==="field"?s.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),m=!0}function qTe(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function jTe(e){return typeof e=="symbol"?e:"".concat(e)}function $Te(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function zTe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function HTe(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{l(n.next(d))}catch(u){o(u)}}function c(d){try{l(n.throw(d))}catch(u){o(u)}}function l(d){d.done?i(d.value):s(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function VTe(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function GTe(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aq(t,e,r)}function oq(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m9(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function WTe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m9(arguments[t]));return e}function KTe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function XTe(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Gb(e){return this instanceof Gb?(this.v=e,this):new Gb(e)}function JTe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,u)}}function a(p,g){n[p]&&(s[p]=function(y){return new Promise(function(b,w){i.push([p,y,b,w])>1||c(p,y)})},g&&(s[p]=g(s[p])))}function c(p,g){try{l(n[p](g))}catch(y){m(i[0][3],y)}}function l(p){p.value instanceof Gb?Promise.resolve(p.value.v).then(d,u):m(i[0][2],p)}function d(p){c("next",p)}function u(p){c("throw",p)}function m(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function QTe(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Gb(e[s](o)),done:!1}:i?i(o):o}:i}}function YTe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof oq=="function"?oq(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function ZTe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function eIe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=u9(e),n=0;n<r.length;n++)r[n]!=="default"&&aq(t,e,r[n]);return ber(t,e),t}function tIe(e){return e&&e.__esModule?e:{default:e}}function rIe(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function nIe(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function sIe(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function iIe(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function oIe(e){function t(i){e.error=e.hasError?new wer(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function aIe(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var d9,iq,aq,ber,u9,wer,Aer,Ga=_(()=>{d9=function(e,t){return d9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},d9(e,t)};iq=function(){return iq=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},iq.apply(this,arguments)};aq=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};ber=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},u9=function(e){return u9=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},u9(e)};wer=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Aer={__extends:MTe,__assign:iq,__rest:LTe,__decorate:UTe,__param:FTe,__esDecorate:BTe,__runInitializers:qTe,__propKey:jTe,__setFunctionName:$Te,__metadata:zTe,__awaiter:HTe,__generator:VTe,__createBinding:aq,__exportStar:GTe,__values:oq,__read:m9,__spread:WTe,__spreadArrays:KTe,__spreadArray:XTe,__await:Gb,__asyncGenerator:JTe,__asyncDelegator:QTe,__asyncValues:YTe,__makeTemplateObject:ZTe,__importStar:eIe,__importDefault:tIe,__classPrivateFieldGet:rIe,__classPrivateFieldSet:nIe,__classPrivateFieldIn:sIe,__addDisposableResource:iIe,__disposeResources:oIe,__rewriteRelativeImportExtension:aIe}});var cIe=E((jYn,xer)=>{xer.exports={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.883.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.883.0","@aws-sdk/credential-provider-node":"3.883.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.876.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.883.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.879.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.883.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.9.2","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.21","@smithy/middleware-retry":"^4.1.22","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.5.2","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.29","@smithy/util-defaults-mode-node":"^4.0.29","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var f9=E(($Yn,hIe)=>{"use strict";var cq=Object.defineProperty,Per=Object.getOwnPropertyDescriptor,Rer=Object.getOwnPropertyNames,Ter=Object.prototype.hasOwnProperty,Ier=(e,t)=>cq(e,"name",{value:t,configurable:!0}),Oer=(e,t)=>{for(var r in t)cq(e,r,{get:t[r],enumerable:!0})},Ner=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rer(t))!Ter.call(e,s)&&s!==r&&cq(e,s,{get:()=>t[s],enumerable:!(n=Per(t,s))||n.enumerable});return e},Der=e=>Ner(cq({},"__esModule",{value:!0}),e),lIe={};Oer(lIe,{ENV_ACCOUNT_ID:()=>gIe,ENV_CREDENTIAL_SCOPE:()=>pIe,ENV_EXPIRATION:()=>fIe,ENV_KEY:()=>dIe,ENV_SECRET:()=>uIe,ENV_SESSION:()=>mIe,fromEnv:()=>Ler});hIe.exports=Der(lIe);var ker=(ju(),F(xh)),Mer=qt(),dIe="AWS_ACCESS_KEY_ID",uIe="AWS_SECRET_ACCESS_KEY",mIe="AWS_SESSION_TOKEN",fIe="AWS_CREDENTIAL_EXPIRATION",pIe="AWS_CREDENTIAL_SCOPE",gIe="AWS_ACCOUNT_ID",Ler=Ier(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[dIe],r=process.env[uIe],n=process.env[mIe],s=process.env[fIe],i=process.env[pIe],o=process.env[gIe];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,ker.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Mer.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Hu=E((zYn,IIe)=>{var uq=Object.defineProperty,Uer=Object.getOwnPropertyDescriptor,Fer=Object.getOwnPropertyNames,Ber=Object.prototype.hasOwnProperty,Un=(e,t)=>uq(e,"name",{value:t,configurable:!0}),qer=(e,t)=>{for(var r in t)uq(e,r,{get:t[r],enumerable:!0})},jer=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Fer(t))!Ber.call(e,s)&&s!==r&&uq(e,s,{get:()=>t[s],enumerable:!(n=Uer(t,s))||n.enumerable});return e},$er=e=>jer(uq({},"__esModule",{value:!0}),e),vIe={};qer(vIe,{DEFAULT_MAX_RETRIES:()=>wIe,DEFAULT_TIMEOUT:()=>bIe,ENV_CMDS_AUTH_TOKEN:()=>h9,ENV_CMDS_FULL_URI:()=>lq,ENV_CMDS_RELATIVE_URI:()=>dq,Endpoint:()=>xIe,fromContainerMetadata:()=>Ger,fromInstanceMetadata:()=>ftr,getInstanceMetadataEndpoint:()=>RIe,httpRequest:()=>Wb,providerConfigFromInit:()=>y9});IIe.exports=$er(vIe);var zer=require("url"),Om=qt(),Her=require("buffer"),Ver=require("http");function Wb(e){return new Promise((t,r)=>{let n=(0,Ver.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Om.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Om.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Om.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(Her.Buffer.concat(o)),n.destroy()})}),n.end()})}Un(Wb,"httpRequest");var EIe=Un(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),CIe=Un(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),bIe=1e3,wIe=0,y9=Un(({maxRetries:e=wIe,timeout:t=bIe})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),g9=Un((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),lq="AWS_CONTAINER_CREDENTIALS_FULL_URI",dq="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",h9="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ger=Un((e={})=>{let{timeout:t,maxRetries:r}=y9(e);return()=>g9(async()=>{let n=await Qer({logger:e.logger}),s=JSON.parse(await Wer(t,n));if(!EIe(s))throw new Om.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return CIe(s)},r)},"fromContainerMetadata"),Wer=Un(async(e,t)=>(process.env[h9]&&(t.headers={...t.headers,Authorization:process.env[h9]}),(await Wb({...t,timeout:e})).toString()),"requestFromEcsImds"),Ker="169.254.170.2",Xer={localhost:!0,"127.0.0.1":!0},Jer={"http:":!0,"https:":!0},Qer=Un(async({logger:e})=>{if(process.env[dq])return{hostname:Ker,path:process.env[dq]};if(process.env[lq]){let t=(0,zer.parse)(process.env[lq]);if(!t.hostname||!(t.hostname in Xer))throw new Om.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in Jer))throw new Om.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Om.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${dq} or ${lq} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),Yer=class AIe extends Om.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,AIe.prototype)}static{Un(this,"InstanceMetadataV1FallbackError")}},_9=sa(),Zer=oo(),xIe=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(xIe||{}),etr="AWS_EC2_METADATA_SERVICE_ENDPOINT",ttr="ec2_metadata_service_endpoint",rtr={environmentVariableSelector:Un(e=>e[etr],"environmentVariableSelector"),configFileSelector:Un(e=>e[ttr],"configFileSelector"),default:void 0},PIe=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(PIe||{}),ntr="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",str="ec2_metadata_service_endpoint_mode",itr={environmentVariableSelector:Un(e=>e[ntr],"environmentVariableSelector"),configFileSelector:Un(e=>e[str],"configFileSelector"),default:"IPv4"},RIe=Un(async()=>(0,Zer.parseUrl)(await otr()||await atr()),"getInstanceMetadataEndpoint"),otr=Un(async()=>(0,_9.loadConfig)(rtr)(),"getFromEndpointConfig"),atr=Un(async()=>{let e=await(0,_9.loadConfig)(itr)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(PIe)}`)}},"getFromEndpointModeConfig"),ctr=5*60,ltr=5*60,dtr="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",yIe=Un((e,t)=>{let r=ctr+Math.floor(Math.random()*ltr),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+dtr);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),utr=Un((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=yIe(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=yIe(n,r);else throw i}return n=s,s}},"staticStabilityProvider"),TIe="/latest/meta-data/iam/security-credentials/",mtr="/latest/api/token",p9="AWS_EC2_METADATA_V1_DISABLED",_Ie="ec2_metadata_v1_disabled",SIe="x-aws-ec2-metadata-token",ftr=Un((e={})=>utr(ptr(e),{logger:e.logger}),"fromInstanceMetadata"),ptr=Un((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=y9(e),o=Un(async(a,c)=>{if(t||c.headers?.[SIe]==null){let u=!1,m=!1,p=await(0,_9.loadConfig)({environmentVariableSelector:Un(g=>{let y=g[p9];if(m=!!y&&y!=="false",y===void 0)throw new Om.CredentialsProviderError(`${p9} not set in env, checking config file next.`,{logger:e.logger});return m},"environmentVariableSelector"),configFileSelector:Un(g=>{let y=g[_Ie];return u=!!y&&y!=="false",u},"configFileSelector"),default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${_Ie})`),m&&g.push(`process environment variable (${p9})`),new Yer(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let d=(await g9(async()=>{let u;try{u=await htr(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return u},a)).trim();return g9(async()=>{let u;try{u=await ytr(d,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return u},a)},"getCredentials");return async()=>{let a=await RIe();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await gtr({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[SIe]:c},timeout:s})}}},"getInstanceMetadataProvider"),gtr=Un(async e=>Wb({...e,path:mtr,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),htr=Un(async e=>(await Wb({...e,path:TIe})).toString(),"getProfile"),ytr=Un(async(e,t,r)=>{let n=JSON.parse((await Wb({...t,path:TIe+e})).toString());if(!EIe(n))throw new Om.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return CIe(n)},"getCredentialsFromProfile")});var OIe=E(mq=>{"use strict";Object.defineProperty(mq,"__esModule",{value:!0});mq.checkUrl=void 0;var _tr=qt(),Str="169.254.170.2",vtr="169.254.170.23",Etr="[fd00:ec2::23]",Ctr=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Str||e.hostname===vtr||e.hostname===Etr)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new _tr.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};mq.checkUrl=Ctr});var NIe=E(fq=>{"use strict";Object.defineProperty(fq,"__esModule",{value:!0});fq.createGetRequest=xtr;fq.getCredentials=Ptr;var S9=qt(),btr=Ge(),wtr=K(),Atr=sp();function xtr(e){return new btr.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Ptr(e,t){let n=await(0,Atr.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new S9.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,wtr.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new S9.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new S9.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var DIe=E(pq=>{"use strict";Object.defineProperty(pq,"__esModule",{value:!0});pq.retryWrapper=void 0;var Rtr=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};pq.retryWrapper=Rtr});var LIe=E(gq=>{"use strict";Object.defineProperty(gq,"__esModule",{value:!0});gq.fromHttp=void 0;var Ttr=(Ga(),F(Va)),Itr=(ju(),F(xh)),Otr=Oo(),kIe=qt(),Ntr=Ttr.__importDefault(require("fs/promises")),Dtr=OIe(),MIe=NIe(),ktr=DIe(),Mtr="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ltr="http://169.254.170.2",Utr="AWS_CONTAINER_CREDENTIALS_FULL_URI",Ftr="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Btr="AWS_CONTAINER_AUTHORIZATION_TOKEN",qtr=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Mtr],n=e.awsContainerCredentialsFullUri??process.env[Utr],s=e.awsContainerAuthorizationToken??process.env[Btr],i=e.awsContainerAuthorizationTokenFile??process.env[Ftr],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Ltr}${r}`;else throw new kIe.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Dtr.checkUrl)(a,e.logger);let c=new Otr.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,ktr.retryWrapper)(async()=>{let l=(0,MIe.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await Ntr.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,MIe.getCredentials)(d.response).then(u=>(0,Itr.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new kIe.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};gq.fromHttp=qtr});var v9=E(hq=>{"use strict";Object.defineProperty(hq,"__esModule",{value:!0});hq.fromHttp=void 0;var jtr=LIe();Object.defineProperty(hq,"fromHttp",{enumerable:!0,get:function(){return jtr.fromHttp}})});var C9=E(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.resolveHttpAuthSchemeConfig=qh.defaultSSOHttpAuthSchemeProvider=qh.defaultSSOHttpAuthSchemeParametersProvider=void 0;var $tr=(ao(),F(Tm)),E9=Jn(),ztr=async(e,t,r)=>({operation:(0,E9.getSmithyContext)(t).operation,region:await(0,E9.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qh.defaultSSOHttpAuthSchemeParametersProvider=ztr;function Htr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function yq(e){return{schemeId:"smithy.api#noAuth"}}var Vtr=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(yq(e));break}case"ListAccountRoles":{t.push(yq(e));break}case"ListAccounts":{t.push(yq(e));break}case"Logout":{t.push(yq(e));break}default:t.push(Htr(e))}return t};qh.defaultSSOHttpAuthSchemeProvider=Vtr;var Gtr=e=>{let t=(0,$tr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,E9.normalizeProvider)(e.authSchemePreference??[])})};qh.resolveHttpAuthSchemeConfig=Gtr});var UIe=E((JYn,Wtr)=>{Wtr.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.883.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.883.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.876.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.883.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.879.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.883.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.9.2","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.21","@smithy/middleware-retry":"^4.1.22","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.5.2","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.29","@smithy/util-defaults-mode-node":"^4.0.29","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var UT=E((QYn,HIe)=>{"use strict";var Sq=Object.defineProperty,Ktr=Object.getOwnPropertyDescriptor,Xtr=Object.getOwnPropertyNames,Jtr=Object.prototype.hasOwnProperty,_q=(e,t)=>Sq(e,"name",{value:t,configurable:!0}),Qtr=(e,t)=>{for(var r in t)Sq(e,r,{get:t[r],enumerable:!0})},Ytr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Xtr(t))!Jtr.call(e,s)&&s!==r&&Sq(e,s,{get:()=>t[s],enumerable:!(n=Ktr(t,s))||n.enumerable});return e},Ztr=e=>Ytr(Sq({},"__esModule",{value:!0}),e),BIe={};Qtr(BIe,{NODE_APP_ID_CONFIG_OPTIONS:()=>srr,UA_APP_ID_ENV_NAME:()=>$Ie,UA_APP_ID_INI_NAME:()=>zIe,createDefaultUserAgentProvider:()=>jIe,crtAvailability:()=>qIe,defaultUserAgent:()=>trr});HIe.exports=Ztr(BIe);var FIe=require("os"),b9=require("process"),qIe={isCrtAvailable:!1},err=_q(()=>qIe.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),jIe=_q(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,FIe.platform)()}`,(0,FIe.release)()],["lang/js"],["md/nodejs",`${b9.versions.node}`]],s=err();s&&n.push(s),e&&n.push([`api/${e}`,t]),b9.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${b9.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),trr=jIe,rrr=$b(),$Ie="AWS_SDK_UA_APP_ID",zIe="sdk_ua_app_id",nrr="sdk-ua-app-id",srr={environmentVariableSelector:_q(e=>e[$Ie],"environmentVariableSelector"),configFileSelector:_q(e=>e[zIe]??e[nrr],"configFileSelector"),default:rrr.DEFAULT_UA_APP_ID}});var cl=E((YYn,KIe)=>{var vq=Object.defineProperty,irr=Object.getOwnPropertyDescriptor,orr=Object.getOwnPropertyNames,arr=Object.prototype.hasOwnProperty,GIe=(e,t)=>vq(e,"name",{value:t,configurable:!0}),crr=(e,t)=>{for(var r in t)vq(e,r,{get:t[r],enumerable:!0})},lrr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of orr(t))!arr.call(e,s)&&s!==r&&vq(e,s,{get:()=>t[s],enumerable:!(n=irr(t,s))||n.enumerable});return e},drr=e=>lrr(vq({},"__esModule",{value:!0}),e),WIe={};crr(WIe,{Hash:()=>frr});KIe.exports=drr(WIe);var w9=xb(),urr=kt(),mrr=require("buffer"),VIe=require("crypto"),frr=class{static{GIe(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,urr.toUint8Array)(A9(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,VIe.createHmac)(this.algorithmIdentifier,A9(this.secret)):(0,VIe.createHash)(this.algorithmIdentifier)}};function A9(e,t){return mrr.Buffer.isBuffer(e)?e:typeof e=="string"?(0,w9.fromString)(e,t):ArrayBuffer.isView(e)?(0,w9.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,w9.fromArrayBuffer)(e)}GIe(A9,"castSourceData")});var ll=E((e9n,QIe)=>{var Eq=Object.defineProperty,prr=Object.getOwnPropertyDescriptor,grr=Object.getOwnPropertyNames,hrr=Object.prototype.hasOwnProperty,yrr=(e,t)=>Eq(e,"name",{value:t,configurable:!0}),_rr=(e,t)=>{for(var r in t)Eq(e,r,{get:t[r],enumerable:!0})},Srr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of grr(t))!hrr.call(e,s)&&s!==r&&Eq(e,s,{get:()=>t[s],enumerable:!(n=prr(t,s))||n.enumerable});return e},vrr=e=>Srr(Eq({},"__esModule",{value:!0}),e),JIe={};_rr(JIe,{calculateBodyLength:()=>Err});QIe.exports=vrr(JIe);var XIe=require("fs"),Err=yrr(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,XIe.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,XIe.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var mOe=E(Cq=>{"use strict";Object.defineProperty(Cq,"__esModule",{value:!0});Cq.ruleSet=void 0;var cOe="required",Gl="fn",Wl="argv",Jb="ref",YIe=!0,ZIe="isSet",FT="booleanEquals",Kb="error",Xb="endpoint",gp="tree",x9="PartitionResult",P9="getAttr",eOe={[cOe]:!1,type:"String"},tOe={[cOe]:!0,default:!1,type:"Boolean"},rOe={[Jb]:"Endpoint"},lOe={[Gl]:FT,[Wl]:[{[Jb]:"UseFIPS"},!0]},dOe={[Gl]:FT,[Wl]:[{[Jb]:"UseDualStack"},!0]},Vl={},nOe={[Gl]:P9,[Wl]:[{[Jb]:x9},"supportsFIPS"]},uOe={[Jb]:x9},sOe={[Gl]:FT,[Wl]:[!0,{[Gl]:P9,[Wl]:[uOe,"supportsDualStack"]}]},iOe=[lOe],oOe=[dOe],aOe=[{[Jb]:"Region"}],Crr={version:"1.0",parameters:{Region:eOe,UseDualStack:tOe,UseFIPS:tOe,Endpoint:eOe},rules:[{conditions:[{[Gl]:ZIe,[Wl]:[rOe]}],rules:[{conditions:iOe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Kb},{conditions:oOe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Kb},{endpoint:{url:rOe,properties:Vl,headers:Vl},type:Xb}],type:gp},{conditions:[{[Gl]:ZIe,[Wl]:aOe}],rules:[{conditions:[{[Gl]:"aws.partition",[Wl]:aOe,assign:x9}],rules:[{conditions:[lOe,dOe],rules:[{conditions:[{[Gl]:FT,[Wl]:[YIe,nOe]},sOe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Vl,headers:Vl},type:Xb}],type:gp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Kb}],type:gp},{conditions:iOe,rules:[{conditions:[{[Gl]:FT,[Wl]:[nOe,YIe]}],rules:[{conditions:[{[Gl]:"stringEquals",[Wl]:[{[Gl]:P9,[Wl]:[uOe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Vl,headers:Vl},type:Xb},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Vl,headers:Vl},type:Xb}],type:gp},{error:"FIPS is enabled but this partition does not support FIPS",type:Kb}],type:gp},{conditions:oOe,rules:[{conditions:[sOe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Vl,headers:Vl},type:Xb}],type:gp},{error:"DualStack is enabled but this partition does not support DualStack",type:Kb}],type:gp},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Vl,headers:Vl},type:Xb}],type:gp}],type:gp},{error:"Invalid Configuration: Missing Region",type:Kb}]};Cq.ruleSet=Crr});var fOe=E(bq=>{"use strict";Object.defineProperty(bq,"__esModule",{value:!0});bq.defaultEndpointResolver=void 0;var brr=Ob(),R9=ra(),wrr=mOe(),Arr=new R9.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xrr=(e,t={})=>Arr.get(e,()=>(0,R9.resolveEndpoint)(wrr.ruleSet,{endpointParams:e,logger:t.logger}));bq.defaultEndpointResolver=xrr;R9.customEndpointFunctions.aws=brr.awsEndpointFunctions});var hOe=E(wq=>{"use strict";Object.defineProperty(wq,"__esModule",{value:!0});wq.getRuntimeConfig=void 0;var Prr=(ao(),F(Tm)),Rrr=(lt(),F(ui)),Trr=K(),Irr=oo(),pOe=Mt(),gOe=kt(),Orr=C9(),Nrr=fOe(),Drr=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??pOe.fromBase64,base64Encoder:e?.base64Encoder??pOe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Nrr.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Orr.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Prr.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Rrr.NoAuthSigner}],logger:e?.logger??new Trr.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Irr.parseUrl,utf8Decoder:e?.utf8Decoder??gOe.fromUtf8,utf8Encoder:e?.utf8Encoder??gOe.toUtf8});wq.getRuntimeConfig=Drr});var dl=E((s9n,COe)=>{var krr=Object.create,qT=Object.defineProperty,Mrr=Object.getOwnPropertyDescriptor,Lrr=Object.getOwnPropertyNames,Urr=Object.getPrototypeOf,Frr=Object.prototype.hasOwnProperty,BT=(e,t)=>qT(e,"name",{value:t,configurable:!0}),Brr=(e,t)=>{for(var r in t)qT(e,r,{get:t[r],enumerable:!0})},vOe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Lrr(t))!Frr.call(e,s)&&s!==r&&qT(e,s,{get:()=>t[s],enumerable:!(n=Mrr(t,s))||n.enumerable});return e},qrr=(e,t,r)=>(r=e!=null?krr(Urr(e)):{},vOe(t||!e||!e.__esModule?qT(r,"default",{value:e,enumerable:!0}):r,e)),jrr=e=>vOe(qT({},"__esModule",{value:!0}),e),EOe={};Brr(EOe,{resolveDefaultsModeConfig:()=>Qrr});COe.exports=jrr(EOe);var $rr=Ln(),yOe=sa(),zrr=qt(),Hrr="AWS_EXECUTION_ENV",_Oe="AWS_REGION",SOe="AWS_DEFAULT_REGION",Vrr="AWS_EC2_METADATA_DISABLED",Grr=["in-region","cross-region","mobile","standard","legacy"],Wrr="/latest/meta-data/placement/region",Krr="AWS_DEFAULTS_MODE",Xrr="defaults_mode",Jrr={environmentVariableSelector:BT(e=>e[Krr],"environmentVariableSelector"),configFileSelector:BT(e=>e[Xrr],"configFileSelector"),default:"legacy"},Qrr=BT(({region:e=(0,yOe.loadConfig)($rr.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,yOe.loadConfig)(Jrr)}={})=>(0,zrr.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Yrr(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Grr.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Yrr=BT(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Zrr();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Zrr=BT(async()=>{if(process.env[Hrr]&&(process.env[_Oe]||process.env[SOe]))return process.env[_Oe]??process.env[SOe];if(!process.env[Vrr])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>qrr(Hu())),r=await e();return(await t({...r,path:Wrr})).toString()}catch{}},"inferPhysicalRegion")});var POe=E(xq=>{"use strict";Object.defineProperty(xq,"__esModule",{value:!0});xq.getRuntimeConfig=void 0;var enr=(Ga(),F(Va)),tnr=enr.__importDefault(UIe()),bOe=(ao(),F(Tm)),wOe=UT(),Aq=Ln(),rnr=cl(),AOe=Yn(),tv=sa(),xOe=Oo(),nnr=ll(),snr=vc(),inr=hOe(),onr=K(),anr=dl(),cnr=K(),lnr=e=>{(0,cnr.emitWarningIfUnsupportedVersion)(process.version);let t=(0,anr.resolveDefaultsModeConfig)(e),r=()=>t().then(onr.loadConfigsForDefaultMode),n=(0,inr.getRuntimeConfig)(e);(0,bOe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,tv.loadConfig)(bOe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??nnr.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,wOe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:tnr.default.version}),maxAttempts:e?.maxAttempts??(0,tv.loadConfig)(AOe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,tv.loadConfig)(Aq.NODE_REGION_CONFIG_OPTIONS,{...Aq.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:xOe.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,tv.loadConfig)({...AOe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||snr.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??rnr.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??xOe.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,tv.loadConfig)(Aq.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,tv.loadConfig)(Aq.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,tv.loadConfig)(wOe.NODE_APP_ID_CONFIG_OPTIONS,s)}};xq.getRuntimeConfig=lnr});var jT=E((o9n,DOe)=>{"use strict";var Pq=Object.defineProperty,dnr=Object.getOwnPropertyDescriptor,unr=Object.getOwnPropertyNames,mnr=Object.prototype.hasOwnProperty,Nm=(e,t)=>Pq(e,"name",{value:t,configurable:!0}),fnr=(e,t)=>{for(var r in t)Pq(e,r,{get:t[r],enumerable:!0})},pnr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of unr(t))!mnr.call(e,s)&&s!==r&&Pq(e,s,{get:()=>t[s],enumerable:!(n=dnr(t,s))||n.enumerable});return e},gnr=e=>pnr(Pq({},"__esModule",{value:!0}),e),TOe={};fnr(TOe,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Snr,NODE_REGION_CONFIG_OPTIONS:()=>_nr,REGION_ENV_NAME:()=>IOe,REGION_INI_NAME:()=>OOe,getAwsRegionExtensionConfiguration:()=>hnr,resolveAwsRegionExtensionConfiguration:()=>ynr,resolveRegionConfig:()=>vnr});DOe.exports=gnr(TOe);var hnr=Nm(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),ynr=Nm(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),IOe="AWS_REGION",OOe="region",_nr={environmentVariableSelector:Nm(e=>e[IOe],"environmentVariableSelector"),configFileSelector:Nm(e=>e[OOe],"configFileSelector"),default:Nm(()=>{throw new Error("Region is missing")},"default")},Snr={preferredFile:"credentials"},NOe=Nm(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),ROe=Nm(e=>NOe(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),vnr=Nm(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Nm(async()=>{if(typeof t=="string")return ROe(t);let n=await t();return ROe(n)},"region"),useFipsEndpoint:Nm(async()=>{let n=typeof t=="string"?t:await t();return NOe(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var mNe=E((a9n,uNe)=>{"use strict";var Rq=Object.defineProperty,Enr=Object.getOwnPropertyDescriptor,Cnr=Object.getOwnPropertyNames,bnr=Object.prototype.hasOwnProperty,gr=(e,t)=>Rq(e,"name",{value:t,configurable:!0}),wnr=(e,t)=>{for(var r in t)Rq(e,r,{get:t[r],enumerable:!0})},Anr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cnr(t))!bnr.call(e,s)&&s!==r&&Rq(e,s,{get:()=>t[s],enumerable:!(n=Enr(t,s))||n.enumerable});return e},xnr=e=>Anr(Rq({},"__esModule",{value:!0}),e),qOe={};wnr(qOe,{GetRoleCredentialsCommand:()=>cNe,GetRoleCredentialsRequestFilterSensitiveLog:()=>JOe,GetRoleCredentialsResponseFilterSensitiveLog:()=>YOe,InvalidRequestException:()=>$Oe,ListAccountRolesCommand:()=>T9,ListAccountRolesRequestFilterSensitiveLog:()=>ZOe,ListAccountsCommand:()=>I9,ListAccountsRequestFilterSensitiveLog:()=>eNe,LogoutCommand:()=>lNe,LogoutRequestFilterSensitiveLog:()=>tNe,ResourceNotFoundException:()=>HOe,RoleCredentialsFilterSensitiveLog:()=>QOe,SSO:()=>dNe,SSOClient:()=>Iq,SSOServiceException:()=>Qb,TooManyRequestsException:()=>GOe,UnauthorizedException:()=>KOe,__Client:()=>Be.Client,paginateListAccountRoles:()=>Ynr,paginateListAccounts:()=>Znr});uNe.exports=xnr(qOe);var kOe=JR(),Pnr=QR(),Rnr=YR(),MOe=$b(),Tnr=Ln(),hp=(lt(),F(ui)),Inr=il(),zT=us(),LOe=Yn(),UOe=C9(),Onr=gr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Tq={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Nnr=POe(),FOe=jT(),BOe=Ge(),Be=K(),Dnr=gr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),knr=gr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Mnr=gr((e,t)=>{let r=Object.assign((0,FOe.getAwsRegionExtensionConfiguration)(e),(0,Be.getDefaultExtensionConfiguration)(e),(0,BOe.getHttpHandlerExtensionConfiguration)(e),Dnr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,FOe.resolveAwsRegionExtensionConfiguration)(r),(0,Be.resolveDefaultRuntimeConfig)(r),(0,BOe.resolveHttpHandlerRuntimeConfig)(r),knr(r))},"resolveRuntimeExtensions"),Iq=class extends Be.Client{static{gr(this,"SSOClient")}config;constructor(...[e]){let t=(0,Nnr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Onr(t),n=(0,MOe.resolveUserAgentConfig)(r),s=(0,LOe.resolveRetryConfig)(n),i=(0,Tnr.resolveRegionConfig)(s),o=(0,kOe.resolveHostHeaderConfig)(i),a=(0,zT.resolveEndpointConfig)(o),c=(0,UOe.resolveHttpAuthSchemeConfig)(a),l=Mnr(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,MOe.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,LOe.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Inr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,kOe.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Pnr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Rnr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,hp.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:UOe.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:gr(async d=>new hp.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,hp.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Oq=io(),Qb=class jOe extends Be.ServiceException{static{gr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,jOe.prototype)}},$Oe=class zOe extends Qb{static{gr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,zOe.prototype)}},HOe=class VOe extends Qb{static{gr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,VOe.prototype)}},GOe=class WOe extends Qb{static{gr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,WOe.prototype)}},KOe=class XOe extends Qb{static{gr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,XOe.prototype)}},JOe=gr(e=>({...e,...e.accessToken&&{accessToken:Be.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),QOe=gr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:Be.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:Be.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),YOe=gr(e=>({...e,...e.roleCredentials&&{roleCredentials:QOe(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),ZOe=gr(e=>({...e,...e.accessToken&&{accessToken:Be.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),eNe=gr(e=>({...e,...e.accessToken&&{accessToken:Be.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),tNe=gr(e=>({...e,...e.accessToken&&{accessToken:Be.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),$T=(ao(),F(Tm)),Lnr=gr(async(e,t)=>{let r=(0,hp.requestBuilder)(e,t),n=(0,Be.map)({},Be.isSerializableHeaderValue,{[kq]:e[Dq]});r.bp("/federation/credentials");let s=(0,Be.map)({[Jnr]:[,(0,Be.expectNonNull)(e[Xnr],"roleName")],[nNe]:[,(0,Be.expectNonNull)(e[rNe],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Unr=gr(async(e,t)=>{let r=(0,hp.requestBuilder)(e,t),n=(0,Be.map)({},Be.isSerializableHeaderValue,{[kq]:e[Dq]});r.bp("/assignment/roles");let s=(0,Be.map)({[aNe]:[,e[oNe]],[iNe]:[()=>e.maxResults!==void 0,()=>e[sNe].toString()],[nNe]:[,(0,Be.expectNonNull)(e[rNe],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),Fnr=gr(async(e,t)=>{let r=(0,hp.requestBuilder)(e,t),n=(0,Be.map)({},Be.isSerializableHeaderValue,{[kq]:e[Dq]});r.bp("/assignment/accounts");let s=(0,Be.map)({[aNe]:[,e[oNe]],[iNe]:[()=>e.maxResults!==void 0,()=>e[sNe].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),Bnr=gr(async(e,t)=>{let r=(0,hp.requestBuilder)(e,t),n=(0,Be.map)({},Be.isSerializableHeaderValue,{[kq]:e[Dq]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),qnr=gr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nq(e,t);let r=(0,Be.map)({$metadata:jh(e)}),n=(0,Be.expectNonNull)((0,Be.expectObject)(await(0,$T.parseJsonBody)(e.body,t)),"body"),s=(0,Be.take)(n,{roleCredentials:Be._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),jnr=gr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nq(e,t);let r=(0,Be.map)({$metadata:jh(e)}),n=(0,Be.expectNonNull)((0,Be.expectObject)(await(0,$T.parseJsonBody)(e.body,t)),"body"),s=(0,Be.take)(n,{nextToken:Be.expectString,roleList:Be._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),$nr=gr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nq(e,t);let r=(0,Be.map)({$metadata:jh(e)}),n=(0,Be.expectNonNull)((0,Be.expectObject)(await(0,$T.parseJsonBody)(e.body,t)),"body"),s=(0,Be.take)(n,{accountList:Be._json,nextToken:Be.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),znr=gr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nq(e,t);let r=(0,Be.map)({$metadata:jh(e)});return await(0,Be.collectBody)(e.body,t),r},"de_LogoutCommand"),Nq=gr(async(e,t)=>{let r={...e,body:await(0,$T.parseJsonErrorBody)(e.body,t)},n=(0,$T.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Vnr(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Gnr(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Wnr(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Knr(r,t);default:let s=r.body;return Hnr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),Hnr=(0,Be.withBaseException)(Qb),Vnr=gr(async(e,t)=>{let r=(0,Be.map)({}),n=e.body,s=(0,Be.take)(n,{message:Be.expectString});Object.assign(r,s);let i=new $Oe({$metadata:jh(e),...r});return(0,Be.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),Gnr=gr(async(e,t)=>{let r=(0,Be.map)({}),n=e.body,s=(0,Be.take)(n,{message:Be.expectString});Object.assign(r,s);let i=new HOe({$metadata:jh(e),...r});return(0,Be.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),Wnr=gr(async(e,t)=>{let r=(0,Be.map)({}),n=e.body,s=(0,Be.take)(n,{message:Be.expectString});Object.assign(r,s);let i=new GOe({$metadata:jh(e),...r});return(0,Be.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),Knr=gr(async(e,t)=>{let r=(0,Be.map)({}),n=e.body,s=(0,Be.take)(n,{message:Be.expectString});Object.assign(r,s);let i=new KOe({$metadata:jh(e),...r});return(0,Be.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),jh=gr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),rNe="accountId",Dq="accessToken",nNe="account_id",sNe="maxResults",iNe="max_result",oNe="nextToken",aNe="next_token",Xnr="roleName",Jnr="role_name",kq="x-amz-sso_bearer_token",cNe=class extends Be.Command.classBuilder().ep(Tq).m(function(e,t,r,n){return[(0,Oq.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(JOe,YOe).ser(Lnr).de(qnr).build(){static{gr(this,"GetRoleCredentialsCommand")}},T9=class extends Be.Command.classBuilder().ep(Tq).m(function(e,t,r,n){return[(0,Oq.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(ZOe,void 0).ser(Unr).de(jnr).build(){static{gr(this,"ListAccountRolesCommand")}},I9=class extends Be.Command.classBuilder().ep(Tq).m(function(e,t,r,n){return[(0,Oq.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(eNe,void 0).ser(Fnr).de($nr).build(){static{gr(this,"ListAccountsCommand")}},lNe=class extends Be.Command.classBuilder().ep(Tq).m(function(e,t,r,n){return[(0,Oq.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(tNe,void 0).ser(Bnr).de(znr).build(){static{gr(this,"LogoutCommand")}},Qnr={GetRoleCredentialsCommand:cNe,ListAccountRolesCommand:T9,ListAccountsCommand:I9,LogoutCommand:lNe},dNe=class extends Iq{static{gr(this,"SSO")}};(0,Be.createAggregatedClient)(Qnr,dNe);var Ynr=(0,hp.createPaginator)(Iq,T9,"nextToken","nextToken","maxResults"),Znr=(0,hp.createPaginator)(Iq,I9,"nextToken","nextToken","maxResults")});function esr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tsr(e){return{schemeId:"smithy.api#noAuth"}}var HT,fNe,pNe,gNe,O9=_(()=>{ao();HT=C(Jn()),fNe=async(e,t,r)=>({operation:(0,HT.getSmithyContext)(t).operation,region:await(0,HT.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});pNe=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(tsr(e));break}default:t.push(esr(e))}return t},gNe=e=>{let t=VS(e);return Object.assign(t,{authSchemePreference:(0,HT.normalizeProvider)(e.authSchemePreference??[])})}});var hNe,yNe,N9=_(()=>{hNe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),yNe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Mq,D9=_(()=>{Mq={name:"@aws-sdk/nested-clients",version:"3.883.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.883.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.876.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.883.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.879.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.883.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.9.2","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.21","@smithy/middleware-retry":"^4.1.22","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.5.2","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.29","@smithy/util-defaults-mode-node":"^4.0.29","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var PNe,Xl,Jl,ew,_Ne,VT,Yb,Zb,yp,k9,M9,SNe,vNe,ENe,RNe,TNe,Kl,CNe,INe,bNe,wNe,ANe,xNe,nsr,ONe,NNe=_(()=>{PNe="required",Xl="fn",Jl="argv",ew="ref",_Ne="isSet",VT="booleanEquals",Yb="error",Zb="endpoint",yp="tree",k9="PartitionResult",M9="getAttr",SNe={[PNe]:!1,type:"String"},vNe={[PNe]:!0,default:!1,type:"Boolean"},ENe={[ew]:"Endpoint"},RNe={[Xl]:VT,[Jl]:[{[ew]:"UseFIPS"},!0]},TNe={[Xl]:VT,[Jl]:[{[ew]:"UseDualStack"},!0]},Kl={},CNe={[Xl]:M9,[Jl]:[{[ew]:k9},"supportsFIPS"]},INe={[ew]:k9},bNe={[Xl]:VT,[Jl]:[!0,{[Xl]:M9,[Jl]:[INe,"supportsDualStack"]}]},wNe=[RNe],ANe=[TNe],xNe=[{[ew]:"Region"}],nsr={version:"1.0",parameters:{Region:SNe,UseDualStack:vNe,UseFIPS:vNe,Endpoint:SNe},rules:[{conditions:[{[Xl]:_Ne,[Jl]:[ENe]}],rules:[{conditions:wNe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yb},{conditions:ANe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yb},{endpoint:{url:ENe,properties:Kl,headers:Kl},type:Zb}],type:yp},{conditions:[{[Xl]:_Ne,[Jl]:xNe}],rules:[{conditions:[{[Xl]:"aws.partition",[Jl]:xNe,assign:k9}],rules:[{conditions:[RNe,TNe],rules:[{conditions:[{[Xl]:VT,[Jl]:[!0,CNe]},bNe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kl,headers:Kl},type:Zb}],type:yp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yb}],type:yp},{conditions:wNe,rules:[{conditions:[{[Xl]:VT,[Jl]:[CNe,!0]}],rules:[{conditions:[{[Xl]:"stringEquals",[Jl]:[{[Xl]:M9,[Jl]:[INe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Kl,headers:Kl},type:Zb},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Kl,headers:Kl},type:Zb}],type:yp},{error:"FIPS is enabled but this partition does not support FIPS",type:Yb}],type:yp},{conditions:ANe,rules:[{conditions:[bNe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kl,headers:Kl},type:Zb}],type:yp},{error:"DualStack is enabled but this partition does not support DualStack",type:Yb}],type:yp},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Kl,headers:Kl},type:Zb}],type:yp}],type:yp},{error:"Invalid Configuration: Missing Region",type:Yb}]},ONe=nsr});var DNe,tw,ssr,kNe,MNe=_(()=>{DNe=C(Ob()),tw=C(ra());NNe();ssr=new tw.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),kNe=(e,t={})=>ssr.get(e,()=>(0,tw.resolveEndpoint)(ONe,{endpointParams:e,logger:t.logger}));tw.customEndpointFunctions.aws=DNe.awsEndpointFunctions});var LNe,UNe,Lq,Uq,FNe,BNe=_(()=>{ao();lt();LNe=C(K()),UNe=C(oo()),Lq=C(Mt()),Uq=C(kt());O9();MNe();FNe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Lq.fromBase64,base64Encoder:e?.base64Encoder??Lq.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??kNe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??pNe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Sc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],logger:e?.logger??new LNe.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??UNe.parseUrl,utf8Decoder:e?.utf8Decoder??Uq.fromUtf8,utf8Encoder:e?.utf8Encoder??Uq.toUtf8})});var Fq,zh,qNe,Bq,$h,qq,jNe,$Ne,zNe,HNe,VNe,GNe,WNe=_(()=>{D9();ao();Fq=C(UT()),zh=C(Ln()),qNe=C(cl()),Bq=C(Yn()),$h=C(sa()),qq=C(Oo()),jNe=C(ll()),$Ne=C(vc());BNe();zNe=C(K()),HNe=C(dl()),VNe=C(K()),GNe=e=>{(0,VNe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,HNe.resolveDefaultsModeConfig)(e),r=()=>t().then(zNe.loadConfigsForDefaultMode),n=FNe(e);Nb(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,$h.loadConfig)(Mb,s),bodyLengthChecker:e?.bodyLengthChecker??jNe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Fq.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Mq.version}),maxAttempts:e?.maxAttempts??(0,$h.loadConfig)(Bq.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,$h.loadConfig)(zh.NODE_REGION_CONFIG_OPTIONS,{...zh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:qq.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,$h.loadConfig)({...Bq.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||$Ne.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??qNe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??qq.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$h.loadConfig)(zh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,$h.loadConfig)(zh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,$h.loadConfig)(Fq.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var KNe,XNe,JNe=_(()=>{KNe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},XNe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var jq,$q,zq,QNe,YNe=_(()=>{jq=C(jT()),$q=C(Ge()),zq=C(K());JNe();QNe=(e,t)=>{let r=Object.assign((0,jq.getAwsRegionExtensionConfiguration)(e),(0,zq.getDefaultExtensionConfiguration)(e),(0,$q.getHttpHandlerExtensionConfiguration)(e),KNe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,jq.resolveAwsRegionExtensionConfiguration)(r),(0,zq.resolveDefaultRuntimeConfig)(r),(0,$q.resolveHttpHandlerRuntimeConfig)(r),XNe(r))}});var Hq,ZNe,eDe,Vq,tDe,rDe,nDe,Gq,L9,GT,U9=_(()=>{Hq=C(JR()),ZNe=C(QR()),eDe=C(YR()),Vq=C($b()),tDe=C(Ln());lt();rDe=C(il()),nDe=C(us()),Gq=C(Yn()),L9=C(K());O9();N9();WNe();YNe();GT=class extends L9.Client{config;constructor(...[t]){let r=GNe(t||{});super(r),this.initConfig=r;let n=hNe(r),s=(0,Vq.resolveUserAgentConfig)(n),i=(0,Gq.resolveRetryConfig)(s),o=(0,tDe.resolveRegionConfig)(i),a=(0,Hq.resolveHostHeaderConfig)(o),c=(0,nDe.resolveEndpointConfig)(a),l=gNe(c),d=QNe(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Vq.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Gq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,rDe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Hq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ZNe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,eDe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Zc(this.config,{httpAuthSchemeParametersProvider:fNe,identityProviderConfigProvider:async u=>new za({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(el(this.config))}destroy(){super.destroy()}}});var sDe,co,Wq=_(()=>{sDe=C(K()),co=class e extends sDe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var rv,WT,KT,F9,B9,XT,JT,QT,YT,ZT,eI,tI,rI,nI,Kq=_(()=>{rv=C(K());Wq();WT=class e extends co{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},KT=class e extends co{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},F9=e=>({...e,...e.clientSecret&&{clientSecret:rv.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:rv.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:rv.SENSITIVE_STRING}}),B9=e=>({...e,...e.accessToken&&{accessToken:rv.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:rv.SENSITIVE_STRING},...e.idToken&&{idToken:rv.SENSITIVE_STRING}}),XT=class e extends co{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},JT=class e extends co{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},QT=class e extends co{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},YT=class e extends co{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ZT=class e extends co{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},eI=class e extends co{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},tI=class e extends co{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},rI=class e extends co{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},nI=class e extends co{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var Ce,iDe,oDe,isr,osr,asr,csr,lsr,dsr,usr,msr,fsr,psr,gsr,hsr,ysr,Ql,aDe=_(()=>{ao();lt();Ce=C(K());Kq();Wq();iDe=async(e,t)=>{let r=ap(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,Ce.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,Ce._json)(i)})),r.m("POST").h(n).b(s),r.build()},oDe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return isr(e,t);let r=(0,Ce.map)({$metadata:Ql(e)}),n=(0,Ce.expectNonNull)((0,Ce.expectObject)(await jb(e.body,t)),"body"),s=(0,Ce.take)(n,{accessToken:Ce.expectString,expiresIn:Ce.expectInt32,idToken:Ce.expectString,refreshToken:Ce.expectString,tokenType:Ce.expectString});return Object.assign(r,s),r},isr=async(e,t)=>{let r={...e,body:await SY(e.body,t)},n=WS(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await asr(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await csr(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await lsr(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await dsr(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await usr(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await msr(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fsr(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await psr(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await gsr(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await hsr(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await ysr(r,t);default:let s=r.body;return osr({output:e,parsedBody:s,errorCode:n})}},osr=(0,Ce.withBaseException)(co),asr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new WT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},csr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new KT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},lsr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new XT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},dsr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new JT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},usr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new QT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},msr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new YT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},fsr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new ZT({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},psr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new eI({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},gsr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new tI({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},hsr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new rI({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},ysr=async(e,t)=>{let r=(0,Ce.map)({}),n=e.body,s=(0,Ce.take)(n,{error:Ce.expectString,error_description:Ce.expectString});Object.assign(r,s);let i=new nI({$metadata:Ql(e),...r});return(0,Ce.decorateServiceException)(i,e.body)},Ql=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var cDe,lDe,q9,sI,j9=_(()=>{cDe=C(us()),lDe=C(io()),q9=C(K());N9();Kq();aDe();sI=class extends q9.Command.classBuilder().ep(yNe).m(function(t,r,n,s){return[(0,lDe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,cDe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(F9,B9).ser(iDe).de(oDe).build(){}});var dDe,_sr,Xq,uDe=_(()=>{dDe=C(K());j9();U9();_sr={CreateTokenCommand:sI},Xq=class extends GT{};(0,dDe.createAggregatedClient)(_sr,Xq)});var mDe=_(()=>{j9()});var fDe=_(()=>{Kq()});var $9={};ct($9,{$Command:()=>q9.Command,AccessDeniedException:()=>WT,AuthorizationPendingException:()=>KT,CreateTokenCommand:()=>sI,CreateTokenRequestFilterSensitiveLog:()=>F9,CreateTokenResponseFilterSensitiveLog:()=>B9,ExpiredTokenException:()=>XT,InternalServerException:()=>JT,InvalidClientException:()=>QT,InvalidGrantException:()=>YT,InvalidRequestException:()=>ZT,InvalidScopeException:()=>eI,SSOOIDC:()=>Xq,SSOOIDCClient:()=>GT,SSOOIDCServiceException:()=>co,SlowDownException:()=>tI,UnauthorizedClientException:()=>rI,UnsupportedGrantTypeException:()=>nI,__Client:()=>L9.Client});var z9=_(()=>{U9();uDe();mDe();fDe();Wq()});var EDe=E((l7n,vDe)=>{"use strict";var Ssr=Object.create,oI=Object.defineProperty,vsr=Object.getOwnPropertyDescriptor,Esr=Object.getOwnPropertyNames,Csr=Object.getPrototypeOf,bsr=Object.prototype.hasOwnProperty,_p=(e,t)=>oI(e,"name",{value:t,configurable:!0}),wsr=(e,t)=>{for(var r in t)oI(e,r,{get:t[r],enumerable:!0})},hDe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Esr(t))!bsr.call(e,s)&&s!==r&&oI(e,s,{get:()=>t[s],enumerable:!(n=vsr(t,s))||n.enumerable});return e},yDe=(e,t,r)=>(r=e!=null?Ssr(Csr(e)):{},hDe(t||!e||!e.__esModule?oI(r,"default",{value:e,enumerable:!0}):r,e)),Asr=e=>hDe(oI({},"__esModule",{value:!0}),e),_De={};wsr(_De,{fromEnvSigningName:()=>Rsr,fromSso:()=>SDe,fromStatic:()=>Msr,nodeProvider:()=>Lsr});vDe.exports=Asr(_De);var xsr=(ju(),F(xh)),Psr=(VQ(),F(kxe)),ul=qt(),Rsr=_p(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new ul.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Psr.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new ul.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,xsr.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),Tsr=5*60*1e3,H9="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Isr=_p(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>yDe((z9(),F($9))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),Osr=_p(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>yDe((z9(),F($9))));return(await Isr(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),pDe=_p(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new ul.TokenProviderError(`Token is expired. ${H9}`,!1)},"validateTokenExpiry"),sv=_p((e,t,r=!1)=>{if(typeof t>"u")throw new ul.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${H9}`,!1)},"validateTokenKey"),iI=Ki(),Nsr=require("fs"),{writeFile:Dsr}=Nsr.promises,ksr=_p((e,t)=>{let r=(0,iI.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return Dsr(r,n)},"writeSSOTokenToFile"),gDe=new Date(0),SDe=_p((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,iI.parseKnownFiles)(r),s=(0,iI.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new ul.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new ul.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,iI.loadSsoSessionData)(r))[o];if(!c)throw new ul.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new ul.TokenProviderError(`Sso session '${o}' is missing required property '${y}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,iI.getSSOTokenFromFile)(o)}catch{throw new ul.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${H9}`,!1)}sv("accessToken",u.accessToken),sv("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:p}=u,g={token:m,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>Tsr)return g;if(Date.now()-gDe.getTime()<30*1e3)return pDe(g),g;sv("clientId",u.clientId,!0),sv("clientSecret",u.clientSecret,!0),sv("refreshToken",u.refreshToken,!0);try{gDe.setTime(Date.now());let y=await Osr(u,d,r);sv("accessToken",y.accessToken),sv("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await ksr(o,{...u,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return pDe(g),g}},"fromSso"),Msr=_p(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new ul.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),Lsr=_p((e={})=>(0,ul.memoize)((0,ul.chain)(SDe(e),async()=>{throw new ul.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var G9=E((d7n,IDe)=>{"use strict";var Qq=Object.defineProperty,Usr=Object.getOwnPropertyDescriptor,wDe=Object.getOwnPropertyNames,Fsr=Object.prototype.hasOwnProperty,Yq=(e,t)=>Qq(e,"name",{value:t,configurable:!0}),Bsr=(e,t)=>function(){return e&&(t=(0,e[wDe(e)[0]])(e=0)),t},ADe=(e,t)=>{for(var r in t)Qq(e,r,{get:t[r],enumerable:!0})},qsr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wDe(t))!Fsr.call(e,s)&&s!==r&&Qq(e,s,{get:()=>t[s],enumerable:!(n=Usr(t,s))||n.enumerable});return e},jsr=e=>qsr(Qq({},"__esModule",{value:!0}),e),xDe={};ADe(xDe,{GetRoleCredentialsCommand:()=>V9.GetRoleCredentialsCommand,SSOClient:()=>V9.SSOClient});var V9,$sr=Bsr({"src/loadSso.ts"(){"use strict";V9=mNe()}}),PDe={};ADe(PDe,{fromSSO:()=>Hsr,isSsoProfile:()=>RDe,validateSsoProfile:()=>TDe});IDe.exports=jsr(PDe);var RDe=Yq(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),CDe=(ju(),F(xh)),zsr=EDe(),Vu=qt(),Jq=Ki(),aI=!1,bDe=Yq(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Q=await(0,zsr.fromSso)({profile:c})();d={accessToken:Q.token,expiresAt:new Date(Q.expiration).toISOString()}}catch(Q){throw new Vu.CredentialsProviderError(Q.message,{tryNextLink:aI,logger:l})}else try{d=await(0,Jq.getSSOTokenFromFile)(e)}catch{throw new Vu.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:aI,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Vu.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:aI,logger:l});let{accessToken:m}=d,{SSOClient:p,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>($sr(),xDe)),y=i||new p(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),b;try{b=await y.send(new g({accountId:r,roleName:s,accessToken:m}))}catch(Q){throw new Vu.CredentialsProviderError(Q,{tryNextLink:aI,logger:l})}let{roleCredentials:{accessKeyId:w,secretAccessKey:A,sessionToken:O,expiration:T,credentialScope:k,accountId:z}={}}=b;if(!w||!A||!O||!T)throw new Vu.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:aI,logger:l});let oe={accessKeyId:w,secretAccessKey:A,sessionToken:O,expiration:new Date(T),...k&&{credentialScope:k},...z&&{accountId:z}};return t?(0,CDe.setCredentialFeature)(oe,"CREDENTIALS_SSO","s"):(0,CDe.setCredentialFeature)(oe,"CREDENTIALS_SSO_LEGACY","u"),oe},"resolveSSOCredentials"),TDe=Yq((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Vu.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),Hsr=Yq((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,Jq.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,Jq.parseKnownFiles)(e))[c];if(!d)throw new Vu.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!RDe(d))throw new Vu.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let w=(await(0,Jq.loadSsoSessionData)(e))[d.sso_session],A=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==w.sso_region)throw new Vu.CredentialsProviderError("Conflicting SSO region"+A,{tryNextLink:!1,logger:e.logger});if(r&&r!==w.sso_start_url)throw new Vu.CredentialsProviderError("Conflicting SSO start_url"+A,{tryNextLink:!1,logger:e.logger});d.sso_region=w.sso_region,d.sso_start_url=w.sso_start_url}let{sso_start_url:u,sso_account_id:m,sso_region:p,sso_role_name:g,sso_session:y}=TDe(d,e.logger);return bDe({ssoStartUrl:u,ssoSession:y,ssoAccountId:m,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new Vu.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return bDe({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function Vsr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Gsr(e){return{schemeId:"smithy.api#noAuth"}}var cI,ODe,NDe,Wsr,DDe,W9=_(()=>{ao();cI=C(Jn());lI();ODe=async(e,t,r)=>({operation:(0,cI.getSmithyContext)(t).operation,region:await(0,cI.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});NDe=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(Gsr(e));break}default:t.push(Vsr(e))}return t},Wsr=e=>Object.assign(e,{stsClientCtor:Dm}),DDe=e=>{let t=Wsr(e),r=VS(t);return Object.assign(r,{authSchemePreference:(0,cI.normalizeProvider)(e.authSchemePreference??[])})}});var kDe,Zq,ej=_(()=>{kDe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Zq={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var VDe,xt,Ir,Or,Vh,Hh,ko,GDe,WDe,KDe,ms,MDe,km,rw,X9,LDe,K9,XDe,UDe,Mo,FDe,JDe,QDe,ia,ml,BDe,YDe,ZDe,qDe,eke,jDe,$De,zDe,HDe,Ksr,tke,rke=_(()=>{VDe="required",xt="type",Ir="fn",Or="argv",Vh="ref",Hh="booleanEquals",ko="stringEquals",GDe="sigv4",WDe="sts",KDe="us-east-1",ms="endpoint",MDe="https://sts.{Region}.{PartitionResult#dnsSuffix}",km="tree",rw="error",X9="getAttr",LDe={[VDe]:!1,[xt]:"String"},K9={[VDe]:!0,default:!1,[xt]:"Boolean"},XDe={[Vh]:"Endpoint"},UDe={[Ir]:"isSet",[Or]:[{[Vh]:"Region"}]},Mo={[Vh]:"Region"},FDe={[Ir]:"aws.partition",[Or]:[Mo],assign:"PartitionResult"},JDe={[Vh]:"UseFIPS"},QDe={[Vh]:"UseDualStack"},ia={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:GDe,signingName:WDe,signingRegion:KDe}]},headers:{}},ml={},BDe={conditions:[{[Ir]:ko,[Or]:[Mo,"aws-global"]}],[ms]:ia,[xt]:ms},YDe={[Ir]:Hh,[Or]:[JDe,!0]},ZDe={[Ir]:Hh,[Or]:[QDe,!0]},qDe={[Ir]:X9,[Or]:[{[Vh]:"PartitionResult"},"supportsFIPS"]},eke={[Vh]:"PartitionResult"},jDe={[Ir]:Hh,[Or]:[!0,{[Ir]:X9,[Or]:[eke,"supportsDualStack"]}]},$De=[{[Ir]:"isSet",[Or]:[XDe]}],zDe=[YDe],HDe=[ZDe],Ksr={version:"1.0",parameters:{Region:LDe,UseDualStack:K9,UseFIPS:K9,Endpoint:LDe,UseGlobalEndpoint:K9},rules:[{conditions:[{[Ir]:Hh,[Or]:[{[Vh]:"UseGlobalEndpoint"},!0]},{[Ir]:"not",[Or]:$De},UDe,FDe,{[Ir]:Hh,[Or]:[JDe,!1]},{[Ir]:Hh,[Or]:[QDe,!1]}],rules:[{conditions:[{[Ir]:ko,[Or]:[Mo,"ap-northeast-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"ap-south-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"ap-southeast-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"ap-southeast-2"]}],endpoint:ia,[xt]:ms},BDe,{conditions:[{[Ir]:ko,[Or]:[Mo,"ca-central-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"eu-central-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"eu-north-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"eu-west-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"eu-west-2"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"eu-west-3"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"sa-east-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,KDe]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"us-east-2"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"us-west-1"]}],endpoint:ia,[xt]:ms},{conditions:[{[Ir]:ko,[Or]:[Mo,"us-west-2"]}],endpoint:ia,[xt]:ms},{endpoint:{url:MDe,properties:{authSchemes:[{name:GDe,signingName:WDe,signingRegion:"{Region}"}]},headers:ml},[xt]:ms}],[xt]:km},{conditions:$De,rules:[{conditions:zDe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[xt]:rw},{conditions:HDe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[xt]:rw},{endpoint:{url:XDe,properties:ml,headers:ml},[xt]:ms}],[xt]:km},{conditions:[UDe],rules:[{conditions:[FDe],rules:[{conditions:[YDe,ZDe],rules:[{conditions:[{[Ir]:Hh,[Or]:[!0,qDe]},jDe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ml,headers:ml},[xt]:ms}],[xt]:km},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[xt]:rw}],[xt]:km},{conditions:zDe,rules:[{conditions:[{[Ir]:Hh,[Or]:[qDe,!0]}],rules:[{conditions:[{[Ir]:ko,[Or]:[{[Ir]:X9,[Or]:[eke,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ml,headers:ml},[xt]:ms},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ml,headers:ml},[xt]:ms}],[xt]:km},{error:"FIPS is enabled but this partition does not support FIPS",[xt]:rw}],[xt]:km},{conditions:HDe,rules:[{conditions:[jDe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ml,headers:ml},[xt]:ms}],[xt]:km},{error:"DualStack is enabled but this partition does not support DualStack",[xt]:rw}],[xt]:km},BDe,{endpoint:{url:MDe,properties:ml,headers:ml},[xt]:ms}],[xt]:km}],[xt]:km},{error:"Invalid Configuration: Missing Region",[xt]:rw}]},tke=Ksr});var nke,nw,Xsr,ske,ike=_(()=>{nke=C(Ob()),nw=C(ra());rke();Xsr=new nw.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),ske=(e,t={})=>Xsr.get(e,()=>(0,nw.resolveEndpoint)(tke,{endpointParams:e,logger:t.logger}));nw.customEndpointFunctions.aws=nke.awsEndpointFunctions});var oke,ake,tj,rj,cke,lke=_(()=>{ao();lt();oke=C(K()),ake=C(oo()),tj=C(Mt()),rj=C(kt());W9();ike();cke=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??tj.fromBase64,base64Encoder:e?.base64Encoder??tj.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ske,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??NDe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Sc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],logger:e?.logger??new oke.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??ake.parseUrl,utf8Decoder:e?.utf8Decoder??rj.fromUtf8,utf8Encoder:e?.utf8Encoder??rj.toUtf8})});var nj,Wh,dke,sj,Gh,ij,uke,mke,fke,pke,gke,hke,yke=_(()=>{D9();ao();nj=C(UT()),Wh=C(Ln());lt();dke=C(cl()),sj=C(Yn()),Gh=C(sa()),ij=C(Oo()),uke=C(ll()),mke=C(vc());lke();fke=C(K()),pke=C(dl()),gke=C(K()),hke=e=>{(0,gke.emitWarningIfUnsupportedVersion)(process.version);let t=(0,pke.resolveDefaultsModeConfig)(e),r=()=>t().then(fke.loadConfigsForDefaultMode),n=cke(e);Nb(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Gh.loadConfig)(Mb,s),bodyLengthChecker:e?.bodyLengthChecker??uke.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,nj.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Mq.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Sc},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],maxAttempts:e?.maxAttempts??(0,Gh.loadConfig)(sj.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Gh.loadConfig)(Wh.NODE_REGION_CONFIG_OPTIONS,{...Wh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:ij.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Gh.loadConfig)({...sj.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||mke.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??dke.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ij.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Gh.loadConfig)(Wh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Gh.loadConfig)(Wh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Gh.loadConfig)(nj.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var _ke,Ske,vke=_(()=>{_ke=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Ske=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var oj,aj,cj,Eke,Cke=_(()=>{oj=C(jT()),aj=C(Ge()),cj=C(K());vke();Eke=(e,t)=>{let r=Object.assign((0,oj.getAwsRegionExtensionConfiguration)(e),(0,cj.getDefaultExtensionConfiguration)(e),(0,aj.getHttpHandlerExtensionConfiguration)(e),_ke(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,oj.resolveAwsRegionExtensionConfiguration)(r),(0,cj.resolveDefaultRuntimeConfig)(r),(0,aj.resolveHttpHandlerRuntimeConfig)(r),Ske(r))}});var lj,bke,wke,dj,Ake,xke,Pke,uj,J9,Dm,lI=_(()=>{lj=C(JR()),bke=C(QR()),wke=C(YR()),dj=C($b()),Ake=C(Ln());lt();xke=C(il()),Pke=C(us()),uj=C(Yn()),J9=C(K());W9();ej();yke();Cke();Dm=class extends J9.Client{config;constructor(...[t]){let r=hke(t||{});super(r),this.initConfig=r;let n=kDe(r),s=(0,dj.resolveUserAgentConfig)(n),i=(0,uj.resolveRetryConfig)(s),o=(0,Ake.resolveRegionConfig)(i),a=(0,lj.resolveHostHeaderConfig)(o),c=(0,Pke.resolveEndpointConfig)(a),l=DDe(c),d=Eke(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,dj.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,uj.getRetryPlugin)(this.config)),this.middlewareStack.use((0,xke.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,lj.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,bke.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,wke.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Zc(this.config,{httpAuthSchemeParametersProvider:ODe,identityProviderConfigProvider:async u=>new za({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(el(this.config))}destroy(){super.destroy()}}});var Rke,Ec,mj=_(()=>{Rke=C(K()),Ec=class e extends Rke.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Q9,Y9,Z9,dI,uI,mI,fI,pI,gI,e7,t7,hI,yI=_(()=>{Q9=C(K());mj();Y9=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Q9.SENSITIVE_STRING}}),Z9=e=>({...e,...e.Credentials&&{Credentials:Y9(e.Credentials)}}),dI=class e extends Ec{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},uI=class e extends Ec{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mI=class e extends Ec{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fI=class e extends Ec{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pI=class e extends Ec{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gI=class e extends Ec{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},e7=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Q9.SENSITIVE_STRING}}),t7=e=>({...e,...e.Credentials&&{Credentials:Y9(e.Credentials)}}),hI=class e extends Ec{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var Tke,jt,Ike,Oke,Nke,Dke,kke,Jsr,Qsr,Ysr,Zsr,eir,tir,rir,nir,sir,Mke,iir,oir,air,cir,lir,dir,Lke,uir,mir,Uke,fir,pir,gir,hir,yir,_ir,Sir,vp,vir,Fke,Bke,qke,jke,r7,Eir,n7,sw,Cir,s7,i7,iw,o7,ow,a7,c7,l7,aw,cw,d7,u7,m7,lw,f7,dw,uw,p7,g7,Sp,h7,y7,_7,S7,v7,$ke,E7,C7,b7,pi,zke,bir,w7=_(()=>{ao();Tke=C(Ge()),jt=C(K());yI();mj();Ike=async(e,t)=>{let r=Bke,n;return n=zke({...nir(e,t),[jke]:Eir,[$ke]:qke}),Fke(t,r,"/",void 0,n)},Oke=async(e,t)=>{let r=Bke,n;return n=zke({...sir(e,t),[jke]:Cir,[$ke]:qke}),Fke(t,r,"/",void 0,n)},Nke=async(e,t)=>{if(e.statusCode>=300)return kke(e,t);let r=await OT(e.body,t),n={};return n=uir(r.AssumeRoleResult,t),{$metadata:vp(e),...n}},Dke=async(e,t)=>{if(e.statusCode>=300)return kke(e,t);let r=await OT(e.body,t),n={};return n=mir(r.AssumeRoleWithWebIdentityResult,t),{$metadata:vp(e),...n}},kke=async(e,t)=>{let r={...e,body:await MY(e.body,t)},n=bir(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Jsr(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await eir(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await tir(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await rir(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Qsr(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Ysr(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Zsr(r,t);default:let s=r.body;return vir({output:e,parsedBody:s.Error,errorCode:n})}},Jsr=async(e,t)=>{let r=e.body,n=fir(r.Error,t),s=new dI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},Qsr=async(e,t)=>{let r=e.body,n=pir(r.Error,t),s=new hI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},Ysr=async(e,t)=>{let r=e.body,n=gir(r.Error,t),s=new pI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},Zsr=async(e,t)=>{let r=e.body,n=hir(r.Error,t),s=new gI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},eir=async(e,t)=>{let r=e.body,n=yir(r.Error,t),s=new uI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},tir=async(e,t)=>{let r=e.body,n=_ir(r.Error,t),s=new mI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},rir=async(e,t)=>{let r=e.body,n=Sir(r.Error,t),s=new fI({$metadata:vp(e),...n});return(0,jt.decorateServiceException)(s,r)},nir=(e,t)=>{let r={};if(e[dw]!=null&&(r[dw]=e[dw]),e[uw]!=null&&(r[uw]=e[uw]),e[cw]!=null){let n=Mke(e[cw],t);e[cw]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[aw]!=null&&(r[aw]=e[aw]),e[ow]!=null&&(r[ow]=e[ow]),e[_7]!=null){let n=dir(e[_7],t);e[_7]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[v7]!=null){let n=lir(e[v7],t);e[v7]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[c7]!=null&&(r[c7]=e[c7]),e[h7]!=null&&(r[h7]=e[h7]),e[S7]!=null&&(r[S7]=e[S7]),e[Sp]!=null&&(r[Sp]=e[Sp]),e[u7]!=null){let n=air(e[u7],t);e[u7]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},sir=(e,t)=>{let r={};if(e[dw]!=null&&(r[dw]=e[dw]),e[uw]!=null&&(r[uw]=e[uw]),e[C7]!=null&&(r[C7]=e[C7]),e[m7]!=null&&(r[m7]=e[m7]),e[cw]!=null){let n=Mke(e[cw],t);e[cw]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[aw]!=null&&(r[aw]=e[aw]),e[ow]!=null&&(r[ow]=e[ow]),r},Mke=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=iir(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},iir=(e,t)=>{let r={};return e[b7]!=null&&(r[b7]=e[b7]),r},oir=(e,t)=>{let r={};return e[d7]!=null&&(r[d7]=e[d7]),e[o7]!=null&&(r[o7]=e[o7]),r},air=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=oir(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},cir=(e,t)=>{let r={};return e[l7]!=null&&(r[l7]=e[l7]),e[E7]!=null&&(r[E7]=e[E7]),r},lir=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},dir=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=cir(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},Lke=(e,t)=>{let r={};return e[n7]!=null&&(r[n7]=(0,jt.expectString)(e[n7])),e[s7]!=null&&(r[s7]=(0,jt.expectString)(e[s7])),r},uir=(e,t)=>{let r={};return e[iw]!=null&&(r[iw]=Uke(e[iw],t)),e[sw]!=null&&(r[sw]=Lke(e[sw],t)),e[lw]!=null&&(r[lw]=(0,jt.strictParseInt32)(e[lw])),e[Sp]!=null&&(r[Sp]=(0,jt.expectString)(e[Sp])),r},mir=(e,t)=>{let r={};return e[iw]!=null&&(r[iw]=Uke(e[iw],t)),e[g7]!=null&&(r[g7]=(0,jt.expectString)(e[g7])),e[sw]!=null&&(r[sw]=Lke(e[sw],t)),e[lw]!=null&&(r[lw]=(0,jt.strictParseInt32)(e[lw])),e[f7]!=null&&(r[f7]=(0,jt.expectString)(e[f7])),e[i7]!=null&&(r[i7]=(0,jt.expectString)(e[i7])),e[Sp]!=null&&(r[Sp]=(0,jt.expectString)(e[Sp])),r},Uke=(e,t)=>{let r={};return e[r7]!=null&&(r[r7]=(0,jt.expectString)(e[r7])),e[p7]!=null&&(r[p7]=(0,jt.expectString)(e[p7])),e[y7]!=null&&(r[y7]=(0,jt.expectString)(e[y7])),e[a7]!=null&&(r[a7]=(0,jt.expectNonNull)((0,jt.parseRfc3339DateTimeWithOffset)(e[a7]))),r},fir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},pir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},gir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},hir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},yir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},_ir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},Sir=(e,t)=>{let r={};return e[pi]!=null&&(r[pi]=(0,jt.expectString)(e[pi])),r},vp=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vir=(0,jt.withBaseException)(Ec),Fke=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Tke.HttpRequest(l)},Bke={"content-type":"application/x-www-form-urlencoded"},qke="2011-06-15",jke="Action",r7="AccessKeyId",Eir="AssumeRole",n7="AssumedRoleId",sw="AssumedRoleUser",Cir="AssumeRoleWithWebIdentity",s7="Arn",i7="Audience",iw="Credentials",o7="ContextAssertion",ow="DurationSeconds",a7="Expiration",c7="ExternalId",l7="Key",aw="Policy",cw="PolicyArns",d7="ProviderArn",u7="ProvidedContexts",m7="ProviderId",lw="PackedPolicySize",f7="Provider",dw="RoleArn",uw="RoleSessionName",p7="SecretAccessKey",g7="SubjectFromWebIdentityToken",Sp="SourceIdentity",h7="SerialNumber",y7="SessionToken",_7="Tags",S7="TokenCode",v7="TransitiveTagKeys",$ke="Version",E7="Value",C7="WebIdentityToken",b7="arn",pi="message",zke=e=>Object.entries(e).map(([t,r])=>(0,jt.extendedEncodeURIComponent)(t)+"="+(0,jt.extendedEncodeURIComponent)(r)).join("&"),bir=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Hke,Vke,Gke,iv,fj=_(()=>{Hke=C(us()),Vke=C(io()),Gke=C(K());ej();yI();w7();iv=class extends Gke.Command.classBuilder().ep(Zq).m(function(t,r,n,s){return[(0,Vke.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Hke.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Z9).ser(Ike).de(Nke).build(){}});var Wke,Kke,Xke,ov,pj=_(()=>{Wke=C(us()),Kke=C(io()),Xke=C(K());ej();yI();w7();ov=class extends Xke.Command.classBuilder().ep(Zq).m(function(t,r,n,s){return[(0,Kke.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Wke.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(e7,t7).ser(Oke).de(Dke).build(){}});var Jke,wir,gj,Qke=_(()=>{Jke=C(K());fj();pj();lI();wir={AssumeRoleCommand:iv,AssumeRoleWithWebIdentityCommand:ov},gj=class extends Dm{};(0,Jke.createAggregatedClient)(wir,gj)});var Yke=_(()=>{fj();pj()});var Zke=_(()=>{yI()});var eMe,tMe,rMe,nMe,sMe,iMe,oMe=_(()=>{ju();fj();pj();eMe="us-east-1",tMe=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},rMe=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${eMe} (STS default)`),n??s??eMe},nMe=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await rMe(u,e?.parentClientConfig?.region,p),y=!iMe(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?m:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new iv(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=tMe(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return Ah(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},sMe=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,m=await rMe(l,e?.parentClientConfig?.region,u),p=!iMe(d);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new ov(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=tMe(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&Ah(a,"RESOLVED_ACCOUNT_ID","T"),Ah(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},iMe=e=>e?.metadata?.handlerProtocol==="h2"});var aMe,cMe,lMe,Air,dMe=_(()=>{oMe();lI();aMe=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,cMe=(e={},t)=>nMe(e,aMe(Dm,t)),lMe=(e={},t)=>sMe(e,aMe(Dm,t)),Air=e=>t=>e({roleAssumer:cMe(t),roleAssumerWithWebIdentity:lMe(t),...t})});var A7={};ct(A7,{AssumeRoleCommand:()=>iv,AssumeRoleResponseFilterSensitiveLog:()=>Z9,AssumeRoleWithWebIdentityCommand:()=>ov,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>e7,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>t7,CredentialsFilterSensitiveLog:()=>Y9,ExpiredTokenException:()=>dI,IDPCommunicationErrorException:()=>hI,IDPRejectedClaimException:()=>pI,InvalidIdentityTokenException:()=>gI,MalformedPolicyDocumentException:()=>uI,PackedPolicyTooLargeException:()=>mI,RegionDisabledException:()=>fI,STS:()=>gj,STSClient:()=>Dm,STSServiceException:()=>Ec,__Client:()=>J9.Client,decorateDefaultCredentialProvider:()=>Air,getDefaultRoleAssumer:()=>cMe,getDefaultRoleAssumerWithWebIdentity:()=>lMe});var x7=_(()=>{lI();Qke();Yke();Zke();dMe();mj()});var T7=E((EZn,fMe)=>{"use strict";var hj=Object.defineProperty,xir=Object.getOwnPropertyDescriptor,Pir=Object.getOwnPropertyNames,Rir=Object.prototype.hasOwnProperty,R7=(e,t)=>hj(e,"name",{value:t,configurable:!0}),Tir=(e,t)=>{for(var r in t)hj(e,r,{get:t[r],enumerable:!0})},Iir=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Pir(t))!Rir.call(e,s)&&s!==r&&hj(e,s,{get:()=>t[s],enumerable:!(n=xir(t,s))||n.enumerable});return e},Oir=e=>Iir(hj({},"__esModule",{value:!0}),e),mMe={};Tir(mMe,{fromProcess:()=>Uir});fMe.exports=Oir(mMe);var uMe=Ki(),P7=qt(),Nir=require("child_process"),Dir=require("util"),kir=(ju(),F(xh)),Mir=R7((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,kir.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),Lir=R7(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,Dir.promisify)(Nir.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Mir(e,a,t)}catch(o){throw new P7.CredentialsProviderError(o.message,{logger:r})}}else throw new P7.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new P7.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Uir=R7((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,uMe.parseKnownFiles)(e);return Lir((0,uMe.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var I7=E(Mm=>{"use strict";var Fir=Mm&&Mm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bir=Mm&&Mm.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qir=Mm&&Mm.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&Fir(r,t,n[s]);return Bir(r,t),r}}();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.fromWebToken=void 0;var jir=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>qir((x7(),F(A7))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Mm.fromWebToken=jir});var gMe=E(yj=>{"use strict";Object.defineProperty(yj,"__esModule",{value:!0});yj.fromTokenFile=void 0;var $ir=(ju(),F(xh)),zir=qt(),Hir=require("fs"),Vir=I7(),pMe="AWS_WEB_IDENTITY_TOKEN_FILE",Gir="AWS_ROLE_ARN",Wir="AWS_ROLE_SESSION_NAME",Kir=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[pMe],r=e?.roleArn??process.env[Gir],n=e?.roleSessionName??process.env[Wir];if(!t||!r)throw new zir.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,Vir.fromWebToken)({...e,webIdentityToken:(0,Hir.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[pMe]&&(0,$ir.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};yj.fromTokenFile=Kir});var D7=E((wZn,_j)=>{"use strict";var hMe=Object.defineProperty,Xir=Object.getOwnPropertyDescriptor,Jir=Object.getOwnPropertyNames,Qir=Object.prototype.hasOwnProperty,O7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Jir(t))!Qir.call(e,s)&&s!==r&&hMe(e,s,{get:()=>t[s],enumerable:!(n=Xir(t,s))||n.enumerable});return e},yMe=(e,t,r)=>(O7(e,t,"default"),r&&O7(r,t,"default")),Yir=e=>O7(hMe({},"__esModule",{value:!0}),e),N7={};_j.exports=Yir(N7);yMe(N7,gMe(),_j.exports);yMe(N7,I7(),_j.exports)});var AMe=E((AZn,wMe)=>{"use strict";var Zir=Object.create,SI=Object.defineProperty,eor=Object.getOwnPropertyDescriptor,tor=Object.getOwnPropertyNames,ror=Object.getPrototypeOf,nor=Object.prototype.hasOwnProperty,Oi=(e,t)=>SI(e,"name",{value:t,configurable:!0}),sor=(e,t)=>{for(var r in t)SI(e,r,{get:t[r],enumerable:!0})},EMe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tor(t))!nor.call(e,s)&&s!==r&&SI(e,s,{get:()=>t[s],enumerable:!(n=eor(t,s))||n.enumerable});return e},Kh=(e,t,r)=>(r=e!=null?Zir(ror(e)):{},EMe(t||!e||!e.__esModule?SI(r,"default",{value:e,enumerable:!0}):r,e)),ior=e=>EMe(SI({},"__esModule",{value:!0}),e),CMe={};sor(CMe,{fromIni:()=>_or});wMe.exports=ior(CMe);var M7=Ki(),Xh=(ju(),F(xh)),_I=qt(),oor=Oi((e,t,r)=>{let n={EcsContainer:Oi(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>Kh(v9())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>Kh(Hu()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,_I.chain)(i(s??{}),o(s))().then(k7)},"EcsContainer"),Ec2InstanceMetadata:Oi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Kh(Hu()));return async()=>i(s)().then(k7)},"Ec2InstanceMetadata"),Environment:Oi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Kh(f9()));return async()=>i(s)().then(k7)},"Environment")};if(e in n)return n[e];throw new _I.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),k7=Oi(e=>(0,Xh.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),aor=Oi((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(cor(e,{profile:t,logger:r})||lor(e,{profile:t,logger:r})),"isAssumeRoleProfile"),cor=Oi((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),lor=Oi((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),dor=Oi(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Kh((x7(),F(A7))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new _I.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,M7.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?bMe(i,t,r,{...n,[i]:!0},_Me(t[i]??{})):(await oor(s.credential_source,e,r.logger)(r))();if(_Me(s))return a.then(c=>(0,Xh.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new _I.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,Xh.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),_Me=Oi(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),uor=Oi(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),mor=Oi(async(e,t)=>Promise.resolve().then(()=>Kh(T7())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Xh.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),por=Oi(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Kh(G9()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Xh.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Xh.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),gor=Oi(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),SMe=Oi(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),vMe=Oi(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Xh.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),hor=Oi(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),yor=Oi(async(e,t)=>Promise.resolve().then(()=>Kh(D7())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Xh.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),bMe=Oi(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&SMe(i))return vMe(i,r);if(s||aor(i,{profile:e,logger:r.logger}))return dor(e,t,r,n);if(SMe(i))return vMe(i,r);if(hor(i))return yor(i,r);if(uor(i))return mor(r,e);if(gor(i))return await por(e,i,r);throw new _I.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),_or=Oi((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,M7.parseKnownFiles)(r);return bMe((0,M7.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var DMe=E((xZn,NMe)=>{"use strict";var Sor=Object.create,vI=Object.defineProperty,vor=Object.getOwnPropertyDescriptor,Eor=Object.getOwnPropertyNames,Cor=Object.getPrototypeOf,bor=Object.prototype.hasOwnProperty,Sj=(e,t)=>vI(e,"name",{value:t,configurable:!0}),wor=(e,t)=>{for(var r in t)vI(e,r,{get:t[r],enumerable:!0})},RMe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Eor(t))!bor.call(e,s)&&s!==r&&vI(e,s,{get:()=>t[s],enumerable:!(n=vor(t,s))||n.enumerable});return e},mw=(e,t,r)=>(r=e!=null?Sor(Cor(e)):{},RMe(t||!e||!e.__esModule?vI(r,"default",{value:e,enumerable:!0}):r,e)),Aor=e=>RMe(vI({},"__esModule",{value:!0}),e),TMe={};wor(TMe,{credentialsTreatedAsExpired:()=>OMe,credentialsWillNeedRefresh:()=>IMe,defaultProvider:()=>Ror});NMe.exports=Aor(TMe);var L7=f9(),xor=Ki(),av=qt(),xMe="AWS_EC2_METADATA_DISABLED",Por=Sj(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>mw(Hu()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>mw(v9()));return(0,av.chain)(i(e),n(e))}return process.env[xMe]&&process.env[xMe]!=="false"?async()=>{throw new av.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),PMe=!1,Ror=Sj((e={})=>(0,av.memoize)((0,av.chain)(async()=>{if(e.profile??process.env[xor.ENV_PROFILE])throw process.env[L7.ENV_KEY]&&process.env[L7.ENV_SECRET]&&(PMe||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),PMe=!0)),new av.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,L7.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new av.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>mw(G9()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>mw(AMe()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>mw(T7()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>mw(D7()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Por(e))()),async()=>{throw new av.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),OMe,IMe),"defaultProvider"),IMe=Sj(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),OMe=Sj(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var QMe=E(Ej=>{"use strict";Object.defineProperty(Ej,"__esModule",{value:!0});Ej.ruleSet=void 0;var KMe="required",Cc="fn",bc="argv",cv="ref",Jh="properties",Qh="headers",kMe=!0,MMe="isSet",EI="booleanEquals",fw="error",Lm="endpoint",Ep="tree",vj="PartitionResult",U7="stringEquals",LMe={[KMe]:!1,type:"String"},UMe={[KMe]:!0,default:!1,type:"Boolean"},FMe={[cv]:"Endpoint"},XMe={[Cc]:EI,[bc]:[{[cv]:"UseFIPS"},!0]},JMe={[Cc]:EI,[bc]:[{[cv]:"UseDualStack"},!0]},Yl={},BMe={[Cc]:"getAttr",[bc]:[{[cv]:vj},"supportsFIPS"]},qMe={[Cc]:EI,[bc]:[!0,{[Cc]:"getAttr",[bc]:[{[cv]:vj},"supportsDualStack"]}]},F7={[Cc]:"getAttr",[bc]:[{[cv]:vj},"name"]},jMe={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[Jh]:{},[Qh]:{}},$Me={url:"https://secretsmanager.{Region}.amazonaws.com",[Jh]:{},[Qh]:{}},zMe=[XMe],HMe=[JMe],VMe=[{[cv]:"Region"}],GMe=[{[Cc]:U7,[bc]:["aws",F7]}],WMe=[{[Cc]:U7,[bc]:["aws-us-gov",F7]}],Tor={version:"1.0",parameters:{Region:LMe,UseDualStack:UMe,UseFIPS:UMe,Endpoint:LMe},rules:[{conditions:[{[Cc]:MMe,[bc]:[FMe]}],rules:[{conditions:zMe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:fw},{conditions:HMe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:fw},{endpoint:{url:FMe,[Jh]:Yl,[Qh]:Yl},type:Lm}],type:Ep},{conditions:[{[Cc]:MMe,[bc]:VMe}],rules:[{conditions:[{[Cc]:"aws.partition",[bc]:VMe,assign:vj}],rules:[{conditions:[XMe,JMe],rules:[{conditions:[{[Cc]:EI,[bc]:[kMe,BMe]},qMe],rules:[{conditions:GMe,endpoint:jMe,type:Lm},{conditions:WMe,endpoint:jMe,type:Lm},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Jh]:Yl,[Qh]:Yl},type:Lm}],type:Ep},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:fw}],type:Ep},{conditions:zMe,rules:[{conditions:[{[Cc]:EI,[bc]:[BMe,kMe]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[Jh]:Yl,[Qh]:Yl},type:Lm}],type:Ep},{error:"FIPS is enabled but this partition does not support FIPS",type:fw}],type:Ep},{conditions:HMe,rules:[{conditions:[qMe],rules:[{conditions:GMe,endpoint:$Me,type:Lm},{conditions:[{[Cc]:U7,[bc]:["aws-cn",F7]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[Jh]:Yl,[Qh]:Yl},type:Lm},{conditions:WMe,endpoint:$Me,type:Lm},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[Jh]:Yl,[Qh]:Yl},type:Lm}],type:Ep},{error:"DualStack is enabled but this partition does not support DualStack",type:fw}],type:Ep},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[Jh]:Yl,[Qh]:Yl},type:Lm}],type:Ep}],type:Ep},{error:"Invalid Configuration: Missing Region",type:fw}]};Ej.ruleSet=Tor});var YMe=E(Cj=>{"use strict";Object.defineProperty(Cj,"__esModule",{value:!0});Cj.defaultEndpointResolver=void 0;var Ior=Ob(),B7=ra(),Oor=QMe(),Nor=new B7.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Dor=(e,t={})=>Nor.get(e,()=>(0,B7.resolveEndpoint)(Oor.ruleSet,{endpointParams:e,logger:t.logger}));Cj.defaultEndpointResolver=Dor;B7.customEndpointFunctions.aws=Ior.awsEndpointFunctions});var tLe=E(bj=>{"use strict";Object.defineProperty(bj,"__esModule",{value:!0});bj.getRuntimeConfig=void 0;var kor=(ao(),F(Tm)),Mor=K(),Lor=oo(),ZMe=Mt(),eLe=kt(),Uor=l9(),For=YMe(),Bor=e=>({apiVersion:"2017-10-17",base64Decoder:e?.base64Decoder??ZMe.fromBase64,base64Encoder:e?.base64Encoder??ZMe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??For.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Uor.defaultSecretsManagerHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new kor.AwsSdkSigV4Signer}],logger:e?.logger??new Mor.NoOpLogger,serviceId:e?.serviceId??"Secrets Manager",urlParser:e?.urlParser??Lor.parseUrl,utf8Decoder:e?.utf8Decoder??eLe.fromUtf8,utf8Encoder:e?.utf8Encoder??eLe.toUtf8});bj.getRuntimeConfig=Bor});var oLe=E(Aj=>{"use strict";Object.defineProperty(Aj,"__esModule",{value:!0});Aj.getRuntimeConfig=void 0;var qor=(Ga(),F(Va)),jor=qor.__importDefault(cIe()),rLe=(ao(),F(Tm)),$or=DMe(),nLe=UT(),wj=Ln(),zor=cl(),sLe=Yn(),lv=sa(),iLe=Oo(),Hor=ll(),Vor=vc(),Gor=tLe(),Wor=K(),Kor=dl(),Xor=K(),Jor=e=>{(0,Xor.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Kor.resolveDefaultsModeConfig)(e),r=()=>t().then(Wor.loadConfigsForDefaultMode),n=(0,Gor.getRuntimeConfig)(e);(0,rLe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,lv.loadConfig)(rLe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Hor.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??$or.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,nLe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:jor.default.version}),maxAttempts:e?.maxAttempts??(0,lv.loadConfig)(sLe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,lv.loadConfig)(wj.NODE_REGION_CONFIG_OPTIONS,{...wj.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:iLe.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,lv.loadConfig)({...sLe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Vor.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??zor.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??iLe.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,lv.loadConfig)(wj.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,lv.loadConfig)(wj.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,lv.loadConfig)(nLe.NODE_APP_ID_CONFIG_OPTIONS,s)}};Aj.getRuntimeConfig=Jor});var fUe=E((OZn,mUe)=>{"use strict";var xj=Object.defineProperty,Qor=Object.getOwnPropertyDescriptor,Yor=Object.getOwnPropertyNames,Zor=Object.prototype.hasOwnProperty,H=(e,t)=>xj(e,"name",{value:t,configurable:!0}),ear=(e,t)=>{for(var r in t)xj(e,r,{get:t[r],enumerable:!0})},tar=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Yor(t))!Zor.call(e,s)&&s!==r&&xj(e,s,{get:()=>t[s],enumerable:!(n=Qor(t,s))||n.enumerable});return e},rar=e=>tar(xj({},"__esModule",{value:!0}),e),mLe={};ear(mLe,{BatchGetSecretValueCommand:()=>j7,BatchGetSecretValueResponseFilterSensitiveLog:()=>BLe,CancelRotateSecretCommand:()=>VLe,CreateSecretCommand:()=>GLe,CreateSecretRequestFilterSensitiveLog:()=>qLe,DecryptionFailure:()=>pLe,DeleteResourcePolicyCommand:()=>WLe,DeleteSecretCommand:()=>KLe,DescribeSecretCommand:()=>XLe,EncryptionFailure:()=>xLe,FilterNameStringType:()=>mar,GetRandomPasswordCommand:()=>JLe,GetRandomPasswordResponseFilterSensitiveLog:()=>jLe,GetResourcePolicyCommand:()=>QLe,GetSecretValueCommand:()=>YLe,GetSecretValueResponseFilterSensitiveLog:()=>$Le,InternalServiceError:()=>hLe,InvalidNextTokenException:()=>_Le,InvalidParameterException:()=>vLe,InvalidRequestException:()=>CLe,LimitExceededException:()=>RLe,ListSecretVersionIdsCommand:()=>z7,ListSecretsCommand:()=>$7,MalformedPolicyDocumentException:()=>ILe,PreconditionNotMetException:()=>NLe,PublicPolicyException:()=>LLe,PutResourcePolicyCommand:()=>ZLe,PutSecretValueCommand:()=>eUe,PutSecretValueRequestFilterSensitiveLog:()=>zLe,RemoveRegionsFromReplicationCommand:()=>tUe,ReplicateSecretToRegionsCommand:()=>rUe,ResourceExistsException:()=>kLe,ResourceNotFoundException:()=>wLe,RestoreSecretCommand:()=>nUe,RotateSecretCommand:()=>sUe,SecretValueEntryFilterSensitiveLog:()=>FLe,SecretsManager:()=>uUe,SecretsManagerClient:()=>CI,SecretsManagerServiceException:()=>wc,SortOrderType:()=>par,StatusType:()=>far,StopReplicationToReplicaCommand:()=>iUe,TagResourceCommand:()=>oUe,UntagResourceCommand:()=>aUe,UpdateSecretCommand:()=>cUe,UpdateSecretRequestFilterSensitiveLog:()=>HLe,UpdateSecretVersionStageCommand:()=>lUe,ValidateResourcePolicyCommand:()=>dUe,__Client:()=>M.Client,paginateBatchGetSecretValue:()=>$cr,paginateListSecretVersionIds:()=>zcr,paginateListSecrets:()=>Hcr});mUe.exports=rar(mLe);var aLe=JR(),nar=QR(),sar=YR(),cLe=$b(),iar=Ln(),pw=(lt(),F(ui)),oar=il(),fs=us(),lLe=Yn(),dLe=l9(),aar=H(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),"resolveClientEndpointParameters"),Ls={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},car=oLe(),uLe=jT(),q7=Ge(),M=K(),lar=H(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),dar=H(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),uar=H((e,t)=>{let r=Object.assign((0,uLe.getAwsRegionExtensionConfiguration)(e),(0,M.getDefaultExtensionConfiguration)(e),(0,q7.getHttpHandlerExtensionConfiguration)(e),lar(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,uLe.resolveAwsRegionExtensionConfiguration)(r),(0,M.resolveDefaultRuntimeConfig)(r),(0,q7.resolveHttpHandlerRuntimeConfig)(r),dar(r))},"resolveRuntimeExtensions"),CI=class extends M.Client{static{H(this,"SecretsManagerClient")}config;constructor(...[e]){let t=(0,car.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=aar(t),n=(0,cLe.resolveUserAgentConfig)(r),s=(0,lLe.resolveRetryConfig)(n),i=(0,iar.resolveRegionConfig)(s),o=(0,aLe.resolveHostHeaderConfig)(i),a=(0,fs.resolveEndpointConfig)(o),c=(0,dLe.resolveHttpAuthSchemeConfig)(a),l=uar(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,cLe.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,lLe.getRetryPlugin)(this.config)),this.middlewareStack.use((0,oar.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,aLe.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,nar.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,sar.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,pw.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:dLe.defaultSecretsManagerHttpAuthSchemeParametersProvider,identityProviderConfigProvider:H(async d=>new pw.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,pw.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Us=io(),wc=class fLe extends M.ServiceException{static{H(this,"SecretsManagerServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,fLe.prototype)}},mar={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},pLe=class gLe extends wc{static{H(this,"DecryptionFailure")}name="DecryptionFailure";$fault="client";Message;constructor(t){super({name:"DecryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,gLe.prototype),this.Message=t.Message}},hLe=class yLe extends wc{static{H(this,"InternalServiceError")}name="InternalServiceError";$fault="server";Message;constructor(t){super({name:"InternalServiceError",$fault:"server",...t}),Object.setPrototypeOf(this,yLe.prototype),this.Message=t.Message}},_Le=class SLe extends wc{static{H(this,"InvalidNextTokenException")}name="InvalidNextTokenException";$fault="client";Message;constructor(t){super({name:"InvalidNextTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,SLe.prototype),this.Message=t.Message}},vLe=class ELe extends wc{static{H(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";Message;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,ELe.prototype),this.Message=t.Message}},CLe=class bLe extends wc{static{H(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";Message;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,bLe.prototype),this.Message=t.Message}},wLe=class ALe extends wc{static{H(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ALe.prototype),this.Message=t.Message}},far={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},xLe=class PLe extends wc{static{H(this,"EncryptionFailure")}name="EncryptionFailure";$fault="client";Message;constructor(t){super({name:"EncryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,PLe.prototype),this.Message=t.Message}},RLe=class TLe extends wc{static{H(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,TLe.prototype),this.Message=t.Message}},ILe=class OLe extends wc{static{H(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";Message;constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,OLe.prototype),this.Message=t.Message}},NLe=class DLe extends wc{static{H(this,"PreconditionNotMetException")}name="PreconditionNotMetException";$fault="client";Message;constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,DLe.prototype),this.Message=t.Message}},kLe=class MLe extends wc{static{H(this,"ResourceExistsException")}name="ResourceExistsException";$fault="client";Message;constructor(t){super({name:"ResourceExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,MLe.prototype),this.Message=t.Message}},par={asc:"asc",desc:"desc"},LLe=class ULe extends wc{static{H(this,"PublicPolicyException")}name="PublicPolicyException";$fault="client";Message;constructor(t){super({name:"PublicPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,ULe.prototype),this.Message=t.Message}},FLe=H(e=>({...e,...e.SecretBinary&&{SecretBinary:M.SENSITIVE_STRING},...e.SecretString&&{SecretString:M.SENSITIVE_STRING}}),"SecretValueEntryFilterSensitiveLog"),BLe=H(e=>({...e,...e.SecretValues&&{SecretValues:e.SecretValues.map(t=>FLe(t))}}),"BatchGetSecretValueResponseFilterSensitiveLog"),qLe=H(e=>({...e,...e.SecretBinary&&{SecretBinary:M.SENSITIVE_STRING},...e.SecretString&&{SecretString:M.SENSITIVE_STRING}}),"CreateSecretRequestFilterSensitiveLog"),jLe=H(e=>({...e,...e.RandomPassword&&{RandomPassword:M.SENSITIVE_STRING}}),"GetRandomPasswordResponseFilterSensitiveLog"),$Le=H(e=>({...e,...e.SecretBinary&&{SecretBinary:M.SENSITIVE_STRING},...e.SecretString&&{SecretString:M.SENSITIVE_STRING}}),"GetSecretValueResponseFilterSensitiveLog"),zLe=H(e=>({...e,...e.SecretBinary&&{SecretBinary:M.SENSITIVE_STRING},...e.SecretString&&{SecretString:M.SENSITIVE_STRING},...e.RotationToken&&{RotationToken:M.SENSITIVE_STRING}}),"PutSecretValueRequestFilterSensitiveLog"),HLe=H(e=>({...e,...e.SecretBinary&&{SecretBinary:M.SENSITIVE_STRING},...e.SecretString&&{SecretString:M.SENSITIVE_STRING}}),"UpdateSecretRequestFilterSensitiveLog"),Ms=(ao(),F(Tm)),Pj=(fT(),F($F)),gar=H(async(e,t)=>{let r=ps("BatchGetSecretValue"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_BatchGetSecretValueCommand"),har=H(async(e,t)=>{let r=ps("CancelRotateSecret"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_CancelRotateSecretCommand"),yar=H(async(e,t)=>{let r=ps("CreateSecret"),n;return n=JSON.stringify(vcr(e,t)),Bs(t,r,"/",void 0,n)},"se_CreateSecretCommand"),_ar=H(async(e,t)=>{let r=ps("DeleteResourcePolicy"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),Sar=H(async(e,t)=>{let r=ps("DeleteSecret"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_DeleteSecretCommand"),Ear=H(async(e,t)=>{let r=ps("DescribeSecret"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_DescribeSecretCommand"),Car=H(async(e,t)=>{let r=ps("GetRandomPassword"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_GetRandomPasswordCommand"),bar=H(async(e,t)=>{let r=ps("GetResourcePolicy"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),war=H(async(e,t)=>{let r=ps("GetSecretValue"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_GetSecretValueCommand"),Aar=H(async(e,t)=>{let r=ps("ListSecrets"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_ListSecretsCommand"),xar=H(async(e,t)=>{let r=ps("ListSecretVersionIds"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_ListSecretVersionIdsCommand"),Par=H(async(e,t)=>{let r=ps("PutResourcePolicy"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),Rar=H(async(e,t)=>{let r=ps("PutSecretValue"),n;return n=JSON.stringify(Ecr(e,t)),Bs(t,r,"/",void 0,n)},"se_PutSecretValueCommand"),Tar=H(async(e,t)=>{let r=ps("RemoveRegionsFromReplication"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_RemoveRegionsFromReplicationCommand"),Iar=H(async(e,t)=>{let r=ps("ReplicateSecretToRegions"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_ReplicateSecretToRegionsCommand"),Oar=H(async(e,t)=>{let r=ps("RestoreSecret"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_RestoreSecretCommand"),Nar=H(async(e,t)=>{let r=ps("RotateSecret"),n;return n=JSON.stringify(Ccr(e,t)),Bs(t,r,"/",void 0,n)},"se_RotateSecretCommand"),Dar=H(async(e,t)=>{let r=ps("StopReplicationToReplica"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_StopReplicationToReplicaCommand"),kar=H(async(e,t)=>{let r=ps("TagResource"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_TagResourceCommand"),Mar=H(async(e,t)=>{let r=ps("UntagResource"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_UntagResourceCommand"),Lar=H(async(e,t)=>{let r=ps("UpdateSecret"),n;return n=JSON.stringify(bcr(e,t)),Bs(t,r,"/",void 0,n)},"se_UpdateSecretCommand"),Uar=H(async(e,t)=>{let r=ps("UpdateSecretVersionStage"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_UpdateSecretVersionStageCommand"),Far=H(async(e,t)=>{let r=ps("ValidateResourcePolicy"),n;return n=JSON.stringify((0,M._json)(e)),Bs(t,r,"/",void 0,n)},"se_ValidateResourcePolicyCommand"),Bar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=wcr(r,t),{$metadata:Er(e),...n}},"de_BatchGetSecretValueCommand"),qar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_CancelRotateSecretCommand"),jar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Acr(r,t),{$metadata:Er(e),...n}},"de_CreateSecretCommand"),$ar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_DeleteResourcePolicyCommand"),zar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=xcr(r,t),{$metadata:Er(e),...n}},"de_DeleteSecretCommand"),Har=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Pcr(r,t),{$metadata:Er(e),...n}},"de_DescribeSecretCommand"),Var=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_GetRandomPasswordCommand"),Gar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_GetResourcePolicyCommand"),War=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Rcr(r,t),{$metadata:Er(e),...n}},"de_GetSecretValueCommand"),Kar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Tcr(r,t),{$metadata:Er(e),...n}},"de_ListSecretsCommand"),Xar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Icr(r,t),{$metadata:Er(e),...n}},"de_ListSecretVersionIdsCommand"),Jar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_PutResourcePolicyCommand"),Qar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_PutSecretValueCommand"),Yar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Ocr(r,t),{$metadata:Er(e),...n}},"de_RemoveRegionsFromReplicationCommand"),Zar=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=Ncr(r,t),{$metadata:Er(e),...n}},"de_ReplicateSecretToRegionsCommand"),ecr=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_RestoreSecretCommand"),tcr=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_RotateSecretCommand"),rcr=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_StopReplicationToReplicaCommand"),ncr=H(async(e,t)=>e.statusCode>=300?Fs(e,t):(await(0,M.collectBody)(e.body,t),{$metadata:Er(e)}),"de_TagResourceCommand"),scr=H(async(e,t)=>e.statusCode>=300?Fs(e,t):(await(0,M.collectBody)(e.body,t),{$metadata:Er(e)}),"de_UntagResourceCommand"),icr=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_UpdateSecretCommand"),ocr=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_UpdateSecretVersionStageCommand"),acr=H(async(e,t)=>{if(e.statusCode>=300)return Fs(e,t);let r=await(0,Ms.parseJsonBody)(e.body,t),n={};return n=(0,M._json)(r),{$metadata:Er(e),...n}},"de_ValidateResourcePolicyCommand"),Fs=H(async(e,t)=>{let r={...e,body:await(0,Ms.parseJsonErrorBody)(e.body,t)},n=(0,Ms.loadRestJsonErrorCode)(e,r.body);switch(n){case"DecryptionFailure":case"com.amazonaws.secretsmanager#DecryptionFailure":throw await ccr(r,t);case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":throw await dcr(r,t);case"InvalidNextTokenException":case"com.amazonaws.secretsmanager#InvalidNextTokenException":throw await ucr(r,t);case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":throw await mcr(r,t);case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":throw await fcr(r,t);case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":throw await Scr(r,t);case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":throw await lcr(r,t);case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":throw await pcr(r,t);case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":throw await gcr(r,t);case"PreconditionNotMetException":case"com.amazonaws.secretsmanager#PreconditionNotMetException":throw await hcr(r,t);case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":throw await _cr(r,t);case"PublicPolicyException":case"com.amazonaws.secretsmanager#PublicPolicyException":throw await ycr(r,t);default:let s=r.body;return qcr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),ccr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new pLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_DecryptionFailureRes"),lcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new xLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_EncryptionFailureRes"),dcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new hLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_InternalServiceErrorRes"),ucr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new _Le({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_InvalidNextTokenExceptionRes"),mcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new vLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),fcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new CLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_InvalidRequestExceptionRes"),pcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new RLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),gcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new ILe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_MalformedPolicyDocumentExceptionRes"),hcr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new NLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_PreconditionNotMetExceptionRes"),ycr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new LLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_PublicPolicyExceptionRes"),_cr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new kLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_ResourceExistsExceptionRes"),Scr=H(async(e,t)=>{let r=e.body,n=(0,M._json)(r),s=new wLe({$metadata:Er(e),...n});return(0,M.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),vcr=H((e,t)=>(0,M.take)(e,{AddReplicaRegions:M._json,ClientRequestToken:[!0,r=>r??(0,Pj.v4)()],Description:[],ForceOverwriteReplicaSecret:[],KmsKeyId:[],Name:[],SecretBinary:t.base64Encoder,SecretString:[],Tags:M._json}),"se_CreateSecretRequest"),Ecr=H((e,t)=>(0,M.take)(e,{ClientRequestToken:[!0,r=>r??(0,Pj.v4)()],RotationToken:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[],VersionStages:M._json}),"se_PutSecretValueRequest"),Ccr=H((e,t)=>(0,M.take)(e,{ClientRequestToken:[!0,r=>r??(0,Pj.v4)()],RotateImmediately:[],RotationLambdaARN:[],RotationRules:M._json,SecretId:[]}),"se_RotateSecretRequest"),bcr=H((e,t)=>(0,M.take)(e,{ClientRequestToken:[!0,r=>r??(0,Pj.v4)()],Description:[],KmsKeyId:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[]}),"se_UpdateSecretRequest"),wcr=H((e,t)=>(0,M.take)(e,{Errors:M._json,NextToken:M.expectString,SecretValues:H(r=>Ucr(r,t),"SecretValues")}),"de_BatchGetSecretValueResponse"),Acr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,Name:M.expectString,ReplicationStatus:H(r=>Rj(r,t),"ReplicationStatus"),VersionId:M.expectString}),"de_CreateSecretResponse"),xcr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,DeletionDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"DeletionDate"),Name:M.expectString}),"de_DeleteSecretResponse"),Pcr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,CreatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"CreatedDate"),DeletedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"DeletedDate"),Description:M.expectString,KmsKeyId:M.expectString,LastAccessedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastRotatedDate"),Name:M.expectString,NextRotationDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"NextRotationDate"),OwningService:M.expectString,PrimaryRegion:M.expectString,ReplicationStatus:H(r=>Rj(r,t),"ReplicationStatus"),RotationEnabled:M.expectBoolean,RotationLambdaARN:M.expectString,RotationRules:M._json,Tags:M._json,VersionIdsToStages:M._json}),"de_DescribeSecretResponse"),Rcr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,CreatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"CreatedDate"),Name:M.expectString,SecretBinary:t.base64Decoder,SecretString:M.expectString,VersionId:M.expectString,VersionStages:M._json}),"de_GetSecretValueResponse"),Tcr=H((e,t)=>(0,M.take)(e,{NextToken:M.expectString,SecretList:H(r=>Mcr(r,t),"SecretList")}),"de_ListSecretsResponse"),Icr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,Name:M.expectString,NextToken:M.expectString,Versions:H(r=>Bcr(r,t),"Versions")}),"de_ListSecretVersionIdsResponse"),Ocr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,ReplicationStatus:H(r=>Rj(r,t),"ReplicationStatus")}),"de_RemoveRegionsFromReplicationResponse"),Ncr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,ReplicationStatus:H(r=>Rj(r,t),"ReplicationStatus")}),"de_ReplicateSecretToRegionsResponse"),Rj=H((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Dcr(n,t)),"de_ReplicationStatusListType"),Dcr=H((e,t)=>(0,M.take)(e,{KmsKeyId:M.expectString,LastAccessedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastAccessedDate"),Region:M.expectString,Status:M.expectString,StatusMessage:M.expectString}),"de_ReplicationStatusType"),kcr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,CreatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"CreatedDate"),DeletedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"DeletedDate"),Description:M.expectString,KmsKeyId:M.expectString,LastAccessedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastRotatedDate"),Name:M.expectString,NextRotationDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"NextRotationDate"),OwningService:M.expectString,PrimaryRegion:M.expectString,RotationEnabled:M.expectBoolean,RotationLambdaARN:M.expectString,RotationRules:M._json,SecretVersionsToStages:M._json,Tags:M._json}),"de_SecretListEntry"),Mcr=H((e,t)=>(e||[]).filter(n=>n!=null).map(n=>kcr(n,t)),"de_SecretListType"),Lcr=H((e,t)=>(0,M.take)(e,{ARN:M.expectString,CreatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"CreatedDate"),Name:M.expectString,SecretBinary:t.base64Decoder,SecretString:M.expectString,VersionId:M.expectString,VersionStages:M._json}),"de_SecretValueEntry"),Ucr=H((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Lcr(n,t)),"de_SecretValuesType"),Fcr=H((e,t)=>(0,M.take)(e,{CreatedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"CreatedDate"),KmsKeyIds:M._json,LastAccessedDate:H(r=>(0,M.expectNonNull)((0,M.parseEpochTimestamp)((0,M.expectNumber)(r))),"LastAccessedDate"),VersionId:M.expectString,VersionStages:M._json}),"de_SecretVersionsListEntry"),Bcr=H((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fcr(n,t)),"de_SecretVersionsListType"),Er=H(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),qcr=(0,M.withBaseException)(wc),Bs=H(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new q7.HttpRequest(l)},"buildHttpRpcRequest");function ps(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`secretsmanager.${e}`}}H(ps,"sharedHeaders");var j7=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").f(void 0,BLe).ser(gar).de(Bar).build(){static{H(this,"BatchGetSecretValueCommand")}},VLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").f(void 0,void 0).ser(har).de(qar).build(){static{H(this,"CancelRotateSecretCommand")}},GLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").f(qLe,void 0).ser(yar).de(jar).build(){static{H(this,"CreateSecretCommand")}},WLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(_ar).de($ar).build(){static{H(this,"DeleteResourcePolicyCommand")}},KLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").f(void 0,void 0).ser(Sar).de(zar).build(){static{H(this,"DeleteSecretCommand")}},XLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").f(void 0,void 0).ser(Ear).de(Har).build(){static{H(this,"DescribeSecretCommand")}},JLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").f(void 0,jLe).ser(Car).de(Var).build(){static{H(this,"GetRandomPasswordCommand")}},QLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").f(void 0,void 0).ser(bar).de(Gar).build(){static{H(this,"GetResourcePolicyCommand")}},YLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").f(void 0,$Le).ser(war).de(War).build(){static{H(this,"GetSecretValueCommand")}},$7=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").f(void 0,void 0).ser(Aar).de(Kar).build(){static{H(this,"ListSecretsCommand")}},z7=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").f(void 0,void 0).ser(xar).de(Xar).build(){static{H(this,"ListSecretVersionIdsCommand")}},ZLe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").f(void 0,void 0).ser(Par).de(Jar).build(){static{H(this,"PutResourcePolicyCommand")}},eUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").f(zLe,void 0).ser(Rar).de(Qar).build(){static{H(this,"PutSecretValueCommand")}},tUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").f(void 0,void 0).ser(Tar).de(Yar).build(){static{H(this,"RemoveRegionsFromReplicationCommand")}},rUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").f(void 0,void 0).ser(Iar).de(Zar).build(){static{H(this,"ReplicateSecretToRegionsCommand")}},nUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").f(void 0,void 0).ser(Oar).de(ecr).build(){static{H(this,"RestoreSecretCommand")}},sUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").f(void 0,void 0).ser(Nar).de(tcr).build(){static{H(this,"RotateSecretCommand")}},iUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").f(void 0,void 0).ser(Dar).de(rcr).build(){static{H(this,"StopReplicationToReplicaCommand")}},oUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").f(void 0,void 0).ser(kar).de(ncr).build(){static{H(this,"TagResourceCommand")}},aUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").f(void 0,void 0).ser(Mar).de(scr).build(){static{H(this,"UntagResourceCommand")}},cUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").f(HLe,void 0).ser(Lar).de(icr).build(){static{H(this,"UpdateSecretCommand")}},lUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").f(void 0,void 0).ser(Uar).de(ocr).build(){static{H(this,"UpdateSecretVersionStageCommand")}},dUe=class extends M.Command.classBuilder().ep(Ls).m(function(e,t,r,n){return[(0,Us.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").f(void 0,void 0).ser(Far).de(acr).build(){static{H(this,"ValidateResourcePolicyCommand")}},jcr={BatchGetSecretValueCommand:j7,CancelRotateSecretCommand:VLe,CreateSecretCommand:GLe,DeleteResourcePolicyCommand:WLe,DeleteSecretCommand:KLe,DescribeSecretCommand:XLe,GetRandomPasswordCommand:JLe,GetResourcePolicyCommand:QLe,GetSecretValueCommand:YLe,ListSecretsCommand:$7,ListSecretVersionIdsCommand:z7,PutResourcePolicyCommand:ZLe,PutSecretValueCommand:eUe,RemoveRegionsFromReplicationCommand:tUe,ReplicateSecretToRegionsCommand:rUe,RestoreSecretCommand:nUe,RotateSecretCommand:sUe,StopReplicationToReplicaCommand:iUe,TagResourceCommand:oUe,UntagResourceCommand:aUe,UpdateSecretCommand:cUe,UpdateSecretVersionStageCommand:lUe,ValidateResourcePolicyCommand:dUe},uUe=class extends CI{static{H(this,"SecretsManager")}};(0,M.createAggregatedClient)(jcr,uUe);var $cr=(0,pw.createPaginator)(CI,j7,"NextToken","NextToken","MaxResults"),zcr=(0,pw.createPaginator)(CI,z7,"NextToken","NextToken","MaxResults"),Hcr=(0,pw.createPaginator)(CI,$7,"NextToken","NextToken","MaxResults")});var V7=E(gw=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0});gw.secretsService=void 0;var pUe=fUe(),H7=class{client;cache=new Map;cacheExpiry=new Map;CACHE_TTL=5*60*1e3;constructor(){this.client=new pUe.SecretsManagerClient({region:process.env.AWS_REGION||"ap-southeast-1"})}async getSecret(t){let r=Date.now();if(this.cache.has(t)&&this.cacheExpiry.get(t)>r)return this.cache.get(t);try{let n=new pUe.GetSecretValueCommand({SecretId:t}),s=await this.client.send(n);if(!s.SecretString)throw new Error(`Secret ${t} has no SecretString value`);let i=JSON.parse(s.SecretString);return this.cache.set(t,i),this.cacheExpiry.set(t,r+this.CACHE_TTL),i}catch(n){throw console.error(`Failed to retrieve secret ${t}:`,n),new Error(`Failed to retrieve secret: ${n instanceof Error?n.message:"Unknown error"}`)}}async getDatabaseConfig(){let t=process.env.DATABASE_SECRET_ARN;if(!t)throw new Error("DATABASE_SECRET_ARN environment variable is not set");let r=await this.getSecret(t),n={host:r.host,port:parseInt(r.port)||5432,username:r.username,password:r.password,dbname:r.dbname};return{url:`postgresql://${n.username}:${n.password}@${n.host}:${n.port}/${n.dbname}?schema=public&sslmode=require`,config:n}}async getAPIConfig(){let t=process.env.API_SECRET_ARN;if(!t)throw new Error("API_SECRET_ARN environment variable is not set");let r=await this.getSecret(t);return{jwtSecret:r.jwtSecret||r.JWT_SECRET,perplexityApiKey:r.perplexityApiKey||r.PERPLEXITY_API_KEY,redisUrl:r.redisUrl||r.REDIS_URL}}async getJWTSecret(){return(await this.getAPIConfig()).jwtSecret}clearCache(){this.cache.clear(),this.cacheExpiry.clear()}};gw.secretsService=new H7;gw.default=gw.secretsService});var G7=E(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.getPrismaClient=gUe;hw.disconnectPrisma=hUe;hw.setupLambdaCleanup=yUe;var Vcr=require("@prisma/client"),Gcr=V7(),Zl=null,bI=null,Tj=null;async function Wcr(){if(!Tj){let{url:e}=await Gcr.secretsService.getDatabaseConfig();Tj=e}return Tj}function Kcr(e){let t=new Vcr.PrismaClient({datasourceUrl:e,log:[{emit:"event",level:"error"},{emit:"event",level:"warn"}],errorFormat:"minimal"});return t.$on("error",r=>{console.error("Prisma client error:",r)}),t}async function Xcr(){if(!Zl){let e=await Wcr();Zl=Kcr(e)}try{await Zl.$connect(),console.log("Lambda: Database connection established successfully")}catch(e){throw console.error("Lambda: Failed to connect to database:",e),e}}async function gUe(){if(Zl)try{return await Zl.$queryRaw`SELECT 1`,Zl}catch(e){console.warn("Lambda: Existing connection failed, creating new one:",e),Zl=null,bI=null}if(bI||(bI=Xcr()),await bI,!Zl)throw new Error("Lambda: Failed to establish database connection");return Zl}async function hUe(){Zl&&(await Zl.$disconnect(),Zl=null,bI=null,Tj=null,console.log("Lambda: Database connection closed"))}function yUe(){process.on("SIGTERM",async()=>{await hUe()})}yUe();hw.default=gUe});var _Ue=E((ies,Jcr)=>{Jcr.exports={name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var bUe=E((oes,Cp)=>{var W7=require("fs"),Ij=require("path"),Qcr=require("os"),Ycr=require("crypto"),Zcr=_Ue(),K7=Zcr.version,elr=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function tlr(e){let t={},r=e.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=elr.exec(r))!=null;){let s=n[1],i=n[2]||"";i=i.trim();let o=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),t[s]=i}return t}function rlr(e){e=e||{};let t=CUe(e);e.path=t;let r=Xi.configDotenv(e);if(!r.parsed){let o=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw o.code="MISSING_DATA",o}let n=EUe(e).split(","),s=n.length,i;for(let o=0;o<s;o++)try{let a=n[o].trim(),c=slr(r,a);i=Xi.decrypt(c.ciphertext,c.key);break}catch(a){if(o+1>=s)throw a}return Xi.parse(i)}function nlr(e){console.log(`[dotenv@${K7}][WARN] ${e}`)}function wI(e){console.log(`[dotenv@${K7}][DEBUG] ${e}`)}function vUe(e){console.log(`[dotenv@${K7}] ${e}`)}function EUe(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function slr(e,t){let r;try{r=new URL(t)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let n=r.password;if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let s=r.searchParams.get("environment");if(!s){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let i=`DOTENV_VAULT_${s.toUpperCase()}`,o=e.parsed[i];if(!o){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:o,key:n}}function CUe(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)W7.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=Ij.resolve(process.cwd(),".env.vault");return W7.existsSync(t)?t:null}function SUe(e){return e[0]==="~"?Ij.join(Qcr.homedir(),e.slice(1)):e}function ilr(e){let t=!!(e&&e.debug),r=e&&"quiet"in e?e.quiet:!0;(t||!r)&&vUe("Loading env from encrypted .env.vault");let n=Xi._parseVault(e),s=process.env;return e&&e.processEnv!=null&&(s=e.processEnv),Xi.populate(s,n,e),{parsed:n}}function olr(e){let t=Ij.resolve(process.cwd(),".env"),r="utf8",n=!!(e&&e.debug),s=e&&"quiet"in e?e.quiet:!0;e&&e.encoding?r=e.encoding:n&&wI("No encoding is specified. UTF-8 is used by default");let i=[t];if(e&&e.path)if(!Array.isArray(e.path))i=[SUe(e.path)];else{i=[];for(let l of e.path)i.push(SUe(l))}let o,a={};for(let l of i)try{let d=Xi.parse(W7.readFileSync(l,{encoding:r}));Xi.populate(a,d,e)}catch(d){n&&wI(`Failed to load ${l} ${d.message}`),o=d}let c=process.env;if(e&&e.processEnv!=null&&(c=e.processEnv),Xi.populate(c,a,e),n||!s){let l=Object.keys(a).length,d=[];for(let u of i)try{let m=Ij.relative(process.cwd(),u);d.push(m)}catch(m){n&&wI(`Failed to load ${u} ${m.message}`),o=m}vUe(`injecting env (${l}) from ${d.join(",")}`)}return o?{parsed:a,error:o}:{parsed:a}}function alr(e){if(EUe(e).length===0)return Xi.configDotenv(e);let t=CUe(e);return t?Xi._configVault(e):(nlr(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),Xi.configDotenv(e))}function clr(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),s=n.subarray(0,12),i=n.subarray(-16);n=n.subarray(12,-16);try{let o=Ycr.createDecipheriv("aes-256-gcm",r,s);return o.setAuthTag(i),`${o.update(n)}${o.final()}`}catch(o){let a=o instanceof RangeError,c=o.message==="Invalid key length",l=o.message==="Unsupported state or unable to authenticate data";if(a||c){let d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(l){let d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw o}}function llr(e,t,r={}){let n=!!(r&&r.debug),s=!!(r&&r.override);if(typeof t!="object"){let i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(let i of Object.keys(t))Object.prototype.hasOwnProperty.call(e,i)?(s===!0&&(e[i]=t[i]),n&&wI(s===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):e[i]=t[i]}var Xi={configDotenv:olr,_configVault:ilr,_parseVault:rlr,config:alr,decrypt:clr,parse:tlr,populate:llr};Cp.exports.configDotenv=Xi.configDotenv;Cp.exports._configVault=Xi._configVault;Cp.exports._parseVault=Xi._parseVault;Cp.exports.config=Xi.config;Cp.exports.decrypt=Xi.decrypt;Cp.exports.parse=Xi.parse;Cp.exports.populate=Xi.populate;Cp.exports=Xi});var AUe=E((aes,wUe)=>{"use strict";wUe.exports=function(...e){try{return JSON.stringify(...e)}catch(t){return"[Cannot display object: "+t.message+"]"}}});var X7=E((xUe,PUe)=>{"use strict";var dlr=AUe();PUe.exports=class extends Error{constructor(e){let t=e.filter(r=>r!=="").map(r=>typeof r=="string"?r:r instanceof Error?r.message:dlr(r));super(t.join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xUe.assert)}}});var Nr=E((les,RUe)=>{"use strict";var ulr=X7();RUe.exports=function(e,...t){if(!e)throw t.length===1&&t[0]instanceof Error?t[0]:new ulr(t)}});var dv=E((des,IUe)=>{"use strict";var J7=Nr(),TUe={};IUe.exports=function(e,t,r){if(t===!1||t===null||t===void 0)return e;r=r||{},typeof r=="string"&&(r={separator:r});let n=Array.isArray(t);J7(!n||!r.separator,"Separator option is not valid for array-based chain");let s=n?t:t.split(r.separator||"."),i=e;for(let o=0;o<s.length;++o){let a=s[o],c=r.iterables&&TUe.iterables(i);if(Array.isArray(i)||c==="set"){let l=Number(a);Number.isInteger(l)&&(a=l<0?i.length+l:l)}if(!i||typeof i=="function"&&r.functions===!1||!c&&i[a]===void 0){J7(!r.strict||o+1===s.length,"Missing segment",a,"in reach path ",t),J7(typeof i=="object"||r.functions===!0||typeof i!="function","Invalid segment",a,"in reach path ",t),i=r.default;break}c?c==="set"?i=[...i][a]:i=i.get(a):i=i[a]}return i};TUe.iterables=function(e){if(e instanceof Set)return"set";if(e instanceof Map)return"map"}});var Q7=E((Wa,NUe)=>{"use strict";var OUe={};Wa=NUe.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype};OUe.typeMap=new Map([["[object Error]",Wa.error],["[object Map]",Wa.map],["[object Promise]",Wa.promise],["[object Set]",Wa.set],["[object WeakMap]",Wa.weakMap],["[object WeakSet]",Wa.weakSet]]);Wa.getInternalProto=function(e){if(Array.isArray(e))return Wa.array;if(Buffer&&e instanceof Buffer)return Wa.buffer;if(e instanceof Date)return Wa.date;if(e instanceof RegExp)return Wa.regex;if(e instanceof Error)return Wa.error;let t=Object.prototype.toString.call(e);return OUe.typeMap.get(t)||Wa.generic}});var Y7=E(DUe=>{"use strict";DUe.keys=function(e,t={}){return t.symbols!==!1?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}});var Ka=E((mes,kUe)=>{"use strict";var mlr=dv(),fl=Q7(),flr=Y7(),bp={needsProtoHack:new Set([fl.set,fl.map,fl.weakSet,fl.weakMap])};kUe.exports=bp.clone=function(e,t={},r=null){if(typeof e!="object"||e===null)return e;let n=bp.clone,s=r;if(t.shallow){if(t.shallow!==!0)return bp.cloneWithShallow(e,t);n=c=>c}else if(s){let c=s.get(e);if(c)return c}else s=new Map;let i=fl.getInternalProto(e);if(i===fl.buffer)return Buffer&&Buffer.from(e);if(i===fl.date)return new Date(e.getTime());if(i===fl.regex)return new RegExp(e);let o=bp.base(e,i,t);if(o===e)return e;if(s&&s.set(e,o),i===fl.set)for(let c of e)o.add(n(c,t,s));else if(i===fl.map)for(let[c,l]of e)o.set(c,n(l,t,s));let a=flr.keys(e,t);for(let c of a){if(c==="__proto__")continue;if(i===fl.array&&c==="length"){o.length=e.length;continue}let l=Object.getOwnPropertyDescriptor(e,c);l?l.get||l.set?Object.defineProperty(o,c,l):l.enumerable?o[c]=n(e[c],t,s):Object.defineProperty(o,c,{enumerable:!1,writable:!0,configurable:!0,value:n(e[c],t,s)}):Object.defineProperty(o,c,{enumerable:!0,writable:!0,configurable:!0,value:n(e[c],t,s)})}return o};bp.cloneWithShallow=function(e,t){let r=t.shallow;t=Object.assign({},t),t.shallow=!1;let n=new Map;for(let s of r){let i=mlr(e,s);(typeof i=="object"||typeof i=="function")&&n.set(i,i)}return bp.clone(e,t,n)};bp.base=function(e,t,r){if(r.prototype===!1)return bp.needsProtoHack.has(t)?new t.constructor:t===fl.array?[]:{};let n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===fl.array){let s=[];return n!==t&&Object.setPrototypeOf(s,n),s}if(bp.needsProtoHack.has(t)){let s=new n.constructor;return n!==t&&Object.setPrototypeOf(s,n),s}return Object.create(n)}});var MUe=E((fes,plr)=>{plr.exports={name:"joi",description:"Object schema validation",version:"17.13.3",repository:"git://github.com/hapijs/joi",main:"lib/index.js",types:"lib/index.d.ts",browser:"dist/joi-browser.min.js",files:["lib/**/*","dist/*"],keywords:["schema","validation"],dependencies:{"@hapi/hoek":"^9.3.0","@hapi/topo":"^5.1.0","@sideway/address":"^4.1.5","@sideway/formula":"^3.0.1","@sideway/pinpoint":"^2.0.0"},devDependencies:{"@hapi/bourne":"2.x.x","@hapi/code":"8.x.x","@hapi/joi-legacy-test":"npm:@hapi/joi@15.x.x","@hapi/lab":"^25.1.3","@types/node":"^14.18.63",typescript:"4.3.x"},scripts:{prepublishOnly:"cd browser && npm install && npm run build",test:"lab -t 100 -a @hapi/code -L -Y","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"}});var Oj=E(AI=>{"use strict";var q=Z7(),yt={};yt.wrap=q.string().min(1).max(2).allow(!1);AI.preferences=q.object({allowUnknown:q.boolean(),abortEarly:q.boolean(),artifacts:q.boolean(),cache:q.boolean(),context:q.object(),convert:q.boolean(),dateFormat:q.valid("date","iso","string","time","utc"),debug:q.boolean(),errors:{escapeHtml:q.boolean(),label:q.valid("path","key",!1),language:[q.string(),q.object().ref()],render:q.boolean(),stack:q.boolean(),wrap:{label:yt.wrap,array:yt.wrap,string:yt.wrap}},externals:q.boolean(),messages:q.object(),noDefaults:q.boolean(),nonEnumerables:q.boolean(),presence:q.valid("required","optional","forbidden"),skipFunctions:q.boolean(),stripUnknown:q.object({arrays:q.boolean(),objects:q.boolean()}).or("arrays","objects").allow(!0,!1),warnings:q.boolean()}).strict();yt.nameRx=/^[a-zA-Z0-9]\w*$/;yt.rule=q.object({alias:q.array().items(q.string().pattern(yt.nameRx)).single(),args:q.array().items(q.string(),q.object({name:q.string().pattern(yt.nameRx).required(),ref:q.boolean(),assert:q.alternatives([q.function(),q.object().schema()]).conditional("ref",{is:!0,then:q.required()}),normalize:q.function(),message:q.string().when("assert",{is:q.function(),then:q.required()})})),convert:q.boolean(),manifest:q.boolean(),method:q.function().allow(!1),multi:q.boolean(),validate:q.function()});AI.extension=q.object({type:q.alternatives([q.string(),q.object().regex()]).required(),args:q.function(),cast:q.object().pattern(yt.nameRx,q.object({from:q.function().maxArity(1).required(),to:q.function().minArity(1).maxArity(2).required()})),base:q.object().schema().when("type",{is:q.object().regex(),then:q.forbidden()}),coerce:[q.function().maxArity(3),q.object({method:q.function().maxArity(3).required(),from:q.array().items(q.string()).single()})],flags:q.object().pattern(yt.nameRx,q.object({setter:q.string(),default:q.any()})),manifest:{build:q.function().arity(2)},messages:[q.object(),q.string()],modifiers:q.object().pattern(yt.nameRx,q.function().minArity(1).maxArity(2)),overrides:q.object().pattern(yt.nameRx,q.function()),prepare:q.function().maxArity(3),rebuild:q.function().arity(1),rules:q.object().pattern(yt.nameRx,yt.rule),terms:q.object().pattern(yt.nameRx,q.object({init:q.array().allow(null).required(),manifest:q.object().pattern(/.+/,[q.valid("schema","single"),q.object({mapped:q.object({from:q.string().required(),to:q.string().required()}).required()})])})),validate:q.function().maxArity(3)}).strict();AI.extensions=q.array().items(q.object(),q.function().arity(1)).strict();yt.desc={buffer:q.object({buffer:q.string()}),func:q.object({function:q.function().required(),options:{literal:!0}}),override:q.object({override:!0}),ref:q.object({ref:q.object({type:q.valid("value","global","local"),path:q.array().required(),separator:q.string().length(1).allow(!1),ancestor:q.number().min(0).integer().allow("root"),map:q.array().items(q.array().length(2)).min(1),adjust:q.function(),iterables:q.boolean(),in:q.boolean(),render:q.boolean()}).required()}),regex:q.object({regex:q.string().min(3)}),special:q.object({special:q.valid("deep").required()}),template:q.object({template:q.string().required(),options:q.object()}),value:q.object({value:q.alternatives([q.object(),q.array()]).required()})};yt.desc.entity=q.alternatives([q.array().items(q.link("...")),q.boolean(),q.function(),q.number(),q.string(),yt.desc.buffer,yt.desc.func,yt.desc.ref,yt.desc.regex,yt.desc.special,yt.desc.template,yt.desc.value,q.link("/")]);yt.desc.values=q.array().items(null,q.boolean(),q.function(),q.number().allow(1/0,-1/0),q.string().allow(""),q.symbol(),yt.desc.buffer,yt.desc.func,yt.desc.override,yt.desc.ref,yt.desc.regex,yt.desc.template,yt.desc.value);yt.desc.messages=q.object().pattern(/.+/,[q.string(),yt.desc.template,q.object().pattern(/.+/,[q.string(),yt.desc.template])]);AI.description=q.object({type:q.string().required(),flags:q.object({cast:q.string(),default:q.any(),description:q.string(),empty:q.link("/"),failover:yt.desc.entity,id:q.string(),label:q.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:q.boolean(),unit:q.string()}).unknown(),preferences:{allowUnknown:q.boolean(),abortEarly:q.boolean(),artifacts:q.boolean(),cache:q.boolean(),convert:q.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:q.boolean(),label:["path","key"],language:[q.string(),yt.desc.ref],wrap:{label:yt.wrap,array:yt.wrap}},externals:q.boolean(),messages:yt.desc.messages,noDefaults:q.boolean(),nonEnumerables:q.boolean(),presence:["required","optional","forbidden"],skipFunctions:q.boolean(),stripUnknown:q.object({arrays:q.boolean(),objects:q.boolean()}).or("arrays","objects").allow(!0,!1),warnings:q.boolean()},allow:yt.desc.values,invalid:yt.desc.values,rules:q.array().min(1).items({name:q.string().required(),args:q.object().min(1),keep:q.boolean(),message:[q.string(),yt.desc.messages],warn:q.boolean()}),keys:q.object().pattern(/.*/,q.link("/")),link:yt.desc.ref}).pattern(/^[a-z]\w*$/,q.any())});var UUe=E((ges,LUe)=>{"use strict";var Yh={};LUe.exports=function(e){if(!e)return"";let t="";for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);Yh.isSafe(n)?t+=e[r]:t+=Yh.escapeHtmlChar(n)}return t};Yh.escapeHtmlChar=function(e){let t=Yh.namedHtml.get(e);return t||(e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`)};Yh.isSafe=function(e){return Yh.safeCharCodes.has(e)};Yh.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]);Yh.safeCharCodes=function(){let e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||t===32||t===46||t===44||t===45||t===58||t===95)&&e.add(t);return e}()});var FUe=E(xI=>{"use strict";var xr={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};xI.Parser=class{constructor(e,t={}){if(!t[xr.settings]&&t.constants)for(let r in t.constants){let n=t.constants[r];if(n!==null&&!["boolean","number","string"].includes(typeof n))throw new Error(`Formula constant ${r} contains invalid ${typeof n} value type`)}this.settings=t[xr.settings]?t:Object.assign({[xr.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let t=[],r="",n=0,s=!1,i=a=>{if(n)throw new Error("Formula missing closing parenthesis");let c=t.length?t[t.length-1]:null;if(!(!s&&!r&&!a)){if(c&&c.type==="reference"&&a===")"){c.type="function",c.value=this._subFormula(r,c.value),r="";return}if(a===")"){let l=new xI.Parser(r,this.settings);t.push({type:"segment",value:l})}else if(s){if(s==="]"){t.push({type:"reference",value:r}),r="";return}t.push({type:"literal",value:r})}else if(xr.operatorCharacters.includes(r))c&&c.type==="operator"&&xr.operators.includes(c.value+r)?c.value+=r:t.push({type:"operator",value:r});else if(r.match(xr.numberRx))t.push({type:"constant",value:parseFloat(r)});else if(this.settings.constants[r]!==void 0)t.push({type:"constant",value:this.settings.constants[r]});else{if(!r.match(xr.tokenRx))throw new Error(`Formula contains invalid token: ${r}`);t.push({type:"reference",value:r})}r=""}};for(let a of e)s?a===s?(i(),s=!1):r+=a:n?a==="("?(r+=a,++n):a===")"?(--n,n?r+=a:i(a)):r+=a:a in xr.literals?s=xr.literals[a]:a==="("?(i(),++n):xr.operatorCharacters.includes(a)?(i(),r=a,i()):a!==" "?r+=a:i();i(),t=t.map((a,c)=>a.type!=="operator"||a.value!=="-"||c&&t[c-1].type!=="operator"?a:{type:"operator",value:"n"});let o=!1;for(let a of t){if(a.type==="operator"){if(xr.operatorsPrefix.includes(a.value))continue;if(!o)throw new Error("Formula contains an operator in invalid position");if(!xr.operators.includes(a.value))throw new Error(`Formula contains an unknown operator ${a.value}`)}else if(o)throw new Error("Formula missing expected operator");o=!o}if(!o)throw new Error("Formula contains invalid trailing operator");t.length===1&&["reference","literal","constant"].includes(t[0].type)&&(this.single={type:t[0].type==="reference"?"reference":"value",value:t[0].value}),this._parts=t.map(a=>{if(a.type==="operator")return xr.operatorsPrefix.includes(a.value)?a:a.value;if(a.type!=="reference")return a.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(a.value))throw new Error(`Formula contains invalid reference ${a.value}`);return this.settings.reference?this.settings.reference(a.value):xr.reference(a.value)})}_subFormula(e,t){let r=this.settings.functions[t];if(typeof r!="function")throw new Error(`Formula contains unknown function ${t}`);let n=[];if(e){let s="",i=0,o=!1,a=()=>{if(!s)throw new Error(`Formula contains function ${t} with invalid arguments ${e}`);n.push(s),s=""};for(let c=0;c<e.length;++c){let l=e[c];o?(s+=l,l===o&&(o=!1)):l in xr.literals&&!i?(s+=l,o=xr.literals[l]):l===","&&!i?a():(s+=l,l==="("?++i:l===")"&&--i)}a()}return n=n.map(s=>new xI.Parser(s,this.settings)),function(s){let i=[];for(let o of n)i.push(o.evaluate(s));return r.call(s,...i)}}evaluate(e){let t=this._parts.slice();for(let r=t.length-2;r>=0;--r){let n=t[r];if(n&&n.type==="operator"){let s=t[r+1];t.splice(r+1,1);let i=xr.evaluate(s,e);t[r]=xr.single(n.value,i)}}return xr.operatorsOrder.forEach(r=>{for(let n=1;n<t.length-1;)if(r.includes(t[n])){let s=t[n],i=xr.evaluate(t[n-1],e),o=xr.evaluate(t[n+1],e);t.splice(n,2);let a=xr.calculate(s,i,o);t[n-1]=a===0?0:a}else n+=2}),xr.evaluate(t[0],e)}};xI.Parser.prototype[xr.symbol]=!0;xr.reference=function(e){return function(t){return t&&t[e]!==void 0?t[e]:null}};xr.evaluate=function(e,t){return e===null?null:typeof e=="function"?e(t):e[xr.symbol]?e.evaluate(t):e};xr.single=function(e,t){if(e==="!")return!t;let r=-t;return r===0?0:r};xr.calculate=function(e,t,r){if(e==="??")return xr.exists(t)?t:r;if(typeof t=="string"||typeof r=="string"){if(e==="+")return t=xr.exists(t)?t:"",r=xr.exists(r)?r:"",t+r}else switch(e){case"^":return Math.pow(t,r);case"*":return t*r;case"/":return t/r;case"%":return t%r;case"+":return t+r;case"-":return t-r}switch(e){case"<":return t<r;case"<=":return t<=r;case">":return t>r;case">=":return t>=r;case"==":return t===r;case"!=":return t!==r;case"&&":return t&&r;case"||":return t||r}return null};xr.exists=function(e){return e!=null}});var qUe=E(BUe=>{"use strict";var glr=Ka(),hlr=Zn(),uv={annotations:Symbol("annotations")};BUe.error=function(e){if(!this._original||typeof this._original!="object")return this.details[0].message;let t=e?"":"\x1B[31m",r=e?"":"\x1B[41m",n=e?"":"\x1B[0m",s=glr(this._original);for(let a=this.details.length-1;a>=0;--a){let c=a+1,l=this.details[a],d=l.path,u=s;for(let m=0;;++m){let p=d[m];if(hlr.isSchema(u)&&(u=u.clone()),m+1<d.length&&typeof u[p]!="string")u=u[p];else{let g=u[uv.annotations]||{errors:{},missing:{}};u[uv.annotations]=g;let y=p||l.context.key;u[p]!==void 0?(g.errors[y]=g.errors[y]||[],g.errors[y].push(c)):g.missing[y]=c;break}}}let i={key:/_\$key\$_([, \d]+)_\$end\$_"/g,missing:/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,arrayIndex:/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g},o=uv.safeStringify(s,2).replace(i.key,(a,c)=>`" ${t}[${c}]${n}`).replace(i.missing,(a,c,l)=>`${r}"${c}"${n}${t} [${l}]: -- missing --${n}`).replace(i.arrayIndex,(a,c,l)=>`
${l} ${t}[${c}]${n}`).replace(i.specials,(a,c)=>c);o=`${o}
${t}`;for(let a=0;a<this.details.length;++a){let c=a+1;o=`${o}
[${c}] ${this.details[a].message}`}return o=o+n,o};uv.safeStringify=function(e,t){return JSON.stringify(e,uv.serializer(),t)};uv.serializer=function(){let e=[],t=[],r=(n,s)=>t[0]===s?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(s)).join(".")+"]";return function(n,s){if(t.length>0){let i=t.indexOf(this);~i?(t.length=i+1,e.length=i+1,e[i]=n):(t.push(this),e.push(n)),~t.indexOf(s)&&(s=r.call(this,n,s))}else t.push(s);if(s){let i=s[uv.annotations];if(i){if(Array.isArray(s)){let o=[];for(let a=0;a<s.length;++a)i.errors[a]&&o.push(`_$idx$_${i.errors[a].sort().join(", ")}_$end$_`),o.push(s[a]);s=o}else{for(let o in i.errors)s[`${o}_$key$_${i.errors[o].sort().join(", ")}_$end$_`]=s[o],s[o]=void 0;for(let o in i.missing)s[`_$miss$_${o}|${i.missing[o]}_$end$_`]="__missing__"}return s}}return s===1/0||s===-1/0||Number.isNaN(s)||typeof s=="function"||typeof s=="symbol"?"["+s.toString()+"]":s}}});var wp=E(Ni=>{"use strict";var ylr=qUe(),_lr=Zn(),Slr=Zh();Ni.Report=class{constructor(e,t,r,n,s,i,o){if(this.code=e,this.flags=n,this.messages=s,this.path=i.path,this.prefs=o,this.state=i,this.value=t,this.message=null,this.template=null,this.local=r||{},this.local.label=Ni.label(this.flags,this.state,this.prefs,this.messages),this.value!==void 0&&!this.local.hasOwnProperty("value")&&(this.local.value=this.value),this.path.length){let a=this.path[this.path.length-1];typeof a!="object"&&(this.local.key=a)}}_setTemplate(e){if(this.template=e,!this.flags.label&&this.path.length===0){let t=this._template(this.template,"root");t&&(this.local.label=t)}}toString(){if(this.message)return this.message;let e=this.code;if(!this.prefs.errors.render)return this.code;let t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return t===void 0?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,t){return Ni.template(this.value,e,t||this.code,this.state,this.prefs)}};Ni.path=function(e){let t="";for(let r of e)typeof r!="object"&&(typeof r=="string"?(t&&(t+="."),t+=r):t+=`[${r}]`);return t};Ni.template=function(e,t,r,n,s){if(!t)return;if(Slr.isTemplate(t))return r!=="root"?t:null;let i=s.errors.language;if(_lr.isResolvable(i)&&(i=i.resolve(e,n,s)),i&&t[i]){if(t[i][r]!==void 0)return t[i][r];if(t[i]["*"]!==void 0)return t[i]["*"]}return t[r]?t[r]:t["*"]};Ni.label=function(e,t,r,n){if(!r.errors.label)return"";if(e.label)return e.label;let s=t.path;r.errors.label==="key"&&t.path.length>1&&(s=t.path.slice(-1));let i=Ni.path(s);return i||Ni.template(null,r.messages,"root",t,r)||n&&Ni.template(null,n,"root",t,r)||"value"};Ni.process=function(e,t,r){if(!e)return null;let{override:n,message:s,details:i}=Ni.details(e);if(n)return n;if(r.errors.stack)return new Ni.ValidationError(s,i,t);let o=Error.stackTraceLimit;Error.stackTraceLimit=0;let a=new Ni.ValidationError(s,i,t);return Error.stackTraceLimit=o,a};Ni.details=function(e,t={}){let r=[],n=[];for(let s of e){if(s instanceof Error){if(t.override!==!1)return{override:s};let o=s.toString();r.push(o),n.push({message:o,type:"override",context:{error:s}});continue}let i=s.toString();r.push(i),n.push({message:i,path:s.path.filter(o=>typeof o!="object"),type:s.code,context:s.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:n}};Ni.ValidationError=class extends Error{constructor(e,t,r){super(e),this._original=r,this.details=t}static isError(e){return e instanceof Ni.ValidationError}};Ni.ValidationError.prototype.isJoi=!0;Ni.ValidationError.prototype.name="ValidationError";Ni.ValidationError.prototype.annotate=ylr.error});var Ap=E(rd=>{"use strict";var ed=Nr(),vlr=Ka(),Elr=dv(),PI=Zn(),eZ,td={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};rd.create=function(e,t={}){ed(typeof e=="string","Invalid reference key:",e),PI.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),ed(!t.prefix||typeof t.prefix=="object","options.prefix must be of type object");let r=Object.assign({},td.defaults,t);delete r.prefix;let n=r.separator,s=td.context(e,n,t.prefix);if(r.type=s.type,e=s.key,r.type==="value")if(s.root&&(ed(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(r.ancestor!==void 0)ed(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{let[i,o]=td.ancestor(e,n);o&&(e=e.slice(o),e===""&&(e=null)),r.ancestor=i}return r.path=n?e===null?[]:e.split(n):[e],new td.Ref(r)};rd.in=function(e,t={}){return rd.create(e,{...t,in:!0})};rd.isRef=function(e){return e?!!e[PI.symbols.ref]:!1};td.Ref=class{constructor(e){ed(typeof e=="object","Invalid reference construction"),PI.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),ed([!1,void 0].includes(e.separator)||typeof e.separator=="string"&&e.separator.length===1,"Invalid separator"),ed(!e.adjust||typeof e.adjust=="function","options.adjust must be a function"),ed(!e.map||Array.isArray(e.map),"options.map must be an array"),ed(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,td.defaults,e),ed(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,n,s={}){return ed(!this.in||s.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(r.context,t,s):this.type==="local"?this._resolve(n,t,s):this.ancestor?this.ancestor==="root"?this._resolve(t.ancestors[t.ancestors.length-1],t,s):(ed(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,s)):this._resolve(e,t,s)}_resolve(e,t,r){let n;if(this.type==="value"&&t.mainstay.shadow&&r.shadow!==!1&&(n=t.mainstay.shadow.get(this.absolute(t))),n===void 0&&(n=Elr(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){let s=this.map.get(n);s!==void 0&&(n=s)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new td.Ref(this)}describe(){let e={path:this.path};this.type!=="value"&&(e.type=this.type),this.separator!=="."&&(e.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(let t of["adjust","iterables","render"])this[t]!==null&&this[t]!==void 0&&(e[t]=this[t]);return this.in!==!1&&(e.in=!0),{ref:e}}updateDisplay(){let e=this.key!==null?this.key:"";if(this.type!=="value"){this.display=`ref:${this.type}:${e}`;return}if(!this.separator){this.display=`ref:${e}`;return}if(!this.ancestor){this.display=`ref:${this.separator}${e}`;return}if(this.ancestor==="root"){this.display=`ref:root:${e}`;return}if(this.ancestor===1){this.display=`ref:${e||".."}`;return}let t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}};td.Ref.prototype[PI.symbols.ref]=!0;rd.build=function(e){return e=Object.assign({},td.defaults,e),e.type==="value"&&e.ancestor===void 0&&(e.ancestor=1),new td.Ref(e)};td.context=function(e,t,r={}){if(e=e.trim(),r){let n=r.global===void 0?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};let s=r.local===void 0?"#":r.local;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"local"};let i=r.root===void 0?"/":r.root;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"value",root:!0}}return{key:e,type:"value"}};td.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]};rd.toSibling=0;rd.toParent=1;rd.Manager=class{constructor(){this.refs=[]}register(e,t){if(e){if(t=t===void 0?rd.toParent:t,Array.isArray(e)){for(let r of e)this.register(r,t);return}if(PI.isSchema(e)){for(let r of e._refs.refs)r.ancestor-t>=0&&this.refs.push({ancestor:r.ancestor-t,root:r.root});return}rd.isRef(e)&&e.type==="value"&&e.ancestor-t>=0&&this.refs.push({ancestor:e.ancestor-t,root:e.root}),eZ=eZ||Zh(),eZ.isTemplate(e)&&this.register(e.refs(),t)}}get length(){return this.refs.length}clone(){let e=new rd.Manager;return e.refs=vlr(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}});var Zh=E((HUe,VUe)=>{"use strict";var Nj=Nr(),Clr=Ka(),blr=UUe(),wlr=FUe(),$Ue=Zn(),jUe=wp(),zUe=Ap(),en={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};VUe.exports=HUe=en.Template=class{constructor(e,t){if(Nj(typeof e=="string","Template source must be a string"),Nj(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,t){let{functions:r,...n}=t;this._settings=Object.keys(n).length?Clr(n):void 0,this._functions=r,this._functions&&(Nj(Object.keys(this._functions).every(s=>typeof s=="string"),"Functions keys must be strings"),Nj(Object.values(this._functions).every(s=>typeof s=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;let e=en.encode(this.source),t=en.split(e),r=!1,n=[],s=t.shift();s&&n.push(s);for(let i of t){let o=i[0]!=="{",a=o?"}":"}}",c=i.indexOf(a);if(c===-1||i[1]==="{"){n.push(`{${en.decode(i)}`);continue}let l=i.slice(o?0:1,c),d=l[0]===":";d&&(l=l.slice(1));let u=this._ref(en.decode(l),{raw:o,wrapped:d});n.push(u),typeof u!="string"&&(r=!0);let m=i.slice(c+a.length);m&&n.push(en.decode(m))}if(!r){this.rendered=n.join("");return}this._template=n}static date(e,t){return en.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;let t={template:this.source};return this._settings&&(t.options=this._settings),this._functions&&(t.functions=this._functions),t}static build(e){return new en.Template(e.template,e.options||e.functions?{...e.options,functions:e.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(e){return e?!!e[$Ue.symbols.template]:!1}refs(){if(!this._template)return;let e=[];for(let t of this._template)typeof t!="string"&&e.push(...t.refs);return e}resolve(e,t,r,n){return this._template&&this._template.length===1?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,r,n,s={}){if(!this.isDynamic())return this.rendered;let i=[];for(let o of this._template)if(typeof o=="string")i.push(o);else{let a=this._part(o,e,t,r,n,s),c=en.stringify(a,e,t,r,n,s);if(c!==void 0){let l=o.raw||(s.errors&&s.errors.escapeHtml)===!1?c:blr(c);i.push(en.wrap(l,o.wrapped&&r.errors.wrap.label))}}return i.join("")}_ref(e,{raw:t,wrapped:r}){let n=[],s=o=>{let a=zUe.create(o,this._settings);return n.push(a),c=>{let l=a.resolve(...c);return l!==void 0?l:null}};try{let o=this._functions?{...en.functions,...this._functions}:en.functions;var i=new wlr.Parser(e,{reference:s,functions:o,constants:en.constants})}catch(o){throw o.message=`Invalid template variable "${e}" fails due to: ${o.message}`,o}if(i.single){if(i.single.type==="reference"){let o=n[0];return{ref:o,raw:t,refs:n,wrapped:r||o.type==="local"&&o.key==="label"}}return en.stringify(i.single.value)}return{formula:i,raw:t,refs:n}}toString(){return this.source}};en.Template.prototype[$Ue.symbols.template]=!0;en.Template.prototype.isImmutable=!0;en.encode=function(e){return e.replace(/\\(\{+)/g,(t,r)=>en.opens.slice(0,r.length)).replace(/\\(\}+)/g,(t,r)=>en.closes.slice(0,r.length))};en.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")};en.split=function(e){let t=[],r="";for(let n=0;n<e.length;++n){let s=e[n];if(s==="{"){let i="";for(;n+1<e.length&&e[n+1]==="{";)i+="{",++n;t.push(r),r=i}else r+=s}return t.push(r),t};en.wrap=function(e,t){return t?t.length===1?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e};en.stringify=function(e,t,r,n,s,i={}){let o=typeof e,a=n&&n.errors&&n.errors.wrap||{},c=!1;if(zUe.isRef(e)&&e.render&&(c=e.in,e=e.resolve(t,r,n,s,{in:e.in,...i})),e===null)return"null";if(o==="string")return en.wrap(e,i.arrayItems&&a.string);if(o==="number"||o==="function"||o==="symbol")return e.toString();if(o!=="object")return JSON.stringify(e);if(e instanceof Date)return en.Template.date(e,n);if(e instanceof Map){let d=[];for(let[u,m]of e.entries())d.push(`${u.toString()} -> ${m.toString()}`);e=d}if(!Array.isArray(e))return e.toString();let l=[];for(let d of e)l.push(en.stringify(d,t,r,n,s,{arrayItems:!0,...i}));return en.wrap(l.join(", "),!c&&a.array)};en.constants={true:!0,false:!1,null:null,second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3};en.functions={if(e,t,r){return e?t:r},length(e){return typeof e=="string"?e.length:!e||typeof e!="object"?null:Array.isArray(e)?e.length:Object.keys(e).length},msg(e){let[t,r,n,s,i]=this,o=i.messages;if(!o)return"";let a=jUe.template(t,o[0],e,r,n)||jUe.template(t,o[1],e,r,n);return a?a.render(t,r,n,s,i):""},number(e){return typeof e=="number"?e:typeof e=="string"?parseFloat(e):typeof e=="boolean"?e?1:0:e instanceof Date?e.getTime():null}}});var yw=E(RI=>{"use strict";var mv=Nr(),GUe=Ka(),pl=Zh();RI.compile=function(e,t){if(typeof e=="string")return mv(!t,"Cannot set single message string"),new pl(e);if(pl.isTemplate(e))return mv(!t,"Cannot set single message template"),e;mv(typeof e=="object"&&!Array.isArray(e),"Invalid message options"),t=t?GUe(t):{};for(let r in e){let n=e[r];if(r==="root"||pl.isTemplate(n)){t[r]=n;continue}if(typeof n=="string"){t[r]=new pl(n);continue}mv(typeof n=="object"&&!Array.isArray(n),"Invalid message for",r);let s=r;t[s]=t[s]||{};for(r in n){let i=n[r];if(r==="root"||pl.isTemplate(i)){t[s][r]=i;continue}mv(typeof i=="string","Invalid message for",r,"in",s),t[s][r]=new pl(i)}}return t};RI.decompile=function(e){let t={};for(let r in e){let n=e[r];if(r==="root"){t.root=n;continue}if(pl.isTemplate(n)){t[r]=n.describe({compact:!0});continue}let s=r;t[s]={};for(r in n){let i=n[r];if(r==="root"){t[s].root=i;continue}t[s][r]=i.describe({compact:!0})}}return t};RI.merge=function(e,t){if(!e)return RI.compile(t);if(!t)return e;if(typeof t=="string")return new pl(t);if(pl.isTemplate(t))return t;let r=GUe(e);for(let n in t){let s=t[n];if(n==="root"||pl.isTemplate(s)){r[n]=s;continue}if(typeof s=="string"){r[n]=new pl(s);continue}mv(typeof s=="object"&&!Array.isArray(s),"Invalid message for",n);let i=n;r[i]=r[i]||{};for(n in s){let o=s[n];if(n==="root"||pl.isTemplate(o)){r[i][n]=o;continue}mv(typeof o=="string","Invalid message for",n,"in",i),r[i][n]=new pl(o)}}return r}});var Zn=E(es=>{"use strict";var Dj=Nr(),Alr=X7(),xlr=MUe(),tZ,rZ,Plr={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};es.version=xlr.version;es.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1};es.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")};es.assertOptions=function(e,t,r="Options"){Dj(e&&typeof e=="object"&&!Array.isArray(e),"Options must be of type object");let n=Object.keys(e).filter(s=>!t.includes(s));Dj(n.length===0,`${r} contain unknown keys: ${n}`)};es.checkPreferences=function(e){rZ=rZ||Oj();let t=rZ.preferences.validate(e);if(t.error)throw new Alr([t.error.details[0].message])};es.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}};es.default=function(e,t){return e===void 0?t:e};es.isIsoDate=function(e){return Plr.isoDate.test(e)};es.isNumber=function(e){return typeof e=="number"&&!isNaN(e)};es.isResolvable=function(e){return e?e[es.symbols.ref]||e[es.symbols.template]:!1};es.isSchema=function(e,t={}){let r=e&&e[es.symbols.any];return r?(Dj(t.legacy||r.version===es.version,"Cannot mix different versions of joi schemas"),!0):!1};es.isValues=function(e){return e[es.symbols.values]};es.limit=function(e){return Number.isSafeInteger(e)&&e>=0};es.preferences=function(e,t){tZ=tZ||yw(),e=e||{},t=t||{};let r=Object.assign({},e,t);return t.errors&&e.errors&&(r.errors=Object.assign({},e.errors,t.errors),r.errors.wrap=Object.assign({},e.errors.wrap,t.errors.wrap)),t.messages&&(r.messages=tZ.compile(t.messages,e.messages)),delete r[es.symbols.prefs],r};es.tryWithPath=function(e,t,r={}){try{return e()}catch(n){throw n.path!==void 0?n.path=t+"."+n.path:n.path=t,r.append&&(n.message=`${n.message} (${n.path})`),n}};es.validateArg=function(e,t,{assert:r,message:n}){if(es.isSchema(r)){let s=r.validate(e);return s.error?s.error.message:void 0}else if(!r(e))return t?`${t} ${n}`:n};es.verifyFlat=function(e,t){for(let r of e)Dj(!Array.isArray(r),"Method no longer accepts array arguments:",t)}});var nZ=E(WUe=>{"use strict";var Rlr=Nr(),Tlr=Ka(),Ilr=Zn(),_w={max:1e3,supported:new Set(["undefined","boolean","number","string"])};WUe.provider={provision(e){return new _w.Cache(e)}};_w.Cache=class{constructor(e={}){Ilr.assertOptions(e,["max"]),Rlr(e.max===void 0||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||_w.max,this._map=new Map,this._list=new _w.List}get length(){return this._map.size}set(e,t){if(e!==null&&!_w.supported.has(typeof e))return;let r=this._map.get(e);if(r){r.value=t,this._list.first(r);return}r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){let t=this._map.get(e);if(t)return this._list.first(t),Tlr(t.value)}_compact(){if(this._map.size>this._max){let e=this._list.pop();this._map.delete(e.key)}}};_w.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){let{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}});var fv=E(xp=>{"use strict";var ni=Nr(),gl=Zn(),Sw=Ap(),nd={};xp.schema=function(e,t,r={}){gl.assertOptions(r,["appendPath","override"]);try{return nd.schema(e,t,r)}catch(n){throw r.appendPath&&n.path!==void 0&&(n.message=`${n.message} (${n.path})`),n}};nd.schema=function(e,t,r){ni(t!==void 0,"Invalid undefined schema"),Array.isArray(t)&&(ni(t.length,"Invalid empty array schema"),t.length===1&&(t=t[0]));let n=(s,...i)=>r.override!==!1?s.valid(e.override,...i):s.valid(...i);if(nd.simple(t))return n(e,t);if(typeof t=="function")return e.custom(t);if(ni(typeof t=="object","Invalid schema content:",typeof t),gl.isResolvable(t))return n(e,t);if(gl.isSchema(t))return t;if(Array.isArray(t)){for(let s of t)if(!nd.simple(s))return e.alternatives().try(...t);return n(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?n(e.date(),t):(ni(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))};xp.ref=function(e,t){return Sw.isRef(e)?e:Sw.create(e,t)};xp.compile=function(e,t,r={}){gl.assertOptions(r,["legacy"]);let n=t&&t[gl.symbols.any];if(n)return ni(r.legacy||n.version===gl.version,"Cannot mix different versions of joi schemas:",n.version,gl.version),t;if(typeof t!="object"||!r.legacy)return xp.schema(e,t,{appendPath:!0});let s=nd.walk(t);return s?s.compile(s.root,t):xp.schema(e,t,{appendPath:!0})};nd.walk=function(e){if(typeof e!="object")return null;if(Array.isArray(e)){for(let r of e){let n=nd.walk(r);if(n)return n}return null}let t=e[gl.symbols.any];if(t)return{root:e[t.root],compile:t.compile};ni(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(let r in e){let n=nd.walk(e[r]);if(n)return n}return null};nd.simple=function(e){return e===null||["boolean","string","number"].includes(typeof e)};xp.when=function(e,t,r){if(r===void 0&&(ni(t&&typeof t=="object","Missing options"),r=t,t=Sw.create(".")),Array.isArray(r)&&(r={switch:r}),gl.assertOptions(r,["is","not","then","otherwise","switch","break"]),gl.isSchema(t))return ni(r.is===void 0,'"is" can not be used with a schema condition'),ni(r.not===void 0,'"not" can not be used with a schema condition'),ni(r.switch===void 0,'"switch" can not be used with a schema condition'),nd.condition(e,{is:t,then:r.then,otherwise:r.otherwise,break:r.break});if(ni(Sw.isRef(t)||typeof t=="string","Invalid condition:",t),ni(r.not===void 0||r.is===void 0,'Cannot combine "is" with "not"'),r.switch===void 0){let s=r;r.not!==void 0&&(s={is:r.not,then:r.otherwise,otherwise:r.then,break:r.break});let i=s.is!==void 0?e.$_compile(s.is):e.$_root.invalid(null,!1,0,"").required();return ni(s.then!==void 0||s.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),ni(s.break===void 0||s.then===void 0||s.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),r.is!==void 0&&!Sw.isRef(r.is)&&!gl.isSchema(r.is)&&(i=i.required()),nd.condition(e,{ref:xp.ref(t),is:i,then:s.then,otherwise:s.otherwise,break:s.break})}ni(Array.isArray(r.switch),'"switch" must be an array'),ni(r.is===void 0,'Cannot combine "switch" with "is"'),ni(r.not===void 0,'Cannot combine "switch" with "not"'),ni(r.then===void 0,'Cannot combine "switch" with "then"');let n={ref:xp.ref(t),switch:[],break:r.break};for(let s=0;s<r.switch.length;++s){let i=r.switch[s],o=s===r.switch.length-1;gl.assertOptions(i,o?["is","then","otherwise"]:["is","then"]),ni(i.is!==void 0,'Switch statement missing "is"'),ni(i.then!==void 0,'Switch statement missing "then"');let a={is:e.$_compile(i.is),then:e.$_compile(i.then)};if(!Sw.isRef(i.is)&&!gl.isSchema(i.is)&&(a.is=a.is.required()),o){ni(r.otherwise===void 0||i.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let c=r.otherwise!==void 0?r.otherwise:i.otherwise;c!==void 0&&(ni(n.break===void 0,"Cannot specify both otherwise and break"),a.otherwise=e.$_compile(c))}n.switch.push(a)}return n};nd.condition=function(e,t){for(let r of["then","otherwise"])t[r]===void 0?delete t[r]:t[r]=e.$_compile(t[r]);return t}});var sZ=E(XUe=>{"use strict";var ey=Nr(),Olr=Ka(),KUe=Zn(),Nlr=yw(),Um={};XUe.type=function(e,t){let r=Object.getPrototypeOf(e),n=Olr(r),s=e._assign(Object.create(n)),i=Object.assign({},t);delete i.base,n._definition=i;let o=r._definition||{};i.messages=Nlr.merge(o.messages,i.messages),i.properties=Object.assign({},o.properties,i.properties),s.type=i.type,i.flags=Object.assign({},o.flags,i.flags);let a=Object.assign({},o.terms);if(i.terms)for(let u in i.terms){let m=i.terms[u];ey(s.$_terms[u]===void 0,"Invalid term override for",i.type,u),s.$_terms[u]=m.init,a[u]=m}i.terms=a,i.args||(i.args=o.args),i.prepare=Um.prepare(i.prepare,o.prepare),i.coerce&&(typeof i.coerce=="function"&&(i.coerce={method:i.coerce}),i.coerce.from&&!Array.isArray(i.coerce.from)&&(i.coerce={method:i.coerce.method,from:[].concat(i.coerce.from)})),i.coerce=Um.coerce(i.coerce,o.coerce),i.validate=Um.validate(i.validate,o.validate);let c=Object.assign({},o.rules);if(i.rules)for(let u in i.rules){let m=i.rules[u];ey(typeof m=="object","Invalid rule definition for",i.type,u);let p=m.method;if(p===void 0&&(p=function(){return this.$_addRule(u)}),p&&(ey(!n[u],"Rule conflict in",i.type,u),n[u]=p),ey(!c[u],"Rule conflict in",i.type,u),c[u]=m,m.alias){let g=[].concat(m.alias);for(let y of g)n[y]=m.method}m.args&&(m.argsByName=new Map,m.args=m.args.map(g=>(typeof g=="string"&&(g={name:g}),ey(!m.argsByName.has(g.name),"Duplicated argument name",g.name),KUe.isSchema(g.assert)&&(g.assert=g.assert.strict().label(g.name)),m.argsByName.set(g.name,g),g)))}i.rules=c;let l=Object.assign({},o.modifiers);if(i.modifiers)for(let u in i.modifiers){ey(!n[u],"Rule conflict in",i.type,u);let m=i.modifiers[u];ey(typeof m=="function","Invalid modifier definition for",i.type,u);let p=function(g){return this.rule({[u]:g})};n[u]=p,l[u]=m}if(i.modifiers=l,i.overrides){n._super=r,s.$_super={};for(let u in i.overrides)ey(r[u],"Cannot override missing",u),i.overrides[u][KUe.symbols.parent]=r[u],s.$_super[u]=r[u].bind(s);Object.assign(n,i.overrides)}i.cast=Object.assign({},o.cast,i.cast);let d=Object.assign({},o.manifest,i.manifest);return d.build=Um.build(i.manifest&&i.manifest.build,o.manifest&&o.manifest.build),i.manifest=d,i.rebuild=Um.rebuild(i.rebuild,o.rebuild),s};Um.build=function(e,t){return!e||!t?e||t:function(r,n){return t(e(r,n),n)}};Um.coerce=function(e,t){return!e||!t?e||t:{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,n){let s;if((!t.from||t.from.includes(typeof r))&&(s=t.method(r,n),s)){if(s.errors||s.value===void 0)return s;r=s.value}if(!e.from||e.from.includes(typeof r)){let i=e.method(r,n);if(i)return i}return s}}};Um.prepare=function(e,t){return!e||!t?e||t:function(r,n){let s=e(r,n);if(s){if(s.errors||s.value===void 0)return s;r=s.value}return t(r,n)||s}};Um.rebuild=function(e,t){return!e||!t?e||t:function(r){t(r),e(r)}};Um.validate=function(e,t){return!e||!t?e||t:function(r,n){let s=t(r,n);if(s){if(s.errors&&(!Array.isArray(s.errors)||s.errors.length))return s;r=s.value}return e(r,n)||s}}});var aZ=E(oZ=>{"use strict";var Fm=Nr(),kj=Ka(),pv=Zn(),Dlr=yw(),JUe=Ap(),klr=Zh(),iZ,Xa={};oZ.describe=function(e){let t=e._definition,r={type:e.type,flags:{},rules:[]};for(let n in e._flags)n[0]!=="_"&&(r.flags[n]=Xa.describe(e._flags[n]));Object.keys(r.flags).length||delete r.flags,e._preferences&&(r.preferences=kj(e._preferences,{shallow:["messages"]}),delete r.preferences[pv.symbols.prefs],r.preferences.messages&&(r.preferences.messages=Dlr.decompile(r.preferences.messages))),e._valids&&(r.allow=e._valids.describe()),e._invalids&&(r.invalid=e._invalids.describe());for(let n of e._rules){if(t.rules[n.name].manifest===!1)continue;let i={name:n.name};for(let o in t.modifiers)n[o]!==void 0&&(i[o]=Xa.describe(n[o]));if(n.args){i.args={};for(let o in n.args){let a=n.args[o];o==="options"&&!Object.keys(a).length||(i.args[o]=Xa.describe(a,{assign:o}))}Object.keys(i.args).length||delete i.args}r.rules.push(i)}r.rules.length||delete r.rules;for(let n in e.$_terms){if(n[0]==="_")continue;Fm(!r[n],"Cannot describe schema due to internal name conflict with",n);let s=e.$_terms[n];if(!s)continue;if(s instanceof Map){s.size&&(r[n]=[...s.entries()]);continue}if(pv.isValues(s)){r[n]=s.describe();continue}Fm(t.terms[n],"Term",n,"missing configuration");let i=t.terms[n].manifest,o=typeof i=="object";if(!s.length&&!o)continue;let a=[];for(let c of s)a.push(Xa.describe(c));if(o){let{from:c,to:l}=i.mapped;r[n]={};for(let d of a)r[n][d[l]]=d[c];continue}if(i==="single"){Fm(a.length===1,"Term",n,"contains more than one item"),r[n]=a[0];continue}r[n]=a}return Xa.validate(e.$_root,r),r};Xa.describe=function(e,t={}){if(Array.isArray(e))return e.map(Xa.describe);if(e===pv.symbols.deepDefault)return{special:"deep"};if(typeof e!="object"||e===null)return e;if(t.assign==="options")return kj(e);if(Buffer&&Buffer.isBuffer(e))return{buffer:e.toString("binary")};if(e instanceof Date)return e.toISOString();if(e instanceof Error)return e;if(e instanceof RegExp)return t.assign==="regex"?e.toString():{regex:e.toString()};if(e[pv.symbols.literal])return{function:e.literal};if(typeof e.describe=="function")return t.assign==="ref"?e.describe().ref:e.describe();let r={};for(let n in e){let s=e[n];s!==void 0&&(r[n]=Xa.describe(s,{assign:n}))}return r};oZ.build=function(e,t){return new Xa.Builder(e).parse(t)};Xa.Builder=class{constructor(e){this.joi=e}parse(e){Xa.validate(this.joi,e);let t=this.joi[e.type]()._bare(),r=t._definition;if(e.flags)for(let s in e.flags){let i=r.flags[s]&&r.flags[s].setter||s;Fm(typeof t[i]=="function","Invalid flag",s,"for type",e.type),t=t[i](this.build(e.flags[s]))}if(e.preferences&&(t=t.preferences(this.build(e.preferences))),e.allow&&(t=t.allow(...this.build(e.allow))),e.invalid&&(t=t.invalid(...this.build(e.invalid))),e.rules)for(let s of e.rules){Fm(typeof t[s.name]=="function","Invalid rule",s.name,"for type",e.type);let i=[];if(s.args){let a={};for(let d in s.args)a[d]=this.build(s.args[d],{assign:d});let c=Object.keys(a),l=r.rules[s.name].args;if(l){Fm(c.length<=l.length,"Invalid number of arguments for",e.type,s.name,"(expected up to",l.length,", found",c.length,")");for(let{name:d}of l)i.push(a[d])}else Fm(c.length===1,"Invalid number of arguments for",e.type,s.name,"(expected up to 1, found",c.length,")"),i.push(a[c[0]])}t=t[s.name](...i);let o={};for(let a in r.modifiers)s[a]!==void 0&&(o[a]=this.build(s[a]));Object.keys(o).length&&(t=t.rule(o))}let n={};for(let s in e){if(["allow","flags","invalid","whens","preferences","rules","type"].includes(s))continue;Fm(r.terms[s],"Term",s,"missing configuration");let i=r.terms[s].manifest;if(i==="schema"){n[s]=e[s].map(o=>this.parse(o));continue}if(i==="values"){n[s]=e[s].map(o=>this.build(o));continue}if(i==="single"){n[s]=this.build(e[s]);continue}if(typeof i=="object"){n[s]={};for(let o in e[s]){let a=e[s][o];n[s][o]=this.parse(a)}continue}n[s]=this.build(e[s])}return e.whens&&(n.whens=e.whens.map(s=>this.build(s))),t=r.manifest.build(t,n),t.$_temp.ruleset=!1,t}build(e,t={}){if(e===null)return null;if(Array.isArray(e))return e.map(n=>this.build(n));if(e instanceof Error)return e;if(t.assign==="options")return kj(e);if(t.assign==="regex")return Xa.regex(e);if(t.assign==="ref")return JUe.build(e);if(typeof e!="object")return e;if(Object.keys(e).length===1){if(e.buffer)return Fm(Buffer,"Buffers are not supported"),Buffer&&Buffer.from(e.buffer,"binary");if(e.function)return{[pv.symbols.literal]:!0,literal:e.function};if(e.override)return pv.symbols.override;if(e.ref)return JUe.build(e.ref);if(e.regex)return Xa.regex(e.regex);if(e.special)return Fm(["deep"].includes(e.special),"Unknown special value",e.special),pv.symbols.deepDefault;if(e.value)return kj(e.value)}if(e.type)return this.parse(e);if(e.template)return klr.build(e);let r={};for(let n in e)r[n]=this.build(e[n],{assign:n});return r}};Xa.regex=function(e){let t=e.lastIndexOf("/"),r=e.slice(1,t),n=e.slice(t+1);return new RegExp(r,n)};Xa.validate=function(e,t){iZ=iZ||Oj(),e.assert(t,iZ.description)}});var TI=E((Mes,QUe)=>{"use strict";var Bm=Q7(),oa={mismatched:null};QUe.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!oa.isDeepEqual(e,t,r,[])};oa.isDeepEqual=function(e,t,r,n){if(e===t)return e!==0||1/e===1/t;let s=typeof e;if(s!==typeof t||e===null||t===null)return!1;if(s==="function"){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if(s!=="object")return e!==e&&t!==t;let i=oa.getSharedType(e,t,!!r.prototype);switch(i){case Bm.buffer:return Buffer&&Buffer.prototype.equals.call(e,t);case Bm.promise:return e===t;case Bm.regex:return e.toString()===t.toString();case oa.mismatched:return!1}for(let o=n.length-1;o>=0;--o)if(n[o].isSame(e,t))return!0;n.push(new oa.SeenEntry(e,t));try{return!!oa.isDeepEqualObj(i,e,t,r,n)}finally{n.pop()}};oa.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?oa.mismatched:Bm.getInternalProto(e);let n=Bm.getInternalProto(e);return n!==Bm.getInternalProto(t)?oa.mismatched:n};oa.valueOf=function(e){let t=e.valueOf;if(t===void 0)return e;try{return t.call(e)}catch(r){return r}};oa.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)};oa.isSetSimpleEqual=function(e,t){for(let r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0};oa.isDeepEqualObj=function(e,t,r,n,s){let{isDeepEqual:i,valueOf:o,hasOwnEnumerableProperty:a}=oa,{keys:c,getOwnPropertySymbols:l}=Object;if(e===Bm.array)if(n.part){for(let g of t)for(let y of r)if(i(g,y,n,s))return!0}else{if(t.length!==r.length)return!1;for(let g=0;g<t.length;++g)if(!i(t[g],r[g],n,s))return!1;return!0}else if(e===Bm.set){if(t.size!==r.size)return!1;if(!oa.isSetSimpleEqual(t,r)){let g=new Set(Set.prototype.values.call(r));for(let y of Set.prototype.values.call(t)){if(g.delete(y))continue;let b=!1;for(let w of g)if(i(y,w,n,s)){g.delete(w),b=!0;break}if(!b)return!1}}}else if(e===Bm.map){if(t.size!==r.size)return!1;for(let[g,y]of Map.prototype.entries.call(t))if(y===void 0&&!Map.prototype.has.call(r,g)||!i(y,Map.prototype.get.call(r,g),n,s))return!1}else if(e===Bm.error&&(t.name!==r.name||t.message!==r.message))return!1;let d=o(t),u=o(r);if((t!==d||r!==u)&&!i(d,u,n,s))return!1;let m=c(t);if(!n.part&&m.length!==c(r).length&&!n.skip)return!1;let p=0;for(let g of m){if(n.skip&&n.skip.includes(g)){r[g]===void 0&&++p;continue}if(!a(r,g)||!i(t[g],r[g],n,s))return!1}if(!n.part&&m.length-p!==c(r).length)return!1;if(n.symbols!==!1){let g=l(t),y=new Set(l(r));for(let b of g){if(!n.skip||!n.skip.includes(b)){if(a(t,b)){if(!a(r,b)||!i(t[b],r[b],n,s))return!1}else if(a(r,b))return!1}y.delete(b)}for(let b of y)if(a(r,b))return!1}return!0};oa.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}});var ZUe=E(YUe=>{"use strict";YUe.location=function(e=0){let t=Error.prepareStackTrace;Error.prepareStackTrace=(s,i)=>i;let r={};Error.captureStackTrace(r,this);let n=r.stack[e+1];return Error.prepareStackTrace=t,{filename:n.getFileName(),line:n.getLineNumber()}}});var lZ=E(cZ=>{"use strict";var eFe=TI(),tFe=ZUe(),Mlr=wp(),aa={codes:{error:1,pass:2,full:3},labels:{0:"never used",1:"always error",2:"always pass"}};cZ.setup=function(e){let t=function(){return e._tracer=e._tracer||new aa.Tracer,e._tracer};e.trace=t,e[Symbol.for("@hapi/lab/coverage/initialize")]=t,e.untrace=()=>{e._tracer=null}};cZ.location=function(e){return e.$_setFlag("_tracerLocation",tFe.location(2))};aa.Tracer=class{constructor(){this.name="Joi",this._schemas=new Map}_register(e){let t=this._schemas.get(e);if(t)return t.store;let r=new aa.Store(e),{filename:n,line:s}=e._flags._tracerLocation||tFe.location(5);return this._schemas.set(e,{filename:n,line:s,store:r}),r}_combine(e,t){for(let{store:r}of this._schemas.values())r._combine(e,t)}report(e){let t=[];for(let{filename:r,line:n,store:s}of this._schemas.values()){if(e&&e!==r)continue;let i=[],o=[];for(let[a,c]of s._sources.entries()){if(aa.sub(c.paths,o))continue;if(!c.entry){i.push({status:"never reached",paths:[...c.paths]}),o.push(...c.paths);continue}for(let d of["valid","invalid"]){let u=a[`_${d}s`];if(!u)continue;let m=new Set(u._values),p=new Set(u._refs);for(let{value:g,ref:y}of c[d])m.delete(g),p.delete(y);(m.size||p.size)&&i.push({status:[...m,...[...p].map(g=>g.display)],rule:`${d}s`})}let l=a._rules.map(d=>d.name);for(let d of["default","failover"])a._flags[d]!==void 0&&l.push(d);for(let d of l){let u=aa.labels[c.rule[d]||0];if(u){let m={rule:d,status:u};c.paths.size&&(m.paths=[...c.paths]),i.push(m)}}}i.length&&t.push({filename:r,line:n,missing:i,severity:"error",message:`Schema missing tests for ${i.map(aa.message).join(", ")}`})}return t.length?t:null}};aa.Store=class{constructor(e){this.active=!0,this._sources=new Map,this._combos=new Map,this._scan(e)}debug(e,t,r,n){e.mainstay.debug&&e.mainstay.debug.push({type:t,name:r,result:n,path:e.path})}entry(e,t){aa.debug(t,{type:"entry"}),this._record(e,r=>{r.entry=!0})}filter(e,t,r,n){aa.debug(t,{type:r,...n}),this._record(e,s=>{s[r].add(n)})}log(e,t,r,n,s){aa.debug(t,{type:r,name:n,result:s==="full"?"pass":s}),this._record(e,i=>{i[r][n]=i[r][n]||0,i[r][n]|=aa.codes[s]})}resolve(e,t,r){if(!e.mainstay.debug)return;let n={type:"resolve",ref:t.display,to:r,path:e.path};e.mainstay.debug.push(n)}value(e,t,r,n,s){if(!e.mainstay.debug||eFe(r,n))return;let i={type:"value",by:t,from:r,to:n,path:e.path};s&&(i.name=s),e.mainstay.debug.push(i)}_record(e,t){let r=this._sources.get(e);if(r){t(r);return}let n=this._combos.get(e);for(let s of n)this._record(s,t)}_scan(e,t){let r=t||[],n=this._sources.get(e);n||(n={paths:new Set,entry:!1,rule:{},valid:new Set,invalid:new Set},this._sources.set(e,n)),r.length&&n.paths.add(r);let s=(i,o)=>{let a=aa.id(i,o);this._scan(i,r.concat(a))};e.$_modify({each:s,ref:!1})}_combine(e,t){this._combos.set(e,t)}};aa.message=function(e){return`${e.paths?Mlr.path(e.paths[0])+(e.rule?":":""):""}${e.rule||""} (${e.status})`};aa.id=function(e,{source:t,name:r,path:n,key:s}){return e._flags.id?e._flags.id:s||(r=`@${r}`,t==="terms"?[r,n[Math.min(n.length-1,1)]]:r)};aa.sub=function(e,t){for(let r of e)for(let n of t)if(eFe(r.slice(0,n.length),n))return!0;return!1};aa.debug=function(e,t){e.mainstay.debug&&(t.path=e.debug?[...e.path,e.debug]:e.path,e.mainstay.debug.push(t))}});var Mj=E((jes,sFe)=>{"use strict";var dZ=Nr(),rFe=Ka(),Llr=Y7(),nFe={};sFe.exports=nFe.merge=function(e,t,r){if(dZ(e&&typeof e=="object","Invalid target value: must be an object"),dZ(t==null||typeof t=="object","Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){dZ(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let s=0;s<t.length;++s)e.push(rFe(t[s],{symbols:r.symbols}));return e}let n=Llr.keys(t,r);for(let s=0;s<n.length;++s){let i=n[s];if(i==="__proto__"||!Object.prototype.propertyIsEnumerable.call(t,i))continue;let o=t[i];if(o&&typeof o=="object"){if(e[i]===o)continue;!e[i]||typeof e[i]!="object"||Array.isArray(e[i])!==Array.isArray(o)||o instanceof Date||Buffer&&Buffer.isBuffer(o)||o instanceof RegExp?e[i]=rFe(o,{symbols:r.symbols}):nFe.merge(e[i],o,r)}else(o!=null||r.nullOverride)&&(e[i]=o)}return e}});var iFe=E(Lj=>{"use strict";var Pp=Nr(),uZ=Zn(),Ulr=Ap(),qm={};Lj.Ids=qm.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let e=new qm.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(let[t,r]of e._byId.entries())Pp(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(let[t,r]of e._byKey.entries())Pp(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){let n=this._collect(e);n.push({schema:r});let s=n.shift(),i={id:s.id,schema:t(s.schema)};Pp(uZ.isSchema(i.schema),"adjuster function failed to return a joi schema type");for(let o of n)i={id:o.id,schema:qm.fork(o.schema,i.id,i.schema)};return i.schema}labels(e,t=[]){let r=e[0],n=this._get(r);if(!n)return[...t,...e].join(".");let s=e.slice(1);return t=[...t,n.schema._flags.label||r],s.length?n.schema._ids.labels(s,t):t.join(".")}reach(e,t=[]){let r=e[0],n=this._get(r);Pp(n,"Schema does not contain path",[...t,...e].join("."));let s=e.slice(1);return s.length?n.schema._ids.reach(s,[...t,r]):n.schema}register(e,{key:t}={}){if(!e||!uZ.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);let r=e._flags.id;if(r){let n=this._byId.get(r);Pp(!n||n.schema===e,"Cannot add different schemas with the same id:",r),Pp(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(Pp(!this._byKey.has(t),"Schema already contains key:",t),Pp(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],r=[]){let n=e[0],s=this._get(n);Pp(s,"Schema does not contain path",[...t,...e].join(".")),r=[s,...r];let i=e.slice(1);return i.length?s.schema._ids._collect(i,[...t,n],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}};qm.fork=function(e,t,r){let n=(i,{key:o})=>{if(t===(i._flags.id||o))return r},s=Lj.schema(e,{each:n,ref:!1});return s?s.$_mutateRebuild():e};Lj.schema=function(e,t){let r;for(let n in e._flags){if(n[0]==="_")continue;let s=qm.scan(e._flags[n],{source:"flags",name:n},t);s!==void 0&&(r=r||e.clone(),r._flags[n]=s)}for(let n=0;n<e._rules.length;++n){let s=e._rules[n],i=qm.scan(s.args,{source:"rules",name:s.name},t);if(i!==void 0){r=r||e.clone();let o=Object.assign({},s);o.args=i,r._rules[n]=o,r._singleRules.get(s.name)===s&&r._singleRules.set(s.name,o)}}for(let n in e.$_terms){if(n[0]==="_")continue;let s=qm.scan(e.$_terms[n],{source:"terms",name:n},t);s!==void 0&&(r=r||e.clone(),r.$_terms[n]=s)}return r};qm.scan=function(e,t,r,n,s){let i=n||[];if(e===null||typeof e!="object")return;let o;if(Array.isArray(e)){for(let a=0;a<e.length;++a){let c=t.source==="terms"&&t.name==="keys"&&e[a].key,l=qm.scan(e[a],t,r,[a,...i],c);l!==void 0&&(o=o||e.slice(),o[a]=l)}return o}if(r.schema!==!1&&uZ.isSchema(e)||r.ref!==!1&&Ulr.isRef(e)){let a=r.each(e,{...t,path:i,key:s});return a===e?void 0:a}for(let a in e){if(a[0]==="_")continue;let c=qm.scan(e[a],t,r,[a,...i],s);c!==void 0&&(o=o||Object.assign({},e),o[a]=c)}return o}});var aFe=E((Hes,oFe)=>{"use strict";oFe.exports=function(){}});var dFe=E((Ves,lFe)=>{"use strict";var Flr=Ka(),cFe=dv(),Blr=Zn(),jm={value:Symbol("value")};lFe.exports=jm.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e,t=null,r=null){let n=new jm.State(e,t,this);return r&&n.schemas&&(n.schemas=[jm.schemas(r),...n.schemas]),n}nest(e,t){let r=new jm.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[jm.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new jm.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=Flr(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}};jm.schemas=function(e){return Blr.isSchema(e)?{schema:e}:e};jm.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length||r==="strip"&&typeof e[e.length-1]=="number")return;this._values=this._values||new Map;let n=this._values;for(let s=0;s<e.length;++s){let i=e[s],o=n.get(i);o||(o=new Map,n.set(i,o)),n=o}n[jm.value]=t}get(e){let t=this.node(e);if(t)return t[jm.value]}node(e){if(this._values)return cFe(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;let r=e.slice(0,-1),n=e[e.length-1],s=cFe(this._values,r,{iterables:!0});if(t){s.set(n,t);return}s&&s.delete(n)}}});var mFe=E(OI=>{"use strict";var II=Nr(),uFe=Ka(),vw=aFe(),qlr=dv(),Ji=Zn(),ty=wp(),jlr=dFe(),Pt={result:Symbol("result")};OI.entry=function(e,t,r){let n=Ji.defaults;r&&(II(r.warnings===void 0,"Cannot override warnings preference in synchronous validation"),II(r.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),n=Ji.preferences(Ji.defaults,r));let s=Pt.entry(e,t,n);II(!s.mainstay.externals.length,"Schema with external rules must use validateAsync()");let i={value:s.value};return s.error&&(i.error=s.error),s.mainstay.warnings.length&&(i.warning=ty.details(s.mainstay.warnings)),s.mainstay.debug&&(i.debug=s.mainstay.debug),s.mainstay.artifacts&&(i.artifacts=s.mainstay.artifacts),i};OI.entryAsync=async function(e,t,r){let n=Ji.defaults;r&&(n=Ji.preferences(Ji.defaults,r));let s=Pt.entry(e,t,n),i=s.mainstay;if(s.error)throw i.debug&&(s.error.debug=i.debug),s.error;if(i.externals.length){let a=s.value,c=[];for(let l of i.externals){let d=l.state.path,u=l.schema.type==="link"?i.links.get(l.schema):null,m=a,p,g,y=d.length?[a]:[],b=d.length?qlr(e,d):e;if(d.length){p=d[d.length-1];let w=a;for(let A of d.slice(0,-1))w=w[A],y.unshift(w);g=y[0],m=g[p]}try{let w=(O,T)=>(u||l.schema).$_createError(O,m,T,l.state,n),A=await l.method(m,{schema:l.schema,linked:u,state:l.state,prefs:r,original:b,error:w,errorsArray:Pt.errorsArray,warn:(O,T)=>i.warnings.push((u||l.schema).$_createError(O,m,T,l.state,n)),message:(O,T)=>(u||l.schema).$_createError("external",m,T,l.state,n,{messages:O})});if(A===void 0||A===m)continue;if(A instanceof ty.Report){if(i.tracer.log(l.schema,l.state,"rule","external","error"),c.push(A),n.abortEarly)break;continue}if(Array.isArray(A)&&A[Ji.symbols.errors]){if(i.tracer.log(l.schema,l.state,"rule","external","error"),c.push(...A),n.abortEarly)break;continue}g?(i.tracer.value(l.state,"rule",m,A,"external"),g[p]=A):(i.tracer.value(l.state,"rule",a,A,"external"),a=A)}catch(w){throw n.errors.label&&(w.message+=` (${l.label})`),w}}if(s.value=a,c.length)throw s.error=ty.process(c,e,n),i.debug&&(s.error.debug=i.debug),s.error}if(!n.warnings&&!n.debug&&!n.artifacts)return s.value;let o={value:s.value};return i.warnings.length&&(o.warning=ty.details(i.warnings)),i.debug&&(o.debug=i.debug),i.artifacts&&(o.artifacts=i.artifacts),o};Pt.Mainstay=class{constructor(e,t,r){this.externals=[],this.warnings=[],this.tracer=e,this.debug=t,this.links=r,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){let e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}};Pt.entry=function(e,t,r){let{tracer:n,cleanup:s}=Pt.tracer(t,r),i=r.debug?[]:null,o=t._ids._schemaChain?new Map:null,a=new Pt.Mainstay(n,i,o),c=t._ids._schemaChain?[{schema:t}]:null,l=new jlr([],[],{mainstay:a,schemas:c}),d=OI.validate(e,t,l,r);s&&t.$_root.untrace();let u=ty.process(d.errors,e,r);return{value:d.value,error:u,mainstay:a}};Pt.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(II(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:Pt.ignore}};OI.validate=function(e,t,r,n,s={}){if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=Pt.prefs(t,n)),t._cache&&n.cache){let u=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!u),u)return u}let i=(u,m,p)=>t.$_createError(u,e,m,p||r,n),o={original:e,prefs:n,schema:t,state:r,error:i,errorsArray:Pt.errorsArray,warn:(u,m,p)=>r.mainstay.warnings.push(i(u,m,p)),message:(u,m)=>t.$_createError("custom",e,m,r,n,{messages:u})};r.mainstay.tracer.entry(t,r);let a=t._definition;if(a.prepare&&e!==void 0&&n.convert){let u=a.prepare(e,o);if(u){if(r.mainstay.tracer.value(r,"prepare",e,u.value),u.errors)return Pt.finalize(u.value,[].concat(u.errors),o);e=u.value}}if(a.coerce&&e!==void 0&&n.convert&&(!a.coerce.from||a.coerce.from.includes(typeof e))){let u=a.coerce.method(e,o);if(u){if(r.mainstay.tracer.value(r,"coerced",e,u.value),u.errors)return Pt.finalize(u.value,[].concat(u.errors),o);e=u.value}}let c=t._flags.empty;c&&c.$_match(Pt.trim(e,t),r.nest(c),Ji.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);let l=s.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(e===void 0){if(l==="forbidden")return Pt.finalize(e,null,o);if(l==="required")return Pt.finalize(e,[t.$_createError("any.required",e,null,r,n)],o);if(l==="optional"){if(t._flags.default!==Ji.symbols.deepDefault)return Pt.finalize(e,null,o);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if(l==="forbidden")return Pt.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],o);let d=[];if(t._valids){let u=t._valids.get(e,r,n,t._flags.insensitive);if(u)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,u.value),e=u.value),r.mainstay.tracer.filter(t,r,"valid",u),Pt.finalize(e,null,o);if(t._flags.only){let m=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return Pt.finalize(e,[m],o);d.push(m)}}if(t._invalids){let u=t._invalids.get(e,r,n,t._flags.insensitive);if(u){r.mainstay.tracer.filter(t,r,"invalid",u);let m=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return Pt.finalize(e,[m],o);d.push(m)}}if(a.validate){let u=a.validate(e,o);if(u&&(r.mainstay.tracer.value(r,"base",e,u.value),e=u.value,u.errors)){if(!Array.isArray(u.errors))return d.push(u.errors),Pt.finalize(e,d,o);if(u.errors.length)return d.push(...u.errors),Pt.finalize(e,d,o)}}return t._rules.length?Pt.rules(e,d,o):Pt.finalize(e,d,o)};Pt.rules=function(e,t,r){let{schema:n,state:s,prefs:i}=r;for(let o of n._rules){let a=n._definition.rules[o.method];if(a.convert&&i.convert){s.mainstay.tracer.log(n,s,"rule",o.name,"full");continue}let c,l=o.args;if(o._resolve.length){l=Object.assign({},l);for(let u of o._resolve){let m=a.argsByName.get(u),p=l[u].resolve(e,s,i),g=m.normalize?m.normalize(p):p,y=Ji.validateArg(g,null,m);if(y){c=n.$_createError("any.ref",p,{arg:u,ref:l[u],reason:y},s,i);break}l[u]=g}}c=c||a.validate(e,r,l,o);let d=Pt.rule(c,o);if(d.errors){if(s.mainstay.tracer.log(n,s,"rule",o.name,"error"),o.warn){s.mainstay.warnings.push(...d.errors);continue}if(i.abortEarly)return Pt.finalize(e,d.errors,r);t.push(...d.errors)}else s.mainstay.tracer.log(n,s,"rule",o.name,"pass"),s.mainstay.tracer.value(s,"rule",e,d.value,o.name),e=d.value}return Pt.finalize(e,t,r)};Pt.rule=function(e,t){return e instanceof ty.Report?(Pt.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[Ji.symbols.errors]?(e.forEach(r=>Pt.error(r,t)),{errors:e,value:null}):{errors:null,value:e}};Pt.error=function(e,t){return t.message&&e._setTemplate(t.message),e};Pt.finalize=function(e,t,r){t=t||[];let{schema:n,state:s,prefs:i}=r;if(t.length){let a=Pt.default("failover",void 0,t,r);a!==void 0&&(s.mainstay.tracer.value(s,"failover",e,a),e=a,t=[])}if(t.length&&n._flags.error)if(typeof n._flags.error=="function"){t=n._flags.error(t),Array.isArray(t)||(t=[t]);for(let a of t)II(a instanceof Error||a instanceof ty.Report,"error() must return an Error object")}else t=[n._flags.error];if(e===void 0){let a=Pt.default("default",e,t,r);s.mainstay.tracer.value(s,"default",e,a),e=a}if(n._flags.cast&&e!==void 0){let a=n._definition.cast[n._flags.cast];if(a.from(e)){let c=a.to(e,r);s.mainstay.tracer.value(s,"cast",e,c,n._flags.cast),e=c}}if(n.$_terms.externals&&i.externals&&i._externals!==!1)for(let{method:a}of n.$_terms.externals)s.mainstay.externals.push({method:a,schema:n,state:s,label:ty.label(n._flags,s,i)});let o={value:e,errors:t.length?t:null};return n._flags.result&&(o.value=n._flags.result==="strip"?void 0:r.original,s.mainstay.tracer.value(s,n._flags.result,e,o.value),s.shadow(e,n._flags.result)),n._cache&&i.cache!==!1&&!n._refs.length&&n._cache.set(r.original,o),e!==void 0&&!o.errors&&n._flags.artifact!==void 0&&(s.mainstay.artifacts=s.mainstay.artifacts||new Map,s.mainstay.artifacts.has(n._flags.artifact)||s.mainstay.artifacts.set(n._flags.artifact,[]),s.mainstay.artifacts.get(n._flags.artifact).push(s.path)),o};Pt.prefs=function(e,t){let r=t===Ji.defaults;return r&&e._preferences[Ji.symbols.prefs]?e._preferences[Ji.symbols.prefs]:(t=Ji.preferences(t,e._preferences),r&&(e._preferences[Ji.symbols.prefs]=t),t)};Pt.default=function(e,t,r,n){let{schema:s,state:i,prefs:o}=n,a=s._flags[e];if(o.noDefaults||a===void 0)return t;if(i.mainstay.tracer.log(s,i,"rule",e,"full"),!a)return a;if(typeof a=="function"){let c=a.length?[uFe(i.ancestors[0]),n]:[];try{return a(...c)}catch(l){r.push(s.$_createError(`any.${e}`,null,{error:l},i,o));return}}return typeof a!="object"?a:a[Ji.symbols.literal]?a.literal:Ji.isResolvable(a)?a.resolve(t,i,o):uFe(a)};Pt.trim=function(e,t){if(typeof e!="string")return e;let r=t.$_getRule("trim");return!r||!r.args.enabled?e:e.trim()};Pt.ignore={active:!1,debug:vw,entry:vw,filter:vw,log:vw,resolve:vw,value:vw};Pt.errorsArray=function(){let e=[];return e[Ji.symbols.errors]=!0,e}});var fZ=E((Jes,pFe)=>{"use strict";var $lr=Nr(),fFe=TI(),mZ=Zn(),Rp={};pFe.exports=Rp.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=Rp.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){if(mZ.isResolvable(e)){this._refs.has(e)||(this._refs.add(e),t&&t.register(e));return}this.has(e,null,null,!1)||(this._values.add(e),typeof e=="string"&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new Rp.Values,t){if(t._override)return t.clone();for(let n of[...t._values,...t._refs])e.add(n)}if(r)for(let n of[...r._values,...r._refs])e.remove(n);return e.length?e:null}remove(e){if(mZ.isResolvable(e)){this._refs.delete(e);return}this._values.delete(e),typeof e=="string"&&this._lowercase.delete(e.toLowerCase())}has(e,t,r,n){return!!this.get(e,t,r,n)}get(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if(typeof e=="string"&&e&&n){let s=this._lowercase.get(e.toLowerCase());if(s)return{value:s}}if(!this._refs.size&&typeof e!="object")return!1;if(typeof e=="object"){for(let s of this._values)if(fFe(s,e))return{value:s}}if(t)for(let s of this._refs){let i=s.resolve(e,t,r,null,{in:!0});if(i===void 0)continue;let o=!s.in||typeof i!="object"?[i]:Array.isArray(i)?i:Object.keys(i);for(let a of o)if(typeof a==typeof e){if(n&&e&&typeof e=="string"){if(a.toLowerCase()===e.toLowerCase())return{value:a,ref:s}}else if(fFe(a,e))return{value:a,ref:s}}}return!1}override(){this._override=!0}values(e){if(e&&e.display){let t=[];for(let r of[...this._values,...this._refs])r!==void 0&&t.push(r);return t}return Array.from([...this._values,...this._refs])}clone(){let e=new Rp.Values(this._values,this._refs);return e._override=this._override,e}concat(e){$lr(!e._override,"Cannot concat override set of values");let t=new Rp.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){let e=[];this._override&&e.push({override:!0});for(let t of this._values.values())e.push(t&&typeof t=="object"?{value:t}:t);for(let t of this._refs.values())e.push(t.describe());return e}};Rp.Values.prototype[mZ.symbols.values]=!0;Rp.Values.prototype.slice=Rp.Values.prototype.clone;Rp.lowercases=function(e){let t=new Map;if(e)for(let r of e)typeof r=="string"&&t.set(r.toLowerCase(),r);return t}});var CFe=E((Yes,EFe)=>{"use strict";var We=Nr(),gFe=Ka(),hFe=TI(),pZ=Mj(),zlr=nZ(),gi=Zn(),gZ=fv(),Hlr=wp(),Vlr=sZ(),yFe=aZ(),Glr=yw(),_Fe=iFe(),SFe=Ap(),vFe=lZ(),Uj=mFe(),Fj=fZ(),lo={};lo.Base=class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new _Fe.Ids,this._preferences=null,this._refs=new SFe.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return We(typeof yFe.describe=="function","Manifest functionality disabled"),yFe.describe(this)}allow(...e){return gi.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){We(e&&typeof e=="object"&&!Array.isArray(e),"Invalid targets argument"),We(!this._inRuleset(),"Cannot set alterations inside a ruleset");let t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(let r in e){let n=e[r];We(typeof n=="function","Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:n})}return t.$_temp.ruleset=!1,t}artifact(e){return We(e!==void 0,"Artifact cannot be undefined"),We(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return We(e===!1||typeof e=="string","Invalid to value"),We(e===!1||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",e===!1?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return We(e&&typeof e=="string","Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){let t=this.clone();return e!==void 0&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return We(e,"Missing error"),We(e instanceof Error||typeof e=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return We(e!==void 0,"Missing example"),gi.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return typeof e=="object"&&(We(!t,"Cannot combine options with description"),t=e.description,e=e.method),We(typeof e=="function","Method must be a function"),We(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(We(typeof e=="string","id must be a non-empty string"),We(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return We(e&&typeof e=="string","Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return We(e!==void 0,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){We(e.length,"Missing notes");for(let t of e)We(t&&typeof t=="string","Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return We(typeof e=="boolean","Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){We(e,"Missing preferences"),We(e.context===void 0,"Cannot override context"),We(e.externals===void 0,"Cannot override externals"),We(e.warnings===void 0,"Cannot override warnings"),We(e.debug===void 0,"Cannot override debug"),gi.checkPreferences(e);let t=this.clone();return t._preferences=gi.preferences(t._preferences,e),t}presence(e){return We(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return We(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){let t=this.clone(),r=e===void 0?!1:!e;return t._preferences=gi.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){We(e.length,"Missing tags");for(let t of e)We(t&&typeof t=="string","Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return We(e&&typeof e=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){gi.verifyFlat(e,"valid");let t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){let r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);let n=gZ.when(r,e,t);if(!["any","link"].includes(r.type)){let s=n.is?[n]:n.switch;for(let i of s)We(!i.then||i.then.type==="any"||i.then.type===r.type,"Cannot combine",r.type,"with",i.then&&i.then.type),We(!i.otherwise||i.otherwise.type==="any"||i.otherwise.type===r.type,"Cannot combine",r.type,"with",i.otherwise&&i.otherwise.type)}return r.$_terms.whens.push(n),r.$_mutateRebuild()}cache(e){We(!this._inRuleset(),"Cannot set caching inside a ruleset"),We(!this._cache,"Cannot override schema cache"),We(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");let t=this.clone();return t._cache=e||zlr.provider.provision(),t.$_temp.ruleset=!1,t}clone(){let e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){We(gi.isSchema(e),"Invalid schema object"),We(this.type==="any"||e.type==="any"||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),We(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),We(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if(this.type==="any"&&e.type!=="any"){let r=e.clone();for(let n of Object.keys(t))n!=="type"&&(r[n]=t[n]);t=r}t._ids.concat(e._ids),t._refs.register(e,SFe.toSibling),t._preferences=t._preferences?gi.preferences(t._preferences,e._preferences):e._preferences,t._valids=Fj.merge(t._valids,e._valids,e._invalids),t._invalids=Fj.merge(t._invalids,e._invalids,e._valids);for(let r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter(n=>n.keep||n.name!==r),t._singleRules.delete(r));for(let r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);let r=Object.assign({},e._flags);delete r.empty,pZ(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;let r=Object.assign({},e._flags);delete r.empty,pZ(t._flags,r)}else pZ(t._flags,e._flags);for(let r in e.$_terms){let n=e.$_terms[r];if(!n){t.$_terms[r]||(t.$_terms[r]=n);continue}if(!t.$_terms[r]){t.$_terms[r]=n.slice();continue}t.$_terms[r]=t.$_terms[r].concat(n)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return We(!e.base,"Cannot extend type with another base"),Vlr.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){We(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let n of[].concat(e))n=Array.isArray(n)?n:n.split("."),r=r._ids.fork(n,t,r);return r.$_temp.ruleset=!1,r}rule(e){let t=this._definition;gi.assertOptions(e,Object.keys(t.modifiers)),We(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");let r=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;We(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");let n=this.clone();for(let s=r;s<n._rules.length;++s){let i=n._rules[s],o=gFe(i);for(let a in e)t.modifiers[a](o,e[a]),We(o.name===i.name,"Cannot change rule name");n._rules[s]=o,n._singleRules.get(o.name)===i&&n._singleRules.set(o.name,o)}return n.$_temp.ruleset=!1,n.$_mutateRebuild()}get ruleset(){We(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");let e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),We(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(let{target:r,adjuster:n}of this.$_terms.alterations)e.includes(r)&&(t=n(t),We(gi.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:r=>r.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return vFe.location?vFe.location(this):this}validate(e,t){return Uj.entry(e,this,t)}validateAsync(e,t){return Uj.entryAsync(e,this,t)}$_addRule(e){typeof e=="string"&&(e={name:e}),We(e&&typeof e=="object","Invalid options"),We(e.name&&typeof e.name=="string","Invalid rule name");for(let i in e)We(i[0]!=="_","Cannot set private rule properties");let t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;let r=this._definition.rules[t.method],n=t.args;We(r,"Unknown rule",t.method);let s=this.clone();if(n){We(Object.keys(n).length===1||Object.keys(n).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(let i in n){let o=n[i];if(r.argsByName){let a=r.argsByName.get(i);if(a.ref&&gi.isResolvable(o))t._resolve.push(i),s.$_mutateRegister(o);else if(a.normalize&&(o=a.normalize(o),n[i]=o),a.assert){let c=gi.validateArg(o,i,a);We(!c,c,"or reference")}}if(o===void 0){delete n[i];continue}n[i]=o}}return r.multi||(s._ruleRemove(t.name,{clone:!1}),s._singleRules.set(t.name,t)),s.$_temp.ruleset===!1&&(s.$_temp.ruleset=null),r.priority?s._rules.unshift(t):s._rules.push(t),s}$_compile(e,t){return gZ.schema(this.$_root,e,t)}$_createError(e,t,r,n,s,i={}){let o=i.flags!==!1?this._flags:{},a=i.messages?Glr.merge(this._definition.messages,i.messages):this._definition.messages;return new Hlr.Report(e,t,r,o,a,n,s)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,n){r=Object.assign({},r),r.abortEarly=!0,r._externals=!1,t.snapshot();let s=!Uj.validate(e,this,t,r,n).errors;return t.restore(),s}$_modify(e){return gi.assertOptions(e,["each","once","ref","schema"]),_Fe.schema(this,e)||this}$_mutateRebuild(){We(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset();let e=(t,{source:r,name:n,path:s,key:i})=>{let o=this._definition[r][n]&&this._definition[r][n].register;o!==!1&&this.$_mutateRegister(t,{family:o,key:i})};return this.$_modify({each:e}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){We(e[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");let n=this._definition.flags[e]||{};if(hFe(t,n.default)&&(t=void 0),hFe(t,this._flags[e]))return this;let s=r.clone!==!1?this.clone():this;return t!==void 0?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],e[0]!=="_"&&(s.$_temp.ruleset=!1),s}$_parent(e,...t){return this[e][gi.symbols.parent].call(this,...t)}$_validate(e,t,r){return Uj.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=gFe(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(let t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(let t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){let e=this.clone();e._reset();let t=e._definition.terms;for(let r in t){let n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}_default(e,t,r={}){return gi.assertOptions(r,"literal"),We(t!==void 0,"Missing",e,"value"),We(typeof t=="function"||!r.literal,"Only function value supports literal option"),typeof t=="function"&&r.literal&&(t={[gi.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};let n=[],s=[];for(let a=0;a<this.$_terms.whens.length;++a){let c=this.$_terms.whens[a];if(c.concat){n.push(c.concat),s.push(`${a}.concat`);continue}let l=c.ref?c.ref.resolve(e,t,r):e,d=c.is?[c]:c.switch,u=s.length;for(let m=0;m<d.length;++m){let{is:p,then:g,otherwise:y}=d[m],b=`${a}${c.switch?"."+m:""}`;if(p.$_match(l,t.nest(p,`${b}.is`),r)){if(g){let w=t.localize([...t.path,`${b}.then`],t.ancestors,t.schemas),{schema:A,id:O}=g._generate(e,w,r);n.push(A),s.push(`${b}.then${O?`(${O})`:""}`);break}}else if(y){let w=t.localize([...t.path,`${b}.otherwise`],t.ancestors,t.schemas),{schema:A,id:O}=y._generate(e,w,r);n.push(A),s.push(`${b}.otherwise${O?`(${O})`:""}`);break}}if(c.break&&s.length>u)break}let i=s.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",i),!i)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[i])return{schema:this.$_temp.whens[i],id:i};let o=this;this._definition.generate&&(o=this._definition.generate(this,e,t,r));for(let a of n)o=o.concat(a);return this.$_root._tracer&&this.$_root._tracer._combine(o,[this,...n]),this.$_temp.whens[i]=o,{schema:o,id:i}}_inner(e,t,r={}){We(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);let n=this.clone();return(!n.$_terms[e]||r.override)&&(n.$_terms[e]=[]),r.single?n.$_terms[e].push(t):n.$_terms[e].push(...t),n.$_temp.ruleset=!1,n}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;let r=t.clone!==!1?this.clone():this;r._singleRules.delete(e);let n=[];for(let s=0;s<r._rules.length;++s){let i=r._rules[s];if(i.name===e&&!i.keep){r._inRuleset()&&s<r.$_temp.ruleset&&--r.$_temp.ruleset;continue}n.push(i)}return r._rules=n,r}_values(e,t){gi.verifyFlat(e,t.slice(1,-1));let r=this.clone(),n=e[0]===gi.symbols.override;if(n&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new Fj:n&&(r[t]=e.length?new Fj:null,r.$_mutateRebuild()),!r[t])return r;n&&r[t].override();for(let s of e){We(s!==void 0,"Cannot call allow/valid/invalid with undefined"),We(s!==gi.symbols.override,"Override must be the first value");let i=t==="_invalids"?"_valids":"_invalids";r[i]&&(r[i].remove(s),r[i].length||(We(t==="_valids"||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[i]=null)),r[t].add(s,r._refs)}return r}};lo.Base.prototype[gi.symbols.any]={version:gi.version,compile:gZ.compile,root:"$_root"};lo.Base.prototype.isImmutable=!0;lo.Base.prototype.deny=lo.Base.prototype.invalid;lo.Base.prototype.disallow=lo.Base.prototype.invalid;lo.Base.prototype.equal=lo.Base.prototype.valid;lo.Base.prototype.exist=lo.Base.prototype.required;lo.Base.prototype.not=lo.Base.prototype.invalid;lo.Base.prototype.options=lo.Base.prototype.prefs;lo.Base.prototype.preferences=lo.Base.prototype.prefs;EFe.exports=new lo.Base});var sd=E((ets,bFe)=>{"use strict";var Bj=Nr(),Wlr=CFe(),Klr=Zn(),Xlr=yw();bFe.exports=Wlr.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return Bj(typeof e=="function","Method must be a function"),Bj(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(n){return t.error("any.custom",{error:n})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){Bj(Klr.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");let t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return Bj(e&&typeof e=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate(e,t,{code:r,local:n}){return t.error(r,n)},args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=Xlr.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(let r in t){let n=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){for(let s of n)e=e[r.slice(0,-1)](s);continue}if(r==="alterations"){let s={};for(let{target:i,adjuster:o}of n)s[i]=o;e=e.alter(s);continue}if(r==="whens"){for(let s of n){let{ref:i,is:o,not:a,then:c,otherwise:l,concat:d}=s;d?e=e.concat(d):i?e=e.when(i,{is:o,not:a,then:c,otherwise:l,switch:s.switch,break:s.break}):e=e.when(o,{then:c,otherwise:l,break:s.break})}continue}if(r==="shared")for(let s of n)e=e.shared(s)}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})});var xFe=E((tts,AFe)=>{"use strict";var gv=Nr(),Jlr=Mj(),Qlr=sd(),wFe=Zn(),Ylr=fv(),qj=wp(),Zlr=Ap(),Ew={};AFe.exports=Qlr.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:Zlr.toSibling}},args(e,...t){return t.length===1&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t)},validate(e,t){let{schema:r,error:n,state:s,prefs:i}=t;if(r._flags.match){let a=[],c=[];for(let d=0;d<r.$_terms.matches.length;++d){let u=r.$_terms.matches[d],m=s.nest(u.schema,`match.${d}`);m.snapshot();let p=u.schema.$_validate(e,m,i);p.errors?(c.push(p.errors),m.restore()):(a.push(p.value),m.commit())}if(a.length===0){let d={details:c.map(u=>qj.details(u,{override:!1}))};return{errors:n("alternatives.any",d)}}if(r._flags.match==="one")return a.length===1?{value:a[0]}:{errors:n("alternatives.one")};if(a.length!==r.$_terms.matches.length){let d={details:c.map(u=>qj.details(u,{override:!1}))};return{errors:n("alternatives.all",d)}}let l=d=>d.$_terms.matches.some(u=>u.schema.type==="object"||u.schema.type==="alternatives"&&l(u.schema));return l(r)?{value:a.reduce((d,u)=>Jlr(d,u,{mergeArrays:!1}))}:{value:a[a.length-1]}}let o=[];for(let a=0;a<r.$_terms.matches.length;++a){let c=r.$_terms.matches[a];if(c.schema){let u=s.nest(c.schema,`match.${a}`);u.snapshot();let m=c.schema.$_validate(e,u,i);if(!m.errors)return u.commit(),m;u.restore(),o.push({schema:c.schema,reports:m.errors});continue}let l=c.ref?c.ref.resolve(e,s,i):e,d=c.is?[c]:c.switch;for(let u=0;u<d.length;++u){let m=d[u],{is:p,then:g,otherwise:y}=m,b=`match.${a}${c.switch?"."+u:""}`;if(p.$_match(l,s.nest(p,`${b}.is`),i)){if(g)return g.$_validate(e,s.nest(g,`${b}.then`),i)}else if(y)return y.$_validate(e,s.nest(y,`${b}.otherwise`),i)}}return Ew.errors(o,t)},rules:{conditional:{method(e,t){gv(!this._flags._endedSwitch,"Unreachable condition"),gv(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),gv(t.break===void 0,"Cannot use break option with alternatives conditional");let r=this.clone(),n=Ylr.when(r,e,t),s=n.is?[n]:n.switch;for(let i of s)if(i.then&&i.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(n),r.$_mutateRebuild()}},match:{method(e){if(gv(["any","one","all"].includes(e),"Invalid alternatives match mode",e),e!=="any")for(let t of this.$_terms.matches)gv(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){gv(e.length,"Missing alternative schemas"),wFe.verifyFlat(e,"try"),gv(!this._flags._endedSwitch,"Unreachable condition");let t=this.clone();for(let r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},overrides:{label(e){let t=this.$_parent("label",e),r=(n,s)=>s.path[0]!=="is"&&typeof n._flags.label!="string"?n.label(e):void 0;return t.$_modify({each:r,ref:!1})}},rebuild(e){let t=r=>{wFe.isSchema(r)&&r.type==="array"&&e.$_setFlag("_arrayItems",!0,{clone:!1})};e.$_modify({each:t})},manifest:{build(e,t){if(t.matches)for(let r of t.matches){let{schema:n,ref:s,is:i,not:o,then:a,otherwise:c}=r;n?e=e.try(n):s?e=e.conditional(s,{is:i,then:a,not:o,otherwise:c,switch:r.switch}):e=e.conditional(i,{then:a,otherwise:c})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}});Ew.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(e.length===1)return{errors:e[0].reports};let n=new Set,s=[];for(let{reports:i,schema:o}of e){if(i.length>1)return Ew.unmatched(e,t);let a=i[0];if(!(a instanceof qj.Report))return Ew.unmatched(e,t);if(a.state.path.length!==r.path.length){s.push({type:o.type,report:a});continue}if(a.code==="any.only"){for(let d of a.local.valids)n.add(d);continue}let[c,l]=a.code.split(".");l!=="base"?s.push({type:o.type,report:a}):a.code==="object.base"?n.add(a.local.type):n.add(c)}return s.length?s.length===1?{errors:s[0].report}:Ew.unmatched(e,t):{errors:t("alternatives.types",{types:[...n]})}};Ew.unmatched=function(e,t){let r=[];for(let n of e)r.push(...n.reports);return{errors:t("alternatives.match",qj.details(r,{override:!1}))}}});var RFe=E((rts,PFe)=>{"use strict";var NI=Nr(),edr=TI(),tdr=dv(),rdr=sd(),id=Zn(),ndr=fv(),qs={};PFe.exports=rdr.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:n}){if(!Array.isArray(e))return;let s=t.$_getRule("sort");if(s)return qs.sort(t,e,s.args.options,r,n)}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){let n=[e];return n[id.symbols.arraySingle]=!0,{value:n}}return{errors:r("array.base")}}if(!(!t.$_getRule("items")&&!t.$_terms.externals))return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});let t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:n},{schema:s}){let i=[e,...t.ancestors];for(let a=0;a<e.length;++a){let c=t.localize([...t.path,a],i,s);if(s.$_match(e[a],c,r))return e}let o=s._flags.label;return o?n("array.hasKnown",{patternLabel:o}):n("array.hasUnknown",null)},multi:!0},items:{method(...e){id.verifyFlat(e,"items");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let n=id.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});t.$_terms.items.push(n)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:n,prefs:s,errorsArray:i}){let o=t.$_terms._requireds.slice(),a=t.$_terms.ordered.slice(),c=[...t.$_terms._inclusions,...o],l=!e[id.symbols.arraySingle];delete e[id.symbols.arraySingle];let d=i(),u=e.length;for(let m=0;m<u;++m){let p=e[m],g=!1,y=!1,b=l?m:new Number(m),w=[...n.path,b];if(!t._flags.sparse&&p===void 0){if(d.push(r("array.sparse",{key:b,path:w,pos:m,value:void 0},n.localize(w))),s.abortEarly)return d;a.shift();continue}let A=[e,...n.ancestors];for(let z of t.$_terms._exclusions)if(z.$_match(p,n.localize(w,A,z),s,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:m,value:p},n.localize(w))),s.abortEarly)return d;g=!0,a.shift();break}if(g)continue;if(t.$_terms.ordered.length){if(a.length){let z=a.shift(),oe=z.$_validate(p,n.localize(w,A,z),s);if(oe.errors){if(d.push(...oe.errors),s.abortEarly)return d}else if(z._flags.result==="strip")qs.fastSplice(e,m),--m,--u;else if(!t._flags.sparse&&oe.value===void 0){if(d.push(r("array.sparse",{key:b,path:w,pos:m,value:void 0},n.localize(w))),s.abortEarly)return d;continue}else e[m]=oe.value;continue}else if(!t.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:m,limit:t.$_terms.ordered.length})),s.abortEarly)return d;break}}let O=[],T=o.length;for(let z=0;z<T;++z){let oe=n.localize(w,A,o[z]);oe.snapshot();let Q=o[z].$_validate(p,oe,s);if(O[z]=Q,!Q.errors){if(oe.commit(),e[m]=Q.value,y=!0,qs.fastSplice(o,z),--z,--T,!t._flags.sparse&&Q.value===void 0&&(d.push(r("array.sparse",{key:b,path:w,pos:m,value:void 0},n.localize(w))),s.abortEarly))return d;break}oe.restore()}if(y)continue;let k=s.stripUnknown&&!!s.stripUnknown.arrays||!1;T=c.length;for(let z of c){let oe,Q=o.indexOf(z);if(Q!==-1)oe=O[Q];else{let _e=n.localize(w,A,z);if(_e.snapshot(),oe=z.$_validate(p,_e,s),!oe.errors){_e.commit(),z._flags.result==="strip"?(qs.fastSplice(e,m),--m,--u):!t._flags.sparse&&oe.value===void 0?(d.push(r("array.sparse",{key:b,path:w,pos:m,value:void 0},n.localize(w))),g=!0):e[m]=oe.value,y=!0;break}_e.restore()}if(T===1){if(k){qs.fastSplice(e,m),--m,--u,y=!0;break}if(d.push(...oe.errors),s.abortEarly)return d;g=!0;break}}if(!g&&(t.$_terms._inclusions.length||t.$_terms._requireds.length)&&!y){if(k){qs.fastSplice(e,m),--m,--u;continue}if(d.push(r("array.includes",{pos:m,value:p},n.localize(w))),s.abortEarly)return d}}return o.length&&qs.fillMissedErrors(t,d,o,e,n,s),a.length&&(qs.fillOrderedErrors(t,d,a,e,n,s),d.length||qs.fillDefault(a,e,n,s)),d.length?d:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:n,operator:s,args:i}){return id.compare(e.length,r,s)?e:t.error("array."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:id.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){id.verifyFlat(e,"ordered");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let n=id.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});qs.validateSingle(n,t),t.$_mutateRegister(n),t.$_terms.ordered.push(n)}return t.$_mutateRebuild()}},single:{method(e){let t=e===void 0?!0:!!e;return NI(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){id.assertOptions(e,["by","order"]);let t={order:e.order||"ascending"};return e.by&&(t.by=ndr.ref(e.by,{ancestor:0}),NI(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:n,schema:s},{options:i}){let{value:o,errors:a}=qs.sort(s,e,i,r,n);if(a)return a;for(let c=0;c<e.length;++c)if(e[c]!==o[c])return t("array.sort",{order:i.order,by:i.by?i.by.key:"value"});return e},convert:!0},sparse:{method(e){let t=e===void 0?!0:!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){NI(!e||typeof e=="function"||typeof e=="string","comparator must be a function or a string"),id.assertOptions(t,["ignoreUndefined","separator"]);let r={name:"unique",args:{options:t,comparator:e}};if(e)if(typeof e=="string"){let n=id.default(t.separator,".");r.path=n?e.split(n):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:n},{comparator:s,options:i},{comparator:o,path:a}){let c={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},l=o||edr,d=i.ignoreUndefined;for(let u=0;u<e.length;++u){let m=a?tdr(e[u],a):e[u],p=o?c.custom:c[typeof m];if(NI(p,"Failed to find unique map container for type",typeof m),p instanceof Map){let g=p.entries(),y;for(;!(y=g.next()).done;)if(l(y.value[0],m)){let b=t.localize([...t.path,u],[e,...t.ancestors]),w={pos:u,value:e[u],dupePos:y.value[1],dupeValue:e[y.value[1]]};return a&&(w.path=s),r("array.unique",w,b)}p.set(m,u)}else{if((!d||m!==void 0)&&p[m]!==void 0){let g={pos:u,value:e[u],dupePos:p[m],dupeValue:e[p[m]]};a&&(g.path=s);let y=t.localize([...t.path,u],[e,...t.ancestors]);return r("array.unique",g,y)}p[m]=u}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to(e,t){return new Set(e)}}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(let t of e.$_terms.items)qs.validateSingle(t,e),t._flags.presence==="required"?e.$_terms._requireds.push(t):t._flags.presence==="forbidden"?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(let t of e.$_terms.ordered)qs.validateSingle(t,e)},manifest:{build(e,t){return t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}});qs.fillMissedErrors=function(e,t,r,n,s,i){let o=[],a=0;for(let c of r){let l=c._flags.label;l?o.push(l):++a}o.length?a?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:o,unknownMisses:a},s,i)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:o},s,i)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:a},s,i))};qs.fillOrderedErrors=function(e,t,r,n,s,i){let o=[];for(let a of r)a._flags.presence==="required"&&o.push(a);o.length&&qs.fillMissedErrors(e,t,o,n,s,i)};qs.fillDefault=function(e,t,r,n){let s=[],i=!0;for(let o=e.length-1;o>=0;--o){let a=e[o],c=[t,...r.ancestors],l=a.$_validate(void 0,r.localize(r.path,c,a),n).value;if(i){if(l===void 0)continue;i=!1}s.unshift(l)}s.length&&t.push(...s)};qs.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length};qs.validateSingle=function(e,t){(e.type==="array"||e._flags._arrayItems)&&(NI(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))};qs.sort=function(e,t,r,n,s){let i=r.order==="ascending"?1:-1,o=-1*i,a=i,c=(l,d)=>{let u=qs.compare(l,d,o,a);if(u!==null||(r.by&&(l=r.by.resolve(l,n,s),d=r.by.resolve(d,n,s)),u=qs.compare(l,d,o,a),u!==null))return u;let m=typeof l;if(m!==typeof d)throw e.$_createError("array.sort.mismatching",t,null,n,s);if(m!=="number"&&m!=="string")throw e.$_createError("array.sort.unsupported",t,{type:m},n,s);return m==="number"?(l-d)*i:l<d?o:a};try{return{value:t.slice().sort(c)}}catch(l){return{errors:l}}};qs.compare=function(e,t,r,n){return e===t?0:e===void 0?1:t===void 0?-1:e===null?n:t===null?r:null}});var DFe=E((nts,NFe)=>{"use strict";var TFe=Nr(),sdr=sd(),IFe=Zn(),OFe=fZ(),hZ={};hZ.isBool=function(e){return typeof e=="boolean"};NFe.exports=sdr.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if(typeof e!="boolean"){if(typeof e=="string"){let r=t._flags.sensitive?e:e.toLowerCase();e=r==="true"?!0:r==="false"?!1:e}return typeof e!="boolean"&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(t.$_terms.falsy&&t.$_terms.falsy.has(e,null,null,!t._flags.sensitive)?!1:e)),{value:e}}},validate(e,{error:t}){if(typeof e!="boolean")return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){IFe.verifyFlat(e,"truthy");let t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new OFe;for(let r=0;r<e.length;++r){let n=e[r];TFe(n!==void 0,"Cannot call truthy with undefined"),t.$_terms.truthy.add(n)}return t}},falsy:{method(...e){IFe.verifyFlat(e,"falsy");let t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new OFe;for(let r=0;r<e.length;++r){let n=e[r];TFe(n!==void 0,"Cannot call falsy with undefined"),t.$_terms.falsy.add(n)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:hZ.isBool,to(e,t){return e?1:0}},string:{from:hZ.isBool,to(e,t){return e?"true":"false"}}},manifest:{build(e,t){return t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})});var UFe=E((sts,LFe)=>{"use strict";var kFe=Nr(),idr=sd(),MFe=Zn(),odr=Zh(),Gu={};Gu.isDate=function(e){return e instanceof Date};LFe.exports=idr.extend({type:"date",coerce:{from:["number","string"],method(e,{schema:t}){return{value:Gu.parse(e,t._flags.format)||e}}},validate(e,{schema:t,error:r,prefs:n}){if(e instanceof Date&&!isNaN(e.getTime()))return;let s=t._flags.format;return!n.convert||!s||typeof e!="string"?{value:e,errors:r("date.base")}:{value:e,errors:r("date.format",{format:s})}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:n,operator:s,args:i}){let o=r==="now"?Date.now():r.getTime();return MFe.compare(e.getTime(),o,s)?e:t.error("date."+n,{limit:i.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>e==="now"?e:Gu.parse(e),assert:e=>e!==null,message:"must have a valid date format"}]},format:{method(e){return kFe(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return kFe(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:Gu.isDate,to(e,t){return e.getTime()}},string:{from:Gu.isDate,to(e,{prefs:t}){return odr.date(e,t)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}});Gu.parse=function(e,t){if(e instanceof Date)return e;if(typeof e!="string"&&(isNaN(e)||!isFinite(e))||/^\s*$/.test(e))return null;if(t==="iso")return MFe.isIsoDate(e)?Gu.date(e.toString()):null;let r=e;if(typeof e=="string"&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if(t==="javascript")return Gu.date(1*e);if(t==="unix")return Gu.date(1e3*e);if(typeof r=="string")return null}return Gu.date(e)};Gu.date=function(e){let t=new Date(e);return isNaN(t.getTime())?null:t}});var $Fe=E((its,jFe)=>{"use strict";var jj=Nr(),BFe=Ka(),qFe=Mj(),FFe=dv(),$j={};jFe.exports=function(e,t,r={}){if(jj(e&&typeof e=="object","Invalid defaults value: must be an object"),jj(!t||t===!0||typeof t=="object","Invalid source value: must be true, falsy or an object"),jj(typeof r=="object","Invalid options: must be an object"),!t)return null;if(r.shallow)return $j.applyToDefaultsWithShallow(e,t,r);let n=BFe(e);if(t===!0)return n;let s=r.nullOverride!==void 0?r.nullOverride:!1;return qFe(n,t,{nullOverride:s,mergeArrays:!1})};$j.applyToDefaultsWithShallow=function(e,t,r){let n=r.shallow;jj(Array.isArray(n),"Invalid keys");let s=new Map,i=t===!0?null:new Set;for(let c of n){c=Array.isArray(c)?c:c.split(".");let l=FFe(e,c);l&&typeof l=="object"?s.set(l,i&&FFe(t,c)||l):i&&i.add(c)}let o=BFe(e,{},s);if(!i)return o;for(let c of i)$j.reachCopy(o,t,c);let a=r.nullOverride!==void 0?r.nullOverride:!1;return qFe(o,t,{nullOverride:a,mergeArrays:!1})};$j.reachCopy=function(e,t,r){for(let i of r){if(!(i in t))return;let o=t[i];if(typeof o!="object"||o===null)return;t=o}let n=t,s=e;for(let i=0;i<r.length-1;++i){let o=r[i];typeof s[o]!="object"&&(s[o]={}),s=s[o]}s[r[r.length-1]]=n}});var VFe=E(HFe=>{"use strict";var hv=Nr(),zFe={};HFe.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){t=t||{};let r=[].concat(t.before||[]),n=[].concat(t.after||[]),s=t.group||"?",i=t.sort||0;hv(!r.includes(s),`Item cannot come before itself: ${s}`),hv(!r.includes("?"),"Item cannot come before unassociated items"),hv(!n.includes(s),`Item cannot come after itself: ${s}`),hv(!n.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(let o of e){let a={seq:this._items.length,sort:i,before:r,after:n,group:s,node:o};this._items.push(a)}if(!t.manual){let o=this._sort();hv(o,"item",s!=="?"?`added into group ${s}`:"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(let r of e)if(r)for(let n of r._items)this._items.push(Object.assign({},n));this._items.sort(zFe.mergeSort);for(let r=0;r<this._items.length;++r)this._items[r].seq=r;let t=this._sort();return hv(t,"merge created a dependencies error"),this.nodes}sort(){let e=this._sort();return hv(e,"sort created a dependencies error"),this.nodes}_sort(){let e={},t=Object.create(null),r=Object.create(null);for(let a of this._items){let c=a.seq,l=a.group;r[l]=r[l]||[],r[l].push(c),e[c]=a.before;for(let d of a.after)t[d]=t[d]||[],t[d].push(c)}for(let a in e){let c=[];for(let l in e[a]){let d=e[a][l];r[d]=r[d]||[],c.push(...r[d])}e[a]=c}for(let a in t)if(r[a])for(let c of r[a])e[c].push(...t[a]);let n={};for(let a in e){let c=e[a];for(let l of c)n[l]=n[l]||[],n[l].push(a)}let s={},i=[];for(let a=0;a<this._items.length;++a){let c=a;if(n[a]){c=null;for(let l=0;l<this._items.length;++l){if(s[l]===!0)continue;n[l]||(n[l]=[]);let d=n[l].length,u=0;for(let m=0;m<d;++m)s[n[l][m]]&&++u;if(u===d){c=l;break}}}c!==null&&(s[c]=!0,i.push(c))}if(i.length!==this._items.length)return!1;let o={};for(let a of this._items)o[a.seq]=a;this._items=[],this.nodes=[];for(let a of i){let c=o[a];this.nodes.push(c.node),this._items.push(c)}return!0}};zFe.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1});var _Z=E((cts,KFe)=>{"use strict";var adr=$Fe(),od=Nr(),GFe=Ka(),cdr=VFe(),ldr=sd(),ca=Zn(),yZ=fv(),ddr=wp(),WFe=Ap(),zj=Zh(),ut={renameDefaults:{alias:!1,multiple:!1,override:!1}};KFe.exports=ldr.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args(e,t){return e.keys(t)},validate(e,{schema:t,error:r,state:n,prefs:s}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!t.$_terms.renames&&!t.$_terms.dependencies&&!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.externals)return;e=ut.clone(e,s);let i=[];if(t.$_terms.renames&&!ut.rename(t,e,n,s,i))return{value:e,errors:i};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:i};let o=new Set(Object.keys(e));if(t.$_terms.keys){let a=[e,...n.ancestors];for(let c of t.$_terms.keys){let l=c.key,d=e[l];o.delete(l);let u=n.localize([...n.path,l],a,c),m=c.schema.$_validate(d,u,s);if(m.errors){if(s.abortEarly)return{value:e,errors:m.errors};m.value!==void 0&&(e[l]=m.value),i.push(...m.errors)}else c.schema._flags.result==="strip"||m.value===void 0&&d!==void 0?delete e[l]:m.value!==void 0&&(e[l]=m.value)}}if(o.size||t._flags._hasPatternMatch){let a=ut.unknown(t,e,o,i,n,s);if(a)return a}if(t.$_terms.dependencies)for(let a of t.$_terms.dependencies){if(a.key!==null&&ut.isPresent(a.options)(a.key.resolve(e,n,s,null,{shadow:!1}))===!1)continue;let c=ut.dependencies[a.rel](t,a,e,n,s);if(c){let l=t.$_createError(c.code,e,c.context,n,s);if(s.abortEarly)return{value:e,errors:l};i.push(l)}}return{value:e,errors:i}},rules:{and:{method(...e){return ca.verifyFlat(e,"and"),ut.dependency(this,"and",null,e)}},append:{method(e){return e==null||Object.keys(e).length===0?this:this.keys(e)}},assert:{method(e,t,r){zj.isTemplate(e)||(e=yZ.ref(e)),od(r===void 0||typeof r=="string","Message must be a string"),t=this.$_compile(t,{appendPath:!0});let n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate(e,{error:t,prefs:r,state:n},{subject:s,schema:i,message:o}){let a=s.resolve(e,n,r),c=WFe.isRef(s)?s.absolute(n):[];return i.$_match(a,n.localize(c,[e,...n.ancestors],i),r)?e:t("object.assert",{subject:s,message:o})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return od(typeof e=="function","constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate(e,t,{constructor:r,name:n}){return e instanceof r?e:t.error("object.instance",{type:n,value:e})},args:["constructor","name"]},keys:{method(e){od(e===void 0||typeof e=="object","Object schema must be a valid object"),od(!ca.isSchema(e),"Object schema cannot be a joi schema");let t=this.clone();if(!e)t.$_terms.keys=null;else if(!Object.keys(e).length)t.$_terms.keys=new ut.Keys;else{t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(r=>!e.hasOwnProperty(r.key)):new ut.Keys;for(let r in e)ca.tryWithPath(()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])}),r)}return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:n,operator:s,args:i}){return ca.compare(Object.keys(e).length,r,s)?e:t.error("object."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:ca.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return ca.verifyFlat(e,"nand"),ut.dependency(this,"nand",null,e)}},or:{method(...e){return ca.verifyFlat(e,"or"),ut.dependency(this,"or",null,e)}},oxor:{method(...e){return ut.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){let n=e instanceof RegExp;n||(e=this.$_compile(e,{appendPath:!0})),od(t!==void 0,"Invalid rule"),ca.assertOptions(r,["fallthrough","matches"]),n&&od(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});let s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];let i={[n?"regex":"schema"]:e,rule:t};return r.matches&&(i.matches=this.$_compile(r.matches),i.matches.type!=="array"&&(i.matches=i.matches.$_root.array().items(i.matches)),s.$_mutateRegister(i.matches),s.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(i.fallthrough=!0),s.$_terms.patterns.push(i),s.$_mutateRegister(t),s}},ref:{method(){return this.$_addRule("ref")},validate(e,t){return WFe.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method(){return this.$_addRule("regex")},validate(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method(e,t,r={}){od(typeof e=="string"||e instanceof RegExp,"Rename missing the from argument"),od(typeof t=="string"||t instanceof zj,"Invalid rename to argument"),od(t!==e,"Cannot rename key to same name:",e),ca.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);let n=this.clone();n.$_terms.renames=n.$_terms.renames||[];for(let s of n.$_terms.renames)od(s.from!==e,"Cannot rename the same key multiple times");return t instanceof zj&&n.$_mutateRegister(t),n.$_terms.renames.push({from:e,to:t,options:adr(ut.renameDefaults,r)}),n}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate(e,t,{type:r}){return ca.isSchema(e)&&(r==="any"||e.type===r)?e:t.error("object.schema",{type:r})}},unknown:{method(e){return this.$_setFlag("unknown",e!==!1)}},with:{method(e,t,r={}){return ut.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return ut.dependency(this,"without",e,t,r)}},xor:{method(...e){return ca.verifyFlat(e,"xor"),ut.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return e===void 0&&(e=ca.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){let t=new cdr.Sorter;for(let r of e.$_terms.keys)ca.tryWithPath(()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key}),r.key);e.$_terms.keys=new ut.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(let{rel:r,key:n=null,peers:s,options:i}of t.dependencies)e=ut.dependency(e,r,n,s,i);if(t.patterns)for(let{regex:r,schema:n,rule:s,fallthrough:i,matches:o}of t.patterns)e=e.pattern(r||n,s,{fallthrough:i,matches:o});if(t.renames)for(let{from:r,to:n,options:s}of t.renames)e=e.rename(r,n,s);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}});ut.clone=function(e,t){if(typeof e=="object"){if(t.nonEnumerables)return GFe(e,{shallow:!0});let n=Object.create(Object.getPrototypeOf(e));return Object.assign(n,e),n}let r=function(...n){return e.apply(this,n)};return r.prototype=GFe(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r};ut.dependency=function(e,t,r,n,s){od(r===null||typeof r=="string",t,"key must be a strings"),s||(s=n.length>1&&typeof n[n.length-1]=="object"?n.pop():{}),ca.assertOptions(s,["separator","isPresent"]),n=[].concat(n);let i=ca.default(s.separator,"."),o=[];for(let c of n)od(typeof c=="string",t,"peers must be strings"),o.push(yZ.ref(c,{separator:i,ancestor:0,prefix:!1}));r!==null&&(r=yZ.ref(r,{separator:i,ancestor:0,prefix:!1}));let a=e.clone();return a.$_terms.dependencies=a.$_terms.dependencies||[],a.$_terms.dependencies.push(new ut.Dependency(t,r,o,n,s)),a};ut.dependencies={and(e,t,r,n,s){let i=[],o=[],a=t.peers.length,c=ut.isPresent(t.options);for(let l of t.peers)c(l.resolve(r,n,s,null,{shadow:!1}))===!1?i.push(l.key):o.push(l.key);if(i.length!==a&&o.length!==a)return{code:"object.and",context:{present:o,presentWithLabels:ut.keysToLabels(e,o),missing:i,missingWithLabels:ut.keysToLabels(e,i)}}},nand(e,t,r,n,s){let i=[],o=ut.isPresent(t.options);for(let l of t.peers)o(l.resolve(r,n,s,null,{shadow:!1}))&&i.push(l.key);if(i.length!==t.peers.length)return;let a=t.paths[0],c=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:ut.keysToLabels(e,a),peers:c,peersWithLabels:ut.keysToLabels(e,c)}}},or(e,t,r,n,s){let i=ut.isPresent(t.options);for(let o of t.peers)if(i(o.resolve(r,n,s,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:ut.keysToLabels(e,t.paths)}}},oxor(e,t,r,n,s){let i=[],o=ut.isPresent(t.options);for(let c of t.peers)o(c.resolve(r,n,s,null,{shadow:!1}))&&i.push(c.key);if(!i.length||i.length===1)return;let a={peers:t.paths,peersWithLabels:ut.keysToLabels(e,t.paths)};return a.present=i,a.presentWithLabels=ut.keysToLabels(e,i),{code:"object.oxor",context:a}},with(e,t,r,n,s){let i=ut.isPresent(t.options);for(let o of t.peers)if(i(o.resolve(r,n,s,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:t.key.key,mainWithLabel:ut.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:ut.keysToLabels(e,o.key)}}},without(e,t,r,n,s){let i=ut.isPresent(t.options);for(let o of t.peers)if(i(o.resolve(r,n,s,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:ut.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:ut.keysToLabels(e,o.key)}}},xor(e,t,r,n,s){let i=[],o=ut.isPresent(t.options);for(let c of t.peers)o(c.resolve(r,n,s,null,{shadow:!1}))&&i.push(c.key);if(i.length===1)return;let a={peers:t.paths,peersWithLabels:ut.keysToLabels(e,t.paths)};return i.length===0?{code:"object.missing",context:a}:(a.present=i,a.presentWithLabels=ut.keysToLabels(e,i),{code:"object.xor",context:a})}};ut.keysToLabels=function(e,t){return Array.isArray(t)?t.map(r=>e.$_mapLabels(r)):e.$_mapLabels(t)};ut.isPresent=function(e){return typeof e.isPresent=="function"?e.isPresent:t=>t!==void 0};ut.rename=function(e,t,r,n,s){let i={};for(let o of e.$_terms.renames){let a=[],c=typeof o.from!="string";if(!c)Object.prototype.hasOwnProperty.call(t,o.from)&&(t[o.from]!==void 0||!o.options.ignoreUndefined)&&a.push(o);else for(let l in t){if(t[l]===void 0&&o.options.ignoreUndefined||l===o.to)continue;let d=o.from.exec(l);d&&a.push({from:l,to:o.to,match:d})}for(let l of a){let d=l.from,u=l.to;if(u instanceof zj&&(u=u.render(t,r,n,l.match)),d!==u){if(!o.options.multiple&&i[u]&&(s.push(e.$_createError("object.rename.multiple",t,{from:d,to:u,pattern:c},r,n)),n.abortEarly)||Object.prototype.hasOwnProperty.call(t,u)&&!o.options.override&&!i[u]&&(s.push(e.$_createError("object.rename.override",t,{from:d,to:u,pattern:c},r,n)),n.abortEarly))return!1;t[d]===void 0?delete t[u]:t[u]=t[d],i[u]=!0,o.options.alias||delete t[d]}}}return!0};ut.unknown=function(e,t,r,n,s,i){if(e.$_terms.patterns){let a=!1,c=e.$_terms.patterns.map(d=>{if(d.matches)return a=!0,[]}),l=[t,...s.ancestors];for(let d of r){let u=t[d],m=[...s.path,d];for(let p=0;p<e.$_terms.patterns.length;++p){let g=e.$_terms.patterns[p];if(g.regex){let w=g.regex.test(d);if(s.mainstay.tracer.debug(s,"rule",`pattern.${p}`,w?"pass":"error"),!w)continue}else if(!g.schema.$_match(d,s.nest(g.schema,`pattern.${p}`),i))continue;r.delete(d);let y=s.localize(m,l,{schema:g.rule,key:d}),b=g.rule.$_validate(u,y,i);if(b.errors){if(i.abortEarly)return{value:t,errors:b.errors};n.push(...b.errors)}if(g.matches&&c[p].push(d),t[d]=b.value,!g.fallthrough)break}}if(a)for(let d=0;d<c.length;++d){let u=c[d];if(!u)continue;let m=e.$_terms.patterns[d].matches,p=s.localize(s.path,l,m),g=m.$_validate(u,p,i);if(g.errors){let y=ddr.details(g.errors,{override:!1});y.matches=u;let b=e.$_createError("object.pattern.match",t,y,s,i);if(i.abortEarly)return{value:t,errors:b};n.push(b)}}}if(!r.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(i.stripUnknown&&typeof e._flags.unknown>"u"||i.skipFunctions){let a=i.stripUnknown?i.stripUnknown===!0?!0:!!i.stripUnknown.objects:!1;for(let c of r)a?(delete t[c],r.delete(c)):typeof t[c]=="function"&&r.delete(c)}if(!ca.default(e._flags.unknown,i.allowUnknown))for(let a of r){let c=s.localize([...s.path,a],[]),l=e.$_createError("object.unknown",t[a],{child:a},c,i,{flags:!1});if(i.abortEarly)return{value:t,errors:l};n.push(l)}};ut.Dependency=class{constructor(e,t,r,n,s){this.rel=e,this.key=t,this.peers=r,this.paths=n,this.options=s}describe(){let e={rel:this.rel,peers:this.paths};return this.key!==null&&(e.key=this.key.key),this.peers[0].separator!=="."&&(e.options={...e.options,separator:this.peers[0].separator}),this.options.isPresent&&(e.options={...e.options,isPresent:this.options.isPresent}),e}};ut.Keys=class extends Array{concat(e){let t=this.slice(),r=new Map;for(let n=0;n<t.length;++n)r.set(t[n].key,n);for(let n of e){let s=n.key,i=r.get(s);i!==void 0?t[i]={key:s,schema:t[i].schema.concat(n.schema)}:t.push(n)}return t}}});var JFe=E((uts,XFe)=>{"use strict";var SZ=Nr(),udr=_Z();XFe.exports=udr.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return SZ(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate(e,t,{n:r}){return e.length===r?e:t.error("function.arity",{n:r})}},class:{method(){return this.$_addRule("class")},validate(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method(e){return SZ(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate(e,t,{n:r}){return e.length>=r?e:t.error("function.minArity",{n:r})}},maxArity:{method(e){return SZ(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate(e,t,{n:r}){return e.length<=r?e:t.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})});var YFe=E((mts,QFe)=>{"use strict";var Tp=Nr(),mdr=sd(),fdr=Zn(),pdr=fv(),gdr=wp(),Ip={};QFe.exports=mdr.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args(e,t){return e.ref(t)},validate(e,{schema:t,state:r,prefs:n}){Tp(t.$_terms.link,"Uninitialized link schema");let s=Ip.generate(t,e,r,n),i=t.$_terms.link[0].ref;return s.$_validate(e,r.nest(s,`link:${i.display}:${s.type}`),n)},generate(e,t,r,n){return Ip.generate(e,t,r,n)},rules:{ref:{method(e){Tp(!this.$_terms.link,"Cannot reinitialize schema"),e=pdr.ref(e),Tp(e.type==="value"||e.type==="local","Invalid reference type:",e.type),Tp(e.type==="local"||e.ancestor==="root"||e.ancestor>0,"Link cannot reference itself");let t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){Tp(this.$_terms.link,"Uninitialized link schema"),Tp(fdr.isSchema(e),"Invalid schema object"),Tp(e.type!=="link","Cannot merge type link with another link");let t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build(e,t){return Tp(t.link,"Invalid link description missing link"),e.ref(t.link)}}});Ip.generate=function(e,t,r,n){let s=r.mainstay.links.get(e);if(s)return s._generate(t,r,n).schema;let i=e.$_terms.link[0].ref,{perspective:o,path:a}=Ip.perspective(i,r);Ip.assert(o,"which is outside of schema boundaries",i,e,r,n);try{s=a.length?o.$_reach(a):o}catch{Ip.assert(!1,"to non-existing schema",i,e,r,n)}return Ip.assert(s.type!=="link","which is another link",i,e,r,n),e._flags.relative||r.mainstay.links.set(e,s),s._generate(t,r,n).schema};Ip.perspective=function(e,t){if(e.type==="local"){for(let{schema:r,key:n}of t.schemas){if((r._flags.id||n)===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared){for(let i of r.$_terms.shared)if(i._flags.id===e.path[0])return{perspective:i,path:e.path.slice(1)}}}return{perspective:null,path:null}}return e.ancestor==="root"?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}};Ip.assert=function(e,t,r,n,s,i){e||Tp(!1,`"${gdr.label(n._flags,s,i)}" contains link reference "${r.display}" ${t}`)}});var eBe=E((fts,ZFe)=>{"use strict";var vZ=Nr(),hdr=sd(),EZ=Zn(),hl={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(e){let t=e.toString(),r=t.indexOf("."),n=t.indexOf("e");return(r<0?0:(n<0?t.length:n)-r-1)+(n<0?0:Math.max(0,-parseInt(t.slice(n+1))))}};ZFe.exports=hdr.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){if(!e.match(hl.numberRx))return;e=e.trim();let s={value:parseFloat(e)};if(s.value===0&&(s.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(hl.extractSignificantDigits(e)!==hl.extractSignificantDigits(String(s.value)))return s.errors=r("number.unsafe"),s}else{let i=s.value.toString();if(i.match(/e/i))return s;if(i!==hl.normalizeDecimal(e))return s.errors=r("number.unsafe"),s}return s}},validate(e,{schema:t,error:r,prefs:n}){if(e===1/0||e===-1/0)return{value:e,errors:r("number.infinity")};if(!EZ.isNumber(e))return{value:e,errors:r("number.base")};let s={value:e};if(n.convert){let i=t.$_getRule("precision");if(i){let o=Math.pow(10,i.args.limit);s.value=Math.round(s.value*o)/o}}return s.value===0&&(s.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate(e,t,{limit:r},{name:n,operator:s,args:i}){return EZ.compare(e,r,s)?e:t.error("number."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:EZ.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate(e,t){return Math.trunc(e)-e===0?e:t.error("number.integer")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){let t=typeof e=="number"?hl.decimalPlaces(e):null,r=Math.pow(10,t);return this.$_addRule({name:"multiple",args:{base:e,baseDecimalPlace:t,pfactor:r}})},validate(e,t,{base:r,baseDecimalPlace:n,pfactor:s},i){return hl.decimalPlaces(e)>n?t.error("number.multiple",{multiple:i.args.base,value:e}):Math.round(s*e)%Math.round(s*r)===0?e:t.error("number.multiple",{multiple:i.args.base,value:e})},args:[{name:"base",ref:!0,assert:e=>typeof e=="number"&&isFinite(e)&&e>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method(){return this.sign("positive")}},precision:{method(e){return vZ(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){let n=e.toString().match(hl.precisionRx);return Math.max((n[1]?n[1].length:0)-(n[2]?parseInt(n[2],10):0),0)<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return vZ(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate(e,t,{sign:r}){return r==="negative"&&e<0||r==="positive"&&e>0?e:t.error(`number.${r}`)}},unsafe:{method(e=!0){return vZ(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>typeof e=="number",to(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}});hl.extractSignificantDigits=function(e){return e.replace(hl.exponentialPartRegex,"").replace(hl.dotRegex,"").replace(hl.trailingZerosRegex,"").replace(hl.leadingSignAndZerosRegex,"")};hl.normalizeDecimal=function(e){return e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2"),e.includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e==="-0"?"0":e}});var rBe=E((pts,tBe)=>{"use strict";var ydr=_Z();tBe.exports=ydr.extend({type:"object",cast:{map:{from:e=>e&&typeof e=="object",to(e,t){return new Map(Object.entries(e))}}}})});var CZ=E(Hj=>{"use strict";Hj.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"};Hj.code=function(e){return{code:e,error:Hj.codes[e]}}});var bZ=E(Vj=>{"use strict";var _dr=require("url"),Wu=CZ(),ry={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:_dr.URL||URL};Vj.analyze=function(e,t={}){if(!e)return Wu.code("DOMAIN_NON_EMPTY_STRING");if(typeof e!="string")throw new Error("Invalid input: domain must be a string");if(e.length>256)return Wu.code("DOMAIN_TOO_LONG");if(!!ry.nonAsciiRx.test(e)){if(t.allowUnicode===!1)return Wu.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(ry.domainControlRx.test(e))return Wu.code("DOMAIN_INVALID_CHARS");e=ry.punycode(e),t.allowFullyQualified&&e[e.length-1]==="."&&(e=e.slice(0,-1));let n=t.minDomainSegments||ry.minDomainSegments,s=e.split(".");if(s.length<n)return Wu.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&s.length>t.maxDomainSegments)return Wu.code("DOMAIN_SEGMENTS_COUNT_MAX");let i=t.tlds;if(i){let o=s[s.length-1].toLowerCase();if(i.deny&&i.deny.has(o)||i.allow&&!i.allow.has(o))return Wu.code("DOMAIN_FORBIDDEN_TLDS")}for(let o=0;o<s.length;++o){let a=s[o];if(!a.length)return Wu.code("DOMAIN_EMPTY_SEGMENT");if(a.length>63)return Wu.code("DOMAIN_LONG_SEGMENT");if(o<s.length-1){if(!ry.domainSegmentRx.test(a))return Wu.code("DOMAIN_INVALID_CHARS")}else if(!ry.tldSegmentRx.test(a))return Wu.code("DOMAIN_INVALID_TLDS_CHARS")}return null};Vj.isValid=function(e,t){return!Vj.analyze(e,t)};ry.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new ry.URL(`http://${e}`).host}catch{return e}}});var nBe=E(wZ=>{"use strict";var Sdr=require("util"),vdr=bZ(),$m=CZ(),Ja={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(Sdr.TextEncoder||TextEncoder)};wZ.analyze=function(e,t){return Ja.email(e,t)};wZ.isValid=function(e,t){return!Ja.email(e,t)};Ja.email=function(e,t={}){if(typeof e!="string")throw new Error("Invalid input: email must be a string");if(!e)return $m.code("EMPTY_STRING");let r=!Ja.nonAsciiRx.test(e);if(!r){if(t.allowUnicode===!1)return $m.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}let n=e.split("@");if(n.length!==2)return n.length>2?$m.code("MULTIPLE_AT_CHAR"):$m.code("MISSING_AT_CHAR");let[s,i]=n;if(!s)return $m.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return $m.code("ADDRESS_TOO_LONG");if(Ja.encoder.encode(s).length>64)return $m.code("LOCAL_TOO_LONG")}return Ja.local(s,r)||vdr.analyze(i,t)};Ja.local=function(e,t){let r=e.split(".");for(let n of r){if(!n.length)return $m.code("EMPTY_LOCAL_SEGMENT");if(t){if(!Ja.atextRx.test(n))return $m.code("INVALID_LOCAL_CHARS");continue}for(let s of n){if(Ja.atextRx.test(s))continue;let i=Ja.binary(s);if(!Ja.atomRx.test(i))return $m.code("INVALID_LOCAL_CHARS")}}};Ja.binary=function(e){return Array.from(Ja.encoder.encode(e)).map(t=>String.fromCharCode(t)).join("")};Ja.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/;Ja.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))});var AZ=E((_ts,sBe)=>{"use strict";sBe.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}});var PZ=E(xZ=>{"use strict";var Gj=Nr(),Edr=AZ(),Lo={};Lo.generate=function(){let e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",s="!\\$&'\\(\\)\\*\\+,;=",i="%"+t,o=n+i+s+":@",a="["+o+"]",c="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+c+"\\.){3}"+c;let l=r+"{1,4}",d="(?:"+l+":"+l+"|"+e.ipv4address+")",u="(?:"+l+":){6}"+d,m="::(?:"+l+":){5}"+d,p="(?:"+l+")?::(?:"+l+":){4}"+d,g="(?:(?:"+l+":){0,1}"+l+")?::(?:"+l+":){3}"+d,y="(?:(?:"+l+":){0,2}"+l+")?::(?:"+l+":){2}"+d,b="(?:(?:"+l+":){0,3}"+l+")?::"+l+":"+d,w="(?:(?:"+l+":){0,4}"+l+")?::"+d,A="(?:(?:"+l+":){0,5}"+l+")?::"+l,O="(?:(?:"+l+":){0,6}"+l+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+u+"|"+m+"|"+p+"|"+g+"|"+y+"|"+b+"|"+w+"|"+A+"|"+O+")",e.ipvFuture="v"+r+"+\\.["+n+s+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);let T="["+n+i+s+":]*",k="\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]",z="["+n+i+s+"]{1,255}",oe="(?:"+k+"|"+e.ipv4address+"|"+z+")",Q="\\d*",_e="(?:"+T+"@)?"+oe+"(?::"+Q+")?",ye="(?:"+T+"@)?("+oe+")(?::"+Q+")?",Re=a+"*",kn=a+"+",Ba="["+n+i+s+"@]+",ea="",qa="(?:\\/"+Re+")*",ie="\\/(?:"+kn+qa+")?",Ve=kn+qa,Jr=Ba+qa,ta="(?:\\/\\/\\/"+Re+qa+")";return e.hierPart="(?:(?:\\/\\/"+_e+qa+")|"+ie+"|"+Ve+"|"+ta+")",e.hierPartCapture="(?:(?:\\/\\/"+ye+qa+")|"+ie+"|"+Ve+")",e.relativeRef="(?:(?:\\/\\/"+_e+qa+")|"+ie+"|"+Jr+"|"+ea+")",e.relativeRefCapture="(?:(?:\\/\\/"+ye+qa+")|"+ie+"|"+Jr+"|"+ea+")",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e};Lo.rfc3986=Lo.generate();xZ.ip={v4Cidr:Lo.rfc3986.ipv4Cidr,v6Cidr:Lo.rfc3986.ipv6Cidr,ipv4:Lo.rfc3986.ipv4address,ipv6:Lo.rfc3986.ipv6address,ipvfuture:Lo.rfc3986.ipvFuture};Lo.createRegex=function(e){let t=Lo.rfc3986,n="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return Lo.wrap(s+n);let i="";if(e.scheme){Gj(e.scheme instanceof RegExp||typeof e.scheme=="string"||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");let l=[].concat(e.scheme);Gj(l.length>=1,"scheme must have at least 1 scheme specified");let d=[];for(let u=0;u<l.length;++u){let m=l[u];Gj(m instanceof RegExp||typeof m=="string","scheme at position "+u+" must be a RegExp or String"),m instanceof RegExp?d.push(m.source.toString()):(Gj(t.schemeRegex.test(m),"scheme at position "+u+" must be a valid scheme"),d.push(Edr(m)))}i=d.join("|")}let a="(?:"+(i?"(?:"+i+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",c=e.allowRelative?"(?:"+a+"|"+s+")":a;return Lo.wrap(c+n,i)};Lo.wrap=function(e,t){return e=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${e}`,{raw:e,regex:new RegExp(`^${e}$`),scheme:t}};Lo.uriRegex=Lo.createRegex({});xZ.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?Lo.createRegex(e):Lo.uriRegex}});var oBe=E(iBe=>{"use strict";var Cw=Nr(),DI=PZ();iBe.regex=function(e={}){Cw(e.cidr===void 0||typeof e.cidr=="string","options.cidr must be a string");let t=e.cidr?e.cidr.toLowerCase():"optional";Cw(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),Cw(e.version===void 0||typeof e.version=="string"||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),Cw(r.length>=1,"options.version must have at least 1 version specified");for(let o=0;o<r.length;++o)Cw(typeof r[o]=="string","options.version must only contain strings"),r[o]=r[o].toLowerCase(),Cw(["ipv4","ipv6","ipvfuture"].includes(r[o]),"options.version contains unknown version "+r[o]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));let s=`(?:${r.map(o=>{if(t==="forbidden")return DI.ip[o];let a=`\\/${o==="ipv4"?DI.ip.v4Cidr:DI.ip.v6Cidr}`;return t==="required"?`${DI.ip[o]}${a}`:`${DI.ip[o]}(?:${a})?`}).join("|")})`,i=new RegExp(`^${s}$`);return{cidr:t,versions:r,regex:i,raw:s}}});var lBe=E((Ets,cBe)=>{"use strict";var aBe={};aBe.tlds=["AAA","AARP","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMAZON","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CASA","CASE","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CC","CD","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CPA","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ET","EU","EUROVISION","EUS","EVENTS","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTIER","FTR","FUJITSU","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","JAGUAR","JAVA","JCB","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIDS","KIM","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LAMBORGHINI","LAMER","LANCASTER","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINK","LIPSY","LIVE","LIVING","LK","LLC","LLP","LOAN","LOANS","LOCKER","LOCUS","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUXE","LUXURY","LV","LY","MA","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUSIC","MV","MW","MX","MY","MZ","NA","NAB","NAGOYA","NAME","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","RACING","RADIO","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIL","RIO","RIP","RO","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPA","SPACE","SPORT","SPOT","SR","SRL","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWISS","SX","SY","SYDNEY","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","WALES","WALMART","WALTER","WANG","WANGGOU","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4DBRK0CE","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CCKWCXETD","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ480N2RG","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBCPQ6GPA1A","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PGBS0DH","XN--PSSY2U","XN--Q7CE6A","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"];cBe.exports=new Set(aBe.tlds.map(e=>e.toLowerCase()))});var pBe=E((Cts,fBe)=>{"use strict";var tn=Nr(),Wj=bZ(),Cdr=nBe(),mBe=oBe(),dBe=AZ(),uBe=lBe(),bdr=PZ(),wdr=sd(),Qa=Zn(),Pr={tlds:uBe instanceof Set?{tlds:{allow:uBe,deny:null}}:!1,base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:mBe.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};fBe.exports=wdr.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:n}){let s=t.$_getRule("normalize");s&&(e=e.normalize(s.args.form));let i=t.$_getRule("case");i&&(e=i.args.direction==="upper"?e.toLocaleUpperCase():e.toLocaleLowerCase());let o=t.$_getRule("trim");if(o&&o.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(let c of t.$_terms.replacements)e=e.replace(c.pattern,c.replacement);let a=t.$_getRule("hex");if(a&&a.args.options.byteAligned&&e.length%2!==0&&(e=`0${e}`),t.$_getRule("isoDate")){let c=Pr.isoDate(e);c&&(e=c)}if(t._flags.truncate){let c=t.$_getRule("max");if(c){let l=c.args.limit;if(Qa.isResolvable(l)&&(l=l.resolve(e,r,n),!Qa.limit(l)))return{value:e,errors:t.$_createError("any.ref",l,{ref:c.args.limit,arg:"limit",reason:"must be a positive integer"},r,n)};e=e.slice(0,l)}}return{value:e}}},validate(e,{schema:t,error:r}){if(typeof e!="string")return{value:e,errors:r("string.base")};if(e===""){let n=t.$_getRule("min");return n&&n.args.limit===0?void 0:{value:e,errors:r("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method(e={}){return Qa.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},tn(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),tn(typeof e.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate(e,t,{options:r}){return Pr.base64Regex[r.paddingRequired][r.urlSafe].test(e)?e:t.error("string.base64")}},case:{method(e){return tn(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate(e,t,{direction:r}){return r==="lower"&&e===e.toLocaleLowerCase()||r==="upper"&&e===e.toLocaleUpperCase()?e:t.error(`string.${r}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,n=0,s=1;for(;r--;){let i=e.charAt(r)*s;n=n+(i-(i>9)*9),s=s^3}return n>0&&n%10===0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return Qa.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},tn(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){let n=e.match(Pr.dataUriRegex);return n&&(!n[2]||n[2]!=="base64"||Pr.base64Regex[r.paddingRequired].false.test(n[3]))?e:t.error("string.dataUri")}},domain:{method(e){e&&Qa.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let t=Pr.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate(e,t,r,{address:n}){return Wj.isValid(e,n)?e:t.error("string.domain")}},email:{method(e={}){Qa.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),tn(e.multiple===void 0||typeof e.multiple=="boolean","multiple option must be an boolean");let t=Pr.addressOptions(e),r=new RegExp(`\\s*[${e.separator?dBe(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,{options:r},{regex:n,address:s}){let i=r.multiple?e.split(n):[e],o=[];for(let a of i)Cdr.isValid(a,s)||o.push(a);return o.length?t.error("string.email",{value:e,invalids:o}):e}},guid:{alias:"uuid",method(e={}){Qa.assertOptions(e,["version","separator"]);let t="";if(e.version){let s=[].concat(e.version);tn(s.length>=1,"version must have at least 1 valid version specified");let i=new Set;for(let o=0;o<s.length;++o){let a=s[o];tn(typeof a=="string","version at position "+o+" must be a string");let c=Pr.guidVersions[a.toLowerCase()];tn(c,"version at position "+o+" must be one of "+Object.keys(Pr.guidVersions).join(", ")),tn(!i.has(c),"version at position "+o+" must not be a duplicate"),t+=c,i.add(c)}}tn(Pr.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');let r=e.separator===void 0?"[:-]?":e.separator===!0?"[:-]":e.separator===!1?"[]?":`\\${e.separator}`,n=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${r})[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:n})},validate(e,t,r,{regex:n}){let s=n.exec(e);return!s||Pr.guidBrackets[s[1]]!==s[s.length-1]?t.error("string.guid"):e}},hex:{method(e={}){return Qa.assertOptions(e,["byteAligned","prefix"]),e={byteAligned:!1,prefix:!1,...e},tn(typeof e.byteAligned=="boolean","byteAligned must be boolean"),tn(typeof e.prefix=="boolean"||e.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:e}})},validate(e,t,{options:r}){return(r.prefix==="optional"?Pr.hexRegex.withOptionalPrefix:r.prefix===!0?Pr.hexRegex.withPrefix:Pr.hexRegex.withoutPrefix).test(e)?r.byteAligned&&e.length%2!==0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate(e,t){return Wj.isValid(e,{minDomainSegments:1})||Pr.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){Qa.assertOptions(e,["cidr","version"]);let{cidr:t,versions:r,regex:n}=mBe.regex(e),s=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:s}},regex:n})},validate(e,t,{options:r},{regex:n}){return n.test(e)?e:r.version?t.error("string.ipVersion",{value:e,cidr:r.cidr,version:r.version}):t.error("string.ip",{value:e,cidr:r.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(e,{error:t}){return Pr.isoDate(e)?e:t("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate(e,t){return Pr.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method(e,t){return Pr.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:n},{name:s,operator:i,args:o}){let a=n?Buffer&&Buffer.byteLength(e,n):e.length;return Qa.compare(a,r,i)?e:t.error("string."+s,{limit:o.limit,value:e,encoding:n})},args:[{name:"limit",ref:!0,assert:Qa.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return Pr.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return Pr.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return tn(Pr.normalizationForms.includes(e),"normalization form must be one of "+Pr.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate(e,{error:t},{form:r}){return e===e.normalize(r)?e:t("string.normalize",{value:e,form:r})},convert:!0},pattern:{alias:"regex",method(e,t={}){tn(e instanceof RegExp,"regex must be a RegExp"),tn(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),typeof t=="string"&&(t={name:t}),Qa.assertOptions(t,["invert","name"]);let r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate(e,t,{regex:r,options:n},{errorCode:s}){return r.test(e)^n.invert?e:t.error(s,{name:n.name,regex:r,value:e})},args:["regex","options"],multi:!0},replace:{method(e,t){typeof e=="string"&&(e=new RegExp(dBe(e),"g")),tn(e instanceof RegExp,"pattern must be a RegExp"),tn(typeof t=="string","replacement must be a String");let r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method(e=!0){return tn(typeof e=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate(e,t,{enabled:r}){return!r||e===e.trim()?e:t.error("string.trim")},convert:!0},truncate:{method(e=!0){return tn(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){Qa.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),e.domain&&Qa.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let{regex:t,scheme:r}=bdr.regex(e),n=e.domain?Pr.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:n,scheme:r})},validate(e,t,{options:r},{regex:n,domain:s,scheme:i}){if(["http:/","https:/"].includes(e))return t.error("string.uri");let o=n.exec(e);if(!o&&t.prefs.convert&&r.encodeUri){let a=encodeURI(e);o=n.exec(a),o&&(e=a)}if(o){let a=o[1]||o[2];return s&&(!r.allowRelative||a)&&!Wj.isValid(a,s)?t.error("string.domain",{value:a}):e}return r.relativeOnly?t.error("string.uriRelativeOnly"):r.scheme?t.error("string.uriCustomScheme",{scheme:i,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(let{pattern:r,replacement:n}of t.replacements)e=e.replace(r,n);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}});Pr.addressOptions=function(e){if(!e)return Pr.tlds||e;if(tn(e.minDomainSegments===void 0||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),tn(e.maxDomainSegments===void 0||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),e.tlds===!1)return e;if(e.tlds===!0||e.tlds===void 0)return tn(Pr.tlds,"Built-in TLD list disabled"),Object.assign({},e,Pr.tlds);tn(typeof e.tlds=="object","tlds must be true, false, or an object");let t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),tn(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),tn(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),Pr.validateTlds(e.tlds.deny,"tlds.deny"),e;let r=e.tlds.allow;return r?r===!0?(tn(Pr.tlds,"Built-in TLD list disabled"),Object.assign({},e,Pr.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),tn(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),Pr.validateTlds(e.tlds.allow,"tlds.allow"),e):e};Pr.validateTlds=function(e,t){for(let r of e)tn(Wj.isValid(r,{minDomainSegments:1,maxDomainSegments:1}),`${t} must contain valid top level domain names`)};Pr.isoDate=function(e){if(!Qa.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()};Pr.length=function(e,t,r,n,s){return tn(!s||Buffer&&Buffer.isEncoding(s),"Invalid encoding:",s),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:s},operator:n})}});var hBe=E((bts,gBe)=>{"use strict";var Kj=Nr(),Adr=sd(),RZ={};RZ.Map=class extends Map{slice(){return new RZ.Map(this)}};gBe.exports=Adr.extend({type:"symbol",terms:{map:{init:new RZ.Map}},coerce:{method(e,{schema:t,error:r}){let n=t.$_terms.map.get(e);return n&&(e=n),!t._flags.only||typeof e=="symbol"?{value:e}:{value:e,errors:r("symbol.map",{map:t.$_terms.map})}}},validate(e,{error:t}){if(typeof e!="symbol")return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&typeof e=="object"&&(e=Object.entries(e)),Kj(e&&e[Symbol.iterator],"Iterable must be an iterable or object");let t=this.clone(),r=[];for(let n of e){Kj(n&&n[Symbol.iterator],"Entry must be an iterable");let[s,i]=n;Kj(typeof s!="object"&&typeof s!="function"&&typeof s!="symbol","Key must not be of type object, function, or Symbol"),Kj(typeof i=="symbol","Value must be a Symbol"),t.$_terms.map.set(s,i),r.push(i)}return t.valid(...r)}}},manifest:{build(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})});var SBe=E((Ats,_Be)=>{"use strict";var xdr=Nr(),Pdr=sd(),yBe=Zn();_Be.exports=Pdr.extend({type:"binary",coerce:{from:["string","object"],method(e,{schema:t}){if(typeof e=="string"||e!==null&&e.type==="Buffer")try{return{value:Buffer.from(e,t._flags.encoding)}}catch{}}},validate(e,{error:t}){if(!Buffer.isBuffer(e))return{value:e,errors:t("binary.base")}},rules:{encoding:{method(e){return xdr(Buffer.isEncoding(e),"Invalid encoding:",e),this.$_setFlag("encoding",e)}},length:{method(e){return this.$_addRule({name:"length",method:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:n,operator:s,args:i}){return yBe.compare(e.length,r,s)?e:t.error("binary."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:yBe.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}}},cast:{string:{from:e=>Buffer.isBuffer(e),to(e,t){return e.toString()}}},messages:{"binary.base":"{{#label}} must be a buffer or a string","binary.length":"{{#label}} must be {{#limit}} bytes","binary.max":"{{#label}} must be less than or equal to {{#limit}} bytes","binary.min":"{{#label}} must be at least {{#limit}} bytes"}})});var Z7=E((xts,bBe)=>{"use strict";var _v=Nr(),Rdr=Ka(),Tdr=nZ(),yv=Zn(),Idr=fv(),IZ=wp(),Odr=sZ(),vBe=aZ(),TZ=Ap(),EBe=Zh(),CBe=lZ(),Xj,Qi={types:{alternatives:xFe(),any:sd(),array:RFe(),boolean:DFe(),date:UFe(),function:JFe(),link:YFe(),number:eBe(),object:rBe(),string:pBe(),symbol:hBe()},aliases:{alt:"alternatives",bool:"boolean",func:"function"}};Buffer&&(Qi.types.binary=SBe());Qi.root=function(){let e={_types:new Set(Object.keys(Qi.types))};for(let t of e._types)e[t]=function(...r){return _v(!r.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),Qi.generate(this,Qi.types[t],r)};for(let t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...r){return this.any()[t](...r)};Object.assign(e,Qi.methods);for(let t in Qi.aliases){let r=Qi.aliases[t];e[t]=e[r]}return e.x=e.expression,CBe.setup&&CBe.setup(e),e};Qi.methods={ValidationError:IZ.ValidationError,version:yv.version,cache:Tdr.provider,assert(e,t,...r){Qi.assert(e,t,!0,r)},attempt(e,t,...r){return Qi.assert(e,t,!1,r)},build(e){return _v(typeof vBe.build=="function","Manifest functionality disabled"),vBe.build(this,e)},checkPreferences(e){yv.checkPreferences(e)},compile(e,t){return Idr.compile(this,e,t)},defaults(e){_v(typeof e=="function","modifier must be a function");let t=Object.assign({},this);for(let r of t._types){let n=e(t[r]());_v(yv.isSchema(n),"modifier must return a valid schema object"),t[r]=function(...s){return Qi.generate(this,n,s)}}return t},expression(...e){return new EBe(...e)},extend(...e){yv.verifyFlat(e,"extend"),Xj=Xj||Oj(),_v(e.length,"You need to provide at least one extension"),this.assert(e,Xj.extensions);let t=Object.assign({},this);t._types=new Set(t._types);for(let r of e){typeof r=="function"&&(r=r(t)),this.assert(r,Xj.extension);let n=Qi.expandExtension(r,t);for(let s of n){_v(t[s.type]===void 0||t._types.has(s.type),"Cannot override name",s.type);let i=s.base||this.any(),o=Odr.type(i,s);t._types.add(s.type),t[s.type]=function(...a){return Qi.generate(this,o,a)}}}return t},isError:IZ.ValidationError.isError,isExpression:EBe.isTemplate,isRef:TZ.isRef,isSchema:yv.isSchema,in(...e){return TZ.in(...e)},override:yv.symbols.override,ref(...e){return TZ.create(...e)},types(){let e={};for(let t of this._types)e[t]=this[t]();for(let t in Qi.aliases)e[t]=this[t]();return e}};Qi.assert=function(e,t,r,n){let s=n[0]instanceof Error||typeof n[0]=="string"?n[0]:null,i=s!==null?n[1]:n[0],o=t.validate(e,yv.preferences({errors:{stack:!0}},i||{})),a=o.error;if(!a)return o.value;if(s instanceof Error)throw s;let c=r&&typeof a.annotate=="function"?a.annotate():a.message;throw a instanceof IZ.ValidationError||(a=Rdr(a)),a.message=s?`${s} ${c}`:c,a};Qi.generate=function(e,t,r){return _v(e,"Must be invoked on a Joi instance."),t.$_root=e,!t._definition.args||!r.length?t:t._definition.args(t,...r)};Qi.expandExtension=function(e,t){if(typeof e.type=="string")return[e];let r=[];for(let n of t._types)if(e.type.test(n)){let s=Object.assign({},e);s.type=n,s.base=t[n](),r.push(s)}return r};bBe.exports=Qi.root()});var kI=E(ny=>{"use strict";var Ndr=ny&&ny.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ny,"__esModule",{value:!0});ny.env=void 0;var ABe=bUe(),ts=Ndr(Z7()),Ddr="production",OZ=require("path"),xBe=OZ.resolve(__dirname,"../../../");(0,ABe.config)({path:OZ.join(xBe,`.env.${Ddr}`)});(0,ABe.config)({path:OZ.join(xBe,".env")});var kdr=ts.default.object({NODE_ENV:ts.default.string().valid("development","test","production","local").default("development"),DATABASE_URL:ts.default.string().optional(),DB_HOST:ts.default.string().optional(),DB_PORT:ts.default.string().optional(),DB_NAME:ts.default.string().optional(),DB_USER:ts.default.string().optional(),DB_PASS:ts.default.string().optional(),JWT_SECRET:ts.default.string().optional(),JWT_EXPIRES_IN:ts.default.string().default("7d"),JWT_REFRESH_EXPIRES_IN:ts.default.string().default("30d"),AWS_REGION:ts.default.string().default("us-east-1"),S3_BUCKET_NAME:ts.default.string().optional(),S3_REGION:ts.default.string().default("us-east-1"),S3_CDN_DOMAIN:ts.default.string().allow(""),COGNITO_USER_POOL_ID:ts.default.string().required(),COGNITO_CLIENT_ID:ts.default.string().required(),COGNITO_REGION:ts.default.string().default("us-east-1"),REDIS_URL:ts.default.string().default("redis://localhost:6379"),REDIS_PASSWORD:ts.default.string().allow(""),CLEARBIT_API_KEY:ts.default.string().allow(""),NEWS_API_KEY:ts.default.string().allow(""),PERPLEXITY_API_KEY:ts.default.string().allow(""),MAX_FILE_SIZE:ts.default.number().default(10*1024*1024),ALLOWED_FILE_TYPES:ts.default.string().default("image/jpeg,image/png,image/heic,image/webp")}).unknown(),{error:wBe,value:Dr}=kdr.validate(process.env);if(wBe)throw new Error(`Serverless config validation error: ${wBe.message}`);var Jj=Dr.DATABASE_URL;if(!Jj&&Dr.DB_HOST&&Dr.DB_PORT&&Dr.DB_NAME&&Dr.DB_USER&&Dr.DB_PASS){let e=encodeURIComponent(Dr.DB_PASS);Jj=`postgresql://${Dr.DB_USER}:${e}@${Dr.DB_HOST}:${Dr.DB_PORT}/${Dr.DB_NAME}`}var Mdr=process.env.STAGE!==void 0||process.env.AWS_LAMBDA_FUNCTION_NAME!==void 0;if(!Jj&&!Mdr)throw new Error("Database configuration error: Either DATABASE_URL or individual DB_* components (DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASS) must be provided");ny.env={node:Dr.NODE_ENV,isDevelopment:Dr.NODE_ENV==="development",isProduction:Dr.NODE_ENV==="production",isTest:Dr.NODE_ENV==="test",database:{url:Jj||void 0},jwt:{secret:Dr.JWT_SECRET,expiresIn:Dr.JWT_EXPIRES_IN,refreshExpiresIn:Dr.JWT_REFRESH_EXPIRES_IN},aws:{region:Dr.AWS_REGION},s3:{bucketName:Dr.S3_BUCKET_NAME,region:Dr.S3_REGION,cdnDomain:Dr.S3_CDN_DOMAIN},cognito:{userPoolId:Dr.COGNITO_USER_POOL_ID,clientId:Dr.COGNITO_CLIENT_ID,region:Dr.COGNITO_REGION},redis:{url:Dr.REDIS_URL,password:Dr.REDIS_PASSWORD},externalApis:{clearbitApiKey:Dr.CLEARBIT_API_KEY,newsApiKey:Dr.NEWS_API_KEY,perplexityApiKey:Dr.PERPLEXITY_API_KEY},upload:{maxFileSize:Dr.MAX_FILE_SIZE,allowedTypes:Dr.ALLOWED_FILE_TYPES.split(",")}};ny.default=ny.env});var Np=E(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.logExternalApiCall=Yi.logDatabaseOperation=Yi.logResponse=Yi.logRequest=Yi.debug=Yi.error=Yi.warn=Yi.info=void 0;var Ldr=kI(),NZ=class{serviceName;constructor(t="namecard-serverless"){this.serviceName=t}formatMessage(t,r,n){let i={timestamp:new Date().toISOString(),level:t.toUpperCase(),service:this.serviceName,message:r,...n};return JSON.stringify(i)}info(t,r){console.log(this.formatMessage("info",t,r))}warn(t,r){console.warn(this.formatMessage("warn",t,r))}error(t,r,n){let s=r?{...n,error:{message:r.message,stack:r.stack,name:r.name}}:n;console.error(this.formatMessage("error",t,s))}debug(t,r){Ldr.env.isProduction||console.debug(this.formatMessage("debug",t,r))}logRequest(t,r,n){this.info("Lambda request started",{method:t,path:r,requestId:n?.requestId,functionName:n?.functionName})}logResponse(t,r,n){let s=t>=400?"warn":"info",i=t>=400?"Lambda request failed":"Lambda request completed";s==="warn"?this.warn(i,{statusCode:t,duration:`${r}ms`,...n}):this.info(i,{statusCode:t,duration:`${r}ms`,...n})}logDatabaseOperation(t,r,n,s){this.info(`Database ${t}`,{operation:t,table:r,duration:`${n}ms`,...s})}logExternalApiCall(t,r,n,s,i){let o=s>=400?"warn":"info",a=`External API call: ${t}`;o==="warn"?this.warn(a,{service:t,endpoint:r,statusCode:s,duration:`${n}ms`,...i}):this.info(a,{service:t,endpoint:r,statusCode:s,duration:`${n}ms`,...i})}},Op=new NZ;Yi.default=Op;Yi.info=Op.info,Yi.warn=Op.warn,Yi.error=Op.error,Yi.debug=Op.debug,Yi.logRequest=Op.logRequest,Yi.logResponse=Op.logResponse,Yi.logDatabaseOperation=Op.logDatabaseOperation,Yi.logExternalApiCall=Op.logExternalApiCall});var PBe=E(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.createSuccessResponse=Udr;Ya.createErrorResponse=Qj;Ya.createValidationErrorResponse=Fdr;Ya.createNotFoundResponse=Bdr;Ya.createUnauthorizedResponse=qdr;Ya.createForbiddenResponse=jdr;Ya.generateRequestId=sy;Ya.getRequestId=$dr;Ya.parseJsonBody=zdr;Ya.getUserIdFromPath=Hdr;Ya.getIdFromPath=Vdr;Ya.getQueryParameter=DZ;Ya.getPaginationParams=Gdr;var kZ={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Methods":"GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS","Content-Type":"application/json"};function Udr(e,t=200,r,n=sy()){let s={success:!0,data:e,timestamp:new Date().toISOString(),requestId:n,...r&&{message:r}};return{statusCode:t,headers:kZ,body:JSON.stringify(s)}}function Qj(e,t=500,r=sy()){let n=e instanceof Error?e.message:e,s={success:!1,error:n,timestamp:new Date().toISOString(),requestId:r};return console.error("API Error:",{error:n,statusCode:t,requestId:r,timestamp:s.timestamp}),{statusCode:t,headers:kZ,body:JSON.stringify(s)}}function Fdr(e,t=sy()){let r={success:!1,error:"Validation failed",data:{errors:e},timestamp:new Date().toISOString(),requestId:t};return{statusCode:400,headers:kZ,body:JSON.stringify(r)}}function Bdr(e="Resource",t=sy()){return Qj(`${e} not found`,404,t)}function qdr(e="Unauthorized",t=sy()){return Qj(e,401,t)}function jdr(e="Forbidden",t=sy()){return Qj(e,403,t)}function sy(){return`req_${Date.now()}_${Math.random().toString(36).substring(2,15)}`}function $dr(e){return e.requestContext?.requestId||sy()}function zdr(e){if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error("Failed to parse JSON body:",t),null}}function Hdr(e){return e.pathParameters?.userId||null}function Vdr(e){return e.pathParameters?.id||null}function DZ(e,t,r){return(e.queryStringParameters||{})[t]||r}function Gdr(e){let t=Math.min(parseInt(DZ(e,"limit","20")||"20"),100),r=Math.max(parseInt(DZ(e,"offset","0")||"0"),0);return{limit:t,offset:r}}});var Ac=E((Its,RBe)=>{"use strict";var MZ=class e extends Error{constructor(t){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${t.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,e)}};RBe.exports=e=>{if(e.length>2)throw new MZ(e);function t(n={}){this.options=n}t.prototype.transform=e;function r(n){return new t(n)}return r.Format=t,r}});var NBe=E((Ots,OBe)=>{var IBe={};OBe.exports=IBe;var TBe={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(TBe).forEach(function(e){var t=TBe[e],r=IBe[e]=[];r.open="\x1B["+t[0]+"m",r.close="\x1B["+t[1]+"m"})});var kBe=E((Nts,DBe)=>{"use strict";DBe.exports=function(e,t){t=t||process.argv||[];var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",s=t.indexOf(n+e);return s!==-1&&(r===-1?!0:s<r)}});var LBe=E((Dts,MBe)=>{"use strict";var Wdr=require("os"),Ku=kBe(),Za=process.env,bw=void 0;Ku("no-color")||Ku("no-colors")||Ku("color=false")?bw=!1:(Ku("color")||Ku("colors")||Ku("color=true")||Ku("color=always"))&&(bw=!0);"FORCE_COLOR"in Za&&(bw=Za.FORCE_COLOR.length===0||parseInt(Za.FORCE_COLOR,10)!==0);function Kdr(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Xdr(e){if(bw===!1)return 0;if(Ku("color=16m")||Ku("color=full")||Ku("color=truecolor"))return 3;if(Ku("color=256"))return 2;if(e&&!e.isTTY&&bw!==!0)return 0;var t=bw?1:0;if(process.platform==="win32"){var r=Wdr.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Za)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(s){return s in Za})||Za.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Za)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Za.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Za){var n=parseInt((Za.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Za.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Za.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Za.TERM)||"COLORTERM"in Za?1:(Za.TERM==="dumb",t)}function LZ(e){var t=Xdr(e);return Kdr(t)}MBe.exports={supportsColor:LZ,stdout:LZ(process.stdout),stderr:LZ(process.stderr)}});var FBe=E((kts,UBe)=>{UBe.exports=function(t,r){var n="";t=t||"Run the trap, drop the bass",t=t.split("");var s={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return t.forEach(function(i){i=i.toLowerCase();var o=s[i]||[" "],a=Math.floor(Math.random()*o.length);typeof s[i]<"u"?n+=s[i][a]:n+=i}),n}});var qBe=E((Mts,BBe)=>{BBe.exports=function(t,r){t=t||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},s=[].concat(n.up,n.down,n.mid);function i(c){var l=Math.floor(Math.random()*c);return l}function o(c){var l=!1;return s.filter(function(d){l=d===c}),l}function a(c,l){var d="",u,m;l=l||{},l.up=typeof l.up<"u"?l.up:!0,l.mid=typeof l.mid<"u"?l.mid:!0,l.down=typeof l.down<"u"?l.down:!0,l.size=typeof l.size<"u"?l.size:"maxi",c=c.split("");for(m in c)if(!o(m)){switch(d=d+c[m],u={up:0,down:0,mid:0},l.size){case"mini":u.up=i(8),u.mid=i(2),u.down=i(8);break;case"maxi":u.up=i(16)+3,u.mid=i(4)+1,u.down=i(64)+3;break;default:u.up=i(8)+1,u.mid=i(6)/2,u.down=i(8)+1;break}var p=["up","mid","down"];for(var g in p)for(var y=p[g],b=0;b<=u[y];b++)l[y]&&(d=d+n[y][i(n[y].length)])}return d}return a(t,r)}});var $Be=E((Lts,jBe)=>{jBe.exports=function(e){return function(t,r,n){if(t===" ")return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}});var HBe=E((Uts,zBe)=>{zBe.exports=function(e){return function(t,r,n){return r%2===0?t:e.inverse(t)}}});var GBe=E((Fts,VBe)=>{VBe.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,s){return r===" "?r:e[t[n++%t.length]](r)}}});var KBe=E((Bts,WBe)=>{WBe.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,s){return r===" "?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}});var eqe=E((jts,ZBe)=>{var dr={};ZBe.exports=dr;dr.themes={};var Jdr=require("util"),Sv=dr.styles=NBe(),JBe=Object.defineProperties,Qdr=new RegExp(/[\r\n]+/g);dr.supportsColor=LBe().supportsColor;typeof dr.enabled>"u"&&(dr.enabled=dr.supportsColor()!==!1);dr.enable=function(){dr.enabled=!0};dr.disable=function(){dr.enabled=!1};dr.stripColors=dr.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var qts=dr.stylize=function(t,r){if(!dr.enabled)return t+"";var n=Sv[r];return!n&&r in dr?dr[r](t):n.open+t+n.close},Ydr=/[|\\{}()[\]^$+*?.]/g,Zdr=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(Ydr,"\\$&")};function QBe(e){var t=function r(){return tur.apply(r,arguments)};return t._styles=e,t.__proto__=eur,t}var YBe=function(){var e={};return Sv.grey=Sv.gray,Object.keys(Sv).forEach(function(t){Sv[t].closeRe=new RegExp(Zdr(Sv[t].close),"g"),e[t]={get:function(){return QBe(this._styles.concat(t))}}}),e}(),eur=JBe(function(){},YBe);function tur(){var e=Array.prototype.slice.call(arguments),t=e.map(function(o){return o!=null&&o.constructor===String?o:Jdr.inspect(o)}).join(" ");if(!dr.enabled||!t)return t;for(var r=t.indexOf(`
`)!=-1,n=this._styles,s=n.length;s--;){var i=Sv[n[s]];t=i.open+t.replace(i.closeRe,i.open)+i.close,r&&(t=t.replace(Qdr,function(o){return i.close+o+i.open}))}return t}dr.setTheme=function(e){if(typeof e=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var t in e)(function(r){dr[r]=function(n){if(typeof e[r]=="object"){var s=n;for(var i in e[r])s=dr[e[r][i]](s);return s}return dr[e[r]](n)}})(t)};function rur(){var e={};return Object.keys(YBe).forEach(function(t){e[t]={get:function(){return QBe([t])}}}),e}var nur=function(t,r){var n=r.split("");return n=n.map(t),n.join("")};dr.trap=FBe();dr.zalgo=qBe();dr.maps={};dr.maps.america=$Be()(dr);dr.maps.zebra=HBe()(dr);dr.maps.rainbow=GBe()(dr);dr.maps.random=KBe()(dr);for(XBe in dr.maps)(function(e){dr[e]=function(t){return nur(dr.maps[e],t)}})(XBe);var XBe;JBe(dr,rur())});var UZ=E(($ts,tqe)=>{var sur=eqe();tqe.exports=sur});var rqe=E(FZ=>{"use strict";FZ.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};FZ.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var nqe=E(BZ=>{"use strict";BZ.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};BZ.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var sqe=E(qZ=>{"use strict";qZ.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};qZ.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var iqe=E(Yj=>{"use strict";Object.defineProperty(Yj,"cli",{value:rqe()});Object.defineProperty(Yj,"npm",{value:nqe()});Object.defineProperty(Yj,"syslog",{value:sqe()})});var Di=E(MI=>{"use strict";Object.defineProperty(MI,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(MI,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(MI,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(MI,"configs",{value:iqe()})});var t1=E((Kts,e1)=>{"use strict";var zZ=UZ(),{LEVEL:jZ,MESSAGE:$Z}=Di();zZ.enabled=!0;var oqe=/\s+/,Zj=class e{constructor(t={}){t.colors&&this.addColors(t.colors),this.options=t}static addColors(t){let r=Object.keys(t).reduce((n,s)=>(n[s]=oqe.test(t[s])?t[s].split(oqe):t[s],n),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}addColors(t){return e.addColors(t)}colorize(t,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(e.allColors[t]))return zZ[e.allColors[t]](n);for(let s=0,i=e.allColors[t].length;s<i;s++)n=zZ[e.allColors[t][s]](n);return n}transform(t,r){return r.all&&typeof t[$Z]=="string"&&(t[$Z]=this.colorize(t[jZ],t.level,t[$Z])),(r.level||r.all||!r.message)&&(t.level=this.colorize(t[jZ],t.level)),(r.all||r.message)&&(t.message=this.colorize(t[jZ],t.level,t.message)),t}};e1.exports=e=>new Zj(e);e1.exports.Colorizer=e1.exports.Format=Zj});var cqe=E((Xts,aqe)=>{"use strict";var{Colorizer:iur}=t1();aqe.exports=e=>(iur.addColors(e.colors||e),e)});var dqe=E((Jts,lqe)=>{"use strict";var our=Ac();lqe.exports=our(e=>(e.message=`	${e.message}`,e))});var fqe=E((Qts,mqe)=>{"use strict";var aur=Ac(),{LEVEL:uqe,MESSAGE:HZ}=Di();mqe.exports=aur((e,{stack:t,cause:r})=>{if(e instanceof Error){let s=Object.assign({},e,{level:e.level,[uqe]:e[uqe]||e.level,message:e.message,[HZ]:e[HZ]||e.message});return t&&(s.stack=e.stack),r&&(s.cause=e.cause),s}if(!(e.message instanceof Error))return e;let n=e.message;return Object.assign(e,n),e.message=n.message,e[HZ]=n.message,t&&(e.stack=n.stack),r&&(e.cause=n.cause),e})});var GZ=E((Yts,n1)=>{"use strict";var{configs:cur,LEVEL:pqe,MESSAGE:VZ}=Di(),r1=class e{constructor(t={levels:cur.npm.levels}){this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}static getLongestLevel(t){let r=Object.keys(t).map(n=>n.length);return Math.max(...r)}static paddingForLevel(t,r,n){let s=n+1-t.length,i=Math.floor(s/r.length);return`${r}${r.repeat(i)}`.slice(0,s)}static paddingForLevels(t,r=" "){let n=e.getLongestLevel(t);return Object.keys(t).reduce((s,i)=>(s[i]=e.paddingForLevel(i,r,n),s),{})}transform(t,r){return t.message=`${this.paddings[t[pqe]]}${t.message}`,t[VZ]&&(t[VZ]=`${this.paddings[t[pqe]]}${t[VZ]}`),t}};n1.exports=e=>new r1(e);n1.exports.Padder=n1.exports.Format=r1});var gqe=E((Zts,WZ)=>{"use strict";var{Colorizer:lur}=t1(),{Padder:dur}=GZ(),{configs:uur,MESSAGE:mur}=Di(),s1=class{constructor(t={}){t.levels||(t.levels=uur.cli.levels),this.colorizer=new lur(t),this.padder=new dur(t),this.options=t}transform(t,r){return this.colorizer.transform(this.padder.transform(t,r),r),t[mur]=`${t.level}:${t.message}`,t}};WZ.exports=e=>new s1(e);WZ.exports.Format=s1});var yqe=E((ers,KZ)=>{"use strict";var fur=Ac();function hqe(e){if(e.every(pur))return t=>{let r=t;for(let n=0;n<e.length;n++)if(r=e[n].transform(r,e[n].options),!r)return!1;return r}}function pur(e){if(typeof e.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}KZ.exports=(...e)=>{let t=fur(hqe(e)),r=t();return r.Format=t.Format,r};KZ.exports.cascade=hqe});var UI=E((YZ,vqe)=>{"use strict";var{hasOwnProperty:LI}=Object.prototype,Ev=QZ();Ev.configure=QZ;Ev.stringify=Ev;Ev.default=Ev;YZ.stringify=Ev;YZ.configure=QZ;vqe.exports=Ev;var gur=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function iy(e){return e.length<5e3&&!gur.test(e)?`"${e}"`:JSON.stringify(e)}function XZ(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],s=r;for(;s!==0&&e[s-1]>n;)e[s]=e[s-1],s--;e[s]=n}return e}var hur=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function JZ(e){return hur.call(e)!==void 0&&e.length!==0}function _qe(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",s=`"0":${n}${e[0]}`;for(let i=1;i<r;i++)s+=`${t}"${i}":${n}${e[i]}`;return s}function yur(e){if(LI.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function _ur(e){let t;if(LI.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function Sur(e,t){let r;if(LI.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function Sqe(e,t){let r;if(LI.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function vv(e){return e===1?"1 item":`${e} items`}function vur(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function Eur(e){if(LI.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function QZ(e){e={...e};let t=Eur(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=yur(e),n=Sur(e,"bigint"),s=_ur(e),i=typeof s=="function"?s:void 0,o=Sqe(e,"maximumDepth"),a=Sqe(e,"maximumBreadth");function c(p,g,y,b,w,A){let O=g[p];switch(typeof O=="object"&&O!==null&&typeof O.toJSON=="function"&&(O=O.toJSON(p)),O=b.call(g,p,O),typeof O){case"string":return iy(O);case"object":{if(O===null)return"null";if(y.indexOf(O)!==-1)return r;let T="",k=",",z=A;if(Array.isArray(O)){if(O.length===0)return"[]";if(o<y.length+1)return'"[Array]"';y.push(O),w!==""&&(A+=w,T+=`
${A}`,k=`,
${A}`);let kn=Math.min(O.length,a),Ba=0;for(;Ba<kn-1;Ba++){let qa=c(String(Ba),O,y,b,w,A);T+=qa!==void 0?qa:"null",T+=k}let ea=c(String(Ba),O,y,b,w,A);if(T+=ea!==void 0?ea:"null",O.length-1>a){let qa=O.length-a-1;T+=`${k}"... ${vv(qa)} not stringified"`}return w!==""&&(T+=`
${z}`),y.pop(),`[${T}]`}let oe=Object.keys(O),Q=oe.length;if(Q===0)return"{}";if(o<y.length+1)return'"[Object]"';let _e="",ye="";w!==""&&(A+=w,k=`,
${A}`,_e=" ");let Re=Math.min(Q,a);s&&!JZ(O)&&(oe=XZ(oe,i)),y.push(O);for(let kn=0;kn<Re;kn++){let Ba=oe[kn],ea=c(Ba,O,y,b,w,A);ea!==void 0&&(T+=`${ye}${iy(Ba)}:${_e}${ea}`,ye=k)}if(Q>a){let kn=Q-a;T+=`${ye}"...":${_e}"${vv(kn)} not stringified"`,ye=k}return w!==""&&ye.length>1&&(T=`
${A}${T}
${z}`),y.pop(),`{${T}}`}case"number":return isFinite(O)?String(O):t?t(O):"null";case"boolean":return O===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(O);default:return t?t(O):void 0}}function l(p,g,y,b,w,A){switch(typeof g=="object"&&g!==null&&typeof g.toJSON=="function"&&(g=g.toJSON(p)),typeof g){case"string":return iy(g);case"object":{if(g===null)return"null";if(y.indexOf(g)!==-1)return r;let O=A,T="",k=",";if(Array.isArray(g)){if(g.length===0)return"[]";if(o<y.length+1)return'"[Array]"';y.push(g),w!==""&&(A+=w,T+=`
${A}`,k=`,
${A}`);let Q=Math.min(g.length,a),_e=0;for(;_e<Q-1;_e++){let Re=l(String(_e),g[_e],y,b,w,A);T+=Re!==void 0?Re:"null",T+=k}let ye=l(String(_e),g[_e],y,b,w,A);if(T+=ye!==void 0?ye:"null",g.length-1>a){let Re=g.length-a-1;T+=`${k}"... ${vv(Re)} not stringified"`}return w!==""&&(T+=`
${O}`),y.pop(),`[${T}]`}y.push(g);let z="";w!==""&&(A+=w,k=`,
${A}`,z=" ");let oe="";for(let Q of b){let _e=l(Q,g[Q],y,b,w,A);_e!==void 0&&(T+=`${oe}${iy(Q)}:${z}${_e}`,oe=k)}return w!==""&&oe.length>1&&(T=`
${A}${T}
${O}`),y.pop(),`{${T}}`}case"number":return isFinite(g)?String(g):t?t(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return t?t(g):void 0}}function d(p,g,y,b,w){switch(typeof g){case"string":return iy(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(p),typeof g!="object")return d(p,g,y,b,w);if(g===null)return"null"}if(y.indexOf(g)!==-1)return r;let A=w;if(Array.isArray(g)){if(g.length===0)return"[]";if(o<y.length+1)return'"[Array]"';y.push(g),w+=b;let _e=`
${w}`,ye=`,
${w}`,Re=Math.min(g.length,a),kn=0;for(;kn<Re-1;kn++){let ea=d(String(kn),g[kn],y,b,w);_e+=ea!==void 0?ea:"null",_e+=ye}let Ba=d(String(kn),g[kn],y,b,w);if(_e+=Ba!==void 0?Ba:"null",g.length-1>a){let ea=g.length-a-1;_e+=`${ye}"... ${vv(ea)} not stringified"`}return _e+=`
${A}`,y.pop(),`[${_e}]`}let O=Object.keys(g),T=O.length;if(T===0)return"{}";if(o<y.length+1)return'"[Object]"';w+=b;let k=`,
${w}`,z="",oe="",Q=Math.min(T,a);JZ(g)&&(z+=_qe(g,k,a),O=O.slice(g.length),Q-=g.length,oe=k),s&&(O=XZ(O,i)),y.push(g);for(let _e=0;_e<Q;_e++){let ye=O[_e],Re=d(ye,g[ye],y,b,w);Re!==void 0&&(z+=`${oe}${iy(ye)}: ${Re}`,oe=k)}if(T>a){let _e=T-a;z+=`${oe}"...": "${vv(_e)} not stringified"`,oe=k}return oe!==""&&(z=`
${w}${z}
${A}`),y.pop(),`{${z}}`}case"number":return isFinite(g)?String(g):t?t(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return t?t(g):void 0}}function u(p,g,y){switch(typeof g){case"string":return iy(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(p),typeof g!="object")return u(p,g,y);if(g===null)return"null"}if(y.indexOf(g)!==-1)return r;let b="",w=g.length!==void 0;if(w&&Array.isArray(g)){if(g.length===0)return"[]";if(o<y.length+1)return'"[Array]"';y.push(g);let z=Math.min(g.length,a),oe=0;for(;oe<z-1;oe++){let _e=u(String(oe),g[oe],y);b+=_e!==void 0?_e:"null",b+=","}let Q=u(String(oe),g[oe],y);if(b+=Q!==void 0?Q:"null",g.length-1>a){let _e=g.length-a-1;b+=`,"... ${vv(_e)} not stringified"`}return y.pop(),`[${b}]`}let A=Object.keys(g),O=A.length;if(O===0)return"{}";if(o<y.length+1)return'"[Object]"';let T="",k=Math.min(O,a);w&&JZ(g)&&(b+=_qe(g,",",a),A=A.slice(g.length),k-=g.length,T=","),s&&(A=XZ(A,i)),y.push(g);for(let z=0;z<k;z++){let oe=A[z],Q=u(oe,g[oe],y);Q!==void 0&&(b+=`${T}${iy(oe)}:${Q}`,T=",")}if(O>a){let z=O-a;b+=`${T}"...":"${vv(z)} not stringified"`}return y.pop(),`{${b}}`}case"number":return isFinite(g)?String(g):t?t(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return t?t(g):void 0}}function m(p,g,y){if(arguments.length>1){let b="";if(typeof y=="number"?b=" ".repeat(Math.min(y,10)):typeof y=="string"&&(b=y.slice(0,10)),g!=null){if(typeof g=="function")return c("",{"":p},[],g,b,"");if(Array.isArray(g))return l("",p,[],vur(g),b,"")}if(b.length!==0)return d("",p,[],b,"")}return u("",p,[])}return m}});var ZZ=E((trs,Eqe)=>{"use strict";var Cur=Ac(),{MESSAGE:bur}=Di(),wur=UI();function Aur(e,t){return typeof t=="bigint"?t.toString():t}Eqe.exports=Cur((e,t)=>{let r=wur.configure(t);return e[bur]=r(e,t.replacer||Aur,t.space),e})});var bqe=E((rrs,Cqe)=>{"use strict";var xur=Ac();Cqe.exports=xur((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))});var Aqe=E((nrs,wqe)=>{"use strict";var Pur=Ac(),{MESSAGE:Rur}=Di(),Tur=UI();wqe.exports=Pur(e=>{let t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[Rur]=Tur(t),e})});var Pqe=E((srs,xqe)=>{"use strict";var Iur=Ac();function Our(e,t,r){let n=t.reduce((i,o)=>(i[o]=e[o],delete e[o],i),{}),s=Object.keys(e).reduce((i,o)=>(i[o]=e[o],delete e[o],i),{});return Object.assign(e,n,{[r]:s}),e}function Nur(e,t,r){return e[r]=t.reduce((n,s)=>(n[s]=e[s],delete e[s],n),{}),e}xqe.exports=Iur((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return!t.fillExcept&&!t.fillWith&&(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?Our(e,n,r):t.fillWith?Nur(e,t.fillWith,r):e})});var Tqe=E((irs,Rqe)=>{var ww=1e3,Aw=ww*60,xw=Aw*60,Cv=xw*24,Dur=Cv*7,kur=Cv*365.25;Rqe.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Mur(e);if(r==="number"&&isFinite(e))return t.long?Uur(e):Lur(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Mur(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*kur;case"weeks":case"week":case"w":return r*Dur;case"days":case"day":case"d":return r*Cv;case"hours":case"hour":case"hrs":case"hr":case"h":return r*xw;case"minutes":case"minute":case"mins":case"min":case"m":return r*Aw;case"seconds":case"second":case"secs":case"sec":case"s":return r*ww;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Lur(e){var t=Math.abs(e);return t>=Cv?Math.round(e/Cv)+"d":t>=xw?Math.round(e/xw)+"h":t>=Aw?Math.round(e/Aw)+"m":t>=ww?Math.round(e/ww)+"s":e+"ms"}function Uur(e){var t=Math.abs(e);return t>=Cv?i1(e,t,Cv,"day"):t>=xw?i1(e,t,xw,"hour"):t>=Aw?i1(e,t,Aw,"minute"):t>=ww?i1(e,t,ww,"second"):e+" ms"}function i1(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var Oqe=E((FI,Iqe)=>{"use strict";var Fur=Ac(),Bur=Tqe();Iqe.exports=Fur(e=>{let t=+new Date;return FI.diff=t-(FI.prevTime||t),FI.prevTime=t,e.ms=`+${Bur(FI.diff)}`,e})});var kqe=E((ors,Dqe)=>{"use strict";var qur=require("util").inspect,jur=Ac(),{LEVEL:$ur,MESSAGE:Nqe,SPLAT:zur}=Di();Dqe.exports=jur((e,t={})=>{let r=Object.assign({},e);return delete r[$ur],delete r[Nqe],delete r[zur],e[Nqe]=qur(r,!1,t.depth||null,t.colorize),e})});var Mqe=E((ars,a1)=>{"use strict";var{MESSAGE:Hur}=Di(),o1=class{constructor(t){this.template=t}transform(t){return t[Hur]=this.template(t),t}};a1.exports=e=>new o1(e);a1.exports.Printf=a1.exports.Format=o1});var Fqe=E((crs,Uqe)=>{"use strict";var Vur=Ac(),{MESSAGE:Lqe}=Di(),Gur=UI();Uqe.exports=Vur(e=>{let t=Gur(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return t!=="{}"?e[Lqe]=`${e.level}:${r} ${e.message} ${t}`:e[Lqe]=`${e.level}:${r} ${e.message}`,e})});var jqe=E((lrs,qqe)=>{"use strict";var Wur=require("util"),{SPLAT:Bqe}=Di(),Kur=/%[scdjifoO%]/g,Xur=/%%/g,eee=class{constructor(t){this.options=t}_splat(t,r){let n=t.message,s=t[Bqe]||t.splat||[],i=n.match(Xur),o=i&&i.length||0,c=r.length-o-s.length,l=c<0?s.splice(c,-1*c):[],d=l.length;if(d)for(let u=0;u<d;u++)Object.assign(t,l[u]);return t.message=Wur.format(n,...s),t}transform(t){let r=t.message,n=t[Bqe]||t.splat;if(!n||!n.length)return t;let s=r&&r.match&&r.match(Kur);if(!s&&(n||n.length)){let i=n.length>1?n.splice(0):n,o=i.length;if(o)for(let a=0;a<o;a++)Object.assign(t,i[a]);return t}return s?this._splat(t,s):t}};qqe.exports=e=>new eee(e)});var zqe=E((c1,$qe)=>{(function(e,t){typeof c1=="object"&&typeof $qe<"u"?t(c1):typeof define=="function"&&define.amd?define(["exports"],t):t(e.fecha={})})(c1,function(e){"use strict";var t=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",s="\\d{3}",i="\\d{4}",o="[^\\s]+",a=/\[([^]*?)\]/gm;function c(ie,Ve){for(var Jr=[],ta=0,mt=ie.length;ta<mt;ta++)Jr.push(ie[ta].substr(0,Ve));return Jr}var l=function(ie){return function(Ve,Jr){var ta=Jr[ie].map(function(bm){return bm.toLowerCase()}),mt=ta.indexOf(Ve.toLowerCase());return mt>-1?mt:null}};function d(ie){for(var Ve=[],Jr=1;Jr<arguments.length;Jr++)Ve[Jr-1]=arguments[Jr];for(var ta=0,mt=Ve;ta<mt.length;ta++){var bm=mt[ta];for(var US in bm)ie[US]=bm[US]}return ie}var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],p=c(m,3),g=c(u,3),y={dayNamesShort:g,dayNames:u,monthNamesShort:p,monthNames:m,amPm:["am","pm"],DoFn:function(ie){return ie+["th","st","nd","rd"][ie%10>3?0:(ie-ie%10!==10?1:0)*ie%10]}},b=d({},y),w=function(ie){return b=d(b,ie)},A=function(ie){return ie.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},O=function(ie,Ve){for(Ve===void 0&&(Ve=2),ie=String(ie);ie.length<Ve;)ie="0"+ie;return ie},T={D:function(ie){return String(ie.getDate())},DD:function(ie){return O(ie.getDate())},Do:function(ie,Ve){return Ve.DoFn(ie.getDate())},d:function(ie){return String(ie.getDay())},dd:function(ie){return O(ie.getDay())},ddd:function(ie,Ve){return Ve.dayNamesShort[ie.getDay()]},dddd:function(ie,Ve){return Ve.dayNames[ie.getDay()]},M:function(ie){return String(ie.getMonth()+1)},MM:function(ie){return O(ie.getMonth()+1)},MMM:function(ie,Ve){return Ve.monthNamesShort[ie.getMonth()]},MMMM:function(ie,Ve){return Ve.monthNames[ie.getMonth()]},YY:function(ie){return O(String(ie.getFullYear()),4).substr(2)},YYYY:function(ie){return O(ie.getFullYear(),4)},h:function(ie){return String(ie.getHours()%12||12)},hh:function(ie){return O(ie.getHours()%12||12)},H:function(ie){return String(ie.getHours())},HH:function(ie){return O(ie.getHours())},m:function(ie){return String(ie.getMinutes())},mm:function(ie){return O(ie.getMinutes())},s:function(ie){return String(ie.getSeconds())},ss:function(ie){return O(ie.getSeconds())},S:function(ie){return String(Math.round(ie.getMilliseconds()/100))},SS:function(ie){return O(Math.round(ie.getMilliseconds()/10),2)},SSS:function(ie){return O(ie.getMilliseconds(),3)},a:function(ie,Ve){return ie.getHours()<12?Ve.amPm[0]:Ve.amPm[1]},A:function(ie,Ve){return ie.getHours()<12?Ve.amPm[0].toUpperCase():Ve.amPm[1].toUpperCase()},ZZ:function(ie){var Ve=ie.getTimezoneOffset();return(Ve>0?"-":"+")+O(Math.floor(Math.abs(Ve)/60)*100+Math.abs(Ve)%60,4)},Z:function(ie){var Ve=ie.getTimezoneOffset();return(Ve>0?"-":"+")+O(Math.floor(Math.abs(Ve)/60),2)+":"+O(Math.abs(Ve)%60,2)}},k=function(ie){return+ie-1},z=[null,r],oe=[null,o],Q=["isPm",o,function(ie,Ve){var Jr=ie.toLowerCase();return Jr===Ve.amPm[0]?0:Jr===Ve.amPm[1]?1:null}],_e=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(ie){var Ve=(ie+"").match(/([+-]|\d\d)/gi);if(Ve){var Jr=+Ve[1]*60+parseInt(Ve[2],10);return Ve[0]==="+"?Jr:-Jr}return 0}],ye={D:["day",r],DD:["day",n],Do:["day",r+o,function(ie){return parseInt(ie,10)}],M:["month",r,k],MM:["month",n,k],YY:["year",n,function(ie){var Ve=new Date,Jr=+(""+Ve.getFullYear()).substr(0,2);return+(""+(+ie>68?Jr-1:Jr)+ie)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",i],S:["millisecond","\\d",function(ie){return+ie*100}],SS:["millisecond",n,function(ie){return+ie*10}],SSS:["millisecond",s],d:z,dd:z,ddd:oe,dddd:oe,MMM:["month",o,l("monthNamesShort")],MMMM:["month",o,l("monthNames")],a:Q,A:Q,ZZ:_e,Z:_e},Re={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},kn=function(ie){return d(Re,ie)},Ba=function(ie,Ve,Jr){if(Ve===void 0&&(Ve=Re.default),Jr===void 0&&(Jr={}),typeof ie=="number"&&(ie=new Date(ie)),Object.prototype.toString.call(ie)!=="[object Date]"||isNaN(ie.getTime()))throw new Error("Invalid Date pass to format");Ve=Re[Ve]||Ve;var ta=[];Ve=Ve.replace(a,function(bm,US){return ta.push(US),"@@@"});var mt=d(d({},b),Jr);return Ve=Ve.replace(t,function(bm){return T[bm](ie,mt)}),Ve.replace(/@@@/g,function(){return ta.shift()})};function ea(ie,Ve,Jr){if(Jr===void 0&&(Jr={}),typeof Ve!="string")throw new Error("Invalid format in fecha parse");if(Ve=Re[Ve]||Ve,ie.length>1e3)return null;var ta=new Date,mt={year:ta.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},bm=[],US=[],KR=Ve.replace(a,function(XR,Ab){return US.push(A(Ab)),"@@@"}),KU={},iCe={};KR=A(KR).replace(t,function(XR){var Ab=ye[XR],rJ=Ab[0],jWt=Ab[1],lCe=Ab[3];if(KU[rJ])throw new Error("Invalid format. "+rJ+" specified twice in format");return KU[rJ]=!0,lCe&&(iCe[lCe]=!0),bm.push(Ab),"("+jWt+")"}),Object.keys(iCe).forEach(function(XR){if(!KU[XR])throw new Error("Invalid format. "+XR+" is required in specified format")}),KR=KR.replace(/@@@/g,function(){return US.shift()});var XU=ie.match(new RegExp(KR,"i"));if(!XU)return null;for(var FWt=d(d({},b),Jr),Fu=1;Fu<XU.length;Fu++){var oCe=bm[Fu-1],BWt=oCe[0],aCe=oCe[2],cCe=aCe?aCe(XU[Fu],FWt):+XU[Fu];if(cCe==null)return null;mt[BWt]=cCe}mt.isPm===1&&mt.hour!=null&&+mt.hour!=12?mt.hour=+mt.hour+12:mt.isPm===0&&+mt.hour==12&&(mt.hour=0);var JU;if(mt.timezoneOffset==null){JU=new Date(mt.year,mt.month,mt.day,mt.hour,mt.minute,mt.second,mt.millisecond);for(var QU=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Fu=0,qWt=QU.length;Fu<qWt;Fu++)if(KU[QU[Fu][0]]&&mt[QU[Fu][0]]!==JU[QU[Fu][1]]())return null}else if(JU=new Date(Date.UTC(mt.year,mt.month,mt.day,mt.hour,mt.minute-mt.timezoneOffset,mt.second,mt.millisecond)),mt.month>11||mt.month<0||mt.day>31||mt.day<1||mt.hour>23||mt.hour<0||mt.minute>59||mt.minute<0||mt.second>59||mt.second<0)return null;return JU}var qa={format:Ba,parse:ea,defaultI18n:y,setGlobalDateI18n:w,setGlobalDateMasks:kn};e.assign=d,e.default=qa,e.format=Ba,e.parse=ea,e.defaultI18n=y,e.setGlobalDateI18n=w,e.setGlobalDateMasks=kn,Object.defineProperty(e,"__esModule",{value:!0})})});var Vqe=E((drs,Hqe)=>{"use strict";var Jur=zqe(),Qur=Ac();Hqe.exports=Qur((e,t={})=>(t.format&&(e.timestamp=typeof t.format=="function"?t.format():Jur.format(new Date,t.format)),e.timestamp||(e.timestamp=new Date().toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))});var Wqe=E((urs,Gqe)=>{"use strict";var tee=UZ(),Yur=Ac(),{MESSAGE:ree}=Di();Gqe.exports=Yur((e,t)=>(t.level!==!1&&(e.level=tee.strip(e.level)),t.message!==!1&&(e.message=tee.strip(String(e.message))),t.raw!==!1&&e[ree]&&(e[ree]=tee.strip(String(e[ree]))),e))});var see=E(nee=>{"use strict";var Zur=nee.format=Ac();nee.levels=cqe();function Uo(e,t){Object.defineProperty(Zur,e,{get(){return t()},configurable:!0})}Uo("align",function(){return dqe()});Uo("errors",function(){return fqe()});Uo("cli",function(){return gqe()});Uo("combine",function(){return yqe()});Uo("colorize",function(){return t1()});Uo("json",function(){return ZZ()});Uo("label",function(){return bqe()});Uo("logstash",function(){return Aqe()});Uo("metadata",function(){return Pqe()});Uo("ms",function(){return Oqe()});Uo("padLevels",function(){return GZ()});Uo("prettyPrint",function(){return kqe()});Uo("printf",function(){return Mqe()});Uo("simple",function(){return Fqe()});Uo("splat",function(){return jqe()});Uo("timestamp",function(){return Vqe()});Uo("uncolorize",function(){return Wqe()})});var iee=E(l1=>{"use strict";var{format:Kqe}=require("util");l1.warn={deprecated(e){return()=>{throw new Error(Kqe("{ %s } was removed in winston@3.0.0.",e))}},useFormat(e){return()=>{throw new Error([Kqe("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(e,t,r){r.forEach(n=>{e[n]=l1.warn[t](n)})},forProperties(e,t,r){r.forEach(n=>{let s=l1.warn[t](n);Object.defineProperty(e,n,{get:s,set:s})})}}});var Xqe=E((prs,emr)=>{emr.exports={name:"winston",description:"A logger for just about everything.",version:"3.17.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Qqe=E((grs,Jqe)=>{Jqe.exports=require("util").deprecate});var oee=E((hrs,Yqe)=>{Yqe.exports=require("stream")});var cee=E((yrs,eje)=>{"use strict";function tmr(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(aee,this,e)):process.nextTick(aee,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?process.nextTick(d1,r):(r._writableState.errorEmitted=!0,process.nextTick(Zqe,r,i)):process.nextTick(Zqe,r,i):t?(process.nextTick(d1,r),t(i)):process.nextTick(d1,r)}),this)}function Zqe(e,t){aee(e,t),d1(e)}function d1(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function rmr(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function aee(e,t){e.emit("error",t)}function nmr(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}eje.exports={destroy:tmr,undestroy:rmr,errorOrDestroy:nmr}});var oy=E((_rs,nje)=>{"use strict";var rje={};function ad(e,t,r){r||(r=Error);function n(i,o,a){return typeof t=="string"?t:t(i,o,a)}class s extends r{constructor(o,a,c){super(n(o,a,c))}}s.prototype.name=r.name,s.prototype.code=e,rje[e]=s}function tje(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function smr(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function imr(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function omr(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}ad("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);ad("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&smr(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let s;if(imr(e," argument"))s=`The ${e} ${n} ${tje(t,"type")}`;else{let i=omr(e,".")?"property":"argument";s=`The "${e}" ${i} ${n} ${tje(t,"type")}`}return s+=`. Received type ${typeof r}`,s},TypeError);ad("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ad("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});ad("ERR_STREAM_PREMATURE_CLOSE","Premature close");ad("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});ad("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ad("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ad("ERR_STREAM_WRITE_AFTER_END","write after end");ad("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ad("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);ad("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");nje.exports.codes=rje});var lee=E((Srs,sje)=>{"use strict";var amr=oy().codes.ERR_INVALID_OPT_VALUE;function cmr(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function lmr(e,t,r,n){var s=cmr(t,n,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var i=n?r:"highWaterMark";throw new amr(i,s)}return Math.floor(s)}return e.objectMode?16:16*1024}sje.exports={getHighWaterMark:lmr}});var ije=E((vrs,dee)=>{typeof Object.create=="function"?dee.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:dee.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Pw=E((Ers,mee)=>{try{if(uee=require("util"),typeof uee.inherits!="function")throw"";mee.exports=uee.inherits}catch{mee.exports=ije()}var uee});var uje=E((Crs,dje)=>{"use strict";function oje(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oje(Object(r),!0).forEach(function(n){dmr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oje(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dmr(e,t,r){return t=lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function umr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lje(n.key),n)}}function mmr(e,t,r){return t&&cje(e.prototype,t),r&&cje(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lje(e){var t=fmr(e,"string");return typeof t=="symbol"?t:String(t)}function fmr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pmr=require("buffer"),u1=pmr.Buffer,gmr=require("util"),fee=gmr.inspect,hmr=fee&&fee.custom||"inspect";function ymr(e,t,r){u1.prototype.copy.call(e,t,r)}dje.exports=function(){function e(){umr(this,e),this.head=null,this.tail=null,this.length=0}return mmr(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,s=""+n.data;n=n.next;)s+=r+n.data;return s}},{key:"concat",value:function(r){if(this.length===0)return u1.alloc(0);for(var n=u1.allocUnsafe(r>>>0),s=this.head,i=0;s;)ymr(s.data,n,i),i+=s.data.length,s=s.next;return n}},{key:"consume",value:function(r,n){var s;return r<this.head.data.length?(s=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?s=this.shift():s=n?this._getString(r):this._getBuffer(r),s}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,s=1,i=n.data;for(r-=i.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?i+=o:i+=o.slice(0,r),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:"_getBuffer",value:function(r){var n=u1.allocUnsafe(r),s=this.head,i=1;for(s.data.copy(n),r-=s.data.length;s=s.next;){var o=s.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++i,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=o.slice(a));break}++i}return this.length-=i,n}},{key:hmr,value:function(r,n){return fee(this,aje(aje({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var pje=E((pee,fje)=>{var m1=require("buffer"),zm=m1.Buffer;function mje(e,t){for(var r in e)t[r]=e[r]}zm.from&&zm.alloc&&zm.allocUnsafe&&zm.allocUnsafeSlow?fje.exports=m1:(mje(m1,pee),pee.Buffer=bv);function bv(e,t,r){return zm(e,t,r)}bv.prototype=Object.create(zm.prototype);mje(zm,bv);bv.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return zm(e,t,r)};bv.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=zm(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};bv.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return zm(e)};bv.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return m1.SlowBuffer(e)}});var yee=E(hje=>{"use strict";var hee=pje().Buffer,gje=hee.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _mr(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Smr(e){var t=_mr(e);if(typeof t!="string"&&(hee.isEncoding===gje||!gje(e)))throw new Error("Unknown encoding: "+e);return t||e}hje.StringDecoder=BI;function BI(e){this.encoding=Smr(e);var t;switch(this.encoding){case"utf16le":this.text=Amr,this.end=xmr,t=4;break;case"utf8":this.fillLast=Cmr,t=4;break;case"base64":this.text=Pmr,this.end=Rmr,t=3;break;default:this.write=Tmr,this.end=Imr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=hee.allocUnsafe(t)}BI.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};BI.prototype.end=wmr;BI.prototype.text=bmr;BI.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function gee(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function vmr(e,t,r){var n=t.length-1;if(n<r)return 0;var s=gee(t[n]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--n<r||s===-2?0:(s=gee(t[n]),s>=0?(s>0&&(e.lastNeed=s-2),s):--n<r||s===-2?0:(s=gee(t[n]),s>=0?(s>0&&(s===2?s=0:e.lastNeed=s-3),s):0))}function Emr(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Cmr(e){var t=this.lastTotal-this.lastNeed,r=Emr(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function bmr(e,t){var r=vmr(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function wmr(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Amr(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function xmr(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Pmr(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Rmr(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Tmr(e){return e.toString(this.encoding)}function Imr(e){return e&&e.length?this.write(e):""}});var f1=E((wrs,Sje)=>{"use strict";var yje=oy().codes.ERR_STREAM_PREMATURE_CLOSE;function Omr(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];e.apply(this,n)}}}function Nmr(){}function Dmr(e){return e.setHeader&&typeof e.abort=="function"}function _je(e,t,r){if(typeof t=="function")return _je(e,null,t);t||(t={}),r=Omr(r||Nmr);var n=t.readable||t.readable!==!1&&e.readable,s=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||a()},o=e._writableState&&e._writableState.finished,a=function(){s=!1,o=!0,n||r.call(e)},c=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,c=!0,s||r.call(e)},d=function(g){r.call(e,g)},u=function(){var g;if(n&&!c)return(!e._readableState||!e._readableState.ended)&&(g=new yje),r.call(e,g);if(s&&!o)return(!e._writableState||!e._writableState.ended)&&(g=new yje),r.call(e,g)},m=function(){e.req.on("finish",a)};return Dmr(e)?(e.on("complete",a),e.on("abort",u),e.req?m():e.on("request",m)):s&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",l),e.on("finish",a),t.error!==!1&&e.on("error",d),e.on("close",u),function(){e.removeListener("complete",a),e.removeListener("abort",u),e.removeListener("request",m),e.req&&e.req.removeListener("finish",a),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",d),e.removeListener("close",u)}}Sje.exports=_je});var Eje=E((Ars,vje)=>{"use strict";var p1;function ay(e,t,r){return t=kmr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kmr(e){var t=Mmr(e,"string");return typeof t=="symbol"?t:String(t)}function Mmr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lmr=f1(),cy=Symbol("lastResolve"),wv=Symbol("lastReject"),qI=Symbol("error"),g1=Symbol("ended"),Av=Symbol("lastPromise"),_ee=Symbol("handlePromise"),xv=Symbol("stream");function ly(e,t){return{value:e,done:t}}function Umr(e){var t=e[cy];if(t!==null){var r=e[xv].read();r!==null&&(e[Av]=null,e[cy]=null,e[wv]=null,t(ly(r,!1)))}}function Fmr(e){process.nextTick(Umr,e)}function Bmr(e,t){return function(r,n){e.then(function(){if(t[g1]){r(ly(void 0,!0));return}t[_ee](r,n)},n)}}var qmr=Object.getPrototypeOf(function(){}),jmr=Object.setPrototypeOf((p1={get stream(){return this[xv]},next:function(){var t=this,r=this[qI];if(r!==null)return Promise.reject(r);if(this[g1])return Promise.resolve(ly(void 0,!0));if(this[xv].destroyed)return new Promise(function(o,a){process.nextTick(function(){t[qI]?a(t[qI]):o(ly(void 0,!0))})});var n=this[Av],s;if(n)s=new Promise(Bmr(n,this));else{var i=this[xv].read();if(i!==null)return Promise.resolve(ly(i,!1));s=new Promise(this[_ee])}return this[Av]=s,s}},ay(p1,Symbol.asyncIterator,function(){return this}),ay(p1,"return",function(){var t=this;return new Promise(function(r,n){t[xv].destroy(null,function(s){if(s){n(s);return}r(ly(void 0,!0))})})}),p1),qmr),$mr=function(t){var r,n=Object.create(jmr,(r={},ay(r,xv,{value:t,writable:!0}),ay(r,cy,{value:null,writable:!0}),ay(r,wv,{value:null,writable:!0}),ay(r,qI,{value:null,writable:!0}),ay(r,g1,{value:t._readableState.endEmitted,writable:!0}),ay(r,_ee,{value:function(i,o){var a=n[xv].read();a?(n[Av]=null,n[cy]=null,n[wv]=null,i(ly(a,!1))):(n[cy]=i,n[wv]=o)},writable:!0}),r));return n[Av]=null,Lmr(t,function(s){if(s&&s.code!=="ERR_STREAM_PREMATURE_CLOSE"){var i=n[wv];i!==null&&(n[Av]=null,n[cy]=null,n[wv]=null,i(s)),n[qI]=s;return}var o=n[cy];o!==null&&(n[Av]=null,n[cy]=null,n[wv]=null,o(ly(void 0,!0))),n[g1]=!0}),t.on("readable",Fmr.bind(null,n)),n};vje.exports=$mr});var Aje=E((xrs,wje)=>{"use strict";function Cje(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(l){r(l);return}a.done?t(c):Promise.resolve(c).then(n,s)}function zmr(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(c){Cje(i,n,s,o,a,"next",c)}function a(c){Cje(i,n,s,o,a,"throw",c)}o(void 0)})}}function bje(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hmr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bje(Object(r),!0).forEach(function(n){Vmr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bje(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vmr(e,t,r){return t=Gmr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gmr(e){var t=Wmr(e,"string");return typeof t=="symbol"?t:String(t)}function Wmr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kmr=oy().codes.ERR_INVALID_ARG_TYPE;function Xmr(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new Kmr("iterable",["Iterable"],t);var s=new e(Hmr({objectMode:!0},r)),i=!1;s._read=function(){i||(i=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=zmr(function*(){try{var c=yield n.next(),l=c.value,d=c.done;d?s.push(null):s.push(yield l)?o():i=!1}catch(u){s.destroy(u)}}),a.apply(this,arguments)}return s}wje.exports=Xmr});var Ree=E((Rrs,Mje)=>{"use strict";Mje.exports=Rr;var Rw;Rr.ReadableState=Tje;var Prs=require("events").EventEmitter,Rje=function(t,r){return t.listeners(r).length},$I=oee(),h1=require("buffer").Buffer,Jmr=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Qmr(e){return h1.from(e)}function Ymr(e){return h1.isBuffer(e)||e instanceof Jmr}var See=require("util"),or;See&&See.debuglog?or=See.debuglog("stream"):or=function(){};var Zmr=uje(),xee=cee(),efr=lee(),tfr=efr.getHighWaterMark,y1=oy().codes,rfr=y1.ERR_INVALID_ARG_TYPE,nfr=y1.ERR_STREAM_PUSH_AFTER_EOF,sfr=y1.ERR_METHOD_NOT_IMPLEMENTED,ifr=y1.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Tw,vee,Eee;Pw()(Rr,$I);var jI=xee.errorOrDestroy,Cee=["error","close","destroy","pause","resume"];function ofr(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Tje(e,t,r){Rw=Rw||Pv(),e=e||{},typeof r!="boolean"&&(r=t instanceof Rw),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=tfr(this,e,"readableHighWaterMark",r),this.buffer=new Zmr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Tw||(Tw=yee().StringDecoder),this.decoder=new Tw(e.encoding),this.encoding=e.encoding)}function Rr(e){if(Rw=Rw||Pv(),!(this instanceof Rr))return new Rr(e);var t=this instanceof Rw;this._readableState=new Tje(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),$I.call(this)}Object.defineProperty(Rr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Rr.prototype.destroy=xee.destroy;Rr.prototype._undestroy=xee.undestroy;Rr.prototype._destroy=function(e,t){t(e)};Rr.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=h1.from(e,t),t=""),n=!0),Ije(this,e,t,!1,n)};Rr.prototype.unshift=function(e){return Ije(this,e,null,!0,!1)};function Ije(e,t,r,n,s){or("readableAddChunk",t);var i=e._readableState;if(t===null)i.reading=!1,lfr(e,i);else{var o;if(s||(o=afr(i,t)),o)jI(e,o);else if(i.objectMode||t&&t.length>0)if(typeof t!="string"&&!i.objectMode&&Object.getPrototypeOf(t)!==h1.prototype&&(t=Qmr(t)),n)i.endEmitted?jI(e,new ifr):bee(e,i,t,!0);else if(i.ended)jI(e,new nfr);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?bee(e,i,t,!1):Aee(e,i)):bee(e,i,t,!1)}else n||(i.reading=!1,Aee(e,i))}return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function bee(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_1(e)),Aee(e,t)}function afr(e,t){var r;return!Ymr(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new rfr("chunk",["string","Buffer","Uint8Array"],t)),r}Rr.prototype.isPaused=function(){return this._readableState.flowing===!1};Rr.prototype.setEncoding=function(e){Tw||(Tw=yee().StringDecoder);var t=new Tw(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var xje=1073741824;function cfr(e){return e>=xje?e=xje:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Pje(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=cfr(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Rr.prototype.read=function(e){or("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return or("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?wee(this):_1(this),null;if(e=Pje(e,t),e===0&&t.ended)return t.length===0&&wee(this),null;var n=t.needReadable;or("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,or("length less than watermark",n)),t.ended||t.reading?(n=!1,or("reading or ended",n)):n&&(or("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Pje(r,t)));var s;return e>0?s=Dje(e,t):s=null,s===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&wee(this)),s!==null&&this.emit("data",s),s};function lfr(e,t){if(or("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?_1(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Oje(e)))}}function _1(e){var t=e._readableState;or("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(or("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Oje,e))}function Oje(e){var t=e._readableState;or("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Pee(e)}function Aee(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(dfr,e,t))}function dfr(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(or("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}Rr.prototype._read=function(e){jI(this,new sfr("_read()"))};Rr.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,or("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,i=s?a:y;n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);function o(b,w){or("onunpipe"),b===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,d())}function a(){or("onend"),e.end()}var c=ufr(r);e.on("drain",c);var l=!1;function d(){or("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",m),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",u),l=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}r.on("data",u);function u(b){or("ondata");var w=e.write(b);or("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&kje(n.pipes,e)!==-1)&&!l&&(or("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(b){or("onerror",b),y(),e.removeListener("error",m),Rje(e,"error")===0&&jI(e,b)}ofr(e,"error",m);function p(){e.removeListener("finish",g),y()}e.once("close",p);function g(){or("onfinish"),e.removeListener("close",p),y()}e.once("finish",g);function y(){or("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(or("pipe resume"),r.resume()),e};function ufr(e){return function(){var r=e._readableState;or("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Rje(e,"data")&&(r.flowing=!0,Pee(e))}}Rr.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<s;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var o=kje(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Rr.prototype.on=function(e,t){var r=$I.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,or("on readable",n.length,n.reading),n.length?_1(this):n.reading||process.nextTick(mfr,this)),r};Rr.prototype.addListener=Rr.prototype.on;Rr.prototype.removeListener=function(e,t){var r=$I.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Nje,this),r};Rr.prototype.removeAllListeners=function(e){var t=$I.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Nje,this),t};function Nje(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function mfr(e){or("readable nexttick read 0"),e.read(0)}Rr.prototype.resume=function(){var e=this._readableState;return e.flowing||(or("resume"),e.flowing=!e.readableListening,ffr(this,e)),e.paused=!1,this};function ffr(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(pfr,e,t))}function pfr(e,t){or("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Pee(e),t.flowing&&!t.reading&&e.read(0)}Rr.prototype.pause=function(){return or("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(or("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Pee(e){var t=e._readableState;for(or("flow",t.flowing);t.flowing&&e.read()!==null;);}Rr.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(or("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(or("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=t.push(o);a||(n=!0,e.pause())}});for(var s in e)this[s]===void 0&&typeof e[s]=="function"&&(this[s]=function(a){return function(){return e[a].apply(e,arguments)}}(s));for(var i=0;i<Cee.length;i++)e.on(Cee[i],this.emit.bind(this,Cee[i]));return this._read=function(o){or("wrapped _read",o),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(Rr.prototype[Symbol.asyncIterator]=function(){return vee===void 0&&(vee=Eje()),vee(this)});Object.defineProperty(Rr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Rr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Rr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});Rr._fromList=Dje;Object.defineProperty(Rr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Dje(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function wee(e){var t=e._readableState;or("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(gfr,t,e))}function gfr(e,t){if(or("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(Rr.from=function(e,t){return Eee===void 0&&(Eee=Aje()),Eee(Rr,e,t)});function kje(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Pv=E((Trs,Uje)=>{"use strict";var hfr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Uje.exports=Hm;var Lje=Ree(),Iee=E1();Pw()(Hm,Lje);for(Tee=hfr(Iee.prototype),S1=0;S1<Tee.length;S1++)v1=Tee[S1],Hm.prototype[v1]||(Hm.prototype[v1]=Iee.prototype[v1]);var Tee,v1,S1;function Hm(e){if(!(this instanceof Hm))return new Hm(e);Lje.call(this,e),Iee.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",yfr)))}Object.defineProperty(Hm.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Hm.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Hm.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function yfr(){this._writableState.ended||process.nextTick(_fr,this)}function _fr(e){e.end()}Object.defineProperty(Hm.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var E1=E((Irs,zje)=>{"use strict";zje.exports=si;function Bje(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Vfr(t,e)}}var Iw;si.WritableState=HI;var Sfr={deprecate:Qqe()},qje=oee(),b1=require("buffer").Buffer,vfr=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Efr(e){return b1.from(e)}function Cfr(e){return b1.isBuffer(e)||e instanceof vfr}var Nee=cee(),bfr=lee(),wfr=bfr.getHighWaterMark,dy=oy().codes,Afr=dy.ERR_INVALID_ARG_TYPE,xfr=dy.ERR_METHOD_NOT_IMPLEMENTED,Pfr=dy.ERR_MULTIPLE_CALLBACK,Rfr=dy.ERR_STREAM_CANNOT_PIPE,Tfr=dy.ERR_STREAM_DESTROYED,Ifr=dy.ERR_STREAM_NULL_VALUES,Ofr=dy.ERR_STREAM_WRITE_AFTER_END,Nfr=dy.ERR_UNKNOWN_ENCODING,Ow=Nee.errorOrDestroy;Pw()(si,qje);function Dfr(){}function HI(e,t,r){Iw=Iw||Pv(),e=e||{},typeof r!="boolean"&&(r=t instanceof Iw),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=wfr(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){qfr(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Bje(this)}HI.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(HI.prototype,"buffer",{get:Sfr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var C1;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C1=Function.prototype[Symbol.hasInstance],Object.defineProperty(si,Symbol.hasInstance,{value:function(t){return C1.call(this,t)?!0:this!==si?!1:t&&t._writableState instanceof HI}})):C1=function(t){return t instanceof this};function si(e){Iw=Iw||Pv();var t=this instanceof Iw;if(!t&&!C1.call(si,this))return new si(e);this._writableState=new HI(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),qje.call(this)}si.prototype.pipe=function(){Ow(this,new Rfr)};function kfr(e,t){var r=new Ofr;Ow(e,r),process.nextTick(t,r)}function Mfr(e,t,r,n){var s;return r===null?s=new Ifr:typeof r!="string"&&!t.objectMode&&(s=new Afr("chunk",["string","Buffer"],r)),s?(Ow(e,s),process.nextTick(n,s),!1):!0}si.prototype.write=function(e,t,r){var n=this._writableState,s=!1,i=!n.objectMode&&Cfr(e);return i&&!b1.isBuffer(e)&&(e=Efr(e)),typeof t=="function"&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Dfr),n.ending?kfr(this,r):(i||Mfr(this,n,e,r))&&(n.pendingcb++,s=Ufr(this,n,i,e,t,r)),s};si.prototype.cork=function(){this._writableState.corked++};si.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&jje(this,e))};si.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Nfr(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(si.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Lfr(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=b1.from(t,r)),t}Object.defineProperty(si.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ufr(e,t,r,n,s,i){if(!r){var o=Lfr(t,n,s);n!==o&&(r=!0,s="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:s,isBuf:r,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Oee(e,t,!1,a,n,s,i);return c}function Oee(e,t,r,n,s,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Tfr("write")):r?e._writev(s,t.onwrite):e._write(s,i,t.onwrite),t.sync=!1}function Ffr(e,t,r,n,s){--t.pendingcb,r?(process.nextTick(s,n),process.nextTick(zI,e,t),e._writableState.errorEmitted=!0,Ow(e,n)):(s(n),e._writableState.errorEmitted=!0,Ow(e,n),zI(e,t))}function Bfr(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function qfr(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if(typeof s!="function")throw new Pfr;if(Bfr(r),t)Ffr(e,r,n,t,s);else{var i=$je(r)||e.destroyed;!i&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&jje(e,r),n?process.nextTick(Fje,e,r,i,s):Fje(e,r,i,s)}}function Fje(e,t,r,n){r||jfr(e,t),t.pendingcb--,n(),zI(e,t)}function jfr(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function jje(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var o=0,a=!0;r;)s[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;s.allBuffers=a,Oee(e,t,!0,t.length,s,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new Bje(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback,u=t.objectMode?1:c.length;if(Oee(e,t,!1,u,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}si.prototype._write=function(e,t,r){r(new xfr("_write()"))};si.prototype._writev=null;si.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Hfr(this,n,r),this};Object.defineProperty(si.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $je(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function $fr(e,t){e._final(function(r){t.pendingcb--,r&&Ow(e,r),t.prefinished=!0,e.emit("prefinish"),zI(e,t)})}function zfr(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick($fr,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function zI(e,t){var r=$je(t);if(r&&(zfr(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function Hfr(e,t,r){t.ending=!0,zI(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Vfr(e,t,r){var n=e.entry;for(e.entry=null;n;){var s=n.callback;t.pendingcb--,s(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(si.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});si.prototype.destroy=Nee.destroy;si.prototype._undestroy=Nee.undestroy;si.prototype._destroy=function(e,t){t(e)}});var Dee=E((Ors,Gje)=>{"use strict";var Gfr=require("util"),Hje=E1(),{LEVEL:Vje}=Di(),VI=Gje.exports=function(t={}){Hje.call(this,{objectMode:!0,highWaterMark:t.highWaterMark}),this.format=t.format,this.level=t.level,this.handleExceptions=t.handleExceptions,this.handleRejections=t.handleRejections,this.silent=t.silent,t.log&&(this.log=t.log),t.logv&&(this.logv=t.logv),t.close&&(this.close=t.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};Gfr.inherits(VI,Hje);VI.prototype._write=function(t,r,n){if(this.silent||t.exception===!0&&!this.handleExceptions)return n(null);let s=this.level||this.parent&&this.parent.level;if(!s||this.levels[s]>=this.levels[t[Vje]]){if(t&&!this.format)return this.log(t,n);let i,o;try{o=this.format.transform(Object.assign({},t),this.format.options)}catch(a){i=a}if(i||!o){if(n(),i)throw i;return}return this.log(o,n)}return this._writableState.sync=!1,n(null)};VI.prototype._writev=function(t,r){if(this.logv){let n=t.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<t.length;n++){if(!this._accept(t[n]))continue;if(t[n].chunk&&!this.format){this.log(t[n].chunk,t[n].callback);continue}let s,i;try{i=this.format.transform(Object.assign({},t[n].chunk),this.format.options)}catch(o){s=o}if(s||!i){if(t[n].callback(),s)throw r(null),s}else this.log(i,t[n].callback)}return r(null)};VI.prototype._accept=function(t){let r=t.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[Vje]])&&(this.handleExceptions||r.exception!==!0))};VI.prototype._nop=function(){}});var Mee=E((Nrs,Kje)=>{"use strict";var Wfr=require("util"),{LEVEL:kee}=Di(),Wje=Dee(),GI=Kje.exports=function(t={}){if(Wje.call(this,t),!t.transport||typeof t.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=t.transport,this.level=this.level||t.transport.level,this.handleExceptions=this.handleExceptions||t.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};Wfr.inherits(GI,Wje);GI.prototype._write=function(t,r,n){if(this.silent||t.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[t[kee]])&&this.transport.log(t[kee],t.message,t,this._nop),n(null)};GI.prototype._writev=function(t,r){for(let n=0;n<t.length;n++)this._accept(t[n])&&(this.transport.log(t[n].chunk[kee],t[n].chunk.message,t[n].chunk,this._nop),t[n].callback());return r(null)};GI.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};GI.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var Nw=E((Drs,Lee)=>{"use strict";Lee.exports=Dee();Lee.exports.LegacyTransportStream=Mee()});var Qje=E((Mrs,Jje)=>{"use strict";var Kfr=require("os"),{LEVEL:Xje,MESSAGE:Dw}=Di(),Xfr=Nw();Jje.exports=class extends Xfr{constructor(t={}){super(t),this.name=t.name||"console",this.stderrLevels=this._stringArrayToSet(t.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(t.consoleWarnLevels),this.eol=typeof t.eol=="string"?t.eol:Kfr.EOL,this.forceConsole=t.forceConsole||!1,this._consoleLog=console.log.bind(console),this._consoleWarn=console.warn.bind(console),this._consoleError=console.error.bind(console),this.setMaxListeners(30)}log(t,r){if(setImmediate(()=>this.emit("logged",t)),this.stderrLevels[t[Xje]]){console._stderr&&!this.forceConsole?console._stderr.write(`${t[Dw]}${this.eol}`):this._consoleError(t[Dw]),r&&r();return}else if(this.consoleWarnLevels[t[Xje]]){console._stderr&&!this.forceConsole?console._stderr.write(`${t[Dw]}${this.eol}`):this._consoleWarn(t[Dw]),r&&r();return}console._stdout&&!this.forceConsole?console._stdout.write(`${t[Dw]}${this.eol}`):this._consoleLog(t[Dw]),r&&r()}_stringArrayToSet(t,r){if(!t)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(t))throw new Error(r);return t.reduce((n,s)=>{if(typeof s!="string")throw new Error(r);return n[s]=!0,n},{})}}});var A1=E((w1,Yje)=>{"use strict";Object.defineProperty(w1,"__esModule",{value:!0});w1.default=Jfr;function Jfr(e){return e&&typeof e.length=="number"&&e.length>=0&&e.length%1===0}Yje.exports=w1.default});var e1e=E((x1,Zje)=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}};Zje.exports=x1.default});var n1e=E(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.fallback=t1e;uy.wrap=r1e;var Qfr=uy.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,Yfr=uy.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Zfr=uy.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function t1e(e){setTimeout(e,0)}function r1e(e){return(t,...r)=>e(()=>t(...r))}var WI;Qfr?WI=queueMicrotask:Yfr?WI=setImmediate:Zfr?WI=process.nextTick:WI=t1e;uy.default=r1e(WI)});var c1e=E((P1,a1e)=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});P1.default=ipr;var epr=e1e(),tpr=o1e(epr),rpr=n1e(),npr=o1e(rpr),spr=Rv();function o1e(e){return e&&e.__esModule?e:{default:e}}function ipr(e){return(0,spr.isAsync)(e)?function(...t){let r=t.pop(),n=e.apply(this,t);return s1e(n,r)}:(0,tpr.default)(function(t,r){var n;try{n=e.apply(this,t)}catch(s){return r(s)}if(n&&typeof n.then=="function")return s1e(n,r);r(null,n)})}function s1e(e,t){return e.then(r=>{i1e(t,null,r)},r=>{i1e(t,r&&(r instanceof Error||r.message)?r:new Error(r))})}function i1e(e,t,r){try{e(t,r)}catch(n){(0,npr.default)(s=>{throw s},n)}}a1e.exports=P1.default});var Rv=E(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.isAsyncIterable=Dp.isAsyncGenerator=Dp.isAsync=void 0;var opr=c1e(),apr=cpr(opr);function cpr(e){return e&&e.__esModule?e:{default:e}}function l1e(e){return e[Symbol.toStringTag]==="AsyncFunction"}function lpr(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function dpr(e){return typeof e[Symbol.asyncIterator]=="function"}function upr(e){if(typeof e!="function")throw new Error("expected a function");return l1e(e)?(0,apr.default)(e):e}Dp.default=upr;Dp.isAsync=l1e;Dp.isAsyncGenerator=lpr;Dp.isAsyncIterable=dpr});var kw=E((R1,d1e)=>{"use strict";Object.defineProperty(R1,"__esModule",{value:!0});R1.default=mpr;function mpr(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");function r(...n){return typeof n[t-1]=="function"?e.apply(this,n):new Promise((s,i)=>{n[t-1]=(o,...a)=>{if(o)return i(o);s(a.length>1?a:a[0])},e.apply(this,n)})}return r}d1e.exports=R1.default});var m1e=E((T1,u1e)=>{"use strict";Object.defineProperty(T1,"__esModule",{value:!0});var fpr=A1(),ppr=Uee(fpr),gpr=Rv(),hpr=Uee(gpr),ypr=kw(),_pr=Uee(ypr);function Uee(e){return e&&e.__esModule?e:{default:e}}T1.default=(0,_pr.default)((e,t,r)=>{var n=(0,ppr.default)(t)?[]:{};e(t,(s,i,o)=>{(0,hpr.default)(s)((a,...c)=>{c.length<2&&([c]=c),n[i]=c,o(a)})},s=>r(s,n))},3);u1e.exports=T1.default});var Fee=E((I1,f1e)=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.default=Spr;function Spr(e){function t(...r){if(e!==null){var n=e;e=null,n.apply(this,r)}}return Object.assign(t,e),t}f1e.exports=I1.default});var g1e=E((O1,p1e)=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});O1.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()};p1e.exports=O1.default});var _1e=E((N1,y1e)=>{"use strict";Object.defineProperty(N1,"__esModule",{value:!0});N1.default=Ppr;var vpr=A1(),Epr=h1e(vpr),Cpr=g1e(),bpr=h1e(Cpr);function h1e(e){return e&&e.__esModule?e:{default:e}}function wpr(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function Apr(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function xpr(e){var t=e?Object.keys(e):[],r=-1,n=t.length;return function s(){var i=t[++r];return i==="__proto__"?s():r<n?{value:e[i],key:i}:null}}function Ppr(e){if((0,Epr.default)(e))return wpr(e);var t=(0,bpr.default)(e);return t?Apr(t):xpr(e)}y1e.exports=N1.default});var Bee=E((D1,S1e)=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.default=Rpr;function Rpr(e){return function(...t){if(e===null)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}S1e.exports=D1.default});var M1=E((k1,v1e)=>{"use strict";Object.defineProperty(k1,"__esModule",{value:!0});var Tpr={};k1.default=Tpr;v1e.exports=k1.default});var C1e=E((L1,E1e)=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.default=Dpr;var Ipr=M1(),Opr=Npr(Ipr);function Npr(e){return e&&e.__esModule?e:{default:e}}function Dpr(e,t,r,n){let s=!1,i=!1,o=!1,a=0,c=0;function l(){a>=t||o||s||(o=!0,e.next().then(({value:m,done:p})=>{if(!(i||s)){if(o=!1,p){s=!0,a<=0&&n(null);return}a++,r(m,c,d),c++,l()}}).catch(u))}function d(m,p){if(a-=1,!i){if(m)return u(m);if(m===!1){s=!0,i=!0;return}if(p===Opr.default||s&&a<=0)return s=!0,n(null);l()}}function u(m){i||(o=!1,s=!0,n(m))}l()}E1e.exports=L1.default});var x1e=E((U1,A1e)=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});var kpr=Fee(),Mpr=KI(kpr),Lpr=_1e(),Upr=KI(Lpr),Fpr=Bee(),Bpr=KI(Fpr),b1e=Rv(),qpr=C1e(),w1e=KI(qpr),jpr=M1(),$pr=KI(jpr);function KI(e){return e&&e.__esModule?e:{default:e}}U1.default=e=>(t,r,n)=>{if(n=(0,Mpr.default)(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if((0,b1e.isAsyncGenerator)(t))return(0,w1e.default)(t,e,r,n);if((0,b1e.isAsyncIterable)(t))return(0,w1e.default)(t[Symbol.asyncIterator](),e,r,n);var s=(0,Upr.default)(t),i=!1,o=!1,a=0,c=!1;function l(u,m){if(!o)if(a-=1,u)i=!0,n(u);else if(u===!1)i=!0,o=!0;else{if(m===$pr.default||i&&a<=0)return i=!0,n(null);c||d()}}function d(){for(c=!0;a<e&&!i;){var u=s();if(u===null){i=!0,a<=0&&n(null);return}a+=1,r(u.value,u.key,(0,Bpr.default)(l))}c=!1}d()};A1e.exports=U1.default});var jee=E((F1,P1e)=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});var zpr=x1e(),Hpr=qee(zpr),Vpr=Rv(),Gpr=qee(Vpr),Wpr=kw(),Kpr=qee(Wpr);function qee(e){return e&&e.__esModule?e:{default:e}}function Xpr(e,t,r,n){return(0,Hpr.default)(t)(e,(0,Gpr.default)(r),n)}F1.default=(0,Kpr.default)(Xpr,4);P1e.exports=F1.default});var I1e=E((B1,T1e)=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});var Jpr=jee(),Qpr=R1e(Jpr),Ypr=kw(),Zpr=R1e(Ypr);function R1e(e){return e&&e.__esModule?e:{default:e}}function egr(e,t,r){return(0,Qpr.default)(e,1,t,r)}B1.default=(0,Zpr.default)(egr,3);T1e.exports=B1.default});var D1e=E((q1,N1e)=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.default=igr;var tgr=m1e(),rgr=O1e(tgr),ngr=I1e(),sgr=O1e(ngr);function O1e(e){return e&&e.__esModule?e:{default:e}}function igr(e,t){return(0,rgr.default)(sgr.default,e,t)}N1e.exports=q1.default});var $ee=E((Frs,M1e)=>{"use strict";M1e.exports=kp;var j1=oy().codes,ogr=j1.ERR_METHOD_NOT_IMPLEMENTED,agr=j1.ERR_MULTIPLE_CALLBACK,cgr=j1.ERR_TRANSFORM_ALREADY_TRANSFORMING,lgr=j1.ERR_TRANSFORM_WITH_LENGTH_0,$1=Pv();Pw()(kp,$1);function dgr(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new agr);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function kp(e){if(!(this instanceof kp))return new kp(e);$1.call(this,e),this._transformState={afterTransform:dgr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ugr)}function ugr(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){k1e(e,t,r)}):k1e(this,null,null)}kp.prototype.push=function(e,t){return this._transformState.needTransform=!1,$1.prototype.push.call(this,e,t)};kp.prototype._transform=function(e,t,r){r(new ogr("_transform()"))};kp.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};kp.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};kp.prototype._destroy=function(e,t){$1.prototype._destroy.call(this,e,function(r){t(r)})};function k1e(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new lgr;if(e._transformState.transforming)throw new cgr;return e.push(null)}});var F1e=E((Brs,U1e)=>{"use strict";U1e.exports=XI;var L1e=$ee();Pw()(XI,L1e);function XI(e){if(!(this instanceof XI))return new XI(e);L1e.call(this,e)}XI.prototype._transform=function(e,t,r){r(null,e)}});var z1e=E((qrs,$1e)=>{"use strict";var zee;function mgr(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var j1e=oy().codes,fgr=j1e.ERR_MISSING_ARGS,pgr=j1e.ERR_STREAM_DESTROYED;function B1e(e){if(e)throw e}function ggr(e){return e.setHeader&&typeof e.abort=="function"}function hgr(e,t,r,n){n=mgr(n);var s=!1;e.on("close",function(){s=!0}),zee===void 0&&(zee=f1()),zee(e,{readable:t,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,ggr(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new pgr("pipe"))}}}function q1e(e){e()}function ygr(e,t){return e.pipe(t)}function _gr(e){return!e.length||typeof e[e.length-1]!="function"?B1e:e.pop()}function Sgr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=_gr(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new fgr("streams");var s,i=t.map(function(o,a){var c=a<t.length-1,l=a>0;return hgr(o,c,l,function(d){s||(s=d),d&&i.forEach(q1e),!c&&(i.forEach(q1e),n(s))})});return t.reduce(ygr)}$1e.exports=Sgr});var Tv=E((cd,QI)=>{var JI=require("stream");process.env.READABLE_STREAM==="disable"&&JI?(QI.exports=JI.Readable,Object.assign(QI.exports,JI),QI.exports.Stream=JI):(cd=QI.exports=Ree(),cd.Stream=JI||cd,cd.Readable=cd,cd.Writable=E1(),cd.Duplex=Pv(),cd.Transform=$ee(),cd.PassThrough=F1e(),cd.finished=f1(),cd.pipeline=z1e())});var G1e=E((jrs,V1e)=>{var Mw=[],YI=[],Hee=function(){};function Gee(e){return~Mw.indexOf(e)?!1:(Mw.push(e),!0)}function Wee(e){Hee=e}function vgr(e){for(var t=[],r=0;r<Mw.length;r++){if(Mw[r].async){t.push(Mw[r]);continue}if(Mw[r](e))return!0}return t.length?new Promise(function(s){Promise.all(t.map(function(o){return o(e)})).then(function(o){s(o.some(Boolean))})}):!1}function Kee(e){return~YI.indexOf(e)?!1:(YI.push(e),!0)}function Vee(){Hee.apply(Hee,arguments)}function H1e(e){for(var t=0;t<YI.length;t++)e=YI[t].apply(YI[t],arguments);return e}function Xee(e,t){var r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}function Egr(e){return e.enabled=!1,e.modify=Kee,e.set=Wee,e.use=Gee,Xee(function(){return!1},e)}function Cgr(e){function t(){var r=Array.prototype.slice.call(arguments,0);return Vee.call(Vee,e,H1e(r,e)),!0}return e.enabled=!0,e.modify=Kee,e.set=Wee,e.use=Gee,Xee(t,e)}V1e.exports=function(t){return t.introduce=Xee,t.enabled=vgr,t.process=H1e,t.modify=Kee,t.write=Vee,t.nope=Egr,t.yep=Cgr,t.set=Wee,t.use=Gee,t}});var K1e=E(($rs,W1e)=>{var bgr=G1e(),wgr=bgr(function e(t,r){return r=r||{},r.namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)});W1e.exports=wgr});var ZI=E((zrs,X1e)=>{X1e.exports=K1e()});var Q1e=E((Hrs,J1e)=>{"use strict";var Jee=require("fs"),{StringDecoder:Agr}=require("string_decoder"),{Stream:xgr}=Tv();function Pgr(){}J1e.exports=(e,t)=>{let r=Buffer.alloc(65536),n=new Agr("utf8"),s=new xgr,i="",o=0,a=0;return e.start===-1&&delete e.start,s.readable=!0,s.destroy=()=>{s.destroyed=!0,s.emit("end"),s.emit("close")},Jee.open(e.file,"a+","0644",(c,l)=>{if(c){t?t(c):s.emit("error",c),s.destroy();return}(function d(){if(s.destroyed){Jee.close(l,Pgr);return}return Jee.read(l,r,0,r.length,o,(u,m)=>{if(u){t?t(u):s.emit("error",u),s.destroy();return}if(!m)return i&&((e.start==null||a>e.start)&&(t?t(null,i):s.emit("line",i)),a++,i=""),setTimeout(d,1e3);let p=n.write(r.slice(0,m));t||s.emit("data",p),p=(i+p).split(/\n+/);let g=p.length-1,y=0;for(;y<g;y++)(e.start==null||a>e.start)&&(t?t(null,p[y]):s.emit("line",p[y])),a++;return i=p[g],o+=m,d()})})()}),t?s.destroy:s}});var t$e=E((Grs,e$e)=>{"use strict";var xc=require("fs"),uo=require("path"),Y1e=D1e(),Rgr=require("zlib"),{MESSAGE:Tgr}=Di(),{Stream:Igr,PassThrough:Z1e}=Tv(),Ogr=Nw(),Xu=ZI()("winston:file"),Ngr=require("os"),Dgr=Q1e();e$e.exports=class extends Ogr{constructor(t={}){super(t),this.name=t.name||"file";function r(n,...s){s.slice(1).forEach(i=>{if(t[i])throw new Error(`Cannot set ${i} and ${n} together`)})}if(this._stream=new Z1e,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),t.filename||t.dirname)r("filename or dirname","stream"),this._basename=this.filename=t.filename?uo.basename(t.filename):"winston.log",this.dirname=t.dirname||uo.dirname(t.filename),this.options=t.options||{flags:"a"};else if(t.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(t.stream)),this.dirname=uo.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=t.maxsize||null,this.rotationFormat=t.rotationFormat||!1,this.zippedArchive=t.zippedArchive||!1,this.maxFiles=t.maxFiles||null,this.eol=typeof t.eol=="string"?t.eol:Ngr.EOL,this.tailable=t.tailable||!1,this.lazy=t.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(t,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(t,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(t,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(t,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(t,r)})});return}}let n=`${t[Tgr]}${this.eol}`,s=Buffer.byteLength(n);function i(){if(this._size+=s,this._pendingSize-=s,Xu("logged %s %s",this._size,n),this.emit("logged",t),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=s,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let o=this._stream.write(n,i.bind(this));return o?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),Xu("written",o,this._drain),this.finishIfEnding(),o}query(t,r){typeof t=="function"&&(r=t,t={}),t=u(t);let n=uo.join(this.dirname,this.filename),s="",i=[],o=0,a=xc.createReadStream(n,{encoding:"utf8"});a.on("error",m=>{if(a.readable&&a.destroy(),!!r)return m.code!=="ENOENT"?r(m):r(null,i)}),a.on("data",m=>{m=(s+m).split(/\n+/);let p=m.length-1,g=0;for(;g<p;g++)(!t.start||o>=t.start)&&c(m[g]),o++;s=m[p]}),a.on("close",()=>{s&&c(s,!0),t.order==="desc"&&(i=i.reverse()),r&&r(null,i)});function c(m,p){try{let g=JSON.parse(m);d(g)&&l(g)}catch(g){p||a.emit("error",g)}}function l(m){if(t.rows&&i.length>=t.rows&&t.order!=="desc"){a.readable&&a.destroy();return}t.fields&&(m=t.fields.reduce((p,g)=>(p[g]=m[g],p),{})),t.order==="desc"&&i.length>=t.rows&&i.shift(),i.push(m)}function d(m){if(!m||typeof m!="object")return;let p=new Date(m.timestamp);if(!(t.from&&p<t.from||t.until&&p>t.until||t.level&&t.level!==m.level))return!0}function u(m){return m=m||{},m.rows=m.rows||m.limit||10,m.start=m.start||0,m.until=m.until||new Date,typeof m.until!="object"&&(m.until=new Date(m.until)),m.from=m.from||m.until-24*60*60*1e3,typeof m.from!="object"&&(m.from=new Date(m.from)),m.order=m.order||"desc",m}}stream(t={}){let r=uo.join(this.dirname,this.filename),n=new Igr,s={file:r,start:t.start};return n.destroy=Dgr(s,(i,o)=>{if(i)return n.emit("error",i);try{n.emit("data",o),o=JSON.parse(o),n.emit("log",o)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((t,r)=>{if(t)return this.emit("error",t);Xu("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.emit("rotate")||(this._rotate=!1)})})))}stat(t){let r=this._getFile(),n=uo.join(this.dirname,r);xc.stat(n,(s,i)=>{if(s&&s.code==="ENOENT")return Xu("ENOENT\xA0ok",n),this.filename=r,t(null,0);if(s)return Xu(`err ${s.code} ${n}`),t(s);if(!i||this._needsNewFile(i.size))return this._incFile(()=>this.stat(t));this.filename=r,t(null,i.size)})}close(t){this._stream&&this._stream.end(()=>{t&&t(),this.emit("flush"),this.emit("closed")})}_needsNewFile(t){return t=t||this._size,this.maxsize&&t>=this.maxsize}_onError(t){this.emit("error",t)}_setupStream(t){return t.on("error",this._onError),t}_cleanupStream(t){return t.removeListener("error",this._onError),t.destroy(),t}_rotateFile(){this._incFile(()=>this.open())}_endStream(t=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),t()})):t()}_createStream(t){let r=uo.join(this.dirname,this.filename);Xu("create stream start",r,this.options);let n=xc.createWriteStream(r,this.options).on("error",s=>Xu(s)).on("close",()=>Xu("close",n.path,n.bytesWritten)).on("open",()=>{Xu("file open ok",r),this.emit("open",r),t.pipe(n),this.rotatedWhileOpening&&(this._stream=new Z1e,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),t.end())});return Xu("create stream ok",r),n}_incFile(t){Xu("_incFile",this.filename);let r=uo.extname(this._basename),n=uo.basename(this._basename,r),s=[];this.zippedArchive&&s.push(function(i){let o=this._created>0&&!this.tailable?this._created:"";this._compressFile(uo.join(this.dirname,`${n}${o}${r}`),uo.join(this.dirname,`${n}${o}${r}.gz`),i)}.bind(this)),s.push(function(i){this.tailable?this._checkMaxFilesTailable(r,n,i):(this._created+=1,this._checkMaxFilesIncrementing(r,n,i))}.bind(this)),Y1e(s,t)}_getFile(){let t=uo.extname(this._basename),r=uo.basename(this._basename,t),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${t}`:`${r}${t}`}_checkMaxFilesIncrementing(t,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let s=this._created-this.maxFiles,i=s!==0?s:"",o=this.zippedArchive?".gz":"",a=`${r}${i}${t}${o}`,c=uo.join(this.dirname,a);xc.unlink(c,n)}_checkMaxFilesTailable(t,r,n){let s=[];if(!this.maxFiles)return;let i=this.zippedArchive?".gz":"";for(let o=this.maxFiles-1;o>1;o--)s.push(function(a,c){let l=`${r}${a-1}${t}${i}`,d=uo.join(this.dirname,l);xc.exists(d,u=>{if(!u)return c(null);l=`${r}${a}${t}${i}`,xc.rename(d,uo.join(this.dirname,l),c)})}.bind(this,o));Y1e(s,()=>{xc.rename(uo.join(this.dirname,`${r}${t}${i}`),uo.join(this.dirname,`${r}1${t}${i}`),n)})}_compressFile(t,r,n){xc.access(t,xc.F_OK,s=>{if(s)return n();var i=Rgr.createGzip(),o=xc.createReadStream(t),a=xc.createWriteStream(r);a.on("finish",()=>{xc.unlink(t,n)}),o.pipe(i).pipe(a)})}_createLogDirIfNotExist(t){xc.existsSync(t)||xc.mkdirSync(t,{recursive:!0})}}});var n$e=E((Krs,r$e)=>{"use strict";var kgr=require("http"),Mgr=require("https"),{Stream:Lgr}=Tv(),Ugr=Nw(),{configure:Fgr}=UI();r$e.exports=class extends Ugr{constructor(t={}){super(t),this.options=t,this.name=t.name||"http",this.ssl=!!t.ssl,this.host=t.host||"localhost",this.port=t.port,this.auth=t.auth,this.path=t.path||"",this.maximumDepth=t.maximumDepth,this.agent=t.agent,this.headers=t.headers||{},this.headers["content-type"]="application/json",this.batch=t.batch||!1,this.batchInterval=t.batchInterval||5e3,this.batchCount=t.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(t,r){this._request(t,null,null,(n,s)=>{s&&s.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),n?this.emit("warn",n):this.emit("logged",t)}),r&&setImmediate(r)}query(t,r){typeof t=="function"&&(r=t,t={}),t={method:"query",params:this.normalizeQuery(t)};let n=t.params.auth||null;delete t.params.auth;let s=t.params.path||null;delete t.params.path,this._request(t,n,s,(i,o,a)=>{if(o&&o.statusCode!==200&&(i=new Error(`Invalid HTTP Status Code: ${o.statusCode}`)),i)return r(i);if(typeof a=="string")try{a=JSON.parse(a)}catch(c){return r(c)}r(null,a)})}stream(t={}){let r=new Lgr;t={method:"stream",params:t};let n=t.params.path||null;delete t.params.path;let s=t.params.auth||null;delete t.params.auth;let i="",o=this._request(t,s,n);return r.destroy=()=>o.destroy(),o.on("data",a=>{a=(i+a).split(/\n+/);let c=a.length-1,l=0;for(;l<c;l++)try{r.emit("log",JSON.parse(a[l]))}catch(d){r.emit("error",d)}i=a[c]}),o.on("error",a=>r.emit("error",a)),r}_request(t,r,n,s){t=t||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(t,s,r,n):this._doRequest(t,s,r,n)}_doBatch(t,r,n,s){if(this.batchOptions.push(t),this.batchOptions.length===1){let i=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){i.batchTimeoutID=-1,i._doBatchRequest(i.batchCallback,n,s)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,s)}_doBatchRequest(t,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let s=this.batchOptions.slice();this.batchOptions=[],this._doRequest(s,t,r,n)}_doRequest(t,r,n,s){let i=Object.assign({},this.headers);n&&n.bearer&&(i.Authorization=`Bearer ${n.bearer}`);let o=(this.ssl?Mgr:kgr).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${s.replace(/^\//,"")}`,headers:i,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});o.on("error",r),o.on("response",c=>c.on("end",()=>r(null,c)).resume());let a=Fgr({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});o.end(Buffer.from(a(t,this.options.replacer),"utf8"))}}});var Qee=E((Xrs,s$e)=>{"use strict";var Vm=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";Vm.writable=e=>Vm(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";Vm.readable=e=>Vm(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";Vm.duplex=e=>Vm.writable(e)&&Vm.readable(e);Vm.transform=e=>Vm.duplex(e)&&typeof e._transform=="function";s$e.exports=Vm});var o$e=E((Qrs,i$e)=>{"use strict";var Bgr=Qee(),{MESSAGE:qgr}=Di(),jgr=require("os"),$gr=Nw();i$e.exports=class extends $gr{constructor(t={}){if(super(t),!t.stream||!Bgr(t.stream))throw new Error("options.stream is required.");this._stream=t.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=t.stream._writableState.objectMode,this.eol=typeof t.eol=="string"?t.eol:jgr.EOL}log(t,r){if(setImmediate(()=>this.emit("logged",t)),this.isObjectMode){this._stream.write(t),r&&r();return}this._stream.write(`${t[qgr]}${this.eol}`),r&&r()}}});var a$e=E(eO=>{"use strict";Object.defineProperty(eO,"Console",{configurable:!0,enumerable:!0,get(){return Qje()}});Object.defineProperty(eO,"File",{configurable:!0,enumerable:!0,get(){return t$e()}});Object.defineProperty(eO,"Http",{configurable:!0,enumerable:!0,get(){return n$e()}});Object.defineProperty(eO,"Stream",{configurable:!0,enumerable:!0,get(){return o$e()}})});var H1=E(tO=>{"use strict";var z1=see(),{configs:Yee}=Di();tO.cli=z1.levels(Yee.cli);tO.npm=z1.levels(Yee.npm);tO.syslog=z1.levels(Yee.syslog);tO.addColors=z1.levels});var l$e=E((V1,c$e)=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});var zgr=A1(),Hgr=Iv(zgr),Vgr=M1(),Ggr=Iv(Vgr),Wgr=jee(),Kgr=Iv(Wgr),Xgr=Fee(),Jgr=Iv(Xgr),Qgr=Bee(),Ygr=Iv(Qgr),Zgr=Rv(),ehr=Iv(Zgr),thr=kw(),rhr=Iv(thr);function Iv(e){return e&&e.__esModule?e:{default:e}}function nhr(e,t,r){r=(0,Jgr.default)(r);var n=0,s=0,{length:i}=e,o=!1;i===0&&r(null);function a(c,l){c===!1&&(o=!0),o!==!0&&(c?r(c):(++s===i||l===Ggr.default)&&r(null))}for(;n<i;n++)t(e[n],n,(0,Ygr.default)(a))}function shr(e,t,r){return(0,Kgr.default)(e,1/0,t,r)}function ihr(e,t,r){var n=(0,Hgr.default)(e)?nhr:shr;return n(e,(0,ehr.default)(t),r)}V1.default=(0,rhr.default)(ihr,3);c$e.exports=V1.default});var u$e=E((G1,d$e)=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.default=ohr;function ohr(e){return(t,r,n)=>e(t,n)}d$e.exports=G1.default});var X1=E((K1,m$e)=>{"use strict";Object.defineProperty(K1,"__esModule",{value:!0});var ahr=l$e(),chr=W1(ahr),lhr=u$e(),dhr=W1(lhr),uhr=Rv(),mhr=W1(uhr),fhr=kw(),phr=W1(fhr);function W1(e){return e&&e.__esModule?e:{default:e}}function ghr(e,t,r){return(0,chr.default)(e,(0,dhr.default)((0,mhr.default)(t)),r)}K1.default=(0,phr.default)(ghr,3);m$e.exports=K1.default});var p$e=E((ens,f$e)=>{"use strict";var hhr=Object.prototype.toString;f$e.exports=function(t){if(typeof t.displayName=="string"&&t.constructor.name)return t.displayName;if(typeof t.name=="string"&&t.name)return t.name;if(typeof t=="object"&&t.constructor&&typeof t.constructor.name=="string")return t.constructor.name;var r=t.toString(),n=hhr.call(t).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var Zee=E((tns,g$e)=>{"use strict";var yhr=p$e();g$e.exports=function(t){var r=0,n;function s(){return r||(r=1,n=t.apply(this,arguments),t=null),n}return s.displayName=yhr(t),s}});var ete=E(nO=>{nO.get=function(e){var t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,o){return o},Error.captureStackTrace(r,e||nO.get);var s=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=t,s};nO.parse=function(e){if(!e.stack)return[];var t=this,r=e.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var s=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(s){var i=null,o=null,a=null,c=null,l=null,d=s[5]==="native";if(s[1]){a=s[1];var u=a.lastIndexOf(".");if(a[u-1]=="."&&u--,u>0){i=a.substr(0,u),o=a.substr(u+1);var m=i.indexOf(".Module");m>0&&(a=a.substr(m+1),i=i.substr(0,m))}c=null}o&&(c=i,l=o),o==="<anonymous>"&&(l=null,a=null);var p={fileName:s[2]||null,lineNumber:parseInt(s[3],10)||null,functionName:a,typeName:c,methodName:l,columnNumber:parseInt(s[4],10)||null,native:d};return t._createParsedCallSite(p)}}).filter(function(n){return!!n})};function rO(e){for(var t in e)this[t]=e[t]}var _hr=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Shr=["topLevel","eval","native","constructor"];_hr.forEach(function(e){rO.prototype[e]=null,rO.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}});Shr.forEach(function(e){rO.prototype[e]=!1,rO.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}});nO._createParsedCallSite=function(e){return new rO(e)}});var y$e=E((sns,h$e)=>{"use strict";var{Writable:vhr}=Tv();h$e.exports=class extends vhr{constructor(t){if(super({objectMode:!0}),!t)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=t}_write(t,r,n){return t.exception?this.transport.log(t,n):(n(),!0)}}});var rte=E((ons,v$e)=>{"use strict";var _$e=require("os"),Ehr=X1(),tte=ZI()("winston:exception"),Chr=Zee(),S$e=ete(),bhr=y$e();v$e.exports=class{constructor(t){if(!t)throw new Error("Logger is required to handle exceptions");this.logger=t,this.handlers=new Map}handle(...t){t.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(t=>this.logger.unpipe(t)))}getAllInfo(t){let r=null;return t&&(r=typeof t=="string"?t:t.message),{error:t,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,t&&t.stack||"  No stack trace"].join(`
`),stack:t&&t.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(t)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:_$e.loadavg(),uptime:_$e.uptime()}}getTrace(t){return(t?S$e.parse(t):S$e.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(t){if(!this.handlers.has(t)){t.handleExceptions=!0;let r=new bhr(t);this.handlers.set(t,r),this.logger.pipe(r)}}_uncaughtException(t){let r=this.getAllInfo(t),n=this._getExceptionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(t):this.logger.exitOnError,i;!n.length&&s&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),s=!1);function o(){tte("doExit",s),tte("process._exiting",process._exiting),s&&!process._exiting&&(i&&clearTimeout(i),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);Ehr(n,(a,c)=>{let l=Chr(c),d=a.transport||a;function u(m){return()=>{tte(m),l()}}d._ending=!0,d.once("finish",u("finished")),d.once("error",u("error"))},()=>s&&o()),this.logger.log(r),s&&(i=setTimeout(o,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(t=>(t.transport||t).handleExceptions)}}});var C$e=E((cns,E$e)=>{"use strict";var{Writable:whr}=Tv();E$e.exports=class extends whr{constructor(t){if(super({objectMode:!0}),!t)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=t}_write(t,r,n){return t.rejection?this.transport.log(t,n):(n(),!0)}}});var ste=E((dns,A$e)=>{"use strict";var b$e=require("os"),Ahr=X1(),nte=ZI()("winston:rejection"),xhr=Zee(),w$e=ete(),Phr=C$e();A$e.exports=class{constructor(t){if(!t)throw new Error("Logger is required to handle rejections");this.logger=t,this.handlers=new Map}handle(...t){t.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(t=>this.logger.unpipe(t)))}getAllInfo(t){let r=null;return t&&(r=typeof t=="string"?t:t.message),{error:t,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,t&&t.stack||"  No stack trace"].join(`
`),stack:t&&t.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(t)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:b$e.loadavg(),uptime:b$e.uptime()}}getTrace(t){return(t?w$e.parse(t):w$e.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(t){if(!this.handlers.has(t)){t.handleRejections=!0;let r=new Phr(t);this.handlers.set(t,r),this.logger.pipe(r)}}_unhandledRejection(t){let r=this.getAllInfo(t),n=this._getRejectionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(t):this.logger.exitOnError,i;!n.length&&s&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),s=!1);function o(){nte("doExit",s),nte("process._exiting",process._exiting),s&&!process._exiting&&(i&&clearTimeout(i),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);Ahr(n,(a,c)=>{let l=xhr(c),d=a.transport||a;function u(m){return()=>{nte(m),l()}}d._ending=!0,d.once("finish",u("finished")),d.once("error",u("error"))},()=>s&&o()),this.logger.log(r),s&&(i=setTimeout(o,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(t=>(t.transport||t).handleRejections)}}});var P$e=E((uns,x$e)=>{"use strict";var ite=class{constructor(t){let r=J1();if(typeof t!="object"||Array.isArray(t)||!(t instanceof r))throw new Error("Logger is required for profiling");this.logger=t,this.start=Date.now()}done(...t){typeof t[t.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());let r=typeof t[t.length-1]=="object"?t.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};x$e.exports=ite});var J1=E((mns,O$e)=>{"use strict";var{Stream:Rhr,Transform:Thr}=Tv(),R$e=X1(),{LEVEL:Gm,SPLAT:T$e}=Di(),I$e=Qee(),Ihr=rte(),Ohr=ste(),Nhr=Mee(),Dhr=P$e(),{warn:khr}=iee(),Mhr=H1(),Lhr=/%[scdjifoO%]/g,Q1=class extends Thr{constructor(t){super({objectMode:!0}),this.configure(t)}child(t){let r=this;return Object.create(r,{write:{value:function(n){let s=Object.assign({},t,n);n instanceof Error&&(s.stack=n.stack,s.message=n.message),r.write(s)}}})}configure({silent:t,format:r,defaultMeta:n,levels:s,level:i="info",exitOnError:o=!0,transports:a,colors:c,emitErrs:l,formatters:d,padLevels:u,rewriters:m,stripColors:p,exceptionHandlers:g,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=t,this.format=r||this.format||ZZ()(),this.defaultMeta=n||null,this.levels=s||this.levels||Mhr.npm.levels,this.level=i,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new Ihr(this),this.rejections=new Ohr(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a],a.forEach(b=>this.add(b))),c||l||d||u||m||p)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));g&&this.exceptions.handle(g),y&&this.rejections.handle(y)}isLevelEnabled(t){let r=ote(this.levels,t);if(r===null)return!1;let n=ote(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(i=>{let o=ote(this.levels,i.level);return o===null&&(o=n),o>=r})!==-1}log(t,r,...n){if(arguments.length===1)return t[Gm]=t.level,this._addDefaultMeta(t),this.write(t),this;if(arguments.length===2)return r&&typeof r=="object"?(r[Gm]=r.level=t,this._addDefaultMeta(r),this.write(r),this):(r={[Gm]:t,level:t,message:r},this._addDefaultMeta(r),this.write(r),this);let[s]=n;if(typeof s=="object"&&s!==null&&!(r&&r.match&&r.match(Lhr))){let o=Object.assign({},this.defaultMeta,s,{[Gm]:t,[T$e]:n,level:t,message:r});return s.message&&(o.message=`${o.message} ${s.message}`),s.stack&&(o.stack=s.stack),s.cause&&(o.cause=s.cause),this.write(o),this}return this.write(Object.assign({},this.defaultMeta,{[Gm]:t,[T$e]:n,level:t,message:r})),this}_transform(t,r,n){if(this.silent)return n();t[Gm]||(t[Gm]=t.level),!this.levels[t[Gm]]&&this.levels[t[Gm]]!==0&&console.error("[winston] Unknown logger level: %s",t[Gm]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",t);try{this.push(this.format.transform(t,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(t){let r=this.transports.slice();R$e(r,(n,s)=>{if(!n||n.finished)return setImmediate(s);n.once("finish",s),n.end()},t)}add(t){let r=!I$e(t)||t.log.length>2?new Nhr({transport:t}):t;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),t.handleExceptions&&this.exceptions.handle(),t.handleRejections&&this.rejections.handle(),this}remove(t){if(!t)return this;let r=t;return(!I$e(t)||t.log.length>2)&&(r=this.transports.filter(n=>n.transport===t)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){khr.deprecated("setLevels")}query(t,r){typeof t=="function"&&(r=t,t={}),t=t||{};let n={},s=Object.assign({},t.query||{});function i(a,c){t.query&&typeof a.formatQuery=="function"&&(t.query=a.formatQuery(s)),a.query(t,(l,d)=>{if(l)return c(l);typeof a.formatResults=="function"&&(d=a.formatResults(d,t.format)),c(null,d)})}function o(a,c){i(a,(l,d)=>{c&&(d=l||d,d&&(n[a.name]=d),c()),c=null})}R$e(this.transports.filter(a=>!!a.query),o,()=>r(null,n))}stream(t={}){let r=new Rhr,n=[];return r._streams=n,r.destroy=()=>{let s=n.length;for(;s--;)n[s].destroy()},this.transports.filter(s=>!!s.stream).forEach(s=>{let i=s.stream(t);i&&(n.push(i),i.on("log",o=>{o.transport=o.transport||[],o.transport.push(s.name),r.emit("log",o)}),i.on("error",o=>{o.transport=o.transport||[],o.transport.push(s.name),r.emit("error",o)}))}),r}startTimer(){return new Dhr(this)}profile(t,...r){let n=Date.now();if(this.profilers[t]){let s=this.profilers[t];delete this.profilers[t],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let i=typeof r[r.length-1]=="object"?r.pop():{};return i.level=i.level||"info",i.durationMs=n-s,i.message=i.message||t,this.write(i)}return this.profilers[t]=n,this}handleExceptions(...t){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...t)}unhandleExceptions(...t){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...t)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(t,r){function n(s){t==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(t,s,r)}r["__winston"+t]||(r["__winston"+t]=n.bind(this),r.on(t,r["__winston"+t]))}_addDefaultMeta(t){this.defaultMeta&&Object.assign(t,this.defaultMeta)}};function ote(e,t){let r=e[t];return!r&&r!==0?null:r}Object.defineProperty(Q1.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}});O$e.exports=Q1});var ate=E((fns,N$e)=>{"use strict";var{LEVEL:Uhr}=Di(),Fhr=H1(),Bhr=J1(),qhr=ZI()("winston:create-logger");function jhr(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}N$e.exports=function(e={}){e.levels=e.levels||Fhr.npm.levels;class t extends Bhr{constructor(s){super(s)}}let r=new t(e);return Object.keys(e.levels).forEach(function(n){if(qhr('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}t.prototype[n]=function(...s){let i=this||r;if(s.length===1){let[o]=s,a=o&&o.message&&o||{message:o};return a.level=a[Uhr]=n,i._addDefaultMeta(a),i.write(a),this||r}return s.length===0?(i.log(n,""),i):i.log(n,...s)},t.prototype[jhr(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var k$e=E((gns,D$e)=>{"use strict";var $hr=ate();D$e.exports=class{constructor(t={}){this.loggers=new Map,this.options=t}add(t,r){if(!this.loggers.has(t)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let s=$hr(r);s.on("close",()=>this._delete(t)),this.loggers.set(t,s)}return this.loggers.get(t)}get(t,r){return this.add(t,r)}has(t){return!!this.loggers.has(t)}close(t){if(t)return this._removeLogger(t);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(t){if(!this.loggers.has(t))return;this.loggers.get(t).close(),this._delete(t)}_delete(t){this.loggers.delete(t)}}});var L$e=E(Sn=>{"use strict";var M$e=see(),{warn:sO}=iee();Sn.version=Xqe().version;Sn.transports=a$e();Sn.config=H1();Sn.addColors=M$e.levels;Sn.format=M$e.format;Sn.createLogger=ate();Sn.Logger=J1();Sn.ExceptionHandler=rte();Sn.RejectionHandler=ste();Sn.Container=k$e();Sn.Transport=Nw();Sn.loggers=new Sn.Container;var Wm=Sn.createLogger();Object.keys(Sn.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(e=>Sn[e]=(...t)=>Wm[e](...t));Object.defineProperty(Sn,"level",{get(){return Wm.level},set(e){Wm.level=e}});Object.defineProperty(Sn,"exceptions",{get(){return Wm.exceptions}});Object.defineProperty(Sn,"rejections",{get(){return Wm.rejections}});["exitOnError"].forEach(e=>{Object.defineProperty(Sn,e,{get(){return Wm[e]},set(t){Wm[e]=t}})});Object.defineProperty(Sn,"default",{get(){return{exceptionHandlers:Wm.exceptionHandlers,rejectionHandlers:Wm.rejectionHandlers,transports:Wm.transports}}});sO.deprecated(Sn,"setLevels");sO.forFunctions(Sn,"useFormat",["cli"]);sO.forProperties(Sn,"useFormat",["padLevels","stripColors"]);sO.forFunctions(Sn,"deprecated",["addRewriter","addFilter","clone","extend"]);sO.forProperties(Sn,"deprecated",["emitErrs","levelLength"])});var U$e=E(Pc=>{"use strict";var zhr=Pc&&Pc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.logInfo=Lw;Pc.logError=Hhr;Pc.logWarn=Vhr;Pc.logDebug=Ghr;Pc.logPerformance=Whr;Pc.logRequest=Khr;Pc.logResponse=Xhr;Pc.logDatabaseOperation=Jhr;Pc.logExternalApiCall=Qhr;var Mp=zhr(L$e()),iO=Mp.default.createLogger({level:process.env.LOG_LEVEL||"info",format:Mp.default.format.combine(Mp.default.format.timestamp(),Mp.default.format.errors({stack:!0}),Mp.default.format.json()),defaultMeta:{service:process.env.AWS_LAMBDA_FUNCTION_NAME||"namecard-service",stage:process.env.STAGE||"local"},transports:[new Mp.default.transports.Console({format:Mp.default.format.combine(Mp.default.format.colorize(),Mp.default.format.simple())})]});function Lw(e,t={}){iO.info(e,t)}function Hhr(e,t,r={}){iO.error(e,{...r,error:t instanceof Error?{message:t.message,stack:t.stack,name:t.name}:t})}function Vhr(e,t={}){iO.warn(e,t)}function Ghr(e,t={}){iO.debug(e,t)}function Whr(e,t,r={}){Lw(`Performance: ${e}`,{...r,operation:e,duration:t,durationMs:`${t}ms`})}function Khr(e,t,r={}){Lw("Incoming request",{...r,method:e,path:t,timestamp:new Date().toISOString()})}function Xhr(e,t,r={}){Lw("Request completed",{...r,statusCode:e,duration:t,durationMs:`${t}ms`})}function Jhr(e,t,r,n={}){Lw(`Database ${e}`,{...n,operation:e,table:t,duration:r,durationMs:`${r}ms`})}function Qhr(e,t,r,n,s={}){Lw(`External API call: ${e}`,{...s,service:e,endpoint:t,statusCode:n,duration:r,durationMs:`${r}ms`})}Pc.default=iO});var j$e=E((_ns,q$e)=>{"use strict";function cte(e){return typeof e=="function"}var ec=console.error.bind(console);function oO(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function aO(e){e&&e.logger&&(cte(e.logger)?ec=e.logger:ec("new logger isn't a function, not replacing"))}function F$e(e,t,r){if(!e||!e[t]){ec("no original function "+t+" to wrap");return}if(!r){ec("no wrapper function"),ec(new Error().stack);return}if(!cte(e[t])||!cte(r)){ec("original object and wrapper must be functions");return}var n=e[t],s=r(n,t);return oO(s,"__original",n),oO(s,"__unwrap",function(){e[t]===s&&oO(e,t,n)}),oO(s,"__wrapped",!0),oO(e,t,s),s}function Yhr(e,t,r){if(e)Array.isArray(e)||(e=[e]);else{ec("must provide one or more modules to patch"),ec(new Error().stack);return}if(!(t&&Array.isArray(t))){ec("must provide one or more functions to wrap on modules");return}e.forEach(function(n){t.forEach(function(s){F$e(n,s,r)})})}function B$e(e,t){if(!e||!e[t]){ec("no function to unwrap."),ec(new Error().stack);return}if(!e[t].__unwrap)ec("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function Zhr(e,t){if(e)Array.isArray(e)||(e=[e]);else{ec("must provide one or more modules to patch"),ec(new Error().stack);return}if(!(t&&Array.isArray(t))){ec("must provide one or more functions to unwrap on modules");return}e.forEach(function(r){t.forEach(function(n){B$e(r,n)})})}aO.wrap=F$e;aO.massWrap=Yhr;aO.unwrap=B$e;aO.massUnwrap=Zhr;q$e.exports=aO});var G$e=E((Sns,V$e)=>{"use strict";var z$e=j$e(),Uw=z$e.wrap,Y1=z$e.unwrap,Lp="wrap@before";function Z1(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function eyr(e,t){for(var r=t.length,n=0;n<r;n++){var s=t[n],i=e[Lp];if(typeof i=="function")i(s);else if(Array.isArray(i))for(var o=i.length,a=0;a<o;a++)i[a](s)}}function H$e(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r?r=[r]:r=[]),r}function tyr(e,t,r){var n=H$e(e,t),s=n.filter(function(i){return r.indexOf(i)===-1});s.length>0&&eyr(e,s)}function $$e(e,t){if(e){var r=e;if(typeof e=="function")r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}V$e.exports=function(t,r,n){if(!t||!t.on||!t.addListener||!t.removeListener||!t.emit)throw new Error("can only wrap real EEs");if(!r)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function s(o){return function(c,l){var d=H$e(this,c).slice();try{var u=o.call(this,c,l);return tyr(this,c,d),u}finally{this.on.__wrapped||Uw(this,"on",s),this.addListener.__wrapped||Uw(this,"addListener",s)}}}function i(o){return function(c){if(!this._events||!this._events[c])return o.apply(this,arguments);var l=this._events[c];function d(u){return function(){this._events[c]=l;try{return u.apply(this,arguments)}finally{l=this._events[c],this._events[c]=$$e(l,n)}}}Uw(this,"removeListener",d);try{return this._events[c]=$$e(l,n),o.apply(this,arguments)}finally{Y1(this,"removeListener"),this._events[c]=l}}}t[Lp]?typeof t[Lp]=="function"?Z1(t,Lp,[t[Lp],r]):Array.isArray(t[Lp])&&t[Lp].push(r):Z1(t,Lp,r),t.__wrapped||(Uw(t,"addListener",s),Uw(t,"on",s),Uw(t,"emit",i),Z1(t,"__unwrap",function(){Y1(t,"addListener"),Y1(t,"on"),Y1(t,"emit"),delete t[Lp],delete t.__wrapped}),Z1(t,"__wrapped",!0))}});var J$e=E((vns,X$e)=>{"use strict";var Vr=require("util"),Up=require("assert"),ryr=G$e(),rs=require("async_hooks"),cO="cls@contexts",lO="error@context",js=process.env.DEBUG_CLS_HOOKED,Hr=-1;X$e.exports={getNamespace:W$e,createNamespace:nyr,destroyNamespace:K$e,reset:syr,ERROR_SYMBOL:lO};function ld(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}ld.prototype.set=function(t,r){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[t]=r,js){let n=" ".repeat(this._indent<0?0:this._indent);gs(n+"CONTEXT-SET KEY:"+t+"="+r+" in ns:"+this.name+" currentUid:"+Hr+" active:"+Vr.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return r};ld.prototype.get=function(t){if(!this.active){if(js){let r=rs.currentId(),n=rs.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);gs(`${s}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${t}=undefined currentUid:${Hr} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length}`)}return}if(js){let r=rs.executionAsyncId(),n=rs.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);gs(s+"CONTEXT-GETTING KEY:"+t+"="+this.active[t]+" ("+this.name+") currentUid:"+Hr+" active:"+Vr.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),gs(`${s}CONTEXT-GETTING KEY: (${this.name}) ${t}=${this.active[t]} currentUid:${Hr} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} active:${Vr.inspect(this.active)}`)}return this.active[t]};ld.prototype.createContext=function(){let t=Object.create(this.active?this.active:Object.prototype);if(t._ns_name=this.name,t.id=Hr,js){let r=rs.executionAsyncId(),n=rs.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);gs(`${s}CONTEXT-CREATED Context: (${this.name}) currentUid:${Hr} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} context:${Vr.inspect(t,{showHidden:!0,depth:2,colors:!0})}`)}return t};ld.prototype.run=function(t){let r=this.createContext();this.enter(r);try{if(js){let n=rs.triggerAsyncId(),s=rs.executionAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);gs(`${i}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${Hr} triggerId:${n} asyncHooksCurrentId:${s} len:${this._set.length} context:${Vr.inspect(r)}`)}return t(r),r}catch(n){throw n&&(n[lO]=r),n}finally{if(js){let n=rs.triggerAsyncId(),s=rs.executionAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);gs(`${i}CONTEXT-RUN END: (${this.name}) currentUid:${Hr} triggerId:${n} asyncHooksCurrentId:${s} len:${this._set.length} ${Vr.inspect(r)}`)}this.exit(r)}};ld.prototype.runAndReturn=function(t){let r;return this.run(function(n){r=t(n)}),r};ld.prototype.runPromise=function(t){let r=this.createContext();this.enter(r);let n=t(r);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return js&&gs("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+Hr+" len:"+this._set.length+" "+Vr.inspect(r)),n.then(s=>(js&&gs("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+Hr+" len:"+this._set.length+" "+Vr.inspect(r)),this.exit(r),s)).catch(s=>{throw s[lO]=r,js&&gs("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+Hr+" len:"+this._set.length+" "+Vr.inspect(r)),this.exit(r),s})};ld.prototype.bind=function(t,r){r||(this.active?r=this.active:r=this.createContext());let n=this;return function(){n.enter(r);try{return t.apply(this,arguments)}catch(i){throw i&&(i[lO]=r),i}finally{n.exit(r)}}};ld.prototype.enter=function(t){if(Up.ok(t,"context must be provided for entering"),js){let r=rs.executionAsyncId(),n=rs.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);gs(`${s}CONTEXT-ENTER: (${this.name}) currentUid:${Hr} triggerId:${n} asyncHooksCurrentId:${r} len:${this._set.length} ${Vr.inspect(t)}`)}this._set.push(this.active),this.active=t};ld.prototype.exit=function(t){if(Up.ok(t,"context must be provided for exiting"),js){let n=rs.executionAsyncId(),s=rs.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);gs(`${i}CONTEXT-EXIT: (${this.name}) currentUid:${Hr} triggerId:${s} asyncHooksCurrentId:${n} len:${this._set.length} ${Vr.inspect(t)}`)}if(this.active===t){Up.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let r=this._set.lastIndexOf(t);r<0?(js&&gs("??ERROR?? context exiting but not entered - ignoring: "+Vr.inspect(t)),Up.ok(r>=0,`context not currently entered; can't exit. 
`+Vr.inspect(this)+`
`+Vr.inspect(t))):(Up.ok(r,"can't remove top context"),this._set.splice(r,1))};ld.prototype.bindEmitter=function(t){Up.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let r=this,n="context@"+this.name;function s(o){o&&(o[cO]||(o[cO]=Object.create(null)),o[cO][n]={namespace:r,context:r.active})}function i(o){if(!(o&&o[cO]))return o;let a=o,c=o[cO];return Object.keys(c).forEach(function(l){let d=c[l];a=d.namespace.bind(a,d.context)}),a}ryr(t,s,i)};ld.prototype.fromException=function(t){return t[lO]};function W$e(e){return process.namespaces[e]}function nyr(e){Up.ok(e,"namespace must be given a name."),js&&gs(`NS-CREATING NAMESPACE (${e})`);let t=new ld(e);return t.id=Hr,rs.createHook({init(n,s,i,o){if(Hr=rs.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),js){let a=" ".repeat(t._indent<0?0:t._indent);gs(`${a}INIT [${s}] (${e}) asyncId:${n} currentUid:${Hr} triggerId:${i} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}}else if(Hr===0){let a=rs.triggerAsyncId(),c=t._contexts.get(a);if(c){if(t._contexts.set(n,c),js){let l=" ".repeat(t._indent<0?0:t._indent);gs(`${l}INIT USING CONTEXT FROM TRIGGERID [${s}] (${e}) asyncId:${n} currentUid:${Hr} triggerId:${a} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}}else if(js){let l=" ".repeat(t._indent<0?0:t._indent);gs(`${l}INIT MISSING CONTEXT [${s}] (${e}) asyncId:${n} currentUid:${Hr} triggerId:${a} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}}if(js&&s==="PROMISE"){gs(Vr.inspect(o,{showHidden:!0}));let a=o.parentId,c=" ".repeat(t._indent<0?0:t._indent);gs(`${c}INIT RESOURCE-PROMISE [${s}] (${e}) parentId:${a} asyncId:${n} currentUid:${Hr} triggerId:${i} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}},before(n){Hr=rs.executionAsyncId();let s;if(s=t._contexts.get(n)||t._contexts.get(Hr),s){if(js){let i=rs.triggerAsyncId(),o=" ".repeat(t._indent<0?0:t._indent);gs(`${o}BEFORE (${e}) asyncId:${n} currentUid:${Hr} triggerId:${i} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Vr.inspect(s)}`),t._indent+=2}t.enter(s)}else if(js){let i=rs.triggerAsyncId(),o=" ".repeat(t._indent<0?0:t._indent);gs(`${o}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${Hr} triggerId:${i} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${Vr.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){Hr=rs.executionAsyncId();let s;if(s=t._contexts.get(n)||t._contexts.get(Hr),s){if(js){let i=rs.triggerAsyncId();t._indent-=2;let o=" ".repeat(t._indent<0?0:t._indent);gs(`${o}AFTER (${e}) asyncId:${n} currentUid:${Hr} triggerId:${i} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Vr.inspect(s)}`)}t.exit(s)}else if(js){let i=rs.triggerAsyncId();t._indent-=2;let o=" ".repeat(t._indent<0?0:t._indent);gs(`${o}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${Hr} triggerId:${i} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Vr.inspect(s)}`)}},destroy(n){if(Hr=rs.executionAsyncId(),js){let s=rs.triggerAsyncId(),i=" ".repeat(t._indent<0?0:t._indent);gs(`${i}DESTROY (${e}) currentUid:${Hr} asyncId:${n} triggerId:${s} active:${Vr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Vr.inspect(t._contexts.get(Hr))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t}function K$e(e){let t=W$e(e);Up.ok(t,`can't delete nonexistent namespace! "`+e+'"'),Up.ok(t.id,"don't assign to process.namespaces directly! "+Vr.inspect(t)),process.namespaces[e]=null}function syr(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){K$e(e)}),process.namespaces=Object.create(null)}process.namespaces={};function gs(...e){js&&process._rawDebug(`${Vr.format(...e)}`)}});var hs=E((Ens,Z$e)=>{"use strict";var lte=["debug","info","warn","error","silent"],Q$e=lte.indexOf("error"),iyr=oyr(process.env.AWS_XRAY_DEBUG_MODE?"debug":process.env.AWS_XRAY_LOG_LEVEL),Y$e={error:e$("error"),info:e$("info"),warn:e$("warn"),debug:e$("debug")};function e$(e){var t=lte.indexOf(e),r=console[e]||console.log||(()=>{});return t>=iyr?(n,s)=>{(n||s)&&r(lyr(e,n,s))}:()=>{}}function oyr(e){if(e){var t=e.toLowerCase(),r=lte.indexOf(t);return r>=0?r:Q$e}return Q$e}function ayr(e){var t=-e.getTimezoneOffset(),r=t>=0?"+":"-",n=function(s){var i=Math.floor(Math.abs(s));return(i<10?"0":"")+i};return new Date(e.getTime()+t*60*1e3).toISOString().replace(/T/," ").replace(/Z/," ")+r+n(t/60)+":"+n(t%60)}function cyr(){return process.env.LAMBDA_TASK_ROOT!==void 0}function lyr(e,t,r){var n=[];cyr()||(n.push(ayr(new Date)),n.push(`[${e.toUpperCase()}]`)),t&&n.push(t);var s=n.join(" "),i=dyr(r);return[s,i].filter(o=>o.length>0).join(`
  `)}function dyr(e){return e?typeof e=="string"?e:JSON.stringify(e):""}var uyr={setLogger:function(t){Y$e=t},getLogger:function(){return Y$e}};Z$e.exports=uyr});var dte=E((Cns,tze)=>{"use strict";var myr=require("crypto");function eze(e,t){this.init(e,t)}eze.prototype.init=function(t,r){var n=typeof t=="string"||t instanceof String?{message:t,name:""}:t;if(this.message=n.message,this.type=n.name,this.stack=[],this.remote=!!r,this.id=myr.randomBytes(8).toString("hex"),n.stack){var s=n.stack.split(`
`);s.shift(),s.forEach(i=>{var o=i.trim().replace(/\(|\)/g,"");o=o.substring(o.indexOf(" ")+1);var a=o.lastIndexOf(" ")>=0?o.slice(0,o.lastIndexOf(" ")):null,c=Array.isArray(a)&&!a.length?o:o.slice(o.lastIndexOf(" ")+1);c=c.split(":");var l={path:c[0],line:parseInt(c[1]),label:a||"anonymous"};this.stack.push(l)},this)}};tze.exports=eze});var nze=E((bns,rze)=>{rze.exports=fyr;function fyr(e){var t=!1,r=null,n=null,s=null;return o;function i(a){s&&hyr(s,a),t=!1,s=n;var c=r;if(r=null,n=null,!c||!c.length){if(!s||!s.length){s=null;return}c||(c=[])}t=!0,e(c,i)}function o(a,c){t?(r||(r=[],n=[]),pyr(r,a),c&&n.push(c)):(c&&(s=[c]),t=!0,e(Array.isArray(a)?a:[a],i))}}function pyr(e,t){Array.isArray(t)?gyr(e,t):e.push(t)}function gyr(e,t){for(var r=0;r<t.length;r++)e.push(t[r])}function hyr(e,t){for(var r=0;r<e.length;r++)e[r](t)}});var t$=E((wns,oze)=>{"use strict";var sze=hs(),Ju={udp_ip:"127.0.0.1",udp_port:2e3,tcp_ip:"127.0.0.1",tcp_port:2e3,setDaemonAddress:function(t){process.env.AWS_XRAY_DAEMON_ADDRESS?sze.getLogger().warn("Ignoring call to setDaemonAddress as AWS_XRAY_DAEMON_ADDRESS is set. The current daemon address will not be changed."):(ize(t),sze.getLogger().info("Configured daemon address to "+t+"."))}},ize=function(t){if(t.indexOf(":")===-1)throw new Error("Invalid Daemon Address. You must specify an ip and port.");var r=t.split(" ");if(r.length===1){if(t.indexOf("udp")>-1||t.indexOf("tcp")>-1)throw new Error("Invalid Daemon Address. You must specify both tcp and udp addresses.");var n=t.split(":");if(!n[0])throw new Error("Invalid Daemon Address. You must specify an ip.");Ju.udp_ip=n[0],Ju.tcp_ip=n[0],Ju.udp_port=n[1],Ju.tcp_port=n[1]}else if(r.length===2){var s=r[0].split(":"),i=r[1].split(":"),o={};if(o[s[0]]=s,o[i[0]]=i,Ju.udp_ip=o.udp[1],Ju.udp_port=parseInt(o.udp[2]),Ju.tcp_ip=o.tcp[1],Ju.tcp_port=parseInt(o.tcp[2]),!Ju.udp_port||!Ju.tcp_port)throw new Error("Invalid Daemon Address. You must specify port number.")}};process.env.AWS_XRAY_DAEMON_ADDRESS&&ize(process.env.AWS_XRAY_DAEMON_ADDRESS);oze.exports=Ju});var n$=E((Ans,mze)=>{"use strict";var lze=require("dgram"),yyr=nze(),r$=hs(),aze='{"format":"json","version":1}',cze=`
`;function _yr(e,t){var r=lze.createSocket("udp4");dze(r,e,0,function(){try{r.close()}finally{t()}})}function dze(e,t,r,n){if(r>=t.length){n();return}Syr(e,t[r],function(){dze(e,t,r+1,n)})}function Syr(e,t,r){var n=t.msg,s=t.offset,i=t.length,o=t.port,a=t.address,c=t.callback;e.send(n,s,i,o,a,function(l){try{c(l)}finally{r()}})}function uze(){this.batchSend=yyr(_yr)}uze.prototype.send=function(e,t,r,n,s,i){var o={msg:e,offset:t,length:r,port:n,address:s,callback:i};this.batchSend(o)};var vyr={daemonConfig:t$(),format:function(t){return aze+cze+t.toString()},send:function(t){this.socket||(this.useBatchingTemporarySocket?this.socket=new uze:this.socket=lze.createSocket("udp4").unref());var r=this.socket,n=t.format(),s=aze+cze+n,i=Buffer.from(s),o='{"trace_id:"'+t.trace_id+'","id":"'+t.id+'"}',a=t.type==="subsegment"?"Subsegment":"Segment";r.send(i,0,i.length,this.daemonConfig.udp_port,this.daemonConfig.udp_ip,function(c){c?c.code==="EMSGSIZE"?r$.getLogger().error(a+" too large to send: "+o+" ("+i.length+" bytes)."):r$.getLogger().error("Error occured sending segment: ",c):(r$.getLogger().debug(a+' sent: {"trace_id:"'+t.trace_id+'","id":"'+t.id+'"}'),r$.getLogger().debug("UDP message sent: "+t))})},setDaemonAddress:function(t){this.daemonConfig.setDaemonAddress(t)},getIp:function(){return this.daemonConfig.udp_ip},getPort:function(){return this.daemonConfig.udp_port},disableReusableSocket:function(){this.useBatchingTemporarySocket=!0}};mze.exports=vyr});var i$=E((xns,fze)=>{"use strict";var Eyr=require("crypto"),s$=hs(),ute=class e{constructor(t,r){this.version=1,this.timestamp=t||Math.round(new Date().getTime()/1e3).toString(16),this.id=r||Eyr.randomBytes(12).toString("hex")}static Invalid(){return new e("00000000","000000000000000000000000")}static FromString(t){let r="-";var n=new e,s,i;if(!t||typeof t!="string")return s$.getLogger().error("Empty or non-string trace ID provided"),n;let o=t.trim().split(r);return o.length!==3?(s$.getLogger().error("Unrecognized trace ID format"),n):(s=parseInt(o[0]),isNaN(s)||s<1?(s$.getLogger().error("Trace ID version must be positive integer"),n):(i=parseInt(o[1],16).toString(16),i==="NaN"?(s$.getLogger().error("Trace ID timestamp must be a hex-encoded value"),n):(i=i.padStart(8,"0"),n.version=s,n.timestamp=i,n.id=o[2],n)))}toString(){return`${this.version.toString()}-${this.timestamp}-${this.id}`}};fze.exports=ute});var la=E((Pns,pze)=>{"use strict";var Cyr=require("crypto"),dO=hs(),byr=i$(),mte={getCauseTypeFromHttpStatus:function(t){var r=t.toString();if(r.match(/^[4][0-9]{2}$/)!==null)return"error";if(r.match(/^[5][0-9]{2}$/)!==null)return"fault"},stripQueryStringFromPath:function(t){return t?t.split("?")[0]:""},wildcardMatch:function(t,r){if(t===void 0||r===void 0)return!1;if(t.length===1&&t.charAt(0)==="*")return!0;var n=t.length,s=r.length,i=t.indexOf("*");if(t=t.toLowerCase(),r=r.toLowerCase(),i===-1||i===n-1){var o=function(){for(var m=0,p=0;p<n;p++){var g=t.charAt(p);if(g==="*")return!0;if(g==="?"){if(m===s)return!1;m++}else{if(m>=s||g!=r.charAt(m))return!1;m++}}return m===s};return o()}var a=[];a[0]=!0;for(var c=0;c<n;c++){var l,d=t.charAt(c);if(d!="*")for(l=s-1;l>=0;l--)a[l+1]=!!a[l]&&(d==="?"||d===r.charAt(l));else{for(l=0;l<=s&&!a[l];)l++;for(l;l<=s;l++)a[l]=!0}a[0]=a[0]&&d==="*"}return a[s]},LambdaUtils:{validTraceData:function(e){var t=!1;if(e){var r=mte.processTraceData(e);t=!!(r&&r.root&&r.parent&&r.sampled)}return t},populateTraceData:function(e,t){dO.getLogger().debug("Lambda trace data found: "+t);let r=mte.processTraceData(t);var n=!1;return r?r.root&&!r.parent&&!r.sampled?(e.noOp=!0,n=!0):!r.root||!r.parent||!r.sampled?dO.getLogger().error("_X_AMZN_TRACE_ID is missing required information"):n=!0:(r={},dO.getLogger().error("_X_AMZN_TRACE_ID is empty or has an invalid format")),e.trace_id=byr.FromString(r.root).toString(),e.id=r.parent||Cyr.randomBytes(8).toString("hex"),r.root&&e.trace_id!==r.root&&(dO.getLogger().error("_X_AMZN_TRACE_ID contains invalid trace ID"),n=!1),parseInt(r.sampled)?delete e.notTraced:e.notTraced=!0,r.data&&(e.additionalTraceData=r.data),dO.getLogger().debug("Segment started: "+JSON.stringify(r)),n}},processTraceData:function(t){var r={},n={},s=["root","parent","sampled","self"],i=256;return typeof t=="string"&&t&&(t.split(";").forEach(function(o){if(o){var a=o.split("=");if(a[0]&&a[1]){let c=a[0].trim(),l=a[1].trim(),d=c.toLowerCase(),u=s.indexOf(d)!==-1;u?r[d]=l:!u&&i-(d.length+l.length)>=0&&(n[c]=l,i-=c.length+l.length)}}}),r.data=n),r},objectWithoutProperties:function(t,r,n){r=Array.isArray(r)?r:[],n=typeof n=="boolean"?n:!1;var s=n?Object.create(Object.getPrototypeOf(t)):{};for(var i in t)r.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i]);return s},safeParseInt:e=>!e||isNaN(e)?0:parseInt(e)};pze.exports=mte});var my=E((Rns,yze)=>{"use strict";var{safeParseInt:gze}=la(),hze=hs(),wyr=100,fte={streamingThreshold:wyr,getCurrentTime:function(){return Date.now()/1e3},setOrigin:function(t){this.origin=t},setPluginData:function(t){this.pluginData=t},setSDKData:function(t){this.sdkData=t},setServiceData:function(t){this.serviceData=t},setStreamingThreshold:function(t){isFinite(t)&&t>=0?(fte.streamingThreshold=t,hze.getLogger().debug("Subsegment streaming threshold set to: "+t)):hze.getLogger().error("Invalid threshold: "+t+". Must be a whole number >= 0.")},getStreamingThreshold:function(){return fte.streamingThreshold},getHttpResponseData:e=>{let t={};if(!e)return t;let r=gze(e.statusCode);return r!==0&&(t.status=r),e.headers&&e.headers["content-length"]&&(t.content_length=gze(e.headers["content-length"])),t},getJsonStringifyReplacer:()=>(e,t)=>typeof t=="bigint"?t.toString():t};yze.exports=fte});var vze=E((Tns,Sze)=>{"use strict";var{getHttpResponseData:Ayr}=my(),{stripQueryStringFromPath:xyr}=la();function _ze(e,t,r){this.init(e,t,r)}_ze.prototype.init=function(t,r,n){this.request={url:t.agent&&t.agent.protocol?t.agent.protocol+"//"+(t.host||t.getHeader("host"))+xyr(t.path):"",method:t.method||""},n&&(this.request.traced=!0),r&&(this.response=Ayr(r))};Sze.exports=_ze});var uO=E((Ins,Eze)=>{"use strict";var Pyr=require("crypto"),Ryr=dte(),Tyr=vze(),Iyr=n$(),o$=my(),Oyr=la(),Fp=hs();function Gr(e){this.init(e)}Gr.prototype.init=function(t){if(typeof t!="string")throw new Error("Subsegment name must be of type string.");this.id=Pyr.randomBytes(8).toString("hex"),this.name=t,this.start_time=o$.getCurrentTime(),this.in_progress=!0,this.counter=0,this.notTraced=!1};Gr.prototype.addNewSubsegment=function(t){let r=new Gr(t);return this.addSubsegment(r),r};Gr.prototype.addSubsegmentWithoutSampling=function(t){this.addSubsegment(t),t.notTraced=!0};Gr.prototype.addNewSubsegmentWithoutSampling=function(t){let r=new Gr(t);return this.addSubsegment(r),r.notTraced=!0,r};Gr.prototype.addSubsegment=function(e){if(!(e instanceof Gr))throw new Error("Failed to add subsegment:"+e+' to subsegment "'+this.name+'".  Not a subsegment.');this.subsegments===void 0&&(this.subsegments=[]),e.segment=this.segment,e.parent=this,e.notTraced=e.parent.notTraced,e.noOp=e.parent.noOp,e.end_time===void 0&&this.incrementCounter(e.counter),this.subsegments.push(e)};Gr.prototype.removeSubsegment=function(t){if(!(t instanceof Gr))throw new Error("Failed to remove subsegment:"+t+' from subsegment "'+this.name+'".  Not a subsegment.');if(this.subsegments!==void 0){var r=this.subsegments.indexOf(t);r>=0&&this.subsegments.splice(r,1)}};Gr.prototype.addAttribute=function(t,r){this[t]=r};Gr.prototype.addPrecursorId=function(e){typeof e!="string"&&Fp.getLogger().error("Failed to add id:"+e+" to subsegment "+this.name+".  Precursor Ids must be of type string."),this.precursor_ids===void 0&&(this.precursor_ids=[]),this.precursor_ids.push(e)};Gr.prototype.addAnnotation=function(e,t){if(typeof t!="boolean"&&typeof t!="string"&&!isFinite(t)){Fp.getLogger().error("Failed to add annotation key: "+e+" value: "+t+" to subsegment "+this.name+". Value must be of type string, number or boolean.");return}if(typeof e!="string"){Fp.getLogger().error("Failed to add annotation key: "+e+" value: "+t+" to subsegment "+this.name+". Key must be of type string.");return}this.annotations===void 0&&(this.annotations={}),this.annotations[e]=t};Gr.prototype.addMetadata=function(e,t,r){if(typeof e!="string"){Fp.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to subsegment "+this.name+". Key must be of type string.");return}if(r&&typeof r!="string"){Fp.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to subsegment "+this.name+". Namespace must be of type string.");return}var n=r||"default";this.metadata||(this.metadata={}),this.metadata[n]||(this.metadata[n]={}),n!=="__proto__"&&(this.metadata[n][e]=t??"")};Gr.prototype.addSqlData=function(t){this.sql=t};Gr.prototype.addError=function(t,r){if(t==null||typeof t!="object"&&typeof t!="string"){Fp.getLogger().error("Failed to add error:"+t+' to subsegment "'+this.name+'".  Not an object or string literal.');return}if(this.addFaultFlag(),this.segment&&this.segment.exception){if(t===this.segment.exception.ex){this.fault=!0,this.cause={id:this.segment.exception.cause,exceptions:[]};return}delete this.segment.exception}this.segment&&(this.segment.exception={ex:t,cause:this.id}),this.cause===void 0&&(this.cause={working_directory:process.cwd(),exceptions:[]}),this.cause.exceptions.unshift(new Ryr(t,r))};Gr.prototype.addRemoteRequestData=function(t,r,n){this.http=new Tyr(t,r,n),"traced"in this.http.request&&(this.traced=this.http.request.traced,delete this.http.request.traced)};Gr.prototype.addFaultFlag=function(){this.fault=!0};Gr.prototype.addErrorFlag=function(){this.error=!0};Gr.prototype.addThrottleFlag=function(){this.throttle=!0};Gr.prototype.close=function(t,r){var n=this.segment;this.end_time=o$.getCurrentTime(),delete this.in_progress,t&&this.addError(t,r),this.parent&&this.parent.decrementCounter(),n&&n.counter>o$.getStreamingThreshold()&&this.streamSubsegments()&&this.parent&&this.parent.removeSubsegment(this)};Gr.prototype.incrementCounter=function(t){this.counter=t?this.counter+t+1:this.counter+1,this.parent&&this.parent.incrementCounter(t)};Gr.prototype.decrementCounter=function(){this.counter--,this.parent&&this.parent.decrementCounter()};Gr.prototype.isClosed=function(){return!this.in_progress};Gr.prototype.flush=function(){if(!this.parent||!this.segment){Fp.getLogger().error("Failed to flush subsegment: "+this.name+". Subsegment must be added to a segment chain to flush.");return}this.segment.trace_id?this.segment.notTraced!==!0&&!this.notTraced?Iyr.send(this):Fp.getLogger().debug("Ignoring flush on subsegment "+this.id+". Associated segment is marked as not sampled."):Fp.getLogger().debug("Ignoring flush on subsegment "+this.id+". Associated segment is missing a trace ID.")};Gr.prototype.streamSubsegments=function(){if(this.isClosed()&&this.counter<=0)return this.flush(),!0;if(this.subsegments&&this.subsegments.length>0){var t=[];this.subsegments.forEach(function(r){r.streamSubsegments()||t.push(r)}),this.subsegments=t}};Gr.prototype.format=function(){return this.type="subsegment",this.parent&&(this.parent_id=this.parent.id),this.segment&&(this.trace_id=this.segment.trace_id),this.serialize()};Gr.prototype.toString=function(){return this.serialize()};Gr.prototype.toJSON=function(){var t=["segment","parent","counter"];(this.subsegments==null||this.subsegments.length===0)&&t.push("subsegments");var r=Oyr.objectWithoutProperties(this,t,!1);return r};Gr.prototype.serialize=function(t){return JSON.stringify(t??this,o$.getJsonStringifyReplacer())};Eze.exports=Gr});var mO=E((Ons,wze)=>{"use strict";var Nyr=require("crypto"),Dyr=dte(),kyr=n$(),dd=my(),a$=uO(),Cze=i$(),bze=la(),fy=hs();function vn(e,t,r){this.init(e,t,r)}vn.prototype.init=function(t,r,n){if(typeof t!="string")throw new Error("Segment name must be of type string.");var s;r&&typeof r=="string"?s=Cze.FromString(r):s=new Cze;var i=Nyr.randomBytes(8).toString("hex"),o=dd.getCurrentTime();this.trace_id=s.toString(),this.id=i,this.start_time=o,this.name=t||"",this.in_progress=!0,this.counter=0,n&&(this.parent_id=n),dd.serviceData&&this.setServiceData(dd.serviceData),dd.pluginData&&this.addPluginData(dd.pluginData),dd.origin&&(this.origin=dd.origin),dd.sdkData&&this.setSDKData(dd.sdkData)};vn.prototype.addIncomingRequestData=function(t){this.http=t};vn.prototype.addAnnotation=function(t,r){if(typeof r!="boolean"&&typeof r!="string"&&!isFinite(r)){fy.getLogger().error("Failed to add annotation key: "+t+" value: "+r+" to subsegment "+this.name+". Value must be of type string, number or boolean.");return}if(typeof t!="string"){fy.getLogger().error("Failed to add annotation key: "+t+" value: "+r+" to subsegment "+this.name+". Key must be of type string.");return}this.annotations===void 0&&(this.annotations={}),this.annotations[t]=r};vn.prototype.setUser=function(e){typeof e!="string"&&fy.getLogger().error("Set user: "+e+" failed. User IDs must be of type string."),this.user=e};vn.prototype.addMetadata=function(e,t,r){if(typeof e!="string"){fy.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to segment "+this.name+". Key must be of type string.");return}if(r&&typeof r!="string"){fy.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to segment "+this.name+". Namespace must be of type string.");return}var n=r||"default";this.metadata||(this.metadata={}),this.metadata[n]||(this.metadata[n]={}),n!=="__proto__"&&(this.metadata[n][e]=t??"")};vn.prototype.setSDKData=function(t){if(!t){fy.getLogger().error("Add SDK data: "+t+" failed.Must not be empty.");return}this.aws||(this.aws={}),this.aws.xray=t};vn.prototype.setMatchedSamplingRule=function(t){this.aws&&(this.aws=JSON.parse(JSON.stringify(this.aws))),this.aws&&this.aws.xray?this.aws.xray.rule_name=t:this.aws={xray:{rule_name:t}}};vn.prototype.setServiceData=function(t){if(!t){fy.getLogger().error("Add service data: "+t+" failed.Must not be empty.");return}this.service=t};vn.prototype.addPluginData=function(t){this.aws===void 0&&(this.aws={}),Object.assign(this.aws,t)};vn.prototype.addNewSubsegment=function(t){var r=new a$(t);return this.addSubsegment(r),r};vn.prototype.addSubsegmentWithoutSampling=function(t){this.addSubsegment(t),t.notTraced=!0};vn.prototype.addNewSubsegmentWithoutSampling=function(t){let r=new a$(t);return this.addSubsegment(r),r.notTraced=!0,r};vn.prototype.addSubsegment=function(t){if(!(t instanceof a$))throw new Error("Cannot add subsegment: "+t+". Not a subsegment.");this.subsegments===void 0&&(this.subsegments=[]),t.segment=this,t.parent=this,t.notTraced=t.parent.notTraced,t.noOp=t.parent.noOp,this.subsegments.push(t),t.end_time||this.incrementCounter(t.counter)};vn.prototype.removeSubsegment=function(t){if(!(t instanceof a$))throw new Error("Failed to remove subsegment:"+t+' from subsegment "'+this.name+'".  Not a subsegment.');if(this.subsegments!==void 0){var r=this.subsegments.indexOf(t);r>=0&&this.subsegments.splice(r,1)}};vn.prototype.addError=function(t,r){if(t==null||typeof t!="object"&&typeof t!="string"){fy.getLogger().error("Failed to add error:"+t+' to subsegment "'+this.name+'".  Not an object or string literal.');return}if(this.addFaultFlag(),this.exception){if(t===this.exception.ex){this.cause={id:this.exception.cause},delete this.exception;return}delete this.exception}this.cause===void 0&&(this.cause={working_directory:process.cwd(),exceptions:[]}),this.cause.exceptions.push(new Dyr(t,r))};vn.prototype.addFaultFlag=function(){this.fault=!0};vn.prototype.addErrorFlag=function(){this.error=!0};vn.prototype.addThrottleFlag=function(){this.throttle=!0};vn.prototype.isClosed=function(){return!this.in_progress};vn.prototype.incrementCounter=function(t){if(this.counter=t?this.counter+t+1:this.counter+1,this.counter>dd.streamingThreshold&&this.subsegments&&this.subsegments.length>0){var r=[];this.subsegments.forEach(function(n){n.streamSubsegments()||r.push(n)}),this.subsegments=r}};vn.prototype.decrementCounter=function(){this.counter--,this.counter<=0&&this.isClosed()&&this.flush()};vn.prototype.close=function(e,t){this.end_time||(this.end_time=dd.getCurrentTime()),e!==void 0&&this.addError(e,t),delete this.in_progress,delete this.exception,this.counter<=0&&this.flush()};vn.prototype.flush=function(){if(this.notTraced!==!0){delete this.exception;var t=bze.objectWithoutProperties(this,["counter","notTraced"],!0);kyr.send(t)}};vn.prototype.format=function(){var t=["segment","parent","counter"];(this.subsegments==null||this.subsegments.length===0)&&t.push("subsegments");var r=bze.objectWithoutProperties(this,t,!1);return this.serialize(r)};vn.prototype.toString=function(){return this.serialize()};vn.prototype.serialize=function(t){return JSON.stringify(t??this,dd.getJsonStringifyReplacer())};wze.exports=vn});var gy=E((Nns,Rze)=>{"use strict";var fO=J$e(),Qu=hs(),pte=mO(),Aze=uO(),Bp=!0,py="AWSXRay",xze="segment",Pze=!1,da={CONTEXT_MISSING_STRATEGY:{RUNTIME_ERROR:{contextMissing:function(t){throw new Error(t)}},LOG_ERROR:{contextMissing:function(t){var r=new Error(t);Qu.getLogger().error(r.stack)}},IGNORE_ERROR:{contextMissing:function(){}}},contextMissingStrategy:{},resolveManualSegmentParams:function(t){if(t&&!da.isAutomaticMode()){var r=t.XRaySegment||t.XraySegment,n=t.Segment,s=null;return r&&(r instanceof pte||r instanceof Aze)?(s=r,delete t.XRaySegment,delete t.XraySegment):n&&(n instanceof pte||n instanceof Aze)&&(s=n,delete t.Segment),s}},getNamespace:function(){return fO.getNamespace(py)||fO.createNamespace(py)},resolveSegment:function(t){if(Bp)return this.getSegment();if(t&&!Bp)return t;!t&&!Bp&&da.contextMissingStrategy.contextMissing("No sub/segment specified. A sub/segment must be provided for manual mode.")},getSegment:function(){if(Bp){var t=da.getNamespace(py).get(xze);return t?t instanceof pte&&process.env.LAMBDA_TASK_ROOT&&t.facade==!0&&t.resolveLambdaTraceData():da.contextMissingStrategy.contextMissing("Failed to get the current sub/segment from the context."),t}else da.contextMissingStrategy.contextMissing("Cannot get sub/segment from context. Not supported in manual mode.")},setSegment:function(t){Bp?da.getNamespace(py).set(xze,t)||Qu.getLogger().warn("Failed to set the current sub/segment on the context."):da.contextMissingStrategy.contextMissing("Cannot set sub/segment on context. Not supported in manual mode.")},isAutomaticMode:function(){return Bp},enableAutomaticMode:function(){Bp=!0,da.getNamespace(py),Qu.getLogger().debug("Overriding AWS X-Ray SDK mode. Set to automatic mode.")},enableManualMode:function(){Bp=!1,fO.getNamespace(py)&&fO.destroyNamespace(py),Qu.getLogger().debug("Overriding AWS X-Ray SDK mode. Set to manual mode.")},setContextMissingStrategy:function(t){if(Pze)Qu.getLogger().warn("Ignoring call to setContextMissingStrategy as AWS_XRAY_CONTEXT_MISSING is set. The current context missing strategy will not be changed.");else if(typeof t=="string"){var r=da.CONTEXT_MISSING_STRATEGY[t.toUpperCase()];if(r)da.contextMissingStrategy.contextMissing=r.contextMissing,process.env.AWS_XRAY_CONTEXT_MISSING?Qu.getLogger().debug("AWS_XRAY_CONTEXT_MISSING is set. Configured context missing strategy to "+process.env.AWS_XRAY_CONTEXT_MISSING+"."):Qu.getLogger().debug("Configured context missing strategy to: "+t);else throw new Error("Invalid context missing strategy: "+t+". Valid values are "+Object.keys(da.CONTEXT_MISSING_STRATEGY)+".")}else if(typeof t=="function")da.contextMissingStrategy.contextMissing=t,Qu.getLogger().info("Configured custom context missing strategy to function: "+t.name);else throw new Error("Context missing strategy must be either a string or a custom function.")}};process.env.AWS_XRAY_MANUAL_MODE?(Bp=!1,Qu.getLogger().debug("Starting the AWS X-Ray SDK in manual mode.")):(fO.createNamespace(py),Qu.getLogger().debug("Starting the AWS X-Ray SDK in automatic mode (default)."));process.env.AWS_XRAY_CONTEXT_MISSING?(da.setContextMissingStrategy(process.env.AWS_XRAY_CONTEXT_MISSING),Pze=!0):(da.contextMissingStrategy.contextMissing=da.CONTEXT_MISSING_STRATEGY.LOG_ERROR.contextMissing,Qu.getLogger().debug("Using default context missing strategy: LOG_ERROR"));Rze.exports=da});var hte=E((Dns,Tze)=>{"use strict";var{getHttpResponseData:Myr}=my();function gte(e){this.init(e)}gte.prototype.init=function(t){var r=!!t.headers["x-forwarded-for"],n;t.connection&&(n=(t.connection.secure||t.connection.encrypted?"https://":"http://")+((t.headers.host||"")+(t.url||""))),this.request={method:t.method||"",user_agent:t.headers["user-agent"]||"",client_ip:Lyr(t)||"",url:n||""},r&&(this.request.x_forwarded_for=r)};var Lyr=function(t){var r;return t.headers["x-forwarded-for"]?r=(t.headers["x-forwarded-for"]||"").split(",")[0]:t.connection&&t.connection.remoteAddress?r=t.connection.remoteAddress:t.socket&&t.socket.remoteAddress?r=t.socket.remoteAddress:t.connection&&t.connection.socket&&t.connection.socket.remoteAddress&&(r=t.connection.socket.remoteAddress),r};gte.prototype.close=function(t){this.response=Myr(t)};Tze.exports=gte});var Oze=E((kns,Ize)=>{"use strict";function yte(e,t){this.init(e,t)}yte.prototype.init=function(t,r){if(this.usedThisSecond=0,typeof t=="number"&&t%1===0&&t>=0)this.fixedTarget=t;else throw new Error('Error in sampling file. Rule attribute "fixed_target" must be a non-negative integer.');if(typeof r=="number"&&r>=0&&r<=1)this.fallbackRate=r;else throw new Error('Error in sampling file. Rule attribute "rate" must be a number between 0 and 1 inclusive.')};yte.prototype.isSampled=function(){var t=Math.round(new Date().getTime()/1e3);return t!==this.thisSecond&&(this.usedThisSecond=0,this.thisSecond=t),this.usedThisSecond>=this.fixedTarget?Math.random()<this.fallbackRate:(this.usedThisSecond++,!0)};Ize.exports=yte});var Nze=E((Mns,Uyr)=>{Uyr.exports={default:{fixed_target:1,rate:.05},version:2}});var Ste=E((Lns,Uze)=>{"use strict";var Fyr=require("fs"),Dze=Oze(),_te=la(),Byr=Nze(),c$=hs(),Mze={shouldSample:function(t){var r=t.host,n=t.httpMethod,s=t.urlPath,i="{ http_method: "+n+", host: "+r+", url_path: "+s+" }",o;return this.rules.some(function(a){if(a.default||r==null||_te.wildcardMatch(a.host,r)&&(n==null||_te.wildcardMatch(a.http_method,n))&&(s==null||_te.wildcardMatch(a.url_path,s)))return o=a.reservoir,c$.getLogger().debug("Local sampling rule match found for "+i+". Matched "+(a.default?"default":"{ http_method: "+a.http_method+", host: "+a.host+", url_path: "+a.url_path+" }")+". Using fixed_target: "+o.fixedTarget+" and rate: "+o.fallbackRate+"."),!0}),o?o.isSampled():(c$.getLogger().debug("No sampling rule matched for "+i),!1)},setLocalRules:function(t){t?typeof t=="string"?(c$.getLogger().info("Using custom sampling rules file: "+t),this.rules=kze(JSON.parse(Fyr.readFileSync(t,"utf8")))):(c$.getLogger().info("Using custom sampling rules source."),this.rules=kze(t)):this.rules=Lze(Byr)}},kze=function(t){if(!t.version)throw new Error('Error in sampling file. Missing "version" attribute.');if(t.version===1||t.version===2)return Lze(t);throw new Error('Error in sampling file. Unknown version "'+t.version+'".')},Lze=function(t){var r,n=[];if(t.default){var s=[];for(var i in t.default){if(i!=="fixed_target"&&i!=="rate")throw new Error("Error in sampling file. Invalid attribute for default: "+i+'. Valid attributes for default are "fixed_target" and "rate".');if(typeof t.default[i]!="number")throw new Error("Error in sampling file. Default "+i+" must be a number.")}if(typeof t.default.fixed_target>"u"&&s.push("fixed_target"),typeof t.default.rate>"u"&&s.push("rate"),s.length!==0)throw new Error("Error in sampling file. Missing required attributes for default: "+s+".");r={default:!0,reservoir:new Dze(t.default.fixed_target,t.default.rate)}}else throw new Error('Error in sampling file. Expecting "default" object to be defined with attributes "fixed_target" and "rate".');return Array.isArray(t.rules)&&t.rules.forEach(function(o){var a={},c;t.version===2&&(c={host:1,http_method:1,url_path:1,fixed_target:1,rate:1}),t.version===1&&(c={service_name:1,http_method:1,url_path:1,fixed_target:1,rate:1});for(var l in o){var d=o[l];if(!c[l]&&l!="description")throw new Error("Error in sampling file. Rule "+JSON.stringify(o)+" has invalid attribute: "+l+".");if(l!="description"&&!d&&d!==0)throw new Error("Error in sampling file. Rule "+JSON.stringify(o)+' attribute "'+l+'" has invalid value: '+d+".");t.version===2&&(a[l]=d),t.version===1&&l==="service_name"?a.host=d:a[l]=d,delete c[l]}if(Object.keys(c).length!==0&&c.constructor===Object)throw new Error("Error in sampling file. Rule "+JSON.stringify(o)+" is missing required attributes: "+Object.keys(c)+".");var u=a;u.reservoir=new Dze(o.fixed_target,o.rate),n.push(u)}),n.push(r),n};Mze.setLocalRules();Uze.exports=Mze});var Bze=E((Uns,Fze)=>{"use strict";function Fw(){this.init()}Fw.prototype.init=function(){this.quota=null,this.TTL=null,this.takenThisSec=0,this.borrowedThisSec=0,this.reportInterval=1,this.reportElapsed=0};Fw.prototype.borrowOrTake=function(t,r){if(this.adjustThisSec(t),this.quota>=0&&this.TTL>=t)return this.takenThisSec>=this.quota?!1:(this.takenThisSec++,"take");if(r)return this.borrowedThisSec>=1?!1:(this.borrowedThisSec++,"borrow")};Fw.prototype.adjustThisSec=function(t){t!==this.thisSec&&(this.takenThisSec=0,this.borrowedThisSec=0,this.thisSec=t)};Fw.prototype.loadNewQuota=function(t,r,n){t&&(this.quota=t),r&&(this.TTL=r),n&&(this.reportInterval=n/10)};Fw.prototype.timeToReport=function(){return this.reportElapsed+1>=this.reportInterval?(this.reportElapsed=0,!0):(this.reportElapsed+=1,!1)};Fze.exports=Fw});var jze=E((Fns,qze)=>{"use strict";var pO=la(),qyr=Bze();function mo(e,t,r,n,s,i,o,a,c){this.init(e,t,r,n,s,i,o,a,c)}mo.prototype.init=function(t,r,n,s,i,o,a,c,l){this.name=t,this.priority=r,this.rate=n,this.host=i,this.httpMethod=o,this.urlPath=a,this.serviceName=c,this.serviceType=l,this.reservoir=new qyr,this.borrow=!!s,this.resetStatistics()};mo.prototype.match=function(t){var r=t.host,n=t.httpMethod,s=t.serviceName,i=t.urlPath,o=t.serviceType;return this.isDefault()||(!r||pO.wildcardMatch(this.host,r))&&(!n||pO.wildcardMatch(this.httpMethod,n))&&(!s||pO.wildcardMatch(this.serviceName,s))&&(!i||pO.wildcardMatch(this.urlPath,i))&&(!o||pO.wildcardMatch(this.serviceType,o))};mo.prototype.snapshotStatistics=function(){var t={requestCount:this.requestCount,borrowCount:this.borrowCount,sampledCount:this.sampledCount};return this.resetStatistics(),t};mo.prototype.merge=function(t){this.reservoir=t.reservoir,this.requestCount=t.requestCount,this.borrowCount=t.borrowCount,this.sampledCount=t.sampledCount,t=null};mo.prototype.isDefault=function(){return this.name==="Default"};mo.prototype.incrementRequestCount=function(){this.requestCount++};mo.prototype.incrementBorrowCount=function(){this.borrowCount++};mo.prototype.incrementSampledCount=function(){this.sampledCount++};mo.prototype.setRate=function(t){this.rate=t};mo.prototype.getRate=function(){return this.rate};mo.prototype.getName=function(){return this.name};mo.prototype.getPriority=function(){return this.priority};mo.prototype.getReservoir=function(){return this.reservoir};mo.prototype.resetStatistics=function(){this.requestCount=0,this.borrowCount=0,this.sampledCount=0};mo.prototype.canBorrow=function(){return this.borrow};mo.prototype.everMatched=function(){return this.requestCount>0};mo.prototype.timeToReport=function(){return this.reservoir.timeToReport()};qze.exports=mo});var vte=E((Bns,Vze)=>{"use strict";var jyr=require("crypto"),$yr=hs(),zyr=jze(),l$=t$(),Hyr=require("util"),Vyr=require("http"),zze={clientId:jyr.randomBytes(12).toString("hex"),samplingRulesPath:"/GetSamplingRules",samplingTargetsPath:"/SamplingTargets",logger:$yr,httpClient:Vyr,fetchSamplingRules:function(t){let r="{}",n=$ze(this.samplingRulesPath,r.length),i=(this.httpClient.__request?this.httpClient.__request:this.httpClient.request)(n,o=>{var a="";o.on("data",c=>{a+=c}),o.on("error",c=>{t(c)}),o.on("end",()=>{var c;try{c=JSON.parse(a)}catch(d){t(d);return}if(!c){t(new Error("AWS X-Ray GetSamplingRules API returned empty response"));return}var l=Wyr(c);t(null,l)})});i.on("error",()=>{t(new Error(`Failed to connect to X-Ray daemon at ${n.hostname}:${n.port} to get sampling rules.`))}),i.write(r),i.end()},fetchTargets:function(t,r){let n=JSON.stringify(Gyr(t)),s=$ze(this.samplingTargetsPath,n.length),o=(this.httpClient.__request?this.httpClient.__request:this.httpClient.request)(s,a=>{var c="";a.on("data",l=>{c+=l}),a.on("error",l=>{r(l)}),a.on("end",()=>{var l;try{l=JSON.parse(c)}catch(m){r(m);return}if(!l||typeof l.LastRuleModification!="number"){r(new Error("AWS X-Ray SamplingTargets API returned invalid response"));return}var d=Kyr(l),u=Hze(l.LastRuleModification);r(null,d,u)})});o.on("error",()=>{r(new Error(`Failed to connect to X-Ray daemon at ${s.hostname}:${s.port} to get sampling targets.`))}),o.write(n),o.end()}},Gyr=function(t){var r=[],n=Math.floor(new Date().getTime()/1e3);return t.forEach(function(s){var i=s.snapshotStatistics(),o={RuleName:s.getName(),ClientID:zze.clientId,RequestCount:i.requestCount,BorrowCount:i.borrowCount,SampledCount:i.sampledCount,Timestamp:n};r.push(o)}),{SamplingStatisticsDocuments:r}},Wyr=function(t){var r=[],n=t.SamplingRuleRecords||[];return n.forEach(function(s){if(s=s.SamplingRule,Xyr(s)){var i=new zyr(s.RuleName,s.Priority,s.FixedRate,s.ReservoirSize,s.Host,s.HTTPMethod,s.URLPath,s.ServiceName,s.ServiceType);r.push(i)}}),r},Kyr=function(t){var r=t.SamplingTargetDocuments||[],n={};return r.forEach(function(s){var i={rate:s.FixedRate,quota:s.ReservoirQuota,TTL:Hze(s.ReservoirQuotaTTL),interval:s.Interval};n[s.RuleName]=i}),n},Xyr=function(t){return t.Version===1&&t.ResourceARN==="*"&&t.Attributes&&Object.keys(t.Attributes).length===0&&t.ServiceType&&t.RuleName&&t.Priority&&typeof t.FixedRate=="number"},Hze=function(t){return new Date(t).getTime()/1e3},$ze=function(t,r){return{hostname:l$.tcp_ip,port:l$.tcp_port,method:"POST",path:t,headers:{"Content-Type":"application/json","Content-Length":r,Host:Hyr.format("%s:%d",l$.tcp_ip,l$.tcp_port)}}};Vze.exports=zze});var d$=E((qns,Gze)=>{"use strict";var Jyr=3600,Ete={rules:[],lastUpdated:null,getMatchedRule:function(t,r){if(Qyr(r))return null;var n;return this.rules.forEach(function(s){!n&&s.match(t)&&(n=s),s.isDefault()&&!n&&(n=s)}),n},loadRules:function(t){var r={};this.rules.forEach(function(n){r[n.getName()]=n}),this.rules=t,this.rules.forEach(function(n){var s=r[n.getName()];s&&n.merge(s)}),this.rules.sort(function(n,s){var i=n.getPriority()-s.getPriority();return i!==0?i:n.getName()>s.getName()?1:-1})},loadTargets:function(t){this.rules.forEach(function(r){var n=t[r.getName()];n&&(r.getReservoir().loadNewQuota(n.quota,n.TTL,n.interval),r.setRate(n.rate))})},getRules:function(){return this.rules},timestamp:function(t){this.lastUpdated=t},getLastUpdated:function(){return this.lastUpdated}},Qyr=function(t){return Ete.getLastUpdated()?t>Ete.getLastUpdated()+Jyr:!0};Gze.exports=Ete});var bte=E((jns,Jze)=>{"use strict";var Cte=hs(),Yyr=vte(),Wze=d$(),Zyr=5*60*1e3,e_r={start:function(){this.poller&&clearInterval(this.poller),Kze(!1),this.poller=setInterval(Kze,Zyr),this.poller.unref()}},Kze=function(t){if(t=typeof t>"u"?!0:t,t){var r=r_r();setTimeout(Xze,r)}else Xze()},Xze=function(){try{t_r()}catch(t){Cte.getLogger().warn("Encountered unexpected exception when fetching sampling rules: "+t)}},t_r=function(){var t=Math.floor(new Date().getTime()/1e3);Yyr.fetchSamplingRules(function(r,n){r?Cte.getLogger().warn("Failed to retrieve sampling rules from X-Ray service:",r):n.length!==0&&(Wze.loadRules(n),Wze.timestamp(t),Cte.getLogger().info("Successfully refreshed centralized sampling rule cache."))})},r_r=function(){return Math.random()*5};Jze.exports=e_r});var eHe=E(($ns,Zze)=>{"use strict";var n_r=bte(),s_r=vte(),wte=d$(),u$=hs(),Qze=10*1e3,Yze={interval:Qze,start:function(){this.poller=setInterval(i_r,Qze+c_r()),this.poller.unref()}},i_r=function(){try{o_r()}catch(t){u$.getLogger().warn("Encountered unexpected exception when fetching sampling targets: "+t)}},o_r=function(){var t=a_r();t&&t.length>0&&s_r.fetchTargets(t,function(r,n,s){if(r){u$.getLogger().warn("Failed to retrieve sampling targets from X-Ray service:",r);return}wte.loadTargets(n),s>wte.getLastUpdated()&&(u$.getLogger().info("Performing out-of-band sampling rule polling to fetch updated rules."),n_r.start()),u$.getLogger().info("Successfully reported rule statistics to get new sampling quota.")})},a_r=function(){var t=wte.getRules(),r=[];return t.forEach(function(n){n.everMatched()&&n.timeToReport()&&r.push(n)}),r},c_r=function(){return Math.random()/Yze.interval};Zze.exports=Yze});var rHe=E((zns,tHe)=>{"use strict";var Ate=hs(),l_r=require("util"),d_r=my(),u_r={localSampler:Ste(),rulePoller:bte(),targetPoller:eHe(),ruleCache:d$(),started:!1,shouldSample:function(t){try{this.started||this.start(),t.serviceType||(t.serviceType=d_r.origin);var r=Math.floor(new Date().getTime()/1e3),n=this.ruleCache.getMatchedRule(t,r);return n?(Ate.getLogger().debug(l_r.format("Rule %s is matched.",n.getName())),m_r(n,r)):(Ate.getLogger().info("No effective centralized sampling rule match. Fallback to local rules."),this.localSampler.shouldSample(t))}catch(s){Ate.getLogger().error("Unhandled exception by the SDK during making sampling decisions: "+s)}},setLocalRules:function(t){this.localSampler.setLocalRules(t)},start:function(){this.started||(this.rulePoller.start(),this.targetPoller.start(),this.started=!0)}},m_r=function(t,r){t.incrementRequestCount();var n=t.getReservoir(),s=!0,i=n.borrowOrTake(r,t.canBorrow());return i==="borrow"?t.incrementBorrowCount():i==="take"||Math.random()<=t.getRate()?t.incrementSampledCount():s=!1,s?t.getName():!1};tHe.exports=u_r});var Pte=E((Hns,nHe)=>{"use strict";var f_r=mO(),p_r=hte(),g_r=hs(),h_r=la(),y_r=la().wildcardMatch,__r=la().processTraceData,xte="x-amzn-trace-id",S_r=!!process.env.AWS_XRAY_TRACING_NAME,v_r={defaultName:process.env.AWS_XRAY_TRACING_NAME,dynamicNaming:!1,hostPattern:null,sampler:rHe(),enableDynamicNaming:function(e){if(this.dynamicNaming=!0,e&&typeof e!="string")throw new Error("Host pattern must be a string.");this.hostPattern=e||null},processHeaders:function(t){var r={};return t&&t.headers&&t.headers[xte]&&(r=__r(t.headers[xte])),r},resolveName:function(t){var r;return this.dynamicNaming&&t?r=this.hostPattern?y_r(this.hostPattern,t)?t:this.defaultName:t:r=this.defaultName,r},resolveSampling:function(t,r,n){var s;if(t.sampled==="1")s=!0;else if(t.sampled==="0")s=!1;else{var i={host:n.req.headers.host,httpMethod:n.req.method,urlPath:n.req.url,serviceName:r.name};s=this.sampler.shouldSample(i),(s instanceof String||typeof s=="string")&&(r.setMatchedSamplingRule(s),s=!0)}t.sampled==="?"&&n.header&&n.header(xte,"Root="+t.root+";Sampled="+(s?"1":"0")),s||(r.notTraced=!0)},setDefaultName:function(t){S_r||(this.defaultName=t)},disableCentralizedSampling:function(){this.sampler=Ste()},setSamplingRules:function(t){if(!t||t instanceof String||!(typeof t=="string"||t instanceof Object))throw new Error("Please specify a path to the local sampling rules file, or supply an object containing the rules.");this.sampler.setLocalRules(t)},middlewareLog:function(t,r,n){g_r.getLogger().debug(t+": { url: "+r+", name: "+n.name+", trace_id: "+n.trace_id+", id: "+n.id+", sampled: "+!n.notTraced+" }")},traceRequestResponseCycle:function(t,r){var n=this.processHeaders(t),s=this.resolveName(t.headers.host),i=new f_r(s,n.root,n.parent);r.req||(r.req=t),this.resolveSampling(n,i,r),i.addIncomingRequestData(new p_r(t)),this.middlewareLog("Starting middleware segment",t.url,i);var o=this.middlewareLog,a=!1,c=function(){if(a)return;a=!0,r.statusCode===429&&i.addThrottleFlag();let l=h_r.getCauseTypeFromHttpStatus(r.statusCode);l&&(i[l]=!0),i.http.close(r),i.close(),o("Closed middleware segment successfully",t.url,i)};return r.on("finish",c),r.on("close",c),i}};nHe.exports=v_r});var oHe=E((Vns,iHe)=>{"use strict";var m$=gy(),E_r=Pte(),Rte=la().LambdaUtils,C_r=mO(),b_r=n$(),w_r=my(),Ite=hs(),sHe=i$(),Tte=null;iHe.exports.init=function(){m$.enableManualMode=function(){Ite.getLogger().warn("AWS Lambda does not support AWS X-Ray manual mode.")},b_r.disableReusableSocket(),w_r.setStreamingThreshold(0),Ite.getLogger().info("Disabling centralized sampling in Lambda environment."),E_r.disableCentralizedSampling();var t=m$.getNamespace();t.enter(t.createContext()),m$.setSegment(A_r())};var A_r=function(){var t=new C_r("facade"),r=["addNewSubsegment","addSubsegment","removeSubsegment","toString","addSubsegmentWithoutSampling","addNewSubsegmentWithoutSampling"],n=["incrementCounter","decrementCounter","isClosed","close","format","flush"],s=process.env._X_AMZN_TRACE_ID;for(var i in t)typeof t[i]=="function"&&r.indexOf(i)===-1&&(n.indexOf(i)===-1?t[i]=function(){var o=i;return function(){Ite.getLogger().warn('Function "'+o+'" cannot be called on an AWS Lambda segment. Please use a subsegment to record data.')}}():t[i]=function(){});return t.trace_id=sHe.Invalid().toString(),t.isClosed=function(){return!0},t.in_progress=!1,t.counter=1,t.notTraced=!0,t.facade=!0,t.reset=function(){this.trace_id=sHe.Invalid().toString(),this.id="00000000",delete this.subsegments,this.notTraced=!0},t.resolveLambdaTraceData=function(){var a=process.env._X_AMZN_TRACE_ID;a?a!=Tte&&(this.reset(),Rte.populateTraceData(t,a)&&(Tte=a)):(this.reset(),m$.contextMissingStrategy.contextMissing("Missing AWS Lambda trace data for X-Ray. Ensure Active Tracing is enabled and no subsegments are created outside the function handler."))},Rte.validTraceData(s)&&Rte.populateTraceData(t,s)&&(Tte=s),t}});var aHe=E((Gns,x_r)=>{x_r.exports={name:"aws-xray-sdk-core",version:"3.10.3",description:"AWS X-Ray SDK for Javascript",author:"Amazon Web Services",contributors:["Sandra McMullen <mcmuls@amazon.com>","William Armiros <armiros@amazon.com>","Moritz Onken <onken@netcubed.de>"],files:["dist/lib/**/*","LICENSE","README.md"],main:"dist/lib/index.js",types:"dist/lib/index.d.ts",engines:{node:">= 14.x"},directories:{test:"test"},"//":"@types/cls-hooked is exposed in API so must be in dependencies, not devDependencies",dependencies:{"@aws-sdk/types":"^3.4.1","@smithy/service-error-classification":"^2.0.4","@types/cls-hooked":"^4.3.3","atomic-batcher":"^1.0.2","cls-hooked":"^4.2.2",semver:"^7.5.3"},scripts:{prepare:"npm run compile",compile:"tsc && npm run copy-lib && npm run copy-test","copy-lib":"find lib -type f \\( -name '*.d.ts' -o -name '*.json' \\) | xargs -I % ../../scripts/cp-with-structure.sh % dist","copy-test":"find test -name '*.json' | xargs -I % ../../scripts/cp-with-structure.sh % dist",lint:"eslint .","lint:fix":"eslint . --fix",test:"npm run compile && mocha --recursive ./dist/test/ -R spec && tsd && mocha --recursive ./dist/test_async/ -R spec","test-d":"tsd","test-async":"npm run compile && mocha --recursive ./dist/test_async/ -R spec",clean:"rm -rf dist && rm -rf node_modules",testcov:"nyc npm run test",reportcov:"nyc report --reporter=text-lcov > coverage.lcov"},keywords:["amazon","api","aws","core","xray","x-ray","x ray"],license:"Apache-2.0",repository:"https://github.com/aws/aws-xray-sdk-node/tree/master/packages/core",gitHead:"f838200543af28912291e2bf309991366cd9abea"}});var dHe=E((Wns,lHe)=>{"use strict";var Ote=require("http"),cHe={METADATA_TIMEOUT:1e3,getPluginMetadata:function(e,t){var s=5,i=function(){var o=Ote.__request?Ote.__request:Ote.request,a=o(e,function(c){var l="";c.on("data",function(d){l+=d}),c.on("end",function(){if(this.statusCode===200||this.statusCode===300){try{l=JSON.parse(l)}catch(d){t(d);return}t(null,l)}else s>0&&Math.floor(this.statusCode/100)===5?(s--,setTimeout(i,250)):t(new Error(`Failed to retrieve metadata with options: ${e}`))})});a.on("error",function(c){t(c)}),a.on("timeout",function(){a.abort()}),a.setTimeout(cHe.METADATA_TIMEOUT),a.end()};i()}};lHe.exports=cHe});var gHe=E((Kns,pHe)=>{"use strict";var mHe=dHe(),uHe=hs(),Nte=require("http"),P_r={getData:function(e){let t="/latest/dynamic/instance-identity/document";function r(n){let s=fHe(t,"GET",n?{"X-aws-ec2-metadata-token":n}:{});mHe.getPluginMetadata(s,function(i,o){if(i||!o){uHe.getLogger().error("Error loading EC2 plugin metadata: ",i?i.toString():"Could not retrieve data from IMDS."),e();return}let a={ec2:{instance_id:o.instanceId,availability_zone:o.availabilityZone,instance_size:o.instanceType,ami_id:o.imageId}};e(a)})}R_r(function(n){n===null&&uHe.getLogger().debug("EC2Plugin failed to get token from IMDSv2. Falling back to IMDSv1."),r(n)})},originName:"AWS::EC2::Instance"};function R_r(e){let t=Nte.__request?Nte.__request:Nte.request,s=fHe("/latest/api/token","PUT",{"X-aws-ec2-metadata-token-ttl-seconds":60}),i=t(s,function(o){let a="";o.on("data",function(c){a+=c}),o.on("end",function(){this.statusCode===200||this.statusCode===300?e(a):e(null)})});i.on("error",function(){e(null)}),i.on("timeout",function(){i.abort(),e(null)}),i.setTimeout(mHe.METADATA_TIMEOUT),i.end()}function fHe(e,t,r){return t||(t="GET"),r||(r={}),{host:"169.254.169.254",path:e,method:t,headers:r}}pHe.exports=P_r});var yHe=E((Xns,hHe)=>{"use strict";var T_r=require("os"),I_r={getData:function(e){e({ecs:{container:T_r.hostname()}})},originName:"AWS::ECS::Container"};hHe.exports=I_r});var SHe=E((Jns,_He)=>{"use strict";var O_r=require("fs"),N_r=hs(),D_r="/var/elasticbeanstalk/xray/environment.conf",k_r={getData:function(e){O_r.readFile(D_r,"utf8",function(t,r){if(t)N_r.getLogger().error("Error loading Elastic Beanstalk plugin:",t.stack),e();else{var n=JSON.parse(r),s={elastic_beanstalk:{environment:n.environment_name,version_label:n.version_label,deployment_id:n.deployment_id}};e(s)}})},originName:"AWS::ElasticBeanstalk::Environment"};_He.exports=k_r});var vHe=E((Qns,M_r)=>{M_r.exports={services:{dynamodb:{operations:{batchGetItem:{request_descriptors:{RequestItems:{get_keys:!0,rename_to:"table_names"}},response_parameters:["ConsumedCapacity"]},batchWriteItem:{request_descriptors:{RequestItems:{get_keys:!0,rename_to:"table_names"}},response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},createTable:{request_parameters:["GlobalSecondaryIndexes","LocalSecondaryIndexes","ProvisionedThroughput","TableName"]},deleteItem:{request_parameters:["TableName"],response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},deleteTable:{request_parameters:["TableName"]},describeTable:{request_parameters:["TableName"]},getItem:{request_parameters:["ConsistentRead","ProjectionExpression","TableName"],response_parameters:["ConsumedCapacity"]},listTables:{request_parameters:["ExclusiveStartTableName","Limit"],response_descriptors:{TableNames:{list:!0,get_count:!0,rename_to:"table_count"}}},putItem:{request_parameters:["TableName"],response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},query:{request_parameters:["AttributesToGet","ConsistentRead","IndexName","Limit","ProjectionExpression","ScanIndexForward","Select","TableName"],response_parameters:["ConsumedCapacity"]},scan:{request_parameters:["AttributesToGet","ConsistentRead","IndexName","Limit","ProjectionExpression","Segment","Select","TableName","TotalSegments"],response_parameters:["ConsumedCapacity","Count","ScannedCount"]},updateItem:{request_parameters:["TableName"],response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},updateTable:{request_parameters:["AttributeDefinitions","GlobalSecondaryIndexUpdates","ProvisionedThroughput","TableName"]}}},sqs:{operations:{addPermission:{request_parameters:["Label","QueueUrl"]},changeMessageVisibility:{request_parameters:["QueueUrl","VisibilityTimeout"]},changeMessageVisibilityBatch:{request_parameters:["QueueUrl"],response_parameters:["Failed"]},createQueue:{request_parameters:["Attributes","QueueName"]},deleteMessage:{request_parameters:["QueueUrl"]},deleteMessageBatch:{request_parameters:["QueueUrl"],response_parameters:["Failed"]},deleteQueue:{request_parameters:["QueueUrl"]},getQueueAttributes:{request_parameters:["QueueUrl"],response_parameters:["Attributes"]},getQueueUrl:{request_parameters:["QueueName","QueueOwnerAWSAccountId"],response_parameters:["QueueUrl"]},listDeadLetterSourceQueues:{request_parameters:["QueueUrl"],response_parameters:["QueueUrls"]},listQueues:{request_parameters:["QueueNamePrefix"],response_descriptors:{QueueUrls:{list:!0,get_count:!0,rename_to:"queue_count"}}},purgeQueue:{request_parameters:["QueueUrl"]},receiveMessage:{request_parameters:["AttributeNames","MaxNumberOfMessages","MessageAttributeNames","QueueUrl","VisibilityTimeout","WaitTimeSeconds"],response_descriptors:{Messages:{list:!0,get_count:!0,rename_to:"message_count"}}},removePermission:{request_parameters:["QueueUrl"]},sendMessage:{request_parameters:["DelaySeconds","QueueUrl"],request_descriptors:{MessageAttributes:{get_keys:!0,rename_to:"message_attribute_names"}},response_parameters:["MessageId"]},sendMessageBatch:{request_parameters:["QueueUrl"],request_descriptors:{Entries:{list:!0,get_count:!0,rename_to:"message_count"}},response_descriptors:{Failed:{list:!0,get_count:!0,rename_to:"failed_count"},Successful:{list:!0,get_count:!0,rename_to:"successful_count"}}},setQueueAttributes:{request_parameters:["QueueUrl"],request_descriptors:{Attributes:{get_keys:!0,rename_to:"attribute_names"}}}}},sns:{operations:{publish:{request_parameters:["TopicArn"]},publishBatch:{request_parameters:["TopicArn"]}}},lambda:{operations:{invoke:{request_parameters:["FunctionName","InvocationType","LogType","Qualifier"],response_parameters:["FunctionError","StatusCode"]},invokeAsync:{request_parameters:["FunctionName"],response_parameters:["Status"]}}},s3:{operations:{abortMultipartUpload:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},completeMultipartUpload:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},copyObject:{request_parameters:["CopySource","Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},createBucket:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},createMultipartUpload:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucket:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketAnalyticsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketCors:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketEncryption:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketInventoryConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketLifecycle:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketMetricsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketPolicy:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketReplication:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketTagging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketWebsite:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteObjectTagging:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteObjects:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketAccelerateConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketAcl:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketAnalyticsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketCors:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketEncryption:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketInventoryConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLifecycle:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLifecycleConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLocation:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLogging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketMetricsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketNotification:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketNotificationConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketPolicy:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketReplication:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketRequestPayment:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketTagging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketVersioning:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketWebsite:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObjectAcl:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObjectTagging:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObjectTorrent:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},headBucket:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},headObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listBucketAnalyticsConfigurations:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listBucketInventoryConfigurations:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listBucketMetricsConfigurations:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listMultipartUploads:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listObjectVersions:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listObjects:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listObjectsV2:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listParts:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketAccelerateConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketAcl:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketAnalyticsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketCors:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketEncryption:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketInventoryConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketLifecycle:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketLifecycleConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketLogging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketMetricsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketNotification:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketNotificationConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketPolicy:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketReplication:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketRequestPayment:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketTagging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketVersioning:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketWebsite:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putObject:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putObjectAcl:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putObjectTagging:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},restoreObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},uploadPart:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},uploadPartCopy:{request_parameters:["CopySource","Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}}}},sagemakerruntime:{operations:{invokeEndpoint:{request_parameters:["EndpointName"]}}}}}});var xHe=E((Yns,AHe)=>{"use strict";var bHe=require("fs"),Bw=hs(),L_r=vHe(),f$={REQ_DESC:"request_descriptors",REQ_PARAMS:"request_parameters",RES_DESC:"response_descriptors",RES_PARAMS:"response_parameters"};function g$(e){this.init(e)}g$.prototype.init=function(t){t?typeof t=="string"?(Bw.getLogger().info("Using custom AWS whitelist file: "+t),this.services=p$(JSON.parse(bHe.readFileSync(t,"utf8")))):(Bw.getLogger().info("Using custom AWS whitelist source."),this.services=p$(t)):this.services=L_r.services};g$.prototype.append=function(t){var r={};typeof t=="string"?(Bw.getLogger().info("Appending AWS whitelist with custom file: "+t),r=p$(JSON.parse(bHe.readFileSync(t,"utf8")))):(Bw.getLogger().info("Appending AWS whitelist with a custom source."),r=p$(t));for(var n in r)this.services[n]=r[n]};g$.prototype.capture=function(t,r){var n=r.request.operation,s=this.services[t]!==void 0?this.services[t].operations[n]:null;if(s===null){Bw.getLogger().debug('Call "'+t+"."+n+'" is not whitelisted for additional data capturing. Ignoring.');return}var i={};for(var o in s){var a=s[o];o===f$.REQ_PARAMS?EHe(a,r.request.params,i):o===f$.REQ_DESC?CHe(a,r.request.params,i):o===f$.RES_PARAMS?r.data&&EHe(a,r.data,i):o===f$.RES_DESC?r.data&&CHe(a,r.data,i):Bw.getLogger().error('Unknown parameter type "'+o+'". Must be "request_descriptors", "response_descriptors", "request_parameters" or "response_parameters".')}return i};function EHe(e,t,r){e.forEach(function(n){if(typeof t[n]<"u"){var s=wHe(n);this[s]=t[n]}},r)}function CHe(e,t,r){for(var n in e){var s=e[n];if(typeof t[n]<"u"){var i;if(s.list&&s.get_count?i=t[n]?t[n].length:0:i=s.get_keys===!0?Object.keys(t[n]):t[n],typeof s.rename_to=="string")r[s.rename_to]=i;else{var o=wHe(n);r[o]=i}}}}function wHe(e){return e==="IPAddress"?"ip_address":e.split(/(?=[A-Z])/).join("_").toLowerCase()}function p$(e){var t=e;if(t.services===void 0)throw new Error('Document formatting is incorrect. Expecting "services" param.');return t.services}AHe.exports=g$});var gO=E((Zns,h$)=>{"use strict";var PHe=xHe(),Dte=new PHe;function kte(e,t){this.init(e,t)}kte.prototype.init=function(t,r){this.operation=B_r(t.request.operation)||"",t&&t.request&&t.request.httpRequest&&t.request.httpRequest.region&&(this.region=t.request.httpRequest.region),t&&t.requestId&&(this.request_id=t.requestId),this.retries=t.retryCount||0,t.extendedRequestId&&r&&r.toLowerCase()==="s3"&&(this.id_2=t.extendedRequestId),r&&this.addData(Dte.capture(r.toLowerCase(),t))};kte.prototype.addData=function(t){for(var r in t)this[r]=t[r]};var U_r=function(t){if(!t||t instanceof String||!(typeof t=="string"||t instanceof Object))throw new Error("Please specify a path to the local whitelist file, or supply a whitelist source object.");Dte=new PHe(t)},F_r=function(t){if(!t||t instanceof String||!(typeof t=="string"||t instanceof Object))throw new Error("Please specify a path to the local whitelist file, or supply a whitelist source object.");Dte.append(t)};function B_r(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}h$.exports=kte;h$.exports.appendAWSWhitelist=F_r;h$.exports.setAWSWhitelist=U_r});var _$=E((ess,y$)=>{"use strict";var Ov=gy(),hO=hs(),RHe=function(t,r,n){Mte(t,r);var s,i,o=Ov.resolveSegment(n);if(!o)return hO.getLogger().warn("Failed to capture function."),r();s=o.addNewSubsegment(t),i=THe(r,s);try{let a=i(s);return s.close(),a}catch(a){throw s.close(a),a}},q_r=function(t,r,n){Mte(t,r);var s,i,o=Ov.resolveSegment(n);if(!o)return hO.getLogger().warn("Failed to capture async function."),r();s=o.addNewSubsegment(t),i=THe(r,s);try{return i(s)}catch(a){throw s.close(a),a}},j_r=function(t,r,n){Mte(t,r);var s=Ov.resolveSegment(n);return s?(s.incrementCounter(),function(){var i=Ov.resolveSegment(n),o=Array.prototype.slice.call(arguments);RHe(t,r.bind.apply(r,[null].concat(o)),i),s.decrementCounter()}.bind(this)):(hO.getLogger().warn("Failed to capture callback function."),r)};function THe(e,t){var r;if(Ov.isAutomaticMode()){var n=Ov.getNamespace(),s=function(){var i;return n.run(function(){Ov.setSegment(t),i=e(t)}),i};r=s}else r=e;return r}function Mte(e,t){var r;if(!e||typeof e!="string")throw r='Param "name" must be a non-empty string.',hO.getLogger().error(r),new Error(r);if(typeof t!="function")throw r='Param "fcn" must be a function.',hO.getLogger().error(r),new Error(r)}y$.exports.captureFunc=RHe;y$.exports.captureAsyncFunc=q_r;y$.exports.captureCallbackFunc=j_r});var yO=E((tss,IHe)=>{"use strict";var $_r="2.0.0",z_r=Number.MAX_SAFE_INTEGER||9007199254740991,H_r=16,V_r=250,G_r=["major","premajor","minor","preminor","patch","prepatch","prerelease"];IHe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:H_r,MAX_SAFE_BUILD_LENGTH:V_r,MAX_SAFE_INTEGER:z_r,RELEASE_TYPES:G_r,SEMVER_SPEC_VERSION:$_r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var _O=E((rss,OHe)=>{"use strict";var W_r=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};OHe.exports=W_r});var qw=E((Km,NHe)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Lte,MAX_SAFE_BUILD_LENGTH:K_r,MAX_LENGTH:X_r}=yO(),J_r=_O();Km=NHe.exports={};var Q_r=Km.re=[],Y_r=Km.safeRe=[],Me=Km.src=[],Z_r=Km.safeSrc=[],Le=Km.t={},eSr=0,Ute="[a-zA-Z0-9-]",tSr=[["\\s",1],["\\d",X_r],[Ute,K_r]],rSr=e=>{for(let[t,r]of tSr)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},Et=(e,t,r)=>{let n=rSr(t),s=eSr++;J_r(e,s,t),Le[e]=s,Me[s]=t,Z_r[s]=n,Q_r[s]=new RegExp(t,r?"g":void 0),Y_r[s]=new RegExp(n,r?"g":void 0)};Et("NUMERICIDENTIFIER","0|[1-9]\\d*");Et("NUMERICIDENTIFIERLOOSE","\\d+");Et("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ute}*`);Et("MAINVERSION",`(${Me[Le.NUMERICIDENTIFIER]})\\.(${Me[Le.NUMERICIDENTIFIER]})\\.(${Me[Le.NUMERICIDENTIFIER]})`);Et("MAINVERSIONLOOSE",`(${Me[Le.NUMERICIDENTIFIERLOOSE]})\\.(${Me[Le.NUMERICIDENTIFIERLOOSE]})\\.(${Me[Le.NUMERICIDENTIFIERLOOSE]})`);Et("PRERELEASEIDENTIFIER",`(?:${Me[Le.NONNUMERICIDENTIFIER]}|${Me[Le.NUMERICIDENTIFIER]})`);Et("PRERELEASEIDENTIFIERLOOSE",`(?:${Me[Le.NONNUMERICIDENTIFIER]}|${Me[Le.NUMERICIDENTIFIERLOOSE]})`);Et("PRERELEASE",`(?:-(${Me[Le.PRERELEASEIDENTIFIER]}(?:\\.${Me[Le.PRERELEASEIDENTIFIER]})*))`);Et("PRERELEASELOOSE",`(?:-?(${Me[Le.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Me[Le.PRERELEASEIDENTIFIERLOOSE]})*))`);Et("BUILDIDENTIFIER",`${Ute}+`);Et("BUILD",`(?:\\+(${Me[Le.BUILDIDENTIFIER]}(?:\\.${Me[Le.BUILDIDENTIFIER]})*))`);Et("FULLPLAIN",`v?${Me[Le.MAINVERSION]}${Me[Le.PRERELEASE]}?${Me[Le.BUILD]}?`);Et("FULL",`^${Me[Le.FULLPLAIN]}$`);Et("LOOSEPLAIN",`[v=\\s]*${Me[Le.MAINVERSIONLOOSE]}${Me[Le.PRERELEASELOOSE]}?${Me[Le.BUILD]}?`);Et("LOOSE",`^${Me[Le.LOOSEPLAIN]}$`);Et("GTLT","((?:<|>)?=?)");Et("XRANGEIDENTIFIERLOOSE",`${Me[Le.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Et("XRANGEIDENTIFIER",`${Me[Le.NUMERICIDENTIFIER]}|x|X|\\*`);Et("XRANGEPLAIN",`[v=\\s]*(${Me[Le.XRANGEIDENTIFIER]})(?:\\.(${Me[Le.XRANGEIDENTIFIER]})(?:\\.(${Me[Le.XRANGEIDENTIFIER]})(?:${Me[Le.PRERELEASE]})?${Me[Le.BUILD]}?)?)?`);Et("XRANGEPLAINLOOSE",`[v=\\s]*(${Me[Le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Me[Le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Me[Le.XRANGEIDENTIFIERLOOSE]})(?:${Me[Le.PRERELEASELOOSE]})?${Me[Le.BUILD]}?)?)?`);Et("XRANGE",`^${Me[Le.GTLT]}\\s*${Me[Le.XRANGEPLAIN]}$`);Et("XRANGELOOSE",`^${Me[Le.GTLT]}\\s*${Me[Le.XRANGEPLAINLOOSE]}$`);Et("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Lte}})(?:\\.(\\d{1,${Lte}}))?(?:\\.(\\d{1,${Lte}}))?`);Et("COERCE",`${Me[Le.COERCEPLAIN]}(?:$|[^\\d])`);Et("COERCEFULL",Me[Le.COERCEPLAIN]+`(?:${Me[Le.PRERELEASE]})?(?:${Me[Le.BUILD]})?(?:$|[^\\d])`);Et("COERCERTL",Me[Le.COERCE],!0);Et("COERCERTLFULL",Me[Le.COERCEFULL],!0);Et("LONETILDE","(?:~>?)");Et("TILDETRIM",`(\\s*)${Me[Le.LONETILDE]}\\s+`,!0);Km.tildeTrimReplace="$1~";Et("TILDE",`^${Me[Le.LONETILDE]}${Me[Le.XRANGEPLAIN]}$`);Et("TILDELOOSE",`^${Me[Le.LONETILDE]}${Me[Le.XRANGEPLAINLOOSE]}$`);Et("LONECARET","(?:\\^)");Et("CARETTRIM",`(\\s*)${Me[Le.LONECARET]}\\s+`,!0);Km.caretTrimReplace="$1^";Et("CARET",`^${Me[Le.LONECARET]}${Me[Le.XRANGEPLAIN]}$`);Et("CARETLOOSE",`^${Me[Le.LONECARET]}${Me[Le.XRANGEPLAINLOOSE]}$`);Et("COMPARATORLOOSE",`^${Me[Le.GTLT]}\\s*(${Me[Le.LOOSEPLAIN]})$|^$`);Et("COMPARATOR",`^${Me[Le.GTLT]}\\s*(${Me[Le.FULLPLAIN]})$|^$`);Et("COMPARATORTRIM",`(\\s*)${Me[Le.GTLT]}\\s*(${Me[Le.LOOSEPLAIN]}|${Me[Le.XRANGEPLAIN]})`,!0);Km.comparatorTrimReplace="$1$2$3";Et("HYPHENRANGE",`^\\s*(${Me[Le.XRANGEPLAIN]})\\s+-\\s+(${Me[Le.XRANGEPLAIN]})\\s*$`);Et("HYPHENRANGELOOSE",`^\\s*(${Me[Le.XRANGEPLAINLOOSE]})\\s+-\\s+(${Me[Le.XRANGEPLAINLOOSE]})\\s*$`);Et("STAR","(<|>)?=?\\s*\\*");Et("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Et("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var S$=E((nss,DHe)=>{"use strict";var nSr=Object.freeze({loose:!0}),sSr=Object.freeze({}),iSr=e=>e?typeof e!="object"?nSr:e:sSr;DHe.exports=iSr});var Fte=E((sss,LHe)=>{"use strict";var kHe=/^[0-9]+$/,MHe=(e,t)=>{let r=kHe.test(e),n=kHe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},oSr=(e,t)=>MHe(t,e);LHe.exports={compareIdentifiers:MHe,rcompareIdentifiers:oSr}});var ua=E((iss,FHe)=>{"use strict";var v$=_O(),{MAX_LENGTH:UHe,MAX_SAFE_INTEGER:E$}=yO(),{safeRe:C$,t:b$}=qw(),aSr=S$(),{compareIdentifiers:jw}=Fte(),Bte=class e{constructor(t,r){if(r=aSr(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>UHe)throw new TypeError(`version is longer than ${UHe} characters`);v$("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?C$[b$.LOOSE]:C$[b$.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>E$||this.major<0)throw new TypeError("Invalid major version");if(this.minor>E$||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>E$||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<E$)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(v$("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),jw(this.major,t.major)||jw(this.minor,t.minor)||jw(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(v$("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return jw(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(v$("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return jw(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?C$[b$.PRERELEASELOOSE]:C$[b$.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),jw(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};FHe.exports=Bte});var Nv=E((oss,qHe)=>{"use strict";var BHe=ua(),cSr=(e,t,r=!1)=>{if(e instanceof BHe)return e;try{return new BHe(e,t)}catch(n){if(!r)return null;throw n}};qHe.exports=cSr});var $He=E((ass,jHe)=>{"use strict";var lSr=Nv(),dSr=(e,t)=>{let r=lSr(e,t);return r?r.version:null};jHe.exports=dSr});var HHe=E((css,zHe)=>{"use strict";var uSr=Nv(),mSr=(e,t)=>{let r=uSr(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};zHe.exports=mSr});var WHe=E((lss,GHe)=>{"use strict";var VHe=ua(),fSr=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new VHe(e instanceof VHe?e.version:e,r).inc(t,n,s).version}catch{return null}};GHe.exports=fSr});var JHe=E((dss,XHe)=>{"use strict";var KHe=Nv(),pSr=(e,t)=>{let r=KHe(e,null,!0),n=KHe(t,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let d=c?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};XHe.exports=pSr});var YHe=E((uss,QHe)=>{"use strict";var gSr=ua(),hSr=(e,t)=>new gSr(e,t).major;QHe.exports=hSr});var eVe=E((mss,ZHe)=>{"use strict";var ySr=ua(),_Sr=(e,t)=>new ySr(e,t).minor;ZHe.exports=_Sr});var rVe=E((fss,tVe)=>{"use strict";var SSr=ua(),vSr=(e,t)=>new SSr(e,t).patch;tVe.exports=vSr});var sVe=E((pss,nVe)=>{"use strict";var ESr=Nv(),CSr=(e,t)=>{let r=ESr(e,t);return r&&r.prerelease.length?r.prerelease:null};nVe.exports=CSr});var ud=E((gss,oVe)=>{"use strict";var iVe=ua(),bSr=(e,t,r)=>new iVe(e,r).compare(new iVe(t,r));oVe.exports=bSr});var cVe=E((hss,aVe)=>{"use strict";var wSr=ud(),ASr=(e,t,r)=>wSr(t,e,r);aVe.exports=ASr});var dVe=E((yss,lVe)=>{"use strict";var xSr=ud(),PSr=(e,t)=>xSr(e,t,!0);lVe.exports=PSr});var w$=E((_ss,mVe)=>{"use strict";var uVe=ua(),RSr=(e,t,r)=>{let n=new uVe(e,r),s=new uVe(t,r);return n.compare(s)||n.compareBuild(s)};mVe.exports=RSr});var pVe=E((Sss,fVe)=>{"use strict";var TSr=w$(),ISr=(e,t)=>e.sort((r,n)=>TSr(r,n,t));fVe.exports=ISr});var hVe=E((vss,gVe)=>{"use strict";var OSr=w$(),NSr=(e,t)=>e.sort((r,n)=>OSr(n,r,t));gVe.exports=NSr});var SO=E((Ess,yVe)=>{"use strict";var DSr=ud(),kSr=(e,t,r)=>DSr(e,t,r)>0;yVe.exports=kSr});var A$=E((Css,_Ve)=>{"use strict";var MSr=ud(),LSr=(e,t,r)=>MSr(e,t,r)<0;_Ve.exports=LSr});var qte=E((bss,SVe)=>{"use strict";var USr=ud(),FSr=(e,t,r)=>USr(e,t,r)===0;SVe.exports=FSr});var jte=E((wss,vVe)=>{"use strict";var BSr=ud(),qSr=(e,t,r)=>BSr(e,t,r)!==0;vVe.exports=qSr});var x$=E((Ass,EVe)=>{"use strict";var jSr=ud(),$Sr=(e,t,r)=>jSr(e,t,r)>=0;EVe.exports=$Sr});var P$=E((xss,CVe)=>{"use strict";var zSr=ud(),HSr=(e,t,r)=>zSr(e,t,r)<=0;CVe.exports=HSr});var $te=E((Pss,bVe)=>{"use strict";var VSr=qte(),GSr=jte(),WSr=SO(),KSr=x$(),XSr=A$(),JSr=P$(),QSr=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return VSr(e,r,n);case"!=":return GSr(e,r,n);case">":return WSr(e,r,n);case">=":return KSr(e,r,n);case"<":return XSr(e,r,n);case"<=":return JSr(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};bVe.exports=QSr});var AVe=E((Rss,wVe)=>{"use strict";var YSr=ua(),ZSr=Nv(),{safeRe:R$,t:T$}=qw(),evr=(e,t)=>{if(e instanceof YSr)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?R$[T$.COERCEFULL]:R$[T$.COERCE]);else{let c=t.includePrerelease?R$[T$.COERCERTLFULL]:R$[T$.COERCERTL],l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return ZSr(`${n}.${s}.${i}${o}${a}`,t)};wVe.exports=evr});var PVe=E((Tss,xVe)=>{"use strict";var zte=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};xVe.exports=zte});var md=E((Iss,OVe)=>{"use strict";var tvr=/\s+/g,Hte=class e{constructor(t,r){if(r=nvr(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof Vte)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(tvr," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!TVe(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&dvr(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&cvr)|(this.options.loose&&lvr))+":"+t,s=RVe.get(n);if(s)return s;let i=this.options.loose,o=i?Rc[tc.HYPHENRANGELOOSE]:Rc[tc.HYPHENRANGE];t=t.replace(o,vvr(this.options.includePrerelease)),ns("hyphen replace",t),t=t.replace(Rc[tc.COMPARATORTRIM],ivr),ns("comparator trim",t),t=t.replace(Rc[tc.TILDETRIM],ovr),ns("tilde trim",t),t=t.replace(Rc[tc.CARETTRIM],avr),ns("caret trim",t);let a=t.split(" ").map(u=>uvr(u,this.options)).join(" ").split(/\s+/).map(u=>Svr(u,this.options));i&&(a=a.filter(u=>(ns("loose invalid filter",u,this.options),!!u.match(Rc[tc.COMPARATORLOOSE])))),ns("range list",a);let c=new Map,l=a.map(u=>new Vte(u,this.options));for(let u of l){if(TVe(u))return[u];c.set(u.value,u)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return RVe.set(n,d),d}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>IVe(n,r)&&t.set.some(s=>IVe(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new svr(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Evr(this.set[r],t,this.options))return!0;return!1}};OVe.exports=Hte;var rvr=PVe(),RVe=new rvr,nvr=S$(),Vte=vO(),ns=_O(),svr=ua(),{safeRe:Rc,t:tc,comparatorTrimReplace:ivr,tildeTrimReplace:ovr,caretTrimReplace:avr}=qw(),{FLAG_INCLUDE_PRERELEASE:cvr,FLAG_LOOSE:lvr}=yO(),TVe=e=>e.value==="<0.0.0-0",dvr=e=>e.value==="",IVe=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,t)),s=n.pop();return r},uvr=(e,t)=>(ns("comp",e,t),e=pvr(e,t),ns("caret",e),e=mvr(e,t),ns("tildes",e),e=hvr(e,t),ns("xrange",e),e=_vr(e,t),ns("stars",e),e),rc=e=>!e||e.toLowerCase()==="x"||e==="*",mvr=(e,t)=>e.trim().split(/\s+/).map(r=>fvr(r,t)).join(" "),fvr=(e,t)=>{let r=t.loose?Rc[tc.TILDELOOSE]:Rc[tc.TILDE];return e.replace(r,(n,s,i,o,a)=>{ns("tilde",e,n,s,i,o,a);let c;return rc(s)?c="":rc(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:rc(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(ns("replaceTilde pr",a),c=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,ns("tilde return",c),c})},pvr=(e,t)=>e.trim().split(/\s+/).map(r=>gvr(r,t)).join(" "),gvr=(e,t)=>{ns("caret",e,t);let r=t.loose?Rc[tc.CARETLOOSE]:Rc[tc.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,i,o,a,c)=>{ns("caret",e,s,i,o,a,c);let l;return rc(i)?l="":rc(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:rc(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:c?(ns("replaceCaret pr",c),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(ns("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),ns("caret return",l),l})},hvr=(e,t)=>(ns("replaceXRanges",e,t),e.split(/\s+/).map(r=>yvr(r,t)).join(" ")),yvr=(e,t)=>{e=e.trim();let r=t.loose?Rc[tc.XRANGELOOSE]:Rc[tc.XRANGE];return e.replace(r,(n,s,i,o,a,c)=>{ns("xRange",e,n,s,i,o,a,c);let l=rc(i),d=l||rc(o),u=d||rc(a),m=u;return s==="="&&m&&(s=""),c=t.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&m?(d&&(o=0),a=0,s===">"?(s=">=",d?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",d?i=+i+1:o=+o+1),s==="<"&&(c="-0"),n=`${s+i}.${o}.${a}${c}`):d?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:u&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),ns("xRange return",n),n})},_vr=(e,t)=>(ns("replaceStars",e,t),e.trim().replace(Rc[tc.STAR],"")),Svr=(e,t)=>(ns("replaceGTE0",e,t),e.trim().replace(Rc[t.includePrerelease?tc.GTE0PRE:tc.GTE0],"")),vvr=e=>(t,r,n,s,i,o,a,c,l,d,u,m)=>(rc(n)?r="":rc(s)?r=`>=${n}.0.0${e?"-0":""}`:rc(i)?r=`>=${n}.${s}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,rc(l)?c="":rc(d)?c=`<${+l+1}.0.0-0`:rc(u)?c=`<${l}.${+d+1}.0-0`:m?c=`<=${l}.${d}.${u}-${m}`:e?c=`<${l}.${d}.${+u+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Evr=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(ns(e[n].semver),e[n].semver!==Vte.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var vO=E((Oss,UVe)=>{"use strict";var EO=Symbol("SemVer ANY"),Kte=class e{static get ANY(){return EO}constructor(t,r){if(r=NVe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Wte("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===EO?this.value="":this.value=this.operator+this.semver.version,Wte("comp",this)}parse(t){let r=this.options.loose?DVe[kVe.COMPARATORLOOSE]:DVe[kVe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new MVe(n[2],this.options.loose):this.semver=EO}toString(){return this.value}test(t){if(Wte("Comparator.test",t,this.options.loose),this.semver===EO||t===EO)return!0;if(typeof t=="string")try{t=new MVe(t,this.options)}catch{return!1}return Gte(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new LVe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new LVe(this.value,r).test(t.semver):(r=NVe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Gte(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Gte(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};UVe.exports=Kte;var NVe=S$(),{safeRe:DVe,t:kVe}=qw(),Gte=$te(),Wte=_O(),MVe=ua(),LVe=md()});var CO=E((Nss,FVe)=>{"use strict";var Cvr=md(),bvr=(e,t,r)=>{try{t=new Cvr(t,r)}catch{return!1}return t.test(e)};FVe.exports=bvr});var qVe=E((Dss,BVe)=>{"use strict";var wvr=md(),Avr=(e,t)=>new wvr(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));BVe.exports=Avr});var $Ve=E((kss,jVe)=>{"use strict";var xvr=ua(),Pvr=md(),Rvr=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Pvr(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new xvr(n,r))}),n};jVe.exports=Rvr});var HVe=E((Mss,zVe)=>{"use strict";var Tvr=ua(),Ivr=md(),Ovr=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Ivr(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new Tvr(n,r))}),n};zVe.exports=Ovr});var WVe=E((Lss,GVe)=>{"use strict";var Xte=ua(),Nvr=md(),VVe=SO(),Dvr=(e,t)=>{e=new Nvr(e,t);let r=new Xte("0.0.0");if(e.test(r)||(r=new Xte("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(o=>{let a=new Xte(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||VVe(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||VVe(r,i))&&(r=i)}return r&&e.test(r)?r:null};GVe.exports=Dvr});var XVe=E((Uss,KVe)=>{"use strict";var kvr=md(),Mvr=(e,t)=>{try{return new kvr(e,t).range||"*"}catch{return null}};KVe.exports=Mvr});var I$=E((Fss,ZVe)=>{"use strict";var Lvr=ua(),YVe=vO(),{ANY:Uvr}=YVe,Fvr=md(),Bvr=CO(),JVe=SO(),QVe=A$(),qvr=P$(),jvr=x$(),$vr=(e,t,r,n)=>{e=new Lvr(e,n),t=new Fvr(t,n);let s,i,o,a,c;switch(r){case">":s=JVe,i=qvr,o=QVe,a=">",c=">=";break;case"<":s=QVe,i=jvr,o=JVe,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Bvr(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let d=t.set[l],u=null,m=null;if(d.forEach(p=>{p.semver===Uvr&&(p=new YVe(">=0.0.0")),u=u||p,m=m||p,s(p.semver,u.semver,n)?u=p:o(p.semver,m.semver,n)&&(m=p)}),u.operator===a||u.operator===c||(!m.operator||m.operator===a)&&i(e,m.semver))return!1;if(m.operator===c&&o(e,m.semver))return!1}return!0};ZVe.exports=$vr});var tGe=E((Bss,eGe)=>{"use strict";var zvr=I$(),Hvr=(e,t,r)=>zvr(e,t,">",r);eGe.exports=Hvr});var nGe=E((qss,rGe)=>{"use strict";var Vvr=I$(),Gvr=(e,t,r)=>Vvr(e,t,"<",r);rGe.exports=Gvr});var oGe=E((jss,iGe)=>{"use strict";var sGe=md(),Wvr=(e,t,r)=>(e=new sGe(e,r),t=new sGe(t,r),e.intersects(t,r));iGe.exports=Wvr});var cGe=E(($ss,aGe)=>{"use strict";var Kvr=CO(),Xvr=ud();aGe.exports=(e,t,r)=>{let n=[],s=null,i=null,o=e.sort((d,u)=>Xvr(d,u,r));for(let d of o)Kvr(d,t,r)?(i=d,s||(s=d)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[d,u]of n)d===u?a.push(d):!u&&d===o[0]?a.push("*"):u?d===o[0]?a.push(`<=${u}`):a.push(`${d} - ${u}`):a.push(`>=${d}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var pGe=E((zss,fGe)=>{"use strict";var lGe=md(),Qte=vO(),{ANY:Jte}=Qte,bO=CO(),Yte=ud(),Jvr=(e,t,r={})=>{if(e===t)return!0;e=new lGe(e,r),t=new lGe(t,r);let n=!1;e:for(let s of e.set){for(let i of t.set){let o=Yvr(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Qvr=[new Qte(">=0.0.0-0")],dGe=[new Qte(">=0.0.0")],Yvr=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Jte){if(t.length===1&&t[0].semver===Jte)return!0;r.includePrerelease?e=Qvr:e=dGe}if(t.length===1&&t[0].semver===Jte){if(r.includePrerelease)return!0;t=dGe}let n=new Set,s,i;for(let p of e)p.operator===">"||p.operator===">="?s=uGe(s,p,r):p.operator==="<"||p.operator==="<="?i=mGe(i,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Yte(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!bO(p,String(s),r)||i&&!bO(p,String(i),r))return null;for(let g of t)if(!bO(p,String(g),r))return!1;return!0}let a,c,l,d,u=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;u&&u.prerelease.length===1&&i.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let p of t){if(d=d||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(a=uGe(s,p,r),a===p&&a!==s)return!1}else if(s.operator===">="&&!bO(s.semver,String(p),r))return!1}if(i){if(u&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===u.major&&p.semver.minor===u.minor&&p.semver.patch===u.patch&&(u=!1),p.operator==="<"||p.operator==="<="){if(c=mGe(i,p,r),c===p&&c!==i)return!1}else if(i.operator==="<="&&!bO(i.semver,String(p),r))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&d&&!s&&o!==0||m||u)},uGe=(e,t,r)=>{if(!e)return t;let n=Yte(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},mGe=(e,t,r)=>{if(!e)return t;let n=Yte(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};fGe.exports=Jvr});var _Ge=E((Hss,yGe)=>{"use strict";var Zte=qw(),gGe=yO(),Zvr=ua(),hGe=Fte(),eEr=Nv(),tEr=$He(),rEr=HHe(),nEr=WHe(),sEr=JHe(),iEr=YHe(),oEr=eVe(),aEr=rVe(),cEr=sVe(),lEr=ud(),dEr=cVe(),uEr=dVe(),mEr=w$(),fEr=pVe(),pEr=hVe(),gEr=SO(),hEr=A$(),yEr=qte(),_Er=jte(),SEr=x$(),vEr=P$(),EEr=$te(),CEr=AVe(),bEr=vO(),wEr=md(),AEr=CO(),xEr=qVe(),PEr=$Ve(),REr=HVe(),TEr=WVe(),IEr=XVe(),OEr=I$(),NEr=tGe(),DEr=nGe(),kEr=oGe(),MEr=cGe(),LEr=pGe();yGe.exports={parse:eEr,valid:tEr,clean:rEr,inc:nEr,diff:sEr,major:iEr,minor:oEr,patch:aEr,prerelease:cEr,compare:lEr,rcompare:dEr,compareLoose:uEr,compareBuild:mEr,sort:fEr,rsort:pEr,gt:gEr,lt:hEr,eq:yEr,neq:_Er,gte:SEr,lte:vEr,cmp:EEr,coerce:CEr,Comparator:bEr,Range:wEr,satisfies:AEr,toComparators:xEr,maxSatisfying:PEr,minSatisfying:REr,minVersion:TEr,validRange:IEr,outside:OEr,gtr:NEr,ltr:DEr,intersects:kEr,simplifyRange:MEr,subset:LEr,SemVer:Zvr,re:Zte.re,src:Zte.src,tokens:Zte.t,SEMVER_SPEC_VERSION:gGe.SEMVER_SPEC_VERSION,RELEASE_TYPES:gGe.RELEASE_TYPES,compareIdentifiers:hGe.compareIdentifiers,rcompareIdentifiers:hGe.rcompareIdentifiers}});var tre=E((Vss,ere)=>{"use strict";var UEr=_Ge(),FEr=gO(),$w=gy(),SGe=la(),vGe=hs(),EGe="2.7.15",BEr=function(){return!1},qEr=function(t){if(!UEr.gte(t.VERSION,EGe))throw new Error("AWS SDK version "+EGe+" or greater required.");for(var r in t)if(t[r].serviceIdentifier){var n=t[r];n.prototype.customizeRequests(CGe)}return t},jEr=function(t){return t.customizeRequests(CGe),t};function CGe(e){var t=$w.resolveSegment($w.resolveManualSegmentParams(e.params));if(!t){var r=this.serviceIdentifier+"."+e.operation;return $w.isAutomaticMode()?vGe.getLogger().info("Call "+r+" is missing the sub/segment context for automatic mode. Ignoring."):vGe.getLogger().info("Call "+r+' requires a segment object on the request params as "XRaySegment" for tracing in manual mode. Ignoring.'),e}var n=this.throttledError||BEr,s=new Error().stack;let i;t.notTraced?i=t.addNewSubsegmentWithoutSampling(this.serviceIdentifier):i=t.addNewSubsegment(this.serviceIdentifier);var o=t.segment?t.segment.trace_id:t.trace_id;let a=t.segment?t.segment.additionalTraceData:t.additionalTraceData;var c=function(d){if(t.noOp)return;let u="Root="+o+";Parent="+i.id+";Sampled="+(i.notTraced?"0":"1");if(a!=null)for(let[m,p]of Object.entries(a))u+=";"+m+"="+p;d.httpRequest.headers["X-Amzn-Trace-Id"]=u},l=function(d){i.addAttribute("namespace","aws"),i.addAttribute("aws",new FEr(d,i.name));var u=d.httpResponse;if(u&&(i.addAttribute("http",new bGe(u)),(u.statusCode===429||d.error&&n(d.error))&&i.addThrottleFlag()),d.error){var m={message:d.error.message,name:d.error.code,stack:s};u&&u.statusCode?(SGe.getCauseTypeFromHttpStatus(u.statusCode)=="error"&&i.addErrorFlag(),i.close(m,!0)):i.close(m)}else{if(u&&u.statusCode){var p=SGe.getCauseTypeFromHttpStatus(u.statusCode);p&&(i[p]=!0)}i.close()}};e.on("beforePresign",function(d){t.removeSubsegment(i),t.decrementCounter(),d.removeListener("build",c),d.removeListener("complete",l)}),e.on("build",c).on("complete",l),e.__send||(e.__send=e.send,e.send=function(d){if($w.isAutomaticMode()){var u=$w.getNamespace();u.run(function(){$w.setSegment(i),e.__send(d)})}else e.__send(d)})}function bGe(e){this.init(e)}bGe.prototype.init=function(t){this.response={status:t.statusCode||""},t.headers&&t.headers["content-length"]&&(this.response.content_length=t.headers["content-length"])};ere.exports.captureAWSClient=jEr;ere.exports.captureAWS=qEr});var RGe=E((Gss,PGe)=>{var O$=Object.defineProperty,$Er=Object.getOwnPropertyDescriptor,zEr=Object.getOwnPropertyNames,HEr=Object.prototype.hasOwnProperty,zw=(e,t)=>O$(e,"name",{value:t,configurable:!0}),VEr=(e,t)=>{for(var r in t)O$(e,r,{get:t[r],enumerable:!0})},GEr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zEr(t))!HEr.call(e,s)&&s!==r&&O$(e,s,{get:()=>t[s],enumerable:!(n=$Er(t,s))||n.enumerable});return e},WEr=e=>GEr(O$({},"__esModule",{value:!0}),e),wGe={};VEr(wGe,{isClockSkewCorrectedError:()=>AGe,isClockSkewError:()=>eCr,isRetryableByTrait:()=>ZEr,isServerError:()=>rCr,isThrottlingError:()=>tCr,isTransientError:()=>xGe});PGe.exports=WEr(wGe);var KEr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],XEr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],JEr=["TimeoutError","RequestTimeout","RequestTimeoutException"],QEr=[500,502,503,504],YEr=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ZEr=zw(e=>e.$retryable!==void 0,"isRetryableByTrait"),eCr=zw(e=>KEr.includes(e.name),"isClockSkewError"),AGe=zw(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),tCr=zw(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||XEr.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),xGe=zw(e=>{var t;return AGe(e)||JEr.includes(e.name)||YEr.includes(e?.code||"")||QEr.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),rCr=zw(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!xGe(e)}return!1},"isServerError")});var kGe=E(Hw=>{"use strict";var NGe=Hw&&Hw.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.captureAWSClient=void 0;var nCr=RGe(),sCr=NGe(gO()),iCr=require("querystring"),oCr=NGe(uO()),rre=gy(),TGe=hs(),{safeParseInt:N$}=la(),aCr=la(),DGe="XRaySDKInstrumentation",IGe=async(e,t,r,n,s,i)=>{var o,a,c;let{extendedRequestId:l,requestId:d,httpStatusCode:u,attempts:m}=((o=s?.output)===null||o===void 0?void 0:o.$metadata)||i?.$metadata,p=new sCr.default({extendedRequestId:l,requestId:d,retryCount:m,data:s?.output,request:{operation:t,params:n,httpRequest:{region:r,statusCode:u}}},e),g={};return u&&(g.response={},g.response.status=u),!((a=s?.response)===null||a===void 0)&&a.headers&&((c=s?.response)===null||c===void 0?void 0:c.headers["content-length"])!==void 0&&(g.response||(g.response={}),g.response.content_length=N$(s.response.headers["content-length"])),[p,g]};function OGe(e,t,r){var n,s,i;(r&&(0,nCr.isThrottlingError)(r)||N$((n=e.response)===null||n===void 0?void 0:n.status)===429||N$((s=r?.$metadata)===null||s===void 0?void 0:s.httpStatusCode)===429)&&t.addThrottleFlag();let o=(0,aCr.getCauseTypeFromHttpStatus)(N$((i=e.response)===null||i===void 0?void 0:i.status));o==="fault"?t.addFaultFlag():o==="error"&&t.addErrorFlag()}var cCr=(e,t)=>(r,n)=>async s=>{var i;let o=rre.isAutomaticMode()?rre.resolveSegment():t,{clientName:a,commandName:c}=n,l=(i=s?.input)!==null&&i!==void 0?i:{},d=c.slice(0,-7),u=d.charAt(0).toLowerCase()+d.slice(1),m=a.slice(0,-6);if(!o){let A=m+"."+u;return rre.isAutomaticMode()?TGe.getLogger().info("Call "+A+" is missing the sub/segment context for automatic mode. Ignoring."):TGe.getLogger().info("Call "+A+" requires a segment object passed to captureAWSv3Client for tracing in manual mode. Ignoring."),r(s)}let p;o.notTraced?p=o.addNewSubsegmentWithoutSampling(m):p=o.addNewSubsegment(m),p.addAttribute("namespace","aws");let g=o instanceof oCr.default?o.segment:o,y=g.segment?g.segment.additionalTraceData:g.additionalTraceData,b=(0,iCr.stringify)({Root:g.trace_id,Parent:p.id,Sampled:p.notTraced?"0":"1"},";");if(y!=null)for(let[A,O]of Object.entries(y))b+=";"+A+"="+O;o.noOp||(s.request.headers["X-Amzn-Trace-Id"]=b);let w;try{if(w=await r(s),!w)throw new Error("Failed to get response from instrumented AWS Client.");let[A,O]=await IGe(m,u,await e.region(),l,w,null);return p.addAttribute("aws",A),p.addAttribute("http",O),OGe(O,p),p.close(),w}catch(A){if(A.$metadata){let[T,k]=await IGe(m,u,await e.region(),l,null,A);p.addAttribute("aws",T),p.addAttribute("http",k),OGe(k,p,A)}let O={message:A.message,name:A.name,stack:A.stack||new Error().stack};throw p.close(O,!0),A}},lCr={name:DGe,step:"build"},dCr=(e,t)=>({applyToStack:r=>{r.add(cCr(e,t),lCr)}});function uCr(e,t){return e.middlewareStack.remove(DGe),e.middlewareStack.use(dCr(e.config,t)),e}Hw.captureAWSClient=uCr});var sre=E((Kss,nre)=>{"use strict";var MGe=require("url"),Vw=gy(),D$=la(),LGe=hs(),mCr=require("events"),fCr=function(t,r,n){t.__request||UGe(t,r,n)},pCr=function(t,r,n){if(t.__request)return t;var s={};return Object.keys(t).forEach(function(i){s[i]=t[i]}),UGe(s,r,n),s};function UGe(e,t,r){function n(o,...a){let c,l,d,u,m=a[0];if(typeof a[1]=="object"?(d=!0,u=typeof m=="string"?new MGe.URL(m):m,c=a[1],l=a[2]):(d=!1,c=m,l=a[1]),!c||c.headers&&c.headers["X-Amzn-Trace-Id"])return o(...a);typeof c=="string"&&(c=new MGe.URL(c)),d||(u=c);let p=Vw.resolveSegment(Vw.resolveManualSegmentParams(c)),g=c.hostname||c.host||u.hostname||u.host||"Unknown host";if(!p){let T="[ host: "+g;return T=c.method?T+", method: "+c.method:T,T+=", path: "+(u.pathname||D$.stripQueryStringFromPath(c.path))+" ]",Vw.isAutomaticMode()?LGe.getLogger().info("Options for request "+T+" is missing the sub/segment context for automatic mode. Ignoring."):LGe.getLogger().info("Options for request "+T+' requires a segment object on the options params as "XRaySegment" for tracing in manual mode. Ignoring.'),o(...a)}let y;p.notTraced?y=p.addNewSubsegmentWithoutSampling(g):y=p.addNewSubsegment(g);let b=p.segment?p.segment:p;y.namespace="remote",c.headers||(c.headers={}),p.noOp||(c.headers["X-Amzn-Trace-Id"]="Root="+b.trace_id+";Parent="+y.id+";Sampled="+(y.notTraced?"0":"1"));let w=function(k){if(r&&r(y,this,null,k),y.http&&y.http.response)D$.getCauseTypeFromHttpStatus(y.http.response.status)==="error"&&y.addErrorFlag(),y.close(k,!0);else{let z=k.code!=="ECONNREFUSED";y.addRemoteRequestData(this,null,z&&t),y.close(k)}},A=D$.objectWithoutProperties(c,["Segment"],!0),O=o(...d?[m,A]:[c],function(T){T.on("end",function(){r&&r(y,this.req,T),T.statusCode===429&&y.addThrottleFlag();let k=D$.getCauseTypeFromHttpStatus(T.statusCode);k&&(y[k]=!0),y.addRemoteRequestData(T.req,T,!!t),y.close()}),typeof l=="function"?Vw.isAutomaticMode()?Vw.getNamespace().run(function(){Vw.setSegment(y),l(T)}):l(T):T.req&&T.req.listenerCount("response")===0&&T.resume()});return O.on(mCr.errorMonitor||"error",w),O}e.__request=e.request;function s(...o){return n(e.__request,...o)}e.__get=e.get;function i(...o){return n(e.__get,...o)}Object.defineProperties(e,{request:{value:s,configurable:!0,enumerable:!0,writable:!0},get:{value:i,configurable:!0,enumerable:!0,writable:!0}})}nre.exports.captureHTTPsGlobal=fCr;nre.exports.captureHTTPs=pCr});var jGe=E((Xss,ire)=>{"use strict";var wO=gy(),k$=Symbol("original then"),M$=Symbol("original catch");function BGe(e){let t=e.prototype.then;t[k$]||(e.prototype.then=function(n,s){if(wO.isAutomaticMode()&&FGe()){let i=wO.getNamespace();n=n&&i.bind(n),s=s&&i.bind(s)}return t.call(this,n,s)},e.prototype.then[k$]=t);let r=e.prototype.catch;r&&!r[M$]&&(e.prototype.catch=function(n){if(wO.isAutomaticMode()&&FGe()){let s=wO.getNamespace();n=n&&s.bind(n)}return r.call(this,n)},e.prototype.catch[M$]=r)}function gCr(e){let t=e.prototype.then;t[k$]&&(e.prototype.then=t[k$]);let r=e.prototype.catch;r&&r[M$]&&(e.prototype.catch=r[M$])}function FGe(){try{return wO.getSegment()}catch{return}}function qGe(){BGe(Promise)}function hCr(){gCr(Promise)}qGe.patchThirdPartyPromise=BGe;ire.exports.capturePromise=qGe;ire.exports.uncapturePromise=hCr});var HGe=E((Jss,zGe)=>{"use strict";function $Ge(e,t,r,n,s){this.init(e,t,r,n,s)}$Ge.prototype.init=function(t,r,n,s,i){t&&(this.database_version=t),r&&(this.driver_version=r),i&&(this.preparation=i),this.url=s,this.user=n};zGe.exports=$Ge});var WGe=E((Qss,GGe)=>{"use strict";var qp=gy(),ore=hs(),Gw=my(),yCr=la(),_Cr=oHe(),xO={};try{xO=aHe()}catch(e){ore.getLogger().debug("Failed to load SDK data:",e)}var AO="unknown",VGe={plugins:{EC2Plugin:gHe(),ECSPlugin:yHe(),ElasticBeanstalkPlugin:SHe()},config:function(e){var t={};e.forEach(function(r){r.getData(function(n){if(n)for(var s in n)t[s]=n[s]}),Gw.setOrigin(r.originName),Gw.setPluginData(t)})},setAWSWhitelist:gO().setAWSWhitelist,appendAWSWhitelist:gO().appendAWSWhitelist,setStreamingThreshold:Gw.setStreamingThreshold,setLogger:ore.setLogger,getLogger:ore.getLogger,setDaemonAddress:t$().setDaemonAddress,captureFunc:_$().captureFunc,captureAsyncFunc:_$().captureAsyncFunc,captureCallbackFunc:_$().captureCallbackFunc,captureAWS:tre().captureAWS,captureAWSClient:tre().captureAWSClient,captureAWSv3Client:kGe().captureAWSClient,captureHTTPs:sre().captureHTTPs,captureHTTPsGlobal:sre().captureHTTPsGlobal,capturePromise:jGe().capturePromise,utils:yCr,database:{SqlData:HGe()},middleware:Pte(),getNamespace:qp.getNamespace,resolveSegment:qp.resolveSegment,resolveManualSegmentParams:qp.resolveManualSegmentParams,getSegment:qp.getSegment,setSegment:qp.setSegment,isAutomaticMode:qp.isAutomaticMode,enableAutomaticMode:qp.enableAutomaticMode,enableManualMode:qp.enableManualMode,setContextMissingStrategy:qp.setContextMissingStrategy,Segment:mO(),Subsegment:uO(),SegmentUtils:Gw};VGe.middleware.IncomingRequestData=hte(),function(){var e={runtime:process.release&&process.release.name?process.release.name:AO,runtime_version:process.version,version:process.env.npm_package_version||AO,name:process.env.npm_package_name||AO},t={sdk:"X-Ray for Node.js",sdk_version:xO.version?xO.version:AO,package:xO.name?xO.name:AO};Gw.setSDKData(t),Gw.setServiceData(e),process.env.LAMBDA_TASK_ROOT&&_Cr.init()}();GGe.exports=VGe});var XGe=E((Yss,KGe)=>{"use strict";KGe.exports=WGe()});var PO=E((Zss,e3e)=>{"use strict";var U$=Object.defineProperty,SCr=Object.getOwnPropertyDescriptor,vCr=Object.getOwnPropertyNames,ECr=Object.prototype.hasOwnProperty,L$=(e,t)=>U$(e,"name",{value:t,configurable:!0}),CCr=(e,t)=>{for(var r in t)U$(e,r,{get:t[r],enumerable:!0})},bCr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vCr(t))!ECr.call(e,s)&&s!==r&&U$(e,s,{get:()=>t[s],enumerable:!(n=SCr(t,s))||n.enumerable});return e},wCr=e=>bCr(U$({},"__esModule",{value:!0}),e),JGe={};CCr(JGe,{getHostHeaderPlugin:()=>xCr,hostHeaderMiddleware:()=>YGe,hostHeaderMiddlewareOptions:()=>ZGe,resolveHostHeaderConfig:()=>QGe});e3e.exports=wCr(JGe);var ACr=Ge();function QGe(e){return e}L$(QGe,"resolveHostHeaderConfig");var YGe=L$(e=>t=>async r=>{if(!ACr.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),ZGe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},xCr=L$(e=>({applyToStack:L$(t=>{t.add(YGe(e),ZGe)},"applyToStack")}),"getHostHeaderPlugin")});var RO=E((eis,s3e)=>{"use strict";var F$=Object.defineProperty,PCr=Object.getOwnPropertyDescriptor,RCr=Object.getOwnPropertyNames,TCr=Object.prototype.hasOwnProperty,are=(e,t)=>F$(e,"name",{value:t,configurable:!0}),ICr=(e,t)=>{for(var r in t)F$(e,r,{get:t[r],enumerable:!0})},OCr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RCr(t))!TCr.call(e,s)&&s!==r&&F$(e,s,{get:()=>t[s],enumerable:!(n=PCr(t,s))||n.enumerable});return e},NCr=e=>OCr(F$({},"__esModule",{value:!0}),e),t3e={};ICr(t3e,{getLoggerPlugin:()=>DCr,loggerMiddleware:()=>r3e,loggerMiddlewareOptions:()=>n3e});s3e.exports=NCr(t3e);var r3e=are(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),n3e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},DCr=are(e=>({applyToStack:are(t=>{t.add(r3e(),n3e)},"applyToStack")}),"getLoggerPlugin")});var dre=E(q$=>{"use strict";Object.defineProperty(q$,"__esModule",{value:!0});q$.InvokeStore=void 0;var kCr=require("async_hooks"),cre=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";cre||(globalThis.awslambda=globalThis.awslambda||{});var MCr={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},lre=class{static storage=new kCr.AsyncLocalStorage;static PROTECTED_KEYS=MCr;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},B$;!cre&&globalThis.awslambda?.InvokeStore?B$=globalThis.awslambda.InvokeStore:(B$=lre,!cre&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=B$));q$.InvokeStore=B$});var mre=E(j$=>{"use strict";Object.defineProperty(j$,"__esModule",{value:!0});j$.recursionDetectionMiddleware=void 0;var LCr=dre(),UCr=Ge(),ure="X-Amzn-Trace-Id",FCr="AWS_LAMBDA_FUNCTION_NAME",BCr="_X_AMZN_TRACE_ID",qCr=()=>e=>async t=>{let{request:r}=t;if(!UCr.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===ure.toLowerCase())??ure;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[FCr],i=process.env[BCr],a=LCr.InvokeStore.getXRayTraceId()??i,c=l=>typeof l=="string"&&l.length>0;return c(s)&&c(a)&&(r.headers[ure]=a),e({...t,request:r})};j$.recursionDetectionMiddleware=qCr});var TO=E((nis,gre)=>{"use strict";var $$=Object.defineProperty,jCr=Object.getOwnPropertyDescriptor,$Cr=Object.getOwnPropertyNames,zCr=Object.prototype.hasOwnProperty,i3e=(e,t)=>$$(e,"name",{value:t,configurable:!0}),HCr=(e,t)=>{for(var r in t)$$(e,r,{get:t[r],enumerable:!0})},fre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $Cr(t))!zCr.call(e,s)&&s!==r&&$$(e,s,{get:()=>t[s],enumerable:!(n=jCr(t,s))||n.enumerable});return e},VCr=(e,t,r)=>(fre(e,t,"default"),r&&fre(r,t,"default")),GCr=e=>fre($$({},"__esModule",{value:!0}),e),pre={};HCr(pre,{getRecursionDetectionPlugin:()=>XCr});gre.exports=GCr(pre);var WCr={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},KCr=mre(),XCr=i3e(e=>({applyToStack:i3e(t=>{t.add((0,KCr.recursionDetectionMiddleware)(),WCr)},"applyToStack")}),"getRecursionDetectionPlugin");VCr(pre,mre(),gre.exports)});var Ww=E((sis,h3e)=>{"use strict";var z$=Object.defineProperty,JCr=Object.getOwnPropertyDescriptor,QCr=Object.getOwnPropertyNames,YCr=Object.prototype.hasOwnProperty,hy=(e,t)=>z$(e,"name",{value:t,configurable:!0}),ZCr=(e,t)=>{for(var r in t)z$(e,r,{get:t[r],enumerable:!0})},ebr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of QCr(t))!YCr.call(e,s)&&s!==r&&z$(e,s,{get:()=>t[s],enumerable:!(n=JCr(t,s))||n.enumerable});return e},tbr=e=>ebr(z$({},"__esModule",{value:!0}),e),a3e={};ZCr(a3e,{ConditionObject:()=>Fn.ConditionObject,DeprecatedObject:()=>Fn.DeprecatedObject,EndpointError:()=>Fn.EndpointError,EndpointObject:()=>Fn.EndpointObject,EndpointObjectHeaders:()=>Fn.EndpointObjectHeaders,EndpointObjectProperties:()=>Fn.EndpointObjectProperties,EndpointParams:()=>Fn.EndpointParams,EndpointResolverOptions:()=>Fn.EndpointResolverOptions,EndpointRuleObject:()=>Fn.EndpointRuleObject,ErrorRuleObject:()=>Fn.ErrorRuleObject,EvaluateOptions:()=>Fn.EvaluateOptions,Expression:()=>Fn.Expression,FunctionArgv:()=>Fn.FunctionArgv,FunctionObject:()=>Fn.FunctionObject,FunctionReturn:()=>Fn.FunctionReturn,ParameterObject:()=>Fn.ParameterObject,ReferenceObject:()=>Fn.ReferenceObject,ReferenceRecord:()=>Fn.ReferenceRecord,RuleSetObject:()=>Fn.RuleSetObject,RuleSetRules:()=>Fn.RuleSetRules,TreeRuleObject:()=>Fn.TreeRuleObject,awsEndpointFunctions:()=>p3e,getUserAgentPrefix:()=>ibr,isIpAddress:()=>Fn.isIpAddress,partition:()=>m3e,resolveDefaultAwsRegionalEndpointsConfig:()=>abr,resolveEndpoint:()=>Fn.resolveEndpoint,setPartitionInfo:()=>f3e,toEndpointV1:()=>g3e,useDefaultPartitionInfo:()=>sbr});h3e.exports=tbr(a3e);var Fn=ra(),c3e=hy((e,t=!1)=>{if(t){for(let r of e.split("."))if(!c3e(r))return!1;return!0}return!(!(0,Fn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Fn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),o3e=":",rbr="/",nbr=hy(e=>{let t=e.split(o3e);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(o3e)==="")return null;let c=a.map(l=>l.split(rbr)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),l3e={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},d3e=l3e,u3e="",m3e=hy(e=>{let{partitions:t}=d3e;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),f3e=hy((e,t="")=>{d3e=e,u3e=t},"setPartitionInfo"),sbr=hy(()=>{f3e(l3e,"")},"useDefaultPartitionInfo"),ibr=hy(()=>u3e,"getUserAgentPrefix"),p3e={isVirtualHostableS3Bucket:c3e,parseArn:nbr,partition:m3e};Fn.customEndpointFunctions.aws=p3e;var obr=oo(),abr=hy(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>g3e(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),g3e=hy(e=>(0,obr.parseUrl)(e.url),"toEndpointV1")});var H$,Kw,y3e=_(()=>{H$={warningEmitted:!1},Kw=e=>{e&&!H$.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(H$.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function yy(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var _3e=_(()=>{});function S3e(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var v3e=_(()=>{});function E3e(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var C3e=_(()=>{});var _y={};ct(_y,{emitWarningIfUnsupportedVersion:()=>Kw,setCredentialFeature:()=>yy,setFeature:()=>S3e,setTokenFeature:()=>E3e,state:()=>H$});var Yu=_(()=>{y3e();_3e();v3e();C3e()});var b3e,hre,w3e=_(()=>{b3e=C(Ge()),hre=e=>b3e.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Xw,yre=_(()=>{Xw=e=>new Date(Date.now()+e)});var A3e,x3e=_(()=>{yre();A3e=(e,t)=>Math.abs(Xw(t).getTime()-e)>=3e5});var _re,P3e=_(()=>{x3e();_re=(e,t)=>{let r=Date.parse(e);return A3e(r,t)?r-Date.now():t}});var Sre=_(()=>{w3e();yre();P3e()});var R3e,IO,Jw,Tc,vre,Ere=_(()=>{R3e=C(Ge());Sre();IO=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Jw=async e=>{let t=IO("context",e.context),r=IO("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await IO("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Tc=class{async sign(t,r,n){if(!R3e.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Jw(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:Xw(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??hre(r.$response);if(n){let s=IO("config",t.config),i=s.systemClockOffset;s.systemClockOffset=_re(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=hre(t);if(n){let s=IO("config",r.config);s.systemClockOffset=_re(n,s.systemClockOffset)}}},vre=Tc});var T3e,OO,I3e=_(()=>{T3e=C(Ge());Sre();Ere();OO=class extends Tc{async sign(t,r,n){if(!T3e.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await Jw(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:Xw(s.systemClockOffset),signingRegion:d,signingService:c})}}});var Cre,O3e=_(()=>{Cre=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var V$,bre=_(()=>{V$=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var N3e,D3e,Qw,k3e=_(()=>{O3e();bre();N3e="AWS_AUTH_SCHEME_PREFERENCE",D3e="auth_scheme_preference",Qw={environmentVariableSelector:(e,t)=>{if(t?.signingName&&V$(t.signingName)in e)return["httpBearerAuth"];if(N3e in e)return Cre(e[N3e])},configFileSelector:e=>{if(D3e in e)return Cre(e[D3e])},default:[]}});var wre,M3e,L3e,U3e=_(()=>{lt();wre=C(qt()),M3e=e=>(e.sigv4aSigningRegionSet=fr(e.sigv4aSigningRegionSet),e),L3e={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new wre.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new wre.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function cbr(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=qu(t,Bu,Bl):r?n=fr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function lbr(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Are,Dv,F3e,B3e=_(()=>{Yu();lt();Are=C(Rh()),Dv=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=cbr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=lbr(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>yy(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=fr(e.signer):e.regionInfoProvider?a=()=>fr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||Are.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fr(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||Are.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},F3e=Dv});var q3e=_(()=>{Ere();I3e();k3e();U3e();B3e()});var j3e={};ct(j3e,{AWSSDKSigV4Signer:()=>vre,AwsSdkSigV4ASigner:()=>OO,AwsSdkSigV4Signer:()=>Tc,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Qw,NODE_SIGV4A_CONFIG_OPTIONS:()=>L3e,getBearerTokenEnvKey:()=>V$,resolveAWSSDKSigV4Config:()=>F3e,resolveAwsSdkSigV4AConfig:()=>M3e,resolveAwsSdkSigV4Config:()=>Dv,validateSigningProperties:()=>Jw});var xre=_(()=>{q3e();bre()});var $3e,fd,Yw=_(()=>{ke();$3e=C(Fb()),fd=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??$3e.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=ls.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let m=ls.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(m){let p=m.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Pre,z3e=_(()=>{Bb();ke();Yw();Pre=class extends jl{awsQueryCompatible;mixin=new fd;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ql(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator())m[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var dbr,ubr,mbr,H3e=_(()=>{dbr=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},ubr=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},mbr=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ma,Sy=_(()=>{ma=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function V3e(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ee(n,"bigDecimal"):BigInt(n)}return t}var G3e=_(()=>{nr()});var W3e,K3e,G$,Rre=_(()=>{W3e=C(K()),K3e=C(kt()),G$=(e,t)=>(0,W3e.collectBody)(e,t).then(r=>(t?.utf8Encoder??K3e.toUtf8)(r))});var Zw,Tre,kv,NO=_(()=>{Rre();Zw=(e,t)=>G$(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Tre=async(e,t)=>{let r=await Zw(e,t);return r.message=r.message??r.Message,r},kv=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var X3e,DO,Ire=_(()=>{ft();ke();nr();X3e=C(Mt());Sy();G3e();NO();DO=class extends ma{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,V3e):await Zw(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=B.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,X3e.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return zr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:return rl(r);case j.TIMESTAMP_HTTP_DATE:return nl(r);case j.TIMESTAMP_EPOCH_SECONDS:return ja(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Ee)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new Ee(o.string,o.type):new Ee(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var J3e,W$,Q3e=_(()=>{nr();J3e="\u039D",W$=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ee){let n=`${J3e+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${J3e+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Y3e,kO,Ore=_(()=>{ft();ke();nr();Y3e=C(Mt());Sy();Q3e();kO=class extends ma{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=B.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=B.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new W$;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=B.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,Y3e.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Bt(i,this.settings)){case j.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case j.TIMESTAMP_HTTP_DATE:return tl(r);case j.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return pr();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return zr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var Mv,K$=_(()=>{Sy();Ire();Ore();Mv=class extends ma{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new kO(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new DO(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Lv,X$=_(()=>{ft();ke();Yw();K$();NO();Lv=class extends Qn{serializer;deserializer;serviceTarget;codec;mixin=new fd;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Mv({timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${B.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(mn(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=kv(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var Nre,Z3e=_(()=>{X$();Nre=class extends Lv{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Dre,e2e=_(()=>{X$();Dre=class extends Lv{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var kre,t2e=_(()=>{ft();ke();Yw();K$();NO();kre=class extends Os{serializer;deserializer;codec;mixin=new fd;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Mv(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=kv(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/json"}}});var r2e,fbr,n2e=_(()=>{r2e=C(K()),fbr=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,r2e.expectUnion)(e)}});var s2e,i2e,Uv,J$=_(()=>{ft();ke();s2e=C(K()),i2e=C(kt());$u();Sy();Uv=class extends ma{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $a(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=B.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??i2e.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=B.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],m=Array.isArray(u)?u:[u];for(let p of m)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],y=p[m];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,s2e.getValueFromTextNode)(o)}return{}}}});var o2e,a2e,Q$,c2e=_(()=>{ft();ke();nr();o2e=C(K()),a2e=C(Mt());Sy();Q$=class extends ma{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=B.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??a2e.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(pr()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ee?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case j.TIMESTAMP_HTTP_DATE:this.writeValue((0,o2e.dateToUtcString)(r));break;case j.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${ri(t)}=`}writeValue(t){this.buffer+=ri(t)}}});var MO,Mre=_(()=>{ft();ke();Yw();J$();c2e();MO=class extends Qn{options;serializer;deserializer;mixin=new fd;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Q$(r),this.deserializer=new Uv(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(mn(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let u=await Ts(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let m=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Ts(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,y)=>g.find(b=>B.of(b).getMergedTraits().awsQueryError?.[0]===y)),d=B.of(c),u=this.loadQueryErrorMessage(s),m=new c.ctor(u),p={};for(let[g,y]of d.structIterator()){let b=y.getMergedTraits().xmlName??g,w=a[b]??s[b];p[g]=this.deserializer.readSchema(y,w)}throw Object.assign(m,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Lre,l2e=_(()=>{Mre();Lre=class extends MO{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var d2e,LO,Ure,Fre,Bre=_(()=>{d2e=C(K());$u();Rre();LO=(e,t)=>G$(e,t).then(r=>{if(r.length){let n=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,d2e.getValueFromTextNode)(a)}return{}}),Ure=async(e,t)=>{let r=await LO(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Fre=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var h2e=E((cas,g2e)=>{"use strict";var Z$=Object.defineProperty,pbr=Object.getOwnPropertyDescriptor,gbr=Object.getOwnPropertyNames,hbr=Object.prototype.hasOwnProperty,ez=(e,t)=>Z$(e,"name",{value:t,configurable:!0}),ybr=(e,t)=>{for(var r in t)Z$(e,r,{get:t[r],enumerable:!0})},_br=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gbr(t))!hbr.call(e,s)&&s!==r&&Z$(e,s,{get:()=>t[s],enumerable:!(n=pbr(t,s))||n.enumerable});return e},Sbr=e=>_br(Z$({},"__esModule",{value:!0}),e),u2e={};ybr(u2e,{XmlNode:()=>vbr,XmlText:()=>p2e});g2e.exports=Sbr(u2e);function m2e(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}ez(m2e,"escapeAttribute");function f2e(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}ez(f2e,"escapeElement");var p2e=class{constructor(e){this.value=e}static{ez(this,"XmlText")}toString(){return f2e(""+this.value)}},vbr=class Y${constructor(t,r=[]){this.name=t,this.children=r}static{ez(this,"XmlNode")}attributes={};static of(t,r,n){let s=new Y$(t);return r!==void 0&&s.addChildNode(new p2e(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=Y$.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new Y$(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${m2e(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var pd,qre,tz,UO,jre=_(()=>{pd=C(h2e());ft();ke();nr();qre=C(K()),tz=C(Mt());Sy();UO=class extends ma{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=B.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??tz.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=pd.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=pd.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=pd.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=pd.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=pd.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=pd.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=pd.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=pd.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=pd.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=B.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??tz.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Bt(n,this.settings)){case j.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case j.TIMESTAMP_HTTP_DATE:s=(0,qre.dateToUtcString)(r);break;case j.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,qre.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ee?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=pr():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=B.of(t),a=new pd.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var FO,$re=_(()=>{Sy();J$();jre();FO=class extends ma{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new UO(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Uv(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var zre,y2e=_(()=>{ft();ke();Yw();Bre();$re();zre=class extends Os{codec;serializer;deserializer;mixin=new fd;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new FO(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Fre(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().xmlName??p,b=s.Error?.[y]??s[y];m[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/xml"}}});var _2e=_(()=>{z3e();H3e();Z3e();e2e();X$();t2e();K$();Ire();Ore();n2e();NO();l2e();Mre();y2e();$re();J$();jre();Bre()});var Xm={};ct(Xm,{AWSSDKSigV4Signer:()=>vre,AwsEc2QueryProtocol:()=>Lre,AwsJson1_0Protocol:()=>Nre,AwsJson1_1Protocol:()=>Dre,AwsJsonRpcProtocol:()=>Lv,AwsQueryProtocol:()=>MO,AwsRestJsonProtocol:()=>kre,AwsRestXmlProtocol:()=>zre,AwsSdkSigV4ASigner:()=>OO,AwsSdkSigV4Signer:()=>Tc,AwsSmithyRpcV2CborProtocol:()=>Pre,JsonCodec:()=>Mv,JsonShapeDeserializer:()=>DO,JsonShapeSerializer:()=>kO,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Qw,NODE_SIGV4A_CONFIG_OPTIONS:()=>L3e,XmlCodec:()=>FO,XmlShapeDeserializer:()=>Uv,XmlShapeSerializer:()=>UO,_toBool:()=>ubr,_toNum:()=>mbr,_toStr:()=>dbr,awsExpectUnion:()=>fbr,emitWarningIfUnsupportedVersion:()=>Kw,getBearerTokenEnvKey:()=>V$,loadRestJsonErrorCode:()=>kv,loadRestXmlErrorCode:()=>Fre,parseJsonBody:()=>Zw,parseJsonErrorBody:()=>Tre,parseXmlBody:()=>LO,parseXmlErrorBody:()=>Ure,resolveAWSSDKSigV4Config:()=>F3e,resolveAwsSdkSigV4AConfig:()=>M3e,resolveAwsSdkSigV4Config:()=>Dv,setCredentialFeature:()=>yy,setFeature:()=>S3e,setTokenFeature:()=>E3e,state:()=>H$,validateSigningProperties:()=>Jw});var fo=_(()=>{Yu();xre();_2e()});var e0=E((Was,I2e)=>{"use strict";var nz=Object.defineProperty,Ebr=Object.getOwnPropertyDescriptor,Cbr=Object.getOwnPropertyNames,bbr=Object.prototype.hasOwnProperty,jp=(e,t)=>nz(e,"name",{value:t,configurable:!0}),wbr=(e,t)=>{for(var r in t)nz(e,r,{get:t[r],enumerable:!0})},Abr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cbr(t))!bbr.call(e,s)&&s!==r&&nz(e,s,{get:()=>t[s],enumerable:!(n=Ebr(t,s))||n.enumerable});return e},xbr=e=>Abr(nz({},"__esModule",{value:!0}),e),C2e={};wbr(C2e,{DEFAULT_UA_APP_ID:()=>b2e,getUserAgentMiddlewareOptions:()=>T2e,getUserAgentPlugin:()=>kbr,resolveUserAgentConfig:()=>A2e,userAgentMiddleware:()=>R2e});I2e.exports=xbr(C2e);var Pbr=(lt(),F(ui)),b2e=void 0;function w2e(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}jp(w2e,"isValidUserAgentAppId");function A2e(e){let t=(0,Pbr.normalizeProvider)(e.userAgentAppId??b2e),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:jp(async()=>{let n=await t();if(!w2e(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}jp(A2e,"resolveUserAgentConfig");var Rbr=Ww(),Tbr=Ge(),Jm=(fo(),F(Xm)),Ibr=/\d{12}\.ddb/;async function x2e(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Jm.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,Jm.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Jm.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Jm.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(Ibr)&&(0,Jm.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Jm.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Jm.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Jm.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,Jm.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,Jm.setFeature)(e,o,a)}}jp(x2e,"checkFeatures");var S2e="user-agent",Hre="x-amz-user-agent",v2e=" ",Vre="/",Obr=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Nbr=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,E2e="-",Dbr=1024;function P2e(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Dbr){t.length?t+=","+n:t+=n;continue}break}return t}jp(P2e,"encodeFeatures");var R2e=jp(e=>(t,r)=>async n=>{let{request:s}=n;if(!Tbr.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(rz)||[],a=(await e.defaultUserAgentProvider()).map(rz);await x2e(r,e,n);let c=r;a.push(`m/${P2e(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(rz)||[],d=await e.userAgentAppId();d&&a.push(rz([`app/${d}`]));let u=(0,Rbr.getUserAgentPrefix)(),m=(u?[u]:[]).concat([...a,...o,...l]).join(v2e),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(v2e);return e.runtime!=="browser"?(p&&(i[Hre]=i[Hre]?`${i[S2e]} ${p}`:p),i[S2e]=m):i[Hre]=m,t({...n,request:s})},"userAgentMiddleware"),rz=jp(e=>{let t=e[0].split(Vre).map(o=>o.replace(Obr,E2e)).join(Vre),r=e[1]?.replace(Nbr,E2e),n=t.indexOf(Vre),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),T2e={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},kbr=jp(e=>({applyToStack:jp(t=>{t.add(R2e(e),T2e)},"applyToStack")}),"getUserAgentPlugin")});var Gre=E((Kas,z2e)=>{var sz=Object.defineProperty,Mbr=Object.getOwnPropertyDescriptor,Lbr=Object.getOwnPropertyNames,Ubr=Object.prototype.hasOwnProperty,gd=(e,t)=>sz(e,"name",{value:t,configurable:!0}),Fbr=(e,t)=>{for(var r in t)sz(e,r,{get:t[r],enumerable:!0})},Bbr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Lbr(t))!Ubr.call(e,s)&&s!==r&&sz(e,s,{get:()=>t[s],enumerable:!(n=Mbr(t,s))||n.enumerable});return e},qbr=e=>Bbr(sz({},"__esModule",{value:!0}),e),D2e={};Fbr(D2e,{DEFAULT_DISABLE_REQUEST_COMPRESSION:()=>L2e,DEFAULT_NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES:()=>B2e,NODE_DISABLE_REQUEST_COMPRESSION_CONFIG_OPTIONS:()=>jbr,NODE_DISABLE_REQUEST_COMPRESSION_ENV_NAME:()=>k2e,NODE_DISABLE_REQUEST_COMPRESSION_INI_NAME:()=>M2e,NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_CONFIG_OPTIONS:()=>$br,NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_ENV_NAME:()=>U2e,NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_INI_NAME:()=>F2e,compressionMiddleware:()=>j2e,compressionMiddlewareOptions:()=>$2e,getCompressionPlugin:()=>Ybr,resolveCompressionConfig:()=>Zbr});z2e.exports=qbr(D2e);var vy=kT(),k2e="AWS_DISABLE_REQUEST_COMPRESSION",M2e="disable_request_compression",L2e=!1,jbr={environmentVariableSelector:gd(e=>(0,vy.booleanSelector)(e,k2e,vy.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:gd(e=>(0,vy.booleanSelector)(e,M2e,vy.SelectorType.CONFIG),"configFileSelector"),default:L2e},U2e="AWS_REQUEST_MIN_COMPRESSION_SIZE_BYTES",F2e="request_min_compression_size_bytes",B2e=10240,$br={environmentVariableSelector:gd(e=>(0,vy.numberSelector)(e,U2e,vy.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:gd(e=>(0,vy.numberSelector)(e,F2e,vy.SelectorType.CONFIG),"configFileSelector"),default:B2e},zbr=(lt(),F(ui)),Hbr=Ge(),q2e=require("zlib"),Vbr=gd(async e=>e.pipe((0,q2e.createGzip)()),"compressStream"),O2e=kt(),Gbr=require("util"),Wbr=(0,Gbr.promisify)(q2e.gzip),Kbr=gd(async e=>{try{let t=await Wbr((0,O2e.toUint8Array)(e||""));return(0,O2e.toUint8Array)(t)}catch(t){throw new Error("Failure during compression: "+t.message)}},"compressString"),Xbr=["gzip"],Jbr=tT(),Qbr=gd(e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(0,Jbr.isArrayBuffer)(e),"isStreaming"),j2e=gd((e,t)=>(r,n)=>async s=>{if(!Hbr.HttpRequest.isInstance(s.request)||await e.disableRequestCompression())return r(s);let{request:o}=s,{body:a,headers:c}=o,{encodings:l,streamRequiresLength:d}=t,u=a,m=c;for(let p of l)if(Xbr.includes(p)){let g=!1;if(Qbr(a))if(!d)u=await Vbr(a),g=!0;else throw new Error("Compression is not supported for streaming blobs that require a length.");else{let y=e.bodyLengthChecker(a),b=await e.requestMinCompressionSizeBytes();y&&y>=b&&(u=await Kbr(a),g=!0)}if(g){c["content-encoding"]?m={...c,"content-encoding":`${c["content-encoding"]}, ${p}`}:m={...c,"content-encoding":p},m["content-encoding"].includes("gzip")&&(0,zbr.setFeature)(n,"GZIP_REQUEST_COMPRESSION","L");break}}return r({...s,request:{...o,body:u,headers:m}})},"compressionMiddleware"),$2e={name:"compressionMiddleware",step:"build",tags:["REQUEST_BODY_COMPRESSION","GZIP"],override:!0,priority:"high"},Ybr=gd((e,t)=>({applyToStack:gd(r=>{r.add(j2e(e,t),$2e)},"applyToStack")}),"getCompressionPlugin"),N2e=Jn(),Zbr=gd(e=>{let{disableRequestCompression:t,requestMinCompressionSizeBytes:r}=e;return Object.assign(e,{disableRequestCompression:(0,N2e.normalizeProvider)(t),requestMinCompressionSizeBytes:gd(async()=>{let n=await(0,N2e.normalizeProvider)(r)();if(n<0||n>10485760)throw new RangeError(`The value for requestMinCompressionSizeBytes must be between 0 and 10485760 inclusive. The provided value ${n} is outside this range."`);return n},"requestMinCompressionSizeBytes")})},"resolveCompressionConfig")});var Kre=E(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});Ey.resolveHttpAuthSchemeConfig=Ey.defaultCloudWatchHttpAuthSchemeProvider=Ey.defaultCloudWatchHttpAuthSchemeParametersProvider=void 0;var ewr=(fo(),F(Xm)),Wre=Jn(),twr=async(e,t,r)=>({operation:(0,Wre.getSmithyContext)(t).operation,region:await(0,Wre.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ey.defaultCloudWatchHttpAuthSchemeParametersProvider=twr;function rwr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"monitoring",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var nwr=e=>{let t=[];switch(e.operation){default:t.push(rwr(e))}return t};Ey.defaultCloudWatchHttpAuthSchemeProvider=nwr;var swr=e=>{let t=(0,ewr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Wre.normalizeProvider)(e.authSchemePreference??[])})};Ey.resolveHttpAuthSchemeConfig=swr});var H2e=E((Jas,iwr)=>{iwr.exports={name:"@aws-sdk/client-cloudwatch",description:"AWS SDK for JavaScript Cloudwatch Client for Node.js, Browser and React Native",version:"3.888.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cloudwatch","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudwatch","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/credential-provider-node":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-compression":"^4.2.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-utf8":"^4.1.0","@smithy/util-waiter":"^4.1.1",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudwatch"}}});var Xre=E((Qas,Y2e)=>{"use strict";var iz=Object.defineProperty,owr=Object.getOwnPropertyDescriptor,awr=Object.getOwnPropertyNames,cwr=Object.prototype.hasOwnProperty,lwr=(e,t)=>iz(e,"name",{value:t,configurable:!0}),dwr=(e,t)=>{for(var r in t)iz(e,r,{get:t[r],enumerable:!0})},uwr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of awr(t))!cwr.call(e,s)&&s!==r&&iz(e,s,{get:()=>t[s],enumerable:!(n=owr(t,s))||n.enumerable});return e},mwr=e=>uwr(iz({},"__esModule",{value:!0}),e),V2e={};dwr(V2e,{ENV_ACCOUNT_ID:()=>Q2e,ENV_CREDENTIAL_SCOPE:()=>J2e,ENV_EXPIRATION:()=>X2e,ENV_KEY:()=>G2e,ENV_SECRET:()=>W2e,ENV_SESSION:()=>K2e,fromEnv:()=>gwr});Y2e.exports=mwr(V2e);var fwr=(Yu(),F(_y)),pwr=qt(),G2e="AWS_ACCESS_KEY_ID",W2e="AWS_SECRET_ACCESS_KEY",K2e="AWS_SESSION_TOKEN",X2e="AWS_CREDENTIAL_EXPIRATION",J2e="AWS_CREDENTIAL_SCOPE",Q2e="AWS_ACCOUNT_ID",gwr=lwr(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[G2e],r=process.env[W2e],n=process.env[K2e],s=process.env[X2e],i=process.env[J2e],o=process.env[Q2e];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,fwr.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new pwr.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Z2e=E(oz=>{"use strict";Object.defineProperty(oz,"__esModule",{value:!0});oz.checkUrl=void 0;var hwr=qt(),ywr="169.254.170.2",_wr="169.254.170.23",Swr="[fd00:ec2::23]",vwr=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===ywr||e.hostname===_wr||e.hostname===Swr)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new hwr.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};oz.checkUrl=vwr});var e4e=E(az=>{"use strict";Object.defineProperty(az,"__esModule",{value:!0});az.createGetRequest=wwr;az.getCredentials=Awr;var Jre=qt(),Ewr=Ge(),Cwr=K(),bwr=sp();function wwr(e){return new Ewr.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Awr(e,t){let n=await(0,bwr.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Jre.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,Cwr.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Jre.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Jre.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var t4e=E(cz=>{"use strict";Object.defineProperty(cz,"__esModule",{value:!0});cz.retryWrapper=void 0;var xwr=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};cz.retryWrapper=xwr});var s4e=E(lz=>{"use strict";Object.defineProperty(lz,"__esModule",{value:!0});lz.fromHttp=void 0;var Pwr=(Ga(),F(Va)),Rwr=(Yu(),F(_y)),Twr=Oo(),r4e=qt(),Iwr=Pwr.__importDefault(require("fs/promises")),Owr=Z2e(),n4e=e4e(),Nwr=t4e(),Dwr="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",kwr="http://169.254.170.2",Mwr="AWS_CONTAINER_CREDENTIALS_FULL_URI",Lwr="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Uwr="AWS_CONTAINER_AUTHORIZATION_TOKEN",Fwr=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Dwr],n=e.awsContainerCredentialsFullUri??process.env[Mwr],s=e.awsContainerAuthorizationToken??process.env[Uwr],i=e.awsContainerAuthorizationTokenFile??process.env[Lwr],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${kwr}${r}`;else throw new r4e.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Owr.checkUrl)(a,e.logger);let c=new Twr.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Nwr.retryWrapper)(async()=>{let l=(0,n4e.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await Iwr.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,n4e.getCredentials)(d.response).then(u=>(0,Rwr.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new r4e.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};lz.fromHttp=Fwr});var Qre=E(dz=>{"use strict";Object.defineProperty(dz,"__esModule",{value:!0});dz.fromHttp=void 0;var Bwr=s4e();Object.defineProperty(dz,"fromHttp",{enumerable:!0,get:function(){return Bwr.fromHttp}})});var Zre=E(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.resolveHttpAuthSchemeConfig=Cy.defaultSSOHttpAuthSchemeProvider=Cy.defaultSSOHttpAuthSchemeParametersProvider=void 0;var qwr=(fo(),F(Xm)),Yre=Jn(),jwr=async(e,t,r)=>({operation:(0,Yre.getSmithyContext)(t).operation,region:await(0,Yre.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Cy.defaultSSOHttpAuthSchemeParametersProvider=jwr;function $wr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function uz(e){return{schemeId:"smithy.api#noAuth"}}var zwr=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(uz(e));break}case"ListAccountRoles":{t.push(uz(e));break}case"ListAccounts":{t.push(uz(e));break}case"Logout":{t.push(uz(e));break}default:t.push($wr(e))}return t};Cy.defaultSSOHttpAuthSchemeProvider=zwr;var Hwr=e=>{let t=(0,qwr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Yre.normalizeProvider)(e.authSchemePreference??[])})};Cy.resolveHttpAuthSchemeConfig=Hwr});var i4e=E((scs,Vwr)=>{Vwr.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.888.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var BO=E((ics,m4e)=>{"use strict";var fz=Object.defineProperty,Gwr=Object.getOwnPropertyDescriptor,Wwr=Object.getOwnPropertyNames,Kwr=Object.prototype.hasOwnProperty,mz=(e,t)=>fz(e,"name",{value:t,configurable:!0}),Xwr=(e,t)=>{for(var r in t)fz(e,r,{get:t[r],enumerable:!0})},Jwr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Wwr(t))!Kwr.call(e,s)&&s!==r&&fz(e,s,{get:()=>t[s],enumerable:!(n=Gwr(t,s))||n.enumerable});return e},Qwr=e=>Jwr(fz({},"__esModule",{value:!0}),e),a4e={};Xwr(a4e,{NODE_APP_ID_CONFIG_OPTIONS:()=>r0r,UA_APP_ID_ENV_NAME:()=>d4e,UA_APP_ID_INI_NAME:()=>u4e,createDefaultUserAgentProvider:()=>l4e,crtAvailability:()=>c4e,defaultUserAgent:()=>Zwr});m4e.exports=Qwr(a4e);var o4e=require("os"),ene=require("process"),c4e={isCrtAvailable:!1},Ywr=mz(()=>c4e.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),l4e=mz(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,o4e.platform)()}`,(0,o4e.release)()],["lang/js"],["md/nodejs",`${ene.versions.node}`]],s=Ywr();s&&n.push(s),e&&n.push([`api/${e}`,t]),ene.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${ene.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),Zwr=l4e,e0r=e0(),d4e="AWS_SDK_UA_APP_ID",u4e="sdk_ua_app_id",t0r="sdk-ua-app-id",r0r={environmentVariableSelector:mz(e=>e[d4e],"environmentVariableSelector"),configFileSelector:mz(e=>e[u4e]??e[t0r],"configFileSelector"),default:e0r.DEFAULT_UA_APP_ID}});var P4e=E(pz=>{"use strict";Object.defineProperty(pz,"__esModule",{value:!0});pz.ruleSet=void 0;var b4e="required",yd="fn",_d="argv",n0="ref",f4e=!0,p4e="isSet",qO="booleanEquals",t0="error",r0="endpoint",$p="tree",tne="PartitionResult",rne="getAttr",g4e={[b4e]:!1,type:"String"},h4e={[b4e]:!0,default:!1,type:"Boolean"},y4e={[n0]:"Endpoint"},w4e={[yd]:qO,[_d]:[{[n0]:"UseFIPS"},!0]},A4e={[yd]:qO,[_d]:[{[n0]:"UseDualStack"},!0]},hd={},_4e={[yd]:rne,[_d]:[{[n0]:tne},"supportsFIPS"]},x4e={[n0]:tne},S4e={[yd]:qO,[_d]:[!0,{[yd]:rne,[_d]:[x4e,"supportsDualStack"]}]},v4e=[w4e],E4e=[A4e],C4e=[{[n0]:"Region"}],n0r={version:"1.0",parameters:{Region:g4e,UseDualStack:h4e,UseFIPS:h4e,Endpoint:g4e},rules:[{conditions:[{[yd]:p4e,[_d]:[y4e]}],rules:[{conditions:v4e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:t0},{conditions:E4e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:t0},{endpoint:{url:y4e,properties:hd,headers:hd},type:r0}],type:$p},{conditions:[{[yd]:p4e,[_d]:C4e}],rules:[{conditions:[{[yd]:"aws.partition",[_d]:C4e,assign:tne}],rules:[{conditions:[w4e,A4e],rules:[{conditions:[{[yd]:qO,[_d]:[f4e,_4e]},S4e],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hd,headers:hd},type:r0}],type:$p},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:t0}],type:$p},{conditions:v4e,rules:[{conditions:[{[yd]:qO,[_d]:[_4e,f4e]}],rules:[{conditions:[{[yd]:"stringEquals",[_d]:[{[yd]:rne,[_d]:[x4e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:hd,headers:hd},type:r0},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:hd,headers:hd},type:r0}],type:$p},{error:"FIPS is enabled but this partition does not support FIPS",type:t0}],type:$p},{conditions:E4e,rules:[{conditions:[S4e],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hd,headers:hd},type:r0}],type:$p},{error:"DualStack is enabled but this partition does not support DualStack",type:t0}],type:$p},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:hd,headers:hd},type:r0}],type:$p}],type:$p},{error:"Invalid Configuration: Missing Region",type:t0}]};pz.ruleSet=n0r});var R4e=E(gz=>{"use strict";Object.defineProperty(gz,"__esModule",{value:!0});gz.defaultEndpointResolver=void 0;var s0r=Ww(),nne=ra(),i0r=P4e(),o0r=new nne.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),a0r=(e,t={})=>o0r.get(e,()=>(0,nne.resolveEndpoint)(i0r.ruleSet,{endpointParams:e,logger:t.logger}));gz.defaultEndpointResolver=a0r;nne.customEndpointFunctions.aws=s0r.awsEndpointFunctions});var O4e=E(hz=>{"use strict";Object.defineProperty(hz,"__esModule",{value:!0});hz.getRuntimeConfig=void 0;var c0r=(fo(),F(Xm)),l0r=(lt(),F(ui)),d0r=K(),u0r=oo(),T4e=Mt(),I4e=kt(),m0r=Zre(),f0r=R4e(),p0r=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??T4e.fromBase64,base64Encoder:e?.base64Encoder??T4e.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??f0r.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??m0r.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new c0r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new l0r.NoAuthSigner}],logger:e?.logger??new d0r.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??u0r.parseUrl,utf8Decoder:e?.utf8Decoder??I4e.fromUtf8,utf8Encoder:e?.utf8Encoder??I4e.toUtf8});hz.getRuntimeConfig=p0r});var L4e=E(_z=>{"use strict";Object.defineProperty(_z,"__esModule",{value:!0});_z.getRuntimeConfig=void 0;var g0r=(Ga(),F(Va)),h0r=g0r.__importDefault(i4e()),N4e=(fo(),F(Xm)),D4e=BO(),yz=Ln(),y0r=cl(),k4e=Yn(),Fv=sa(),M4e=Oo(),_0r=ll(),S0r=vc(),v0r=O4e(),E0r=K(),C0r=dl(),b0r=K(),w0r=e=>{(0,b0r.emitWarningIfUnsupportedVersion)(process.version);let t=(0,C0r.resolveDefaultsModeConfig)(e),r=()=>t().then(E0r.loadConfigsForDefaultMode),n=(0,v0r.getRuntimeConfig)(e);(0,N4e.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Fv.loadConfig)(N4e.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??_0r.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,D4e.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:h0r.default.version}),maxAttempts:e?.maxAttempts??(0,Fv.loadConfig)(k4e.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Fv.loadConfig)(yz.NODE_REGION_CONFIG_OPTIONS,{...yz.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:M4e.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Fv.loadConfig)({...k4e.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||S0r.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??y0r.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??M4e.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Fv.loadConfig)(yz.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Fv.loadConfig)(yz.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Fv.loadConfig)(D4e.NODE_APP_ID_CONFIG_OPTIONS,s)}};_z.getRuntimeConfig=w0r});var jO=E((dcs,$4e)=>{"use strict";var Sz=Object.defineProperty,A0r=Object.getOwnPropertyDescriptor,x0r=Object.getOwnPropertyNames,P0r=Object.prototype.hasOwnProperty,Qm=(e,t)=>Sz(e,"name",{value:t,configurable:!0}),R0r=(e,t)=>{for(var r in t)Sz(e,r,{get:t[r],enumerable:!0})},T0r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of x0r(t))!P0r.call(e,s)&&s!==r&&Sz(e,s,{get:()=>t[s],enumerable:!(n=A0r(t,s))||n.enumerable});return e},I0r=e=>T0r(Sz({},"__esModule",{value:!0}),e),F4e={};R0r(F4e,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>k0r,NODE_REGION_CONFIG_OPTIONS:()=>D0r,REGION_ENV_NAME:()=>B4e,REGION_INI_NAME:()=>q4e,getAwsRegionExtensionConfiguration:()=>O0r,resolveAwsRegionExtensionConfiguration:()=>N0r,resolveRegionConfig:()=>M0r});$4e.exports=I0r(F4e);var O0r=Qm(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),N0r=Qm(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),B4e="AWS_REGION",q4e="region",D0r={environmentVariableSelector:Qm(e=>e[B4e],"environmentVariableSelector"),configFileSelector:Qm(e=>e[q4e],"configFileSelector"),default:Qm(()=>{throw new Error("Region is missing")},"default")},k0r={preferredFile:"credentials"},j4e=Qm(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),U4e=Qm(e=>j4e(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),M0r=Qm(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Qm(async()=>{if(typeof t=="string")return U4e(t);let n=await t();return U4e(n)},"region"),useFipsEndpoint:Qm(async()=>{let n=typeof t=="string"?t:await t();return j4e(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var EWe=E((ucs,vWe)=>{"use strict";var vz=Object.defineProperty,L0r=Object.getOwnPropertyDescriptor,U0r=Object.getOwnPropertyNames,F0r=Object.prototype.hasOwnProperty,hr=(e,t)=>vz(e,"name",{value:t,configurable:!0}),B0r=(e,t)=>{for(var r in t)vz(e,r,{get:t[r],enumerable:!0})},q0r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of U0r(t))!F0r.call(e,s)&&s!==r&&vz(e,s,{get:()=>t[s],enumerable:!(n=L0r(t,s))||n.enumerable});return e},j0r=e=>q0r(vz({},"__esModule",{value:!0}),e),X4e={};B0r(X4e,{GetRoleCredentialsCommand:()=>yWe,GetRoleCredentialsRequestFilterSensitiveLog:()=>iWe,GetRoleCredentialsResponseFilterSensitiveLog:()=>aWe,InvalidRequestException:()=>Q4e,ListAccountRolesCommand:()=>sne,ListAccountRolesRequestFilterSensitiveLog:()=>cWe,ListAccountsCommand:()=>ine,ListAccountsRequestFilterSensitiveLog:()=>lWe,LogoutCommand:()=>_We,LogoutRequestFilterSensitiveLog:()=>dWe,ResourceNotFoundException:()=>Z4e,RoleCredentialsFilterSensitiveLog:()=>oWe,SSO:()=>SWe,SSOClient:()=>Cz,SSOServiceException:()=>s0,TooManyRequestsException:()=>tWe,UnauthorizedException:()=>nWe,__Client:()=>qe.Client,paginateListAccountRoles:()=>fAr,paginateListAccounts:()=>pAr});vWe.exports=j0r(X4e);var z4e=PO(),$0r=RO(),z0r=TO(),H4e=e0(),H0r=Ln(),zp=(lt(),F(ui)),V0r=il(),zO=us(),V4e=Yn(),G4e=Zre(),G0r=hr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Ez={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},W0r=L4e(),W4e=jO(),K4e=Ge(),qe=K(),K0r=hr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),X0r=hr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),J0r=hr((e,t)=>{let r=Object.assign((0,W4e.getAwsRegionExtensionConfiguration)(e),(0,qe.getDefaultExtensionConfiguration)(e),(0,K4e.getHttpHandlerExtensionConfiguration)(e),K0r(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,W4e.resolveAwsRegionExtensionConfiguration)(r),(0,qe.resolveDefaultRuntimeConfig)(r),(0,K4e.resolveHttpHandlerRuntimeConfig)(r),X0r(r))},"resolveRuntimeExtensions"),Cz=class extends qe.Client{static{hr(this,"SSOClient")}config;constructor(...[e]){let t=(0,W0r.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=G0r(t),n=(0,H4e.resolveUserAgentConfig)(r),s=(0,V4e.resolveRetryConfig)(n),i=(0,H0r.resolveRegionConfig)(s),o=(0,z4e.resolveHostHeaderConfig)(i),a=(0,zO.resolveEndpointConfig)(o),c=(0,G4e.resolveHttpAuthSchemeConfig)(a),l=J0r(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,H4e.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,V4e.getRetryPlugin)(this.config)),this.middlewareStack.use((0,V0r.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,z4e.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,$0r.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,z0r.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,zp.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:G4e.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:hr(async d=>new zp.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,zp.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},bz=io(),s0=class J4e extends qe.ServiceException{static{hr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,J4e.prototype)}},Q4e=class Y4e extends s0{static{hr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,Y4e.prototype)}},Z4e=class eWe extends s0{static{hr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,eWe.prototype)}},tWe=class rWe extends s0{static{hr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,rWe.prototype)}},nWe=class sWe extends s0{static{hr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,sWe.prototype)}},iWe=hr(e=>({...e,...e.accessToken&&{accessToken:qe.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),oWe=hr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:qe.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:qe.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),aWe=hr(e=>({...e,...e.roleCredentials&&{roleCredentials:oWe(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),cWe=hr(e=>({...e,...e.accessToken&&{accessToken:qe.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),lWe=hr(e=>({...e,...e.accessToken&&{accessToken:qe.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),dWe=hr(e=>({...e,...e.accessToken&&{accessToken:qe.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),$O=(fo(),F(Xm)),Q0r=hr(async(e,t)=>{let r=(0,zp.requestBuilder)(e,t),n=(0,qe.map)({},qe.isSerializableHeaderValue,{[xz]:e[Az]});r.bp("/federation/credentials");let s=(0,qe.map)({[uAr]:[,(0,qe.expectNonNull)(e[dAr],"roleName")],[mWe]:[,(0,qe.expectNonNull)(e[uWe],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Y0r=hr(async(e,t)=>{let r=(0,zp.requestBuilder)(e,t),n=(0,qe.map)({},qe.isSerializableHeaderValue,{[xz]:e[Az]});r.bp("/assignment/roles");let s=(0,qe.map)({[hWe]:[,e[gWe]],[pWe]:[()=>e.maxResults!==void 0,()=>e[fWe].toString()],[mWe]:[,(0,qe.expectNonNull)(e[uWe],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),Z0r=hr(async(e,t)=>{let r=(0,zp.requestBuilder)(e,t),n=(0,qe.map)({},qe.isSerializableHeaderValue,{[xz]:e[Az]});r.bp("/assignment/accounts");let s=(0,qe.map)({[hWe]:[,e[gWe]],[pWe]:[()=>e.maxResults!==void 0,()=>e[fWe].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),eAr=hr(async(e,t)=>{let r=(0,zp.requestBuilder)(e,t),n=(0,qe.map)({},qe.isSerializableHeaderValue,{[xz]:e[Az]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),tAr=hr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wz(e,t);let r=(0,qe.map)({$metadata:by(e)}),n=(0,qe.expectNonNull)((0,qe.expectObject)(await(0,$O.parseJsonBody)(e.body,t)),"body"),s=(0,qe.take)(n,{roleCredentials:qe._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),rAr=hr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wz(e,t);let r=(0,qe.map)({$metadata:by(e)}),n=(0,qe.expectNonNull)((0,qe.expectObject)(await(0,$O.parseJsonBody)(e.body,t)),"body"),s=(0,qe.take)(n,{nextToken:qe.expectString,roleList:qe._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),nAr=hr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wz(e,t);let r=(0,qe.map)({$metadata:by(e)}),n=(0,qe.expectNonNull)((0,qe.expectObject)(await(0,$O.parseJsonBody)(e.body,t)),"body"),s=(0,qe.take)(n,{accountList:qe._json,nextToken:qe.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),sAr=hr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wz(e,t);let r=(0,qe.map)({$metadata:by(e)});return await(0,qe.collectBody)(e.body,t),r},"de_LogoutCommand"),wz=hr(async(e,t)=>{let r={...e,body:await(0,$O.parseJsonErrorBody)(e.body,t)},n=(0,$O.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await oAr(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await aAr(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await cAr(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await lAr(r,t);default:let s=r.body;return iAr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),iAr=(0,qe.withBaseException)(s0),oAr=hr(async(e,t)=>{let r=(0,qe.map)({}),n=e.body,s=(0,qe.take)(n,{message:qe.expectString});Object.assign(r,s);let i=new Q4e({$metadata:by(e),...r});return(0,qe.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),aAr=hr(async(e,t)=>{let r=(0,qe.map)({}),n=e.body,s=(0,qe.take)(n,{message:qe.expectString});Object.assign(r,s);let i=new Z4e({$metadata:by(e),...r});return(0,qe.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),cAr=hr(async(e,t)=>{let r=(0,qe.map)({}),n=e.body,s=(0,qe.take)(n,{message:qe.expectString});Object.assign(r,s);let i=new tWe({$metadata:by(e),...r});return(0,qe.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),lAr=hr(async(e,t)=>{let r=(0,qe.map)({}),n=e.body,s=(0,qe.take)(n,{message:qe.expectString});Object.assign(r,s);let i=new nWe({$metadata:by(e),...r});return(0,qe.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),by=hr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),uWe="accountId",Az="accessToken",mWe="account_id",fWe="maxResults",pWe="max_result",gWe="nextToken",hWe="next_token",dAr="roleName",uAr="role_name",xz="x-amz-sso_bearer_token",yWe=class extends qe.Command.classBuilder().ep(Ez).m(function(e,t,r,n){return[(0,bz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zO.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(iWe,aWe).ser(Q0r).de(tAr).build(){static{hr(this,"GetRoleCredentialsCommand")}},sne=class extends qe.Command.classBuilder().ep(Ez).m(function(e,t,r,n){return[(0,bz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zO.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(cWe,void 0).ser(Y0r).de(rAr).build(){static{hr(this,"ListAccountRolesCommand")}},ine=class extends qe.Command.classBuilder().ep(Ez).m(function(e,t,r,n){return[(0,bz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zO.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(lWe,void 0).ser(Z0r).de(nAr).build(){static{hr(this,"ListAccountsCommand")}},_We=class extends qe.Command.classBuilder().ep(Ez).m(function(e,t,r,n){return[(0,bz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zO.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(dWe,void 0).ser(eAr).de(sAr).build(){static{hr(this,"LogoutCommand")}},mAr={GetRoleCredentialsCommand:yWe,ListAccountRolesCommand:sne,ListAccountsCommand:ine,LogoutCommand:_We},SWe=class extends Cz{static{hr(this,"SSO")}};(0,qe.createAggregatedClient)(mAr,SWe);var fAr=(0,zp.createPaginator)(Cz,sne,"nextToken","nextToken","maxResults"),pAr=(0,zp.createPaginator)(Cz,ine,"nextToken","nextToken","maxResults")});function gAr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function hAr(e){return{schemeId:"smithy.api#noAuth"}}var HO,CWe,bWe,wWe,one=_(()=>{fo();HO=C(Jn()),CWe=async(e,t,r)=>({operation:(0,HO.getSmithyContext)(t).operation,region:await(0,HO.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bWe=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(hAr(e));break}default:t.push(gAr(e))}return t},wWe=e=>{let t=Dv(e);return Object.assign(t,{authSchemePreference:(0,HO.normalizeProvider)(e.authSchemePreference??[])})}});var AWe,xWe,ane=_(()=>{AWe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),xWe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Pz,cne=_(()=>{Pz={name:"@aws-sdk/nested-clients",version:"3.888.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var LWe,vd,Ed,a0,PWe,VO,i0,o0,Hp,lne,dne,RWe,TWe,IWe,UWe,FWe,Sd,OWe,BWe,NWe,DWe,kWe,MWe,_Ar,qWe,jWe=_(()=>{LWe="required",vd="fn",Ed="argv",a0="ref",PWe="isSet",VO="booleanEquals",i0="error",o0="endpoint",Hp="tree",lne="PartitionResult",dne="getAttr",RWe={[LWe]:!1,type:"String"},TWe={[LWe]:!0,default:!1,type:"Boolean"},IWe={[a0]:"Endpoint"},UWe={[vd]:VO,[Ed]:[{[a0]:"UseFIPS"},!0]},FWe={[vd]:VO,[Ed]:[{[a0]:"UseDualStack"},!0]},Sd={},OWe={[vd]:dne,[Ed]:[{[a0]:lne},"supportsFIPS"]},BWe={[a0]:lne},NWe={[vd]:VO,[Ed]:[!0,{[vd]:dne,[Ed]:[BWe,"supportsDualStack"]}]},DWe=[UWe],kWe=[FWe],MWe=[{[a0]:"Region"}],_Ar={version:"1.0",parameters:{Region:RWe,UseDualStack:TWe,UseFIPS:TWe,Endpoint:RWe},rules:[{conditions:[{[vd]:PWe,[Ed]:[IWe]}],rules:[{conditions:DWe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:i0},{conditions:kWe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:i0},{endpoint:{url:IWe,properties:Sd,headers:Sd},type:o0}],type:Hp},{conditions:[{[vd]:PWe,[Ed]:MWe}],rules:[{conditions:[{[vd]:"aws.partition",[Ed]:MWe,assign:lne}],rules:[{conditions:[UWe,FWe],rules:[{conditions:[{[vd]:VO,[Ed]:[!0,OWe]},NWe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sd,headers:Sd},type:o0}],type:Hp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:i0}],type:Hp},{conditions:DWe,rules:[{conditions:[{[vd]:VO,[Ed]:[OWe,!0]}],rules:[{conditions:[{[vd]:"stringEquals",[Ed]:[{[vd]:dne,[Ed]:[BWe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Sd,headers:Sd},type:o0},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Sd,headers:Sd},type:o0}],type:Hp},{error:"FIPS is enabled but this partition does not support FIPS",type:i0}],type:Hp},{conditions:kWe,rules:[{conditions:[NWe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sd,headers:Sd},type:o0}],type:Hp},{error:"DualStack is enabled but this partition does not support DualStack",type:i0}],type:Hp},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Sd,headers:Sd},type:o0}],type:Hp}],type:Hp},{error:"Invalid Configuration: Missing Region",type:i0}]},qWe=_Ar});var $We,c0,SAr,zWe,HWe=_(()=>{$We=C(Ww()),c0=C(ra());jWe();SAr=new c0.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),zWe=(e,t={})=>SAr.get(e,()=>(0,c0.resolveEndpoint)(qWe,{endpointParams:e,logger:t.logger}));c0.customEndpointFunctions.aws=$We.awsEndpointFunctions});var VWe,GWe,Rz,Tz,WWe,KWe=_(()=>{fo();lt();VWe=C(K()),GWe=C(oo()),Rz=C(Mt()),Tz=C(kt());one();HWe();WWe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Rz.fromBase64,base64Encoder:e?.base64Encoder??Rz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??zWe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??bWe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Tc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],logger:e?.logger??new VWe.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??GWe.parseUrl,utf8Decoder:e?.utf8Decoder??Tz.fromUtf8,utf8Encoder:e?.utf8Encoder??Tz.toUtf8})});var Iz,Ay,XWe,Oz,wy,Nz,JWe,QWe,YWe,ZWe,eKe,tKe,rKe=_(()=>{cne();fo();Iz=C(BO()),Ay=C(Ln()),XWe=C(cl()),Oz=C(Yn()),wy=C(sa()),Nz=C(Oo()),JWe=C(ll()),QWe=C(vc());KWe();YWe=C(K()),ZWe=C(dl()),eKe=C(K()),tKe=e=>{(0,eKe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ZWe.resolveDefaultsModeConfig)(e),r=()=>t().then(YWe.loadConfigsForDefaultMode),n=WWe(e);Kw(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,wy.loadConfig)(Qw,s),bodyLengthChecker:e?.bodyLengthChecker??JWe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Iz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Pz.version}),maxAttempts:e?.maxAttempts??(0,wy.loadConfig)(Oz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,wy.loadConfig)(Ay.NODE_REGION_CONFIG_OPTIONS,{...Ay.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Nz.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,wy.loadConfig)({...Oz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||QWe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??XWe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Nz.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,wy.loadConfig)(Ay.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,wy.loadConfig)(Ay.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,wy.loadConfig)(Iz.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var nKe,sKe,iKe=_(()=>{nKe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},sKe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Dz,kz,Mz,oKe,aKe=_(()=>{Dz=C(jO()),kz=C(Ge()),Mz=C(K());iKe();oKe=(e,t)=>{let r=Object.assign((0,Dz.getAwsRegionExtensionConfiguration)(e),(0,Mz.getDefaultExtensionConfiguration)(e),(0,kz.getHttpHandlerExtensionConfiguration)(e),nKe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Dz.resolveAwsRegionExtensionConfiguration)(r),(0,Mz.resolveDefaultRuntimeConfig)(r),(0,kz.resolveHttpHandlerRuntimeConfig)(r),sKe(r))}});var Lz,cKe,lKe,Uz,dKe,uKe,mKe,Fz,une,GO,mne=_(()=>{Lz=C(PO()),cKe=C(RO()),lKe=C(TO()),Uz=C(e0()),dKe=C(Ln());lt();uKe=C(il()),mKe=C(us()),Fz=C(Yn()),une=C(K());one();ane();rKe();aKe();GO=class extends une.Client{config;constructor(...[t]){let r=tKe(t||{});super(r),this.initConfig=r;let n=AWe(r),s=(0,Uz.resolveUserAgentConfig)(n),i=(0,Fz.resolveRetryConfig)(s),o=(0,dKe.resolveRegionConfig)(i),a=(0,Lz.resolveHostHeaderConfig)(o),c=(0,mKe.resolveEndpointConfig)(a),l=wWe(c),d=oKe(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Uz.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Fz.getRetryPlugin)(this.config)),this.middlewareStack.use((0,uKe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Lz.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,cKe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,lKe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Zc(this.config,{httpAuthSchemeParametersProvider:CWe,identityProviderConfigProvider:async u=>new za({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(el(this.config))}destroy(){super.destroy()}}});var fKe,po,Bz=_(()=>{fKe=C(K()),po=class e extends fKe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Bv,WO,KO,fne,pne,XO,JO,QO,YO,ZO,eN,tN,rN,nN,qz=_(()=>{Bv=C(K());Bz();WO=class e extends po{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},KO=class e extends po{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},fne=e=>({...e,...e.clientSecret&&{clientSecret:Bv.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Bv.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Bv.SENSITIVE_STRING}}),pne=e=>({...e,...e.accessToken&&{accessToken:Bv.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Bv.SENSITIVE_STRING},...e.idToken&&{idToken:Bv.SENSITIVE_STRING}}),XO=class e extends po{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},JO=class e extends po{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},QO=class e extends po{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},YO=class e extends po{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ZO=class e extends po{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},eN=class e extends po{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},tN=class e extends po{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},rN=class e extends po{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},nN=class e extends po{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var be,pKe,gKe,vAr,EAr,CAr,bAr,wAr,AAr,xAr,PAr,RAr,TAr,IAr,OAr,NAr,Cd,hKe=_(()=>{fo();lt();be=C(K());qz();Bz();pKe=async(e,t)=>{let r=ap(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,be.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,be._json)(i)})),r.m("POST").h(n).b(s),r.build()},gKe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vAr(e,t);let r=(0,be.map)({$metadata:Cd(e)}),n=(0,be.expectNonNull)((0,be.expectObject)(await Zw(e.body,t)),"body"),s=(0,be.take)(n,{accessToken:be.expectString,expiresIn:be.expectInt32,idToken:be.expectString,refreshToken:be.expectString,tokenType:be.expectString});return Object.assign(r,s),r},vAr=async(e,t)=>{let r={...e,body:await Tre(e.body,t)},n=kv(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await CAr(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await bAr(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await wAr(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await AAr(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await xAr(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await PAr(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await RAr(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await TAr(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await IAr(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await OAr(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await NAr(r,t);default:let s=r.body;return EAr({output:e,parsedBody:s,errorCode:n})}},EAr=(0,be.withBaseException)(po),CAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new WO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},bAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new KO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},wAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new XO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},AAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new JO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},xAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new QO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},PAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new YO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},RAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new ZO({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},TAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new eN({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},IAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new tN({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},OAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new rN({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},NAr=async(e,t)=>{let r=(0,be.map)({}),n=e.body,s=(0,be.take)(n,{error:be.expectString,error_description:be.expectString});Object.assign(r,s);let i=new nN({$metadata:Cd(e),...r});return(0,be.decorateServiceException)(i,e.body)},Cd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var yKe,_Ke,gne,sN,hne=_(()=>{yKe=C(us()),_Ke=C(io()),gne=C(K());ane();qz();hKe();sN=class extends gne.Command.classBuilder().ep(xWe).m(function(t,r,n,s){return[(0,_Ke.getSerdePlugin)(n,this.serialize,this.deserialize),(0,yKe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(fne,pne).ser(pKe).de(gKe).build(){}});var SKe,DAr,jz,vKe=_(()=>{SKe=C(K());hne();mne();DAr={CreateTokenCommand:sN},jz=class extends GO{};(0,SKe.createAggregatedClient)(DAr,jz)});var EKe=_(()=>{hne()});var CKe=_(()=>{qz()});var yne={};ct(yne,{$Command:()=>gne.Command,AccessDeniedException:()=>WO,AuthorizationPendingException:()=>KO,CreateTokenCommand:()=>sN,CreateTokenRequestFilterSensitiveLog:()=>fne,CreateTokenResponseFilterSensitiveLog:()=>pne,ExpiredTokenException:()=>XO,InternalServerException:()=>JO,InvalidClientException:()=>QO,InvalidGrantException:()=>YO,InvalidRequestException:()=>ZO,InvalidScopeException:()=>eN,SSOOIDC:()=>jz,SSOOIDCClient:()=>GO,SSOOIDCServiceException:()=>po,SlowDownException:()=>tN,UnauthorizedClientException:()=>rN,UnsupportedGrantTypeException:()=>nN,__Client:()=>une.Client});var _ne=_(()=>{mne();vKe();EKe();CKe();Bz()});var IKe=E((fls,TKe)=>{"use strict";var kAr=Object.create,oN=Object.defineProperty,MAr=Object.getOwnPropertyDescriptor,LAr=Object.getOwnPropertyNames,UAr=Object.getPrototypeOf,FAr=Object.prototype.hasOwnProperty,Vp=(e,t)=>oN(e,"name",{value:t,configurable:!0}),BAr=(e,t)=>{for(var r in t)oN(e,r,{get:t[r],enumerable:!0})},AKe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of LAr(t))!FAr.call(e,s)&&s!==r&&oN(e,s,{get:()=>t[s],enumerable:!(n=MAr(t,s))||n.enumerable});return e},xKe=(e,t,r)=>(r=e!=null?kAr(UAr(e)):{},AKe(t||!e||!e.__esModule?oN(r,"default",{value:e,enumerable:!0}):r,e)),qAr=e=>AKe(oN({},"__esModule",{value:!0}),e),PKe={};BAr(PKe,{fromEnvSigningName:()=>zAr,fromSso:()=>RKe,fromStatic:()=>JAr,nodeProvider:()=>QAr});TKe.exports=qAr(PKe);var jAr=(Yu(),F(_y)),$Ar=(xre(),F(j3e)),yl=qt(),zAr=Vp(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new yl.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,$Ar.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new yl.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,jAr.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),HAr=5*60*1e3,Sne="To refresh this SSO session run 'aws sso login' with the corresponding profile.",VAr=Vp(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>xKe((_ne(),F(yne))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),GAr=Vp(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>xKe((_ne(),F(yne))));return(await VAr(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),bKe=Vp(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new yl.TokenProviderError(`Token is expired. ${Sne}`,!1)},"validateTokenExpiry"),qv=Vp((e,t,r=!1)=>{if(typeof t>"u")throw new yl.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Sne}`,!1)},"validateTokenKey"),iN=Ki(),WAr=require("fs"),{writeFile:KAr}=WAr.promises,XAr=Vp((e,t)=>{let r=(0,iN.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return KAr(r,n)},"writeSSOTokenToFile"),wKe=new Date(0),RKe=Vp((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,iN.parseKnownFiles)(r),s=(0,iN.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new yl.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new yl.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,iN.loadSsoSessionData)(r))[o];if(!c)throw new yl.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new yl.TokenProviderError(`Sso session '${o}' is missing required property '${y}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,iN.getSSOTokenFromFile)(o)}catch{throw new yl.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Sne}`,!1)}qv("accessToken",u.accessToken),qv("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:p}=u,g={token:m,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>HAr)return g;if(Date.now()-wKe.getTime()<30*1e3)return bKe(g),g;qv("clientId",u.clientId,!0),qv("clientSecret",u.clientSecret,!0),qv("refreshToken",u.refreshToken,!0);try{wKe.setTime(Date.now());let y=await GAr(u,d,r);qv("accessToken",y.accessToken),qv("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await XAr(o,{...u,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return bKe(g),g}},"fromSso"),JAr=Vp(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new yl.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),QAr=Vp((e={})=>(0,yl.memoize)((0,yl.chain)(RKe(e),async()=>{throw new yl.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Ene=E((pls,BKe)=>{"use strict";var zz=Object.defineProperty,YAr=Object.getOwnPropertyDescriptor,DKe=Object.getOwnPropertyNames,ZAr=Object.prototype.hasOwnProperty,Hz=(e,t)=>zz(e,"name",{value:t,configurable:!0}),exr=(e,t)=>function(){return e&&(t=(0,e[DKe(e)[0]])(e=0)),t},kKe=(e,t)=>{for(var r in t)zz(e,r,{get:t[r],enumerable:!0})},txr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of DKe(t))!ZAr.call(e,s)&&s!==r&&zz(e,s,{get:()=>t[s],enumerable:!(n=YAr(t,s))||n.enumerable});return e},rxr=e=>txr(zz({},"__esModule",{value:!0}),e),MKe={};kKe(MKe,{GetRoleCredentialsCommand:()=>vne.GetRoleCredentialsCommand,SSOClient:()=>vne.SSOClient});var vne,nxr=exr({"src/loadSso.ts"(){"use strict";vne=EWe()}}),LKe={};kKe(LKe,{fromSSO:()=>ixr,isSsoProfile:()=>UKe,validateSsoProfile:()=>FKe});BKe.exports=rxr(LKe);var UKe=Hz(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),OKe=(Yu(),F(_y)),sxr=IKe(),Zu=qt(),$z=Ki(),aN=!1,NKe=Hz(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Q=await(0,sxr.fromSso)({profile:c})();d={accessToken:Q.token,expiresAt:new Date(Q.expiration).toISOString()}}catch(Q){throw new Zu.CredentialsProviderError(Q.message,{tryNextLink:aN,logger:l})}else try{d=await(0,$z.getSSOTokenFromFile)(e)}catch{throw new Zu.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:aN,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Zu.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:aN,logger:l});let{accessToken:m}=d,{SSOClient:p,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(nxr(),MKe)),y=i||new p(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),b;try{b=await y.send(new g({accountId:r,roleName:s,accessToken:m}))}catch(Q){throw new Zu.CredentialsProviderError(Q,{tryNextLink:aN,logger:l})}let{roleCredentials:{accessKeyId:w,secretAccessKey:A,sessionToken:O,expiration:T,credentialScope:k,accountId:z}={}}=b;if(!w||!A||!O||!T)throw new Zu.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:aN,logger:l});let oe={accessKeyId:w,secretAccessKey:A,sessionToken:O,expiration:new Date(T),...k&&{credentialScope:k},...z&&{accountId:z}};return t?(0,OKe.setCredentialFeature)(oe,"CREDENTIALS_SSO","s"):(0,OKe.setCredentialFeature)(oe,"CREDENTIALS_SSO_LEGACY","u"),oe},"resolveSSOCredentials"),FKe=Hz((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Zu.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),ixr=Hz((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,$z.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,$z.parseKnownFiles)(e))[c];if(!d)throw new Zu.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!UKe(d))throw new Zu.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let w=(await(0,$z.loadSsoSessionData)(e))[d.sso_session],A=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==w.sso_region)throw new Zu.CredentialsProviderError("Conflicting SSO region"+A,{tryNextLink:!1,logger:e.logger});if(r&&r!==w.sso_start_url)throw new Zu.CredentialsProviderError("Conflicting SSO start_url"+A,{tryNextLink:!1,logger:e.logger});d.sso_region=w.sso_region,d.sso_start_url=w.sso_start_url}let{sso_start_url:u,sso_account_id:m,sso_region:p,sso_role_name:g,sso_session:y}=FKe(d,e.logger);return NKe({ssoStartUrl:u,ssoSession:y,ssoAccountId:m,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new Zu.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return NKe({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function oxr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function axr(e){return{schemeId:"smithy.api#noAuth"}}var cN,qKe,jKe,cxr,$Ke,Cne=_(()=>{fo();cN=C(Jn());lN();qKe=async(e,t,r)=>({operation:(0,cN.getSmithyContext)(t).operation,region:await(0,cN.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jKe=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(axr(e));break}default:t.push(oxr(e))}return t},cxr=e=>Object.assign(e,{stsClientCtor:Ym}),$Ke=e=>{let t=cxr(e),r=Dv(t);return Object.assign(r,{authSchemePreference:(0,cN.normalizeProvider)(e.authSchemePreference??[])})}});var zKe,Vz,Gz=_(()=>{zKe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Vz={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var e6e,Rt,kr,Mr,Py,xy,Fo,t6e,r6e,n6e,ys,HKe,Zm,l0,wne,VKe,bne,s6e,GKe,Bo,WKe,i6e,o6e,fa,_l,KKe,a6e,c6e,XKe,l6e,JKe,QKe,YKe,ZKe,lxr,d6e,u6e=_(()=>{e6e="required",Rt="type",kr="fn",Mr="argv",Py="ref",xy="booleanEquals",Fo="stringEquals",t6e="sigv4",r6e="sts",n6e="us-east-1",ys="endpoint",HKe="https://sts.{Region}.{PartitionResult#dnsSuffix}",Zm="tree",l0="error",wne="getAttr",VKe={[e6e]:!1,[Rt]:"String"},bne={[e6e]:!0,default:!1,[Rt]:"Boolean"},s6e={[Py]:"Endpoint"},GKe={[kr]:"isSet",[Mr]:[{[Py]:"Region"}]},Bo={[Py]:"Region"},WKe={[kr]:"aws.partition",[Mr]:[Bo],assign:"PartitionResult"},i6e={[Py]:"UseFIPS"},o6e={[Py]:"UseDualStack"},fa={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:t6e,signingName:r6e,signingRegion:n6e}]},headers:{}},_l={},KKe={conditions:[{[kr]:Fo,[Mr]:[Bo,"aws-global"]}],[ys]:fa,[Rt]:ys},a6e={[kr]:xy,[Mr]:[i6e,!0]},c6e={[kr]:xy,[Mr]:[o6e,!0]},XKe={[kr]:wne,[Mr]:[{[Py]:"PartitionResult"},"supportsFIPS"]},l6e={[Py]:"PartitionResult"},JKe={[kr]:xy,[Mr]:[!0,{[kr]:wne,[Mr]:[l6e,"supportsDualStack"]}]},QKe=[{[kr]:"isSet",[Mr]:[s6e]}],YKe=[a6e],ZKe=[c6e],lxr={version:"1.0",parameters:{Region:VKe,UseDualStack:bne,UseFIPS:bne,Endpoint:VKe,UseGlobalEndpoint:bne},rules:[{conditions:[{[kr]:xy,[Mr]:[{[Py]:"UseGlobalEndpoint"},!0]},{[kr]:"not",[Mr]:QKe},GKe,WKe,{[kr]:xy,[Mr]:[i6e,!1]},{[kr]:xy,[Mr]:[o6e,!1]}],rules:[{conditions:[{[kr]:Fo,[Mr]:[Bo,"ap-northeast-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"ap-south-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"ap-southeast-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"ap-southeast-2"]}],endpoint:fa,[Rt]:ys},KKe,{conditions:[{[kr]:Fo,[Mr]:[Bo,"ca-central-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"eu-central-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"eu-north-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"eu-west-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"eu-west-2"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"eu-west-3"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"sa-east-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,n6e]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"us-east-2"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"us-west-1"]}],endpoint:fa,[Rt]:ys},{conditions:[{[kr]:Fo,[Mr]:[Bo,"us-west-2"]}],endpoint:fa,[Rt]:ys},{endpoint:{url:HKe,properties:{authSchemes:[{name:t6e,signingName:r6e,signingRegion:"{Region}"}]},headers:_l},[Rt]:ys}],[Rt]:Zm},{conditions:QKe,rules:[{conditions:YKe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Rt]:l0},{conditions:ZKe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Rt]:l0},{endpoint:{url:s6e,properties:_l,headers:_l},[Rt]:ys}],[Rt]:Zm},{conditions:[GKe],rules:[{conditions:[WKe],rules:[{conditions:[a6e,c6e],rules:[{conditions:[{[kr]:xy,[Mr]:[!0,XKe]},JKe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_l,headers:_l},[Rt]:ys}],[Rt]:Zm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Rt]:l0}],[Rt]:Zm},{conditions:YKe,rules:[{conditions:[{[kr]:xy,[Mr]:[XKe,!0]}],rules:[{conditions:[{[kr]:Fo,[Mr]:[{[kr]:wne,[Mr]:[l6e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:_l,headers:_l},[Rt]:ys},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_l,headers:_l},[Rt]:ys}],[Rt]:Zm},{error:"FIPS is enabled but this partition does not support FIPS",[Rt]:l0}],[Rt]:Zm},{conditions:ZKe,rules:[{conditions:[JKe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_l,headers:_l},[Rt]:ys}],[Rt]:Zm},{error:"DualStack is enabled but this partition does not support DualStack",[Rt]:l0}],[Rt]:Zm},KKe,{endpoint:{url:HKe,properties:_l,headers:_l},[Rt]:ys}],[Rt]:Zm}],[Rt]:Zm},{error:"Invalid Configuration: Missing Region",[Rt]:l0}]},d6e=lxr});var m6e,d0,dxr,f6e,p6e=_(()=>{m6e=C(Ww()),d0=C(ra());u6e();dxr=new d0.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),f6e=(e,t={})=>dxr.get(e,()=>(0,d0.resolveEndpoint)(d6e,{endpointParams:e,logger:t.logger}));d0.customEndpointFunctions.aws=m6e.awsEndpointFunctions});var g6e,h6e,Wz,Kz,y6e,_6e=_(()=>{fo();lt();g6e=C(K()),h6e=C(oo()),Wz=C(Mt()),Kz=C(kt());Cne();p6e();y6e=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Wz.fromBase64,base64Encoder:e?.base64Encoder??Wz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??f6e,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??jKe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Tc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],logger:e?.logger??new g6e.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??h6e.parseUrl,utf8Decoder:e?.utf8Decoder??Kz.fromUtf8,utf8Encoder:e?.utf8Encoder??Kz.toUtf8})});var Xz,Ty,S6e,Jz,Ry,Qz,v6e,E6e,C6e,b6e,w6e,A6e,x6e=_(()=>{cne();fo();Xz=C(BO()),Ty=C(Ln());lt();S6e=C(cl()),Jz=C(Yn()),Ry=C(sa()),Qz=C(Oo()),v6e=C(ll()),E6e=C(vc());_6e();C6e=C(K()),b6e=C(dl()),w6e=C(K()),A6e=e=>{(0,w6e.emitWarningIfUnsupportedVersion)(process.version);let t=(0,b6e.resolveDefaultsModeConfig)(e),r=()=>t().then(C6e.loadConfigsForDefaultMode),n=y6e(e);Kw(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Ry.loadConfig)(Qw,s),bodyLengthChecker:e?.bodyLengthChecker??v6e.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Xz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Pz.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Tc},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],maxAttempts:e?.maxAttempts??(0,Ry.loadConfig)(Jz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ry.loadConfig)(Ty.NODE_REGION_CONFIG_OPTIONS,{...Ty.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Qz.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Ry.loadConfig)({...Jz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||E6e.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??S6e.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Qz.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ry.loadConfig)(Ty.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ry.loadConfig)(Ty.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ry.loadConfig)(Xz.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var P6e,R6e,T6e=_(()=>{P6e=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},R6e=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Yz,Zz,eH,I6e,O6e=_(()=>{Yz=C(jO()),Zz=C(Ge()),eH=C(K());T6e();I6e=(e,t)=>{let r=Object.assign((0,Yz.getAwsRegionExtensionConfiguration)(e),(0,eH.getDefaultExtensionConfiguration)(e),(0,Zz.getHttpHandlerExtensionConfiguration)(e),P6e(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Yz.resolveAwsRegionExtensionConfiguration)(r),(0,eH.resolveDefaultRuntimeConfig)(r),(0,Zz.resolveHttpHandlerRuntimeConfig)(r),R6e(r))}});var tH,N6e,D6e,rH,k6e,M6e,L6e,nH,Ane,Ym,lN=_(()=>{tH=C(PO()),N6e=C(RO()),D6e=C(TO()),rH=C(e0()),k6e=C(Ln());lt();M6e=C(il()),L6e=C(us()),nH=C(Yn()),Ane=C(K());Cne();Gz();x6e();O6e();Ym=class extends Ane.Client{config;constructor(...[t]){let r=A6e(t||{});super(r),this.initConfig=r;let n=zKe(r),s=(0,rH.resolveUserAgentConfig)(n),i=(0,nH.resolveRetryConfig)(s),o=(0,k6e.resolveRegionConfig)(i),a=(0,tH.resolveHostHeaderConfig)(o),c=(0,L6e.resolveEndpointConfig)(a),l=$Ke(c),d=I6e(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,rH.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,nH.getRetryPlugin)(this.config)),this.middlewareStack.use((0,M6e.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,tH.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,N6e.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,D6e.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Zc(this.config,{httpAuthSchemeParametersProvider:qKe,identityProviderConfigProvider:async u=>new za({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(el(this.config))}destroy(){super.destroy()}}});var U6e,Ic,sH=_(()=>{U6e=C(K()),Ic=class e extends U6e.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var xne,Pne,Rne,dN,uN,mN,fN,pN,gN,Tne,Ine,hN,yN=_(()=>{xne=C(K());sH();Pne=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:xne.SENSITIVE_STRING}}),Rne=e=>({...e,...e.Credentials&&{Credentials:Pne(e.Credentials)}}),dN=class e extends Ic{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},uN=class e extends Ic{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mN=class e extends Ic{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fN=class e extends Ic{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pN=class e extends Ic{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gN=class e extends Ic{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Tne=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:xne.SENSITIVE_STRING}}),Ine=e=>({...e,...e.Credentials&&{Credentials:Pne(e.Credentials)}}),hN=class e extends Ic{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var F6e,$t,B6e,q6e,j6e,$6e,z6e,uxr,mxr,fxr,pxr,gxr,hxr,yxr,_xr,Sxr,H6e,vxr,Exr,Cxr,bxr,wxr,Axr,V6e,xxr,Pxr,G6e,Rxr,Txr,Ixr,Oxr,Nxr,Dxr,kxr,Wp,Mxr,W6e,K6e,X6e,J6e,One,Lxr,Nne,u0,Uxr,Dne,kne,m0,Mne,f0,Lne,Une,Fne,p0,g0,Bne,qne,jne,h0,$ne,y0,_0,zne,Hne,Gp,Vne,Gne,Wne,Kne,Xne,Q6e,Jne,Qne,Yne,hi,Y6e,Fxr,Zne=_(()=>{fo();F6e=C(Ge()),$t=C(K());yN();sH();B6e=async(e,t)=>{let r=K6e,n;return n=Y6e({..._xr(e,t),[J6e]:Lxr,[Q6e]:X6e}),W6e(t,r,"/",void 0,n)},q6e=async(e,t)=>{let r=K6e,n;return n=Y6e({...Sxr(e,t),[J6e]:Uxr,[Q6e]:X6e}),W6e(t,r,"/",void 0,n)},j6e=async(e,t)=>{if(e.statusCode>=300)return z6e(e,t);let r=await LO(e.body,t),n={};return n=xxr(r.AssumeRoleResult,t),{$metadata:Wp(e),...n}},$6e=async(e,t)=>{if(e.statusCode>=300)return z6e(e,t);let r=await LO(e.body,t),n={};return n=Pxr(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Wp(e),...n}},z6e=async(e,t)=>{let r={...e,body:await Ure(e.body,t)},n=Fxr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await uxr(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await gxr(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hxr(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await yxr(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await mxr(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await fxr(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await pxr(r,t);default:let s=r.body;return Mxr({output:e,parsedBody:s.Error,errorCode:n})}},uxr=async(e,t)=>{let r=e.body,n=Rxr(r.Error,t),s=new dN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},mxr=async(e,t)=>{let r=e.body,n=Txr(r.Error,t),s=new hN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},fxr=async(e,t)=>{let r=e.body,n=Ixr(r.Error,t),s=new pN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},pxr=async(e,t)=>{let r=e.body,n=Oxr(r.Error,t),s=new gN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},gxr=async(e,t)=>{let r=e.body,n=Nxr(r.Error,t),s=new uN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},hxr=async(e,t)=>{let r=e.body,n=Dxr(r.Error,t),s=new mN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},yxr=async(e,t)=>{let r=e.body,n=kxr(r.Error,t),s=new fN({$metadata:Wp(e),...n});return(0,$t.decorateServiceException)(s,r)},_xr=(e,t)=>{let r={};if(e[y0]!=null&&(r[y0]=e[y0]),e[_0]!=null&&(r[_0]=e[_0]),e[g0]!=null){let n=H6e(e[g0],t);e[g0]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[p0]!=null&&(r[p0]=e[p0]),e[f0]!=null&&(r[f0]=e[f0]),e[Wne]!=null){let n=Axr(e[Wne],t);e[Wne]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[Xne]!=null){let n=wxr(e[Xne],t);e[Xne]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[Une]!=null&&(r[Une]=e[Une]),e[Vne]!=null&&(r[Vne]=e[Vne]),e[Kne]!=null&&(r[Kne]=e[Kne]),e[Gp]!=null&&(r[Gp]=e[Gp]),e[qne]!=null){let n=Cxr(e[qne],t);e[qne]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},Sxr=(e,t)=>{let r={};if(e[y0]!=null&&(r[y0]=e[y0]),e[_0]!=null&&(r[_0]=e[_0]),e[Qne]!=null&&(r[Qne]=e[Qne]),e[jne]!=null&&(r[jne]=e[jne]),e[g0]!=null){let n=H6e(e[g0],t);e[g0]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[p0]!=null&&(r[p0]=e[p0]),e[f0]!=null&&(r[f0]=e[f0]),r},H6e=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=vxr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},vxr=(e,t)=>{let r={};return e[Yne]!=null&&(r[Yne]=e[Yne]),r},Exr=(e,t)=>{let r={};return e[Bne]!=null&&(r[Bne]=e[Bne]),e[Mne]!=null&&(r[Mne]=e[Mne]),r},Cxr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Exr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},bxr=(e,t)=>{let r={};return e[Fne]!=null&&(r[Fne]=e[Fne]),e[Jne]!=null&&(r[Jne]=e[Jne]),r},wxr=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},Axr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=bxr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},V6e=(e,t)=>{let r={};return e[Nne]!=null&&(r[Nne]=(0,$t.expectString)(e[Nne])),e[Dne]!=null&&(r[Dne]=(0,$t.expectString)(e[Dne])),r},xxr=(e,t)=>{let r={};return e[m0]!=null&&(r[m0]=G6e(e[m0],t)),e[u0]!=null&&(r[u0]=V6e(e[u0],t)),e[h0]!=null&&(r[h0]=(0,$t.strictParseInt32)(e[h0])),e[Gp]!=null&&(r[Gp]=(0,$t.expectString)(e[Gp])),r},Pxr=(e,t)=>{let r={};return e[m0]!=null&&(r[m0]=G6e(e[m0],t)),e[Hne]!=null&&(r[Hne]=(0,$t.expectString)(e[Hne])),e[u0]!=null&&(r[u0]=V6e(e[u0],t)),e[h0]!=null&&(r[h0]=(0,$t.strictParseInt32)(e[h0])),e[$ne]!=null&&(r[$ne]=(0,$t.expectString)(e[$ne])),e[kne]!=null&&(r[kne]=(0,$t.expectString)(e[kne])),e[Gp]!=null&&(r[Gp]=(0,$t.expectString)(e[Gp])),r},G6e=(e,t)=>{let r={};return e[One]!=null&&(r[One]=(0,$t.expectString)(e[One])),e[zne]!=null&&(r[zne]=(0,$t.expectString)(e[zne])),e[Gne]!=null&&(r[Gne]=(0,$t.expectString)(e[Gne])),e[Lne]!=null&&(r[Lne]=(0,$t.expectNonNull)((0,$t.parseRfc3339DateTimeWithOffset)(e[Lne]))),r},Rxr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},Txr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},Ixr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},Oxr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},Nxr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},Dxr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},kxr=(e,t)=>{let r={};return e[hi]!=null&&(r[hi]=(0,$t.expectString)(e[hi])),r},Wp=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Mxr=(0,$t.withBaseException)(Ic),W6e=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new F6e.HttpRequest(l)},K6e={"content-type":"application/x-www-form-urlencoded"},X6e="2011-06-15",J6e="Action",One="AccessKeyId",Lxr="AssumeRole",Nne="AssumedRoleId",u0="AssumedRoleUser",Uxr="AssumeRoleWithWebIdentity",Dne="Arn",kne="Audience",m0="Credentials",Mne="ContextAssertion",f0="DurationSeconds",Lne="Expiration",Une="ExternalId",Fne="Key",p0="Policy",g0="PolicyArns",Bne="ProviderArn",qne="ProvidedContexts",jne="ProviderId",h0="PackedPolicySize",$ne="Provider",y0="RoleArn",_0="RoleSessionName",zne="SecretAccessKey",Hne="SubjectFromWebIdentityToken",Gp="SourceIdentity",Vne="SerialNumber",Gne="SessionToken",Wne="Tags",Kne="TokenCode",Xne="TransitiveTagKeys",Q6e="Version",Jne="Value",Qne="WebIdentityToken",Yne="arn",hi="message",Y6e=e=>Object.entries(e).map(([t,r])=>(0,$t.extendedEncodeURIComponent)(t)+"="+(0,$t.extendedEncodeURIComponent)(r)).join("&"),Fxr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Z6e,e8e,t8e,jv,iH=_(()=>{Z6e=C(us()),e8e=C(io()),t8e=C(K());Gz();yN();Zne();jv=class extends t8e.Command.classBuilder().ep(Vz).m(function(t,r,n,s){return[(0,e8e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Z6e.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Rne).ser(B6e).de(j6e).build(){}});var r8e,n8e,s8e,$v,oH=_(()=>{r8e=C(us()),n8e=C(io()),s8e=C(K());Gz();yN();Zne();$v=class extends s8e.Command.classBuilder().ep(Vz).m(function(t,r,n,s){return[(0,n8e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,r8e.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Tne,Ine).ser(q6e).de($6e).build(){}});var i8e,Bxr,aH,o8e=_(()=>{i8e=C(K());iH();oH();lN();Bxr={AssumeRoleCommand:jv,AssumeRoleWithWebIdentityCommand:$v},aH=class extends Ym{};(0,i8e.createAggregatedClient)(Bxr,aH)});var a8e=_(()=>{iH();oH()});var c8e=_(()=>{yN()});var l8e,d8e,u8e,m8e,f8e,p8e,g8e=_(()=>{Yu();iH();oH();l8e="us-east-1",d8e=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},u8e=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${l8e} (STS default)`),n??s??l8e},m8e=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await u8e(u,e?.parentClientConfig?.region,p),y=!p8e(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?m:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new jv(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=d8e(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return yy(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},f8e=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,m=await u8e(l,e?.parentClientConfig?.region,u),p=!p8e(d);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new $v(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=d8e(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&yy(a,"RESOLVED_ACCOUNT_ID","T"),yy(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},p8e=e=>e?.metadata?.handlerProtocol==="h2"});var h8e,y8e,_8e,qxr,S8e=_(()=>{g8e();lN();h8e=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,y8e=(e={},t)=>m8e(e,h8e(Ym,t)),_8e=(e={},t)=>f8e(e,h8e(Ym,t)),qxr=e=>t=>e({roleAssumer:y8e(t),roleAssumerWithWebIdentity:_8e(t),...t})});var ese={};ct(ese,{AssumeRoleCommand:()=>jv,AssumeRoleResponseFilterSensitiveLog:()=>Rne,AssumeRoleWithWebIdentityCommand:()=>$v,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Tne,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Ine,CredentialsFilterSensitiveLog:()=>Pne,ExpiredTokenException:()=>dN,IDPCommunicationErrorException:()=>hN,IDPRejectedClaimException:()=>pN,InvalidIdentityTokenException:()=>gN,MalformedPolicyDocumentException:()=>uN,PackedPolicyTooLargeException:()=>mN,RegionDisabledException:()=>fN,STS:()=>aH,STSClient:()=>Ym,STSServiceException:()=>Ic,__Client:()=>Ane.Client,decorateDefaultCredentialProvider:()=>qxr,getDefaultRoleAssumer:()=>y8e,getDefaultRoleAssumerWithWebIdentity:()=>_8e});var tse=_(()=>{lN();o8e();a8e();c8e();S8e();sH()});var sse=E((Ads,C8e)=>{"use strict";var cH=Object.defineProperty,jxr=Object.getOwnPropertyDescriptor,$xr=Object.getOwnPropertyNames,zxr=Object.prototype.hasOwnProperty,nse=(e,t)=>cH(e,"name",{value:t,configurable:!0}),Hxr=(e,t)=>{for(var r in t)cH(e,r,{get:t[r],enumerable:!0})},Vxr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $xr(t))!zxr.call(e,s)&&s!==r&&cH(e,s,{get:()=>t[s],enumerable:!(n=jxr(t,s))||n.enumerable});return e},Gxr=e=>Vxr(cH({},"__esModule",{value:!0}),e),E8e={};Hxr(E8e,{fromProcess:()=>Yxr});C8e.exports=Gxr(E8e);var v8e=Ki(),rse=qt(),Wxr=require("child_process"),Kxr=require("util"),Xxr=(Yu(),F(_y)),Jxr=nse((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,Xxr.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),Qxr=nse(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,Kxr.promisify)(Wxr.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Jxr(e,a,t)}catch(o){throw new rse.CredentialsProviderError(o.message,{logger:r})}}else throw new rse.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new rse.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Yxr=nse((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,v8e.parseKnownFiles)(e);return Qxr((0,v8e.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var ise=E(ef=>{"use strict";var Zxr=ef&&ef.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ePr=ef&&ef.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tPr=ef&&ef.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&Zxr(r,t,n[s]);return ePr(r,t),r}}();Object.defineProperty(ef,"__esModule",{value:!0});ef.fromWebToken=void 0;var rPr=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>tPr((tse(),F(ese))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};ef.fromWebToken=rPr});var w8e=E(lH=>{"use strict";Object.defineProperty(lH,"__esModule",{value:!0});lH.fromTokenFile=void 0;var nPr=(Yu(),F(_y)),sPr=qt(),iPr=require("fs"),oPr=ise(),b8e="AWS_WEB_IDENTITY_TOKEN_FILE",aPr="AWS_ROLE_ARN",cPr="AWS_ROLE_SESSION_NAME",lPr=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[b8e],r=e?.roleArn??process.env[aPr],n=e?.roleSessionName??process.env[cPr];if(!t||!r)throw new sPr.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,oPr.fromWebToken)({...e,webIdentityToken:(0,iPr.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[b8e]&&(0,nPr.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};lH.fromTokenFile=lPr});var cse=E((Rds,dH)=>{"use strict";var A8e=Object.defineProperty,dPr=Object.getOwnPropertyDescriptor,uPr=Object.getOwnPropertyNames,mPr=Object.prototype.hasOwnProperty,ose=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uPr(t))!mPr.call(e,s)&&s!==r&&A8e(e,s,{get:()=>t[s],enumerable:!(n=dPr(t,s))||n.enumerable});return e},x8e=(e,t,r)=>(ose(e,t,"default"),r&&ose(r,t,"default")),fPr=e=>ose(A8e({},"__esModule",{value:!0}),e),ase={};dH.exports=fPr(ase);x8e(ase,w8e(),dH.exports);x8e(ase,ise(),dH.exports)});var k8e=E((Tds,D8e)=>{"use strict";var pPr=Object.create,SN=Object.defineProperty,gPr=Object.getOwnPropertyDescriptor,hPr=Object.getOwnPropertyNames,yPr=Object.getPrototypeOf,_Pr=Object.prototype.hasOwnProperty,ki=(e,t)=>SN(e,"name",{value:t,configurable:!0}),SPr=(e,t)=>{for(var r in t)SN(e,r,{get:t[r],enumerable:!0})},I8e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hPr(t))!_Pr.call(e,s)&&s!==r&&SN(e,s,{get:()=>t[s],enumerable:!(n=gPr(t,s))||n.enumerable});return e},Iy=(e,t,r)=>(r=e!=null?pPr(yPr(e)):{},I8e(t||!e||!e.__esModule?SN(r,"default",{value:e,enumerable:!0}):r,e)),vPr=e=>I8e(SN({},"__esModule",{value:!0}),e),O8e={};SPr(O8e,{fromIni:()=>NPr});D8e.exports=vPr(O8e);var dse=Ki(),Oy=(Yu(),F(_y)),_N=qt(),EPr=ki((e,t,r)=>{let n={EcsContainer:ki(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>Iy(Qre())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>Iy(Hu()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,_N.chain)(i(s??{}),o(s))().then(lse)},"EcsContainer"),Ec2InstanceMetadata:ki(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Iy(Hu()));return async()=>i(s)().then(lse)},"Ec2InstanceMetadata"),Environment:ki(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Iy(Xre()));return async()=>i(s)().then(lse)},"Environment")};if(e in n)return n[e];throw new _N.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),lse=ki(e=>(0,Oy.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),CPr=ki((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(bPr(e,{profile:t,logger:r})||wPr(e,{profile:t,logger:r})),"isAssumeRoleProfile"),bPr=ki((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),wPr=ki((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),APr=ki(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Iy((tse(),F(ese))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new _N.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,dse.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?N8e(i,t,r,{...n,[i]:!0},P8e(t[i]??{})):(await EPr(s.credential_source,e,r.logger)(r))();if(P8e(s))return a.then(c=>(0,Oy.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new _N.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,Oy.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),P8e=ki(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),xPr=ki(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),PPr=ki(async(e,t)=>Promise.resolve().then(()=>Iy(sse())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Oy.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),RPr=ki(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Iy(Ene()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Oy.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Oy.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),TPr=ki(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),R8e=ki(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),T8e=ki(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Oy.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),IPr=ki(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),OPr=ki(async(e,t)=>Promise.resolve().then(()=>Iy(cse())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Oy.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),N8e=ki(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&R8e(i))return T8e(i,r);if(s||CPr(i,{profile:e,logger:r.logger}))return APr(e,t,r,n);if(R8e(i))return T8e(i,r);if(IPr(i))return OPr(i,r);if(xPr(i))return PPr(r,e);if(TPr(i))return await RPr(e,i,r);throw new _N.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),NPr=ki((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,dse.parseKnownFiles)(r);return N8e((0,dse.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var $8e=E((Ids,j8e)=>{"use strict";var DPr=Object.create,vN=Object.defineProperty,kPr=Object.getOwnPropertyDescriptor,MPr=Object.getOwnPropertyNames,LPr=Object.getPrototypeOf,UPr=Object.prototype.hasOwnProperty,uH=(e,t)=>vN(e,"name",{value:t,configurable:!0}),FPr=(e,t)=>{for(var r in t)vN(e,r,{get:t[r],enumerable:!0})},U8e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MPr(t))!UPr.call(e,s)&&s!==r&&vN(e,s,{get:()=>t[s],enumerable:!(n=kPr(t,s))||n.enumerable});return e},S0=(e,t,r)=>(r=e!=null?DPr(LPr(e)):{},U8e(t||!e||!e.__esModule?vN(r,"default",{value:e,enumerable:!0}):r,e)),BPr=e=>U8e(vN({},"__esModule",{value:!0}),e),F8e={};FPr(F8e,{credentialsTreatedAsExpired:()=>q8e,credentialsWillNeedRefresh:()=>B8e,defaultProvider:()=>$Pr});j8e.exports=BPr(F8e);var use=Xre(),qPr=Ki(),zv=qt(),M8e="AWS_EC2_METADATA_DISABLED",jPr=uH(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>S0(Hu()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>S0(Qre()));return(0,zv.chain)(i(e),n(e))}return process.env[M8e]&&process.env[M8e]!=="false"?async()=>{throw new zv.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),L8e=!1,$Pr=uH((e={})=>(0,zv.memoize)((0,zv.chain)(async()=>{if(e.profile??process.env[qPr.ENV_PROFILE])throw process.env[use.ENV_KEY]&&process.env[use.ENV_SECRET]&&(L8e||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),L8e=!0)),new zv.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,use.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new zv.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>S0(Ene()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>S0(k8e()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>S0(sse()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>S0(cse()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await jPr(e))()),async()=>{throw new zv.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),q8e,B8e),"defaultProvider"),B8e=uH(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),q8e=uH(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var n5e=E(mH=>{"use strict";Object.defineProperty(mH,"__esModule",{value:!0});mH.ruleSet=void 0;var Z8e="required",wd="fn",Ad="argv",C0="ref",z8e=!0,H8e="isSet",EN="booleanEquals",v0="error",E0="endpoint",Kp="tree",mse="PartitionResult",fse="getAttr",V8e={[Z8e]:!1,type:"String"},G8e={[Z8e]:!0,default:!1,type:"Boolean"},W8e={[C0]:"Endpoint"},e5e={[wd]:EN,[Ad]:[{[C0]:"UseFIPS"},!0]},t5e={[wd]:EN,[Ad]:[{[C0]:"UseDualStack"},!0]},bd={},K8e={[wd]:fse,[Ad]:[{[C0]:mse},"supportsFIPS"]},r5e={[C0]:mse},X8e={[wd]:EN,[Ad]:[!0,{[wd]:fse,[Ad]:[r5e,"supportsDualStack"]}]},J8e=[e5e],Q8e=[t5e],Y8e=[{[C0]:"Region"}],zPr={version:"1.0",parameters:{Region:V8e,UseDualStack:G8e,UseFIPS:G8e,Endpoint:V8e},rules:[{conditions:[{[wd]:H8e,[Ad]:[W8e]}],rules:[{conditions:J8e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:v0},{conditions:Q8e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:v0},{endpoint:{url:W8e,properties:bd,headers:bd},type:E0}],type:Kp},{conditions:[{[wd]:H8e,[Ad]:Y8e}],rules:[{conditions:[{[wd]:"aws.partition",[Ad]:Y8e,assign:mse}],rules:[{conditions:[e5e,t5e],rules:[{conditions:[{[wd]:EN,[Ad]:[z8e,K8e]},X8e],rules:[{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bd,headers:bd},type:E0}],type:Kp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:v0}],type:Kp},{conditions:J8e,rules:[{conditions:[{[wd]:EN,[Ad]:[K8e,z8e]}],rules:[{conditions:[{[wd]:"stringEquals",[Ad]:[{[wd]:fse,[Ad]:[r5e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://monitoring.{Region}.amazonaws.com",properties:bd,headers:bd},type:E0},{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bd,headers:bd},type:E0}],type:Kp},{error:"FIPS is enabled but this partition does not support FIPS",type:v0}],type:Kp},{conditions:Q8e,rules:[{conditions:[X8e],rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bd,headers:bd},type:E0}],type:Kp},{error:"DualStack is enabled but this partition does not support DualStack",type:v0}],type:Kp},{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dnsSuffix}",properties:bd,headers:bd},type:E0}],type:Kp}],type:Kp},{error:"Invalid Configuration: Missing Region",type:v0}]};mH.ruleSet=zPr});var s5e=E(fH=>{"use strict";Object.defineProperty(fH,"__esModule",{value:!0});fH.defaultEndpointResolver=void 0;var HPr=Ww(),pse=ra(),VPr=n5e(),GPr=new pse.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),WPr=(e,t={})=>GPr.get(e,()=>(0,pse.resolveEndpoint)(VPr.ruleSet,{endpointParams:e,logger:t.logger}));fH.defaultEndpointResolver=WPr;pse.customEndpointFunctions.aws=HPr.awsEndpointFunctions});var a5e=E(pH=>{"use strict";Object.defineProperty(pH,"__esModule",{value:!0});pH.getRuntimeConfig=void 0;var KPr=(fo(),F(Xm)),XPr=K(),JPr=oo(),i5e=Mt(),o5e=kt(),QPr=Kre(),YPr=s5e(),ZPr=e=>({apiVersion:"2010-08-01",base64Decoder:e?.base64Decoder??i5e.fromBase64,base64Encoder:e?.base64Encoder??i5e.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??YPr.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??QPr.defaultCloudWatchHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new KPr.AwsSdkSigV4Signer}],logger:e?.logger??new XPr.NoOpLogger,serviceId:e?.serviceId??"CloudWatch",urlParser:e?.urlParser??JPr.parseUrl,utf8Decoder:e?.utf8Decoder??o5e.fromUtf8,utf8Encoder:e?.utf8Encoder??o5e.toUtf8});pH.getRuntimeConfig=ZPr});var f5e=E(hH=>{"use strict";Object.defineProperty(hH,"__esModule",{value:!0});hH.getRuntimeConfig=void 0;var eRr=(Ga(),F(Va)),tRr=eRr.__importDefault(H2e()),c5e=(fo(),F(Xm)),rRr=$8e(),l5e=BO(),gH=Ln(),nRr=cl(),d5e=Gre(),u5e=Yn(),Xp=sa(),m5e=Oo(),sRr=ll(),iRr=vc(),oRr=a5e(),aRr=K(),cRr=dl(),lRr=K(),dRr=e=>{(0,lRr.emitWarningIfUnsupportedVersion)(process.version);let t=(0,cRr.resolveDefaultsModeConfig)(e),r=()=>t().then(aRr.loadConfigsForDefaultMode),n=(0,oRr.getRuntimeConfig)(e);(0,c5e.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Xp.loadConfig)(c5e.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??sRr.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??rRr.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,l5e.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:tRr.default.version}),disableRequestCompression:e?.disableRequestCompression??(0,Xp.loadConfig)(d5e.NODE_DISABLE_REQUEST_COMPRESSION_CONFIG_OPTIONS,e),maxAttempts:e?.maxAttempts??(0,Xp.loadConfig)(u5e.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Xp.loadConfig)(gH.NODE_REGION_CONFIG_OPTIONS,{...gH.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:m5e.NodeHttpHandler.create(e?.requestHandler??r),requestMinCompressionSizeBytes:e?.requestMinCompressionSizeBytes??(0,Xp.loadConfig)(d5e.NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_CONFIG_OPTIONS,e),retryMode:e?.retryMode??(0,Xp.loadConfig)({...u5e.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||iRr.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??nRr.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??m5e.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Xp.loadConfig)(gH.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Xp.loadConfig)(gH.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Xp.loadConfig)(l5e.NODE_APP_ID_CONFIG_OPTIONS,s)}};hH.getRuntimeConfig=dRr});var gse=E((Mds,S5e)=>{var yH=Object.defineProperty,uRr=Object.getOwnPropertyDescriptor,mRr=Object.getOwnPropertyNames,fRr=Object.prototype.hasOwnProperty,tf=(e,t)=>yH(e,"name",{value:t,configurable:!0}),pRr=(e,t)=>{for(var r in t)yH(e,r,{get:t[r],enumerable:!0})},gRr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of mRr(t))!fRr.call(e,s)&&s!==r&&yH(e,s,{get:()=>t[s],enumerable:!(n=uRr(t,s))||n.enumerable});return e},hRr=e=>gRr(yH({},"__esModule",{value:!0}),e),h5e={};pRr(h5e,{WaiterState:()=>_5e,checkExceptions:()=>_Rr,createWaiter:()=>bRr,waiterServiceDefaults:()=>y5e});S5e.exports=hRr(h5e);var yRr=tf(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),y5e={minDelay:2,maxDelay:120},_5e=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(_5e||{}),_Rr=tf(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),SRr=tf((e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return vRr(e,s)},"exponentialBackoffWithJitter"),vRr=tf((e,t)=>e+Math.random()*(t-e),"randomInRange"),ERr=tf(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:i},o,a)=>{let c={},{state:l,reason:d}=await a(s,o);if(d){let g=p5e(d);c[g]|=0,c[g]+=1}if(l!=="RETRY")return{state:l,reason:d,observedResponses:c};let u=1,m=Date.now()+r*1e3,p=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||i?.aborted){let w="AbortController signal aborted.";return c[w]|=0,c[w]+=1,{state:"ABORTED",observedResponses:c}}let g=SRr(e,t,p,u);if(Date.now()+g*1e3>m)return{state:"TIMEOUT",observedResponses:c};await yRr(g);let{state:y,reason:b}=await a(s,o);if(b){let w=p5e(b);c[w]|=0,c[w]+=1}if(y!=="RETRY")return{state:y,reason:b,observedResponses:c};u+=1}},"runPolling"),p5e=tf(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),CRr=tf(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),g5e=tf(e=>{let t,r=new Promise(n=>{t=tf(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),bRr=tf(async(e,t,r)=>{let n={...y5e,...e};CRr(n);let s=[ERr(n,t,r)],i=[];if(e.abortSignal){let{aborted:o,clearListener:a}=g5e(e.abortSignal);i.push(a),s.push(o)}if(e.abortController?.signal){let{aborted:o,clearListener:a}=g5e(e.abortController.signal);i.push(a),s.push(o)}return Promise.race(s).then(o=>{for(let a of i)a();return o})},"createWaiter")});var ZXe=E((Lds,YXe)=>{"use strict";var _H=Object.defineProperty,wRr=Object.getOwnPropertyDescriptor,ARr=Object.getOwnPropertyNames,xRr=Object.prototype.hasOwnProperty,x=(e,t)=>_H(e,"name",{value:t,configurable:!0}),PRr=(e,t)=>{for(var r in t)_H(e,r,{get:t[r],enumerable:!0})},RRr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ARr(t))!xRr.call(e,s)&&s!==r&&_H(e,s,{get:()=>t[s],enumerable:!(n=wRr(t,s))||n.enumerable});return e},TRr=e=>RRr(_H({},"__esModule",{value:!0}),e),N5e={};PRr(N5e,{ActionsSuppressedBy:()=>BRr,AlarmType:()=>qRr,AnomalyDetectorStateValue:()=>zRr,AnomalyDetectorType:()=>HRr,CloudWatch:()=>XXe,CloudWatchClient:()=>tm,CloudWatchServiceException:()=>_a,ComparisonOperator:()=>VRr,ConcurrentModificationException:()=>M5e,ConflictException:()=>U5e,DashboardInvalidInputError:()=>B5e,DashboardNotFoundError:()=>WRr,DeleteAlarmsCommand:()=>SXe,DeleteAnomalyDetectorCommand:()=>vXe,DeleteDashboardsCommand:()=>EXe,DeleteInsightRulesCommand:()=>CXe,DeleteMetricStreamCommand:()=>bXe,DescribeAlarmContributorsCommand:()=>wXe,DescribeAlarmHistoryCommand:()=>_ie,DescribeAlarmsCommand:()=>HN,DescribeAlarmsForMetricCommand:()=>AXe,DescribeAnomalyDetectorsCommand:()=>Sie,DescribeInsightRulesCommand:()=>vie,DisableAlarmActionsCommand:()=>xXe,DisableInsightRulesCommand:()=>PXe,EnableAlarmActionsCommand:()=>RXe,EnableInsightRulesCommand:()=>TXe,EvaluationState:()=>XRr,GetDashboardCommand:()=>IXe,GetInsightRuleReportCommand:()=>OXe,GetMetricDataCommand:()=>Eie,GetMetricStatisticsCommand:()=>NXe,GetMetricStreamCommand:()=>DXe,GetMetricWidgetImageCommand:()=>kXe,HistoryItemType:()=>jRr,InternalServiceFault:()=>H5e,InvalidFormatFault:()=>oXe,InvalidNextToken:()=>eXe,InvalidParameterCombinationException:()=>G5e,InvalidParameterValueException:()=>K5e,LimitExceededException:()=>rXe,LimitExceededFault:()=>sXe,ListDashboardsCommand:()=>Cie,ListManagedInsightRulesCommand:()=>bie,ListMetricStreamsCommand:()=>Aie,ListMetricsCommand:()=>wie,ListTagsForResourceCommand:()=>MXe,MetricStreamOutputFormat:()=>YRr,MissingRequiredParameterException:()=>J5e,PutAnomalyDetectorCommand:()=>LXe,PutCompositeAlarmCommand:()=>UXe,PutDashboardCommand:()=>FXe,PutInsightRuleCommand:()=>BXe,PutManagedInsightRulesCommand:()=>qXe,PutMetricAlarmCommand:()=>jXe,PutMetricDataCommand:()=>$Xe,PutMetricStreamCommand:()=>zXe,RecentlyActive:()=>ZRr,ResourceNotFound:()=>$5e,ResourceNotFoundException:()=>Y5e,ScanBy:()=>KRr,SetAlarmStateCommand:()=>HXe,StandardUnit:()=>$Rr,StartMetricStreamsCommand:()=>VXe,StateValue:()=>GRr,Statistic:()=>JRr,StatusCode:()=>QRr,StopMetricStreamsCommand:()=>GXe,TagResourceCommand:()=>WXe,UntagResourceCommand:()=>KXe,__Client:()=>P.Client,paginateDescribeAlarmHistory:()=>Bkr,paginateDescribeAlarms:()=>qkr,paginateDescribeAnomalyDetectors:()=>jkr,paginateDescribeInsightRules:()=>$kr,paginateGetMetricData:()=>zkr,paginateListDashboards:()=>Hkr,paginateListManagedInsightRules:()=>Vkr,paginateListMetricStreams:()=>Gkr,paginateListMetrics:()=>Wkr,waitForAlarmExists:()=>Kkr,waitForCompositeAlarmExists:()=>Jkr,waitUntilAlarmExists:()=>Xkr,waitUntilCompositeAlarmExists:()=>Qkr});YXe.exports=TRr(N5e);var v5e=PO(),IRr=RO(),ORr=TO(),E5e=e0(),NRr=Ln(),xd=(lt(),F(ui)),D5e=Gre(),DRr=il(),Lt=us(),C5e=Yn(),b5e=Kre(),kRr=x(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"monitoring"}),"resolveClientEndpointParameters"),zt={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},MRr=f5e(),w5e=jO(),gie=Ge(),P=K(),LRr=x(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),URr=x(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),FRr=x((e,t)=>{let r=Object.assign((0,w5e.getAwsRegionExtensionConfiguration)(e),(0,P.getDefaultExtensionConfiguration)(e),(0,gie.getHttpHandlerExtensionConfiguration)(e),LRr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,w5e.resolveAwsRegionExtensionConfiguration)(r),(0,P.resolveDefaultRuntimeConfig)(r),(0,gie.resolveHttpHandlerRuntimeConfig)(r),URr(r))},"resolveRuntimeExtensions"),tm=class extends P.Client{static{x(this,"CloudWatchClient")}config;constructor(...[e]){let t=(0,MRr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=kRr(t),n=(0,E5e.resolveUserAgentConfig)(r),s=(0,C5e.resolveRetryConfig)(n),i=(0,NRr.resolveRegionConfig)(s),o=(0,v5e.resolveHostHeaderConfig)(i),a=(0,Lt.resolveEndpointConfig)(o),c=(0,b5e.resolveHttpAuthSchemeConfig)(a),l=(0,D5e.resolveCompressionConfig)(c),d=FRr(l,e?.extensions||[]);this.config=d,this.middlewareStack.use((0,E5e.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,C5e.getRetryPlugin)(this.config)),this.middlewareStack.use((0,DRr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,v5e.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,IRr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,ORr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,xd.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:b5e.defaultCloudWatchHttpAuthSchemeParametersProvider,identityProviderConfigProvider:x(async u=>new xd.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,xd.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Ht=io(),Tr=(fo(),F(Xm)),_a=class k5e extends P.ServiceException{static{x(this,"CloudWatchServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,k5e.prototype)}},BRr={Alarm:"Alarm",ExtensionPeriod:"ExtensionPeriod",WaitPeriod:"WaitPeriod"},qRr={CompositeAlarm:"CompositeAlarm",MetricAlarm:"MetricAlarm"},jRr={Action:"Action",AlarmContributorAction:"AlarmContributorAction",AlarmContributorStateUpdate:"AlarmContributorStateUpdate",ConfigurationUpdate:"ConfigurationUpdate",StateUpdate:"StateUpdate"},$Rr={Bits:"Bits",Bits_Second:"Bits/Second",Bytes:"Bytes",Bytes_Second:"Bytes/Second",Count:"Count",Count_Second:"Count/Second",Gigabits:"Gigabits",Gigabits_Second:"Gigabits/Second",Gigabytes:"Gigabytes",Gigabytes_Second:"Gigabytes/Second",Kilobits:"Kilobits",Kilobits_Second:"Kilobits/Second",Kilobytes:"Kilobytes",Kilobytes_Second:"Kilobytes/Second",Megabits:"Megabits",Megabits_Second:"Megabits/Second",Megabytes:"Megabytes",Megabytes_Second:"Megabytes/Second",Microseconds:"Microseconds",Milliseconds:"Milliseconds",None:"None",Percent:"Percent",Seconds:"Seconds",Terabits:"Terabits",Terabits_Second:"Terabits/Second",Terabytes:"Terabytes",Terabytes_Second:"Terabytes/Second"},zRr={PENDING_TRAINING:"PENDING_TRAINING",TRAINED:"TRAINED",TRAINED_INSUFFICIENT_DATA:"TRAINED_INSUFFICIENT_DATA"},HRr={METRIC_MATH:"METRIC_MATH",SINGLE_METRIC:"SINGLE_METRIC"},VRr={GreaterThanOrEqualToThreshold:"GreaterThanOrEqualToThreshold",GreaterThanThreshold:"GreaterThanThreshold",GreaterThanUpperThreshold:"GreaterThanUpperThreshold",LessThanLowerOrGreaterThanUpperThreshold:"LessThanLowerOrGreaterThanUpperThreshold",LessThanLowerThreshold:"LessThanLowerThreshold",LessThanOrEqualToThreshold:"LessThanOrEqualToThreshold",LessThanThreshold:"LessThanThreshold"},GRr={ALARM:"ALARM",INSUFFICIENT_DATA:"INSUFFICIENT_DATA",OK:"OK"},M5e=class L5e extends _a{static{x(this,"ConcurrentModificationException")}name="ConcurrentModificationException";$fault="client";Message;constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),Object.setPrototypeOf(this,L5e.prototype),this.Message=t.Message}},U5e=class F5e extends _a{static{x(this,"ConflictException")}name="ConflictException";$fault="client";Message;constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,F5e.prototype),this.Message=t.Message}},B5e=class q5e extends _a{static{x(this,"DashboardInvalidInputError")}name="DashboardInvalidInputError";$fault="client";dashboardValidationMessages;constructor(t){super({name:"DashboardInvalidInputError",$fault:"client",...t}),Object.setPrototypeOf(this,q5e.prototype),this.dashboardValidationMessages=t.dashboardValidationMessages}},WRr=class j5e extends _a{static{x(this,"DashboardNotFoundError")}name="DashboardNotFoundError";$fault="client";constructor(t){super({name:"DashboardNotFoundError",$fault:"client",...t}),Object.setPrototypeOf(this,j5e.prototype)}},$5e=class z5e extends _a{static{x(this,"ResourceNotFound")}name="ResourceNotFound";$fault="client";constructor(t){super({name:"ResourceNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,z5e.prototype)}},H5e=class V5e extends _a{static{x(this,"InternalServiceFault")}name="InternalServiceFault";$fault="server";Message;constructor(t){super({name:"InternalServiceFault",$fault:"server",...t}),Object.setPrototypeOf(this,V5e.prototype),this.Message=t.Message}},G5e=class W5e extends _a{static{x(this,"InvalidParameterCombinationException")}name="InvalidParameterCombinationException";$fault="client";constructor(t){super({name:"InvalidParameterCombinationException",$fault:"client",...t}),Object.setPrototypeOf(this,W5e.prototype)}},K5e=class X5e extends _a{static{x(this,"InvalidParameterValueException")}name="InvalidParameterValueException";$fault="client";constructor(t){super({name:"InvalidParameterValueException",$fault:"client",...t}),Object.setPrototypeOf(this,X5e.prototype)}},J5e=class Q5e extends _a{static{x(this,"MissingRequiredParameterException")}name="MissingRequiredParameterException";$fault="client";constructor(t){super({name:"MissingRequiredParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,Q5e.prototype)}},Y5e=class Z5e extends _a{static{x(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";ResourceType;ResourceId;Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Z5e.prototype),this.ResourceType=t.ResourceType,this.ResourceId=t.ResourceId,this.Message=t.Message}},eXe=class tXe extends _a{static{x(this,"InvalidNextToken")}name="InvalidNextToken";$fault="client";constructor(t){super({name:"InvalidNextToken",$fault:"client",...t}),Object.setPrototypeOf(this,tXe.prototype)}},KRr={TIMESTAMP_ASCENDING:"TimestampAscending",TIMESTAMP_DESCENDING:"TimestampDescending"},XRr={PARTIAL_DATA:"PARTIAL_DATA"},JRr={Average:"Average",Maximum:"Maximum",Minimum:"Minimum",SampleCount:"SampleCount",Sum:"Sum"},rXe=class nXe extends _a{static{x(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,nXe.prototype),this.Message=t.Message}},QRr={COMPLETE:"Complete",FORBIDDEN:"Forbidden",INTERNAL_ERROR:"InternalError",PARTIAL_DATA:"PartialData"},YRr={JSON:"json",OPEN_TELEMETRY_0_7:"opentelemetry0.7",OPEN_TELEMETRY_1_0:"opentelemetry1.0"},ZRr={PT3H:"PT3H"},sXe=class iXe extends _a{static{x(this,"LimitExceededFault")}name="LimitExceededFault";$fault="client";constructor(t){super({name:"LimitExceededFault",$fault:"client",...t}),Object.setPrototypeOf(this,iXe.prototype)}},oXe=class aXe extends _a{static{x(this,"InvalidFormatFault")}name="InvalidFormatFault";$fault="client";constructor(t){super({name:"InvalidFormatFault",$fault:"client",...t}),Object.setPrototypeOf(this,aXe.prototype)}},eTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...$Ir(e,t),[Xt]:YDr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DeleteAlarmsCommand"),tTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...zIr(e,t),[Xt]:tkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DeleteAnomalyDetectorCommand"),rTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...HIr(e,t),[Xt]:okr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DeleteDashboardsCommand"),nTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...VIr(e,t),[Xt]:akr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DeleteInsightRulesCommand"),sTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...GIr(e,t),[Xt]:dkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DeleteMetricStreamCommand"),iTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...WIr(e,t),[Xt]:ekr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DescribeAlarmContributorsCommand"),oTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...KIr(e,t),[Xt]:skr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DescribeAlarmHistoryCommand"),aTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...JIr(e,t),[Xt]:ikr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DescribeAlarmsCommand"),cTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...XIr(e,t),[Xt]:nkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DescribeAlarmsForMetricCommand"),lTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...QIr(e,t),[Xt]:rkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DescribeAnomalyDetectorsCommand"),dTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...YIr(e,t),[Xt]:ckr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DescribeInsightRulesCommand"),uTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...rOr(e,t),[Xt]:ZDr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DisableAlarmActionsCommand"),mTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...nOr(e,t),[Xt]:lkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_DisableInsightRulesCommand"),fTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...sOr(e,t),[Xt]:ukr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_EnableAlarmActionsCommand"),pTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...iOr(e,t),[Xt]:mkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_EnableInsightRulesCommand"),gTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...mOr(e,t),[Xt]:fkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_GetDashboardCommand"),hTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...fOr(e,t),[Xt]:pkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_GetInsightRuleReportCommand"),yTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...pOr(e,t),[Xt]:gkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_GetMetricDataCommand"),_Tr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...gOr(e,t),[Xt]:hkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_GetMetricStatisticsCommand"),STr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...hOr(e,t),[Xt]:ykr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_GetMetricStreamCommand"),vTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...yOr(e,t),[Xt]:_kr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_GetMetricWidgetImageCommand"),ETr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...vOr(e,t),[Xt]:Skr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_ListDashboardsCommand"),CTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...EOr(e,t),[Xt]:Ekr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_ListManagedInsightRulesCommand"),bTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...COr(e,t),[Xt]:vkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_ListMetricsCommand"),wTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...bOr(e,t),[Xt]:Ckr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_ListMetricStreamsCommand"),ATr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...wOr(e,t),[Xt]:bkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),xTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...BOr(e,t),[Xt]:wkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutAnomalyDetectorCommand"),PTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...qOr(e,t),[Xt]:Akr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutCompositeAlarmCommand"),RTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...jOr(e,t),[Xt]:xkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutDashboardCommand"),TTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...$Or(e,t),[Xt]:Pkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutInsightRuleCommand"),ITr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...zOr(e,t),[Xt]:Ikr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutManagedInsightRulesCommand"),OTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...HOr(e,t),[Xt]:Rkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutMetricAlarmCommand"),NTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...VOr(e,t),[Xt]:Tkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutMetricDataCommand"),DTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...GOr(e,t),[Xt]:Okr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_PutMetricStreamCommand"),kTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...KOr(e,t),[Xt]:Nkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_SetAlarmStateCommand"),MTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...XOr(e,t),[Xt]:Dkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_StartMetricStreamsCommand"),LTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...YOr(e,t),[Xt]:kkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_StopMetricStreamsCommand"),UTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...tNr(e,t),[Xt]:Mkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_TagResourceCommand"),FTr=x(async(e,t)=>{let r=Wt,n;return n=Qt({...rNr(e,t),[Xt]:Lkr,[Jt]:Kt}),Gt(t,r,"/",void 0,n)},"se_UntagResourceCommand"),BTr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_DeleteAlarmsCommand"),qTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=wNr(r.DeleteAnomalyDetectorResult,t),{$metadata:nt(e),...n}},"de_DeleteAnomalyDetectorCommand"),jTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=ANr(r.DeleteDashboardsResult,t),{$metadata:nt(e),...n}},"de_DeleteDashboardsCommand"),$Tr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=xNr(r.DeleteInsightRulesResult,t),{$metadata:nt(e),...n}},"de_DeleteInsightRulesCommand"),zTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=PNr(r.DeleteMetricStreamResult,t),{$metadata:nt(e),...n}},"de_DeleteMetricStreamCommand"),HTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=RNr(r.DescribeAlarmContributorsResult,t),{$metadata:nt(e),...n}},"de_DescribeAlarmContributorsCommand"),VTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=TNr(r.DescribeAlarmHistoryResult,t),{$metadata:nt(e),...n}},"de_DescribeAlarmHistoryCommand"),GTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=ONr(r.DescribeAlarmsResult,t),{$metadata:nt(e),...n}},"de_DescribeAlarmsCommand"),WTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=INr(r.DescribeAlarmsForMetricResult,t),{$metadata:nt(e),...n}},"de_DescribeAlarmsForMetricCommand"),KTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=NNr(r.DescribeAnomalyDetectorsResult,t),{$metadata:nt(e),...n}},"de_DescribeAnomalyDetectorsCommand"),XTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=DNr(r.DescribeInsightRulesResult,t),{$metadata:nt(e),...n}},"de_DescribeInsightRulesCommand"),JTr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_DisableAlarmActionsCommand"),QTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=MNr(r.DisableInsightRulesResult,t),{$metadata:nt(e),...n}},"de_DisableInsightRulesCommand"),YTr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_EnableAlarmActionsCommand"),ZTr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=LNr(r.EnableInsightRulesResult,t),{$metadata:nt(e),...n}},"de_EnableInsightRulesCommand"),eIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=UNr(r.GetDashboardResult,t),{$metadata:nt(e),...n}},"de_GetDashboardCommand"),tIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=FNr(r.GetInsightRuleReportResult,t),{$metadata:nt(e),...n}},"de_GetInsightRuleReportCommand"),rIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=BNr(r.GetMetricDataResult,t),{$metadata:nt(e),...n}},"de_GetMetricDataCommand"),nIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=qNr(r.GetMetricStatisticsResult,t),{$metadata:nt(e),...n}},"de_GetMetricStatisticsCommand"),sIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=jNr(r.GetMetricStreamResult,t),{$metadata:nt(e),...n}},"de_GetMetricStreamCommand"),iIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=$Nr(r.GetMetricWidgetImageResult,t),{$metadata:nt(e),...n}},"de_GetMetricWidgetImageCommand"),oIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=oDr(r.ListDashboardsResult,t),{$metadata:nt(e),...n}},"de_ListDashboardsCommand"),aIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=aDr(r.ListManagedInsightRulesResult,t),{$metadata:nt(e),...n}},"de_ListManagedInsightRulesCommand"),cIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=cDr(r.ListMetricsResult,t),{$metadata:nt(e),...n}},"de_ListMetricsCommand"),lIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=lDr(r.ListMetricStreamsResult,t),{$metadata:nt(e),...n}},"de_ListMetricStreamsCommand"),dIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=dDr(r.ListTagsForResourceResult,t),{$metadata:nt(e),...n}},"de_ListTagsForResourceCommand"),uIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=MDr(r.PutAnomalyDetectorResult,t),{$metadata:nt(e),...n}},"de_PutAnomalyDetectorCommand"),mIr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_PutCompositeAlarmCommand"),fIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=LDr(r.PutDashboardResult,t),{$metadata:nt(e),...n}},"de_PutDashboardCommand"),pIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=UDr(r.PutInsightRuleResult,t),{$metadata:nt(e),...n}},"de_PutInsightRuleCommand"),gIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=FDr(r.PutManagedInsightRulesResult,t),{$metadata:nt(e),...n}},"de_PutManagedInsightRulesCommand"),hIr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_PutMetricAlarmCommand"),yIr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_PutMetricDataCommand"),_Ir=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=BDr(r.PutMetricStreamResult,t),{$metadata:nt(e),...n}},"de_PutMetricStreamCommand"),SIr=x(async(e,t)=>e.statusCode>=300?Vt(e,t):(await(0,P.collectBody)(e.body,t),{$metadata:nt(e)}),"de_SetAlarmStateCommand"),vIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=HDr(r.StartMetricStreamsResult,t),{$metadata:nt(e),...n}},"de_StartMetricStreamsCommand"),EIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=VDr(r.StopMetricStreamsResult,t),{$metadata:nt(e),...n}},"de_StopMetricStreamsCommand"),CIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=KDr(r.TagResourceResult,t),{$metadata:nt(e),...n}},"de_TagResourceCommand"),bIr=x(async(e,t)=>{if(e.statusCode>=300)return Vt(e,t);let r=await(0,Tr.parseXmlBody)(e.body,t),n={};return n=JDr(r.UntagResourceResult,t),{$metadata:nt(e),...n}},"de_UntagResourceCommand"),Vt=x(async(e,t)=>{let r={...e,body:await(0,Tr.parseXmlErrorBody)(e.body,t)},n=Ukr(e,r.body);switch(n){case"ResourceNotFound":case"com.amazonaws.cloudwatch#ResourceNotFound":throw await MIr(r,t);case"InternalServiceError":case"com.amazonaws.cloudwatch#InternalServiceFault":throw await PIr(r,t);case"InvalidParameterCombination":case"com.amazonaws.cloudwatch#InvalidParameterCombinationException":throw await IIr(r,t);case"InvalidParameterValue":case"com.amazonaws.cloudwatch#InvalidParameterValueException":throw await OIr(r,t);case"MissingParameter":case"com.amazonaws.cloudwatch#MissingRequiredParameterException":throw await kIr(r,t);case"ResourceNotFoundException":case"com.amazonaws.cloudwatch#ResourceNotFoundException":throw await LIr(r,t);case"ConflictException":case"com.amazonaws.cloudwatch#ConflictException":throw await AIr(r,t);case"InvalidNextToken":case"com.amazonaws.cloudwatch#InvalidNextToken":throw await TIr(r,t);case"LimitExceededException":case"com.amazonaws.cloudwatch#LimitExceededException":throw await NIr(r,t);case"LimitExceeded":case"com.amazonaws.cloudwatch#LimitExceededFault":throw await DIr(r,t);case"InvalidParameterInput":case"com.amazonaws.cloudwatch#DashboardInvalidInputError":throw await xIr(r,t);case"ConcurrentModificationException":case"com.amazonaws.cloudwatch#ConcurrentModificationException":throw await wIr(r,t);case"InvalidFormat":case"com.amazonaws.cloudwatch#InvalidFormatFault":throw await RIr(r,t);default:let s=r.body;return QDr({output:e,parsedBody:s.Error,errorCode:n})}},"de_CommandError"),wIr=x(async(e,t)=>{let r=e.body,n=pNr(r.Error,t),s=new M5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_ConcurrentModificationExceptionRes"),AIr=x(async(e,t)=>{let r=e.body,n=gNr(r.Error,t),s=new U5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_ConflictExceptionRes"),xIr=x(async(e,t)=>{let r=e.body,n=_Nr(r.Error,t),s=new B5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_DashboardInvalidInputErrorRes"),PIr=x(async(e,t)=>{let r=e.body,n=ZNr(r.Error,t),s=new H5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_InternalServiceFaultRes"),RIr=x(async(e,t)=>{let r=e.body,n=eDr(r.Error,t),s=new oXe({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_InvalidFormatFaultRes"),TIr=x(async(e,t)=>{let r=e.body,n=tDr(r.Error,t),s=new eXe({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_InvalidNextTokenRes"),IIr=x(async(e,t)=>{let r=e.body,n=rDr(r.Error,t),s=new G5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_InvalidParameterCombinationExceptionRes"),OIr=x(async(e,t)=>{let r=e.body,n=nDr(r.Error,t),s=new K5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_InvalidParameterValueExceptionRes"),NIr=x(async(e,t)=>{let r=e.body,n=sDr(r.Error,t),s=new rXe({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),DIr=x(async(e,t)=>{let r=e.body,n=iDr(r.Error,t),s=new sXe({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_LimitExceededFaultRes"),kIr=x(async(e,t)=>{let r=e.body,n=NDr(r.Error,t),s=new J5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_MissingRequiredParameterExceptionRes"),MIr=x(async(e,t)=>{let r=e.body,n=jDr(r.Error,t),s=new $5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_ResourceNotFoundRes"),LIr=x(async(e,t)=>{let r=e.body,n=$Dr(r.Error,t),s=new Y5e({$metadata:nt(e),...n});return(0,P.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),SH=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_AlarmNames"),cXe=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_AlarmTypes"),UIr=x((e,t)=>{let r={};if(e[My]!=null){let n=FIr(e[My],t);e[My]?.length===0&&(r.ExcludedTimeRanges=[]),Object.entries(n).forEach(([s,i])=>{let o=`ExcludedTimeRanges.${s}`;r[o]=i})}return e[X0]!=null&&(r[X0]=e[X0]),r},"se_AnomalyDetectorConfiguration"),FIr=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=WOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_AnomalyDetectorExcludedTimeRanges"),BIr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_AnomalyDetectorTypes"),qIr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=(0,P.serializeFloat)(s),n++);return r},"se_Counts"),jIr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_DashboardNames"),$Ir=x((e,t)=>{let r={};if(e[Id]!=null){let n=SH(e[Id],t);e[Id]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}return r},"se_DeleteAlarmsInput"),zIr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[yi]!=null&&(r[yi]=e[yi]),e[Vv]!=null){let n=mXe(e[Vv],t);Object.entries(n).forEach(([s,i])=>{let o=`SingleMetricAnomalyDetector.${s}`;r[o]=i})}if(e[Hv]!=null){let n=dXe(e[Hv],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricMathAnomalyDetector.${s}`;r[o]=i})}return r},"se_DeleteAnomalyDetectorInput"),HIr=x((e,t)=>{let r={};if(e[Ose]!=null){let n=jIr(e[Ose],t);e[Ose]?.length===0&&(r.DashboardNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`DashboardNames.${s}`;r[o]=i})}return r},"se_DeleteDashboardsInput"),VIr=x((e,t)=>{let r={};if(e[rg]!=null){let n=hie(e[rg],t);e[rg]?.length===0&&(r.RuleNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`RuleNames.${s}`;r[o]=i})}return r},"se_DeleteInsightRulesInput"),GIr=x((e,t)=>{let r={};return e[En]!=null&&(r[En]=e[En]),r},"se_DeleteMetricStreamInput"),WIr=x((e,t)=>{let r={};return e[_s]!=null&&(r[_s]=e[_s]),e[Xe]!=null&&(r[Xe]=e[Xe]),r},"se_DescribeAlarmContributorsInput"),KIr=x((e,t)=>{let r={};if(e[_s]!=null&&(r[_s]=e[_s]),e[x0]!=null&&(r[x0]=e[x0]),e[D0]!=null){let n=cXe(e[D0],t);e[D0]?.length===0&&(r.AlarmTypes=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmTypes.${s}`;r[o]=i})}return e[z0]!=null&&(r[z0]=e[z0]),e[oie]!=null&&(r[oie]=(0,P.serializeDateTime)(e[oie])),e[Mse]!=null&&(r[Mse]=(0,P.serializeDateTime)(e[Mse])),e[K0]!=null&&(r[K0]=e[K0]),e[Xe]!=null&&(r[Xe]=e[Xe]),e[tA]!=null&&(r[tA]=e[tA]),r},"se_DescribeAlarmHistoryInput"),XIr=x((e,t)=>{let r={};if(e[dt]!=null&&(r[dt]=e[dt]),e[et]!=null&&(r[et]=e[et]),e[ag]!=null&&(r[ag]=e[ag]),e[Qp]!=null&&(r[Qp]=e[Qp]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return e[Cn]!=null&&(r[Cn]=e[Cn]),e[Ss]!=null&&(r[Ss]=e[Ss]),r},"se_DescribeAlarmsForMetricInput"),JIr=x((e,t)=>{let r={};if(e[Id]!=null){let n=SH(e[Id],t);e[Id]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}if(e[_se]!=null&&(r[_se]=e[_se]),e[D0]!=null){let n=cXe(e[D0],t);e[D0]?.length===0&&(r.AlarmTypes=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmTypes.${s}`;r[o]=i})}return e[Tse]!=null&&(r[Tse]=e[Tse]),e[eie]!=null&&(r[eie]=e[eie]),e[ic]!=null&&(r[ic]=e[ic]),e[Sse]!=null&&(r[Sse]=e[Sse]),e[K0]!=null&&(r[K0]=e[K0]),e[Xe]!=null&&(r[Xe]=e[Xe]),r},"se_DescribeAlarmsInput"),QIr=x((e,t)=>{let r={};if(e[Xe]!=null&&(r[Xe]=e[Xe]),e[Dd]!=null&&(r[Dd]=e[Dd]),e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[yse]!=null){let n=BIr(e[yse],t);e[yse]?.length===0&&(r.AnomalyDetectorTypes=[]),Object.entries(n).forEach(([s,i])=>{let o=`AnomalyDetectorTypes.${s}`;r[o]=i})}return r},"se_DescribeAnomalyDetectorsInput"),YIr=x((e,t)=>{let r={};return e[Xe]!=null&&(r[Xe]=e[Xe]),e[Dd]!=null&&(r[Dd]=e[Dd]),r},"se_DescribeInsightRulesInput"),ZIr=x((e,t)=>{let r={};return e[En]!=null&&(r[En]=e[En]),e[_i]!=null&&(r[_i]=e[_i]),r},"se_Dimension"),eOr=x((e,t)=>{let r={};return e[En]!=null&&(r[En]=e[En]),e[_i]!=null&&(r[_i]=e[_i]),r},"se_DimensionFilter"),tOr=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=eOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_DimensionFilters"),lg=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ZIr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_Dimensions"),rOr=x((e,t)=>{let r={};if(e[Id]!=null){let n=SH(e[Id],t);e[Id]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}return r},"se_DisableAlarmActionsInput"),nOr=x((e,t)=>{let r={};if(e[rg]!=null){let n=hie(e[rg],t);e[rg]?.length===0&&(r.RuleNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`RuleNames.${s}`;r[o]=i})}return r},"se_DisableInsightRulesInput"),sOr=x((e,t)=>{let r={};if(e[Id]!=null){let n=SH(e[Id],t);e[Id]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}return r},"se_EnableAlarmActionsInput"),iOr=x((e,t)=>{let r={};if(e[rg]!=null){let n=hie(e[rg],t);e[rg]?.length===0&&(r.RuleNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`RuleNames.${s}`;r[o]=i})}return r},"se_EnableInsightRulesInput"),oOr=x((e,t)=>{let r={};if(e[T5e]!=null){let n=cOr(e[T5e],t);Object.entries(n).forEach(([s,i])=>{let o=`KeyAttributes.${s}`;r[o]=i})}if(e[P5e]!=null){let n=aOr(e[P5e],t);Object.entries(n).forEach(([s,i])=>{let o=`Attributes.${s}`;r[o]=i})}return r},"se_Entity"),aOr=x((e,t)=>{let r={},n=1;return Object.keys(e).filter(s=>e[s]!=null).forEach(s=>{r[`entry.${n}.key`]=s,r[`entry.${n}.value`]=e[s],n++}),r},"se_EntityAttributesMap"),cOr=x((e,t)=>{let r={},n=1;return Object.keys(e).filter(s=>e[s]!=null).forEach(s=>{r[`entry.${n}.key`]=s,r[`entry.${n}.value`]=e[s],n++}),r},"se_EntityKeyAttributesMap"),lOr=x((e,t)=>{let r={};if(e[R5e]!=null){let n=oOr(e[R5e],t);Object.entries(n).forEach(([s,i])=>{let o=`Entity.${s}`;r[o]=i})}if(e[W0]!=null){let n=lXe(e[W0],t);e[W0]?.length===0&&(r.MetricData=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricData.${s}`;r[o]=i})}return r},"se_EntityMetricData"),dOr=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=lOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_EntityMetricDataList"),uOr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_ExtendedStatistics"),mOr=x((e,t)=>{let r={};return e[Od]!=null&&(r[Od]=e[Od]),r},"se_GetDashboardInput"),fOr=x((e,t)=>{let r={};if(e[ng]!=null&&(r[ng]=e[ng]),e[sc]!=null&&(r[sc]=(0,P.serializeDateTime)(e[sc])),e[nc]!=null&&(r[nc]=(0,P.serializeDateTime)(e[nc])),e[Cn]!=null&&(r[Cn]=e[Cn]),e[Gse]!=null&&(r[Gse]=e[Gse]),e[ha]!=null){let n=_Or(e[ha],t);e[ha]?.length===0&&(r.Metrics=[]),Object.entries(n).forEach(([s,i])=>{let o=`Metrics.${s}`;r[o]=i})}return e[Zse]!=null&&(r[Zse]=e[Zse]),r},"se_GetInsightRuleReportInput"),pOr=x((e,t)=>{let r={};if(e[em]!=null){let n=yie(e[em],t);e[em]?.length===0&&(r.MetricDataQueries=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricDataQueries.${s}`;r[o]=i})}if(e[sc]!=null&&(r[sc]=(0,P.serializeDateTime)(e[sc])),e[nc]!=null&&(r[nc]=(0,P.serializeDateTime)(e[nc])),e[Xe]!=null&&(r[Xe]=e[Xe]),e[tA]!=null&&(r[tA]=e[tA]),e[Kse]!=null&&(r[Kse]=e[Kse]),e[I5e]!=null){let n=SOr(e[I5e],t);Object.entries(n).forEach(([s,i])=>{let o=`LabelOptions.${s}`;r[o]=i})}return r},"se_GetMetricDataInput"),gOr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[sc]!=null&&(r[sc]=(0,P.serializeDateTime)(e[sc])),e[nc]!=null&&(r[nc]=(0,P.serializeDateTime)(e[nc])),e[Cn]!=null&&(r[Cn]=e[Cn]),e[uie]!=null){let n=JOr(e[uie],t);e[uie]?.length===0&&(r.Statistics=[]),Object.entries(n).forEach(([s,i])=>{let o=`Statistics.${s}`;r[o]=i})}if(e[ky]!=null){let n=uOr(e[ky],t);e[ky]?.length===0&&(r.ExtendedStatistics=[]),Object.entries(n).forEach(([s,i])=>{let o=`ExtendedStatistics.${s}`;r[o]=i})}return e[Ss]!=null&&(r[Ss]=e[Ss]),r},"se_GetMetricStatisticsInput"),hOr=x((e,t)=>{let r={};return e[En]!=null&&(r[En]=e[En]),r},"se_GetMetricStreamInput"),yOr=x((e,t)=>{let r={};return e[Jse]!=null&&(r[Jse]=e[Jse]),e[kd]!=null&&(r[kd]=e[kd]),r},"se_GetMetricWidgetImageInput"),_Or=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_InsightRuleMetricList"),hie=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_InsightRuleNames"),SOr=x((e,t)=>{let r={};return e[mie]!=null&&(r[mie]=e[mie]),r},"se_LabelOptions"),vOr=x((e,t)=>{let r={};return e[Nse]!=null&&(r[Nse]=e[Nse]),e[Xe]!=null&&(r[Xe]=e[Xe]),r},"se_ListDashboardsInput"),EOr=x((e,t)=>{let r={};return e[ho]!=null&&(r[ho]=e[ho]),e[Xe]!=null&&(r[Xe]=e[Xe]),e[Dd]!=null&&(r[Dd]=e[Dd]),r},"se_ListManagedInsightRulesInput"),COr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=tOr(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return e[Xe]!=null&&(r[Xe]=e[Xe]),e[tie]!=null&&(r[tie]=e[tie]),e[Hse]!=null&&(r[Hse]=e[Hse]),e[Yse]!=null&&(r[Yse]=e[Yse]),r},"se_ListMetricsInput"),bOr=x((e,t)=>{let r={};return e[Xe]!=null&&(r[Xe]=e[Xe]),e[Dd]!=null&&(r[Dd]=e[Dd]),r},"se_ListMetricStreamsInput"),wOr=x((e,t)=>{let r={};return e[ho]!=null&&(r[ho]=e[ho]),r},"se_ListTagsForResourceInput"),AOr=x((e,t)=>{let r={};if(e[iA]!=null&&(r[iA]=e[iA]),e[ho]!=null&&(r[ho]=e[ho]),e[$s]!=null){let n=cA(e[$s],t);e[$s]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},"se_ManagedRule"),xOr=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=AOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_ManagedRules"),POr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return r},"se_Metric"),ROr=x((e,t)=>{let r={};return e[Q0]!=null&&(r[Q0]=e[Q0]),r},"se_MetricCharacteristics"),lXe=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=IOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricData"),yie=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=TOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricDataQueries"),TOr=x((e,t)=>{let r={};if(e[Zp]!=null&&(r[Zp]=e[Zp]),e[$N]!=null){let n=OOr(e[$N],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricStat.${s}`;r[o]=i})}return e[$0]!=null&&(r[$0]=e[$0]),e[Nd]!=null&&(r[Nd]=e[Nd]),e[Z0]!=null&&(r[Z0]=e[Z0]),e[Cn]!=null&&(r[Cn]=e[Cn]),e[Td]!=null&&(r[Td]=e[Td]),r},"se_MetricDataQuery"),IOr=x((e,t)=>{let r={};if(e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[oc]!=null&&(r[oc]=(0,P.serializeDateTime)(e[oc])),e[_i]!=null&&(r[_i]=(0,P.serializeFloat)(e[_i])),e[O5e]!=null){let n=QOr(e[O5e],t);Object.entries(n).forEach(([s,i])=>{let o=`StatisticValues.${s}`;r[o]=i})}if(e[jy]!=null){let n=nNr(e[jy],t);e[jy]?.length===0&&(r.Values=[]),Object.entries(n).forEach(([s,i])=>{let o=`Values.${s}`;r[o]=i})}if(e[Pse]!=null){let n=qIr(e[Pse],t);e[Pse]?.length===0&&(r.Counts=[]),Object.entries(n).forEach(([s,i])=>{let o=`Counts.${s}`;r[o]=i})}return e[Ss]!=null&&(r[Ss]=e[Ss]),e[cie]!=null&&(r[cie]=e[cie]),r},"se_MetricDatum"),dXe=x((e,t)=>{let r={};if(e[em]!=null){let n=yie(e[em],t);e[em]?.length===0&&(r.MetricDataQueries=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricDataQueries.${s}`;r[o]=i})}return r},"se_MetricMathAnomalyDetector"),OOr=x((e,t)=>{let r={};if(e[zN]!=null){let n=POr(e[zN],t);Object.entries(n).forEach(([s,i])=>{let o=`Metric.${s}`;r[o]=i})}return e[Cn]!=null&&(r[Cn]=e[Cn]),e[yi]!=null&&(r[yi]=e[yi]),e[Ss]!=null&&(r[Ss]=e[Ss]),r},"se_MetricStat"),NOr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[Fy]!=null){let n=DOr(e[Fy],t);e[Fy]?.length===0&&(r.MetricNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricNames.${s}`;r[o]=i})}return r},"se_MetricStreamFilter"),DOr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_MetricStreamFilterMetricNames"),A5e=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=NOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricStreamFilters"),uXe=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_MetricStreamNames"),kOr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_MetricStreamStatisticsAdditionalStatistics"),MOr=x((e,t)=>{let r={};if(e[Uy]!=null){let n=UOr(e[Uy],t);e[Uy]?.length===0&&(r.IncludeMetrics=[]),Object.entries(n).forEach(([s,i])=>{let o=`IncludeMetrics.${s}`;r[o]=i})}if(e[Ny]!=null){let n=kOr(e[Ny],t);e[Ny]?.length===0&&(r.AdditionalStatistics=[]),Object.entries(n).forEach(([s,i])=>{let o=`AdditionalStatistics.${s}`;r[o]=i})}return r},"se_MetricStreamStatisticsConfiguration"),LOr=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=MOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricStreamStatisticsConfigurations"),UOr=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=FOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricStreamStatisticsIncludeMetrics"),FOr=x((e,t)=>{let r={};return e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),r},"se_MetricStreamStatisticsMetric"),BOr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[yi]!=null&&(r[yi]=e[yi]),e[qN]!=null){let n=UIr(e[qN],t);Object.entries(n).forEach(([s,i])=>{let o=`Configuration.${s}`;r[o]=i})}if(e[jN]!=null){let n=ROr(e[jN],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricCharacteristics.${s}`;r[o]=i})}if(e[Vv]!=null){let n=mXe(e[Vv],t);Object.entries(n).forEach(([s,i])=>{let o=`SingleMetricAnomalyDetector.${s}`;r[o]=i})}if(e[Hv]!=null){let n=dXe(e[Hv],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricMathAnomalyDetector.${s}`;r[o]=i})}return r},"se_PutAnomalyDetectorInput"),qOr=x((e,t)=>{let r={};if(e[Rd]!=null&&(r[Rd]=e[Rd]),e[pa]!=null){let n=b0(e[pa],t);e[pa]?.length===0&&(r.AlarmActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmActions.${s}`;r[o]=i})}if(e[Pd]!=null&&(r[Pd]=e[Pd]),e[_s]!=null&&(r[_s]=e[_s]),e[T0]!=null&&(r[T0]=e[T0]),e[ga]!=null){let n=b0(e[ga],t);e[ga]?.length===0&&(r.InsufficientDataActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`InsufficientDataActions.${s}`;r[o]=i})}if(e[ya]!=null){let n=b0(e[ya],t);e[ya]?.length===0&&(r.OKActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`OKActions.${s}`;r[o]=i})}if(e[$s]!=null){let n=cA(e[$s],t);e[$s]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return e[N0]!=null&&(r[N0]=e[N0]),e[O0]!=null&&(r[O0]=e[O0]),e[I0]!=null&&(r[I0]=e[I0]),r},"se_PutCompositeAlarmInput"),jOr=x((e,t)=>{let r={};return e[Od]!=null&&(r[Od]=e[Od]),e[F0]!=null&&(r[F0]=e[F0]),r},"se_PutDashboardInput"),$Or=x((e,t)=>{let r={};if(e[ng]!=null&&(r[ng]=e[ng]),e[eA]!=null&&(r[eA]=e[eA]),e[rie]!=null&&(r[rie]=e[rie]),e[$s]!=null){let n=cA(e[$s],t);e[$s]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return e[R0]!=null&&(r[R0]=e[R0]),r},"se_PutInsightRuleInput"),zOr=x((e,t)=>{let r={};if(e[By]!=null){let n=xOr(e[By],t);e[By]?.length===0&&(r.ManagedRules=[]),Object.entries(n).forEach(([s,i])=>{let o=`ManagedRules.${s}`;r[o]=i})}return r},"se_PutManagedInsightRulesInput"),HOr=x((e,t)=>{let r={};if(e[_s]!=null&&(r[_s]=e[_s]),e[Pd]!=null&&(r[Pd]=e[Pd]),e[Rd]!=null&&(r[Rd]=e[Rd]),e[ya]!=null){let n=b0(e[ya],t);e[ya]?.length===0&&(r.OKActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`OKActions.${s}`;r[o]=i})}if(e[pa]!=null){let n=b0(e[pa],t);e[pa]?.length===0&&(r.AlarmActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmActions.${s}`;r[o]=i})}if(e[ga]!=null){let n=b0(e[ga],t);e[ga]?.length===0&&(r.InsufficientDataActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`InsufficientDataActions.${s}`;r[o]=i})}if(e[dt]!=null&&(r[dt]=e[dt]),e[et]!=null&&(r[et]=e[et]),e[ag]!=null&&(r[ag]=e[ag]),e[Qp]!=null&&(r[Qp]=e[Qp]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[Cn]!=null&&(r[Cn]=e[Cn]),e[Ss]!=null&&(r[Ss]=e[Ss]),e[j0]!=null&&(r[j0]=e[j0]),e[B0]!=null&&(r[B0]=e[B0]),e[oA]!=null&&(r[oA]=(0,P.serializeFloat)(e[oA])),e[L0]!=null&&(r[L0]=e[L0]),e[nA]!=null&&(r[nA]=e[nA]),e[q0]!=null&&(r[q0]=e[q0]),e[ha]!=null){let n=yie(e[ha],t);e[ha]?.length===0&&(r.Metrics=[]),Object.entries(n).forEach(([s,i])=>{let o=`Metrics.${s}`;r[o]=i})}if(e[$s]!=null){let n=cA(e[$s],t);e[$s]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return e[sA]!=null&&(r[sA]=e[sA]),r},"se_PutMetricAlarmInput"),VOr=x((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[W0]!=null){let n=lXe(e[W0],t);e[W0]?.length===0&&(r.MetricData=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricData.${s}`;r[o]=i})}if(e[Lse]!=null){let n=dOr(e[Lse],t);e[Lse]?.length===0&&(r.EntityMetricData=[]),Object.entries(n).forEach(([s,i])=>{let o=`EntityMetricData.${s}`;r[o]=i})}return e[aie]!=null&&(r[aie]=e[aie]),r},"se_PutMetricDataInput"),GOr=x((e,t)=>{let r={};if(e[En]!=null&&(r[En]=e[En]),e[Ly]!=null){let n=A5e(e[Ly],t);e[Ly]?.length===0&&(r.IncludeFilters=[]),Object.entries(n).forEach(([s,i])=>{let o=`IncludeFilters.${s}`;r[o]=i})}if(e[Dy]!=null){let n=A5e(e[Dy],t);e[Dy]?.length===0&&(r.ExcludeFilters=[]),Object.entries(n).forEach(([s,i])=>{let o=`ExcludeFilters.${s}`;r[o]=i})}if(e[Yp]!=null&&(r[Yp]=e[Yp]),e[Y0]!=null&&(r[Y0]=e[Y0]),e[kd]!=null&&(r[kd]=e[kd]),e[$s]!=null){let n=cA(e[$s],t);e[$s]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[qy]!=null){let n=LOr(e[qy],t);e[qy]?.length===0&&(r.StatisticsConfigurations=[]),Object.entries(n).forEach(([s,i])=>{let o=`StatisticsConfigurations.${s}`;r[o]=i})}return e[H0]!=null&&(r[H0]=e[H0]),r},"se_PutMetricStreamInput"),WOr=x((e,t)=>{let r={};return e[sc]!=null&&(r[sc]=(0,P.serializeDateTime)(e[sc])),e[nc]!=null&&(r[nc]=(0,P.serializeDateTime)(e[nc])),r},"se_Range"),b0=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_ResourceList"),KOr=x((e,t)=>{let r={};return e[_s]!=null&&(r[_s]=e[_s]),e[ic]!=null&&(r[ic]=e[ic]),e[Md]!=null&&(r[Md]=e[Md]),e[ig]!=null&&(r[ig]=e[ig]),r},"se_SetAlarmStateInput"),mXe=x((e,t)=>{let r={};if(e[Td]!=null&&(r[Td]=e[Td]),e[et]!=null&&(r[et]=e[et]),e[dt]!=null&&(r[dt]=e[dt]),e[at]!=null){let n=lg(e[at],t);e[at]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return e[yi]!=null&&(r[yi]=e[yi]),r},"se_SingleMetricAnomalyDetector"),XOr=x((e,t)=>{let r={};if(e[J0]!=null){let n=uXe(e[J0],t);e[J0]?.length===0&&(r.Names=[]),Object.entries(n).forEach(([s,i])=>{let o=`Names.${s}`;r[o]=i})}return r},"se_StartMetricStreamsInput"),JOr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_Statistics"),QOr=x((e,t)=>{let r={};return e[sg]!=null&&(r[sg]=(0,P.serializeFloat)(e[sg])),e[cg]!=null&&(r[cg]=(0,P.serializeFloat)(e[cg])),e[tg]!=null&&(r[tg]=(0,P.serializeFloat)(e[tg])),e[eg]!=null&&(r[eg]=(0,P.serializeFloat)(e[eg])),r},"se_StatisticSet"),YOr=x((e,t)=>{let r={};if(e[J0]!=null){let n=uXe(e[J0],t);e[J0]?.length===0&&(r.Names=[]),Object.entries(n).forEach(([s,i])=>{let o=`Names.${s}`;r[o]=i})}return r},"se_StopMetricStreamsInput"),ZOr=x((e,t)=>{let r={};return e[V0]!=null&&(r[V0]=e[V0]),e[_i]!=null&&(r[_i]=e[_i]),r},"se_Tag"),eNr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_TagKeyList"),cA=x((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ZOr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_TagList"),tNr=x((e,t)=>{let r={};if(e[ho]!=null&&(r[ho]=e[ho]),e[$s]!=null){let n=cA(e[$s],t);e[$s]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},"se_TagResourceInput"),rNr=x((e,t)=>{let r={};if(e[ho]!=null&&(r[ho]=e[ho]),e[fie]!=null){let n=eNr(e[fie],t);e[fie]?.length===0&&(r.TagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TagKeys.${s}`;r[o]=i})}return r},"se_UntagResourceInput"),nNr=x((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=(0,P.serializeFloat)(s),n++);return r},"se_Values"),sNr=x((e,t)=>{let r={};return e[Rse]!=null&&(r[Rse]=(0,P.expectString)(e[Rse])),e.ContributorAttributes===""?r[xN]={}:e[xN]!=null&&e[xN][aA]!=null&&(r[xN]=fXe((0,P.getArrayIfSingleItem)(e[xN][aA]),t)),e[Md]!=null&&(r[Md]=(0,P.expectString)(e[Md])),e[og]!=null&&(r[og]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[og]))),r},"de_AlarmContributor"),iNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>sNr(r,t)),"de_AlarmContributors"),oNr=x((e,t)=>{let r={};return e[_s]!=null&&(r[_s]=(0,P.expectString)(e[_s])),e[x0]!=null&&(r[x0]=(0,P.expectString)(e[x0])),e[bse]!=null&&(r[bse]=(0,P.expectString)(e[bse])),e[oc]!=null&&(r[oc]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[oc]))),e[z0]!=null&&(r[z0]=(0,P.expectString)(e[z0])),e[zse]!=null&&(r[zse]=(0,P.expectString)(e[zse])),e[$se]!=null&&(r[$se]=(0,P.expectString)(e[$se])),e.AlarmContributorAttributes===""?r[bN]={}:e[bN]!=null&&e[bN][aA]!=null&&(r[bN]=fXe((0,P.getArrayIfSingleItem)(e[bN][aA]),t)),r},"de_AlarmHistoryItem"),aNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>oNr(r,t)),"de_AlarmHistoryItems"),cNr=x((e,t)=>{let r={};return e[et]!=null&&(r[et]=(0,P.expectString)(e[et])),e[dt]!=null&&(r[dt]=(0,P.expectString)(e[dt])),e.Dimensions===""?r[at]=[]:e[at]!=null&&e[at][pe]!=null&&(r[at]=EH((0,P.getArrayIfSingleItem)(e[at][pe]),t)),e[yi]!=null&&(r[yi]=(0,P.expectString)(e[yi])),e[qN]!=null&&(r[qN]=lNr(e[qN],t)),e[ic]!=null&&(r[ic]=(0,P.expectString)(e[ic])),e[jN]!=null&&(r[jN]=hDr(e[jN],t)),e[Vv]!=null&&(r[Vv]=zDr(e[Vv],t)),e[Hv]!=null&&(r[Hv]=vDr(e[Hv],t)),r},"de_AnomalyDetector"),lNr=x((e,t)=>{let r={};return e.ExcludedTimeRanges===""?r[My]=[]:e[My]!=null&&e[My][pe]!=null&&(r[My]=dNr((0,P.getArrayIfSingleItem)(e[My][pe]),t)),e[X0]!=null&&(r[X0]=(0,P.expectString)(e[X0])),r},"de_AnomalyDetectorConfiguration"),dNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>qDr(r,t)),"de_AnomalyDetectorExcludedTimeRanges"),uNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>cNr(r,t)),"de_AnomalyDetectors"),vH=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>kDr(r,t)),"de_BatchFailures"),mNr=x((e,t)=>{let r={};return e[Rd]!=null&&(r[Rd]=(0,P.parseBoolean)(e[Rd])),e.AlarmActions===""?r[pa]=[]:e[pa]!=null&&e[pa][pe]!=null&&(r[pa]=w0((0,P.getArrayIfSingleItem)(e[pa][pe]),t)),e[A0]!=null&&(r[A0]=(0,P.expectString)(e[A0])),e[P0]!=null&&(r[P0]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[P0]))),e[Pd]!=null&&(r[Pd]=(0,P.expectString)(e[Pd])),e[_s]!=null&&(r[_s]=(0,P.expectString)(e[_s])),e[T0]!=null&&(r[T0]=(0,P.expectString)(e[T0])),e.InsufficientDataActions===""?r[ga]=[]:e[ga]!=null&&e[ga][pe]!=null&&(r[ga]=w0((0,P.getArrayIfSingleItem)(e[ga][pe]),t)),e.OKActions===""?r[ya]=[]:e[ya]!=null&&e[ya][pe]!=null&&(r[ya]=w0((0,P.getArrayIfSingleItem)(e[ya][pe]),t)),e[Md]!=null&&(r[Md]=(0,P.expectString)(e[Md])),e[ig]!=null&&(r[ig]=(0,P.expectString)(e[ig])),e[rA]!=null&&(r[rA]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[rA]))),e[ic]!=null&&(r[ic]=(0,P.expectString)(e[ic])),e[og]!=null&&(r[og]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[og]))),e[vse]!=null&&(r[vse]=(0,P.expectString)(e[vse])),e[Ese]!=null&&(r[Ese]=(0,P.expectString)(e[Ese])),e[N0]!=null&&(r[N0]=(0,P.expectString)(e[N0])),e[O0]!=null&&(r[O0]=(0,P.strictParseInt32)(e[O0])),e[I0]!=null&&(r[I0]=(0,P.strictParseInt32)(e[I0])),r},"de_CompositeAlarm"),fNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>mNr(r,t)),"de_CompositeAlarms"),pNr=x((e,t)=>{let r={};return e[go]!=null&&(r[go]=(0,P.expectString)(e[go])),r},"de_ConcurrentModificationException"),gNr=x((e,t)=>{let r={};return e[go]!=null&&(r[go]=(0,P.expectString)(e[go])),r},"de_ConflictException"),fXe=x((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,P.expectString)(n.value)),r),{}),"de_ContributorAttributes"),hNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>yNr(r,t)),"de_DashboardEntries"),yNr=x((e,t)=>{let r={};return e[Od]!=null&&(r[Od]=(0,P.expectString)(e[Od])),e[U0]!=null&&(r[U0]=(0,P.expectString)(e[U0])),e[Vse]!=null&&(r[Vse]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[Vse]))),e[die]!=null&&(r[die]=(0,P.strictParseLong)(e[die])),r},"de_DashboardEntry"),_Nr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),e.dashboardValidationMessages===""?r[BN]=[]:e[BN]!=null&&e[BN][pe]!=null&&(r[BN]=pXe((0,P.getArrayIfSingleItem)(e[BN][pe]),t)),r},"de_DashboardInvalidInputError"),SNr=x((e,t)=>{let r={};return e[Dse]!=null&&(r[Dse]=(0,P.expectString)(e[Dse])),e[go]!=null&&(r[go]=(0,P.expectString)(e[go])),r},"de_DashboardValidationMessage"),pXe=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>SNr(r,t)),"de_DashboardValidationMessages"),vNr=x((e,t)=>{let r={};return e[oc]!=null&&(r[oc]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[oc]))),e[sg]!=null&&(r[sg]=(0,P.strictParseFloat)(e[sg])),e[k0]!=null&&(r[k0]=(0,P.strictParseFloat)(e[k0])),e[cg]!=null&&(r[cg]=(0,P.strictParseFloat)(e[cg])),e[tg]!=null&&(r[tg]=(0,P.strictParseFloat)(e[tg])),e[eg]!=null&&(r[eg]=(0,P.strictParseFloat)(e[eg])),e[Ss]!=null&&(r[Ss]=(0,P.expectString)(e[Ss])),e.ExtendedStatistics===""?r[ky]={}:e[ky]!=null&&e[ky][aA]!=null&&(r[ky]=CNr((0,P.getArrayIfSingleItem)(e[ky][aA]),t)),r},"de_Datapoint"),ENr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vNr(r,t)),"de_Datapoints"),CNr=x((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,P.strictParseFloat)(n.value)),r),{}),"de_DatapointValueMap"),bNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.strictParseFloat)(r)),"de_DatapointValues"),wNr=x((e,t)=>({}),"de_DeleteAnomalyDetectorOutput"),ANr=x((e,t)=>({}),"de_DeleteDashboardsOutput"),xNr=x((e,t)=>{let r={};return e.Failures===""?r[Mi]=[]:e[Mi]!=null&&e[Mi][pe]!=null&&(r[Mi]=vH((0,P.getArrayIfSingleItem)(e[Mi][pe]),t)),r},"de_DeleteInsightRulesOutput"),PNr=x((e,t)=>({}),"de_DeleteMetricStreamOutput"),RNr=x((e,t)=>{let r={};return e.AlarmContributors===""?r[CN]=[]:e[CN]!=null&&e[CN][pe]!=null&&(r[CN]=iNr((0,P.getArrayIfSingleItem)(e[CN][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),r},"de_DescribeAlarmContributorsOutput"),TNr=x((e,t)=>{let r={};return e.AlarmHistoryItems===""?r[AN]=[]:e[AN]!=null&&e[AN][pe]!=null&&(r[AN]=aNr((0,P.getArrayIfSingleItem)(e[AN][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),r},"de_DescribeAlarmHistoryOutput"),INr=x((e,t)=>{let r={};return e.MetricAlarms===""?r[nf]=[]:e[nf]!=null&&e[nf][pe]!=null&&(r[nf]=hXe((0,P.getArrayIfSingleItem)(e[nf][pe]),t)),r},"de_DescribeAlarmsForMetricOutput"),ONr=x((e,t)=>{let r={};return e.CompositeAlarms===""?r[PN]=[]:e[PN]!=null&&e[PN][pe]!=null&&(r[PN]=fNr((0,P.getArrayIfSingleItem)(e[PN][pe]),t)),e.MetricAlarms===""?r[nf]=[]:e[nf]!=null&&e[nf][pe]!=null&&(r[nf]=hXe((0,P.getArrayIfSingleItem)(e[nf][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),r},"de_DescribeAlarmsOutput"),NNr=x((e,t)=>{let r={};return e.AnomalyDetectors===""?r[wN]=[]:e[wN]!=null&&e[wN][pe]!=null&&(r[wN]=uNr((0,P.getArrayIfSingleItem)(e[wN][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),r},"de_DescribeAnomalyDetectorsOutput"),DNr=x((e,t)=>{let r={};return e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),e.InsightRules===""?r[NN]=[]:e[NN]!=null&&e[NN][pe]!=null&&(r[NN]=YNr((0,P.getArrayIfSingleItem)(e[NN][pe]),t)),r},"de_DescribeInsightRulesOutput"),kNr=x((e,t)=>{let r={};return e[En]!=null&&(r[En]=(0,P.expectString)(e[En])),e[_i]!=null&&(r[_i]=(0,P.expectString)(e[_i])),r},"de_Dimension"),EH=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>kNr(r,t)),"de_Dimensions"),MNr=x((e,t)=>{let r={};return e.Failures===""?r[Mi]=[]:e[Mi]!=null&&e[Mi][pe]!=null&&(r[Mi]=vH((0,P.getArrayIfSingleItem)(e[Mi][pe]),t)),r},"de_DisableInsightRulesOutput"),LNr=x((e,t)=>{let r={};return e.Failures===""?r[Mi]=[]:e[Mi]!=null&&e[Mi][pe]!=null&&(r[Mi]=vH((0,P.getArrayIfSingleItem)(e[Mi][pe]),t)),r},"de_EnableInsightRulesOutput"),UNr=x((e,t)=>{let r={};return e[U0]!=null&&(r[U0]=(0,P.expectString)(e[U0])),e[F0]!=null&&(r[F0]=(0,P.expectString)(e[F0])),e[Od]!=null&&(r[Od]=(0,P.expectString)(e[Od])),r},"de_GetDashboardOutput"),FNr=x((e,t)=>{let r={};return e.KeyLabels===""?r[DN]=[]:e[DN]!=null&&e[DN][pe]!=null&&(r[DN]=WNr((0,P.getArrayIfSingleItem)(e[DN][pe]),t)),e[Cse]!=null&&(r[Cse]=(0,P.expectString)(e[Cse])),e[Ase]!=null&&(r[Ase]=(0,P.strictParseFloat)(e[Ase])),e[wse]!=null&&(r[wse]=(0,P.strictParseLong)(e[wse])),e.Contributors===""?r[RN]=[]:e[RN]!=null&&e[RN][pe]!=null&&(r[RN]=XNr((0,P.getArrayIfSingleItem)(e[RN][pe]),t)),e.MetricDatapoints===""?r[LN]=[]:e[LN]!=null&&e[LN][pe]!=null&&(r[LN]=QNr((0,P.getArrayIfSingleItem)(e[LN][pe]),t)),r},"de_GetInsightRuleReportOutput"),BNr=x((e,t)=>{let r={};return e.MetricDataResults===""?r[MN]=[]:e[MN]!=null&&e[MN][pe]!=null&&(r[MN]=SDr((0,P.getArrayIfSingleItem)(e[MN][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),e.Messages===""?r[sf]=[]:e[sf]!=null&&e[sf][pe]!=null&&(r[sf]=_Xe((0,P.getArrayIfSingleItem)(e[sf][pe]),t)),r},"de_GetMetricDataOutput"),qNr=x((e,t)=>{let r={};return e[Nd]!=null&&(r[Nd]=(0,P.expectString)(e[Nd])),e.Datapoints===""?r[rf]=[]:e[rf]!=null&&e[rf][pe]!=null&&(r[rf]=ENr((0,P.getArrayIfSingleItem)(e[rf][pe]),t)),r},"de_GetMetricStatisticsOutput"),jNr=x((e,t)=>{let r={};return e[Jp]!=null&&(r[Jp]=(0,P.expectString)(e[Jp])),e[En]!=null&&(r[En]=(0,P.expectString)(e[En])),e.IncludeFilters===""?r[Ly]=[]:e[Ly]!=null&&e[Ly][pe]!=null&&(r[Ly]=x5e((0,P.getArrayIfSingleItem)(e[Ly][pe]),t)),e.ExcludeFilters===""?r[Dy]=[]:e[Dy]!=null&&e[Dy][pe]!=null&&(r[Dy]=x5e((0,P.getArrayIfSingleItem)(e[Dy][pe]),t)),e[Yp]!=null&&(r[Yp]=(0,P.expectString)(e[Yp])),e[Y0]!=null&&(r[Y0]=(0,P.expectString)(e[Y0])),e[Ld]!=null&&(r[Ld]=(0,P.expectString)(e[Ld])),e[M0]!=null&&(r[M0]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[M0]))),e[G0]!=null&&(r[G0]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[G0]))),e[kd]!=null&&(r[kd]=(0,P.expectString)(e[kd])),e.StatisticsConfigurations===""?r[qy]=[]:e[qy]!=null&&e[qy][pe]!=null&&(r[qy]=TDr((0,P.getArrayIfSingleItem)(e[qy][pe]),t)),e[H0]!=null&&(r[H0]=(0,P.parseBoolean)(e[H0])),r},"de_GetMetricStreamOutput"),$Nr=x((e,t)=>{let r={};return e[Qse]!=null&&(r[Qse]=t.base64Decoder(e[Qse])),r},"de_GetMetricWidgetImageOutput"),zNr=x((e,t)=>{let r={};return e[En]!=null&&(r[En]=(0,P.expectString)(e[En])),e[Ld]!=null&&(r[Ld]=(0,P.expectString)(e[Ld])),e[lie]!=null&&(r[lie]=(0,P.expectString)(e[lie])),e[kse]!=null&&(r[kse]=(0,P.expectString)(e[kse])),e[Xse]!=null&&(r[Xse]=(0,P.parseBoolean)(e[Xse])),e[R0]!=null&&(r[R0]=(0,P.parseBoolean)(e[R0])),r},"de_InsightRule"),HNr=x((e,t)=>{let r={};return e.Keys===""?r[kN]=[]:e[kN]!=null&&e[kN][pe]!=null&&(r[kN]=KNr((0,P.getArrayIfSingleItem)(e[kN][pe]),t)),e[hse]!=null&&(r[hse]=(0,P.strictParseFloat)(e[hse])),e.Datapoints===""?r[rf]=[]:e[rf]!=null&&e[rf][pe]!=null&&(r[rf]=GNr((0,P.getArrayIfSingleItem)(e[rf][pe]),t)),r},"de_InsightRuleContributor"),VNr=x((e,t)=>{let r={};return e[oc]!=null&&(r[oc]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[oc]))),e[xse]!=null&&(r[xse]=(0,P.strictParseFloat)(e[xse])),r},"de_InsightRuleContributorDatapoint"),GNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>VNr(r,t)),"de_InsightRuleContributorDatapoints"),WNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectString)(r)),"de_InsightRuleContributorKeyLabels"),KNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectString)(r)),"de_InsightRuleContributorKeys"),XNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>HNr(r,t)),"de_InsightRuleContributors"),JNr=x((e,t)=>{let r={};return e[oc]!=null&&(r[oc]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[oc]))),e[pie]!=null&&(r[pie]=(0,P.strictParseFloat)(e[pie])),e[Wse]!=null&&(r[Wse]=(0,P.strictParseFloat)(e[Wse])),e[sg]!=null&&(r[sg]=(0,P.strictParseFloat)(e[sg])),e[k0]!=null&&(r[k0]=(0,P.strictParseFloat)(e[k0])),e[cg]!=null&&(r[cg]=(0,P.strictParseFloat)(e[cg])),e[tg]!=null&&(r[tg]=(0,P.strictParseFloat)(e[tg])),e[eg]!=null&&(r[eg]=(0,P.strictParseFloat)(e[eg])),r},"de_InsightRuleMetricDatapoint"),QNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>JNr(r,t)),"de_InsightRuleMetricDatapoints"),YNr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>zNr(r,t)),"de_InsightRules"),ZNr=x((e,t)=>{let r={};return e[go]!=null&&(r[go]=(0,P.expectString)(e[go])),r},"de_InternalServiceFault"),eDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_InvalidFormatFault"),tDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_InvalidNextToken"),rDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_InvalidParameterCombinationException"),nDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_InvalidParameterValueException"),sDr=x((e,t)=>{let r={};return e[go]!=null&&(r[go]=(0,P.expectString)(e[go])),r},"de_LimitExceededException"),iDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_LimitExceededFault"),oDr=x((e,t)=>{let r={};return e.DashboardEntries===""?r[TN]=[]:e[TN]!=null&&e[TN][pe]!=null&&(r[TN]=hNr((0,P.getArrayIfSingleItem)(e[TN][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),r},"de_ListDashboardsOutput"),aDr=x((e,t)=>{let r={};return e.ManagedRules===""?r[By]=[]:e[By]!=null&&e[By][pe]!=null&&(r[By]=mDr((0,P.getArrayIfSingleItem)(e[By][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),r},"de_ListManagedInsightRulesOutput"),cDr=x((e,t)=>{let r={};return e.Metrics===""?r[ha]=[]:e[ha]!=null&&e[ha][pe]!=null&&(r[ha]=EDr((0,P.getArrayIfSingleItem)(e[ha][pe]),t)),e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),e.OwningAccounts===""?r[UN]=[]:e[UN]!=null&&e[UN][pe]!=null&&(r[UN]=DDr((0,P.getArrayIfSingleItem)(e[UN][pe]),t)),r},"de_ListMetricsOutput"),lDr=x((e,t)=>{let r={};return e[Xe]!=null&&(r[Xe]=(0,P.expectString)(e[Xe])),e.Entries===""?r[ON]=[]:e[ON]!=null&&e[ON][pe]!=null&&(r[ON]=bDr((0,P.getArrayIfSingleItem)(e[ON][pe]),t)),r},"de_ListMetricStreamsOutput"),dDr=x((e,t)=>{let r={};return e.Tags===""?r[$s]=[]:e[$s]!=null&&e[$s][pe]!=null&&(r[$s]=WDr((0,P.getArrayIfSingleItem)(e[$s][pe]),t)),r},"de_ListTagsForResourceOutput"),uDr=x((e,t)=>{let r={};return e[iA]!=null&&(r[iA]=(0,P.expectString)(e[iA])),e[ho]!=null&&(r[ho]=(0,P.expectString)(e[ho])),e[eA]!=null&&(r[eA]=fDr(e[eA],t)),r},"de_ManagedRuleDescription"),mDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>uDr(r,t)),"de_ManagedRuleDescriptions"),fDr=x((e,t)=>{let r={};return e[ng]!=null&&(r[ng]=(0,P.expectString)(e[ng])),e[Ld]!=null&&(r[Ld]=(0,P.expectString)(e[Ld])),r},"de_ManagedRuleState"),pDr=x((e,t)=>{let r={};return e[Ise]!=null&&(r[Ise]=(0,P.expectString)(e[Ise])),e[_i]!=null&&(r[_i]=(0,P.expectString)(e[_i])),r},"de_MessageData"),gXe=x((e,t)=>{let r={};return e[et]!=null&&(r[et]=(0,P.expectString)(e[et])),e[dt]!=null&&(r[dt]=(0,P.expectString)(e[dt])),e.Dimensions===""?r[at]=[]:e[at]!=null&&e[at][pe]!=null&&(r[at]=EH((0,P.getArrayIfSingleItem)(e[at][pe]),t)),r},"de_Metric"),gDr=x((e,t)=>{let r={};return e[_s]!=null&&(r[_s]=(0,P.expectString)(e[_s])),e[A0]!=null&&(r[A0]=(0,P.expectString)(e[A0])),e[Pd]!=null&&(r[Pd]=(0,P.expectString)(e[Pd])),e[P0]!=null&&(r[P0]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[P0]))),e[Rd]!=null&&(r[Rd]=(0,P.parseBoolean)(e[Rd])),e.OKActions===""?r[ya]=[]:e[ya]!=null&&e[ya][pe]!=null&&(r[ya]=w0((0,P.getArrayIfSingleItem)(e[ya][pe]),t)),e.AlarmActions===""?r[pa]=[]:e[pa]!=null&&e[pa][pe]!=null&&(r[pa]=w0((0,P.getArrayIfSingleItem)(e[pa][pe]),t)),e.InsufficientDataActions===""?r[ga]=[]:e[ga]!=null&&e[ga][pe]!=null&&(r[ga]=w0((0,P.getArrayIfSingleItem)(e[ga][pe]),t)),e[ic]!=null&&(r[ic]=(0,P.expectString)(e[ic])),e[Md]!=null&&(r[Md]=(0,P.expectString)(e[Md])),e[ig]!=null&&(r[ig]=(0,P.expectString)(e[ig])),e[rA]!=null&&(r[rA]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[rA]))),e[dt]!=null&&(r[dt]=(0,P.expectString)(e[dt])),e[et]!=null&&(r[et]=(0,P.expectString)(e[et])),e[ag]!=null&&(r[ag]=(0,P.expectString)(e[ag])),e[Qp]!=null&&(r[Qp]=(0,P.expectString)(e[Qp])),e.Dimensions===""?r[at]=[]:e[at]!=null&&e[at][pe]!=null&&(r[at]=EH((0,P.getArrayIfSingleItem)(e[at][pe]),t)),e[Cn]!=null&&(r[Cn]=(0,P.strictParseInt32)(e[Cn])),e[Ss]!=null&&(r[Ss]=(0,P.expectString)(e[Ss])),e[j0]!=null&&(r[j0]=(0,P.strictParseInt32)(e[j0])),e[B0]!=null&&(r[B0]=(0,P.strictParseInt32)(e[B0])),e[oA]!=null&&(r[oA]=(0,P.strictParseFloat)(e[oA])),e[L0]!=null&&(r[L0]=(0,P.expectString)(e[L0])),e[nA]!=null&&(r[nA]=(0,P.expectString)(e[nA])),e[q0]!=null&&(r[q0]=(0,P.expectString)(e[q0])),e.Metrics===""?r[ha]=[]:e[ha]!=null&&e[ha][pe]!=null&&(r[ha]=yXe((0,P.getArrayIfSingleItem)(e[ha][pe]),t)),e[sA]!=null&&(r[sA]=(0,P.expectString)(e[sA])),e[Use]!=null&&(r[Use]=(0,P.expectString)(e[Use])),e[og]!=null&&(r[og]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[og]))),r},"de_MetricAlarm"),hXe=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>gDr(r,t)),"de_MetricAlarms"),hDr=x((e,t)=>{let r={};return e[Q0]!=null&&(r[Q0]=(0,P.parseBoolean)(e[Q0])),r},"de_MetricCharacteristics"),yXe=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>yDr(r,t)),"de_MetricDataQueries"),yDr=x((e,t)=>{let r={};return e[Zp]!=null&&(r[Zp]=(0,P.expectString)(e[Zp])),e[$N]!=null&&(r[$N]=CDr(e[$N],t)),e[$0]!=null&&(r[$0]=(0,P.expectString)(e[$0])),e[Nd]!=null&&(r[Nd]=(0,P.expectString)(e[Nd])),e[Z0]!=null&&(r[Z0]=(0,P.parseBoolean)(e[Z0])),e[Cn]!=null&&(r[Cn]=(0,P.strictParseInt32)(e[Cn])),e[Td]!=null&&(r[Td]=(0,P.expectString)(e[Td])),r},"de_MetricDataQuery"),_Dr=x((e,t)=>{let r={};return e[Zp]!=null&&(r[Zp]=(0,P.expectString)(e[Zp])),e[Nd]!=null&&(r[Nd]=(0,P.expectString)(e[Nd])),e.Timestamps===""?r[FN]=[]:e[FN]!=null&&e[FN][pe]!=null&&(r[FN]=XDr((0,P.getArrayIfSingleItem)(e[FN][pe]),t)),e.Values===""?r[jy]=[]:e[jy]!=null&&e[jy][pe]!=null&&(r[jy]=bNr((0,P.getArrayIfSingleItem)(e[jy][pe]),t)),e[iie]!=null&&(r[iie]=(0,P.expectString)(e[iie])),e.Messages===""?r[sf]=[]:e[sf]!=null&&e[sf][pe]!=null&&(r[sf]=_Xe((0,P.getArrayIfSingleItem)(e[sf][pe]),t)),r},"de_MetricDataResult"),_Xe=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>pDr(r,t)),"de_MetricDataResultMessages"),SDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>_Dr(r,t)),"de_MetricDataResults"),vDr=x((e,t)=>{let r={};return e.MetricDataQueries===""?r[em]=[]:e[em]!=null&&e[em][pe]!=null&&(r[em]=yXe((0,P.getArrayIfSingleItem)(e[em][pe]),t)),r},"de_MetricMathAnomalyDetector"),EDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>gXe(r,t)),"de_Metrics"),CDr=x((e,t)=>{let r={};return e[zN]!=null&&(r[zN]=gXe(e[zN],t)),e[Cn]!=null&&(r[Cn]=(0,P.strictParseInt32)(e[Cn])),e[yi]!=null&&(r[yi]=(0,P.expectString)(e[yi])),e[Ss]!=null&&(r[Ss]=(0,P.expectString)(e[Ss])),r},"de_MetricStat"),bDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>wDr(r,t)),"de_MetricStreamEntries"),wDr=x((e,t)=>{let r={};return e[Jp]!=null&&(r[Jp]=(0,P.expectString)(e[Jp])),e[M0]!=null&&(r[M0]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[M0]))),e[G0]!=null&&(r[G0]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[G0]))),e[En]!=null&&(r[En]=(0,P.expectString)(e[En])),e[Yp]!=null&&(r[Yp]=(0,P.expectString)(e[Yp])),e[Ld]!=null&&(r[Ld]=(0,P.expectString)(e[Ld])),e[kd]!=null&&(r[kd]=(0,P.expectString)(e[kd])),r},"de_MetricStreamEntry"),ADr=x((e,t)=>{let r={};return e[et]!=null&&(r[et]=(0,P.expectString)(e[et])),e.MetricNames===""?r[Fy]=[]:e[Fy]!=null&&e[Fy][pe]!=null&&(r[Fy]=xDr((0,P.getArrayIfSingleItem)(e[Fy][pe]),t)),r},"de_MetricStreamFilter"),xDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectString)(r)),"de_MetricStreamFilterMetricNames"),x5e=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ADr(r,t)),"de_MetricStreamFilters"),PDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectString)(r)),"de_MetricStreamStatisticsAdditionalStatistics"),RDr=x((e,t)=>{let r={};return e.IncludeMetrics===""?r[Uy]=[]:e[Uy]!=null&&e[Uy][pe]!=null&&(r[Uy]=IDr((0,P.getArrayIfSingleItem)(e[Uy][pe]),t)),e.AdditionalStatistics===""?r[Ny]=[]:e[Ny]!=null&&e[Ny][pe]!=null&&(r[Ny]=PDr((0,P.getArrayIfSingleItem)(e[Ny][pe]),t)),r},"de_MetricStreamStatisticsConfiguration"),TDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>RDr(r,t)),"de_MetricStreamStatisticsConfigurations"),IDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ODr(r,t)),"de_MetricStreamStatisticsIncludeMetrics"),ODr=x((e,t)=>{let r={};return e[et]!=null&&(r[et]=(0,P.expectString)(e[et])),e[dt]!=null&&(r[dt]=(0,P.expectString)(e[dt])),r},"de_MetricStreamStatisticsMetric"),NDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_MissingRequiredParameterException"),DDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectString)(r)),"de_OwningAccounts"),kDr=x((e,t)=>{let r={};return e[jse]!=null&&(r[jse]=(0,P.expectString)(e[jse])),e[Fse]!=null&&(r[Fse]=(0,P.expectString)(e[Fse])),e[Bse]!=null&&(r[Bse]=(0,P.expectString)(e[Bse])),e[qse]!=null&&(r[qse]=(0,P.expectString)(e[qse])),r},"de_PartialFailure"),MDr=x((e,t)=>({}),"de_PutAnomalyDetectorOutput"),LDr=x((e,t)=>{let r={};return e.DashboardValidationMessages===""?r[IN]=[]:e[IN]!=null&&e[IN][pe]!=null&&(r[IN]=pXe((0,P.getArrayIfSingleItem)(e[IN][pe]),t)),r},"de_PutDashboardOutput"),UDr=x((e,t)=>({}),"de_PutInsightRuleOutput"),FDr=x((e,t)=>{let r={};return e.Failures===""?r[Mi]=[]:e[Mi]!=null&&e[Mi][pe]!=null&&(r[Mi]=vH((0,P.getArrayIfSingleItem)(e[Mi][pe]),t)),r},"de_PutManagedInsightRulesOutput"),BDr=x((e,t)=>{let r={};return e[Jp]!=null&&(r[Jp]=(0,P.expectString)(e[Jp])),r},"de_PutMetricStreamOutput"),qDr=x((e,t)=>{let r={};return e[sc]!=null&&(r[sc]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[sc]))),e[nc]!=null&&(r[nc]=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(e[nc]))),r},"de_Range"),w0=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectString)(r)),"de_ResourceList"),jDr=x((e,t)=>{let r={};return e[vs]!=null&&(r[vs]=(0,P.expectString)(e[vs])),r},"de_ResourceNotFound"),$Dr=x((e,t)=>{let r={};return e[sie]!=null&&(r[sie]=(0,P.expectString)(e[sie])),e[nie]!=null&&(r[nie]=(0,P.expectString)(e[nie])),e[go]!=null&&(r[go]=(0,P.expectString)(e[go])),r},"de_ResourceNotFoundException"),zDr=x((e,t)=>{let r={};return e[Td]!=null&&(r[Td]=(0,P.expectString)(e[Td])),e[et]!=null&&(r[et]=(0,P.expectString)(e[et])),e[dt]!=null&&(r[dt]=(0,P.expectString)(e[dt])),e.Dimensions===""?r[at]=[]:e[at]!=null&&e[at][pe]!=null&&(r[at]=EH((0,P.getArrayIfSingleItem)(e[at][pe]),t)),e[yi]!=null&&(r[yi]=(0,P.expectString)(e[yi])),r},"de_SingleMetricAnomalyDetector"),HDr=x((e,t)=>({}),"de_StartMetricStreamsOutput"),VDr=x((e,t)=>({}),"de_StopMetricStreamsOutput"),GDr=x((e,t)=>{let r={};return e[V0]!=null&&(r[V0]=(0,P.expectString)(e[V0])),e[_i]!=null&&(r[_i]=(0,P.expectString)(e[_i])),r},"de_Tag"),WDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>GDr(r,t)),"de_TagList"),KDr=x((e,t)=>({}),"de_TagResourceOutput"),XDr=x((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(r))),"de_Timestamps"),JDr=x((e,t)=>({}),"de_UntagResourceOutput"),nt=x(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),QDr=(0,P.withBaseException)(_a),Gt=x(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new gie.HttpRequest(l)},"buildHttpRpcRequest"),Wt={"content-type":"application/x-www-form-urlencoded"},Kt="2010-08-01",Xt="Action",pa="AlarmActions",hse="ApproximateAggregateValue",A0="AlarmArn",CN="AlarmContributors",bN="AlarmContributorAttributes",x0="AlarmContributorId",P0="AlarmConfigurationUpdatedTimestamp",Pd="AlarmDescription",yse="AnomalyDetectorTypes",wN="AnomalyDetectors",Rd="ActionsEnabled",AN="AlarmHistoryItems",Td="AccountId",Id="AlarmNames",_se="AlarmNamePrefix",_s="AlarmName",R0="ApplyOnTransformedLogs",Sse="ActionPrefix",T0="AlarmRule",Ny="AdditionalStatistics",vse="ActionsSuppressedBy",I0="ActionsSuppressorExtensionPeriod",Ese="ActionsSuppressedReason",O0="ActionsSuppressorWaitPeriod",N0="ActionsSuppressor",Cse="AggregationStatistic",D0="AlarmTypes",bse="AlarmType",wse="ApproximateUniqueCount",Ase="AggregateValue",xse="ApproximateValue",Jp="Arn",P5e="Attributes",k0="Average",Pse="Counts",xN="ContributorAttributes",PN="CompositeAlarms",M0="CreationDate",Rse="ContributorId",L0="ComparisonOperator",Tse="ChildrenOfAlarmName",qN="Configuration",Ise="Code",RN="Contributors",at="Dimensions",YDr="DeleteAlarms",ZDr="DisableAlarmActions",ekr="DescribeAlarmContributors",tkr="DeleteAnomalyDetector",rkr="DescribeAnomalyDetectors",nkr="DescribeAlarmsForMetric",skr="DescribeAlarmHistory",U0="DashboardArn",ikr="DescribeAlarms",F0="DashboardBody",okr="DeleteDashboards",TN="DashboardEntries",akr="DeleteInsightRules",ckr="DescribeInsightRules",lkr="DisableInsightRules",dkr="DeleteMetricStream",Ose="DashboardNames",Nse="DashboardNamePrefix",Od="DashboardName",Dse="DataPath",B0="DatapointsToAlarm",IN="DashboardValidationMessages",rf="Datapoints",kse="Definition",R5e="Entity",ukr="EnableAlarmActions",Mse="EndDate",Dy="ExcludeFilters",mkr="EnableInsightRules",q0="EvaluateLowSampleCountPercentile",Lse="EntityMetricData",j0="EvaluationPeriods",Qp="ExtendedStatistic",Use="EvaluationState",ky="ExtendedStatistics",nc="EndTime",My="ExcludedTimeRanges",Fse="ExceptionType",ON="Entries",$0="Expression",Mi="Failures",Yp="FirehoseArn",Bse="FailureCode",qse="FailureDescription",jse="FailureResource",fkr="GetDashboard",pkr="GetInsightRuleReport",gkr="GetMetricData",hkr="GetMetricStatistics",ykr="GetMetricStream",_kr="GetMetricWidgetImage",$se="HistoryData",z0="HistoryItemType",zse="HistorySummary",Zp="Id",ga="InsufficientDataActions",Ly="IncludeFilters",Hse="IncludeLinkedAccounts",H0="IncludeLinkedAccountsMetrics",Uy="IncludeMetrics",NN="InsightRules",V0="Key",T5e="KeyAttributes",DN="KeyLabels",kN="Keys",Nd="Label",Skr="ListDashboards",vkr="ListMetrics",Ekr="ListManagedInsightRules",Ckr="ListMetricStreams",Vse="LastModified",I5e="LabelOptions",bkr="ListTagsForResource",G0="LastUpdateDate",ha="Metrics",nf="MetricAlarms",jN="MetricCharacteristics",Gse="MaxContributorCount",Wse="MaxContributorValue",W0="MetricData",em="MetricDataQueries",MN="MetricDataResults",Kse="MaxDatapoints",LN="MetricDatapoints",Hv="MetricMathAnomalyDetector",dt="MetricName",Fy="MetricNames",K0="MaxRecords",Dd="MaxResults",By="ManagedRules",Xse="ManagedRule",$N="MetricStat",X0="MetricTimezone",Jse="MetricWidget",Qse="MetricWidgetImage",eg="Maximum",zN="Metric",go="Message",sf="Messages",tg="Minimum",et="Namespace",Xe="NextToken",En="Name",J0="Names",Yse="OwningAccount",UN="OwningAccounts",Zse="OrderBy",kd="OutputFormat",ya="OKActions",Cn="Period",wkr="PutAnomalyDetector",Akr="PutCompositeAlarm",xkr="PutDashboard",Pkr="PutInsightRule",Rkr="PutMetricAlarm",Tkr="PutMetricData",Ikr="PutManagedInsightRules",Okr="PutMetricStream",eie="ParentsOfAlarmName",Q0="PeriodicSpikes",tie="RecentlyActive",ho="ResourceARN",Y0="RoleArn",Z0="ReturnData",rie="RuleDefinition",nie="ResourceId",rg="RuleNames",ng="RuleName",eA="RuleState",sie="ResourceType",yi="Stat",Nkr="SetAlarmState",tA="ScanBy",qy="StatisticsConfigurations",sg="SampleCount",iie="StatusCode",oie="StartDate",aie="StrictEntityValidation",Vv="SingleMetricAnomalyDetector",Dkr="StartMetricStreams",kkr="StopMetricStreams",cie="StorageResolution",ig="StateReasonData",Md="StateReason",sc="StartTime",og="StateTransitionedTimestamp",rA="StateUpdatedTimestamp",ic="StateValue",O5e="StatisticValues",lie="Schema",die="Size",ag="Statistic",uie="Statistics",Ld="State",cg="Sum",mie="Timezone",fie="TagKeys",nA="TreatMissingData",sA="ThresholdMetricId",iA="TemplateName",Mkr="TagResource",$s="Tags",oA="Threshold",oc="Timestamp",FN="Timestamps",Ss="Unit",pie="UniqueContributors",Lkr="UntagResource",Jt="Version",_i="Value",jy="Values",BN="dashboardValidationMessages",aA="entry",pe="member",vs="message",Qt=x(e=>Object.entries(e).map(([t,r])=>(0,P.extendedEncodeURIComponent)(t)+"="+(0,P.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),Ukr=x((e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),SXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteAlarms",{}).n("CloudWatchClient","DeleteAlarmsCommand").f(void 0,void 0).ser(eTr).de(BTr).build(){static{x(this,"DeleteAlarmsCommand")}},vXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteAnomalyDetector",{}).n("CloudWatchClient","DeleteAnomalyDetectorCommand").f(void 0,void 0).ser(tTr).de(qTr).build(){static{x(this,"DeleteAnomalyDetectorCommand")}},EXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteDashboards",{}).n("CloudWatchClient","DeleteDashboardsCommand").f(void 0,void 0).ser(rTr).de(jTr).build(){static{x(this,"DeleteDashboardsCommand")}},CXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteInsightRules",{}).n("CloudWatchClient","DeleteInsightRulesCommand").f(void 0,void 0).ser(nTr).de($Tr).build(){static{x(this,"DeleteInsightRulesCommand")}},bXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteMetricStream",{}).n("CloudWatchClient","DeleteMetricStreamCommand").f(void 0,void 0).ser(sTr).de(zTr).build(){static{x(this,"DeleteMetricStreamCommand")}},wXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarmContributors",{}).n("CloudWatchClient","DescribeAlarmContributorsCommand").f(void 0,void 0).ser(iTr).de(HTr).build(){static{x(this,"DescribeAlarmContributorsCommand")}},_ie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarmHistory",{}).n("CloudWatchClient","DescribeAlarmHistoryCommand").f(void 0,void 0).ser(oTr).de(VTr).build(){static{x(this,"DescribeAlarmHistoryCommand")}},HN=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarms",{}).n("CloudWatchClient","DescribeAlarmsCommand").f(void 0,void 0).ser(aTr).de(GTr).build(){static{x(this,"DescribeAlarmsCommand")}},AXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarmsForMetric",{}).n("CloudWatchClient","DescribeAlarmsForMetricCommand").f(void 0,void 0).ser(cTr).de(WTr).build(){static{x(this,"DescribeAlarmsForMetricCommand")}},Sie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAnomalyDetectors",{}).n("CloudWatchClient","DescribeAnomalyDetectorsCommand").f(void 0,void 0).ser(lTr).de(KTr).build(){static{x(this,"DescribeAnomalyDetectorsCommand")}},vie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeInsightRules",{}).n("CloudWatchClient","DescribeInsightRulesCommand").f(void 0,void 0).ser(dTr).de(XTr).build(){static{x(this,"DescribeInsightRulesCommand")}},xXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DisableAlarmActions",{}).n("CloudWatchClient","DisableAlarmActionsCommand").f(void 0,void 0).ser(uTr).de(JTr).build(){static{x(this,"DisableAlarmActionsCommand")}},PXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DisableInsightRules",{}).n("CloudWatchClient","DisableInsightRulesCommand").f(void 0,void 0).ser(mTr).de(QTr).build(){static{x(this,"DisableInsightRulesCommand")}},RXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","EnableAlarmActions",{}).n("CloudWatchClient","EnableAlarmActionsCommand").f(void 0,void 0).ser(fTr).de(YTr).build(){static{x(this,"EnableAlarmActionsCommand")}},TXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","EnableInsightRules",{}).n("CloudWatchClient","EnableInsightRulesCommand").f(void 0,void 0).ser(pTr).de(ZTr).build(){static{x(this,"EnableInsightRulesCommand")}},IXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetDashboard",{}).n("CloudWatchClient","GetDashboardCommand").f(void 0,void 0).ser(gTr).de(eIr).build(){static{x(this,"GetDashboardCommand")}},OXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetInsightRuleReport",{}).n("CloudWatchClient","GetInsightRuleReportCommand").f(void 0,void 0).ser(hTr).de(tIr).build(){static{x(this,"GetInsightRuleReportCommand")}},Eie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricData",{}).n("CloudWatchClient","GetMetricDataCommand").f(void 0,void 0).ser(yTr).de(rIr).build(){static{x(this,"GetMetricDataCommand")}},NXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricStatistics",{}).n("CloudWatchClient","GetMetricStatisticsCommand").f(void 0,void 0).ser(_Tr).de(nIr).build(){static{x(this,"GetMetricStatisticsCommand")}},DXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricStream",{}).n("CloudWatchClient","GetMetricStreamCommand").f(void 0,void 0).ser(STr).de(sIr).build(){static{x(this,"GetMetricStreamCommand")}},kXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricWidgetImage",{}).n("CloudWatchClient","GetMetricWidgetImageCommand").f(void 0,void 0).ser(vTr).de(iIr).build(){static{x(this,"GetMetricWidgetImageCommand")}},Cie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListDashboards",{}).n("CloudWatchClient","ListDashboardsCommand").f(void 0,void 0).ser(ETr).de(oIr).build(){static{x(this,"ListDashboardsCommand")}},bie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListManagedInsightRules",{}).n("CloudWatchClient","ListManagedInsightRulesCommand").f(void 0,void 0).ser(CTr).de(aIr).build(){static{x(this,"ListManagedInsightRulesCommand")}},wie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListMetrics",{}).n("CloudWatchClient","ListMetricsCommand").f(void 0,void 0).ser(bTr).de(cIr).build(){static{x(this,"ListMetricsCommand")}},Aie=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListMetricStreams",{}).n("CloudWatchClient","ListMetricStreamsCommand").f(void 0,void 0).ser(wTr).de(lIr).build(){static{x(this,"ListMetricStreamsCommand")}},MXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListTagsForResource",{}).n("CloudWatchClient","ListTagsForResourceCommand").f(void 0,void 0).ser(ATr).de(dIr).build(){static{x(this,"ListTagsForResourceCommand")}},LXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutAnomalyDetector",{}).n("CloudWatchClient","PutAnomalyDetectorCommand").f(void 0,void 0).ser(xTr).de(uIr).build(){static{x(this,"PutAnomalyDetectorCommand")}},UXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutCompositeAlarm",{}).n("CloudWatchClient","PutCompositeAlarmCommand").f(void 0,void 0).ser(PTr).de(mIr).build(){static{x(this,"PutCompositeAlarmCommand")}},FXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutDashboard",{}).n("CloudWatchClient","PutDashboardCommand").f(void 0,void 0).ser(RTr).de(fIr).build(){static{x(this,"PutDashboardCommand")}},BXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutInsightRule",{}).n("CloudWatchClient","PutInsightRuleCommand").f(void 0,void 0).ser(TTr).de(pIr).build(){static{x(this,"PutInsightRuleCommand")}},qXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutManagedInsightRules",{}).n("CloudWatchClient","PutManagedInsightRulesCommand").f(void 0,void 0).ser(ITr).de(gIr).build(){static{x(this,"PutManagedInsightRulesCommand")}},jXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutMetricAlarm",{}).n("CloudWatchClient","PutMetricAlarmCommand").f(void 0,void 0).ser(OTr).de(hIr).build(){static{x(this,"PutMetricAlarmCommand")}},$Xe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,D5e.getCompressionPlugin)(r,{encodings:["gzip"]})]}).s("GraniteServiceVersion20100801","PutMetricData",{}).n("CloudWatchClient","PutMetricDataCommand").f(void 0,void 0).ser(NTr).de(yIr).build(){static{x(this,"PutMetricDataCommand")}},zXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutMetricStream",{}).n("CloudWatchClient","PutMetricStreamCommand").f(void 0,void 0).ser(DTr).de(_Ir).build(){static{x(this,"PutMetricStreamCommand")}},HXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","SetAlarmState",{}).n("CloudWatchClient","SetAlarmStateCommand").f(void 0,void 0).ser(kTr).de(SIr).build(){static{x(this,"SetAlarmStateCommand")}},VXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","StartMetricStreams",{}).n("CloudWatchClient","StartMetricStreamsCommand").f(void 0,void 0).ser(MTr).de(vIr).build(){static{x(this,"StartMetricStreamsCommand")}},GXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","StopMetricStreams",{}).n("CloudWatchClient","StopMetricStreamsCommand").f(void 0,void 0).ser(LTr).de(EIr).build(){static{x(this,"StopMetricStreamsCommand")}},WXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","TagResource",{}).n("CloudWatchClient","TagResourceCommand").f(void 0,void 0).ser(UTr).de(CIr).build(){static{x(this,"TagResourceCommand")}},KXe=class extends P.Command.classBuilder().ep(zt).m(function(e,t,r,n){return[(0,Ht.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Lt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","UntagResource",{}).n("CloudWatchClient","UntagResourceCommand").f(void 0,void 0).ser(FTr).de(bIr).build(){static{x(this,"UntagResourceCommand")}},Fkr={DeleteAlarmsCommand:SXe,DeleteAnomalyDetectorCommand:vXe,DeleteDashboardsCommand:EXe,DeleteInsightRulesCommand:CXe,DeleteMetricStreamCommand:bXe,DescribeAlarmContributorsCommand:wXe,DescribeAlarmHistoryCommand:_ie,DescribeAlarmsCommand:HN,DescribeAlarmsForMetricCommand:AXe,DescribeAnomalyDetectorsCommand:Sie,DescribeInsightRulesCommand:vie,DisableAlarmActionsCommand:xXe,DisableInsightRulesCommand:PXe,EnableAlarmActionsCommand:RXe,EnableInsightRulesCommand:TXe,GetDashboardCommand:IXe,GetInsightRuleReportCommand:OXe,GetMetricDataCommand:Eie,GetMetricStatisticsCommand:NXe,GetMetricStreamCommand:DXe,GetMetricWidgetImageCommand:kXe,ListDashboardsCommand:Cie,ListManagedInsightRulesCommand:bie,ListMetricsCommand:wie,ListMetricStreamsCommand:Aie,ListTagsForResourceCommand:MXe,PutAnomalyDetectorCommand:LXe,PutCompositeAlarmCommand:UXe,PutDashboardCommand:FXe,PutInsightRuleCommand:BXe,PutManagedInsightRulesCommand:qXe,PutMetricAlarmCommand:jXe,PutMetricDataCommand:$Xe,PutMetricStreamCommand:zXe,SetAlarmStateCommand:HXe,StartMetricStreamsCommand:VXe,StopMetricStreamsCommand:GXe,TagResourceCommand:WXe,UntagResourceCommand:KXe},XXe=class extends tm{static{x(this,"CloudWatch")}};(0,P.createAggregatedClient)(Fkr,XXe);var Bkr=(0,xd.createPaginator)(tm,_ie,"NextToken","NextToken","MaxRecords"),qkr=(0,xd.createPaginator)(tm,HN,"NextToken","NextToken","MaxRecords"),jkr=(0,xd.createPaginator)(tm,Sie,"NextToken","NextToken","MaxResults"),$kr=(0,xd.createPaginator)(tm,vie,"NextToken","NextToken","MaxResults"),zkr=(0,xd.createPaginator)(tm,Eie,"NextToken","NextToken","MaxDatapoints"),Hkr=(0,xd.createPaginator)(tm,Cie,"NextToken","NextToken",""),Vkr=(0,xd.createPaginator)(tm,bie,"NextToken","NextToken","MaxResults"),Gkr=(0,xd.createPaginator)(tm,Aie,"NextToken","NextToken","MaxResults"),Wkr=(0,xd.createPaginator)(tm,wie,"NextToken","NextToken",""),of=gse(),JXe=x(async(e,t)=>{let r;try{let n=await e.send(new HN(t));r=n;try{if(x(()=>[].concat(...n.MetricAlarms).length>0,"returnComparator")()==!0)return{state:of.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:of.WaiterState.RETRY,reason:r}},"checkState"),Kkr=x(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,of.createWaiter)({...r,...e},t,JXe)},"waitForAlarmExists"),Xkr=x(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,of.createWaiter)({...r,...e},t,JXe);return(0,of.checkExceptions)(n)},"waitUntilAlarmExists"),QXe=x(async(e,t)=>{let r;try{let n=await e.send(new HN(t));r=n;try{if(x(()=>[].concat(...n.CompositeAlarms).length>0,"returnComparator")()==!0)return{state:of.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:of.WaiterState.RETRY,reason:r}},"checkState"),Jkr=x(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,of.createWaiter)({...r,...e},t,QXe)},"waitForCompositeAlarmExists"),Qkr=x(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,of.createWaiter)({...r,...e},t,QXe);return(0,of.checkExceptions)(n)},"waitUntilCompositeAlarmExists")});var iJe=E(yo=>{"use strict";var Ykr=yo&&yo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yo,"__esModule",{value:!0});yo.createResponse=CH;yo.createSuccessResponse=tMr;yo.createErrorResponse=tJe;yo.getRequestId=rJe;yo.logRequest=nJe;yo.logResponse=sJe;yo.emitMetric=VN;yo.emitDatabaseConnectionMetric=rMr;yo.emitBusinessMetric=nMr;yo.lambdaHandler=sMr;yo.handleCorsPreflightRequest=iMr;yo.parseRequestBody=oMr;yo.extractBearerToken=aMr;yo.validateEnvironmentVariables=cMr;var Zkr=Ykr(XGe()),eJe=ZXe(),eMr=new eJe.CloudWatchClient({});function CH(e,t,r={}){return{statusCode:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS","X-Serverless-Migration":"lambda-functions","X-Migration-Date":new Date().toISOString().split("T")[0],...r},body:JSON.stringify(t)}}function tMr(e,t="Success",r=200){return CH(r,{success:!0,message:t,data:e,timestamp:new Date().toISOString()})}function tJe(e,t=500,r){return CH(t,{success:!1,message:e,error:r,timestamp:new Date().toISOString()})}function rJe(e,t){return e.requestContext?.requestId||t?.awsRequestId||"unknown"}function nJe(e,t,r={}){console.log(JSON.stringify({type:"request",method:e,path:t,timestamp:new Date().toISOString(),...r}))}function sJe(e,t,r={}){console.log(JSON.stringify({type:"response",statusCode:e,duration:t,timestamp:new Date().toISOString(),...r}))}async function VN(e){if(process.env.ENABLE_CUSTOM_METRICS)try{let t={Namespace:e.namespace||process.env.CUSTOM_METRICS_NAMESPACE||"NameCard/Business",MetricData:[{MetricName:e.name,Value:e.value,Unit:e.unit,Timestamp:new Date}]};await eMr.send(new eJe.PutMetricDataCommand(t))}catch(t){console.error("Failed to emit custom metric:",t)}}async function rMr(e){console.log(JSON.stringify({eventType:"DB_CONNECTION",activeConnections:e,timestamp:new Date().toISOString()})),await VN({name:"ActiveConnections",value:e,unit:"Count",namespace:"NameCard/Database"})}async function nMr(e,t=1){console.log(JSON.stringify({eventType:"BUSINESS_METRIC",eventName:e,count:t,timestamp:new Date().toISOString()})),await VN({name:e,value:t,unit:"Count"})}function sMr(e,t={}){return async(r,n)=>{let s=Date.now(),i=rJe(r,n),o=r.httpMethod,a=r.path;nJe(o,a,{requestId:i,functionName:n.functionName});let c;try{if(t.enableXRay){let u=Zkr.default.getSegment()?.addNewSubsegment("lambda-handler");u?.addAnnotation("method",o),u?.addAnnotation("path",a),u?.addAnnotation("functionName",n.functionName);try{c=await e(r,n),u?.close()}catch(m){throw u?.addError(m),u?.close(),m}}else c=await e(r,n)}catch(d){console.error("Lambda handler error:",d),await VN({name:"Errors",value:1,unit:"Count",namespace:"NameCard/Lambda"}),c=tJe("Internal server error",500,d instanceof Error?d.message:"Unknown error")}let l=Date.now()-s;return sJe(c.statusCode,l,{requestId:i,functionName:n.functionName}),t.enableCustomMetrics&&await VN({name:"Duration",value:l,unit:"Seconds",namespace:"NameCard/Lambda"}),c}}function iMr(e){return e.httpMethod==="OPTIONS"?CH(200,{},{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS","Access-Control-Max-Age":"86400"}):null}function oMr(e){if(!e.body)return{};try{return JSON.parse(e.body)}catch(t){throw console.error("Failed to parse request body:",t),new Error("Invalid JSON in request body")}}function aMr(e){let t=e.headers.Authorization||e.headers.authorization;if(!t)return null;let r=t.split(" ");return r.length!==2||r[0]!=="Bearer"?null:r[1]}function cMr(e){let t=e.filter(r=>!process.env[r]);if(t.length>0)throw new Error(`Missing required environment variables: ${t.join(", ")}`)}});var zy=E((Aus,pJe)=>{var bH=Object.defineProperty,lMr=Object.getOwnPropertyDescriptor,dMr=Object.getOwnPropertyNames,uMr=Object.prototype.hasOwnProperty,$y=(e,t)=>bH(e,"name",{value:t,configurable:!0}),mMr=(e,t)=>{for(var r in t)bH(e,r,{get:t[r],enumerable:!0})},fMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dMr(t))!uMr.call(e,s)&&s!==r&&bH(e,s,{get:()=>t[s],enumerable:!(n=lMr(t,s))||n.enumerable});return e},pMr=e=>fMr(bH({},"__esModule",{value:!0}),e),oJe={};mMr(oJe,{AlgorithmId:()=>dJe,EndpointURLScheme:()=>lJe,FieldPosition:()=>uJe,HttpApiKeyAuthLocation:()=>cJe,HttpAuthLocation:()=>aJe,IniSectionType:()=>mJe,RequestHandlerProtocol:()=>fJe,SMITHY_CONTEXT_KEY:()=>SMr,getDefaultClientConfiguration:()=>yMr,resolveDefaultRuntimeConfig:()=>_Mr});pJe.exports=pMr(oJe);var aJe=(e=>(e.HEADER="header",e.QUERY="query",e))(aJe||{}),cJe=(e=>(e.HEADER="header",e.QUERY="query",e))(cJe||{}),lJe=(e=>(e.HTTP="http",e.HTTPS="https",e))(lJe||{}),dJe=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(dJe||{}),gMr=$y(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:$y(()=>"sha256","algorithmId"),checksumConstructor:$y(()=>e.sha256,"checksumConstructor")}),e.md5!=null&&t.push({algorithmId:$y(()=>"md5","algorithmId"),checksumConstructor:$y(()=>e.md5,"checksumConstructor")}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),hMr=$y(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),yMr=$y(e=>gMr(e),"getDefaultClientConfiguration"),_Mr=$y(e=>hMr(e),"resolveDefaultRuntimeConfig"),uJe=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(uJe||{}),SMr="__smithy_context",mJe=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(mJe||{}),fJe=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(fJe||{})});var pn=E((xus,SJe)=>{var wH=Object.defineProperty,vMr=Object.getOwnPropertyDescriptor,EMr=Object.getOwnPropertyNames,CMr=Object.prototype.hasOwnProperty,Hy=(e,t)=>wH(e,"name",{value:t,configurable:!0}),bMr=(e,t)=>{for(var r in t)wH(e,r,{get:t[r],enumerable:!0})},wMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of EMr(t))!CMr.call(e,s)&&s!==r&&wH(e,s,{get:()=>t[s],enumerable:!(n=vMr(t,s))||n.enumerable});return e},AMr=e=>wMr(wH({},"__esModule",{value:!0}),e),gJe={};bMr(gJe,{Field:()=>RMr,Fields:()=>TMr,HttpRequest:()=>IMr,HttpResponse:()=>OMr,IHttpRequest:()=>hJe.HttpRequest,getHttpHandlerExtensionConfiguration:()=>xMr,isValidHostname:()=>_Je,resolveHttpHandlerRuntimeConfig:()=>PMr});SJe.exports=AMr(gJe);var xMr=Hy(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),PMr=Hy(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),hJe=zy(),RMr=class{static{Hy(this,"Field")}constructor({name:e,kind:t=hJe.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},TMr=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Hy(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},IMr=class xie{static{Hy(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new xie({...t,headers:{...t.headers}});return r.query&&(r.query=yJe(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return xie.clone(this)}};function yJe(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Hy(yJe,"cloneQuery");var OMr=class{static{Hy(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function _Je(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Hy(_Je,"isValidHostname")});var lA=E((Ius,wJe)=>{"use strict";var xH=Object.defineProperty,NMr=Object.getOwnPropertyDescriptor,DMr=Object.getOwnPropertyNames,kMr=Object.prototype.hasOwnProperty,AH=(e,t)=>xH(e,"name",{value:t,configurable:!0}),MMr=(e,t)=>{for(var r in t)xH(e,r,{get:t[r],enumerable:!0})},LMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of DMr(t))!kMr.call(e,s)&&s!==r&&xH(e,s,{get:()=>t[s],enumerable:!(n=NMr(t,s))||n.enumerable});return e},UMr=e=>LMr(xH({},"__esModule",{value:!0}),e),vJe={};MMr(vJe,{getHostHeaderPlugin:()=>BMr,hostHeaderMiddleware:()=>CJe,hostHeaderMiddlewareOptions:()=>bJe,resolveHostHeaderConfig:()=>EJe});wJe.exports=UMr(vJe);var FMr=pn();function EJe(e){return e}AH(EJe,"resolveHostHeaderConfig");var CJe=AH(e=>t=>async r=>{if(!FMr.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),bJe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},BMr=AH(e=>({applyToStack:AH(t=>{t.add(CJe(e),bJe)},"applyToStack")}),"getHostHeaderPlugin")});var dA=E((Ous,RJe)=>{"use strict";var PH=Object.defineProperty,qMr=Object.getOwnPropertyDescriptor,jMr=Object.getOwnPropertyNames,$Mr=Object.prototype.hasOwnProperty,Pie=(e,t)=>PH(e,"name",{value:t,configurable:!0}),zMr=(e,t)=>{for(var r in t)PH(e,r,{get:t[r],enumerable:!0})},HMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jMr(t))!$Mr.call(e,s)&&s!==r&&PH(e,s,{get:()=>t[s],enumerable:!(n=qMr(t,s))||n.enumerable});return e},VMr=e=>HMr(PH({},"__esModule",{value:!0}),e),AJe={};zMr(AJe,{getLoggerPlugin:()=>GMr,loggerMiddleware:()=>xJe,loggerMiddlewareOptions:()=>PJe});RJe.exports=VMr(AJe);var xJe=Pie(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),PJe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},GMr=Pie(e=>({applyToStack:Pie(t=>{t.add(xJe(),PJe)},"applyToStack")}),"getLoggerPlugin")});var uA=E((Nus,NJe)=>{"use strict";var TH=Object.defineProperty,WMr=Object.getOwnPropertyDescriptor,KMr=Object.getOwnPropertyNames,XMr=Object.prototype.hasOwnProperty,RH=(e,t)=>TH(e,"name",{value:t,configurable:!0}),JMr=(e,t)=>{for(var r in t)TH(e,r,{get:t[r],enumerable:!0})},QMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KMr(t))!XMr.call(e,s)&&s!==r&&TH(e,s,{get:()=>t[s],enumerable:!(n=WMr(t,s))||n.enumerable});return e},YMr=e=>QMr(TH({},"__esModule",{value:!0}),e),TJe={};JMr(TJe,{addRecursionDetectionMiddlewareOptions:()=>OJe,getRecursionDetectionPlugin:()=>rLr,recursionDetectionMiddleware:()=>IJe});NJe.exports=YMr(TJe);var ZMr=pn(),Rie="X-Amzn-Trace-Id",eLr="AWS_LAMBDA_FUNCTION_NAME",tLr="_X_AMZN_TRACE_ID",IJe=RH(e=>t=>async r=>{let{request:n}=r;if(!ZMr.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===Rie.toLowerCase())??Rie;if(n.headers.hasOwnProperty(s))return t(r);let i=process.env[eLr],o=process.env[tLr],a=RH(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(i)&&a(o)&&(n.headers[Rie]=o),t({...r,request:n})},"recursionDetectionMiddleware"),OJe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},rLr=RH(e=>({applyToStack:RH(t=>{t.add(IJe(e),OJe)},"applyToStack")}),"getRecursionDetectionPlugin")});var Tie,nLr,DJe=_(()=>{Tie=C(zy()),nLr=e=>e[Tie.SMITHY_CONTEXT_KEY]||(e[Tie.SMITHY_CONTEXT_KEY]={})});var Oc=E((kus,UJe)=>{var IH=Object.defineProperty,sLr=Object.getOwnPropertyDescriptor,iLr=Object.getOwnPropertyNames,oLr=Object.prototype.hasOwnProperty,MJe=(e,t)=>IH(e,"name",{value:t,configurable:!0}),aLr=(e,t)=>{for(var r in t)IH(e,r,{get:t[r],enumerable:!0})},cLr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of iLr(t))!oLr.call(e,s)&&s!==r&&IH(e,s,{get:()=>t[s],enumerable:!(n=sLr(t,s))||n.enumerable});return e},lLr=e=>cLr(IH({},"__esModule",{value:!0}),e),LJe={};aLr(LJe,{getSmithyContext:()=>dLr,normalizeProvider:()=>uLr});UJe.exports=lLr(LJe);var kJe=zy(),dLr=MJe(e=>e[kJe.SMITHY_CONTEXT_KEY]||(e[kJe.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),uLr=MJe(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var FJe,BJe=_(()=>{FJe=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function mLr(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var qJe,GN,OH=_(()=>{qJe=C(Oc());BJe();GN=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=FJe(i,o),c=mLr(e.httpAuthSchemes),l=(0,qJe.getSmithyContext)(n),d=[];for(let u of a){let m=c.get(u.schemeId);if(!m){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let p=m.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:y={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},y),l.selectedHttpAuthScheme={httpAuthOption:u,identity:await p(u.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)}});var jJe,WN,$Je=_(()=>{OH();jJe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},WN=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(GN(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),jJe)}})});var dg=E((qus,XJe)=>{var NH=Object.defineProperty,fLr=Object.getOwnPropertyDescriptor,pLr=Object.getOwnPropertyNames,gLr=Object.prototype.hasOwnProperty,KN=(e,t)=>NH(e,"name",{value:t,configurable:!0}),hLr=(e,t)=>{for(var r in t)NH(e,r,{get:t[r],enumerable:!0})},yLr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pLr(t))!gLr.call(e,s)&&s!==r&&NH(e,s,{get:()=>t[s],enumerable:!(n=fLr(t,s))||n.enumerable});return e},_Lr=e=>yLr(NH({},"__esModule",{value:!0}),e),zJe={};hLr(zJe,{deserializerMiddleware:()=>HJe,deserializerMiddlewareOption:()=>GJe,getSerdePlugin:()=>KJe,serializerMiddleware:()=>VJe,serializerMiddlewareOption:()=>WJe});XJe.exports=_Lr(zJe);var SLr=pn(),HJe=KN((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(SLr.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:Iie(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Iie(/^x-[\w-]+-id-2$/,l),cfId:Iie(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},"deserializerMiddleware"),Iie=KN((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),VJe=KN((e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},"serializerMiddleware"),GJe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},WJe={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function KJe(e,t,r){return{applyToStack:KN(n=>{n.add(HJe(e,r),GJe),n.add(VJe(e,t),WJe)},"applyToStack")}}KN(KJe,"getSerdePlugin")});var JJe,QJe,vLr,YJe=_(()=>{JJe=C(dg());OH();QJe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:JJe.serializerMiddlewareOption.name},vLr=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(GN(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),QJe)}})});var ZJe=_(()=>{OH();$Je();YJe()});var eQe,tQe,ELr,CLr,Oie,Nie=_(()=>{eQe=C(pn()),tQe=C(Oc()),ELr=e=>t=>{throw t},CLr=(e,t)=>{},Oie=e=>(t,r)=>async n=>{if(!eQe.HttpRequest.isInstance(n.request))return t(n);let i=(0,tQe.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||ELr)(o));return(c.successHandler||CLr)(l.response,o),l}});var rQe,XN,nQe=_(()=>{Nie();rQe={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},XN=e=>({applyToStack:t=>{t.addRelativeTo(Oie(e),rQe)}})});var sQe=_(()=>{Nie();nQe()});var Vy,iQe=_(()=>{Vy=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function oQe(e,t,r,n,s){return async function*(o,a,...c){let l=a,d=o.startingToken??l[r],u=!0,m;for(;u;){if(l[r]=d,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)m=await bLr(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let p=d;d=wLr(m,n),u=!!(d&&(!o.stopOnSameToken||d!==p))}return void 0}}var bLr,wLr,aQe=_(()=>{bLr=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};wLr=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var Die=E((tms,lQe)=>{var DH=Object.defineProperty,ALr=Object.getOwnPropertyDescriptor,xLr=Object.getOwnPropertyNames,PLr=Object.prototype.hasOwnProperty,RLr=(e,t)=>DH(e,"name",{value:t,configurable:!0}),TLr=(e,t)=>{for(var r in t)DH(e,r,{get:t[r],enumerable:!0})},ILr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xLr(t))!PLr.call(e,s)&&s!==r&&DH(e,s,{get:()=>t[s],enumerable:!(n=ALr(t,s))||n.enumerable});return e},OLr=e=>ILr(DH({},"__esModule",{value:!0}),e),cQe={};TLr(cQe,{isArrayBuffer:()=>NLr});lQe.exports=OLr(cQe);var NLr=RLr(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var mA=E((rms,mQe)=>{var kH=Object.defineProperty,DLr=Object.getOwnPropertyDescriptor,kLr=Object.getOwnPropertyNames,MLr=Object.prototype.hasOwnProperty,dQe=(e,t)=>kH(e,"name",{value:t,configurable:!0}),LLr=(e,t)=>{for(var r in t)kH(e,r,{get:t[r],enumerable:!0})},ULr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kLr(t))!MLr.call(e,s)&&s!==r&&kH(e,s,{get:()=>t[s],enumerable:!(n=DLr(t,s))||n.enumerable});return e},FLr=e=>ULr(kH({},"__esModule",{value:!0}),e),uQe={};LLr(uQe,{fromArrayBuffer:()=>qLr,fromString:()=>jLr});mQe.exports=FLr(uQe);var BLr=Die(),kie=require("buffer"),qLr=dQe((e,t=0,r=e.byteLength-t)=>{if(!(0,BLr.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return kie.Buffer.from(e,t,r)},"fromArrayBuffer"),jLr=dQe((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?kie.Buffer.from(e,t):kie.Buffer.from(e)},"fromString")});var fQe=E(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.fromBase64=void 0;var $Lr=mA(),zLr=/^[A-Za-z0-9+/]*={0,2}$/,HLr=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!zLr.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,$Lr.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};MH.fromBase64=HLr});var Zi=E((sms,yQe)=>{var LH=Object.defineProperty,VLr=Object.getOwnPropertyDescriptor,GLr=Object.getOwnPropertyNames,WLr=Object.prototype.hasOwnProperty,Mie=(e,t)=>LH(e,"name",{value:t,configurable:!0}),KLr=(e,t)=>{for(var r in t)LH(e,r,{get:t[r],enumerable:!0})},XLr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GLr(t))!WLr.call(e,s)&&s!==r&&LH(e,s,{get:()=>t[s],enumerable:!(n=VLr(t,s))||n.enumerable});return e},JLr=e=>XLr(LH({},"__esModule",{value:!0}),e),pQe={};KLr(pQe,{fromUtf8:()=>hQe,toUint8Array:()=>QLr,toUtf8:()=>YLr});yQe.exports=JLr(pQe);var gQe=mA(),hQe=Mie(e=>{let t=(0,gQe.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),QLr=Mie(e=>typeof e=="string"?hQe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),YLr=Mie(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,gQe.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var _Qe=E(UH=>{"use strict";Object.defineProperty(UH,"__esModule",{value:!0});UH.toBase64=void 0;var ZLr=mA(),eUr=Zi(),tUr=e=>{let t;if(typeof e=="string"?t=(0,eUr.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,ZLr.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};UH.toBase64=tUr});var Sa=E((oms,FH)=>{var SQe=Object.defineProperty,rUr=Object.getOwnPropertyDescriptor,nUr=Object.getOwnPropertyNames,sUr=Object.prototype.hasOwnProperty,Lie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of nUr(t))!sUr.call(e,s)&&s!==r&&SQe(e,s,{get:()=>t[s],enumerable:!(n=rUr(t,s))||n.enumerable});return e},vQe=(e,t,r)=>(Lie(e,t,"default"),r&&Lie(r,t,"default")),iUr=e=>Lie(SQe({},"__esModule",{value:!0}),e),Uie={};FH.exports=iUr(Uie);vQe(Uie,fQe(),FH.exports);vQe(Uie,_Qe(),FH.exports)});var Bie=E(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.ChecksumStream=void 0;var oUr=Sa(),aUr=require("stream"),Fie=class extends aUr.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=i??oUr.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};BH.ChecksumStream=Fie});var Gy=E(fA=>{"use strict";Object.defineProperty(fA,"__esModule",{value:!0});fA.isBlob=fA.isReadableStream=void 0;var cUr=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};fA.isReadableStream=cUr;var lUr=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};fA.isBlob=lUr});var EQe=E(qH=>{"use strict";Object.defineProperty(qH,"__esModule",{value:!0});qH.ChecksumStream=void 0;var dUr=typeof ReadableStream=="function"?ReadableStream:function(){},qie=class extends dUr{};qH.ChecksumStream=qie});var CQe=E(jH=>{"use strict";Object.defineProperty(jH,"__esModule",{value:!0});jH.createChecksumStream=void 0;var uUr=Sa(),mUr=Gy(),fUr=EQe(),pUr=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var i,o;if(!(0,mUr.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=s??uUr.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,u){t.update(d),u.enqueue(d)},async flush(d){let u=await t.digest(),m=a(u);if(e!==m){let p=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);d.error(p)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,fUr.ChecksumStream.prototype),l};jH.createChecksumStream=pUr});var bQe=E(jie=>{"use strict";Object.defineProperty(jie,"__esModule",{value:!0});jie.createChecksumStream=_Ur;var gUr=Gy(),hUr=Bie(),yUr=CQe();function _Ur(e){return typeof ReadableStream=="function"&&(0,gUr.isReadableStream)(e.source)?(0,yUr.createChecksumStream)(e):new hUr.ChecksumStream(e)}});var zie=E($H=>{"use strict";Object.defineProperty($H,"__esModule",{value:!0});$H.ByteArrayCollector=void 0;var $ie=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};$H.ByteArrayCollector=$ie});var PQe=E(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.createBufferedReadable=void 0;ug.createBufferedReadableStream=wQe;ug.merge=AQe;ug.flush=zH;ug.sizeOf=pA;ug.modeOf=xQe;var SUr=zie();function wQe(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new SUr.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:u}=await n.read(),m=d;if(u){if(a!==-1){let p=zH(o,a);pA(p)>0&&l.enqueue(p)}l.close()}else{let p=xQe(m,!1);if(a!==p&&(a>=0&&l.enqueue(zH(o,a)),a=p),a===-1){l.enqueue(m);return}let g=pA(m);i+=g;let y=pA(o[a]);if(g>=t&&y===0)l.enqueue(m);else{let b=AQe(o,a,m);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),b>=t?l.enqueue(zH(o,a)):await c(l)}}};return new ReadableStream({pull:c})}ug.createBufferedReadable=wQe;function AQe(e,t,r){switch(t){case 0:return e[0]+=r,pA(e[0]);case 1:case 2:return e[t].push(r),pA(e[t])}}function zH(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function pA(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function xQe(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var TQe=E(Hie=>{"use strict";Object.defineProperty(Hie,"__esModule",{value:!0});Hie.createBufferedReadable=CUr;var vUr=require("node:stream"),RQe=zie(),mg=PQe(),EUr=Gy();function CUr(e,t,r){if((0,EUr.isReadableStream)(e))return(0,mg.createBufferedReadableStream)(e,t,r);let n=new vUr.Readable({read(){}}),s=!1,i=0,o=["",new RQe.ByteArrayCollector(c=>new Uint8Array(c)),new RQe.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,mg.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,mg.flush)(o,a)),a=l),a===-1){n.push(c);return}let d=(0,mg.sizeOf)(c);i+=d;let u=(0,mg.sizeOf)(o[a]);if(d>=t&&u===0)n.push(c);else{let m=(0,mg.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,mg.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,mg.flush)(o,a);(0,mg.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var IQe=E(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});HH.getAwsChunkedEncodingStream=void 0;var bUr=require("stream"),wUr=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new bUr.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${i}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};HH.getAwsChunkedEncodingStream=wUr});var OQe=E(Vie=>{"use strict";Object.defineProperty(Vie,"__esModule",{value:!0});Vie.headStream=AUr;async function AUr(e,t){var r;let n=0,s=[],i=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await i.read();if(d&&(s.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;o=l}i.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of s){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var NQe=E(VH=>{"use strict";Object.defineProperty(VH,"__esModule",{value:!0});VH.headStream=void 0;var xUr=require("stream"),PUr=OQe(),RUr=Gy(),TUr=(e,t)=>(0,RUr.isReadableStream)(e)?(0,PUr.headStream)(e,t):new Promise((r,n)=>{let s=new Gie;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});VH.headStream=TUr;var Gie=class extends xUr.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-i),this.emit("finish")}n()}}});var Kie=E((_ms,MQe)=>{var GH=Object.defineProperty,IUr=Object.getOwnPropertyDescriptor,OUr=Object.getOwnPropertyNames,NUr=Object.prototype.hasOwnProperty,Wie=(e,t)=>GH(e,"name",{value:t,configurable:!0}),DUr=(e,t)=>{for(var r in t)GH(e,r,{get:t[r],enumerable:!0})},kUr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OUr(t))!NUr.call(e,s)&&s!==r&&GH(e,s,{get:()=>t[s],enumerable:!(n=IUr(t,s))||n.enumerable});return e},MUr=e=>kUr(GH({},"__esModule",{value:!0}),e),DQe={};DUr(DQe,{escapeUri:()=>kQe,escapeUriPath:()=>UUr});MQe.exports=MUr(DQe);var kQe=Wie(e=>encodeURIComponent(e).replace(/[!'()*]/g,LUr),"escapeUri"),LUr=Wie(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),UUr=Wie(e=>e.split("/").map(kQe).join("/"),"escapeUriPath")});var Jie=E((Sms,FQe)=>{var WH=Object.defineProperty,FUr=Object.getOwnPropertyDescriptor,BUr=Object.getOwnPropertyNames,qUr=Object.prototype.hasOwnProperty,jUr=(e,t)=>WH(e,"name",{value:t,configurable:!0}),$Ur=(e,t)=>{for(var r in t)WH(e,r,{get:t[r],enumerable:!0})},zUr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BUr(t))!qUr.call(e,s)&&s!==r&&WH(e,s,{get:()=>t[s],enumerable:!(n=FUr(t,s))||n.enumerable});return e},HUr=e=>zUr(WH({},"__esModule",{value:!0}),e),LQe={};$Ur(LQe,{buildQueryString:()=>UQe});FQe.exports=HUr(LQe);var Xie=Kie();function UQe(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Xie.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,Xie.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,Xie.escapeUri)(n)}`),t.push(s)}}return t.join("&")}jUr(UQe,"buildQueryString")});var Wy=E((vms,ZQe)=>{var VUr=Object.create,JN=Object.defineProperty,GUr=Object.getOwnPropertyDescriptor,WUr=Object.getOwnPropertyNames,KUr=Object.getPrototypeOf,XUr=Object.prototype.hasOwnProperty,rn=(e,t)=>JN(e,"name",{value:t,configurable:!0}),JUr=(e,t)=>{for(var r in t)JN(e,r,{get:t[r],enumerable:!0})},zQe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of WUr(t))!XUr.call(e,s)&&s!==r&&JN(e,s,{get:()=>t[s],enumerable:!(n=GUr(t,s))||n.enumerable});return e},QUr=(e,t,r)=>(r=e!=null?VUr(KUr(e)):{},zQe(t||!e||!e.__esModule?JN(r,"default",{value:e,enumerable:!0}):r,e)),YUr=e=>zQe(JN({},"__esModule",{value:!0}),e),HQe={};JUr(HQe,{DEFAULT_REQUEST_TIMEOUT:()=>JQe,NodeHttp2Handler:()=>cFr,NodeHttpHandler:()=>sFr,streamCollector:()=>dFr});ZQe.exports=YUr(HQe);var VQe=pn(),GQe=Jie(),Qie=require("http"),Yie=require("https"),ZUr=["ECONNRESET","EPIPE","ETIMEDOUT"],WQe=rn(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Nc={setTimeout:rn((e,t)=>setTimeout(e,t),"setTimeout"),clearTimeout:rn(e=>clearTimeout(e),"clearTimeout")},BQe=1e3,eFr=rn((e,t,r=0)=>{if(!r)return-1;let n=rn(s=>{let i=Nc.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),o=rn(a=>{a?.connecting?a.on("connect",()=>{Nc.clearTimeout(i)}):Nc.clearTimeout(i)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):Nc.setTimeout(n.bind(null,BQe),BQe)},"setConnectionTimeout"),tFr=3e3,rFr=rn((e,{keepAlive:t,keepAliveMsecs:r},n=tFr)=>{if(t!==!0)return-1;let s=rn(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):Nc.setTimeout(s,n)},"setSocketKeepAlive"),qQe=3e3,nFr=rn((e,t,r=JQe)=>{let n=rn(s=>{let i=r-s,o=rn(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Nc.setTimeout(n.bind(null,r===0?0:qQe),qQe)},"setSocketTimeout"),KQe=require("stream"),jQe=6e3;async function eoe(e,t,r=jQe){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(Nc.setTimeout(()=>a(!0),Math.max(jQe,r)))}),new Promise(a=>{e.on("continue",()=>{Nc.clearTimeout(i),a(!0)}),e.on("response",()=>{Nc.clearTimeout(i),a(!1)}),e.on("error",()=>{Nc.clearTimeout(i),a(!1)})})])),o&&XQe(e,t.body)}rn(eoe,"writeRequestBody");function XQe(e,t){if(t instanceof KQe.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}rn(XQe,"writeBody");var JQe=0,sFr=class Zie{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{rn(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Zie(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,d=i[c]?.length??0;if(l>=o&&d>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:i,httpAgent:o instanceof Qie.Agent||typeof o?.destroy=="function"?o:new Qie.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof Yie.Agent||typeof a?.destroy=="function"?a:new Yie.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],c=rn(async k=>{await o,a.forEach(Nc.clearTimeout),s(k)},"resolve"),l=rn(async k=>{await o,a.forEach(Nc.clearTimeout),i(k)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let k=new Error("Request aborted");k.name="AbortError",l(k);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push(Nc.setTimeout(()=>{this.socketWarningTimestamp=Zie.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,GQe.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let k=t.username??"",z=t.password??"";p=`${k}:${z}`}let g=t.path;m&&(g+=`?${m}`),t.fragment&&(g+=`#${t.fragment}`);let y=t.hostname??"";y[0]==="["&&y.endsWith("]")?y=t.hostname.slice(1,-1):y=t.hostname;let b={headers:t.headers,host:y,method:t.method,path:g,port:t.port,agent:u,auth:p},A=(d?Yie.request:Qie.request)(b,k=>{let z=new VQe.HttpResponse({statusCode:k.statusCode||-1,reason:k.statusMessage,headers:WQe(k.headers),body:k});c({response:z})});if(A.on("error",k=>{ZUr.includes(k.code)?l(Object.assign(k,{name:"TimeoutError"})):l(k)}),r){let k=rn(()=>{A.destroy();let z=new Error("Request aborted");z.name="AbortError",l(z)},"onAbort");if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",k,{once:!0}),A.once("close",()=>z.removeEventListener("abort",k))}else r.onabort=k}let O=n??this.config.requestTimeout;a.push(eFr(A,l,this.config.connectionTimeout)),a.push(nFr(A,l,O));let T=b.agent;typeof T=="object"&&"keepAlive"in T&&a.push(rFr(A,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs})),o=eoe(A,t,O).catch(k=>(a.forEach(Nc.clearTimeout),i(k)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},$Qe=require("http2"),iFr=QUr(require("http2")),oFr=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{rn(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},aFr=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{rn(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=iFr.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let i=rn(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,i);let o=this.sessionCache.get(r)||new oFr;return o.offerLast(s),this.sessionCache.set(r,o),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},cFr=class QQe{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new aFr({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{rn(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new QQe(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,d,u=rn(async ye=>{await d,a(ye)},"resolve"),m=rn(async ye=>{await d,c(ye)},"reject");if(r?.aborted){l=!0;let ye=new Error("Request aborted");ye.name="AbortError",m(ye);return}let{hostname:p,method:g,port:y,protocol:b,query:w}=t,A="";if(t.username!=null||t.password!=null){let ye=t.username??"",Re=t.password??"";A=`${ye}:${Re}@`}let O=`${b}//${A}${p}${y?`:${y}`:""}`,T={destination:new URL(O)},k=this.connectionManager.lease(T,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),z=rn(ye=>{i&&this.destroySession(k),l=!0,m(ye)},"rejectWithDestroy"),oe=(0,GQe.buildQueryString)(w||{}),Q=t.path;oe&&(Q+=`?${oe}`),t.fragment&&(Q+=`#${t.fragment}`);let _e=k.request({...t.headers,[$Qe.constants.HTTP2_HEADER_PATH]:Q,[$Qe.constants.HTTP2_HEADER_METHOD]:g});if(k.ref(),_e.on("response",ye=>{let Re=new VQe.HttpResponse({statusCode:ye[":status"]||-1,headers:WQe(ye),body:_e});l=!0,u({response:Re}),i&&(k.close(),this.connectionManager.deleteSession(O,k))}),o&&_e.setTimeout(o,()=>{_e.close();let ye=new Error(`Stream timed out because of no activity for ${o} ms`);ye.name="TimeoutError",z(ye)}),r){let ye=rn(()=>{_e.close();let Re=new Error("Request aborted");Re.name="AbortError",z(Re)},"onAbort");if(typeof r.addEventListener=="function"){let Re=r;Re.addEventListener("abort",ye,{once:!0}),_e.once("close",()=>Re.removeEventListener("abort",ye))}else r.onabort=ye}_e.on("frameError",(ye,Re,kn)=>{z(new Error(`Frame type id ${ye} in stream id ${kn} has failed with code ${Re}.`))}),_e.on("error",z),_e.on("aborted",()=>{z(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${_e.rstCode}.`))}),_e.on("close",()=>{k.unref(),i&&k.destroy(),l||z(new Error("Unexpected error: http2 request did not get a response"))}),d=eoe(_e,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},lFr=class extends KQe.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{rn(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},dFr=rn(e=>uFr(e)?YQe(e):new Promise((t,r)=>{let n=new lFr;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),uFr=rn(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function YQe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}rn(YQe,"collectReadableStream")});var cYe=E((wms,aYe)=>{var XH=Object.defineProperty,mFr=Object.getOwnPropertyDescriptor,fFr=Object.getOwnPropertyNames,pFr=Object.prototype.hasOwnProperty,af=(e,t)=>XH(e,"name",{value:t,configurable:!0}),gFr=(e,t)=>{for(var r in t)XH(e,r,{get:t[r],enumerable:!0})},hFr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fFr(t))!pFr.call(e,s)&&s!==r&&XH(e,s,{get:()=>t[s],enumerable:!(n=mFr(t,s))||n.enumerable});return e},yFr=e=>hFr(XH({},"__esModule",{value:!0}),e),tYe={};gFr(tYe,{FetchHttpHandler:()=>SFr,keepAliveSupport:()=>KH,streamCollector:()=>EFr});aYe.exports=yFr(tYe);var eYe=pn(),_Fr=Jie();function toe(e,t){return new Request(e,t)}af(toe,"createRequest");function rYe(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}af(rYe,"requestTimeout");var KH={supported:void 0},SFr=class nYe{static{af(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new nYe(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),KH.supported===void 0&&(KH.supported=typeof Request<"u"&&"keepalive"in toe("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let A=new Error("Request aborted");return A.name="AbortError",Promise.reject(A)}let a=t.path,c=(0,_Fr.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let A=t.username??"",O=t.password??"";l=`${A}:${O}@`}let{port:d,method:u}=t,m=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,p=u==="GET"||u==="HEAD"?void 0:t.body,g={body:p,headers:new Headers(t.headers),method:u,credentials:o};this.config?.cache&&(g.cache=this.config.cache),p&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),KH.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let y=af(()=>{},"removeSignalEventListener"),b=toe(m,g),w=[fetch(b).then(A=>{let O=A.headers,T={};for(let z of O.entries())T[z[0]]=z[1];return A.body!=null?{response:new eYe.HttpResponse({headers:T,reason:A.statusText,statusCode:A.status,body:A.body})}:A.blob().then(z=>({response:new eYe.HttpResponse({headers:T,reason:A.statusText,statusCode:A.status,body:z})}))}),rYe(s)];return r&&w.push(new Promise((A,O)=>{let T=af(()=>{let k=new Error("Request aborted");k.name="AbortError",O(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",T,{once:!0}),y=af(()=>k.removeEventListener("abort",T),"removeSignalEventListener")}else r.onabort=T})),Promise.race(w).finally(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},vFr=Sa(),EFr=af(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):sYe(e):iYe(e),"streamCollector");async function sYe(e){let t=await oYe(e),r=(0,vFr.fromBase64)(t);return new Uint8Array(r)}af(sYe,"collectBlob");async function iYe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}af(iYe,"collectStream");function oYe(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}af(oYe,"readToBase64")});var noe=E((Ams,pYe)=>{var JH=Object.defineProperty,CFr=Object.getOwnPropertyDescriptor,bFr=Object.getOwnPropertyNames,wFr=Object.prototype.hasOwnProperty,lYe=(e,t)=>JH(e,"name",{value:t,configurable:!0}),AFr=(e,t)=>{for(var r in t)JH(e,r,{get:t[r],enumerable:!0})},xFr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bFr(t))!wFr.call(e,s)&&s!==r&&JH(e,s,{get:()=>t[s],enumerable:!(n=CFr(t,s))||n.enumerable});return e},PFr=e=>xFr(JH({},"__esModule",{value:!0}),e),dYe={};AFr(dYe,{fromHex:()=>mYe,toHex:()=>fYe});pYe.exports=PFr(dYe);var uYe={},roe={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),uYe[e]=t,roe[t]=e}function mYe(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in roe)t[r/2]=roe[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}lYe(mYe,"fromHex");function fYe(e){let t="";for(let r=0;r<e.byteLength;r++)t+=uYe[e[r]];return t}lYe(fYe,"toHex")});var _Ye=E(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.sdkStreamMixin=void 0;var RFr=cYe(),TFr=Sa(),IFr=noe(),OFr=Zi(),gYe=Gy(),hYe="The stream has already been transformed.",NFr=e=>{var t,r;if(!yYe(e)&&!(0,gYe.isReadableStream)(e)){let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(hYe);return n=!0,await(0,RFr.streamCollector)(e)},i=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();if(o==="base64")return(0,TFr.toBase64)(a);if(o==="hex")return(0,IFr.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,OFr.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(hYe);if(n=!0,yYe(e))return i(e);if((0,gYe.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};QH.sdkStreamMixin=NFr;var yYe=e=>typeof Blob=="function"&&e instanceof Blob});var vYe=E(YH=>{"use strict";Object.defineProperty(YH,"__esModule",{value:!0});YH.sdkStreamMixin=void 0;var DFr=Wy(),kFr=mA(),soe=require("stream"),MFr=_Ye(),SYe="The stream has already been transformed.",LFr=e=>{var t,r;if(!(e instanceof soe.Readable))try{return(0,MFr.sdkStreamMixin)(e)}catch{let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(SYe);return n=!0,await(0,DFr.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let o=await s();return i===void 0||Buffer.isEncoding(i)?(0,kFr.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(n)throw new Error(SYe);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof soe.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,soe.Readable.toWeb(e)}})};YH.sdkStreamMixin=LFr});var EYe=E(ioe=>{"use strict";Object.defineProperty(ioe,"__esModule",{value:!0});ioe.splitStream=UFr;async function UFr(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var wYe=E(ooe=>{"use strict";Object.defineProperty(ooe,"__esModule",{value:!0});ooe.splitStream=BFr;var CYe=require("stream"),FFr=EYe(),bYe=Gy();async function BFr(e){if((0,bYe.isReadableStream)(e)||(0,bYe.isBlob)(e))return(0,FFr.splitStream)(e);let t=new CYe.PassThrough,r=new CYe.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var eV=E((Ims,lf)=>{var ZH=Object.defineProperty,qFr=Object.getOwnPropertyDescriptor,jFr=Object.getOwnPropertyNames,$Fr=Object.prototype.hasOwnProperty,loe=(e,t)=>ZH(e,"name",{value:t,configurable:!0}),zFr=(e,t)=>{for(var r in t)ZH(e,r,{get:t[r],enumerable:!0})},aoe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jFr(t))!$Fr.call(e,s)&&s!==r&&ZH(e,s,{get:()=>t[s],enumerable:!(n=qFr(t,s))||n.enumerable});return e},Ky=(e,t,r)=>(aoe(e,t,"default"),r&&aoe(r,t,"default")),HFr=e=>aoe(ZH({},"__esModule",{value:!0}),e),cf={};zFr(cf,{Uint8ArrayBlobAdapter:()=>coe});lf.exports=HFr(cf);var AYe=Sa(),xYe=Zi();function PYe(e,t="utf-8"){return t==="base64"?(0,AYe.toBase64)(e):(0,xYe.toUtf8)(e)}loe(PYe,"transformToString");function RYe(e,t){return t==="base64"?coe.mutate((0,AYe.fromBase64)(e)):coe.mutate((0,xYe.fromUtf8)(e))}loe(RYe,"transformFromString");var coe=class TYe extends Uint8Array{static{loe(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return RYe(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,TYe.prototype),t}transformToString(t="utf-8"){return PYe(this,t)}};Ky(cf,Bie(),lf.exports);Ky(cf,bQe(),lf.exports);Ky(cf,TQe(),lf.exports);Ky(cf,IQe(),lf.exports);Ky(cf,NQe(),lf.exports);Ky(cf,vYe(),lf.exports);Ky(cf,wYe(),lf.exports);Ky(cf,Gy(),lf.exports)});var tV,rm,rV=_(()=>{tV=C(eV()),rm=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return tV.Uint8ArrayBlobAdapter.mutate(e);if(!e)return tV.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return tV.Uint8ArrayBlobAdapter.mutate(await r)}});function df(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var nV=_(()=>{});var uf,doe=_(()=>{uf=e=>typeof e=="function"?e():e});var IYe,OYe,NYe,uoe,DYe=_(()=>{IYe=C(pn()),OYe=C(Oc()),NYe=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,OYe.getSmithyContext)(r);try{let o=await e.protocol.deserializeResponse(i,{...e,...r},s);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(IYe.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);o.$metadata={httpStatusCode:s.statusCode,requestId:uoe(/^x-[\w-]+-request-?id$/,l),extendedRequestId:uoe(/^x-[\w-]+-id-2$/,l),cfId:uoe(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},uoe=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var kYe,MYe,LYe=_(()=>{kYe=C(Oc()),MYe=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,kYe.getSmithyContext)(r),i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,o=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:i});return t({...n,request:o})}});function VFr(e){return{applyToStack:t=>{t.add(MYe(e),FYe),t.add(NYe(e),UYe),e.protocol.setSerdeContext(e)}}}var UYe,FYe,BYe=_(()=>{DYe();LYe();UYe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},FYe={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var gn,Xy=_(()=>{gn=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};gn.registries=new Map});var Sl,Gv=_(()=>{Sl=class{constructor(t,r){this.name=t,this.traits=r}}});function GFr(e,t,r={},n){let s=new Wv(e+"#"+t,r,typeof n=="function"?n():n);return gn.for(e).register(t,s),s}var Wv,moe=_(()=>{Xy();Gv();Wv=class e extends Sl{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Wv.symbol=Symbol.for("@smithy/core/schema::ListSchema")});function WFr(e,t,r={},n,s){let i=new Kv(e+"#"+t,r,n,typeof s=="function"?s():s);return gn.for(e).register(t,i),i}var Kv,foe=_(()=>{Xy();Gv();Kv=class e extends Sl{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Kv.symbol=Symbol.for("@smithy/core/schema::MapSchema")});function KFr(e,t,r={},n,s){let i=new sV(e+"#"+t,r,n,s);return gn.for(e).register(t,i),i}var sV,qYe=_(()=>{Xy();Gv();sV=class extends Sl{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.input=n,this.output=s}}});function XFr(e,t,r,n,s){let i=new fg(e+"#"+t,r,n,s);return gn.for(e).register(t,i),i}var fg,iV=_(()=>{Xy();Gv();fg=class e extends Sl{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.symbol=e.symbol,this.members={};for(let i=0;i<n.length;++i)this.members[n[i]]=Array.isArray(s[i])?s[i]:[s[i],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};fg.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});function JFr(e,t,r={},n,s,i){let o=new QN(e+"#"+t,r,n,s,i);return gn.for(e).register(t,o),o}var QN,jYe=_(()=>{Xy();iV();QN=class e extends fg{constructor(t,r,n,s,i){super(t,r,n,s),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.ctor=i,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};QN.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var Te,poe=_(()=>{Te={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});function QFr(e,t,r,n){let s=new Xv(e+"#"+t,r,n);return gn.for(e).register(t,s),s}var Xv,goe=_(()=>{Xy();Gv();Xv=class e extends Sl{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xv.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var st,$Ye=_(()=>{doe();moe();foe();poe();goe();iV();st=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=uf(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(i instanceof e){this.name=i.name,this.traits=i.traits,this._isMemberSchema=i._isMemberSchema,this.schema=i.schema,this.memberTraits=Object.assign({},i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=i.ref,this.memberName=r??i.memberName;return}if(this.schema=uf(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Xv?uf(this.schema.schemaRef):uf(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=Te.LIST_MODIFIER&&t<Te.MAP_MODIFIER:t instanceof Wv}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=Te.MAP_MODIFIER&&t<=255:t instanceof Kv}isDocumentSchema(){return this.getSchema()===Te.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof fg}isBlobSchema(){return this.getSchema()===Te.BLOB||this.getSchema()===Te.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=Te.TIMESTAMP_DEFAULT&&t<=Te.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===Te.STRING}isBooleanSchema(){return this.getSchema()===Te.BOOLEAN}isNumericSchema(){return this.getSchema()===Te.NUMERIC}isBigIntegerSchema(){return this.getSchema()===Te.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===Te.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===Te.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([Te.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([Te.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}hasMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();return t in r.members}return!1}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([Te.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let s of r.memberNames)n[s]=this.getMemberSchema(s);return n}return{}}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(Te).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case Te.MAP_MODIFIER:return`${s}Map`;case Te.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};st.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var zYe={};ct(zYe,{ErrorSchema:()=>QN,ListSchema:()=>Wv,MapSchema:()=>Kv,NormalizedSchema:()=>st,OperationSchema:()=>sV,SCHEMA:()=>Te,Schema:()=>Sl,SimpleSchema:()=>Xv,StructureSchema:()=>fg,TypeRegistry:()=>gn,deref:()=>uf,deserializerMiddlewareOption:()=>UYe,error:()=>JFr,getSchemaSerdePlugin:()=>VFr,list:()=>GFr,map:()=>WFr,op:()=>KFr,serializerMiddlewareOption:()=>FYe,sim:()=>QFr,struct:()=>XFr});var Li=_(()=>{doe();BYe();moe();foe();qYe();jYe();$Ye();Gv();goe();iV();poe();Xy()});var YFr,HYe=_(()=>{YFr=(e,t,r=n=>n)=>e});var ZFr,eBr,YN,tBr,oV,ZN,rBr,hoe,yoe,_oe,Soe,nBr,sBr,VYe,iBr,oBr,cV,aBr,voe,cBr,gA,Eoe,lBr,dBr,uBr,GYe,WYe,mBr,fBr,Jv,Coe,aV,eD,boe=_(()=>{ZFr=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},eBr=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&eD.warn(aV(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&eD.warn(aV(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},YN=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&eD.warn(aV(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},tBr=Math.ceil(34028234663852886e22),oV=e=>{let t=YN(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>tBr)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ZN=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},rBr=ZN,hoe=e=>Soe(e,32),yoe=e=>Soe(e,16),_oe=e=>Soe(e,8),Soe=(e,t)=>{let r=ZN(e);if(r!==void 0&&nBr(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},nBr=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},sBr=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},VYe=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},iBr=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return eD.warn(aV(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},oBr=e=>{if(e==null)return;let t=VYe(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},cV=e=>YN(typeof e=="string"?gA(e):e),aBr=cV,voe=e=>oV(typeof e=="string"?gA(e):e),cBr=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,gA=e=>{let t=e.match(cBr);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Eoe=e=>typeof e=="string"?GYe(e):YN(e),lBr=Eoe,dBr=Eoe,uBr=e=>typeof e=="string"?GYe(e):oV(e),GYe=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},WYe=e=>ZN(typeof e=="string"?gA(e):e),mBr=WYe,fBr=e=>hoe(typeof e=="string"?gA(e):e),Jv=e=>yoe(typeof e=="string"?gA(e):e),Coe=e=>_oe(typeof e=="string"?gA(e):e),aV=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),eD={warn:console.warn}});function rD(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,d=o<10?`0${o}`:`${o}`,u=a<10?`0${a}`:`${a}`;return`${pBr[n]}, ${c} ${Aoe[r]} ${t} ${l}:${d}:${u} GMT`}var pBr,Aoe,gBr,hBr,yBr,nD,_Br,SBr,vBr,sD,iD,tD,EBr,CBr,bBr,woe,wBr,ABr,xBr,mf,PBr,RBr,hA,KYe=_(()=>{boe();pBr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Aoe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];gBr=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),hBr=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=gBr.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,d=Jv(hA(n)),u=mf(s,"month",1,12),m=mf(i,"day",1,31);return tD(d,u,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},yBr=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),nD=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=yBr.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,d]=t,u=Jv(hA(n)),m=mf(s,"month",1,12),p=mf(i,"day",1,31),g=tD(u,m,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&g.setTime(g.getTime()-RBr(d)),g},_Br=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),SBr=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),vBr=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),sD=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=_Br.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return tD(Jv(hA(i)),woe(s),mf(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=SBr.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return bBr(tD(EBr(i),woe(s),mf(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=vBr.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return tD(Jv(hA(l)),woe(n),mf(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},iD=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=cV(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},tD=(e,t,r,n)=>{let s=t-1;return ABr(e,s,r),new Date(Date.UTC(e,s,r,mf(n.hours,"hour",0,23),mf(n.minutes,"minute",0,59),mf(n.seconds,"seconds",0,60),PBr(n.fractionalMilliseconds)))},EBr=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Jv(hA(e));return r<t?r+100:r},CBr=50*365*24*60*60*1e3,bBr=e=>e.getTime()-new Date().getTime()>CBr?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,woe=e=>{let t=Aoe.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},wBr=[31,28,31,30,31,30,31,31,30,31,30,31],ABr=(e,t,r)=>{let n=wBr[t];if(t===1&&xBr(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Aoe[t]} in ${e}: ${r}`)},xBr=e=>e%4===0&&(e%100!==0||e%400===0),mf=(e,t,r,n)=>{let s=Coe(hA(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},PBr=e=>e==null?0:voe("0."+e)*1e3,RBr=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},hA=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function oD(){return lV>dV.length-16&&(XYe.default.randomFillSync(dV),lV=0),dV.slice(lV,lV+=16)}var XYe,dV,lV,xoe=_(()=>{XYe=C(require("crypto")),dV=new Uint8Array(256),lV=dV.length});var JYe,QYe=_(()=>{JYe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function TBr(e){return typeof e=="string"&&JYe.test(e)}var Jy,aD=_(()=>{QYe();Jy=TBr});function Qv(e,t=0){return qo[e[t+0]]+qo[e[t+1]]+qo[e[t+2]]+qo[e[t+3]]+"-"+qo[e[t+4]]+qo[e[t+5]]+"-"+qo[e[t+6]]+qo[e[t+7]]+"-"+qo[e[t+8]]+qo[e[t+9]]+"-"+qo[e[t+10]]+qo[e[t+11]]+qo[e[t+12]]+qo[e[t+13]]+qo[e[t+14]]+qo[e[t+15]]}function IBr(e,t=0){let r=Qv(e,t);if(!Jy(r))throw TypeError("Stringified UUID is invalid");return r}var qo,YYe,cD=_(()=>{aD();qo=[];for(let e=0;e<256;++e)qo.push((e+256).toString(16).slice(1));YYe=IBr});function OBr(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||ZYe,o=e.clockseq!==void 0?e.clockseq:Poe;if(i==null||o==null){let m=e.random||(e.rng||oD)();i==null&&(i=ZYe=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=Poe=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Toe+1,l=a-Roe+(c-Toe)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>Roe)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Roe=a,Toe=c,Poe=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=u&255,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let m=0;m<6;++m)s[n+m]=i[m];return t||Qv(s)}var ZYe,Poe,Roe,Toe,e9e,t9e=_(()=>{xoe();cD();Roe=0,Toe=0;e9e=OBr});function NBr(e){if(!Jy(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var uV,Ioe=_(()=>{aD();uV=NBr});function DBr(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function lD(e,t,r){function n(s,i,o,a){var c;if(typeof s=="string"&&(s=DBr(s)),typeof i=="string"&&(i=uV(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return Qv(l)}try{n.name=e}catch{}return n.DNS=kBr,n.URL=MBr,n}var kBr,MBr,Ooe=_(()=>{cD();Ioe();kBr="6ba7b810-9dad-11d1-80b4-00c04fd430c8",MBr="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function LBr(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),r9e.default.createHash("md5").update(e).digest()}var r9e,n9e,s9e=_(()=>{r9e=C(require("crypto"));n9e=LBr});var UBr,i9e,o9e=_(()=>{Ooe();s9e();UBr=lD("v3",48,n9e),i9e=UBr});var a9e,Noe,c9e=_(()=>{a9e=C(require("crypto")),Noe={randomUUID:a9e.default.randomUUID}});function FBr(e,t,r){if(Noe.randomUUID&&!t&&!e)return Noe.randomUUID();e=e||{};let n=e.random||(e.rng||oD)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return Qv(n)}var mV,l9e=_(()=>{c9e();xoe();cD();mV=FBr});function BBr(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),d9e.default.createHash("sha1").update(e).digest()}var d9e,u9e,m9e=_(()=>{d9e=C(require("crypto"));u9e=BBr});var qBr,f9e,p9e=_(()=>{Ooe();m9e();qBr=lD("v5",80,u9e),f9e=qBr});var g9e,h9e=_(()=>{g9e="00000000-0000-0000-0000-000000000000"});function jBr(e){if(!Jy(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var y9e,_9e=_(()=>{aD();y9e=jBr});var Doe={};ct(Doe,{NIL:()=>g9e,parse:()=>uV,stringify:()=>YYe,v1:()=>e9e,v3:()=>i9e,v4:()=>mV,v5:()=>f9e,validate:()=>Jy,version:()=>y9e});var fV=_(()=>{t9e();o9e();l9e();p9e();h9e();_9e();aD();cD();Ioe()});var S9e=_(()=>{fV()});var ac,v9e=_(()=>{ac=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ac.from=e=>e&&typeof e=="object"&&(e instanceof ac||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ac(String(e)):ac(JSON.stringify(e));ac.fromObject=ac.from});function koe(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var E9e=_(()=>{});function Moe(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var C9e=_(()=>{});var dD,b9e=_(()=>{dD=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function $Br(e){return new jo(String(e),"bigDecimal")}var jo,w9e=_(()=>{jo=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let i=t.charCodeAt(s);if(!(s===0&&i===45)){if(i===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name?.endsWith("NumericValue")?!0:n)}}});var A9e={};ct(A9e,{LazyJsonString:()=>ac,NumericValue:()=>jo,copyDocumentWithTransform:()=>YFr,dateToUtcString:()=>rD,expectBoolean:()=>eBr,expectByte:()=>_oe,expectFloat32:()=>oV,expectInt:()=>rBr,expectInt32:()=>hoe,expectLong:()=>ZN,expectNonNull:()=>sBr,expectNumber:()=>YN,expectObject:()=>VYe,expectShort:()=>yoe,expectString:()=>iBr,expectUnion:()=>oBr,generateIdempotencyToken:()=>mV,handleFloat:()=>lBr,limitedParseDouble:()=>Eoe,limitedParseFloat:()=>dBr,limitedParseFloat32:()=>uBr,logger:()=>eD,nv:()=>$Br,parseBoolean:()=>ZFr,parseEpochTimestamp:()=>iD,parseRfc3339DateTime:()=>hBr,parseRfc3339DateTimeWithOffset:()=>nD,parseRfc7231DateTime:()=>sD,quoteHeader:()=>koe,splitEvery:()=>Moe,splitHeader:()=>dD,strictParseByte:()=>Coe,strictParseDouble:()=>cV,strictParseFloat:()=>aBr,strictParseFloat32:()=>voe,strictParseInt:()=>mBr,strictParseInt32:()=>fBr,strictParseLong:()=>WYe,strictParseShort:()=>Jv});var Ud=_(()=>{HYe();KYe();S9e();v9e();boe();E9e();C9e();b9e();w9e()});var x9e,Loe,P9e=_(()=>{Li();x9e=C(Zi()),Loe=class{constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=o.getMemberSchemas(),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(r,n);let p=c.flush();yield{[d]:!0,headers:m,body:p}}for await(let m of t)yield m}};return s.serialize(u,m=>{if(m[d])return{headers:m.headers,body:m.body};let p=Object.keys(m).find(O=>O!=="__type")??"",{additionalHeaders:g,body:y,eventType:b,explicitPayloadContentType:w}=this.writeEventBody(p,o,m);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:w??l},...g},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async m=>{let p=Object.keys(m).find(g=>g!=="__type")??"";if(p==="initial-response"){let g=await this.deserializer.read(r,m[p].body);return delete g[i],{[c]:!0,...g}}else if(p in a){let g=a[p];return{[p]:await this.deserializer.read(g,m[p].body)}}else return{$unknown:m}}),d=l[Symbol.asyncIterator](),u=await d.next();if(u.done)return l;if(u.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,p]of Object.entries(u.value))n[m]=p}return{async*[Symbol.asyncIterator](){for(u?.value?.[c]||(yield u.value);;){let{done:m,value:p}=await d.next();if(m)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.hasMemberSchema(t),l={};if(c){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[p,g]of m.structIterator()){let{eventHeader:y,eventPayload:b}=g.getMergedTraits();if(b){o=p;break}else if(y){let w=n[t][p],A="binary";g.isNumericSchema()?(-2)**31<=w&&w<=2**31-1?A="integer":A="long":g.isTimestampSchema()?A="timestamp":g.isStringSchema()?A="string":g.isBooleanSchema()&&(A="boolean"),w!=null&&(l[p]={type:A,value:w},delete n[t][p])}}if(o!==null){let p=m.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][o])}else s.write(m,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,p]=n[t];i=m,s.write(Te.DOCUMENT,p)}let d=s.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??x9e.fromUtf8)(d):d,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var R9e={};ct(R9e,{EventStreamSerde:()=>Loe});var T9e=_(()=>{P9e()});var pV,Yv,gV=_(()=>{Li();pV=C(pn()),Yv=class{constructor(t){this.options=t}getRequestType(){return pV.HttpRequest}getResponseType(){return pV.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=st.of(r),i=st.of(r.input);if(s.getMergedTraits().endpoint){let o=s.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(T9e(),R9e));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var I9e,O9e,Zv,N9e=_(()=>{Li();Ud();I9e=C(pn()),O9e=C(eV());rV();nV();gV();Zv=class extends Yv{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=st.of(t?.input),d=l.getSchema(),u=!1,m,p=new I9e.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let g=st.translateTraits(t.traits);if(g.http){p.method=g.http[0];let[y,b]=g.http[1].split("?");p.path=="/"?p.path=y:p.path+=y;let w=new URLSearchParams(b??"");Object.assign(o,Object.fromEntries(w))}}for(let[g,y]of l.structIterator()){let b=y.getMergedTraits()??{},w=s[g];if(w!=null)if(b.httpPayload)y.isStreaming()?y.isStructSchema()?s[g]&&(m=await this.serializeEventStream({eventStream:s[g],requestSchema:l})):m=w:(i.write(y,w),m=i.flush()),delete s[g];else if(b.httpLabel){i.write(y,w);let A=i.flush();p.path.includes(`{${g}+}`)?p.path=p.path.replace(`{${g}+}`,A.split("/").map(df).join("/")):p.path.includes(`{${g}}`)&&(p.path=p.path.replace(`{${g}}`,df(A))),delete s[g]}else if(b.httpHeader)i.write(y,w),a[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof b.httpPrefixHeaders=="string"){for(let[A,O]of Object.entries(w)){let T=b.httpPrefixHeaders+A;i.write([y.getValueSchema(),{httpHeader:T}],O),a[T.toLowerCase()]=i.flush()}delete s[g]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(y,w,o),delete s[g]):u=!0}return u&&s&&(i.write(d,s),m=i.flush()),p.headers=a,p.query=o,p.body=m,p}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))o in n||this.serializeQuery(st.of([t.getValueSchema(),{...i,httpQuery:o,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=st.of(t.output),o={};if(n.statusCode>=300){let c=await rm(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(Te.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await rm(n.body,r);if(c.byteLength>0){let l=await s.read(i,c);for(let d of a)o[d]=l[d]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=st.of(t),l=[];for(let[d,u]of c.structIterator()){let m=u.getMemberTraits();if(m.httpPayload){if(u.isStreaming())u.isStructSchema()?o[d]=await this.deserializeEventStream({response:n,responseSchema:c}):o[d]=(0,O9e.sdkStreamMixin)(n.body);else if(n.body){let g=await rm(n.body,r);g.byteLength>0&&(o[d]=await a.read(u,g))}}else if(m.httpHeader){let p=String(m.httpHeader).toLowerCase(),g=n.headers[p];if(g!=null)if(u.isListSchema()){let y=u.getValueSchema(),b;y.isTimestampSchema()&&y.getSchema()===Te.TIMESTAMP_DEFAULT?b=Moe(g,",",2):b=dD(g);let w=[];for(let A of b)w.push(await a.read([y,{httpHeader:p}],A.trim()));o[d]=w}else o[d]=await a.read(u,g)}else if(m.httpPrefixHeaders!==void 0){o[d]={};for(let[p,g]of Object.entries(n.headers))p.startsWith(m.httpPrefixHeaders)&&(o[d][p.slice(m.httpPrefixHeaders.length)]=await a.read([u.getValueSchema(),{httpHeader:p}],g))}else m.httpResponseCode?o[d]=n.statusCode:l.push(d)}return l}}});var D9e,eE,k9e=_(()=>{Li();D9e=C(pn());rV();gV();eE=class extends Yv{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=st.of(t?.input),l=c.getSchema(),d,u=new D9e.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let m={...r};if(r){let p=c.getEventStreamMember();if(p){if(m[p]){let g={};for(let[y,b]of c.structIterator())y!==p&&m[y]&&(s.write(b,m[y]),g[y]=s.flush());d=await this.serializeEventStream({eventStream:m[p],requestSchema:c,initialRequest:g})}}else s.write(l,m),d=s.flush()}return u.headers=o,u.query=i,u.body=d,u.method="POST",u}async deserializeResponse(t,r,n){let s=this.deserializer,i=st.of(t.output),o={};if(n.statusCode>=300){let c=await rm(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(Te.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await rm(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var Uoe,Foe=_(()=>{nV();Uoe=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>df(a)).join("/"):df(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function uD(e,t){return new hV(e,t)}var M9e,hV,L9e=_(()=>{M9e=C(pn());Foe();hV=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new M9e.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=Uoe(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function tE(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===Te.TIMESTAMP_DATE_TIME||e.getSchema()===Te.TIMESTAMP_HTTP_DATE||e.getSchema()===Te.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?Te.TIMESTAMP_HTTP_DATE:i||r?Te.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var yV=_(()=>{Li()});var Boe,U9e,rE,qoe=_(()=>{Li();Ud();Boe=C(Sa()),U9e=C(Zi());yV();rE=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=st.of(t);if(n.isListSchema())return dD(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Boe.fromBase64)(r);if(n.isTimestampSchema())switch(tE(n,this.settings)){case Te.TIMESTAMP_DATE_TIME:return nD(r);case Te.TIMESTAMP_HTTP_DATE:return sD(r);case Te.TIMESTAMP_EPOCH_SECONDS:return iD(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=ac.from(i)),i}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new jo(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??U9e.toUtf8)((this.serdeContext?.base64Decoder??Boe.fromBase64)(t))}}});var _V,nE,F9e=_(()=>{Li();_V=C(Zi());qoe();nE=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new rE(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=st.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??_V.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??_V.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var joe,mD,$oe=_(()=>{Li();Ud();joe=C(Sa());yV();mD=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=st.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(tE(n,this.settings)){case Te.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case Te.TIMESTAMP_HTTP_DATE:this.stringBuffer=rD(r);break;case Te.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??joe.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:koe(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=ac.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??joe.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var sE,B9e=_(()=>{Li();$oe();sE=class{constructor(t,r,n=new mD(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=st.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var q9e={};ct(q9e,{FromStringShapeDeserializer:()=>rE,HttpBindingProtocol:()=>Zv,HttpInterceptingShapeDeserializer:()=>nE,HttpInterceptingShapeSerializer:()=>sE,HttpProtocol:()=>Yv,RequestBuilder:()=>hV,RpcProtocol:()=>eE,ToStringShapeSerializer:()=>mD,collectBody:()=>rm,determineTimestampFormat:()=>tE,extendedEncodeURIComponent:()=>df,requestBuilder:()=>uD,resolvedPath:()=>Uoe});var pg=_(()=>{rV();nV();N9e();gV();k9e();L9e();Foe();qoe();F9e();B9e();$oe();yV()});var j9e=_(()=>{pg()});function zBr(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var $9e=_(()=>{});var iE,z9e=_(()=>{iE=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var H9e,zoe,Hoe,V9e=_(()=>{H9e=C(pn()),zoe=C(zy()),Hoe=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=H9e.HttpRequest.clone(t);if(n.in===zoe.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===zoe.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var G9e,Voe,W9e=_(()=>{G9e=C(pn()),Voe=class{async sign(t,r,n){let s=G9e.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var gg,K9e=_(()=>{gg=class{async sign(t,r,n){return t}}});var X9e=_(()=>{V9e();W9e();K9e()});var J9e,HBr,Goe,SV,Woe,Q9e=_(()=>{J9e=e=>t=>SV(t)&&t.expiration.getTime()-Date.now()<e,HBr=3e5,Goe=J9e(3e5),SV=e=>e.expiration!==void 0,Woe=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var Y9e=_(()=>{z9e();X9e();Q9e()});var Qy={};ct(Qy,{DefaultIdentityProviderConfig:()=>iE,EXPIRATION_MS:()=>HBr,HttpApiKeyAuthSigner:()=>Hoe,HttpBearerAuthSigner:()=>Voe,NoAuthSigner:()=>gg,createIsIdentityExpiredFunction:()=>J9e,createPaginator:()=>oQe,doesIdentityRequireRefresh:()=>SV,getHttpAuthSchemeEndpointRuleSetPlugin:()=>WN,getHttpAuthSchemePlugin:()=>vLr,getHttpSigningPlugin:()=>XN,getSmithyContext:()=>nLr,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>jJe,httpAuthSchemeMiddleware:()=>GN,httpAuthSchemeMiddlewareOptions:()=>QJe,httpSigningMiddleware:()=>Oie,httpSigningMiddlewareOptions:()=>rQe,isIdentityExpired:()=>Goe,memoizeIdentityProvider:()=>Woe,normalizeProvider:()=>Vy,requestBuilder:()=>uD,setFeature:()=>zBr});var va=_(()=>{DJe();ZJe();sQe();iQe();aQe();j9e();$9e();Y9e()});var oE=E((Wgs,a7e)=>{var vV=Object.defineProperty,VBr=Object.getOwnPropertyDescriptor,GBr=Object.getOwnPropertyNames,WBr=Object.prototype.hasOwnProperty,nn=(e,t)=>vV(e,"name",{value:t,configurable:!0}),KBr=(e,t)=>{for(var r in t)vV(e,r,{get:t[r],enumerable:!0})},XBr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GBr(t))!WBr.call(e,s)&&s!==r&&vV(e,s,{get:()=>t[s],enumerable:!(n=VBr(t,s))||n.enumerable});return e},JBr=e=>XBr(vV({},"__esModule",{value:!0}),e),Z9e={};KBr(Z9e,{EndpointCache:()=>QBr,EndpointError:()=>Dc,customEndpointFunctions:()=>Xoe,isIpAddress:()=>e7e,isValidHostLabel:()=>Qoe,resolveEndpoint:()=>hqr});a7e.exports=JBr(Z9e);var QBr=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{nn(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:o}=n.next();if(this.data.delete(i),o||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},YBr=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),e7e=nn(e=>YBr.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),ZBr=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Qoe=nn((e,t=!1)=>{if(!t)return ZBr.test(e);let r=e.split(".");for(let n of r)if(!Qoe(n))return!1;return!0},"isValidHostLabel"),Xoe={},fD="endpoints";function hg(e){return typeof e!="object"||e==null?e:"ref"in e?`$${hg(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(hg).join(", ")})`:JSON.stringify(e,null,2)}nn(hg,"toDebugString");var Dc=class extends Error{static{nn(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},eqr=nn((e,t)=>e===t,"booleanEquals"),tqr=nn(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Dc(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Dc(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),t7e=nn((e,t)=>tqr(t).reduce((r,n)=>{if(typeof r!="object")throw new Dc(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),rqr=nn(e=>e!=null,"isSet"),nqr=nn(e=>!e,"not"),Joe=zy(),Koe={[Joe.EndpointURLScheme.HTTP]:80,[Joe.EndpointURLScheme.HTTPS]:443},sqr=nn(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:p,protocol:g="",path:y="",query:b={}}=e,w=new URL(`${g}//${m}${p?`:${p}`:""}${y}`);return w.search=Object.entries(b).map(([A,O])=>`${A}=${O}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(Joe.EndpointURLScheme).includes(c))return null;let l=e7e(s),d=r.includes(`${n}:${Koe[c]}`)||typeof e=="string"&&e.includes(`${n}:${Koe[c]}`),u=`${n}${d?`:${Koe[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),iqr=nn((e,t)=>e===t,"stringEquals"),oqr=nn((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),aqr=nn(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),cqr={booleanEquals:eqr,getAttr:t7e,isSet:rqr,isValidHostLabel:Qoe,not:nqr,parseURL:sqr,stringEquals:iqr,substring:oqr,uriEncode:aqr},r7e=nn((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(t7e(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},"evaluateTemplate"),lqr=nn(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),EV=nn((e,t,r)=>{if(typeof e=="string")return r7e(e,r);if(e.fn)return n7e(e,r);if(e.ref)return lqr(e,r);throw new Dc(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),n7e=nn(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:EV(i,"arg",r)),s=e.split(".");return s[0]in Xoe&&s[1]!=null?Xoe[s[0]][s[1]](...n):cqr[e](...n)},"callFunction"),dqr=nn(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Dc(`'${e}' is already defined in Reference Record.`);let n=n7e(t,r);return r.logger?.debug?.(`${fD} evaluateCondition: ${hg(t)} = ${hg(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Yoe=nn((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=dqr(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${fD} assign: ${i.name} := ${hg(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),uqr=nn((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=EV(i,"Header value entry",t);if(typeof o!="string")throw new Dc(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),s7e=nn((e,t)=>{if(Array.isArray(e))return e.map(r=>s7e(r,t));switch(typeof e){case"string":return r7e(e,t);case"object":if(e===null)throw new Dc(`Unexpected endpoint property: ${e}`);return i7e(e,t);case"boolean":return e;default:throw new Dc(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),i7e=nn((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s7e(s,t)}),{}),"getEndpointProperties"),mqr=nn((e,t)=>{let r=EV(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Dc(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),fqr=nn((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=Yoe(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${fD} Resolving endpoint from template: ${hg(n)}`),{...l!=null&&{headers:uqr(l,o)},...c!=null&&{properties:i7e(c,o)},url:mqr(a,o)}},"evaluateEndpointRule"),pqr=nn((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=Yoe(r,t);if(s)throw new Dc(EV(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),gqr=nn((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=Yoe(r,t);if(s)return o7e(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),o7e=nn((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=fqr(r,t);if(n)return n}else if(r.type==="error")pqr(r,t);else if(r.type==="tree"){let n=gqr(r,t);if(n)return n}else throw new Dc(`Unknown endpoint rule: ${r}`);throw new Dc("Rules evaluation failed")},"evaluateRules"),hqr=nn((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${fD} Initial EndpointParams: ${hg(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(o.length>0)for(let[l,d]of o)r[l]=r[l]??d;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Dc(`Missing required parameter: '${l}'`);let c=o7e(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${fD} Resolved endpoint: ${hg(c)}`),c},"resolveEndpoint")});var aE=E((Jgs,y7e)=>{"use strict";var CV=Object.defineProperty,yqr=Object.getOwnPropertyDescriptor,_qr=Object.getOwnPropertyNames,Sqr=Object.prototype.hasOwnProperty,yA=(e,t)=>CV(e,"name",{value:t,configurable:!0}),vqr=(e,t)=>{for(var r in t)CV(e,r,{get:t[r],enumerable:!0})},Eqr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _qr(t))!Sqr.call(e,s)&&s!==r&&CV(e,s,{get:()=>t[s],enumerable:!(n=yqr(t,s))||n.enumerable});return e},Cqr=e=>Eqr(CV({},"__esModule",{value:!0}),e),l7e={};vqr(l7e,{ConditionObject:()=>Bn.ConditionObject,DeprecatedObject:()=>Bn.DeprecatedObject,EndpointError:()=>Bn.EndpointError,EndpointObject:()=>Bn.EndpointObject,EndpointObjectHeaders:()=>Bn.EndpointObjectHeaders,EndpointObjectProperties:()=>Bn.EndpointObjectProperties,EndpointParams:()=>Bn.EndpointParams,EndpointResolverOptions:()=>Bn.EndpointResolverOptions,EndpointRuleObject:()=>Bn.EndpointRuleObject,ErrorRuleObject:()=>Bn.ErrorRuleObject,EvaluateOptions:()=>Bn.EvaluateOptions,Expression:()=>Bn.Expression,FunctionArgv:()=>Bn.FunctionArgv,FunctionObject:()=>Bn.FunctionObject,FunctionReturn:()=>Bn.FunctionReturn,ParameterObject:()=>Bn.ParameterObject,ReferenceObject:()=>Bn.ReferenceObject,ReferenceRecord:()=>Bn.ReferenceRecord,RuleSetObject:()=>Bn.RuleSetObject,RuleSetRules:()=>Bn.RuleSetRules,TreeRuleObject:()=>Bn.TreeRuleObject,awsEndpointFunctions:()=>h7e,getUserAgentPrefix:()=>xqr,isIpAddress:()=>Bn.isIpAddress,partition:()=>p7e,resolveEndpoint:()=>Bn.resolveEndpoint,setPartitionInfo:()=>g7e,useDefaultPartitionInfo:()=>Aqr});y7e.exports=Cqr(l7e);var Bn=oE(),d7e=yA((e,t=!1)=>{if(t){for(let r of e.split("."))if(!d7e(r))return!1;return!0}return!(!(0,Bn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Bn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),c7e=":",bqr="/",wqr=yA(e=>{let t=e.split(c7e);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(c7e)==="")return null;let c=a.map(l=>l.split(bqr)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),u7e={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},m7e=u7e,f7e="",p7e=yA(e=>{let{partitions:t}=m7e;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),g7e=yA((e,t="")=>{m7e=e,f7e=t},"setPartitionInfo"),Aqr=yA(()=>{g7e(u7e,"")},"useDefaultPartitionInfo"),xqr=yA(()=>f7e,"getUserAgentPrefix"),h7e={isVirtualHostableS3Bucket:d7e,parseArn:wqr,partition:p7e};Bn.customEndpointFunctions.aws=h7e});var bV,_A,_7e=_(()=>{bV={warningEmitted:!1},_A=e=>{e&&!bV.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(bV.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Yy(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var S7e=_(()=>{});function v7e(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var E7e=_(()=>{});function C7e(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var b7e=_(()=>{});var Zy={};ct(Zy,{emitWarningIfUnsupportedVersion:()=>_A,setCredentialFeature:()=>Yy,setFeature:()=>v7e,setTokenFeature:()=>C7e,state:()=>bV});var nm=_(()=>{_7e();S7e();E7e();b7e()});var w7e,Zoe,A7e=_(()=>{w7e=C(pn()),Zoe=e=>w7e.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var SA,eae=_(()=>{SA=e=>new Date(Date.now()+e)});var x7e,P7e=_(()=>{eae();x7e=(e,t)=>Math.abs(SA(t).getTime()-e)>=3e5});var tae,R7e=_(()=>{P7e();tae=(e,t)=>{let r=Date.parse(e);return x7e(r,t)?r-Date.now():t}});var rae=_(()=>{A7e();eae();R7e()});var T7e,pD,vA,kc,nae,sae=_(()=>{T7e=C(pn());rae();pD=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},vA=async e=>{let t=pD("context",e.context),r=pD("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await pD("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},kc=class{async sign(t,r,n){if(!T7e.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await vA(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:SA(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Zoe(r.$response);if(n){let s=pD("config",t.config),i=s.systemClockOffset;s.systemClockOffset=tae(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Zoe(t);if(n){let s=pD("config",r.config);s.systemClockOffset=tae(n,s.systemClockOffset)}}},nae=kc});var I7e,gD,O7e=_(()=>{I7e=C(pn());rae();sae();gD=class extends kc{async sign(t,r,n){if(!I7e.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await vA(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:SA(s.systemClockOffset),signingRegion:d,signingService:c})}}});var iae,N7e=_(()=>{iae=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var wV,oae=_(()=>{wV=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var D7e,k7e,EA,M7e=_(()=>{N7e();oae();D7e="AWS_AUTH_SCHEME_PREFERENCE",k7e="auth_scheme_preference",EA={environmentVariableSelector:(e,t)=>{if(t?.signingName&&wV(t.signingName)in e)return["httpBearerAuth"];if(D7e in e)return iae(e[D7e])},configFileSelector:e=>{if(k7e in e)return iae(e[k7e])},default:[]}});var cc=E((Ahs,q7e)=>{var AV=Object.defineProperty,Pqr=Object.getOwnPropertyDescriptor,Rqr=Object.getOwnPropertyNames,Tqr=Object.prototype.hasOwnProperty,cE=(e,t)=>AV(e,"name",{value:t,configurable:!0}),Iqr=(e,t)=>{for(var r in t)AV(e,r,{get:t[r],enumerable:!0})},Oqr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rqr(t))!Tqr.call(e,s)&&s!==r&&AV(e,s,{get:()=>t[s],enumerable:!(n=Pqr(t,s))||n.enumerable});return e},Nqr=e=>Oqr(AV({},"__esModule",{value:!0}),e),L7e={};Iqr(L7e,{CredentialsProviderError:()=>Dqr,ProviderError:()=>xV,TokenProviderError:()=>kqr,chain:()=>Mqr,fromStatic:()=>Lqr,memoize:()=>Uqr});q7e.exports=Nqr(L7e);var xV=class U7e extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,U7e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{cE(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},Dqr=class F7e extends xV{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,F7e.prototype)}static{cE(this,"CredentialsProviderError")}},kqr=class B7e extends xV{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,B7e.prototype)}static{cE(this,"TokenProviderError")}},Mqr=cE((...e)=>async()=>{if(e.length===0)throw new xV("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),Lqr=cE(e=>()=>Promise.resolve(e),"fromStatic"),Uqr=cE((e,t,r)=>{let n,s,i,o=!1,a=cE(async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var aae,j7e,$7e,z7e=_(()=>{va();aae=C(cc()),j7e=e=>(e.sigv4aSigningRegionSet=Vy(e.sigv4aSigningRegionSet),e),$7e={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new aae.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new aae.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var _Ze=E((Rhs,yZe)=>{var DV=Object.defineProperty,Fqr=Object.getOwnPropertyDescriptor,Bqr=Object.getOwnPropertyNames,qqr=Object.prototype.hasOwnProperty,$o=(e,t)=>DV(e,"name",{value:t,configurable:!0}),jqr=(e,t)=>{for(var r in t)DV(e,r,{get:t[r],enumerable:!0})},$qr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bqr(t))!qqr.call(e,s)&&s!==r&&DV(e,s,{get:()=>t[s],enumerable:!(n=Fqr(t,s))||n.enumerable});return e},zqr=e=>$qr(DV({},"__esModule",{value:!0}),e),K7e={};jqr(K7e,{ALGORITHM_IDENTIFIER:()=>PV,ALGORITHM_IDENTIFIER_V4A:()=>Wqr,ALGORITHM_QUERY_PARAM:()=>X7e,ALWAYS_UNSIGNABLE_HEADERS:()=>nZe,AMZ_DATE_HEADER:()=>gae,AMZ_DATE_QUERY_PARAM:()=>uae,AUTH_HEADER:()=>pae,CREDENTIAL_QUERY_PARAM:()=>J7e,DATE_HEADER:()=>Z7e,EVENT_ALGORITHM_IDENTIFIER:()=>oZe,EXPIRES_QUERY_PARAM:()=>Y7e,GENERATED_HEADERS:()=>eZe,HOST_HEADER:()=>Vqr,KEY_TYPE_IDENTIFIER:()=>hae,MAX_CACHE_SIZE:()=>cZe,MAX_PRESIGNED_TTL:()=>lZe,PROXY_HEADER_PATTERN:()=>sZe,REGION_SET_PARAM:()=>Hqr,SEC_HEADER_PATTERN:()=>iZe,SHA256_HEADER:()=>NV,SIGNATURE_HEADER:()=>tZe,SIGNATURE_QUERY_PARAM:()=>mae,SIGNED_HEADERS_QUERY_PARAM:()=>Q7e,SignatureV4:()=>sjr,SignatureV4Base:()=>hZe,TOKEN_HEADER:()=>rZe,TOKEN_QUERY_PARAM:()=>fae,UNSIGNABLE_PATTERNS:()=>Gqr,UNSIGNED_PAYLOAD:()=>aZe,clearCredentialCache:()=>Xqr,createScope:()=>TV,getCanonicalHeaders:()=>cae,getCanonicalQuery:()=>gZe,getPayloadHash:()=>IV,getSigningKey:()=>dZe,hasHeader:()=>mZe,moveHeadersToQuery:()=>pZe,prepareRequest:()=>dae,signatureV4aContainer:()=>ijr});yZe.exports=zqr(K7e);var H7e=Zi(),X7e="X-Amz-Algorithm",J7e="X-Amz-Credential",uae="X-Amz-Date",Q7e="X-Amz-SignedHeaders",Y7e="X-Amz-Expires",mae="X-Amz-Signature",fae="X-Amz-Security-Token",Hqr="X-Amz-Region-Set",pae="authorization",gae=uae.toLowerCase(),Z7e="date",eZe=[pae,gae,Z7e],tZe=mae.toLowerCase(),NV="x-amz-content-sha256",rZe=fae.toLowerCase(),Vqr="host",nZe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},sZe=/^proxy-/,iZe=/^sec-/,Gqr=[/^proxy-/i,/^sec-/i],PV="AWS4-HMAC-SHA256",Wqr="AWS4-ECDSA-P256-SHA256",oZe="AWS4-HMAC-SHA256-PAYLOAD",aZe="UNSIGNED-PAYLOAD",cZe=50,hae="aws4_request",lZe=60*60*24*7,e_=noe(),Kqr=Zi(),CA={},RV=[],TV=$o((e,t,r)=>`${e}/${t}/${r}/${hae}`,"createScope"),dZe=$o(async(e,t,r,n,s)=>{let i=await V7e(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,e_.toHex)(i)}:${t.sessionToken}`;if(o in CA)return CA[o];for(RV.push(o);RV.length>cZe;)delete CA[RV.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,hae])a=await V7e(e,a,c);return CA[o]=a},"getSigningKey"),Xqr=$o(()=>{RV.length=0,Object.keys(CA).forEach(e=>{delete CA[e]})},"clearCredentialCache"),V7e=$o((e,t,r)=>{let n=new e(t);return n.update((0,Kqr.toUint8Array)(r)),n.digest()},"hmac"),cae=$o(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in nZe||t?.has(i)||sZe.test(i)||iZe.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Jqr=Die(),Qqr=Zi(),IV=$o(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===NV)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Jqr.isArrayBuffer)(t)){let n=new r;return n.update((0,Qqr.toUint8Array)(t)),(0,e_.toHex)(await n.digest())}return aZe},"getPayloadHash"),G7e=Zi(),Yqr=class{static{$o(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let i=(0,G7e.fromUtf8)(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=(0,G7e.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(ejr.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Zqr.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,e_.fromHex)(e.value.replace(/\-/g,"")),1),d}}},Zqr=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ejr=class uZe{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{$o(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&lae(r),new uZe(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&lae(t),parseInt((0,e_.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function lae(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}$o(lae,"negate");var mZe=$o((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),fZe=pn(),pZe=$o((e,t={})=>{let{headers:r,query:n={}}=fZe.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),dae=$o(e=>{e=fZe.HttpRequest.clone(e);for(let t of Object.keys(e.headers))eZe.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),W7e=Oc(),tjr=Zi(),OV=Kie(),gZe=$o(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===tZe)continue;let s=(0,OV.escapeUri)(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${(0,OV.escapeUri)(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${(0,OV.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),rjr=$o(e=>njr(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),njr=$o(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),hZe=class{static{$o(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,W7e.normalizeProvider)(r),this.credentialProvider=(0,W7e.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${gZe(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,tjr.toUint8Array)(r));let i=await s.digest();return`${n}
${e}
${t}
${(0,e_.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,OV.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=rjr(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},sjr=class extends hZe{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i}),this.headerFormatter=new Yqr}static{$o(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:m,shortDate:p}=this.formatDate(r);if(n>lZe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=TV(p,u,l??this.service),y=pZe(dae(e),{unhoistableHeaders:i,hoistableHeaders:a});d.sessionToken&&(y.query[fae]=d.sessionToken),y.query[X7e]=PV,y.query[J7e]=`${d.accessKeyId}/${g}`,y.query[uae]=m,y.query[Y7e]=n.toString(10);let b=cae(y,s,o);return y.query[Q7e]=this.getCanonicalHeaderList(b),y.query[mae]=await this.getSignature(m,g,this.getSigningKey(d,u,p,l),this.createCanonicalRequest(y,b,await IV(e,this.sha256))),y}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:i}){let o=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=TV(a,o,i??this.service),d=await IV({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let m=(0,e_.toHex)(await u.digest()),p=[oZe,c,l,n,m,d].join(`
`);return this.signString(p,{signingDate:r,signingRegion:o,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=r??await this.regionProvider(),{shortDate:o}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,i,o,n));return a.update((0,H7e.toUint8Array)(e)),(0,e_.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=s??await this.regionProvider(),c=dae(e),{longDate:l,shortDate:d}=this.formatDate(t),u=TV(d,a,i??this.service);c.headers[gae]=l,o.sessionToken&&(c.headers[rZe]=o.sessionToken);let m=await IV(c,this.sha256);!mZe(NV,c.headers)&&this.applyChecksum&&(c.headers[NV]=m);let p=cae(c,n,r),g=await this.getSignature(l,u,this.getSigningKey(o,a,d,i),this.createCanonicalRequest(c,p,m));return c.headers[pae]=`${PV} Credential=${o.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${g}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,PV),i=new this.sha256(await r);return i.update((0,H7e.toUint8Array)(s)),(0,e_.toHex)(await i.digest())}getSigningKey(e,t,r,n){return dZe(this.sha256,e,r,t,n||this.service)}},ijr={SignatureV4a:null}});function ojr(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Woe(t,Goe,SV):r?n=Vy(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function ajr(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var yae,lE,SZe,vZe=_(()=>{nm();va();yae=C(_Ze()),lE=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=ojr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=ajr(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>Yy(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Vy(e.signer):e.regionInfoProvider?a=()=>Vy(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||yae.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Vy(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||yae.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},SZe=lE});var EZe=_(()=>{sae();O7e();M7e();z7e();vZe()});var CZe={};ct(CZe,{AWSSDKSigV4Signer:()=>nae,AwsSdkSigV4ASigner:()=>gD,AwsSdkSigV4Signer:()=>kc,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>EA,NODE_SIGV4A_CONFIG_OPTIONS:()=>$7e,getBearerTokenEnvKey:()=>wV,resolveAWSSDKSigV4Config:()=>SZe,resolveAwsSdkSigV4AConfig:()=>j7e,resolveAwsSdkSigV4Config:()=>lE,validateSigningProperties:()=>vA});var _ae=_(()=>{EZe();oae()});var cjr,ljr,djr,bZe=_(()=>{cjr=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},ljr=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},djr=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var hD=E((Hhs,xZe)=>{var kV=Object.defineProperty,ujr=Object.getOwnPropertyDescriptor,mjr=Object.getOwnPropertyNames,fjr=Object.prototype.hasOwnProperty,pjr=(e,t)=>kV(e,"name",{value:t,configurable:!0}),gjr=(e,t)=>{for(var r in t)kV(e,r,{get:t[r],enumerable:!0})},hjr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of mjr(t))!fjr.call(e,s)&&s!==r&&kV(e,s,{get:()=>t[s],enumerable:!(n=ujr(t,s))||n.enumerable});return e},yjr=e=>hjr(kV({},"__esModule",{value:!0}),e),AZe={};gjr(AZe,{calculateBodyLength:()=>_jr});xZe.exports=yjr(AZe);var wZe=typeof TextEncoder=="function"?new TextEncoder:null,_jr=pjr(e=>{if(typeof e=="string"){if(wZe)return wZe.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ea,t_=_(()=>{Ea=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function PZe(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new jo(n,"bigDecimal"):BigInt(n)}return t}var RZe=_(()=>{Ud()});var DZe=E((Khs,NZe)=>{var MV=Object.defineProperty,Sjr=Object.getOwnPropertyDescriptor,vjr=Object.getOwnPropertyNames,Ejr=Object.prototype.hasOwnProperty,Si=(e,t)=>MV(e,"name",{value:t,configurable:!0}),Cjr=(e,t)=>{for(var r in t)MV(e,r,{get:t[r],enumerable:!0})},bjr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vjr(t))!Ejr.call(e,s)&&s!==r&&MV(e,s,{get:()=>t[s],enumerable:!(n=Sjr(t,s))||n.enumerable});return e},wjr=e=>bjr(MV({},"__esModule",{value:!0}),e),OZe={};Cjr(OZe,{constructStack:()=>Sae});NZe.exports=wjr(OZe);var dE=Si((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),r_=Si((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Sae=Si(()=>{let e=[],t=[],r=!1,n=new Set,s=Si(u=>u.sort((m,p)=>TZe[p.step]-TZe[m.step]||IZe[p.priority||"normal"]-IZe[m.priority||"normal"]),"sort"),i=Si(u=>{let m=!1,p=Si(g=>{let y=dE(g.name,g.aliases);if(y.includes(u)){m=!0;for(let b of y)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByName"),o=Si(u=>{let m=!1,p=Si(g=>{if(g.middleware===u){m=!0;for(let y of dE(g.name,g.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByReference"),a=Si(u=>(e.forEach(m=>{u.add(m.middleware,{...m})}),t.forEach(m=>{u.addRelativeTo(m.middleware,{...m})}),u.identifyOnResolve?.(d.identifyOnResolve()),u),"cloneTo"),c=Si(u=>{let m=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m},"expandRelativeMiddlewareList"),l=Si((u=!1)=>{let m=[],p=[],g={};return e.forEach(b=>{let w={...b,before:[],after:[]};for(let A of dE(w.name,w.aliases))g[A]=w;m.push(w)}),t.forEach(b=>{let w={...b,before:[],after:[]};for(let A of dE(w.name,w.aliases))g[A]=w;p.push(w)}),p.forEach(b=>{if(b.toMiddleware){let w=g[b.toMiddleware];if(w===void 0){if(u)return;throw new Error(`${b.toMiddleware} is not found when adding ${r_(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&w.after.push(b),b.relation==="before"&&w.before.push(b)}}),s(m).map(c).reduce((b,w)=>(b.push(...w),b),[])},"getMiddlewareList"),d={add:Si((u,m={})=>{let{name:p,override:g,aliases:y}=m,b={step:"initialize",priority:"normal",middleware:u,...m},w=dE(p,y);if(w.length>0){if(w.some(A=>n.has(A))){if(!g)throw new Error(`Duplicate middleware name '${r_(p,y)}'`);for(let A of w){let O=e.findIndex(k=>k.name===A||k.aliases?.some(z=>z===A));if(O===-1)continue;let T=e[O];if(T.step!==b.step||b.priority!==T.priority)throw new Error(`"${r_(T.name,T.aliases)}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by "${r_(p,y)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice(O,1)}}for(let A of w)n.add(A)}e.push(b)},"add"),addRelativeTo:Si((u,m)=>{let{name:p,override:g,aliases:y}=m,b={middleware:u,...m},w=dE(p,y);if(w.length>0){if(w.some(A=>n.has(A))){if(!g)throw new Error(`Duplicate middleware name '${r_(p,y)}'`);for(let A of w){let O=t.findIndex(k=>k.name===A||k.aliases?.some(z=>z===A));if(O===-1)continue;let T=t[O];if(T.toMiddleware!==b.toMiddleware||T.relation!==b.relation)throw new Error(`"${r_(T.name,T.aliases)}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by "${r_(p,y)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(O,1)}}for(let A of w)n.add(A)}t.push(b)},"addRelativeTo"),clone:Si(()=>a(Sae()),"clone"),use:Si(u=>{u.applyToStack(d)},"use"),remove:Si(u=>typeof u=="string"?i(u):o(u),"remove"),removeByTag:Si(u=>{let m=!1,p=Si(g=>{let{tags:y,name:b,aliases:w}=g;if(y&&y.includes(u)){let A=dE(b,w);for(let O of A)n.delete(O);return m=!0,!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByTag"),concat:Si(u=>{let m=a(Sae());return m.use(u),m.identifyOnResolve(r||m.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),m},"concat"),applyToStack:a,identify:Si(()=>l(!0).map(u=>{let m=u.step??u.relation+" "+u.toMiddleware;return r_(u.name,u.aliases)+" - "+m}),"identify"),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:Si((u,m)=>{for(let p of l().map(g=>g.middleware).reverse())u=p(u,m);return r&&console.log(d.identify()),u},"resolve")};return d},"constructStack"),TZe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},IZe={high:3,normal:2,low:1}});var bt=E((Xhs,Pae)=>{var UV=Object.defineProperty,Ajr=Object.getOwnPropertyDescriptor,xjr=Object.getOwnPropertyNames,Pjr=Object.prototype.hasOwnProperty,ar=(e,t)=>UV(e,"name",{value:t,configurable:!0}),Rjr=(e,t)=>{for(var r in t)UV(e,r,{get:t[r],enumerable:!0})},Cae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xjr(t))!Pjr.call(e,s)&&s!==r&&UV(e,s,{get:()=>t[s],enumerable:!(n=Ajr(t,s))||n.enumerable});return e},Tjr=(e,t,r)=>(Cae(e,t,"default"),r&&Cae(r,t,"default")),Ijr=e=>Cae(UV({},"__esModule",{value:!0}),e),Aae={};Rjr(Aae,{Client:()=>Ojr,Command:()=>LZe,NoOpLogger:()=>Xjr,SENSITIVE_STRING:()=>kjr,ServiceException:()=>Ljr,_json:()=>wae,collectBody:()=>vae.collectBody,convertMap:()=>Jjr,createAggregatedClient:()=>Mjr,decorateServiceException:()=>UZe,emitWarningIfUnsupportedVersion:()=>qjr,extendedEncodeURIComponent:()=>vae.extendedEncodeURIComponent,getArrayIfSingleItem:()=>Wjr,getDefaultClientConfiguration:()=>Vjr,getDefaultExtensionConfiguration:()=>BZe,getValueFromTextNode:()=>qZe,isSerializableHeaderValue:()=>Kjr,loadConfigsForDefaultMode:()=>Bjr,map:()=>xae,resolveDefaultRuntimeConfig:()=>Gjr,resolvedPath:()=>vae.resolvedPath,serializeDateTime:()=>r1r,serializeFloat:()=>t1r,take:()=>Qjr,throwDefaultError:()=>FZe,withBaseException:()=>Ujr});Pae.exports=Ijr(Aae);var MZe=DZe(),Ojr=class{constructor(e){this.config=e,this.middlewareStack=(0,MZe.constructStack)()}static{ar(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,i=n===void 0&&this.config.cacheMiddleware===!0,o;if(i){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?o=a.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},vae=(pg(),F(q9e)),bae=zy(),Njr=(Li(),F(zYe)),Eae="***SensitiveInformation***";function LV(e,t){if(t==null)return t;let r=Njr.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Eae;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Eae}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Eae}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=LV(o,n[i]));return s}return t}ar(LV,"schemaLogFilter");var LZe=class{constructor(){this.middlewareStack=(0,MZe.constructStack)()}static{ar(this,"Command")}static classBuilder(){return new Djr}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let y of n.bind(this)(d,e,t,r))this.middlewareStack.use(y);let u=e.concat(this.middlewareStack),{logger:m}=t,p={logger:m,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[bae.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return u.resolve(y=>g.handle(y.request,r||{}),p)}},Djr=class{constructor(){this._init=ar(()=>{},"_init"),this._ep={},this._middlewareFn=ar(()=>[],"_middlewareFn"),this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=void 0,this._outputFilterSensitiveLog=void 0,this._serializer=null,this._deserializer=null}static{ar(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends LZe{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ar(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(e._operationSchema?LV.bind(null,e._operationSchema.input):i=>i),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(e._operationSchema?LV.bind(null,e._operationSchema.output):i=>i),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},kjr="***SensitiveInformation***",Mjr=ar((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=ar(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},"createAggregatedClient"),Ljr=class yD extends Error{static{ar(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return yD.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===yD?yD.isInstance(t):yD.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},UZe=ar((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),FZe=ar(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Fjr(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw UZe(o,t)},"throwDefaultError"),Ujr=ar(e=>({output:t,parsedBody:r,errorCode:n})=>{FZe({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Fjr=ar(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Bjr=ar(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),kZe=!1,qjr=ar(e=>{e&&!kZe&&parseInt(e.substring(1,e.indexOf(".")))<16&&(kZe=!0)},"emitWarningIfUnsupportedVersion"),jjr=ar(e=>{let t=[];for(let r in bae.AlgorithmId){let n=bae.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:ar(()=>n,"algorithmId"),checksumConstructor:ar(()=>e[n],"checksumConstructor")})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),$jr=ar(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),zjr=ar(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Hjr=ar(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),BZe=ar(e=>Object.assign(jjr(e),zjr(e)),"getDefaultExtensionConfiguration"),Vjr=BZe,Gjr=ar(e=>Object.assign($jr(e),Hjr(e)),"resolveDefaultRuntimeConfig"),Wjr=ar(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),qZe=ar(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=qZe(e[r]));return e},"getValueFromTextNode"),Kjr=ar(e=>e!=null,"isSerializableHeaderValue"),Xjr=class{static{ar(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function xae(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,Yjr(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}jZe(n,null,i,o)}return n}ar(xae,"map");var Jjr=ar(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),Qjr=ar((e,t)=>{let r={};for(let n in t)jZe(r,e,t,n);return r},"take"),Yjr=ar((e,t,r)=>xae(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),jZe=ar((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=Zjr,c=e1r,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},"applyInstruction"),Zjr=ar(e=>e!=null,"nonNullish"),e1r=ar(e=>e,"pass"),t1r=ar(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),r1r=ar(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),wae=ar(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(wae);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=wae(e[r]));return t}return e},"_json");Tjr(Aae,(Ud(),F(A9e)),Pae.exports)});var $Ze,FV,Rae=_(()=>{$Ze=C(bt()),FV=(e,t)=>(0,$Ze.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var bA,Tae,uE,_D=_(()=>{Rae();bA=(e,t)=>FV(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Tae=async(e,t)=>{let r=await bA(e,t);return r.message=r.message??r.Message,r},uE=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var zZe,SD,Iae=_(()=>{Li();Ud();zZe=C(Sa());t_();RZe();_D();SD=class extends Ea{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,PZe):await bA(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=st.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,zZe.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return ac.from(r);if(s.isTimestampSchema()){let o=this.settings.timestampFormat;switch(o.useTrait?s.getSchema()===Te.TIMESTAMP_DEFAULT?o.default:s.getSchema()??o.default:o.default){case Te.TIMESTAMP_DATE_TIME:return nD(r);case Te.TIMESTAMP_HTTP_DATE:return sD(r);case Te.TIMESTAMP_EPOCH_SECONDS:return iD(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof jo?r:new jo(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var HZe,BV,VZe=_(()=>{Ud();HZe="\u039D",BV=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof jo){let n=`${HZe+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${HZe+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var vD,Oae=_(()=>{Li();Ud();Ud();t_();VZe();vD=class extends Ea{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=st.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new BV;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=st.of(t);if(i.isListSchema()&&Array.isArray(r)){let a=i.getValueSchema(),c=[],l=!!i.getMergedTraits().sparse;for(let d of r)(l||d!=null)&&c.push(this._write(a,d));return c}else if(i.isMapSchema()&&s){let a=i.getValueSchema(),c={},l=!!i.getMergedTraits().sparse;for(let[d,u]of Object.entries(r))(l||u!=null)&&(c[d]=this._write(a,u));return c}else if(i.isStructSchema()&&s){let a={};for(let[c,l]of i.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,u=this._write(l,r[c],i);u!==void 0&&(a[d]=u)}return a}if(r===null&&n?.isStructSchema())return;if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(i===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(i.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?i.getSchema()===Te.TIMESTAMP_DEFAULT?a.default:i.getSchema()??a.default:a.default){case Te.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case Te.TIMESTAMP_HTTP_DATE:return rD(r);case Te.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let o=i.getMergedTraits().mediaType;return i.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json"))?ac.from(r):r}}});var mE,qV=_(()=>{t_();Iae();Oae();mE=class extends Ea{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new vD(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new SD(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var GZe,fE,jV=_(()=>{pg();Li();GZe=C(hD());qV();_D();fE=class extends eE{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new mE({timestampFormat:{useTrait:!0,default:Te.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+st.of(t).getName()}),(uf(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=String((0,GZe.calculateBodyLength)(s.body))}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){let o=uE(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=gn.for(a),d;try{d=l.getSchema(o)}catch{let b=gn.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w(c),s)}throw new Error(c)}let u=st.of(d),m=s.message??s.Message??"Unknown",p=new d.ctor(m);await this.deserializeHttpMessage(d,r,n,s);let g={};for(let[y,b]of u.structIterator()){let w=b.getMergedTraits().jsonName??y;g[y]=this.codec.createDeserializer().readObject(b,s[w])}throw Object.assign(p,{$metadata:i,$response:n,$fault:u.getMergedTraits().error,message:m,...g}),p}}});var Nae,WZe=_(()=>{jV();Nae=class extends fE{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var Dae,KZe=_(()=>{jV();Dae=class extends fE{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var XZe,kae,JZe=_(()=>{pg();Li();XZe=C(hD());qV();_D();kae=class extends Zv{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:Te.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new mE(r),this.serializer=new sE(this.codec.createSerializer(),r),this.deserializer=new nE(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=st.of(t.input),o=i.getMemberSchemas();if(!s.headers["content-type"]){let a=Object.values(o).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]="application/json"}else i.isUnitSchema()||Object.values(o).find(l=>{let{httpQuery:d,httpQueryParams:u,httpHeader:m,httpLabel:p,httpPrefixHeaders:g}=l.getMergedTraits();return!d&&!u&&!m&&!p&&g===void 0})&&(s.headers["content-type"]="application/json")}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=String((0,XZe.calculateBodyLength)(s.body))}catch{}return s}async handleError(t,r,n,s,i){let o=uE(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=gn.for(a),d;try{d=l.getSchema(o)}catch{let b=gn.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w(c),s)}throw new Error(c)}let u=st.of(d),m=s.message??s.Message??"Unknown",p=new d.ctor(m);await this.deserializeHttpMessage(d,r,n,s);let g={};for(let[y,b]of u.structIterator()){let w=b.getMergedTraits().jsonName??y;g[y]=this.codec.createDeserializer().readObject(b,s[w])}throw Object.assign(p,{$metadata:i,$response:n,$fault:u.getMergedTraits().error,message:m,...g}),p}}});var QZe,n1r,YZe=_(()=>{QZe=C(bt()),n1r=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,QZe.expectUnion)(e)}});var $V=E(yg=>{"use strict";var ZZe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s1r=ZZe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",eet="["+ZZe+"]["+s1r+"]*",i1r=new RegExp("^"+eet+"$"),o1r=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r},a1r=function(e){let t=i1r.exec(e);return!(t===null||typeof t>"u")};yg.isExist=function(e){return typeof e<"u"};yg.isEmptyObject=function(e){return Object.keys(e).length===0};yg.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let i=0;i<s;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};yg.getValue=function(e){return yg.isExist(e)?e:""};yg.isName=a1r;yg.getAllMatches=o1r;yg.nameRegexp=eet});var Lae=E(iet=>{"use strict";var Mae=$V(),c1r={allowBooleanAttributes:!1,unpairedTags:[]};iet.validate=function(e,t){t=Object.assign({},c1r,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=ret(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=net(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!h1r(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",vi("InvalidTag",u,lc(e,i))}let l=u1r(e,i);if(l===!1)return vi("InvalidAttr","Attributes for '"+c+"' have open quote.",lc(e,i));let d=l.value;if(i=l.index,d[d.length-1]==="/"){let u=i-d.length;d=d.substring(0,d.length-1);let m=set(d,t);if(m===!0)n=!0;else return vi(m.err.code,m.err.msg,lc(e,u+m.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return vi("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",lc(e,o));if(r.length===0)return vi("InvalidTag","Closing tag '"+c+"' has not been opened.",lc(e,o));{let u=r.pop();if(c!==u.tagName){let m=lc(e,u.tagStartPos);return vi("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",lc(e,o))}r.length==0&&(s=!0)}}else return vi("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",lc(e,i));else{let u=set(d,t);if(u!==!0)return vi(u.err.code,u.err.msg,lc(e,i-d.length+u.err.line));if(s===!0)return vi("InvalidXml","Multiple possible root nodes found.",lc(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=net(e,i);continue}else if(e[i+1]==="?"){if(i=ret(e,++i),i.err)return i}else break;else if(e[i]==="&"){let u=p1r(e,i);if(u==-1)return vi("InvalidChar","char '&' is not expected.",lc(e,i));i=u}else if(s===!0&&!tet(e[i]))return vi("InvalidXml","Extra text at the end",lc(e,i));e[i]==="<"&&i--}}else{if(tet(e[i]))continue;return vi("InvalidChar","char '"+e[i]+"' is not expected.",lc(e,i))}if(n){if(r.length==1)return vi("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",lc(e,r[0].tagStartPos));if(r.length>0)return vi("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return vi("InvalidXml","Start tag expected.",1);return!0};function tet(e){return e===" "||e==="	"||e===`
`||e==="\r"}function ret(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return vi("InvalidXml","XML declaration allowed only at the start of the document.",lc(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function net(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var l1r='"',d1r="'";function u1r(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===l1r||e[t]===d1r)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var m1r=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function set(e,t){let r=Mae.getAllMatches(e,m1r),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return vi("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",ED(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return vi("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",ED(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return vi("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",ED(r[s]));let i=r[s][2];if(!g1r(i))return vi("InvalidAttr","Attribute '"+i+"' is an invalid name.",ED(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return vi("InvalidAttr","Attribute '"+i+"' is repeated.",ED(r[s]))}return!0}function f1r(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function p1r(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,f1r(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function vi(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function g1r(e){return Mae.isName(e)}function h1r(e){return Mae.isName(e)}function lc(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ED(e){return e.startIndex+e[1].length}});var aet=E(Uae=>{var oet={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},y1r=function(e){return Object.assign({},oet,e)};Uae.buildOptions=y1r;Uae.defaultOptions=oet});var det=E((qys,cet)=>{"use strict";var Fae=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};cet.exports=Fae});var met=E((jys,uet)=>{var _1r=$V();function S1r(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&C1r(e,t))t+=7,[entityName,val,t]=v1r(e,t+1),val.indexOf("&")===-1&&(r[x1r(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&b1r(e,t))t+=8;else if(s&&w1r(e,t))t+=8;else if(s&&A1r(e,t))t+=9;else if(E1r)i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function v1r(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],s="";for(;t<e.length&&e[t]!==n;t++)s+=e[t];return[r,s,t]}function E1r(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function C1r(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function b1r(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function w1r(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function A1r(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function x1r(e){if(_1r.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}uet.exports=S1r});var pet=E(($ys,fet)=>{var P1r=/^[-+]?0x[a-fA-F0-9]+$/,R1r=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,T1r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function I1r(e,t={}){if(t=Object.assign({},T1r,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&P1r.test(r))return N1r(r,16);if(r.search(/[eE]/)!==-1){let n=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(n){if(t.leadingZeros)r=(n[1]||"")+n[3];else if(!(n[2]==="0"&&n[3][0]==="."))return e;return t.eNotation?Number(r):e}else return e}else{let n=R1r.exec(r);if(n){let s=n[1],i=n[2],o=O1r(n[3]);if(!t.leadingZeros&&i.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!s&&r[1]!==".")return e;if(t.leadingZeros&&i===e)return 0;{let a=Number(r),c=""+a;return c.search(/[eE]/)!==-1?t.eNotation?a:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||s&&c==="-"+o?a:e:i?o===c||s+o===c?a:e:r===c||r===s+c?a:e}}else return e}}function O1r(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}function N1r(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}fet.exports=I1r});var yet=E((zys,het)=>{"use strict";var get=$V(),CD=det(),D1r=met(),k1r=pet(),Bae=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=M1r,this.parseXml=q1r,this.parseTextData=L1r,this.resolveNameSpace=U1r,this.buildAttributesMap=B1r,this.isItStopNode=H1r,this.replaceEntitiesValue=$1r,this.readStopNodeData=G1r,this.saveTextToParentTag=z1r,this.addChild=j1r}};function M1r(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function L1r(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?jae(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?jae(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function U1r(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var F1r=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function B1r(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=get.getAllMatches(e,F1r),s=n.length,i={};for(let o=0;o<s;o++){let a=this.resolveNameSpace(n[o][1]),c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?i[l]=c:typeof d!=typeof c||d!==c?i[l]=d:i[l]=jae(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=i,o}return i}}var q1r=function(e){e=e.replace(/\r\n?/g,`
`);let t=new CD("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=pE(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=qae(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new CD(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=pE(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=D1r(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=pE(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),i=a+2}else{let a=qae(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,u=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c),this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let b=this.readStopNodeData(e,l,m+1);if(!b)throw new Error(`Unexpected end of ${l}`);i=b.i,g=b.tagContent}let y=new CD(c);c!==d&&u&&(y[":@"]=this.buildAttributesMap(d,s,c)),g&&(g=this.parseTextData(g,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),y.add(this.options.textNodeName,g),this.addChild(r,y,s)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new CD(c);c!==d&&u&&(g[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,g,s),s=s.substr(0,s.lastIndexOf("."))}else{let g=new CD(c);this.tagsNodeStack.push(r),c!==d&&u&&(g[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,g,s),r=g}n="",i=m}}else n+=e[i];return t.child};function j1r(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var $1r=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function z1r(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function H1r(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function V1r(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function pE(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function qae(e,t,r,n=">"){let s=V1r(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let d=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),l=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:d}}function G1r(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=pE(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=pE(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=pE(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=pE(e,"]]>",r,"StopNode is not closed.")-2;else{let i=qae(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function jae(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:k1r(e,r)}else return get.isExist(e)?e:""}het.exports=Bae});var Eet=E(vet=>{"use strict";function W1r(e,t){return _et(e,t)}function _et(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=K1r(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=_et(o[a],t,c),d=J1r(l,t);o[":@"]?X1r(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):t.isArray(a,c,d)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function K1r(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function X1r(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function J1r(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}vet.prettify=W1r});var bet=E((Vys,Cet)=>{var{buildOptions:Q1r}=aet(),Y1r=yet(),{prettify:Z1r}=Eet(),e$r=Lae(),$ae=class{constructor(t){this.externalEntities={},this.options=Q1r(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=e$r.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Y1r(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:Z1r(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};Cet.exports=$ae});var Ret=E((Gys,Pet)=>{var t$r=`
`;function r$r(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=t$r),Aet(e,t,"",r)}function Aet(e,t,r,n){let s="",i=!1;for(let o=0;o<e.length;o++){let a=e[o],c=n$r(a);if(c===void 0)continue;let l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let g=a[c];s$r(l,t)||(g=t.tagValueProcessor(c,g),g=xet(g,t)),i&&(s+=n),s+=g,i=!1;continue}else if(c===t.cdataPropName){i&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){s+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let g=wet(a[":@"],t),y=c==="?xml"?"":n,b=a[c][0][t.textNodeName];b=b.length!==0?" "+b:"",s+=y+`<${c}${b}${g}?>`,i=!0;continue}let d=n;d!==""&&(d+=t.indentBy);let u=wet(a[":@"],t),m=n+`<${c}${u}`,p=Aet(a[c],t,l,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=m+">":s+=m+"/>":(!p||p.length===0)&&t.suppressEmptyNode?s+=m+"/>":p&&p.endsWith(">")?s+=m+`>${p}${n}</${c}>`:(s+=m+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?s+=n+t.indentBy+p+n:s+=p,s+=`</${c}>`),i=!0}return s}function n$r(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function wet(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let s=t.attributeValueProcessor(n,e[n]);s=xet(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function s$r(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function xet(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Pet.exports=r$r});var Iet=E((Wys,Tet)=>{"use strict";var i$r=Ret(),o$r={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function n_(e){this.options=Object.assign({},o$r,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l$r),this.processTextOrObjNode=a$r,this.options.format?(this.indentate=c$r,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}n_.prototype.build=function(e){return this.options.preserveOrder?i$r(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};n_.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(Object.prototype.hasOwnProperty.call(e,s))if(typeof e[s]>"u")this.isAttribute(s)&&(n+="");else if(e[s]===null)this.isAttribute(s)?n+="":s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+e[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let i=e[s].length,o="",a="";for(let c=0;c<i;c++){let l=e[s][c];if(!(typeof l>"u"))if(l===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let d=this.j2x(l,t+1);o+=d.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else o+=this.processTextOrObjNode(l,s,t);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(s,l);d=this.replaceEntitiesValue(d),o+=d}else o+=this.buildTextValNode(l,s,"",t)}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,a,t)),n+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(e[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+e[s][i[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};n_.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function a$r(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}n_.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",s=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+s}};n_.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};n_.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}};n_.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function c$r(e){return this.options.indentBy.repeat(e)}function l$r(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}Tet.exports=n_});var zae=E((Kys,Oet)=>{"use strict";var d$r=Lae(),u$r=bet(),m$r=Iet();Oet.exports={XMLParser:u$r,XMLValidator:d$r,XMLBuilder:m$r}});var Net,Det,ket,gE,zV=_(()=>{pg();Li();Net=C(bt()),Det=C(Zi()),ket=C(zae());t_();gE=class extends Ea{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new rE(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=st.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??Det.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=st.of(t),s=n.getMergedTraits(),i=n.getSchema();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(i,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),d=[],u=l.getMergedTraits().xmlName??"member",m=a?r:(r[0]??r)[u],p=Array.isArray(m)?m:[m];for(let g of p)(g!=null||o)&&d.push(this.readSchema(l,g));return d}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),d=n.getValueSchema(),u;a?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let m=l.getMergedTraits().xmlName??"key",p=d.getMergedTraits().xmlName??"value";for(let g of u){let y=g[m],b=g[p];(b!=null||o)&&(c[y]=this.readSchema(d,b))}return c}if(n.isStructSchema()){for(let[l,d]of n.structIterator()){let u=d.getMergedTraits(),m=u.httpPayload?u.xmlName??d.getName():d.getMemberTraits().xmlName??l;r[m]!=null&&(c[l]=this.readSchema(d,r[m]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}else return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ket.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Net.getValueFromTextNode)(o)}return{}}}});var Met,Let,HV,Uet=_(()=>{pg();Li();Ud();Met=C(bt()),Let=C(Sa());t_();HV=class extends Ea{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=st.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Let.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof jo?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),tE(s,this.settings)){case Te.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case Te.TIMESTAMP_HTTP_DATE:this.writeValue((0,Met.dateToUtcString)(r));break;case Te.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null)continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${df(t)}=`}writeValue(t){this.buffer+=df(t)}}});var Fet,bD,Hae=_(()=>{pg();Li();Fet=C(hD());zV();Uet();bD=class extends eE{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:Te.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new HV(r),this.deserializer=new gE(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(uf(t.input)==="unit"||!s.body)&&(s.body=""),s.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=String((0,Fet.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=st.of(t.output),o={};if(n.statusCode>=300){let d=await rm(n.body,r);d.byteLength>0&&Object.assign(o,await s.read(Te.DOCUMENT,d)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let d in n.headers){let u=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=u}let a=i.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await rm(n.body,r);return c.byteLength>0&&Object.assign(o,await s.read(i,c,a)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=this.loadQueryError(s),d=gn.for(a),u;try{u=d.find(b=>st.of(b).getMergedTraits().awsQueryError?.[0]===c),u||(u=d.getSchema(o))}catch{let w=gn.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(w){let A=w.ctor;throw Object.assign(new A(c),l)}throw new Error(c)}let m=st.of(u),p=this.loadQueryErrorMessage(s),g=new u.ctor(p),y={};for(let[b,w]of m.structIterator()){let A=w.getMergedTraits().xmlName??b,O=l[A]??s[A];y[b]=this.deserializer.readSchema(w,O)}throw Object.assign(g,{$metadata:i,$response:n,$fault:m.getMergedTraits().error,message:p,...y}),g}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var Vae,Bet=_(()=>{Hae();Vae=class extends bD{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var qet,jet,wD,Gae,Wae,Kae=_(()=>{qet=C(bt()),jet=C(zae());Rae();wD=(e,t)=>FV(e,t).then(r=>{if(r.length){let n=new jet.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,qet.getValueFromTextNode)(a)}return{}}),Gae=async(e,t)=>{let r=await wD(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Wae=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Wet=E((f_s,Get)=>{"use strict";var GV=Object.defineProperty,f$r=Object.getOwnPropertyDescriptor,p$r=Object.getOwnPropertyNames,g$r=Object.prototype.hasOwnProperty,WV=(e,t)=>GV(e,"name",{value:t,configurable:!0}),h$r=(e,t)=>{for(var r in t)GV(e,r,{get:t[r],enumerable:!0})},y$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of p$r(t))!g$r.call(e,s)&&s!==r&&GV(e,s,{get:()=>t[s],enumerable:!(n=f$r(t,s))||n.enumerable});return e},_$r=e=>y$r(GV({},"__esModule",{value:!0}),e),$et={};h$r($et,{XmlNode:()=>S$r,XmlText:()=>Vet});Get.exports=_$r($et);function zet(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}WV(zet,"escapeAttribute");function Het(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}WV(Het,"escapeElement");var Vet=class{constructor(e){this.value=e}static{WV(this,"XmlText")}toString(){return Het(""+this.value)}},S$r=class VV{constructor(t,r=[]){this.name=t,this.children=r}static{WV(this,"XmlNode")}attributes={};static of(t,r,n){let s=new VV(t);return r!==void 0&&s.addChildNode(new Vet(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=VV.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new VV(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${zet(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Fd,Xae,KV,AD,Jae=_(()=>{Fd=C(Wet());Li();Ud();Xae=C(bt()),KV=C(Sa());t_();AD=class extends Ea{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=st.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??KV.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Fd.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);c&&o.addAttribute(a,c);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=Fd.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=Fd.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=Fd.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=Fd.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=Fd.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=Fd.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=Fd.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=Fd.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=st.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??KV.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?n.getSchema()===Te.TIMESTAMP_DEFAULT?i.default:n.getSchema()??i.default:i.default){case Te.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case Te.TIMESTAMP_HTTP_DATE:s=(0,Xae.dateToUtcString)(r);break;case Te.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Xae.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof jo?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=st.of(t),a=new Fd.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var xD,Qae=_(()=>{t_();zV();Jae();xD=class extends Ea{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new AD(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new gE(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Ket,Yae,Xet=_(()=>{pg();Li();Ket=C(hD());Kae();Qae();Yae=class extends Zv{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:Te.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new xD(r),this.serializer=new sE(this.codec.createSerializer(),r),this.deserializer=new nE(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=st.of(t.input),o=i.getMemberSchemas();if(s.path=String(s.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!s.headers["content-type"]){let a=Object.values(o).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]="application/xml"}else i.isUnitSchema()||Object.values(o).find(l=>{let{httpQuery:d,httpQueryParams:u,httpHeader:m,httpLabel:p,httpPrefixHeaders:g}=l.getMergedTraits();return!d&&!u&&!m&&!p&&g===void 0})&&(s.headers["content-type"]="application/xml")}if(s.headers["content-type"]==="application/xml"&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=String((0,Ket.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Wae(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=gn.for(a),d;try{d=l.getSchema(o)}catch{let b=gn.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w(c),s)}throw new Error(c)}let u=st.of(d),m=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",p=new d.ctor(m);await this.deserializeHttpMessage(d,r,n,s);let g={};for(let[y,b]of u.structIterator()){let w=b.getMergedTraits().xmlName??y,A=s.Error?.[w]??s[w];g[y]=this.codec.createDeserializer().readSchema(b,A)}throw Object.assign(p,{$metadata:i,$response:n,$fault:u.getMergedTraits().error,message:m,...g}),p}}});var Jet=_(()=>{bZe();WZe();KZe();jV();JZe();qV();Iae();Oae();YZe();_D();Bet();Hae();Xet();Qae();zV();Jae();Kae()});var Mc={};ct(Mc,{AWSSDKSigV4Signer:()=>nae,AwsEc2QueryProtocol:()=>Vae,AwsJson1_0Protocol:()=>Nae,AwsJson1_1Protocol:()=>Dae,AwsJsonRpcProtocol:()=>fE,AwsQueryProtocol:()=>bD,AwsRestJsonProtocol:()=>kae,AwsRestXmlProtocol:()=>Yae,AwsSdkSigV4ASigner:()=>gD,AwsSdkSigV4Signer:()=>kc,JsonCodec:()=>mE,JsonShapeDeserializer:()=>SD,JsonShapeSerializer:()=>vD,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>EA,NODE_SIGV4A_CONFIG_OPTIONS:()=>$7e,XmlCodec:()=>xD,XmlShapeDeserializer:()=>gE,XmlShapeSerializer:()=>AD,_toBool:()=>ljr,_toNum:()=>djr,_toStr:()=>cjr,awsExpectUnion:()=>n1r,emitWarningIfUnsupportedVersion:()=>_A,getBearerTokenEnvKey:()=>wV,loadRestJsonErrorCode:()=>uE,loadRestXmlErrorCode:()=>Wae,parseJsonBody:()=>bA,parseJsonErrorBody:()=>Tae,parseXmlBody:()=>wD,parseXmlErrorBody:()=>Gae,resolveAWSSDKSigV4Config:()=>SZe,resolveAwsSdkSigV4AConfig:()=>j7e,resolveAwsSdkSigV4Config:()=>lE,setCredentialFeature:()=>Yy,setFeature:()=>v7e,setTokenFeature:()=>C7e,state:()=>bV,validateSigningProperties:()=>vA});var ii=_(()=>{nm();_ae();Jet()});var hE=E((X_s,ctt)=>{"use strict";var JV=Object.defineProperty,v$r=Object.getOwnPropertyDescriptor,E$r=Object.getOwnPropertyNames,C$r=Object.prototype.hasOwnProperty,_g=(e,t)=>JV(e,"name",{value:t,configurable:!0}),b$r=(e,t)=>{for(var r in t)JV(e,r,{get:t[r],enumerable:!0})},w$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of E$r(t))!C$r.call(e,s)&&s!==r&&JV(e,s,{get:()=>t[s],enumerable:!(n=v$r(t,s))||n.enumerable});return e},A$r=e=>w$r(JV({},"__esModule",{value:!0}),e),ett={};b$r(ett,{DEFAULT_UA_APP_ID:()=>ttt,getUserAgentMiddlewareOptions:()=>att,getUserAgentPlugin:()=>D$r,resolveUserAgentConfig:()=>ntt,userAgentMiddleware:()=>ott});ctt.exports=A$r(ett);var x$r=(va(),F(Qy)),ttt=void 0;function rtt(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}_g(rtt,"isValidUserAgentAppId");function ntt(e){let t=(0,x$r.normalizeProvider)(e.userAgentAppId??ttt),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:_g(async()=>{let n=await t();if(!rtt(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}_g(ntt,"resolveUserAgentConfig");var P$r=aE(),R$r=pn(),ff=(ii(),F(Mc)),T$r=/\d{12}\.ddb/;async function stt(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,ff.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,ff.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,ff.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,ff.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(T$r)&&(0,ff.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,ff.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,ff.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,ff.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,ff.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,ff.setFeature)(e,o,a)}}_g(stt,"checkFeatures");var Qet="user-agent",Zae="x-amz-user-agent",Yet=" ",ece="/",I$r=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,O$r=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Zet="-",N$r=1024;function itt(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=N$r){t.length?t+=","+n:t+=n;continue}break}return t}_g(itt,"encodeFeatures");var ott=_g(e=>(t,r)=>async n=>{let{request:s}=n;if(!R$r.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(XV)||[],a=(await e.defaultUserAgentProvider()).map(XV);await stt(r,e,n);let c=r;a.push(`m/${itt(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(XV)||[],d=await e.userAgentAppId();d&&a.push(XV([`app/${d}`]));let u=(0,P$r.getUserAgentPrefix)(),m=(u?[u]:[]).concat([...a,...o,...l]).join(Yet),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(Yet);return e.runtime!=="browser"?(p&&(i[Zae]=i[Zae]?`${i[Qet]} ${p}`:p),i[Qet]=m):i[Zae]=m,t({...n,request:s})},"userAgentMiddleware"),XV=_g(e=>{let t=e[0].split(ece).map(o=>o.replace(I$r,Zet)).join(ece),r=e[1]?.replace(O$r,Zet),n=t.indexOf(ece),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),att={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},D$r=_g(e=>({applyToStack:_g(t=>{t.add(ott(e),att)},"applyToStack")}),"getUserAgentPlugin")});var ftt=E((J_s,mtt)=>{var QV=Object.defineProperty,k$r=Object.getOwnPropertyDescriptor,M$r=Object.getOwnPropertyNames,L$r=Object.prototype.hasOwnProperty,ltt=(e,t)=>QV(e,"name",{value:t,configurable:!0}),U$r=(e,t)=>{for(var r in t)QV(e,r,{get:t[r],enumerable:!0})},F$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of M$r(t))!L$r.call(e,s)&&s!==r&&QV(e,s,{get:()=>t[s],enumerable:!(n=k$r(t,s))||n.enumerable});return e},B$r=e=>F$r(QV({},"__esModule",{value:!0}),e),dtt={};U$r(dtt,{SelectorType:()=>utt,booleanSelector:()=>q$r,numberSelector:()=>j$r});mtt.exports=B$r(dtt);var q$r=ltt((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),j$r=ltt((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),utt=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(utt||{})});var Bd=E((Q_s,wtt)=>{var ZV=Object.defineProperty,$$r=Object.getOwnPropertyDescriptor,z$r=Object.getOwnPropertyNames,H$r=Object.prototype.hasOwnProperty,Ui=(e,t)=>ZV(e,"name",{value:t,configurable:!0}),V$r=(e,t)=>{for(var r in t)ZV(e,r,{get:t[r],enumerable:!0})},G$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of z$r(t))!H$r.call(e,s)&&s!==r&&ZV(e,s,{get:()=>t[s],enumerable:!(n=$$r(t,s))||n.enumerable});return e},W$r=e=>G$r(ZV({},"__esModule",{value:!0}),e),htt={};V$r(htt,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>_tt,CONFIG_USE_FIPS_ENDPOINT:()=>vtt,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>K$r,DEFAULT_USE_FIPS_ENDPOINT:()=>J$r,ENV_USE_DUALSTACK_ENDPOINT:()=>ytt,ENV_USE_FIPS_ENDPOINT:()=>Stt,NODE_REGION_CONFIG_FILE_OPTIONS:()=>rzr,NODE_REGION_CONFIG_OPTIONS:()=>tzr,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>X$r,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>Q$r,REGION_ENV_NAME:()=>Ett,REGION_INI_NAME:()=>Ctt,getRegionInfo:()=>azr,resolveCustomEndpointsConfig:()=>Y$r,resolveEndpointsConfig:()=>ezr,resolveRegionConfig:()=>nzr});wtt.exports=W$r(htt);var s_=ftt(),ytt="AWS_USE_DUALSTACK_ENDPOINT",_tt="use_dualstack_endpoint",K$r=!1,X$r={environmentVariableSelector:Ui(e=>(0,s_.booleanSelector)(e,ytt,s_.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Ui(e=>(0,s_.booleanSelector)(e,_tt,s_.SelectorType.CONFIG),"configFileSelector"),default:!1},Stt="AWS_USE_FIPS_ENDPOINT",vtt="use_fips_endpoint",J$r=!1,Q$r={environmentVariableSelector:Ui(e=>(0,s_.booleanSelector)(e,Stt,s_.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Ui(e=>(0,s_.booleanSelector)(e,vtt,s_.SelectorType.CONFIG),"configFileSelector"),default:!1},YV=Oc(),Y$r=Ui(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,YV.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,YV.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),Z$r=Ui(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),ezr=Ui(e=>{let t=(0,YV.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?(0,YV.normalizeProvider)(typeof r=="string"?s(r):r):()=>Z$r({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),Ett="AWS_REGION",Ctt="region",tzr={environmentVariableSelector:Ui(e=>e[Ett],"environmentVariableSelector"),configFileSelector:Ui(e=>e[Ctt],"configFileSelector"),default:Ui(()=>{throw new Error("Region is missing")},"default")},rzr={preferredFile:"credentials"},btt=Ui(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),ptt=Ui(e=>btt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),nzr=Ui(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Ui(async()=>{if(typeof t=="string")return ptt(t);let n=await t();return ptt(n)},"region"),useFipsEndpoint:Ui(async()=>{let n=typeof t=="string"?t:await t();return btt(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig"),gtt=Ui((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),szr=Ui((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),izr=Ui((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),ozr=Ui((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),azr=Ui((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=izr(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=gtt(s[a]?.variants,c),d=gtt(i[o]?.variants,c),u=szr(a,{regionHostname:l,partitionHostname:d});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=ozr(u,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:u,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var wA=E((Y_s,Rtt)=>{var eG=Object.defineProperty,czr=Object.getOwnPropertyDescriptor,lzr=Object.getOwnPropertyNames,dzr=Object.prototype.hasOwnProperty,tce=(e,t)=>eG(e,"name",{value:t,configurable:!0}),uzr=(e,t)=>{for(var r in t)eG(e,r,{get:t[r],enumerable:!0})},mzr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lzr(t))!dzr.call(e,s)&&s!==r&&eG(e,s,{get:()=>t[s],enumerable:!(n=czr(t,s))||n.enumerable});return e},fzr=e=>mzr(eG({},"__esModule",{value:!0}),e),xtt={};uzr(xtt,{contentLengthMiddleware:()=>rce,contentLengthMiddlewareOptions:()=>Ptt,getContentLengthPlugin:()=>gzr});Rtt.exports=fzr(xtt);var pzr=pn(),Att="content-length";function rce(e){return t=>async r=>{let n=r.request;if(pzr.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(Att)===-1)try{let o=e(s);n.headers={...n.headers,[Att]:String(o)}}catch{}}return t({...r,request:n})}}tce(rce,"contentLengthMiddleware");var Ptt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},gzr=tce(e=>({applyToStack:tce(t=>{t.add(rce(e.bodyLengthChecker),Ptt)},"applyToStack")}),"getContentLengthPlugin")});var AA=E(tG=>{"use strict";Object.defineProperty(tG,"__esModule",{value:!0});tG.getHomeDir=void 0;var hzr=require("os"),yzr=require("path"),nce={},_zr=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Szr=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${yzr.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=_zr();return nce[s]||(nce[s]=(0,hzr.homedir)()),nce[s]};tG.getHomeDir=Szr});var sce=E(rG=>{"use strict";Object.defineProperty(rG,"__esModule",{value:!0});rG.getSSOTokenFilepath=void 0;var vzr=require("crypto"),Ezr=require("path"),Czr=AA(),bzr=e=>{let r=(0,vzr.createHash)("sha1").update(e).digest("hex");return(0,Ezr.join)((0,Czr.getHomeDir)(),".aws","sso","cache",`${r}.json`)};rG.getSSOTokenFilepath=bzr});var Ttt=E(nG=>{"use strict";Object.defineProperty(nG,"__esModule",{value:!0});nG.getSSOTokenFromFile=void 0;var wzr=require("fs"),Azr=sce(),{readFile:xzr}=wzr.promises,Pzr=async e=>{let t=(0,Azr.getSSOTokenFilepath)(e),r=await xzr(t,"utf8");return JSON.parse(r)};nG.getSSOTokenFromFile=Pzr});var oce=E(sG=>{"use strict";Object.defineProperty(sG,"__esModule",{value:!0});sG.slurpFile=void 0;var Rzr=require("fs"),{readFile:Tzr}=Rzr.promises,ice={},Izr=(e,t)=>((!ice[e]||t?.ignoreCache)&&(ice[e]=Tzr(e,"utf8")),ice[e]);sG.slurpFile=Izr});var i_=E((nSs,RD)=>{var aG=Object.defineProperty,Ozr=Object.getOwnPropertyDescriptor,Nzr=Object.getOwnPropertyNames,Dzr=Object.prototype.hasOwnProperty,qd=(e,t)=>aG(e,"name",{value:t,configurable:!0}),kzr=(e,t)=>{for(var r in t)aG(e,r,{get:t[r],enumerable:!0})},ace=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Nzr(t))!Dzr.call(e,s)&&s!==r&&aG(e,s,{get:()=>t[s],enumerable:!(n=Ozr(t,s))||n.enumerable});return e},lce=(e,t,r)=>(ace(e,t,"default"),r&&ace(r,t,"default")),Mzr=e=>ace(aG({},"__esModule",{value:!0}),e),PD={};kzr(PD,{CONFIG_PREFIX_SEPARATOR:()=>yE,DEFAULT_PROFILE:()=>Dtt,ENV_PROFILE:()=>Ntt,getProfileName:()=>Lzr,loadSharedConfigFiles:()=>Mtt,loadSsoSessionData:()=>Xzr,parseKnownFiles:()=>Qzr});RD.exports=Mzr(PD);lce(PD,AA(),RD.exports);var Ntt="AWS_PROFILE",Dtt="default",Lzr=qd(e=>e.profile||process.env[Ntt]||Dtt,"getProfileName");lce(PD,sce(),RD.exports);lce(PD,Ttt(),RD.exports);var iG=zy(),Uzr=qd(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(yE);return r===-1?!1:Object.values(iG.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(yE),i=r.substring(0,s)===iG.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),oG=require("path"),Fzr=AA(),Bzr="AWS_CONFIG_FILE",ktt=qd(()=>process.env[Bzr]||(0,oG.join)((0,Fzr.getHomeDir)(),".aws","config"),"getConfigFilepath"),qzr=AA(),jzr="AWS_SHARED_CREDENTIALS_FILE",$zr=qd(()=>process.env[jzr]||(0,oG.join)((0,qzr.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),zzr=AA(),Hzr=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Vzr=["__proto__","profile __proto__"],cce=qd(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=Hzr.exec(a);if(c){let[,l,,d]=c;Object.values(iG.IniSectionType).includes(l)&&(r=[l,d].join(yE))}else r=a;if(Vzr.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(yE):c;t[r][d]=l}}}}return t},"parseIni"),Itt=oce(),Ott=qd(()=>({}),"swallowError"),yE=".",Mtt=qd(async(e={})=>{let{filepath:t=$zr(),configFilepath:r=ktt()}=e,n=(0,zzr.getHomeDir)(),s="~/",i=t;t.startsWith(s)&&(i=(0,oG.join)(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=(0,oG.join)(n,r.slice(2)));let a=await Promise.all([(0,Itt.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(cce).then(Uzr).catch(Ott),(0,Itt.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(cce).catch(Ott)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),Gzr=qd(e=>Object.entries(e).filter(([t])=>t.startsWith(iG.IniSectionType.SSO_SESSION+yE)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(yE)+1)]:n}),{}),"getSsoSessionData"),Wzr=oce(),Kzr=qd(()=>({}),"swallowError"),Xzr=qd(async(e={})=>(0,Wzr.slurpFile)(e.configFilepath??ktt()).then(cce).then(Gzr).catch(Kzr),"loadSsoSessionData"),Jzr=qd((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),Qzr=qd(async e=>{let t=await Mtt(e);return Jzr(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Sg=E((sSs,Ftt)=>{var cG=Object.defineProperty,Yzr=Object.getOwnPropertyDescriptor,Zzr=Object.getOwnPropertyNames,eHr=Object.prototype.hasOwnProperty,xA=(e,t)=>cG(e,"name",{value:t,configurable:!0}),tHr=(e,t)=>{for(var r in t)cG(e,r,{get:t[r],enumerable:!0})},rHr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zzr(t))!eHr.call(e,s)&&s!==r&&cG(e,s,{get:()=>t[s],enumerable:!(n=Yzr(t,s))||n.enumerable});return e},nHr=e=>rHr(cG({},"__esModule",{value:!0}),e),Utt={};tHr(Utt,{loadConfig:()=>cHr});Ftt.exports=nHr(Utt);var TD=cc();function dce(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}xA(dce,"getSelectorName");var sHr=xA((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new TD.CredentialsProviderError(r.message||`Not found in ENV: ${dce(e.toString())}`,{logger:t?.logger})}},"fromEnv"),Ltt=i_(),iHr=xA((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Ltt.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,Ltt.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c,t==="config"?s:i);if(d===void 0)throw new Error;return d}catch(l){throw new TD.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${dce(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),oHr=xA(e=>typeof e=="function","isFunction"),aHr=xA(e=>oHr(e)?async()=>await e():(0,TD.fromStatic)(e),"fromStatic"),cHr=xA(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return(0,TD.memoize)((0,TD.chain)(sHr(e,o),iHr(t,n),aHr(r)))},"loadConfig")});var $tt=E(lG=>{"use strict";Object.defineProperty(lG,"__esModule",{value:!0});lG.getEndpointUrlConfig=void 0;var Btt=i_(),qtt="AWS_ENDPOINT_URL",jtt="endpoint_url",lHr=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[qtt,...r].join("_")];if(n)return n;let s=t[qtt];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(Btt.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),jtt].join(Btt.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[jtt];if(n)return n},default:void 0});lG.getEndpointUrlConfig=lHr});var uce=E(dG=>{"use strict";Object.defineProperty(dG,"__esModule",{value:!0});dG.getEndpointFromConfig=void 0;var dHr=Sg(),uHr=$tt(),mHr=async e=>(0,dHr.loadConfig)((0,uHr.getEndpointUrlConfig)(e??""))();dG.getEndpointFromConfig=mHr});var Gtt=E((aSs,Vtt)=>{var uG=Object.defineProperty,fHr=Object.getOwnPropertyDescriptor,pHr=Object.getOwnPropertyNames,gHr=Object.prototype.hasOwnProperty,hHr=(e,t)=>uG(e,"name",{value:t,configurable:!0}),yHr=(e,t)=>{for(var r in t)uG(e,r,{get:t[r],enumerable:!0})},_Hr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pHr(t))!gHr.call(e,s)&&s!==r&&uG(e,s,{get:()=>t[s],enumerable:!(n=fHr(t,s))||n.enumerable});return e},SHr=e=>_Hr(uG({},"__esModule",{value:!0}),e),ztt={};yHr(ztt,{parseQueryString:()=>Htt});Vtt.exports=SHr(ztt);function Htt(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}hHr(Htt,"parseQueryString")});var o_=E((cSs,Xtt)=>{var mG=Object.defineProperty,vHr=Object.getOwnPropertyDescriptor,EHr=Object.getOwnPropertyNames,CHr=Object.prototype.hasOwnProperty,bHr=(e,t)=>mG(e,"name",{value:t,configurable:!0}),wHr=(e,t)=>{for(var r in t)mG(e,r,{get:t[r],enumerable:!0})},AHr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of EHr(t))!CHr.call(e,s)&&s!==r&&mG(e,s,{get:()=>t[s],enumerable:!(n=vHr(t,s))||n.enumerable});return e},xHr=e=>AHr(mG({},"__esModule",{value:!0}),e),Wtt={};wHr(Wtt,{parseUrl:()=>Ktt});Xtt.exports=xHr(Wtt);var PHr=Gtt(),Ktt=bHr(e=>{if(typeof e=="string")return Ktt(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,PHr.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},"parseUrl")});var vg=E((lSs,rrt)=>{var pG=Object.defineProperty,RHr=Object.getOwnPropertyDescriptor,THr=Object.getOwnPropertyNames,IHr=Object.prototype.hasOwnProperty,vl=(e,t)=>pG(e,"name",{value:t,configurable:!0}),OHr=(e,t)=>{for(var r in t)pG(e,r,{get:t[r],enumerable:!0})},NHr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of THr(t))!IHr.call(e,s)&&s!==r&&pG(e,s,{get:()=>t[s],enumerable:!(n=RHr(t,s))||n.enumerable});return e},DHr=e=>NHr(pG({},"__esModule",{value:!0}),e),Qtt={};OHr(Qtt,{endpointMiddleware:()=>ert,endpointMiddlewareOptions:()=>trt,getEndpointFromInstructions:()=>Ytt,getEndpointPlugin:()=>HHr,resolveEndpointConfig:()=>GHr,resolveEndpointRequiredConfig:()=>WHr,resolveParams:()=>Ztt,toEndpointV1:()=>mce});rrt.exports=DHr(Qtt);var kHr=vl(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),BHr(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!FHr(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),MHr=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,LHr=/(\d+\.){3}\d+/,UHr=/\.\./,FHr=vl(e=>MHr.test(e)&&!LHr.test(e)&&!UHr.test(e),"isDnsCompatibleBucketName"),BHr=vl(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),qHr=vl((e,t,r)=>{let n=vl(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),jHr=uce(),Jtt=o_(),mce=vl(e=>typeof e=="object"?"url"in e?(0,Jtt.parseUrl)(e.url):e:(0,Jtt.parseUrl)(e),"toEndpointV1"),Ytt=vl(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,jHr.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(mce(o)),r.isCustomEndpoint=!0)}let s=await Ztt(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),Ztt=vl(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await qHr(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await kHr(n),n},"resolveParams"),$Hr=(va(),F(Qy)),fG=Oc(),ert=vl(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,$Hr.setFeature)(n,"ENDPOINT_OVERRIDE","N");let i=await Ytt(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,fG.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},"endpointMiddleware"),zHr=dg(),trt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:zHr.serializerMiddlewareOption.name},HHr=vl((e,t)=>({applyToStack:vl(r=>{r.addRelativeTo(ert({config:e,instructions:t}),trt)},"applyToStack")}),"getEndpointPlugin"),VHr=uce(),GHr=vl(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>mce(await(0,fG.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,fG.normalizeProvider)(n??!1),useFipsEndpoint:(0,fG.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,VHr.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),WHr=vl(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var pce=E((dSs,ort)=>{var gG=Object.defineProperty,KHr=Object.getOwnPropertyDescriptor,XHr=Object.getOwnPropertyNames,JHr=Object.prototype.hasOwnProperty,_E=(e,t)=>gG(e,"name",{value:t,configurable:!0}),QHr=(e,t)=>{for(var r in t)gG(e,r,{get:t[r],enumerable:!0})},YHr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of XHr(t))!JHr.call(e,s)&&s!==r&&gG(e,s,{get:()=>t[s],enumerable:!(n=KHr(t,s))||n.enumerable});return e},ZHr=e=>YHr(gG({},"__esModule",{value:!0}),e),nrt={};QHr(nrt,{isBrowserNetworkError:()=>irt,isClockSkewCorrectedError:()=>srt,isClockSkewError:()=>aVr,isRetryableByTrait:()=>oVr,isServerError:()=>lVr,isThrottlingError:()=>cVr,isTransientError:()=>fce});ort.exports=ZHr(nrt);var eVr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],tVr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],rVr=["TimeoutError","RequestTimeout","RequestTimeoutException"],nVr=[500,502,503,504],sVr=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],iVr=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],oVr=_E(e=>e.$retryable!==void 0,"isRetryableByTrait"),aVr=_E(e=>eVr.includes(e.name),"isClockSkewError"),srt=_E(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),irt=_E(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),cVr=_E(e=>e.$metadata?.httpStatusCode===429||tVr.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),fce=_E((e,t=0)=>srt(e)||rVr.includes(e.name)||sVr.includes(e?.code||"")||iVr.includes(e?.code||"")||nVr.includes(e.$metadata?.httpStatusCode||0)||irt(e)||e.cause!==void 0&&t<=10&&fce(e.cause,t+1),"isTransientError"),lVr=_E(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!fce(e)}return!1},"isServerError")});var SE=E((uSs,hrt)=>{var hG=Object.defineProperty,dVr=Object.getOwnPropertyDescriptor,uVr=Object.getOwnPropertyNames,mVr=Object.prototype.hasOwnProperty,sm=(e,t)=>hG(e,"name",{value:t,configurable:!0}),fVr=(e,t)=>{for(var r in t)hG(e,r,{get:t[r],enumerable:!0})},pVr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uVr(t))!mVr.call(e,s)&&s!==r&&hG(e,s,{get:()=>t[s],enumerable:!(n=dVr(t,s))||n.enumerable});return e},gVr=e=>pVr(hG({},"__esModule",{value:!0}),e),crt={};fVr(crt,{AdaptiveRetryStrategy:()=>EVr,ConfiguredRetryStrategy:()=>CVr,DEFAULT_MAX_ATTEMPTS:()=>gce,DEFAULT_RETRY_DELAY_BASE:()=>ID,DEFAULT_RETRY_MODE:()=>hVr,DefaultRateLimiter:()=>drt,INITIAL_RETRY_TOKENS:()=>hce,INVOCATION_ID_HEADER:()=>_Vr,MAXIMUM_RETRY_DELAY:()=>yce,NO_RETRY_INCREMENT:()=>grt,REQUEST_HEADER:()=>SVr,RETRY_COST:()=>frt,RETRY_MODES:()=>lrt,StandardRetryStrategy:()=>_ce,THROTTLING_RETRY_DELAY_BASE:()=>mrt,TIMEOUT_RETRY_COST:()=>prt});hrt.exports=gVr(crt);var lrt=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(lrt||{}),gce=3,hVr="standard",yVr=pce(),drt=class urt{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{sm(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>urt.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,yVr.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},ID=100,yce=20*1e3,mrt=500,hce=500,frt=5,prt=10,grt=1,_Vr="amz-sdk-invocation-id",SVr="amz-sdk-request",vVr=sm(()=>{let e=ID;return{computeNextBackoffDelay:sm(n=>Math.floor(Math.min(yce,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:sm(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),art=sm(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:sm(()=>t,"getRetryCount"),getRetryDelay:sm(()=>Math.min(yce,e),"getRetryDelay"),getRetryCost:sm(()=>r,"getRetryCost")}),"createDefaultRetryToken"),_ce=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=hce,this.retryBackoffStrategy=vVr(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{sm(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return art({retryDelay:ID,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?mrt:ID);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(n);return this.capacity-=o,art({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(hce,this.capacity+(e.getRetryCost()??grt))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${gce}`),gce}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?prt:frt}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},EVr=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new drt,this.standardRetryStrategy=new _ce(e)}static{sm(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},CVr=class extends _ce{static{sm(this,"ConfiguredRetryStrategy")}constructor(e,t=ID){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var yrt=E(yG=>{"use strict";Object.defineProperty(yG,"__esModule",{value:!0});yG.isStreamingPayload=void 0;var bVr=require("stream"),wVr=e=>e?.body instanceof bVr.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;yG.isStreamingPayload=wVr});var im=E((hSs,Nrt)=>{var _G=Object.defineProperty,AVr=Object.getOwnPropertyDescriptor,xVr=Object.getOwnPropertyNames,PVr=Object.prototype.hasOwnProperty,sn=(e,t)=>_G(e,"name",{value:t,configurable:!0}),RVr=(e,t)=>{for(var r in t)_G(e,r,{get:t[r],enumerable:!0})},TVr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xVr(t))!PVr.call(e,s)&&s!==r&&_G(e,s,{get:()=>t[s],enumerable:!(n=AVr(t,s))||n.enumerable});return e},IVr=e=>TVr(_G({},"__esModule",{value:!0}),e),Srt={};RVr(Srt,{AdaptiveRetryStrategy:()=>DVr,CONFIG_MAX_ATTEMPTS:()=>vce,CONFIG_RETRY_MODE:()=>xrt,ENV_MAX_ATTEMPTS:()=>Sce,ENV_RETRY_MODE:()=>Art,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>kVr,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>LVr,StandardRetryStrategy:()=>wrt,defaultDelayDecider:()=>Ert,defaultRetryDecider:()=>Crt,getOmitRetryHeadersPlugin:()=>UVr,getRetryAfterHint:()=>Ort,getRetryPlugin:()=>zVr,omitRetryHeadersMiddleware:()=>Prt,omitRetryHeadersMiddlewareOptions:()=>Rrt,resolveRetryConfig:()=>MVr,retryMiddleware:()=>Trt,retryMiddlewareOptions:()=>Irt});Nrt.exports=IVr(Srt);var PA=pn(),vrt=(fV(),F(Doe)),zs=SE(),OVr=sn((e,t)=>{let r=e,n=t?.noRetryIncrement??zs.NO_RETRY_INCREMENT,s=t?.retryCost??zs.RETRY_COST,i=t?.timeoutRetryCost??zs.TIMEOUT_RETRY_COST,o=e,a=sn(u=>u.name==="TimeoutError"?i:s,"getCapacityAmount"),c=sn(u=>a(u)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:sn(u=>{if(!c(u))throw new Error("No retry token available");let m=a(u);return o-=m,m},"retrieveRetryTokens"),releaseRetryTokens:sn(u=>{o+=u??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Ert=sn((e,t)=>Math.floor(Math.min(zs.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),a_=pce(),Crt=sn(e=>e?(0,a_.isRetryableByTrait)(e)||(0,a_.isClockSkewError)(e)||(0,a_.isThrottlingError)(e)||(0,a_.isTransientError)(e):!1,"defaultRetryDecider"),brt=sn(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),wrt=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=zs.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??Crt,this.delayDecider=t?.delayDecider??Ert,this.retryQuota=t?.retryQuota??OVr(zs.INITIAL_RETRY_TOKENS)}static{sn(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=zs.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,i=0,o=await this.getMaxAttempts(),{request:a}=t;for(PA.HttpRequest.isInstance(a)&&(a.headers[zs.INVOCATION_ID_HEADER]=(0,vrt.v4)());;)try{PA.HttpRequest.isInstance(a)&&(a.headers[zs.REQUEST_HEADER]=`attempt=${s+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:c,output:l}}catch(c){let l=brt(c);if(s++,this.shouldRetry(l,s,o)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,a_.isThrottlingError)(l)?zs.THROTTLING_RETRY_DELAY_BASE:zs.DEFAULT_RETRY_DELAY_BASE,s),u=NVr(l.$response),m=Math.max(u||0,d);i+=m,await new Promise(p=>setTimeout(p,m));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},NVr=sn(e=>{if(!PA.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),DVr=class extends wrt{static{sn(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new zs.DefaultRateLimiter,this.mode=zs.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:sn(async()=>this.rateLimiter.getSendToken(),"beforeRequest"),afterRequest:sn(r=>{this.rateLimiter.updateClientSendingRate(r)},"afterRequest")})}},_rt=Oc(),Sce="AWS_MAX_ATTEMPTS",vce="max_attempts",kVr={environmentVariableSelector:sn(e=>{let t=e[Sce];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Sce} mast be a number, got "${t}"`);return r},"environmentVariableSelector"),configFileSelector:sn(e=>{let t=e[vce];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${vce} mast be a number, got "${t}"`);return r},"configFileSelector"),default:zs.DEFAULT_MAX_ATTEMPTS},MVr=sn(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,_rt.normalizeProvider)(n??zs.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:sn(async()=>t||(await(0,_rt.normalizeProvider)(r)()===zs.RETRY_MODES.ADAPTIVE?new zs.AdaptiveRetryStrategy(s):new zs.StandardRetryStrategy(s)),"retryStrategy")})},"resolveRetryConfig"),Art="AWS_RETRY_MODE",xrt="retry_mode",LVr={environmentVariableSelector:sn(e=>e[Art],"environmentVariableSelector"),configFileSelector:sn(e=>e[xrt],"configFileSelector"),default:zs.DEFAULT_RETRY_MODE},Prt=sn(()=>e=>async t=>{let{request:r}=t;return PA.HttpRequest.isInstance(r)&&(delete r.headers[zs.INVOCATION_ID_HEADER],delete r.headers[zs.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Rrt={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},UVr=sn(e=>({applyToStack:sn(t=>{t.addRelativeTo(Prt(),Rrt)},"applyToStack")}),"getOmitRetryHeadersPlugin"),FVr=bt(),BVr=yrt(),Trt=sn(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(qVr(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,u=PA.HttpRequest.isInstance(d);for(u&&(d.headers[zs.INVOCATION_ID_HEADER]=(0,vrt.v4)());;)try{u&&(d.headers[zs.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:m,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:m,output:p}}catch(m){let p=jVr(m);if(a=brt(m),u&&(0,BVr.isStreamingPayload)(d))throw(r.logger instanceof FVr.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let g=o.getRetryDelay();l+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),qVr=sn(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),jVr=sn(e=>{let t={error:e,errorType:$Vr(e)},r=Ort(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),$Vr=sn(e=>(0,a_.isThrottlingError)(e)?"THROTTLING":(0,a_.isTransientError)(e)?"TRANSIENT":(0,a_.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Irt={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},zVr=sn(e=>({applyToStack:sn(t=>{t.add(Trt(e),Irt)},"applyToStack")}),"getRetryPlugin"),Ort=sn(e=>{if(!PA.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Cce=E(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.resolveHttpAuthSchemeConfig=c_.defaultCognitoIdentityProviderHttpAuthSchemeProvider=c_.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider=void 0;var HVr=(ii(),F(Mc)),Ece=Oc(),VVr=async(e,t,r)=>({operation:(0,Ece.getSmithyContext)(t).operation,region:await(0,Ece.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});c_.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider=VVr;function GVr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-idp",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Wr(e){return{schemeId:"smithy.api#noAuth"}}var WVr=e=>{let t=[];switch(e.operation){case"AssociateSoftwareToken":{t.push(Wr(e));break}case"ChangePassword":{t.push(Wr(e));break}case"CompleteWebAuthnRegistration":{t.push(Wr(e));break}case"ConfirmDevice":{t.push(Wr(e));break}case"ConfirmForgotPassword":{t.push(Wr(e));break}case"ConfirmSignUp":{t.push(Wr(e));break}case"DeleteUser":{t.push(Wr(e));break}case"DeleteUserAttributes":{t.push(Wr(e));break}case"DeleteWebAuthnCredential":{t.push(Wr(e));break}case"ForgetDevice":{t.push(Wr(e));break}case"ForgotPassword":{t.push(Wr(e));break}case"GetDevice":{t.push(Wr(e));break}case"GetUser":{t.push(Wr(e));break}case"GetUserAttributeVerificationCode":{t.push(Wr(e));break}case"GetUserAuthFactors":{t.push(Wr(e));break}case"GlobalSignOut":{t.push(Wr(e));break}case"InitiateAuth":{t.push(Wr(e));break}case"ListDevices":{t.push(Wr(e));break}case"ListWebAuthnCredentials":{t.push(Wr(e));break}case"ResendConfirmationCode":{t.push(Wr(e));break}case"RespondToAuthChallenge":{t.push(Wr(e));break}case"RevokeToken":{t.push(Wr(e));break}case"SetUserMFAPreference":{t.push(Wr(e));break}case"SetUserSettings":{t.push(Wr(e));break}case"SignUp":{t.push(Wr(e));break}case"StartWebAuthnRegistration":{t.push(Wr(e));break}case"UpdateAuthEventFeedback":{t.push(Wr(e));break}case"UpdateDeviceStatus":{t.push(Wr(e));break}case"UpdateUserAttributes":{t.push(Wr(e));break}case"VerifySoftwareToken":{t.push(Wr(e));break}case"VerifyUserAttribute":{t.push(Wr(e));break}default:t.push(GVr(e))}return t};c_.defaultCognitoIdentityProviderHttpAuthSchemeProvider=WVr;var KVr=e=>{let t=(0,HVr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ece.normalizeProvider)(e.authSchemePreference??[])})};c_.resolveHttpAuthSchemeConfig=KVr});var OD={};ct(OD,{__addDisposableResource:()=>nnt,__assign:()=>SG,__asyncDelegator:()=>Xrt,__asyncGenerator:()=>Krt,__asyncValues:()=>Jrt,__await:()=>RA,__awaiter:()=>$rt,__classPrivateFieldGet:()=>ent,__classPrivateFieldIn:()=>rnt,__classPrivateFieldSet:()=>tnt,__createBinding:()=>EG,__decorate:()=>Mrt,__disposeResources:()=>snt,__esDecorate:()=>Urt,__exportStar:()=>Hrt,__extends:()=>Drt,__generator:()=>zrt,__importDefault:()=>Zrt,__importStar:()=>Yrt,__makeTemplateObject:()=>Qrt,__metadata:()=>jrt,__param:()=>Lrt,__propKey:()=>Brt,__read:()=>Ace,__rest:()=>krt,__rewriteRelativeImportExtension:()=>int,__runInitializers:()=>Frt,__setFunctionName:()=>qrt,__spread:()=>Vrt,__spreadArray:()=>Wrt,__spreadArrays:()=>Grt,__values:()=>vG,default:()=>QVr});function Drt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bce(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function krt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Mrt(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Lrt(e,t){return function(r,n){t(r,n,e)}}function Urt(e,t,r,n,s,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,m=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var b=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(u=o(b.get))&&(d.get=u),(u=o(b.set))&&(d.set=u),(u=o(b.init))&&s.unshift(u)}else(u=o(b))&&(a==="field"?s.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),m=!0}function Frt(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Brt(e){return typeof e=="symbol"?e:"".concat(e)}function qrt(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function jrt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $rt(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{l(n.next(d))}catch(u){o(u)}}function c(d){try{l(n.throw(d))}catch(u){o(u)}}function l(d){d.done?i(d.value):s(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function zrt(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Hrt(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EG(t,e,r)}function vG(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ace(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Vrt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ace(arguments[t]));return e}function Grt(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Wrt(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function RA(e){return this instanceof RA?(this.v=e,this):new RA(e)}function Krt(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,u)}}function a(p,g){n[p]&&(s[p]=function(y){return new Promise(function(b,w){i.push([p,y,b,w])>1||c(p,y)})},g&&(s[p]=g(s[p])))}function c(p,g){try{l(n[p](g))}catch(y){m(i[0][3],y)}}function l(p){p.value instanceof RA?Promise.resolve(p.value.v).then(d,u):m(i[0][2],p)}function d(p){c("next",p)}function u(p){c("throw",p)}function m(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Xrt(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:RA(e[s](o)),done:!1}:i?i(o):o}:i}}function Jrt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vG=="function"?vG(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Qrt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Yrt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=wce(e),n=0;n<r.length;n++)r[n]!=="default"&&EG(t,e,r[n]);return XVr(t,e),t}function Zrt(e){return e&&e.__esModule?e:{default:e}}function ent(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function tnt(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function rnt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function nnt(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function snt(e){function t(i){e.error=e.hasError?new JVr(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function int(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var bce,SG,EG,XVr,wce,JVr,QVr,ND=_(()=>{bce=function(e,t){return bce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},bce(e,t)};SG=function(){return SG=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},SG.apply(this,arguments)};EG=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};XVr=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},wce=function(e){return wce=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},wce(e)};JVr=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};QVr={__extends:Drt,__assign:SG,__rest:krt,__decorate:Mrt,__param:Lrt,__esDecorate:Urt,__runInitializers:Frt,__propKey:Brt,__setFunctionName:qrt,__metadata:jrt,__awaiter:$rt,__generator:zrt,__createBinding:EG,__exportStar:Hrt,__values:vG,__read:Ace,__spread:Vrt,__spreadArrays:Grt,__spreadArray:Wrt,__await:RA,__asyncGenerator:Krt,__asyncDelegator:Xrt,__asyncValues:Jrt,__makeTemplateObject:Qrt,__importStar:Yrt,__importDefault:Zrt,__classPrivateFieldGet:ent,__classPrivateFieldSet:tnt,__classPrivateFieldIn:rnt,__addDisposableResource:nnt,__disposeResources:snt,__rewriteRelativeImportExtension:int}});var ont=E((vSs,YVr)=>{YVr.exports={name:"@aws-sdk/client-cognito-identity-provider",description:"AWS SDK for JavaScript Cognito Identity Provider Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity-provider","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity-provider"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/credential-provider-node":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity-provider",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity-provider"}}});var xce=E((ESs,pnt)=>{"use strict";var CG=Object.defineProperty,ZVr=Object.getOwnPropertyDescriptor,eGr=Object.getOwnPropertyNames,tGr=Object.prototype.hasOwnProperty,rGr=(e,t)=>CG(e,"name",{value:t,configurable:!0}),nGr=(e,t)=>{for(var r in t)CG(e,r,{get:t[r],enumerable:!0})},sGr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eGr(t))!tGr.call(e,s)&&s!==r&&CG(e,s,{get:()=>t[s],enumerable:!(n=ZVr(t,s))||n.enumerable});return e},iGr=e=>sGr(CG({},"__esModule",{value:!0}),e),ant={};nGr(ant,{ENV_ACCOUNT_ID:()=>fnt,ENV_CREDENTIAL_SCOPE:()=>mnt,ENV_EXPIRATION:()=>unt,ENV_KEY:()=>cnt,ENV_SECRET:()=>lnt,ENV_SESSION:()=>dnt,fromEnv:()=>cGr});pnt.exports=iGr(ant);var oGr=(nm(),F(Zy)),aGr=cc(),cnt="AWS_ACCESS_KEY_ID",lnt="AWS_SECRET_ACCESS_KEY",dnt="AWS_SESSION_TOKEN",unt="AWS_CREDENTIAL_EXPIRATION",mnt="AWS_CREDENTIAL_SCOPE",fnt="AWS_ACCOUNT_ID",cGr=rGr(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[cnt],r=process.env[lnt],n=process.env[dnt],s=process.env[unt],i=process.env[mnt],o=process.env[fnt];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,oGr.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new aGr.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var DD=E((CSs,Rnt)=>{var AG=Object.defineProperty,lGr=Object.getOwnPropertyDescriptor,dGr=Object.getOwnPropertyNames,uGr=Object.prototype.hasOwnProperty,qn=(e,t)=>AG(e,"name",{value:t,configurable:!0}),mGr=(e,t)=>{for(var r in t)AG(e,r,{get:t[r],enumerable:!0})},fGr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dGr(t))!uGr.call(e,s)&&s!==r&&AG(e,s,{get:()=>t[s],enumerable:!(n=lGr(t,s))||n.enumerable});return e},pGr=e=>fGr(AG({},"__esModule",{value:!0}),e),_nt={};mGr(_nt,{DEFAULT_MAX_RETRIES:()=>Cnt,DEFAULT_TIMEOUT:()=>Ent,ENV_CMDS_AUTH_TOKEN:()=>Tce,ENV_CMDS_FULL_URI:()=>bG,ENV_CMDS_RELATIVE_URI:()=>wG,Endpoint:()=>wnt,fromContainerMetadata:()=>_Gr,fromInstanceMetadata:()=>BGr,getInstanceMetadataEndpoint:()=>xnt,httpRequest:()=>TA,providerConfigFromInit:()=>Ice});Rnt.exports=pGr(_nt);var gGr=require("url"),pf=cc(),hGr=require("buffer"),yGr=require("http");function TA(e){return new Promise((t,r)=>{let n=(0,yGr.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new pf.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new pf.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new pf.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(hGr.Buffer.concat(o)),n.destroy()})}),n.end()})}qn(TA,"httpRequest");var Snt=qn(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),vnt=qn(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),Ent=1e3,Cnt=0,Ice=qn(({maxRetries:e=Cnt,timeout:t=Ent})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Rce=qn((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),bG="AWS_CONTAINER_CREDENTIALS_FULL_URI",wG="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Tce="AWS_CONTAINER_AUTHORIZATION_TOKEN",_Gr=qn((e={})=>{let{timeout:t,maxRetries:r}=Ice(e);return()=>Rce(async()=>{let n=await bGr({logger:e.logger}),s=JSON.parse(await SGr(t,n));if(!Snt(s))throw new pf.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return vnt(s)},r)},"fromContainerMetadata"),SGr=qn(async(e,t)=>(process.env[Tce]&&(t.headers={...t.headers,Authorization:process.env[Tce]}),(await TA({...t,timeout:e})).toString()),"requestFromEcsImds"),vGr="169.254.170.2",EGr={localhost:!0,"127.0.0.1":!0},CGr={"http:":!0,"https:":!0},bGr=qn(async({logger:e})=>{if(process.env[wG])return{hostname:vGr,path:process.env[wG]};if(process.env[bG]){let t=(0,gGr.parse)(process.env[bG]);if(!t.hostname||!(t.hostname in EGr))throw new pf.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in CGr))throw new pf.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new pf.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${wG} or ${bG} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),wGr=class bnt extends pf.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,bnt.prototype)}static{qn(this,"InstanceMetadataV1FallbackError")}},Oce=Sg(),AGr=o_(),wnt=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(wnt||{}),xGr="AWS_EC2_METADATA_SERVICE_ENDPOINT",PGr="ec2_metadata_service_endpoint",RGr={environmentVariableSelector:qn(e=>e[xGr],"environmentVariableSelector"),configFileSelector:qn(e=>e[PGr],"configFileSelector"),default:void 0},Ant=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(Ant||{}),TGr="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",IGr="ec2_metadata_service_endpoint_mode",OGr={environmentVariableSelector:qn(e=>e[TGr],"environmentVariableSelector"),configFileSelector:qn(e=>e[IGr],"configFileSelector"),default:"IPv4"},xnt=qn(async()=>(0,AGr.parseUrl)(await NGr()||await DGr()),"getInstanceMetadataEndpoint"),NGr=qn(async()=>(0,Oce.loadConfig)(RGr)(),"getFromEndpointConfig"),DGr=qn(async()=>{let e=await(0,Oce.loadConfig)(OGr)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Ant)}`)}},"getFromEndpointModeConfig"),kGr=5*60,MGr=5*60,LGr="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",gnt=qn((e,t)=>{let r=kGr+Math.floor(Math.random()*MGr),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+LGr);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),UGr=qn((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=gnt(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=gnt(n,r);else throw i}return n=s,s}},"staticStabilityProvider"),Pnt="/latest/meta-data/iam/security-credentials/",FGr="/latest/api/token",Pce="AWS_EC2_METADATA_V1_DISABLED",hnt="ec2_metadata_v1_disabled",ynt="x-aws-ec2-metadata-token",BGr=qn((e={})=>UGr(qGr(e),{logger:e.logger}),"fromInstanceMetadata"),qGr=qn((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=Ice(e),o=qn(async(a,c)=>{if(t||c.headers?.[ynt]==null){let u=!1,m=!1,p=await(0,Oce.loadConfig)({environmentVariableSelector:qn(g=>{let y=g[Pce];if(m=!!y&&y!=="false",y===void 0)throw new pf.CredentialsProviderError(`${Pce} not set in env, checking config file next.`,{logger:e.logger});return m},"environmentVariableSelector"),configFileSelector:qn(g=>{let y=g[hnt];return u=!!y&&y!=="false",u},"configFileSelector"),default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${hnt})`),m&&g.push(`process environment variable (${Pce})`),new wGr(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let d=(await Rce(async()=>{let u;try{u=await $Gr(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return u},a)).trim();return Rce(async()=>{let u;try{u=await zGr(d,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return u},a)},"getCredentials");return async()=>{let a=await xnt();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await jGr({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[ynt]:c},timeout:s})}}},"getInstanceMetadataProvider"),jGr=qn(async e=>TA({...e,path:FGr,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),$Gr=qn(async e=>(await TA({...e,path:Pnt})).toString(),"getProfile"),zGr=qn(async(e,t,r)=>{let n=JSON.parse((await TA({...t,path:Pnt+e})).toString());if(!Snt(n))throw new pf.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return vnt(n)},"getCredentialsFromProfile")});var Tnt=E(xG=>{"use strict";Object.defineProperty(xG,"__esModule",{value:!0});xG.checkUrl=void 0;var HGr=cc(),VGr="169.254.170.2",GGr="169.254.170.23",WGr="[fd00:ec2::23]",KGr=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===VGr||e.hostname===GGr||e.hostname===WGr)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new HGr.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};xG.checkUrl=KGr});var Int=E(PG=>{"use strict";Object.defineProperty(PG,"__esModule",{value:!0});PG.createGetRequest=YGr;PG.getCredentials=ZGr;var Nce=cc(),XGr=pn(),JGr=bt(),QGr=eV();function YGr(e){return new XGr.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function ZGr(e,t){let n=await(0,QGr.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Nce.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,JGr.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Nce.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Nce.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var Ont=E(RG=>{"use strict";Object.defineProperty(RG,"__esModule",{value:!0});RG.retryWrapper=void 0;var e3r=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};RG.retryWrapper=e3r});var knt=E(TG=>{"use strict";Object.defineProperty(TG,"__esModule",{value:!0});TG.fromHttp=void 0;var t3r=(ND(),F(OD)),r3r=(nm(),F(Zy)),n3r=Wy(),Nnt=cc(),s3r=t3r.__importDefault(require("fs/promises")),i3r=Tnt(),Dnt=Int(),o3r=Ont(),a3r="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",c3r="http://169.254.170.2",l3r="AWS_CONTAINER_CREDENTIALS_FULL_URI",d3r="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",u3r="AWS_CONTAINER_AUTHORIZATION_TOKEN",m3r=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[a3r],n=e.awsContainerCredentialsFullUri??process.env[l3r],s=e.awsContainerAuthorizationToken??process.env[u3r],i=e.awsContainerAuthorizationTokenFile??process.env[d3r],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${c3r}${r}`;else throw new Nnt.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,i3r.checkUrl)(a,e.logger);let c=new n3r.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,o3r.retryWrapper)(async()=>{let l=(0,Dnt.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await s3r.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,Dnt.getCredentials)(d.response).then(u=>(0,r3r.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new Nnt.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};TG.fromHttp=m3r});var Dce=E(IG=>{"use strict";Object.defineProperty(IG,"__esModule",{value:!0});IG.fromHttp=void 0;var f3r=knt();Object.defineProperty(IG,"fromHttp",{enumerable:!0,get:function(){return f3r.fromHttp}})});var Mce=E(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.resolveHttpAuthSchemeConfig=l_.defaultSSOHttpAuthSchemeProvider=l_.defaultSSOHttpAuthSchemeParametersProvider=void 0;var p3r=(ii(),F(Mc)),kce=Oc(),g3r=async(e,t,r)=>({operation:(0,kce.getSmithyContext)(t).operation,region:await(0,kce.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});l_.defaultSSOHttpAuthSchemeParametersProvider=g3r;function h3r(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function OG(e){return{schemeId:"smithy.api#noAuth"}}var y3r=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(OG(e));break}case"ListAccountRoles":{t.push(OG(e));break}case"ListAccounts":{t.push(OG(e));break}case"Logout":{t.push(OG(e));break}default:t.push(h3r(e))}return t};l_.defaultSSOHttpAuthSchemeProvider=y3r;var _3r=e=>{let t=(0,p3r.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,kce.normalizeProvider)(e.authSchemePreference??[])})};l_.resolveHttpAuthSchemeConfig=_3r});var Mnt=E((TSs,S3r)=>{S3r.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var IA=E((ISs,$nt)=>{"use strict";var DG=Object.defineProperty,v3r=Object.getOwnPropertyDescriptor,E3r=Object.getOwnPropertyNames,C3r=Object.prototype.hasOwnProperty,NG=(e,t)=>DG(e,"name",{value:t,configurable:!0}),b3r=(e,t)=>{for(var r in t)DG(e,r,{get:t[r],enumerable:!0})},w3r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of E3r(t))!C3r.call(e,s)&&s!==r&&DG(e,s,{get:()=>t[s],enumerable:!(n=v3r(t,s))||n.enumerable});return e},A3r=e=>w3r(DG({},"__esModule",{value:!0}),e),Unt={};b3r(Unt,{NODE_APP_ID_CONFIG_OPTIONS:()=>I3r,UA_APP_ID_ENV_NAME:()=>qnt,UA_APP_ID_INI_NAME:()=>jnt,createDefaultUserAgentProvider:()=>Bnt,crtAvailability:()=>Fnt,defaultUserAgent:()=>P3r});$nt.exports=A3r(Unt);var Lnt=require("os"),Lce=require("process"),Fnt={isCrtAvailable:!1},x3r=NG(()=>Fnt.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Bnt=NG(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,Lnt.platform)()}`,(0,Lnt.release)()],["lang/js"],["md/nodejs",`${Lce.versions.node}`]],s=x3r();s&&n.push(s),e&&n.push([`api/${e}`,t]),Lce.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Lce.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),P3r=Bnt,R3r=hE(),qnt="AWS_SDK_UA_APP_ID",jnt="sdk_ua_app_id",T3r="sdk-ua-app-id",I3r={environmentVariableSelector:NG(e=>e[qnt],"environmentVariableSelector"),configFileSelector:NG(e=>e[jnt]??e[T3r],"configFileSelector"),default:R3r.DEFAULT_UA_APP_ID}});var OA=E((OSs,Gnt)=>{var kG=Object.defineProperty,O3r=Object.getOwnPropertyDescriptor,N3r=Object.getOwnPropertyNames,D3r=Object.prototype.hasOwnProperty,Hnt=(e,t)=>kG(e,"name",{value:t,configurable:!0}),k3r=(e,t)=>{for(var r in t)kG(e,r,{get:t[r],enumerable:!0})},M3r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of N3r(t))!D3r.call(e,s)&&s!==r&&kG(e,s,{get:()=>t[s],enumerable:!(n=O3r(t,s))||n.enumerable});return e},L3r=e=>M3r(kG({},"__esModule",{value:!0}),e),Vnt={};k3r(Vnt,{Hash:()=>B3r});Gnt.exports=L3r(Vnt);var Uce=mA(),U3r=Zi(),F3r=require("buffer"),znt=require("crypto"),B3r=class{static{Hnt(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,U3r.toUint8Array)(Fce(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,znt.createHmac)(this.algorithmIdentifier,Fce(this.secret)):(0,znt.createHash)(this.algorithmIdentifier)}};function Fce(e,t){return F3r.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Uce.fromString)(e,t):ArrayBuffer.isView(e)?(0,Uce.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Uce.fromArrayBuffer)(e)}Hnt(Fce,"castSourceData")});var NA=E((DSs,Xnt)=>{var MG=Object.defineProperty,q3r=Object.getOwnPropertyDescriptor,j3r=Object.getOwnPropertyNames,$3r=Object.prototype.hasOwnProperty,z3r=(e,t)=>MG(e,"name",{value:t,configurable:!0}),H3r=(e,t)=>{for(var r in t)MG(e,r,{get:t[r],enumerable:!0})},V3r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j3r(t))!$3r.call(e,s)&&s!==r&&MG(e,s,{get:()=>t[s],enumerable:!(n=q3r(t,s))||n.enumerable});return e},G3r=e=>V3r(MG({},"__esModule",{value:!0}),e),Knt={};H3r(Knt,{calculateBodyLength:()=>W3r});Xnt.exports=G3r(Knt);var Wnt=require("fs"),W3r=z3r(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Wnt.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Wnt.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var dst=E(LG=>{"use strict";Object.defineProperty(LG,"__esModule",{value:!0});LG.ruleSet=void 0;var ost="required",$d="fn",zd="argv",MA="ref",Jnt=!0,Qnt="isSet",kD="booleanEquals",DA="error",kA="endpoint",Eg="tree",Bce="PartitionResult",qce="getAttr",Ynt={[ost]:!1,type:"String"},Znt={[ost]:!0,default:!1,type:"Boolean"},est={[MA]:"Endpoint"},ast={[$d]:kD,[zd]:[{[MA]:"UseFIPS"},!0]},cst={[$d]:kD,[zd]:[{[MA]:"UseDualStack"},!0]},jd={},tst={[$d]:qce,[zd]:[{[MA]:Bce},"supportsFIPS"]},lst={[MA]:Bce},rst={[$d]:kD,[zd]:[!0,{[$d]:qce,[zd]:[lst,"supportsDualStack"]}]},nst=[ast],sst=[cst],ist=[{[MA]:"Region"}],K3r={version:"1.0",parameters:{Region:Ynt,UseDualStack:Znt,UseFIPS:Znt,Endpoint:Ynt},rules:[{conditions:[{[$d]:Qnt,[zd]:[est]}],rules:[{conditions:nst,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:DA},{conditions:sst,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:DA},{endpoint:{url:est,properties:jd,headers:jd},type:kA}],type:Eg},{conditions:[{[$d]:Qnt,[zd]:ist}],rules:[{conditions:[{[$d]:"aws.partition",[zd]:ist,assign:Bce}],rules:[{conditions:[ast,cst],rules:[{conditions:[{[$d]:kD,[zd]:[Jnt,tst]},rst],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jd,headers:jd},type:kA}],type:Eg},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:DA}],type:Eg},{conditions:nst,rules:[{conditions:[{[$d]:kD,[zd]:[tst,Jnt]}],rules:[{conditions:[{[$d]:"stringEquals",[zd]:[{[$d]:qce,[zd]:[lst,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:jd,headers:jd},type:kA},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:jd,headers:jd},type:kA}],type:Eg},{error:"FIPS is enabled but this partition does not support FIPS",type:DA}],type:Eg},{conditions:sst,rules:[{conditions:[rst],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jd,headers:jd},type:kA}],type:Eg},{error:"DualStack is enabled but this partition does not support DualStack",type:DA}],type:Eg},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:jd,headers:jd},type:kA}],type:Eg}],type:Eg},{error:"Invalid Configuration: Missing Region",type:DA}]};LG.ruleSet=K3r});var ust=E(UG=>{"use strict";Object.defineProperty(UG,"__esModule",{value:!0});UG.defaultEndpointResolver=void 0;var X3r=aE(),jce=oE(),J3r=dst(),Q3r=new jce.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Y3r=(e,t={})=>Q3r.get(e,()=>(0,jce.resolveEndpoint)(J3r.ruleSet,{endpointParams:e,logger:t.logger}));UG.defaultEndpointResolver=Y3r;jce.customEndpointFunctions.aws=X3r.awsEndpointFunctions});var pst=E(FG=>{"use strict";Object.defineProperty(FG,"__esModule",{value:!0});FG.getRuntimeConfig=void 0;var Z3r=(ii(),F(Mc)),e2r=(va(),F(Qy)),t2r=bt(),r2r=o_(),mst=Sa(),fst=Zi(),n2r=Mce(),s2r=ust(),i2r=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??mst.fromBase64,base64Encoder:e?.base64Encoder??mst.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??s2r.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??n2r.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Z3r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e2r.NoAuthSigner}],logger:e?.logger??new t2r.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??r2r.parseUrl,utf8Decoder:e?.utf8Decoder??fst.fromUtf8,utf8Encoder:e?.utf8Encoder??fst.toUtf8});FG.getRuntimeConfig=i2r});var LA=E((USs,vst)=>{var o2r=Object.create,LD=Object.defineProperty,a2r=Object.getOwnPropertyDescriptor,c2r=Object.getOwnPropertyNames,l2r=Object.getPrototypeOf,d2r=Object.prototype.hasOwnProperty,MD=(e,t)=>LD(e,"name",{value:t,configurable:!0}),u2r=(e,t)=>{for(var r in t)LD(e,r,{get:t[r],enumerable:!0})},_st=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of c2r(t))!d2r.call(e,s)&&s!==r&&LD(e,s,{get:()=>t[s],enumerable:!(n=a2r(t,s))||n.enumerable});return e},m2r=(e,t,r)=>(r=e!=null?o2r(l2r(e)):{},_st(t||!e||!e.__esModule?LD(r,"default",{value:e,enumerable:!0}):r,e)),f2r=e=>_st(LD({},"__esModule",{value:!0}),e),Sst={};u2r(Sst,{resolveDefaultsModeConfig:()=>b2r});vst.exports=f2r(Sst);var p2r=Bd(),gst=Sg(),g2r=cc(),h2r="AWS_EXECUTION_ENV",hst="AWS_REGION",yst="AWS_DEFAULT_REGION",y2r="AWS_EC2_METADATA_DISABLED",_2r=["in-region","cross-region","mobile","standard","legacy"],S2r="/latest/meta-data/placement/region",v2r="AWS_DEFAULTS_MODE",E2r="defaults_mode",C2r={environmentVariableSelector:MD(e=>e[v2r],"environmentVariableSelector"),configFileSelector:MD(e=>e[E2r],"configFileSelector"),default:"legacy"},b2r=MD(({region:e=(0,gst.loadConfig)(p2r.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,gst.loadConfig)(C2r)}={})=>(0,g2r.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return w2r(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${_2r.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),w2r=MD(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await A2r();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),A2r=MD(async()=>{if(process.env[h2r]&&(process.env[hst]||process.env[yst]))return process.env[hst]??process.env[yst];if(!process.env[y2r])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>m2r(DD())),r=await e();return(await t({...r,path:S2r})).toString()}catch{}},"inferPhysicalRegion")});var Ast=E(qG=>{"use strict";Object.defineProperty(qG,"__esModule",{value:!0});qG.getRuntimeConfig=void 0;var x2r=(ND(),F(OD)),P2r=x2r.__importDefault(Mnt()),Est=(ii(),F(Mc)),Cst=IA(),BG=Bd(),R2r=OA(),bst=im(),vE=Sg(),wst=Wy(),T2r=NA(),I2r=SE(),O2r=pst(),N2r=bt(),D2r=LA(),k2r=bt(),M2r=e=>{(0,k2r.emitWarningIfUnsupportedVersion)(process.version);let t=(0,D2r.resolveDefaultsModeConfig)(e),r=()=>t().then(N2r.loadConfigsForDefaultMode),n=(0,O2r.getRuntimeConfig)(e);(0,Est.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,vE.loadConfig)(Est.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??T2r.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Cst.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:P2r.default.version}),maxAttempts:e?.maxAttempts??(0,vE.loadConfig)(bst.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,vE.loadConfig)(BG.NODE_REGION_CONFIG_OPTIONS,{...BG.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:wst.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,vE.loadConfig)({...bst.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||I2r.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??R2r.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??wst.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,vE.loadConfig)(BG.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,vE.loadConfig)(BG.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,vE.loadConfig)(Cst.NODE_APP_ID_CONFIG_OPTIONS,s)}};qG.getRuntimeConfig=M2r});var UA=E((BSs,Ost)=>{"use strict";var jG=Object.defineProperty,L2r=Object.getOwnPropertyDescriptor,U2r=Object.getOwnPropertyNames,F2r=Object.prototype.hasOwnProperty,gf=(e,t)=>jG(e,"name",{value:t,configurable:!0}),B2r=(e,t)=>{for(var r in t)jG(e,r,{get:t[r],enumerable:!0})},q2r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of U2r(t))!F2r.call(e,s)&&s!==r&&jG(e,s,{get:()=>t[s],enumerable:!(n=L2r(t,s))||n.enumerable});return e},j2r=e=>q2r(jG({},"__esModule",{value:!0}),e),Pst={};B2r(Pst,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>V2r,NODE_REGION_CONFIG_OPTIONS:()=>H2r,REGION_ENV_NAME:()=>Rst,REGION_INI_NAME:()=>Tst,getAwsRegionExtensionConfiguration:()=>$2r,resolveAwsRegionExtensionConfiguration:()=>z2r,resolveRegionConfig:()=>G2r});Ost.exports=j2r(Pst);var $2r=gf(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),z2r=gf(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Rst="AWS_REGION",Tst="region",H2r={environmentVariableSelector:gf(e=>e[Rst],"environmentVariableSelector"),configFileSelector:gf(e=>e[Tst],"configFileSelector"),default:gf(()=>{throw new Error("Region is missing")},"default")},V2r={preferredFile:"credentials"},Ist=gf(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),xst=gf(e=>Ist(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),G2r=gf(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:gf(async()=>{if(typeof t=="string")return xst(t);let n=await t();return xst(n)},"region"),useFipsEndpoint:gf(async()=>{let n=typeof t=="string"?t:await t();return Ist(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var dit=E((qSs,lit)=>{"use strict";var $G=Object.defineProperty,W2r=Object.getOwnPropertyDescriptor,K2r=Object.getOwnPropertyNames,X2r=Object.prototype.hasOwnProperty,yr=(e,t)=>$G(e,"name",{value:t,configurable:!0}),J2r=(e,t)=>{for(var r in t)$G(e,r,{get:t[r],enumerable:!0})},Q2r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of K2r(t))!X2r.call(e,s)&&s!==r&&$G(e,s,{get:()=>t[s],enumerable:!(n=W2r(t,s))||n.enumerable});return e},Y2r=e=>Q2r($G({},"__esModule",{value:!0}),e),Fst={};J2r(Fst,{GetRoleCredentialsCommand:()=>oit,GetRoleCredentialsRequestFilterSensitiveLog:()=>Kst,GetRoleCredentialsResponseFilterSensitiveLog:()=>Jst,InvalidRequestException:()=>qst,ListAccountRolesCommand:()=>$ce,ListAccountRolesRequestFilterSensitiveLog:()=>Qst,ListAccountsCommand:()=>zce,ListAccountsRequestFilterSensitiveLog:()=>Yst,LogoutCommand:()=>ait,LogoutRequestFilterSensitiveLog:()=>Zst,ResourceNotFoundException:()=>$st,RoleCredentialsFilterSensitiveLog:()=>Xst,SSO:()=>cit,SSOClient:()=>HG,SSOServiceException:()=>FA,TooManyRequestsException:()=>Hst,UnauthorizedException:()=>Gst,__Client:()=>je.Client,paginateListAccountRoles:()=>w4r,paginateListAccounts:()=>A4r});lit.exports=Y2r(Fst);var Nst=lA(),Z2r=dA(),e4r=uA(),Dst=hE(),t4r=Bd(),Cg=(va(),F(Qy)),r4r=wA(),FD=vg(),kst=im(),Mst=Mce(),n4r=yr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),zG={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},s4r=Ast(),Lst=UA(),Ust=pn(),je=bt(),i4r=yr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),o4r=yr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),a4r=yr((e,t)=>{let r=Object.assign((0,Lst.getAwsRegionExtensionConfiguration)(e),(0,je.getDefaultExtensionConfiguration)(e),(0,Ust.getHttpHandlerExtensionConfiguration)(e),i4r(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Lst.resolveAwsRegionExtensionConfiguration)(r),(0,je.resolveDefaultRuntimeConfig)(r),(0,Ust.resolveHttpHandlerRuntimeConfig)(r),o4r(r))},"resolveRuntimeExtensions"),HG=class extends je.Client{static{yr(this,"SSOClient")}config;constructor(...[e]){let t=(0,s4r.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=n4r(t),n=(0,Dst.resolveUserAgentConfig)(r),s=(0,kst.resolveRetryConfig)(n),i=(0,t4r.resolveRegionConfig)(s),o=(0,Nst.resolveHostHeaderConfig)(i),a=(0,FD.resolveEndpointConfig)(o),c=(0,Mst.resolveHttpAuthSchemeConfig)(a),l=a4r(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,Dst.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,kst.getRetryPlugin)(this.config)),this.middlewareStack.use((0,r4r.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Nst.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Z2r.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,e4r.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Cg.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Mst.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:yr(async d=>new Cg.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Cg.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},VG=dg(),FA=class Bst extends je.ServiceException{static{yr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Bst.prototype)}},qst=class jst extends FA{static{yr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,jst.prototype)}},$st=class zst extends FA{static{yr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,zst.prototype)}},Hst=class Vst extends FA{static{yr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,Vst.prototype)}},Gst=class Wst extends FA{static{yr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,Wst.prototype)}},Kst=yr(e=>({...e,...e.accessToken&&{accessToken:je.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),Xst=yr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:je.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:je.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),Jst=yr(e=>({...e,...e.roleCredentials&&{roleCredentials:Xst(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),Qst=yr(e=>({...e,...e.accessToken&&{accessToken:je.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),Yst=yr(e=>({...e,...e.accessToken&&{accessToken:je.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),Zst=yr(e=>({...e,...e.accessToken&&{accessToken:je.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),UD=(ii(),F(Mc)),c4r=yr(async(e,t)=>{let r=(0,Cg.requestBuilder)(e,t),n=(0,je.map)({},je.isSerializableHeaderValue,{[KG]:e[WG]});r.bp("/federation/credentials");let s=(0,je.map)({[C4r]:[,(0,je.expectNonNull)(e[E4r],"roleName")],[tit]:[,(0,je.expectNonNull)(e[eit],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),l4r=yr(async(e,t)=>{let r=(0,Cg.requestBuilder)(e,t),n=(0,je.map)({},je.isSerializableHeaderValue,{[KG]:e[WG]});r.bp("/assignment/roles");let s=(0,je.map)({[iit]:[,e[sit]],[nit]:[()=>e.maxResults!==void 0,()=>e[rit].toString()],[tit]:[,(0,je.expectNonNull)(e[eit],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),d4r=yr(async(e,t)=>{let r=(0,Cg.requestBuilder)(e,t),n=(0,je.map)({},je.isSerializableHeaderValue,{[KG]:e[WG]});r.bp("/assignment/accounts");let s=(0,je.map)({[iit]:[,e[sit]],[nit]:[()=>e.maxResults!==void 0,()=>e[rit].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),u4r=yr(async(e,t)=>{let r=(0,Cg.requestBuilder)(e,t),n=(0,je.map)({},je.isSerializableHeaderValue,{[KG]:e[WG]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),m4r=yr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return GG(e,t);let r=(0,je.map)({$metadata:d_(e)}),n=(0,je.expectNonNull)((0,je.expectObject)(await(0,UD.parseJsonBody)(e.body,t)),"body"),s=(0,je.take)(n,{roleCredentials:je._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),f4r=yr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return GG(e,t);let r=(0,je.map)({$metadata:d_(e)}),n=(0,je.expectNonNull)((0,je.expectObject)(await(0,UD.parseJsonBody)(e.body,t)),"body"),s=(0,je.take)(n,{nextToken:je.expectString,roleList:je._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),p4r=yr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return GG(e,t);let r=(0,je.map)({$metadata:d_(e)}),n=(0,je.expectNonNull)((0,je.expectObject)(await(0,UD.parseJsonBody)(e.body,t)),"body"),s=(0,je.take)(n,{accountList:je._json,nextToken:je.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),g4r=yr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return GG(e,t);let r=(0,je.map)({$metadata:d_(e)});return await(0,je.collectBody)(e.body,t),r},"de_LogoutCommand"),GG=yr(async(e,t)=>{let r={...e,body:await(0,UD.parseJsonErrorBody)(e.body,t)},n=(0,UD.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await y4r(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await _4r(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await S4r(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await v4r(r,t);default:let s=r.body;return h4r({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),h4r=(0,je.withBaseException)(FA),y4r=yr(async(e,t)=>{let r=(0,je.map)({}),n=e.body,s=(0,je.take)(n,{message:je.expectString});Object.assign(r,s);let i=new qst({$metadata:d_(e),...r});return(0,je.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),_4r=yr(async(e,t)=>{let r=(0,je.map)({}),n=e.body,s=(0,je.take)(n,{message:je.expectString});Object.assign(r,s);let i=new $st({$metadata:d_(e),...r});return(0,je.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),S4r=yr(async(e,t)=>{let r=(0,je.map)({}),n=e.body,s=(0,je.take)(n,{message:je.expectString});Object.assign(r,s);let i=new Hst({$metadata:d_(e),...r});return(0,je.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),v4r=yr(async(e,t)=>{let r=(0,je.map)({}),n=e.body,s=(0,je.take)(n,{message:je.expectString});Object.assign(r,s);let i=new Gst({$metadata:d_(e),...r});return(0,je.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),d_=yr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),eit="accountId",WG="accessToken",tit="account_id",rit="maxResults",nit="max_result",sit="nextToken",iit="next_token",E4r="roleName",C4r="role_name",KG="x-amz-sso_bearer_token",oit=class extends je.Command.classBuilder().ep(zG).m(function(e,t,r,n){return[(0,VG.getSerdePlugin)(r,this.serialize,this.deserialize),(0,FD.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(Kst,Jst).ser(c4r).de(m4r).build(){static{yr(this,"GetRoleCredentialsCommand")}},$ce=class extends je.Command.classBuilder().ep(zG).m(function(e,t,r,n){return[(0,VG.getSerdePlugin)(r,this.serialize,this.deserialize),(0,FD.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(Qst,void 0).ser(l4r).de(f4r).build(){static{yr(this,"ListAccountRolesCommand")}},zce=class extends je.Command.classBuilder().ep(zG).m(function(e,t,r,n){return[(0,VG.getSerdePlugin)(r,this.serialize,this.deserialize),(0,FD.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(Yst,void 0).ser(d4r).de(p4r).build(){static{yr(this,"ListAccountsCommand")}},ait=class extends je.Command.classBuilder().ep(zG).m(function(e,t,r,n){return[(0,VG.getSerdePlugin)(r,this.serialize,this.deserialize),(0,FD.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(Zst,void 0).ser(u4r).de(g4r).build(){static{yr(this,"LogoutCommand")}},b4r={GetRoleCredentialsCommand:oit,ListAccountRolesCommand:$ce,ListAccountsCommand:zce,LogoutCommand:ait},cit=class extends HG{static{yr(this,"SSO")}};(0,je.createAggregatedClient)(b4r,cit);var w4r=(0,Cg.createPaginator)(HG,$ce,"nextToken","nextToken","maxResults"),A4r=(0,Cg.createPaginator)(HG,zce,"nextToken","nextToken","maxResults")});function x4r(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function P4r(e){return{schemeId:"smithy.api#noAuth"}}var BD,uit,mit,fit,Hce=_(()=>{ii();BD=C(Oc()),uit=async(e,t,r)=>({operation:(0,BD.getSmithyContext)(t).operation,region:await(0,BD.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});mit=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(P4r(e));break}default:t.push(x4r(e))}return t},fit=e=>{let t=lE(e);return Object.assign(t,{authSchemePreference:(0,BD.normalizeProvider)(e.authSchemePreference??[])})}});var pit,git,Vce=_(()=>{pit=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),git={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var XG,Gce=_(()=>{XG={name:"@aws-sdk/nested-clients",version:"3.840.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Ait,Vd,Gd,jA,hit,qD,BA,qA,bg,Wce,Kce,yit,_it,Sit,xit,Pit,Hd,vit,Rit,Eit,Cit,bit,wit,T4r,Tit,Iit=_(()=>{Ait="required",Vd="fn",Gd="argv",jA="ref",hit="isSet",qD="booleanEquals",BA="error",qA="endpoint",bg="tree",Wce="PartitionResult",Kce="getAttr",yit={[Ait]:!1,type:"String"},_it={[Ait]:!0,default:!1,type:"Boolean"},Sit={[jA]:"Endpoint"},xit={[Vd]:qD,[Gd]:[{[jA]:"UseFIPS"},!0]},Pit={[Vd]:qD,[Gd]:[{[jA]:"UseDualStack"},!0]},Hd={},vit={[Vd]:Kce,[Gd]:[{[jA]:Wce},"supportsFIPS"]},Rit={[jA]:Wce},Eit={[Vd]:qD,[Gd]:[!0,{[Vd]:Kce,[Gd]:[Rit,"supportsDualStack"]}]},Cit=[xit],bit=[Pit],wit=[{[jA]:"Region"}],T4r={version:"1.0",parameters:{Region:yit,UseDualStack:_it,UseFIPS:_it,Endpoint:yit},rules:[{conditions:[{[Vd]:hit,[Gd]:[Sit]}],rules:[{conditions:Cit,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:BA},{conditions:bit,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:BA},{endpoint:{url:Sit,properties:Hd,headers:Hd},type:qA}],type:bg},{conditions:[{[Vd]:hit,[Gd]:wit}],rules:[{conditions:[{[Vd]:"aws.partition",[Gd]:wit,assign:Wce}],rules:[{conditions:[xit,Pit],rules:[{conditions:[{[Vd]:qD,[Gd]:[!0,vit]},Eit],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hd,headers:Hd},type:qA}],type:bg},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:BA}],type:bg},{conditions:Cit,rules:[{conditions:[{[Vd]:qD,[Gd]:[vit,!0]}],rules:[{conditions:[{[Vd]:"stringEquals",[Gd]:[{[Vd]:Kce,[Gd]:[Rit,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Hd,headers:Hd},type:qA},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Hd,headers:Hd},type:qA}],type:bg},{error:"FIPS is enabled but this partition does not support FIPS",type:BA}],type:bg},{conditions:bit,rules:[{conditions:[Eit],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hd,headers:Hd},type:qA}],type:bg},{error:"DualStack is enabled but this partition does not support DualStack",type:BA}],type:bg},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Hd,headers:Hd},type:qA}],type:bg}],type:bg},{error:"Invalid Configuration: Missing Region",type:BA}]},Tit=T4r});var Oit,$A,I4r,Nit,Dit=_(()=>{Oit=C(aE()),$A=C(oE());Iit();I4r=new $A.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Nit=(e,t={})=>I4r.get(e,()=>(0,$A.resolveEndpoint)(Tit,{endpointParams:e,logger:t.logger}));$A.customEndpointFunctions.aws=Oit.awsEndpointFunctions});var kit,Mit,JG,QG,Lit,Uit=_(()=>{ii();va();kit=C(bt()),Mit=C(o_()),JG=C(Sa()),QG=C(Zi());Hce();Dit();Lit=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??JG.fromBase64,base64Encoder:e?.base64Encoder??JG.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Nit,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??mit,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new kc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new gg}],logger:e?.logger??new kit.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Mit.parseUrl,utf8Decoder:e?.utf8Decoder??QG.fromUtf8,utf8Encoder:e?.utf8Encoder??QG.toUtf8})});var YG,m_,Fit,ZG,u_,e3,Bit,qit,jit,$it,zit,Hit,Vit=_(()=>{Gce();ii();YG=C(IA()),m_=C(Bd()),Fit=C(OA()),ZG=C(im()),u_=C(Sg()),e3=C(Wy()),Bit=C(NA()),qit=C(SE());Uit();jit=C(bt()),$it=C(LA()),zit=C(bt()),Hit=e=>{(0,zit.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$it.resolveDefaultsModeConfig)(e),r=()=>t().then(jit.loadConfigsForDefaultMode),n=Lit(e);_A(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,u_.loadConfig)(EA,s),bodyLengthChecker:e?.bodyLengthChecker??Bit.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,YG.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:XG.version}),maxAttempts:e?.maxAttempts??(0,u_.loadConfig)(ZG.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,u_.loadConfig)(m_.NODE_REGION_CONFIG_OPTIONS,{...m_.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:e3.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,u_.loadConfig)({...ZG.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qit.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Fit.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??e3.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,u_.loadConfig)(m_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,u_.loadConfig)(m_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,u_.loadConfig)(YG.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Git,Wit,Kit=_(()=>{Git=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Wit=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var t3,r3,n3,Xit,Jit=_(()=>{t3=C(UA()),r3=C(pn()),n3=C(bt());Kit();Xit=(e,t)=>{let r=Object.assign((0,t3.getAwsRegionExtensionConfiguration)(e),(0,n3.getDefaultExtensionConfiguration)(e),(0,r3.getHttpHandlerExtensionConfiguration)(e),Git(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,t3.resolveAwsRegionExtensionConfiguration)(r),(0,n3.resolveDefaultRuntimeConfig)(r),(0,r3.resolveHttpHandlerRuntimeConfig)(r),Wit(r))}});var s3,Qit,Yit,i3,Zit,eot,tot,o3,Xce,jD,Jce=_(()=>{s3=C(lA()),Qit=C(dA()),Yit=C(uA()),i3=C(hE()),Zit=C(Bd());va();eot=C(wA()),tot=C(vg()),o3=C(im()),Xce=C(bt());Hce();Vce();Vit();Jit();jD=class extends Xce.Client{config;constructor(...[t]){let r=Hit(t||{});super(r),this.initConfig=r;let n=pit(r),s=(0,i3.resolveUserAgentConfig)(n),i=(0,o3.resolveRetryConfig)(s),o=(0,Zit.resolveRegionConfig)(i),a=(0,s3.resolveHostHeaderConfig)(o),c=(0,tot.resolveEndpointConfig)(a),l=fit(c),d=Xit(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,i3.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,o3.getRetryPlugin)(this.config)),this.middlewareStack.use((0,eot.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,s3.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Qit.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Yit.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(WN(this.config,{httpAuthSchemeParametersProvider:uit,identityProviderConfigProvider:async u=>new iE({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(XN(this.config))}destroy(){super.destroy()}}});var rot,_o,a3=_(()=>{rot=C(bt()),_o=class e extends rot.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var EE,$D,zD,Qce,Yce,HD,VD,GD,WD,KD,XD,JD,QD,YD,c3=_(()=>{EE=C(bt());a3();$D=class e extends _o{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zD=class e extends _o{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qce=e=>({...e,...e.clientSecret&&{clientSecret:EE.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:EE.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:EE.SENSITIVE_STRING}}),Yce=e=>({...e,...e.accessToken&&{accessToken:EE.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:EE.SENSITIVE_STRING},...e.idToken&&{idToken:EE.SENSITIVE_STRING}}),HD=class e extends _o{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},VD=class e extends _o{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},GD=class e extends _o{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},WD=class e extends _o{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},KD=class e extends _o{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},XD=class e extends _o{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},JD=class e extends _o{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},QD=class e extends _o{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},YD=class e extends _o{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var we,not,sot,O4r,N4r,D4r,k4r,M4r,L4r,U4r,F4r,B4r,q4r,j4r,$4r,z4r,Wd,iot=_(()=>{ii();va();we=C(bt());c3();a3();not=async(e,t)=>{let r=uD(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,we.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,we._json)(i)})),r.m("POST").h(n).b(s),r.build()},sot=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return O4r(e,t);let r=(0,we.map)({$metadata:Wd(e)}),n=(0,we.expectNonNull)((0,we.expectObject)(await bA(e.body,t)),"body"),s=(0,we.take)(n,{accessToken:we.expectString,expiresIn:we.expectInt32,idToken:we.expectString,refreshToken:we.expectString,tokenType:we.expectString});return Object.assign(r,s),r},O4r=async(e,t)=>{let r={...e,body:await Tae(e.body,t)},n=uE(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await D4r(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await k4r(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await M4r(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await L4r(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await U4r(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await F4r(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await B4r(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await q4r(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await j4r(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await $4r(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await z4r(r,t);default:let s=r.body;return N4r({output:e,parsedBody:s,errorCode:n})}},N4r=(0,we.withBaseException)(_o),D4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new $D({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},k4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new zD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},M4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new HD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},L4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new VD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},U4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new GD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},F4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new WD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},B4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new KD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},q4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new XD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},j4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new JD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},$4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new QD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},z4r=async(e,t)=>{let r=(0,we.map)({}),n=e.body,s=(0,we.take)(n,{error:we.expectString,error_description:we.expectString});Object.assign(r,s);let i=new YD({$metadata:Wd(e),...r});return(0,we.decorateServiceException)(i,e.body)},Wd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var oot,aot,Zce,ZD,ele=_(()=>{oot=C(vg()),aot=C(dg()),Zce=C(bt());Vce();c3();iot();ZD=class extends Zce.Command.classBuilder().ep(git).m(function(t,r,n,s){return[(0,aot.getSerdePlugin)(n,this.serialize,this.deserialize),(0,oot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Qce,Yce).ser(not).de(sot).build(){}});var cot,H4r,l3,lot=_(()=>{cot=C(bt());ele();Jce();H4r={CreateTokenCommand:ZD},l3=class extends jD{};(0,cot.createAggregatedClient)(H4r,l3)});var dot=_(()=>{ele()});var uot=_(()=>{c3()});var tle={};ct(tle,{$Command:()=>Zce.Command,AccessDeniedException:()=>$D,AuthorizationPendingException:()=>zD,CreateTokenCommand:()=>ZD,CreateTokenRequestFilterSensitiveLog:()=>Qce,CreateTokenResponseFilterSensitiveLog:()=>Yce,ExpiredTokenException:()=>HD,InternalServerException:()=>VD,InvalidClientException:()=>GD,InvalidGrantException:()=>WD,InvalidRequestException:()=>KD,InvalidScopeException:()=>XD,SSOOIDC:()=>l3,SSOOIDCClient:()=>jD,SSOOIDCServiceException:()=>_o,SlowDownException:()=>JD,UnauthorizedClientException:()=>QD,UnsupportedGrantTypeException:()=>YD,__Client:()=>Xce.Client});var rle=_(()=>{Jce();lot();dot();uot();a3()});var Sot=E(($vs,_ot)=>{"use strict";var V4r=Object.create,tk=Object.defineProperty,G4r=Object.getOwnPropertyDescriptor,W4r=Object.getOwnPropertyNames,K4r=Object.getPrototypeOf,X4r=Object.prototype.hasOwnProperty,wg=(e,t)=>tk(e,"name",{value:t,configurable:!0}),J4r=(e,t)=>{for(var r in t)tk(e,r,{get:t[r],enumerable:!0})},pot=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of W4r(t))!X4r.call(e,s)&&s!==r&&tk(e,s,{get:()=>t[s],enumerable:!(n=G4r(t,s))||n.enumerable});return e},got=(e,t,r)=>(r=e!=null?V4r(K4r(e)):{},pot(t||!e||!e.__esModule?tk(r,"default",{value:e,enumerable:!0}):r,e)),Q4r=e=>pot(tk({},"__esModule",{value:!0}),e),hot={};J4r(hot,{fromEnvSigningName:()=>eWr,fromSso:()=>yot,fromStatic:()=>aWr,nodeProvider:()=>cWr});_ot.exports=Q4r(hot);var Y4r=(nm(),F(Zy)),Z4r=(_ae(),F(CZe)),El=cc(),eWr=wg(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new El.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Z4r.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new El.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Y4r.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),tWr=5*60*1e3,nle="To refresh this SSO session run 'aws sso login' with the corresponding profile.",rWr=wg(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>got((rle(),F(tle))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),nWr=wg(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>got((rle(),F(tle))));return(await rWr(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),mot=wg(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new El.TokenProviderError(`Token is expired. ${nle}`,!1)},"validateTokenExpiry"),CE=wg((e,t,r=!1)=>{if(typeof t>"u")throw new El.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${nle}`,!1)},"validateTokenKey"),ek=i_(),sWr=require("fs"),{writeFile:iWr}=sWr.promises,oWr=wg((e,t)=>{let r=(0,ek.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return iWr(r,n)},"writeSSOTokenToFile"),fot=new Date(0),yot=wg((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,ek.parseKnownFiles)(r),s=(0,ek.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new El.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new El.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,ek.loadSsoSessionData)(r))[o];if(!c)throw new El.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new El.TokenProviderError(`Sso session '${o}' is missing required property '${y}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,ek.getSSOTokenFromFile)(o)}catch{throw new El.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${nle}`,!1)}CE("accessToken",u.accessToken),CE("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:p}=u,g={token:m,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>tWr)return g;if(Date.now()-fot.getTime()<30*1e3)return mot(g),g;CE("clientId",u.clientId,!0),CE("clientSecret",u.clientSecret,!0),CE("refreshToken",u.refreshToken,!0);try{fot.setTime(Date.now());let y=await nWr(u,d,r);CE("accessToken",y.accessToken),CE("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await oWr(o,{...u,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return mot(g),g}},"fromSso"),aWr=wg(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new El.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),cWr=wg((e={})=>(0,El.memoize)((0,El.chain)(yot(e),async()=>{throw new El.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var ile=E((zvs,Rot)=>{"use strict";var u3=Object.defineProperty,lWr=Object.getOwnPropertyDescriptor,Cot=Object.getOwnPropertyNames,dWr=Object.prototype.hasOwnProperty,m3=(e,t)=>u3(e,"name",{value:t,configurable:!0}),uWr=(e,t)=>function(){return e&&(t=(0,e[Cot(e)[0]])(e=0)),t},bot=(e,t)=>{for(var r in t)u3(e,r,{get:t[r],enumerable:!0})},mWr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cot(t))!dWr.call(e,s)&&s!==r&&u3(e,s,{get:()=>t[s],enumerable:!(n=lWr(t,s))||n.enumerable});return e},fWr=e=>mWr(u3({},"__esModule",{value:!0}),e),wot={};bot(wot,{GetRoleCredentialsCommand:()=>sle.GetRoleCredentialsCommand,SSOClient:()=>sle.SSOClient});var sle,pWr=uWr({"src/loadSso.ts"(){"use strict";sle=dit()}}),Aot={};bot(Aot,{fromSSO:()=>hWr,isSsoProfile:()=>xot,validateSsoProfile:()=>Pot});Rot.exports=fWr(Aot);var xot=m3(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),vot=(nm(),F(Zy)),gWr=Sot(),om=cc(),d3=i_(),rk=!1,Eot=m3(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Q=await(0,gWr.fromSso)({profile:c})();d={accessToken:Q.token,expiresAt:new Date(Q.expiration).toISOString()}}catch(Q){throw new om.CredentialsProviderError(Q.message,{tryNextLink:rk,logger:l})}else try{d=await(0,d3.getSSOTokenFromFile)(e)}catch{throw new om.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:rk,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new om.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:rk,logger:l});let{accessToken:m}=d,{SSOClient:p,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(pWr(),wot)),y=i||new p(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),b;try{b=await y.send(new g({accountId:r,roleName:s,accessToken:m}))}catch(Q){throw new om.CredentialsProviderError(Q,{tryNextLink:rk,logger:l})}let{roleCredentials:{accessKeyId:w,secretAccessKey:A,sessionToken:O,expiration:T,credentialScope:k,accountId:z}={}}=b;if(!w||!A||!O||!T)throw new om.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:rk,logger:l});let oe={accessKeyId:w,secretAccessKey:A,sessionToken:O,expiration:new Date(T),...k&&{credentialScope:k},...z&&{accountId:z}};return t?(0,vot.setCredentialFeature)(oe,"CREDENTIALS_SSO","s"):(0,vot.setCredentialFeature)(oe,"CREDENTIALS_SSO_LEGACY","u"),oe},"resolveSSOCredentials"),Pot=m3((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new om.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),hWr=m3((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,d3.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,d3.parseKnownFiles)(e))[c];if(!d)throw new om.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!xot(d))throw new om.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let w=(await(0,d3.loadSsoSessionData)(e))[d.sso_session],A=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==w.sso_region)throw new om.CredentialsProviderError("Conflicting SSO region"+A,{tryNextLink:!1,logger:e.logger});if(r&&r!==w.sso_start_url)throw new om.CredentialsProviderError("Conflicting SSO start_url"+A,{tryNextLink:!1,logger:e.logger});d.sso_region=w.sso_region,d.sso_start_url=w.sso_start_url}let{sso_start_url:u,sso_account_id:m,sso_region:p,sso_role_name:g,sso_session:y}=Pot(d,e.logger);return Eot({ssoStartUrl:u,ssoSession:y,ssoAccountId:m,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new om.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Eot({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function yWr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function _Wr(e){return{schemeId:"smithy.api#noAuth"}}var nk,Tot,Iot,SWr,Oot,ole=_(()=>{ii();nk=C(Oc());sk();Tot=async(e,t,r)=>({operation:(0,nk.getSmithyContext)(t).operation,region:await(0,nk.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Iot=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(_Wr(e));break}default:t.push(yWr(e))}return t},SWr=e=>Object.assign(e,{stsClientCtor:hf}),Oot=e=>{let t=SWr(e),r=lE(t);return Object.assign(r,{authSchemePreference:(0,nk.normalizeProvider)(e.authSchemePreference??[])})}});var Not,f3,p3=_(()=>{Not=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),f3={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var zot,Tt,Lr,Ur,p_,f_,zo,Hot,Vot,Got,Es,Dot,yf,zA,cle,kot,ale,Wot,Mot,Ho,Lot,Kot,Xot,Ca,Cl,Uot,Jot,Qot,Fot,Yot,Bot,qot,jot,$ot,vWr,Zot,eat=_(()=>{zot="required",Tt="type",Lr="fn",Ur="argv",p_="ref",f_="booleanEquals",zo="stringEquals",Hot="sigv4",Vot="sts",Got="us-east-1",Es="endpoint",Dot="https://sts.{Region}.{PartitionResult#dnsSuffix}",yf="tree",zA="error",cle="getAttr",kot={[zot]:!1,[Tt]:"String"},ale={[zot]:!0,default:!1,[Tt]:"Boolean"},Wot={[p_]:"Endpoint"},Mot={[Lr]:"isSet",[Ur]:[{[p_]:"Region"}]},Ho={[p_]:"Region"},Lot={[Lr]:"aws.partition",[Ur]:[Ho],assign:"PartitionResult"},Kot={[p_]:"UseFIPS"},Xot={[p_]:"UseDualStack"},Ca={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Hot,signingName:Vot,signingRegion:Got}]},headers:{}},Cl={},Uot={conditions:[{[Lr]:zo,[Ur]:[Ho,"aws-global"]}],[Es]:Ca,[Tt]:Es},Jot={[Lr]:f_,[Ur]:[Kot,!0]},Qot={[Lr]:f_,[Ur]:[Xot,!0]},Fot={[Lr]:cle,[Ur]:[{[p_]:"PartitionResult"},"supportsFIPS"]},Yot={[p_]:"PartitionResult"},Bot={[Lr]:f_,[Ur]:[!0,{[Lr]:cle,[Ur]:[Yot,"supportsDualStack"]}]},qot=[{[Lr]:"isSet",[Ur]:[Wot]}],jot=[Jot],$ot=[Qot],vWr={version:"1.0",parameters:{Region:kot,UseDualStack:ale,UseFIPS:ale,Endpoint:kot,UseGlobalEndpoint:ale},rules:[{conditions:[{[Lr]:f_,[Ur]:[{[p_]:"UseGlobalEndpoint"},!0]},{[Lr]:"not",[Ur]:qot},Mot,Lot,{[Lr]:f_,[Ur]:[Kot,!1]},{[Lr]:f_,[Ur]:[Xot,!1]}],rules:[{conditions:[{[Lr]:zo,[Ur]:[Ho,"ap-northeast-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"ap-south-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"ap-southeast-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"ap-southeast-2"]}],endpoint:Ca,[Tt]:Es},Uot,{conditions:[{[Lr]:zo,[Ur]:[Ho,"ca-central-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"eu-central-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"eu-north-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"eu-west-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"eu-west-2"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"eu-west-3"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"sa-east-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,Got]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"us-east-2"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"us-west-1"]}],endpoint:Ca,[Tt]:Es},{conditions:[{[Lr]:zo,[Ur]:[Ho,"us-west-2"]}],endpoint:Ca,[Tt]:Es},{endpoint:{url:Dot,properties:{authSchemes:[{name:Hot,signingName:Vot,signingRegion:"{Region}"}]},headers:Cl},[Tt]:Es}],[Tt]:yf},{conditions:qot,rules:[{conditions:jot,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Tt]:zA},{conditions:$ot,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Tt]:zA},{endpoint:{url:Wot,properties:Cl,headers:Cl},[Tt]:Es}],[Tt]:yf},{conditions:[Mot],rules:[{conditions:[Lot],rules:[{conditions:[Jot,Qot],rules:[{conditions:[{[Lr]:f_,[Ur]:[!0,Fot]},Bot],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Cl,headers:Cl},[Tt]:Es}],[Tt]:yf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Tt]:zA}],[Tt]:yf},{conditions:jot,rules:[{conditions:[{[Lr]:f_,[Ur]:[Fot,!0]}],rules:[{conditions:[{[Lr]:zo,[Ur]:[{[Lr]:cle,[Ur]:[Yot,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Cl,headers:Cl},[Tt]:Es},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Cl,headers:Cl},[Tt]:Es}],[Tt]:yf},{error:"FIPS is enabled but this partition does not support FIPS",[Tt]:zA}],[Tt]:yf},{conditions:$ot,rules:[{conditions:[Bot],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Cl,headers:Cl},[Tt]:Es}],[Tt]:yf},{error:"DualStack is enabled but this partition does not support DualStack",[Tt]:zA}],[Tt]:yf},Uot,{endpoint:{url:Dot,properties:Cl,headers:Cl},[Tt]:Es}],[Tt]:yf}],[Tt]:yf},{error:"Invalid Configuration: Missing Region",[Tt]:zA}]},Zot=vWr});var tat,HA,EWr,rat,nat=_(()=>{tat=C(aE()),HA=C(oE());eat();EWr=new HA.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),rat=(e,t={})=>EWr.get(e,()=>(0,HA.resolveEndpoint)(Zot,{endpointParams:e,logger:t.logger}));HA.customEndpointFunctions.aws=tat.awsEndpointFunctions});var sat,iat,g3,h3,oat,aat=_(()=>{ii();va();sat=C(bt()),iat=C(o_()),g3=C(Sa()),h3=C(Zi());ole();nat();oat=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??g3.fromBase64,base64Encoder:e?.base64Encoder??g3.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??rat,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Iot,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new kc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new gg}],logger:e?.logger??new sat.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??iat.parseUrl,utf8Decoder:e?.utf8Decoder??h3.fromUtf8,utf8Encoder:e?.utf8Encoder??h3.toUtf8})});var y3,h_,cat,_3,g_,S3,lat,dat,uat,mat,fat,pat,gat=_(()=>{Gce();ii();y3=C(IA()),h_=C(Bd());va();cat=C(OA()),_3=C(im()),g_=C(Sg()),S3=C(Wy()),lat=C(NA()),dat=C(SE());aat();uat=C(bt()),mat=C(LA()),fat=C(bt()),pat=e=>{(0,fat.emitWarningIfUnsupportedVersion)(process.version);let t=(0,mat.resolveDefaultsModeConfig)(e),r=()=>t().then(uat.loadConfigsForDefaultMode),n=oat(e);_A(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,g_.loadConfig)(EA,s),bodyLengthChecker:e?.bodyLengthChecker??lat.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,y3.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:XG.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new kc},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new gg}],maxAttempts:e?.maxAttempts??(0,g_.loadConfig)(_3.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,g_.loadConfig)(h_.NODE_REGION_CONFIG_OPTIONS,{...h_.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:S3.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,g_.loadConfig)({..._3.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||dat.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??cat.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??S3.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,g_.loadConfig)(h_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,g_.loadConfig)(h_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,g_.loadConfig)(y3.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var hat,yat,_at=_(()=>{hat=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},yat=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var v3,E3,C3,Sat,vat=_(()=>{v3=C(UA()),E3=C(pn()),C3=C(bt());_at();Sat=(e,t)=>{let r=Object.assign((0,v3.getAwsRegionExtensionConfiguration)(e),(0,C3.getDefaultExtensionConfiguration)(e),(0,E3.getHttpHandlerExtensionConfiguration)(e),hat(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,v3.resolveAwsRegionExtensionConfiguration)(r),(0,C3.resolveDefaultRuntimeConfig)(r),(0,E3.resolveHttpHandlerRuntimeConfig)(r),yat(r))}});var b3,Eat,Cat,w3,bat,wat,Aat,A3,lle,hf,sk=_(()=>{b3=C(lA()),Eat=C(dA()),Cat=C(uA()),w3=C(hE()),bat=C(Bd());va();wat=C(wA()),Aat=C(vg()),A3=C(im()),lle=C(bt());ole();p3();gat();vat();hf=class extends lle.Client{config;constructor(...[t]){let r=pat(t||{});super(r),this.initConfig=r;let n=Not(r),s=(0,w3.resolveUserAgentConfig)(n),i=(0,A3.resolveRetryConfig)(s),o=(0,bat.resolveRegionConfig)(i),a=(0,b3.resolveHostHeaderConfig)(o),c=(0,Aat.resolveEndpointConfig)(a),l=Oot(c),d=Sat(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,w3.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,A3.getRetryPlugin)(this.config)),this.middlewareStack.use((0,wat.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,b3.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Eat.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Cat.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(WN(this.config,{httpAuthSchemeParametersProvider:Tot,identityProviderConfigProvider:async u=>new iE({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(XN(this.config))}destroy(){super.destroy()}}});var xat,Lc,x3=_(()=>{xat=C(bt()),Lc=class e extends xat.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var dle,ule,mle,ik,ok,ak,ck,lk,dk,fle,ple,uk,mk=_(()=>{dle=C(bt());x3();ule=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:dle.SENSITIVE_STRING}}),mle=e=>({...e,...e.Credentials&&{Credentials:ule(e.Credentials)}}),ik=class e extends Lc{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ok=class e extends Lc{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ak=class e extends Lc{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ck=class e extends Lc{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lk=class e extends Lc{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dk=class e extends Lc{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fle=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:dle.SENSITIVE_STRING}}),ple=e=>({...e,...e.Credentials&&{Credentials:ule(e.Credentials)}}),uk=class e extends Lc{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var Pat,Yt,Rat,Tat,Iat,Oat,Nat,CWr,bWr,wWr,AWr,xWr,PWr,RWr,TWr,IWr,Dat,OWr,NWr,DWr,kWr,MWr,LWr,kat,UWr,FWr,Mat,BWr,qWr,jWr,$Wr,zWr,HWr,VWr,xg,GWr,Lat,Uat,Fat,Bat,gle,WWr,hle,VA,KWr,yle,_le,GA,Sle,WA,vle,Ele,Cle,KA,XA,ble,wle,Ale,JA,xle,QA,YA,Ple,Rle,Ag,Tle,Ile,Ole,Nle,Dle,qat,kle,Mle,Lle,Ei,jat,XWr,Ule=_(()=>{ii();Pat=C(pn()),Yt=C(bt());mk();x3();Rat=async(e,t)=>{let r=Uat,n;return n=jat({...TWr(e,t),[Bat]:WWr,[qat]:Fat}),Lat(t,r,"/",void 0,n)},Tat=async(e,t)=>{let r=Uat,n;return n=jat({...IWr(e,t),[Bat]:KWr,[qat]:Fat}),Lat(t,r,"/",void 0,n)},Iat=async(e,t)=>{if(e.statusCode>=300)return Nat(e,t);let r=await wD(e.body,t),n={};return n=UWr(r.AssumeRoleResult,t),{$metadata:xg(e),...n}},Oat=async(e,t)=>{if(e.statusCode>=300)return Nat(e,t);let r=await wD(e.body,t),n={};return n=FWr(r.AssumeRoleWithWebIdentityResult,t),{$metadata:xg(e),...n}},Nat=async(e,t)=>{let r={...e,body:await Gae(e.body,t)},n=XWr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await CWr(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await xWr(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await PWr(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await RWr(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await bWr(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await wWr(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await AWr(r,t);default:let s=r.body;return GWr({output:e,parsedBody:s.Error,errorCode:n})}},CWr=async(e,t)=>{let r=e.body,n=BWr(r.Error,t),s=new ik({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},bWr=async(e,t)=>{let r=e.body,n=qWr(r.Error,t),s=new uk({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},wWr=async(e,t)=>{let r=e.body,n=jWr(r.Error,t),s=new lk({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},AWr=async(e,t)=>{let r=e.body,n=$Wr(r.Error,t),s=new dk({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},xWr=async(e,t)=>{let r=e.body,n=zWr(r.Error,t),s=new ok({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},PWr=async(e,t)=>{let r=e.body,n=HWr(r.Error,t),s=new ak({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},RWr=async(e,t)=>{let r=e.body,n=VWr(r.Error,t),s=new ck({$metadata:xg(e),...n});return(0,Yt.decorateServiceException)(s,r)},TWr=(e,t)=>{let r={};if(e[QA]!=null&&(r[QA]=e[QA]),e[YA]!=null&&(r[YA]=e[YA]),e[XA]!=null){let n=Dat(e[XA],t);e[XA]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[KA]!=null&&(r[KA]=e[KA]),e[WA]!=null&&(r[WA]=e[WA]),e[Ole]!=null){let n=LWr(e[Ole],t);e[Ole]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[Dle]!=null){let n=MWr(e[Dle],t);e[Dle]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[Ele]!=null&&(r[Ele]=e[Ele]),e[Tle]!=null&&(r[Tle]=e[Tle]),e[Nle]!=null&&(r[Nle]=e[Nle]),e[Ag]!=null&&(r[Ag]=e[Ag]),e[wle]!=null){let n=DWr(e[wle],t);e[wle]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},IWr=(e,t)=>{let r={};if(e[QA]!=null&&(r[QA]=e[QA]),e[YA]!=null&&(r[YA]=e[YA]),e[Mle]!=null&&(r[Mle]=e[Mle]),e[Ale]!=null&&(r[Ale]=e[Ale]),e[XA]!=null){let n=Dat(e[XA],t);e[XA]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[KA]!=null&&(r[KA]=e[KA]),e[WA]!=null&&(r[WA]=e[WA]),r},Dat=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=OWr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},OWr=(e,t)=>{let r={};return e[Lle]!=null&&(r[Lle]=e[Lle]),r},NWr=(e,t)=>{let r={};return e[ble]!=null&&(r[ble]=e[ble]),e[Sle]!=null&&(r[Sle]=e[Sle]),r},DWr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=NWr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},kWr=(e,t)=>{let r={};return e[Cle]!=null&&(r[Cle]=e[Cle]),e[kle]!=null&&(r[kle]=e[kle]),r},MWr=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},LWr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=kWr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},kat=(e,t)=>{let r={};return e[hle]!=null&&(r[hle]=(0,Yt.expectString)(e[hle])),e[yle]!=null&&(r[yle]=(0,Yt.expectString)(e[yle])),r},UWr=(e,t)=>{let r={};return e[GA]!=null&&(r[GA]=Mat(e[GA],t)),e[VA]!=null&&(r[VA]=kat(e[VA],t)),e[JA]!=null&&(r[JA]=(0,Yt.strictParseInt32)(e[JA])),e[Ag]!=null&&(r[Ag]=(0,Yt.expectString)(e[Ag])),r},FWr=(e,t)=>{let r={};return e[GA]!=null&&(r[GA]=Mat(e[GA],t)),e[Rle]!=null&&(r[Rle]=(0,Yt.expectString)(e[Rle])),e[VA]!=null&&(r[VA]=kat(e[VA],t)),e[JA]!=null&&(r[JA]=(0,Yt.strictParseInt32)(e[JA])),e[xle]!=null&&(r[xle]=(0,Yt.expectString)(e[xle])),e[_le]!=null&&(r[_le]=(0,Yt.expectString)(e[_le])),e[Ag]!=null&&(r[Ag]=(0,Yt.expectString)(e[Ag])),r},Mat=(e,t)=>{let r={};return e[gle]!=null&&(r[gle]=(0,Yt.expectString)(e[gle])),e[Ple]!=null&&(r[Ple]=(0,Yt.expectString)(e[Ple])),e[Ile]!=null&&(r[Ile]=(0,Yt.expectString)(e[Ile])),e[vle]!=null&&(r[vle]=(0,Yt.expectNonNull)((0,Yt.parseRfc3339DateTimeWithOffset)(e[vle]))),r},BWr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},qWr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},jWr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},$Wr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},zWr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},HWr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},VWr=(e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=(0,Yt.expectString)(e[Ei])),r},xg=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),GWr=(0,Yt.withBaseException)(Lc),Lat=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Pat.HttpRequest(l)},Uat={"content-type":"application/x-www-form-urlencoded"},Fat="2011-06-15",Bat="Action",gle="AccessKeyId",WWr="AssumeRole",hle="AssumedRoleId",VA="AssumedRoleUser",KWr="AssumeRoleWithWebIdentity",yle="Arn",_le="Audience",GA="Credentials",Sle="ContextAssertion",WA="DurationSeconds",vle="Expiration",Ele="ExternalId",Cle="Key",KA="Policy",XA="PolicyArns",ble="ProviderArn",wle="ProvidedContexts",Ale="ProviderId",JA="PackedPolicySize",xle="Provider",QA="RoleArn",YA="RoleSessionName",Ple="SecretAccessKey",Rle="SubjectFromWebIdentityToken",Ag="SourceIdentity",Tle="SerialNumber",Ile="SessionToken",Ole="Tags",Nle="TokenCode",Dle="TransitiveTagKeys",qat="Version",kle="Value",Mle="WebIdentityToken",Lle="arn",Ei="message",jat=e=>Object.entries(e).map(([t,r])=>(0,Yt.extendedEncodeURIComponent)(t)+"="+(0,Yt.extendedEncodeURIComponent)(r)).join("&"),XWr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var $at,zat,Hat,bE,P3=_(()=>{$at=C(vg()),zat=C(dg()),Hat=C(bt());p3();mk();Ule();bE=class extends Hat.Command.classBuilder().ep(f3).m(function(t,r,n,s){return[(0,zat.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$at.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,mle).ser(Rat).de(Iat).build(){}});var Vat,Gat,Wat,wE,R3=_(()=>{Vat=C(vg()),Gat=C(dg()),Wat=C(bt());p3();mk();Ule();wE=class extends Wat.Command.classBuilder().ep(f3).m(function(t,r,n,s){return[(0,Gat.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Vat.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(fle,ple).ser(Tat).de(Oat).build(){}});var Kat,JWr,T3,Xat=_(()=>{Kat=C(bt());P3();R3();sk();JWr={AssumeRoleCommand:bE,AssumeRoleWithWebIdentityCommand:wE},T3=class extends hf{};(0,Kat.createAggregatedClient)(JWr,T3)});var Jat=_(()=>{P3();R3()});var Qat=_(()=>{mk()});var Yat,Zat,ect,tct,rct,nct,sct=_(()=>{nm();P3();R3();Yat="us-east-1",Zat=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},ect=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${Yat} (STS default)`),n??s??Yat},tct=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await ect(u,e?.parentClientConfig?.region,p),y=!nct(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?m:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new bE(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=Zat(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return Yy(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},rct=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,m=await ect(l,e?.parentClientConfig?.region,u),p=!nct(d);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new wE(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=Zat(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&Yy(a,"RESOLVED_ACCOUNT_ID","T"),Yy(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},nct=e=>e?.metadata?.handlerProtocol==="h2"});var ict,oct,act,QWr,cct=_(()=>{sct();sk();ict=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,oct=(e={},t)=>tct(e,ict(hf,t)),act=(e={},t)=>rct(e,ict(hf,t)),QWr=e=>t=>e({roleAssumer:oct(t),roleAssumerWithWebIdentity:act(t),...t})});var Fle={};ct(Fle,{AssumeRoleCommand:()=>bE,AssumeRoleResponseFilterSensitiveLog:()=>mle,AssumeRoleWithWebIdentityCommand:()=>wE,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>fle,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>ple,CredentialsFilterSensitiveLog:()=>ule,ExpiredTokenException:()=>ik,IDPCommunicationErrorException:()=>uk,IDPRejectedClaimException:()=>lk,InvalidIdentityTokenException:()=>dk,MalformedPolicyDocumentException:()=>ok,PackedPolicyTooLargeException:()=>ak,RegionDisabledException:()=>ck,STS:()=>T3,STSClient:()=>hf,STSServiceException:()=>Lc,__Client:()=>lle.Client,decorateDefaultCredentialProvider:()=>QWr,getDefaultRoleAssumer:()=>oct,getDefaultRoleAssumerWithWebIdentity:()=>act});var Ble=_(()=>{sk();Xat();Jat();Qat();cct();x3()});var $le=E((eCs,uct)=>{"use strict";var I3=Object.defineProperty,YWr=Object.getOwnPropertyDescriptor,ZWr=Object.getOwnPropertyNames,eKr=Object.prototype.hasOwnProperty,jle=(e,t)=>I3(e,"name",{value:t,configurable:!0}),tKr=(e,t)=>{for(var r in t)I3(e,r,{get:t[r],enumerable:!0})},rKr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ZWr(t))!eKr.call(e,s)&&s!==r&&I3(e,s,{get:()=>t[s],enumerable:!(n=YWr(t,s))||n.enumerable});return e},nKr=e=>rKr(I3({},"__esModule",{value:!0}),e),dct={};tKr(dct,{fromProcess:()=>lKr});uct.exports=nKr(dct);var lct=i_(),qle=cc(),sKr=require("child_process"),iKr=require("util"),oKr=(nm(),F(Zy)),aKr=jle((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,oKr.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),cKr=jle(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,iKr.promisify)(sKr.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return aKr(e,a,t)}catch(o){throw new qle.CredentialsProviderError(o.message,{logger:r})}}else throw new qle.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new qle.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),lKr=jle((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,lct.parseKnownFiles)(e);return cKr((0,lct.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var zle=E(_f=>{"use strict";var dKr=_f&&_f.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uKr=_f&&_f.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mKr=_f&&_f.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&dKr(r,t,n[s]);return uKr(r,t),r}}();Object.defineProperty(_f,"__esModule",{value:!0});_f.fromWebToken=void 0;var fKr=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>mKr((Ble(),F(Fle))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};_f.fromWebToken=fKr});var fct=E(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.fromTokenFile=void 0;var pKr=(nm(),F(Zy)),gKr=cc(),hKr=require("fs"),yKr=zle(),mct="AWS_WEB_IDENTITY_TOKEN_FILE",_Kr="AWS_ROLE_ARN",SKr="AWS_ROLE_SESSION_NAME",vKr=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[mct],r=e?.roleArn??process.env[_Kr],n=e?.roleSessionName??process.env[SKr];if(!t||!r)throw new gKr.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,yKr.fromWebToken)({...e,webIdentityToken:(0,hKr.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[mct]&&(0,pKr.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};O3.fromTokenFile=vKr});var Gle=E((nCs,N3)=>{"use strict";var pct=Object.defineProperty,EKr=Object.getOwnPropertyDescriptor,CKr=Object.getOwnPropertyNames,bKr=Object.prototype.hasOwnProperty,Hle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of CKr(t))!bKr.call(e,s)&&s!==r&&pct(e,s,{get:()=>t[s],enumerable:!(n=EKr(t,s))||n.enumerable});return e},gct=(e,t,r)=>(Hle(e,t,"default"),r&&Hle(r,t,"default")),wKr=e=>Hle(pct({},"__esModule",{value:!0}),e),Vle={};N3.exports=wKr(Vle);gct(Vle,fct(),N3.exports);gct(Vle,zle(),N3.exports)});var bct=E((sCs,Cct)=>{"use strict";var AKr=Object.create,pk=Object.defineProperty,xKr=Object.getOwnPropertyDescriptor,PKr=Object.getOwnPropertyNames,RKr=Object.getPrototypeOf,TKr=Object.prototype.hasOwnProperty,Fi=(e,t)=>pk(e,"name",{value:t,configurable:!0}),IKr=(e,t)=>{for(var r in t)pk(e,r,{get:t[r],enumerable:!0})},Sct=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of PKr(t))!TKr.call(e,s)&&s!==r&&pk(e,s,{get:()=>t[s],enumerable:!(n=xKr(t,s))||n.enumerable});return e},y_=(e,t,r)=>(r=e!=null?AKr(RKr(e)):{},Sct(t||!e||!e.__esModule?pk(r,"default",{value:e,enumerable:!0}):r,e)),OKr=e=>Sct(pk({},"__esModule",{value:!0}),e),vct={};IKr(vct,{fromIni:()=>zKr});Cct.exports=OKr(vct);var Kle=i_(),__=(nm(),F(Zy)),fk=cc(),NKr=Fi((e,t,r)=>{let n={EcsContainer:Fi(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>y_(Dce())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>y_(DD()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,fk.chain)(i(s??{}),o(s))().then(Wle)},"EcsContainer"),Ec2InstanceMetadata:Fi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>y_(DD()));return async()=>i(s)().then(Wle)},"Ec2InstanceMetadata"),Environment:Fi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>y_(xce()));return async()=>i(s)().then(Wle)},"Environment")};if(e in n)return n[e];throw new fk.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Wle=Fi(e=>(0,__.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),DKr=Fi((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(kKr(e,{profile:t,logger:r})||MKr(e,{profile:t,logger:r})),"isAssumeRoleProfile"),kKr=Fi((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),MKr=Fi((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),LKr=Fi(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>y_((Ble(),F(Fle))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new fk.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Kle.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?Ect(i,t,r,{...n,[i]:!0},hct(t[i]??{})):(await NKr(s.credential_source,e,r.logger)(r))();if(hct(s))return a.then(c=>(0,__.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new fk.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,__.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),hct=Fi(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),UKr=Fi(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),FKr=Fi(async(e,t)=>Promise.resolve().then(()=>y_($le())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,__.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),BKr=Fi(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>y_(ile()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,__.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,__.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),qKr=Fi(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),yct=Fi(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),_ct=Fi(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,__.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),jKr=Fi(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),$Kr=Fi(async(e,t)=>Promise.resolve().then(()=>y_(Gle())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,__.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),Ect=Fi(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&yct(i))return _ct(i,r);if(s||DKr(i,{profile:e,logger:r.logger}))return LKr(e,t,r,n);if(yct(i))return _ct(i,r);if(jKr(i))return $Kr(i,r);if(UKr(i))return FKr(r,e);if(qKr(i))return await BKr(e,i,r);throw new fk.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),zKr=Fi((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,Kle.parseKnownFiles)(r);return Ect((0,Kle.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var Jle=E((iCs,Ict)=>{"use strict";var HKr=Object.create,gk=Object.defineProperty,VKr=Object.getOwnPropertyDescriptor,GKr=Object.getOwnPropertyNames,WKr=Object.getPrototypeOf,KKr=Object.prototype.hasOwnProperty,D3=(e,t)=>gk(e,"name",{value:t,configurable:!0}),XKr=(e,t)=>{for(var r in t)gk(e,r,{get:t[r],enumerable:!0})},xct=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GKr(t))!KKr.call(e,s)&&s!==r&&gk(e,s,{get:()=>t[s],enumerable:!(n=VKr(t,s))||n.enumerable});return e},ZA=(e,t,r)=>(r=e!=null?HKr(WKr(e)):{},xct(t||!e||!e.__esModule?gk(r,"default",{value:e,enumerable:!0}):r,e)),JKr=e=>xct(gk({},"__esModule",{value:!0}),e),Pct={};XKr(Pct,{credentialsTreatedAsExpired:()=>Tct,credentialsWillNeedRefresh:()=>Rct,defaultProvider:()=>ZKr});Ict.exports=JKr(Pct);var Xle=xce(),QKr=i_(),AE=cc(),wct="AWS_EC2_METADATA_DISABLED",YKr=D3(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>ZA(DD()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>ZA(Dce()));return(0,AE.chain)(i(e),n(e))}return process.env[wct]&&process.env[wct]!=="false"?async()=>{throw new AE.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),Act=!1,ZKr=D3((e={})=>(0,AE.memoize)((0,AE.chain)(async()=>{if(e.profile??process.env[QKr.ENV_PROFILE])throw process.env[Xle.ENV_KEY]&&process.env[Xle.ENV_SECRET]&&(Act||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),Act=!0)),new AE.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Xle.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new AE.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>ZA(ile()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>ZA(bct()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>ZA($le()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>ZA(Gle()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await YKr(e))()),async()=>{throw new AE.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Tct,Rct),"defaultProvider"),Rct=D3(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),Tct=D3(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Vct=E(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.ruleSet=void 0;var jct="required",ba="fn",wa="argv",tx="ref",Oct=!0,Nct="isSet",_k="booleanEquals",ex="error",Sf="endpoint",Pg="tree",Qle="PartitionResult",Yle="getAttr",hk="stringEquals",Dct={[jct]:!1,type:"String"},kct={[jct]:!0,default:!1,type:"Boolean"},Mct={[tx]:"Endpoint"},$ct={[ba]:_k,[wa]:[{[tx]:"UseFIPS"},!0]},zct={[ba]:_k,[wa]:[{[tx]:"UseDualStack"},!0]},Bi={},yk={[tx]:"Region"},Lct={[ba]:Yle,[wa]:[{[tx]:Qle},"supportsFIPS"]},Hct={[tx]:Qle},Uct={[ba]:_k,[wa]:[!0,{[ba]:Yle,[wa]:[Hct,"supportsDualStack"]}]},Fct=[$ct],Bct=[zct],qct=[yk],e6r={version:"1.0",parameters:{Region:Dct,UseDualStack:kct,UseFIPS:kct,Endpoint:Dct},rules:[{conditions:[{[ba]:Nct,[wa]:[Mct]}],rules:[{conditions:Fct,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ex},{conditions:Bct,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ex},{endpoint:{url:Mct,properties:Bi,headers:Bi},type:Sf}],type:Pg},{conditions:[{[ba]:Nct,[wa]:qct}],rules:[{conditions:[{[ba]:"aws.partition",[wa]:qct,assign:Qle}],rules:[{conditions:[$ct,zct],rules:[{conditions:[{[ba]:_k,[wa]:[Oct,Lct]},Uct],rules:[{conditions:[{[ba]:hk,[wa]:[yk,"us-east-1"]}],endpoint:{url:"https://cognito-idp-fips.us-east-1.amazonaws.com",properties:Bi,headers:Bi},type:Sf},{conditions:[{[ba]:hk,[wa]:[yk,"us-east-2"]}],endpoint:{url:"https://cognito-idp-fips.us-east-2.amazonaws.com",properties:Bi,headers:Bi},type:Sf},{conditions:[{[ba]:hk,[wa]:[yk,"us-west-1"]}],endpoint:{url:"https://cognito-idp-fips.us-west-1.amazonaws.com",properties:Bi,headers:Bi},type:Sf},{conditions:[{[ba]:hk,[wa]:[yk,"us-west-2"]}],endpoint:{url:"https://cognito-idp-fips.us-west-2.amazonaws.com",properties:Bi,headers:Bi},type:Sf},{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bi,headers:Bi},type:Sf}],type:Pg},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ex}],type:Pg},{conditions:Fct,rules:[{conditions:[{[ba]:_k,[wa]:[Lct,Oct]}],rules:[{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Bi,headers:Bi},type:Sf}],type:Pg},{error:"FIPS is enabled but this partition does not support FIPS",type:ex}],type:Pg},{conditions:Bct,rules:[{conditions:[Uct],rules:[{conditions:[{[ba]:hk,[wa]:["aws",{[ba]:Yle,[wa]:[Hct,"name"]}]}],endpoint:{url:"https://cognito-idp.{Region}.amazonaws.com",properties:Bi,headers:Bi},type:Sf},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bi,headers:Bi},type:Sf}],type:Pg},{error:"DualStack is enabled but this partition does not support DualStack",type:ex}],type:Pg},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dnsSuffix}",properties:Bi,headers:Bi},type:Sf}],type:Pg}],type:Pg},{error:"Invalid Configuration: Missing Region",type:ex}]};k3.ruleSet=e6r});var Gct=E(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.defaultEndpointResolver=void 0;var t6r=aE(),Zle=oE(),r6r=Vct(),n6r=new Zle.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),s6r=(e,t={})=>n6r.get(e,()=>(0,Zle.resolveEndpoint)(r6r.ruleSet,{endpointParams:e,logger:t.logger}));M3.defaultEndpointResolver=s6r;Zle.customEndpointFunctions.aws=t6r.awsEndpointFunctions});var Xct=E(L3=>{"use strict";Object.defineProperty(L3,"__esModule",{value:!0});L3.getRuntimeConfig=void 0;var i6r=(ii(),F(Mc)),o6r=(va(),F(Qy)),a6r=bt(),c6r=o_(),Wct=Sa(),Kct=Zi(),l6r=Cce(),d6r=Gct(),u6r=e=>({apiVersion:"2016-04-18",base64Decoder:e?.base64Decoder??Wct.fromBase64,base64Encoder:e?.base64Encoder??Wct.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d6r.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l6r.defaultCognitoIdentityProviderHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new i6r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new o6r.NoAuthSigner}],logger:e?.logger??new a6r.NoOpLogger,serviceId:e?.serviceId??"Cognito Identity Provider",urlParser:e?.urlParser??c6r.parseUrl,utf8Decoder:e?.utf8Decoder??Kct.fromUtf8,utf8Encoder:e?.utf8Encoder??Kct.toUtf8});L3.getRuntimeConfig=u6r});var elt=E(F3=>{"use strict";Object.defineProperty(F3,"__esModule",{value:!0});F3.getRuntimeConfig=void 0;var m6r=(ND(),F(OD)),f6r=m6r.__importDefault(ont()),Jct=(ii(),F(Mc)),p6r=Jle(),Qct=IA(),U3=Bd(),g6r=OA(),Yct=im(),xE=Sg(),Zct=Wy(),h6r=NA(),y6r=SE(),_6r=Xct(),S6r=bt(),v6r=LA(),E6r=bt(),C6r=e=>{(0,E6r.emitWarningIfUnsupportedVersion)(process.version);let t=(0,v6r.resolveDefaultsModeConfig)(e),r=()=>t().then(S6r.loadConfigsForDefaultMode),n=(0,_6r.getRuntimeConfig)(e);(0,Jct.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xE.loadConfig)(Jct.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??h6r.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??p6r.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Qct.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:f6r.default.version}),maxAttempts:e?.maxAttempts??(0,xE.loadConfig)(Yct.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xE.loadConfig)(U3.NODE_REGION_CONFIG_OPTIONS,{...U3.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Zct.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xE.loadConfig)({...Yct.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||y6r.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??g6r.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Zct.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xE.loadConfig)(U3.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xE.loadConfig)(U3.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xE.loadConfig)(Qct.NODE_APP_ID_CONFIG_OPTIONS,s)}};F3.getRuntimeConfig=C6r});var tgt=E((dCs,egt)=>{"use strict";var B3=Object.defineProperty,b6r=Object.getOwnPropertyDescriptor,w6r=Object.getOwnPropertyNames,A6r=Object.prototype.hasOwnProperty,v=(e,t)=>B3(e,"name",{value:t,configurable:!0}),x6r=(e,t)=>{for(var r in t)B3(e,r,{get:t[r],enumerable:!0})},P6r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of w6r(t))!A6r.call(e,s)&&s!==r&&B3(e,s,{get:()=>t[s],enumerable:!(n=b6r(t,s))||n.enumerable});return e},R6r=e=>P6r(B3({},"__esModule",{value:!0}),e),olt={};x6r(olt,{AccountTakeoverEventActionType:()=>B6r,AddCustomAttributesCommand:()=>rft,AdminAddUserToGroupCommand:()=>nft,AdminAddUserToGroupRequestFilterSensitiveLog:()=>eut,AdminConfirmSignUpCommand:()=>sft,AdminConfirmSignUpRequestFilterSensitiveLog:()=>tut,AdminCreateUserCommand:()=>ift,AdminCreateUserRequestFilterSensitiveLog:()=>rut,AdminCreateUserResponseFilterSensitiveLog:()=>nut,AdminDeleteUserAttributesCommand:()=>oft,AdminDeleteUserAttributesRequestFilterSensitiveLog:()=>iut,AdminDeleteUserCommand:()=>aft,AdminDeleteUserRequestFilterSensitiveLog:()=>sut,AdminDisableProviderForUserCommand:()=>cft,AdminDisableUserCommand:()=>lft,AdminDisableUserRequestFilterSensitiveLog:()=>out,AdminEnableUserCommand:()=>dft,AdminEnableUserRequestFilterSensitiveLog:()=>aut,AdminForgetDeviceCommand:()=>uft,AdminForgetDeviceRequestFilterSensitiveLog:()=>cut,AdminGetDeviceCommand:()=>mft,AdminGetDeviceRequestFilterSensitiveLog:()=>lut,AdminGetDeviceResponseFilterSensitiveLog:()=>dut,AdminGetUserCommand:()=>fft,AdminGetUserRequestFilterSensitiveLog:()=>uut,AdminGetUserResponseFilterSensitiveLog:()=>mut,AdminInitiateAuthCommand:()=>pft,AdminInitiateAuthRequestFilterSensitiveLog:()=>fut,AdminInitiateAuthResponseFilterSensitiveLog:()=>put,AdminLinkProviderForUserCommand:()=>gft,AdminListDevicesCommand:()=>hft,AdminListDevicesRequestFilterSensitiveLog:()=>gut,AdminListDevicesResponseFilterSensitiveLog:()=>hut,AdminListGroupsForUserCommand:()=>ade,AdminListGroupsForUserRequestFilterSensitiveLog:()=>yut,AdminListUserAuthEventsCommand:()=>cde,AdminListUserAuthEventsRequestFilterSensitiveLog:()=>_ut,AdminRemoveUserFromGroupCommand:()=>yft,AdminRemoveUserFromGroupRequestFilterSensitiveLog:()=>Sut,AdminResetUserPasswordCommand:()=>_ft,AdminResetUserPasswordRequestFilterSensitiveLog:()=>vut,AdminRespondToAuthChallengeCommand:()=>Sft,AdminRespondToAuthChallengeRequestFilterSensitiveLog:()=>Eut,AdminRespondToAuthChallengeResponseFilterSensitiveLog:()=>Cut,AdminSetUserMFAPreferenceCommand:()=>vft,AdminSetUserMFAPreferenceRequestFilterSensitiveLog:()=>but,AdminSetUserPasswordCommand:()=>Eft,AdminSetUserPasswordRequestFilterSensitiveLog:()=>wut,AdminSetUserSettingsCommand:()=>Cft,AdminSetUserSettingsRequestFilterSensitiveLog:()=>Aut,AdminUpdateAuthEventFeedbackCommand:()=>bft,AdminUpdateAuthEventFeedbackRequestFilterSensitiveLog:()=>xut,AdminUpdateDeviceStatusCommand:()=>wft,AdminUpdateDeviceStatusRequestFilterSensitiveLog:()=>Put,AdminUpdateUserAttributesCommand:()=>Aft,AdminUpdateUserAttributesRequestFilterSensitiveLog:()=>Rut,AdminUserGlobalSignOutCommand:()=>xft,AdminUserGlobalSignOutRequestFilterSensitiveLog:()=>Tut,AdvancedSecurityEnabledModeType:()=>e8r,AdvancedSecurityModeType:()=>t8r,AliasAttributeType:()=>r8r,AliasExistsException:()=>Glt,AssetCategoryType:()=>s8r,AssetExtensionType:()=>i8r,AssociateSoftwareTokenCommand:()=>Pft,AssociateSoftwareTokenRequestFilterSensitiveLog:()=>Iut,AssociateSoftwareTokenResponseFilterSensitiveLog:()=>Out,AttributeDataType:()=>q6r,AttributeTypeFilterSensitiveLog:()=>am,AuthFactorType:()=>n8r,AuthFlowType:()=>H6r,AuthenticationResultTypeFilterSensitiveLog:()=>rx,ChallengeName:()=>G6r,ChallengeNameType:()=>V6r,ChallengeResponse:()=>W6r,ChangePasswordCommand:()=>Rft,ChangePasswordRequestFilterSensitiveLog:()=>Nut,CodeDeliveryFailureException:()=>Nlt,CodeMismatchException:()=>cdt,CognitoIdentityProvider:()=>Zpt,CognitoIdentityProviderClient:()=>cm,CognitoIdentityProviderServiceException:()=>Ye,ColorSchemeModeType:()=>o8r,CompleteWebAuthnRegistrationCommand:()=>Tft,CompleteWebAuthnRegistrationRequestFilterSensitiveLog:()=>Dut,CompromisedCredentialsEventActionType:()=>A8r,ConcurrentModificationException:()=>hdt,ConfirmDeviceCommand:()=>Ift,ConfirmDeviceRequestFilterSensitiveLog:()=>kut,ConfirmForgotPasswordCommand:()=>Oft,ConfirmForgotPasswordRequestFilterSensitiveLog:()=>Mut,ConfirmSignUpCommand:()=>Nft,ConfirmSignUpRequestFilterSensitiveLog:()=>Lut,ConfirmSignUpResponseFilterSensitiveLog:()=>Uut,CreateGroupCommand:()=>Dft,CreateIdentityProviderCommand:()=>kft,CreateManagedLoginBrandingCommand:()=>Mft,CreateManagedLoginBrandingRequestFilterSensitiveLog:()=>Fut,CreateResourceServerCommand:()=>Lft,CreateUserImportJobCommand:()=>Uft,CreateUserPoolClientCommand:()=>Fft,CreateUserPoolClientResponseFilterSensitiveLog:()=>But,CreateUserPoolCommand:()=>Bft,CreateUserPoolDomainCommand:()=>qft,CustomEmailSenderLambdaVersionType:()=>m8r,CustomSMSSenderLambdaVersionType:()=>f8r,DefaultEmailOptionType:()=>_8r,DeleteGroupCommand:()=>jft,DeleteIdentityProviderCommand:()=>$ft,DeleteManagedLoginBrandingCommand:()=>zft,DeleteResourceServerCommand:()=>Hft,DeleteUserAttributesCommand:()=>Vft,DeleteUserAttributesRequestFilterSensitiveLog:()=>jut,DeleteUserCommand:()=>Gft,DeleteUserPoolClientCommand:()=>Wft,DeleteUserPoolClientRequestFilterSensitiveLog:()=>$ut,DeleteUserPoolCommand:()=>Kft,DeleteUserPoolDomainCommand:()=>Xft,DeleteUserRequestFilterSensitiveLog:()=>qut,DeleteWebAuthnCredentialCommand:()=>Jft,DeleteWebAuthnCredentialRequestFilterSensitiveLog:()=>zut,DeletionProtectionType:()=>d8r,DeliveryMediumType:()=>j6r,DescribeIdentityProviderCommand:()=>Qft,DescribeManagedLoginBrandingByClientCommand:()=>Yft,DescribeManagedLoginBrandingByClientRequestFilterSensitiveLog:()=>Hut,DescribeManagedLoginBrandingCommand:()=>Zft,DescribeResourceServerCommand:()=>ept,DescribeRiskConfigurationCommand:()=>tpt,DescribeRiskConfigurationRequestFilterSensitiveLog:()=>Vut,DescribeRiskConfigurationResponseFilterSensitiveLog:()=>Gut,DescribeUserImportJobCommand:()=>rpt,DescribeUserPoolClientCommand:()=>npt,DescribeUserPoolClientRequestFilterSensitiveLog:()=>Wut,DescribeUserPoolClientResponseFilterSensitiveLog:()=>Kut,DescribeUserPoolCommand:()=>spt,DescribeUserPoolDomainCommand:()=>ipt,DeviceKeyExistsException:()=>Ndt,DeviceRememberedStatusType:()=>Z6r,DeviceTypeFilterSensitiveLog:()=>tde,DomainStatusType:()=>P8r,DuplicateProviderException:()=>Ldt,EmailSendingAccountType:()=>u8r,EnableSoftwareTokenMFAException:()=>mmt,EventFilterType:()=>x8r,EventResponseType:()=>X6r,EventSourceName:()=>R8r,EventType:()=>Y6r,ExpiredCodeException:()=>ddt,ExplicitAuthFlowsType:()=>E8r,FeatureType:()=>b8r,FeatureUnavailableInTierException:()=>qdt,FeedbackValueType:()=>K6r,ForbiddenException:()=>_dt,ForgetDeviceCommand:()=>opt,ForgetDeviceRequestFilterSensitiveLog:()=>Xut,ForgotPasswordCommand:()=>apt,ForgotPasswordRequestFilterSensitiveLog:()=>Jut,GetCSVHeaderCommand:()=>cpt,GetDeviceCommand:()=>lpt,GetDeviceRequestFilterSensitiveLog:()=>Qut,GetDeviceResponseFilterSensitiveLog:()=>Yut,GetGroupCommand:()=>dpt,GetIdentityProviderByIdentifierCommand:()=>upt,GetLogDeliveryConfigurationCommand:()=>mpt,GetSigningCertificateCommand:()=>fpt,GetTokensFromRefreshTokenCommand:()=>ppt,GetTokensFromRefreshTokenRequestFilterSensitiveLog:()=>Zut,GetTokensFromRefreshTokenResponseFilterSensitiveLog:()=>emt,GetUICustomizationCommand:()=>gpt,GetUICustomizationRequestFilterSensitiveLog:()=>tmt,GetUICustomizationResponseFilterSensitiveLog:()=>rmt,GetUserAttributeVerificationCodeCommand:()=>hpt,GetUserAttributeVerificationCodeRequestFilterSensitiveLog:()=>imt,GetUserAuthFactorsCommand:()=>ypt,GetUserAuthFactorsRequestFilterSensitiveLog:()=>pmt,GetUserAuthFactorsResponseFilterSensitiveLog:()=>gmt,GetUserCommand:()=>_pt,GetUserPoolMfaConfigCommand:()=>Spt,GetUserRequestFilterSensitiveLog:()=>nmt,GetUserResponseFilterSensitiveLog:()=>smt,GlobalSignOutCommand:()=>vpt,GlobalSignOutRequestFilterSensitiveLog:()=>hmt,GroupExistsException:()=>kdt,IdentityProviderTypeType:()=>c8r,InitiateAuthCommand:()=>Ept,InitiateAuthRequestFilterSensitiveLog:()=>ymt,InitiateAuthResponseFilterSensitiveLog:()=>_mt,InternalErrorException:()=>clt,InvalidEmailRoleAccessPolicyException:()=>Jlt,InvalidLambdaResponseException:()=>Clt,InvalidOAuthFlowException:()=>Gdt,InvalidParameterException:()=>dlt,InvalidPasswordException:()=>klt,InvalidSmsRoleAccessPolicyException:()=>Llt,InvalidSmsRoleTrustRelationshipException:()=>Flt,InvalidUserPoolConfigurationException:()=>Klt,LimitExceededException:()=>wlt,ListDevicesCommand:()=>Cpt,ListDevicesRequestFilterSensitiveLog:()=>Smt,ListDevicesResponseFilterSensitiveLog:()=>vmt,ListGroupsCommand:()=>lde,ListIdentityProvidersCommand:()=>dde,ListResourceServersCommand:()=>ude,ListTagsForResourceCommand:()=>bpt,ListUserImportJobsCommand:()=>wpt,ListUserPoolClientsCommand:()=>mde,ListUserPoolClientsResponseFilterSensitiveLog:()=>Cmt,ListUserPoolsCommand:()=>fde,ListUsersCommand:()=>pde,ListUsersInGroupCommand:()=>gde,ListUsersInGroupResponseFilterSensitiveLog:()=>wmt,ListUsersResponseFilterSensitiveLog:()=>bmt,ListWebAuthnCredentialsCommand:()=>Apt,ListWebAuthnCredentialsRequestFilterSensitiveLog:()=>Amt,LogLevel:()=>T8r,MFAMethodNotFoundException:()=>Ylt,ManagedLoginBrandingExistsException:()=>Fdt,MessageActionType:()=>$6r,NotAuthorizedException:()=>mlt,OAuthFlowType:()=>v8r,PasswordHistoryPolicyViolationException:()=>mdt,PasswordResetRequiredException:()=>edt,PreTokenGenerationLambdaVersionType:()=>p8r,PreconditionNotMetException:()=>qlt,PreventUserExistenceErrorTypes:()=>C8r,RecoveryOptionNameType:()=>F6r,RefreshTokenReuseException:()=>Ydt,ResendConfirmationCodeCommand:()=>xpt,ResendConfirmationCodeRequestFilterSensitiveLog:()=>xmt,ResourceNotFoundException:()=>plt,RespondToAuthChallengeCommand:()=>Ppt,RespondToAuthChallengeRequestFilterSensitiveLog:()=>Pmt,RespondToAuthChallengeResponseFilterSensitiveLog:()=>Rmt,RevokeTokenCommand:()=>Rpt,RevokeTokenRequestFilterSensitiveLog:()=>Tmt,RiskConfigurationTypeFilterSensitiveLog:()=>rde,RiskDecisionType:()=>J6r,RiskLevelType:()=>Q6r,ScopeDoesNotExistException:()=>Kdt,SetLogDeliveryConfigurationCommand:()=>Tpt,SetRiskConfigurationCommand:()=>Ipt,SetRiskConfigurationRequestFilterSensitiveLog:()=>Imt,SetRiskConfigurationResponseFilterSensitiveLog:()=>Omt,SetUICustomizationCommand:()=>Opt,SetUICustomizationRequestFilterSensitiveLog:()=>Nmt,SetUICustomizationResponseFilterSensitiveLog:()=>Dmt,SetUserMFAPreferenceCommand:()=>Npt,SetUserMFAPreferenceRequestFilterSensitiveLog:()=>kmt,SetUserPoolMfaConfigCommand:()=>Dpt,SetUserSettingsCommand:()=>kpt,SetUserSettingsRequestFilterSensitiveLog:()=>Mmt,SignUpCommand:()=>Mpt,SignUpRequestFilterSensitiveLog:()=>Lmt,SignUpResponseFilterSensitiveLog:()=>Umt,SoftwareTokenMFANotFoundException:()=>pdt,StartUserImportJobCommand:()=>Lpt,StartWebAuthnRegistrationCommand:()=>Upt,StartWebAuthnRegistrationRequestFilterSensitiveLog:()=>Fmt,StatusType:()=>S8r,StopUserImportJobCommand:()=>Fpt,TagResourceCommand:()=>Bpt,TierChangeNotAllowedException:()=>$dt,TimeUnitsType:()=>w8r,TooManyFailedAttemptsException:()=>xlt,TooManyRequestsException:()=>hlt,UICustomizationTypeFilterSensitiveLog:()=>nde,UnauthorizedException:()=>omt,UnexpectedLambdaException:()=>Rlt,UnsupportedIdentityProviderException:()=>Jdt,UnsupportedOperationException:()=>rdt,UnsupportedTokenTypeException:()=>cmt,UnsupportedUserStateException:()=>$lt,UntagResourceCommand:()=>qpt,UpdateAuthEventFeedbackCommand:()=>jpt,UpdateAuthEventFeedbackRequestFilterSensitiveLog:()=>Bmt,UpdateDeviceStatusCommand:()=>$pt,UpdateDeviceStatusRequestFilterSensitiveLog:()=>qmt,UpdateGroupCommand:()=>zpt,UpdateIdentityProviderCommand:()=>Hpt,UpdateManagedLoginBrandingCommand:()=>Vpt,UpdateResourceServerCommand:()=>Gpt,UpdateUserAttributesCommand:()=>Wpt,UpdateUserAttributesRequestFilterSensitiveLog:()=>jmt,UpdateUserPoolClientCommand:()=>Kpt,UpdateUserPoolClientRequestFilterSensitiveLog:()=>$mt,UpdateUserPoolClientResponseFilterSensitiveLog:()=>zmt,UpdateUserPoolCommand:()=>Xpt,UpdateUserPoolDomainCommand:()=>Jpt,UserContextDataTypeFilterSensitiveLog:()=>I8r,UserImportInProgressException:()=>_lt,UserImportJobStatusType:()=>l8r,UserLambdaValidationException:()=>Ilt,UserNotConfirmedException:()=>sdt,UserNotFoundException:()=>vlt,UserPoolAddOnNotEnabledException:()=>odt,UserPoolClientDescriptionFilterSensitiveLog:()=>Emt,UserPoolClientTypeFilterSensitiveLog:()=>j3,UserPoolMfaType:()=>g8r,UserPoolTaggingException:()=>Hdt,UserPoolTierType:()=>y8r,UserStatusType:()=>z6r,UserTypeFilterSensitiveLog:()=>q3,UserVerificationType:()=>O8r,UsernameAttributeType:()=>h8r,UsernameExistsException:()=>Hlt,VerifiedAttributeType:()=>a8r,VerifySoftwareTokenCommand:()=>Qpt,VerifySoftwareTokenRequestFilterSensitiveLog:()=>Hmt,VerifySoftwareTokenResponseFilterSensitiveLog:()=>Vmt,VerifySoftwareTokenResponseType:()=>N8r,VerifyUserAttributeCommand:()=>Ypt,VerifyUserAttributeRequestFilterSensitiveLog:()=>Gmt,WebAuthnChallengeNotFoundException:()=>vdt,WebAuthnClientMismatchException:()=>Cdt,WebAuthnConfigurationMissingException:()=>dmt,WebAuthnCredentialNotSupportedException:()=>wdt,WebAuthnNotEnabledException:()=>xdt,WebAuthnOriginNotAllowedException:()=>Rdt,WebAuthnRelyingPartyMismatchException:()=>Idt,__Client:()=>h.Client,paginateAdminListGroupsForUser:()=>J9r,paginateAdminListUserAuthEvents:()=>Q9r,paginateListGroups:()=>Y9r,paginateListIdentityProviders:()=>Z9r,paginateListResourceServers:()=>e7r,paginateListUserPoolClients:()=>t7r,paginateListUserPools:()=>r7r,paginateListUsers:()=>s7r,paginateListUsersInGroup:()=>n7r});egt.exports=R6r(olt);var tlt=lA(),T6r=dA(),I6r=uA(),rlt=hE(),O6r=Bd(),Kd=(va(),F(Qy)),N6r=wA(),Z=vg(),nlt=im(),slt=Cce(),D6r=v(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-idp"}),"resolveClientEndpointParameters"),te={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},k6r=elt(),ilt=UA(),ede=pn(),h=bt(),M6r=v(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),L6r=v(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),U6r=v((e,t)=>{let r=Object.assign((0,ilt.getAwsRegionExtensionConfiguration)(e),(0,h.getDefaultExtensionConfiguration)(e),(0,ede.getHttpHandlerExtensionConfiguration)(e),M6r(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ilt.resolveAwsRegionExtensionConfiguration)(r),(0,h.resolveDefaultRuntimeConfig)(r),(0,ede.resolveHttpHandlerRuntimeConfig)(r),L6r(r))},"resolveRuntimeExtensions"),cm=class extends h.Client{static{v(this,"CognitoIdentityProviderClient")}config;constructor(...[e]){let t=(0,k6r.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=D6r(t),n=(0,rlt.resolveUserAgentConfig)(r),s=(0,nlt.resolveRetryConfig)(n),i=(0,O6r.resolveRegionConfig)(s),o=(0,tlt.resolveHostHeaderConfig)(i),a=(0,Z.resolveEndpointConfig)(o),c=(0,slt.resolveHttpAuthSchemeConfig)(a),l=U6r(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,rlt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,nlt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,N6r.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,tlt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,T6r.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,I6r.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Kd.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:slt.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider,identityProviderConfigProvider:v(async d=>new Kd.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Kd.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},re=dg(),ce=(ii(),F(Mc)),Ye=class alt extends h.ServiceException{static{v(this,"CognitoIdentityProviderServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,alt.prototype)}},F6r={ADMIN_ONLY:"admin_only",VERIFIED_EMAIL:"verified_email",VERIFIED_PHONE_NUMBER:"verified_phone_number"},B6r={BLOCK:"BLOCK",MFA_IF_CONFIGURED:"MFA_IF_CONFIGURED",MFA_REQUIRED:"MFA_REQUIRED",NO_ACTION:"NO_ACTION"},q6r={BOOLEAN:"Boolean",DATETIME:"DateTime",NUMBER:"Number",STRING:"String"},clt=class llt extends Ye{static{v(this,"InternalErrorException")}name="InternalErrorException";$fault="server";constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),Object.setPrototypeOf(this,llt.prototype)}},dlt=class ult extends Ye{static{v(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";reasonCode;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,ult.prototype),this.reasonCode=t.reasonCode}},mlt=class flt extends Ye{static{v(this,"NotAuthorizedException")}name="NotAuthorizedException";$fault="client";constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,flt.prototype)}},plt=class glt extends Ye{static{v(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,glt.prototype)}},hlt=class ylt extends Ye{static{v(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,ylt.prototype)}},_lt=class Slt extends Ye{static{v(this,"UserImportInProgressException")}name="UserImportInProgressException";$fault="client";constructor(t){super({name:"UserImportInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,Slt.prototype)}},vlt=class Elt extends Ye{static{v(this,"UserNotFoundException")}name="UserNotFoundException";$fault="client";constructor(t){super({name:"UserNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Elt.prototype)}},Clt=class blt extends Ye{static{v(this,"InvalidLambdaResponseException")}name="InvalidLambdaResponseException";$fault="client";constructor(t){super({name:"InvalidLambdaResponseException",$fault:"client",...t}),Object.setPrototypeOf(this,blt.prototype)}},wlt=class Alt extends Ye{static{v(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Alt.prototype)}},xlt=class Plt extends Ye{static{v(this,"TooManyFailedAttemptsException")}name="TooManyFailedAttemptsException";$fault="client";constructor(t){super({name:"TooManyFailedAttemptsException",$fault:"client",...t}),Object.setPrototypeOf(this,Plt.prototype)}},Rlt=class Tlt extends Ye{static{v(this,"UnexpectedLambdaException")}name="UnexpectedLambdaException";$fault="client";constructor(t){super({name:"UnexpectedLambdaException",$fault:"client",...t}),Object.setPrototypeOf(this,Tlt.prototype)}},Ilt=class Olt extends Ye{static{v(this,"UserLambdaValidationException")}name="UserLambdaValidationException";$fault="client";constructor(t){super({name:"UserLambdaValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,Olt.prototype)}},j6r={EMAIL:"EMAIL",SMS:"SMS"},$6r={RESEND:"RESEND",SUPPRESS:"SUPPRESS"},z6r={ARCHIVED:"ARCHIVED",COMPROMISED:"COMPROMISED",CONFIRMED:"CONFIRMED",EXTERNAL_PROVIDER:"EXTERNAL_PROVIDER",FORCE_CHANGE_PASSWORD:"FORCE_CHANGE_PASSWORD",RESET_REQUIRED:"RESET_REQUIRED",UNCONFIRMED:"UNCONFIRMED",UNKNOWN:"UNKNOWN"},Nlt=class Dlt extends Ye{static{v(this,"CodeDeliveryFailureException")}name="CodeDeliveryFailureException";$fault="client";constructor(t){super({name:"CodeDeliveryFailureException",$fault:"client",...t}),Object.setPrototypeOf(this,Dlt.prototype)}},klt=class Mlt extends Ye{static{v(this,"InvalidPasswordException")}name="InvalidPasswordException";$fault="client";constructor(t){super({name:"InvalidPasswordException",$fault:"client",...t}),Object.setPrototypeOf(this,Mlt.prototype)}},Llt=class Ult extends Ye{static{v(this,"InvalidSmsRoleAccessPolicyException")}name="InvalidSmsRoleAccessPolicyException";$fault="client";constructor(t){super({name:"InvalidSmsRoleAccessPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,Ult.prototype)}},Flt=class Blt extends Ye{static{v(this,"InvalidSmsRoleTrustRelationshipException")}name="InvalidSmsRoleTrustRelationshipException";$fault="client";constructor(t){super({name:"InvalidSmsRoleTrustRelationshipException",$fault:"client",...t}),Object.setPrototypeOf(this,Blt.prototype)}},qlt=class jlt extends Ye{static{v(this,"PreconditionNotMetException")}name="PreconditionNotMetException";$fault="client";constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,jlt.prototype)}},$lt=class zlt extends Ye{static{v(this,"UnsupportedUserStateException")}name="UnsupportedUserStateException";$fault="client";constructor(t){super({name:"UnsupportedUserStateException",$fault:"client",...t}),Object.setPrototypeOf(this,zlt.prototype)}},Hlt=class Vlt extends Ye{static{v(this,"UsernameExistsException")}name="UsernameExistsException";$fault="client";constructor(t){super({name:"UsernameExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Vlt.prototype)}},Glt=class Wlt extends Ye{static{v(this,"AliasExistsException")}name="AliasExistsException";$fault="client";constructor(t){super({name:"AliasExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Wlt.prototype)}},Klt=class Xlt extends Ye{static{v(this,"InvalidUserPoolConfigurationException")}name="InvalidUserPoolConfigurationException";$fault="client";constructor(t){super({name:"InvalidUserPoolConfigurationException",$fault:"client",...t}),Object.setPrototypeOf(this,Xlt.prototype)}},H6r={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",ADMIN_USER_PASSWORD_AUTH:"ADMIN_USER_PASSWORD_AUTH",CUSTOM_AUTH:"CUSTOM_AUTH",REFRESH_TOKEN:"REFRESH_TOKEN",REFRESH_TOKEN_AUTH:"REFRESH_TOKEN_AUTH",USER_AUTH:"USER_AUTH",USER_PASSWORD_AUTH:"USER_PASSWORD_AUTH",USER_SRP_AUTH:"USER_SRP_AUTH"},V6r={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",CUSTOM_CHALLENGE:"CUSTOM_CHALLENGE",DEVICE_PASSWORD_VERIFIER:"DEVICE_PASSWORD_VERIFIER",DEVICE_SRP_AUTH:"DEVICE_SRP_AUTH",EMAIL_OTP:"EMAIL_OTP",MFA_SETUP:"MFA_SETUP",NEW_PASSWORD_REQUIRED:"NEW_PASSWORD_REQUIRED",PASSWORD:"PASSWORD",PASSWORD_SRP:"PASSWORD_SRP",PASSWORD_VERIFIER:"PASSWORD_VERIFIER",SELECT_CHALLENGE:"SELECT_CHALLENGE",SELECT_MFA_TYPE:"SELECT_MFA_TYPE",SMS_MFA:"SMS_MFA",SMS_OTP:"SMS_OTP",SOFTWARE_TOKEN_MFA:"SOFTWARE_TOKEN_MFA",WEB_AUTHN:"WEB_AUTHN"},Jlt=class Qlt extends Ye{static{v(this,"InvalidEmailRoleAccessPolicyException")}name="InvalidEmailRoleAccessPolicyException";$fault="client";constructor(t){super({name:"InvalidEmailRoleAccessPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,Qlt.prototype)}},Ylt=class Zlt extends Ye{static{v(this,"MFAMethodNotFoundException")}name="MFAMethodNotFoundException";$fault="client";constructor(t){super({name:"MFAMethodNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Zlt.prototype)}},edt=class tdt extends Ye{static{v(this,"PasswordResetRequiredException")}name="PasswordResetRequiredException";$fault="client";constructor(t){super({name:"PasswordResetRequiredException",$fault:"client",...t}),Object.setPrototypeOf(this,tdt.prototype)}},rdt=class ndt extends Ye{static{v(this,"UnsupportedOperationException")}name="UnsupportedOperationException";$fault="client";constructor(t){super({name:"UnsupportedOperationException",$fault:"client",...t}),Object.setPrototypeOf(this,ndt.prototype)}},sdt=class idt extends Ye{static{v(this,"UserNotConfirmedException")}name="UserNotConfirmedException";$fault="client";constructor(t){super({name:"UserNotConfirmedException",$fault:"client",...t}),Object.setPrototypeOf(this,idt.prototype)}},G6r={Mfa:"Mfa",Password:"Password"},W6r={Failure:"Failure",Success:"Success"},K6r={INVALID:"Invalid",VALID:"Valid"},X6r={Fail:"Fail",InProgress:"InProgress",Pass:"Pass"},J6r={AccountTakeover:"AccountTakeover",Block:"Block",NoRisk:"NoRisk"},Q6r={High:"High",Low:"Low",Medium:"Medium"},Y6r={ForgotPassword:"ForgotPassword",PasswordChange:"PasswordChange",ResendCode:"ResendCode",SignIn:"SignIn",SignUp:"SignUp"},odt=class adt extends Ye{static{v(this,"UserPoolAddOnNotEnabledException")}name="UserPoolAddOnNotEnabledException";$fault="client";constructor(t){super({name:"UserPoolAddOnNotEnabledException",$fault:"client",...t}),Object.setPrototypeOf(this,adt.prototype)}},cdt=class ldt extends Ye{static{v(this,"CodeMismatchException")}name="CodeMismatchException";$fault="client";constructor(t){super({name:"CodeMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,ldt.prototype)}},ddt=class udt extends Ye{static{v(this,"ExpiredCodeException")}name="ExpiredCodeException";$fault="client";constructor(t){super({name:"ExpiredCodeException",$fault:"client",...t}),Object.setPrototypeOf(this,udt.prototype)}},mdt=class fdt extends Ye{static{v(this,"PasswordHistoryPolicyViolationException")}name="PasswordHistoryPolicyViolationException";$fault="client";constructor(t){super({name:"PasswordHistoryPolicyViolationException",$fault:"client",...t}),Object.setPrototypeOf(this,fdt.prototype)}},pdt=class gdt extends Ye{static{v(this,"SoftwareTokenMFANotFoundException")}name="SoftwareTokenMFANotFoundException";$fault="client";constructor(t){super({name:"SoftwareTokenMFANotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,gdt.prototype)}},Z6r={NOT_REMEMBERED:"not_remembered",REMEMBERED:"remembered"},e8r={AUDIT:"AUDIT",ENFORCED:"ENFORCED"},t8r={AUDIT:"AUDIT",ENFORCED:"ENFORCED",OFF:"OFF"},r8r={EMAIL:"email",PHONE_NUMBER:"phone_number",PREFERRED_USERNAME:"preferred_username"},n8r={EMAIL_OTP:"EMAIL_OTP",PASSWORD:"PASSWORD",SMS_OTP:"SMS_OTP",WEB_AUTHN:"WEB_AUTHN"},s8r={AUTH_APP_GRAPHIC:"AUTH_APP_GRAPHIC",EMAIL_GRAPHIC:"EMAIL_GRAPHIC",FAVICON_ICO:"FAVICON_ICO",FAVICON_SVG:"FAVICON_SVG",FORM_BACKGROUND:"FORM_BACKGROUND",FORM_LOGO:"FORM_LOGO",IDP_BUTTON_ICON:"IDP_BUTTON_ICON",PAGE_BACKGROUND:"PAGE_BACKGROUND",PAGE_FOOTER_BACKGROUND:"PAGE_FOOTER_BACKGROUND",PAGE_FOOTER_LOGO:"PAGE_FOOTER_LOGO",PAGE_HEADER_BACKGROUND:"PAGE_HEADER_BACKGROUND",PAGE_HEADER_LOGO:"PAGE_HEADER_LOGO",PASSKEY_GRAPHIC:"PASSKEY_GRAPHIC",PASSWORD_GRAPHIC:"PASSWORD_GRAPHIC",SMS_GRAPHIC:"SMS_GRAPHIC"},i8r={ICO:"ICO",JPEG:"JPEG",PNG:"PNG",SVG:"SVG",WEBP:"WEBP"},o8r={DARK:"DARK",DYNAMIC:"DYNAMIC",LIGHT:"LIGHT"},hdt=class ydt extends Ye{static{v(this,"ConcurrentModificationException")}name="ConcurrentModificationException";$fault="client";constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),Object.setPrototypeOf(this,ydt.prototype)}},_dt=class Sdt extends Ye{static{v(this,"ForbiddenException")}name="ForbiddenException";$fault="client";constructor(t){super({name:"ForbiddenException",$fault:"client",...t}),Object.setPrototypeOf(this,Sdt.prototype)}},a8r={EMAIL:"email",PHONE_NUMBER:"phone_number"},vdt=class Edt extends Ye{static{v(this,"WebAuthnChallengeNotFoundException")}name="WebAuthnChallengeNotFoundException";$fault="client";constructor(t){super({name:"WebAuthnChallengeNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Edt.prototype)}},Cdt=class bdt extends Ye{static{v(this,"WebAuthnClientMismatchException")}name="WebAuthnClientMismatchException";$fault="client";constructor(t){super({name:"WebAuthnClientMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,bdt.prototype)}},wdt=class Adt extends Ye{static{v(this,"WebAuthnCredentialNotSupportedException")}name="WebAuthnCredentialNotSupportedException";$fault="client";constructor(t){super({name:"WebAuthnCredentialNotSupportedException",$fault:"client",...t}),Object.setPrototypeOf(this,Adt.prototype)}},xdt=class Pdt extends Ye{static{v(this,"WebAuthnNotEnabledException")}name="WebAuthnNotEnabledException";$fault="client";constructor(t){super({name:"WebAuthnNotEnabledException",$fault:"client",...t}),Object.setPrototypeOf(this,Pdt.prototype)}},Rdt=class Tdt extends Ye{static{v(this,"WebAuthnOriginNotAllowedException")}name="WebAuthnOriginNotAllowedException";$fault="client";constructor(t){super({name:"WebAuthnOriginNotAllowedException",$fault:"client",...t}),Object.setPrototypeOf(this,Tdt.prototype)}},Idt=class Odt extends Ye{static{v(this,"WebAuthnRelyingPartyMismatchException")}name="WebAuthnRelyingPartyMismatchException";$fault="client";constructor(t){super({name:"WebAuthnRelyingPartyMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,Odt.prototype)}},Ndt=class Ddt extends Ye{static{v(this,"DeviceKeyExistsException")}name="DeviceKeyExistsException";$fault="client";constructor(t){super({name:"DeviceKeyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Ddt.prototype)}},kdt=class Mdt extends Ye{static{v(this,"GroupExistsException")}name="GroupExistsException";$fault="client";constructor(t){super({name:"GroupExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Mdt.prototype)}},c8r={Facebook:"Facebook",Google:"Google",LoginWithAmazon:"LoginWithAmazon",OIDC:"OIDC",SAML:"SAML",SignInWithApple:"SignInWithApple"},Ldt=class Udt extends Ye{static{v(this,"DuplicateProviderException")}name="DuplicateProviderException";$fault="client";constructor(t){super({name:"DuplicateProviderException",$fault:"client",...t}),Object.setPrototypeOf(this,Udt.prototype)}},Fdt=class Bdt extends Ye{static{v(this,"ManagedLoginBrandingExistsException")}name="ManagedLoginBrandingExistsException";$fault="client";constructor(t){super({name:"ManagedLoginBrandingExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Bdt.prototype)}},l8r={Created:"Created",Expired:"Expired",Failed:"Failed",InProgress:"InProgress",Pending:"Pending",Stopped:"Stopped",Stopping:"Stopping",Succeeded:"Succeeded"},d8r={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},u8r={COGNITO_DEFAULT:"COGNITO_DEFAULT",DEVELOPER:"DEVELOPER"},m8r={V1_0:"V1_0"},f8r={V1_0:"V1_0"},p8r={V1_0:"V1_0",V2_0:"V2_0",V3_0:"V3_0"},g8r={OFF:"OFF",ON:"ON",OPTIONAL:"OPTIONAL"},h8r={EMAIL:"email",PHONE_NUMBER:"phone_number"},y8r={ESSENTIALS:"ESSENTIALS",LITE:"LITE",PLUS:"PLUS"},_8r={CONFIRM_WITH_CODE:"CONFIRM_WITH_CODE",CONFIRM_WITH_LINK:"CONFIRM_WITH_LINK"},S8r={Disabled:"Disabled",Enabled:"Enabled"},qdt=class jdt extends Ye{static{v(this,"FeatureUnavailableInTierException")}name="FeatureUnavailableInTierException";$fault="client";constructor(t){super({name:"FeatureUnavailableInTierException",$fault:"client",...t}),Object.setPrototypeOf(this,jdt.prototype)}},$dt=class zdt extends Ye{static{v(this,"TierChangeNotAllowedException")}name="TierChangeNotAllowedException";$fault="client";constructor(t){super({name:"TierChangeNotAllowedException",$fault:"client",...t}),Object.setPrototypeOf(this,zdt.prototype)}},Hdt=class Vdt extends Ye{static{v(this,"UserPoolTaggingException")}name="UserPoolTaggingException";$fault="client";constructor(t){super({name:"UserPoolTaggingException",$fault:"client",...t}),Object.setPrototypeOf(this,Vdt.prototype)}},v8r={client_credentials:"client_credentials",code:"code",implicit:"implicit"},E8r={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",ALLOW_ADMIN_USER_PASSWORD_AUTH:"ALLOW_ADMIN_USER_PASSWORD_AUTH",ALLOW_CUSTOM_AUTH:"ALLOW_CUSTOM_AUTH",ALLOW_REFRESH_TOKEN_AUTH:"ALLOW_REFRESH_TOKEN_AUTH",ALLOW_USER_AUTH:"ALLOW_USER_AUTH",ALLOW_USER_PASSWORD_AUTH:"ALLOW_USER_PASSWORD_AUTH",ALLOW_USER_SRP_AUTH:"ALLOW_USER_SRP_AUTH",CUSTOM_AUTH_FLOW_ONLY:"CUSTOM_AUTH_FLOW_ONLY",USER_PASSWORD_AUTH:"USER_PASSWORD_AUTH"},C8r={ENABLED:"ENABLED",LEGACY:"LEGACY"},b8r={DISABLED:"DISABLED",ENABLED:"ENABLED"},w8r={DAYS:"days",HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"},Gdt=class Wdt extends Ye{static{v(this,"InvalidOAuthFlowException")}name="InvalidOAuthFlowException";$fault="client";constructor(t){super({name:"InvalidOAuthFlowException",$fault:"client",...t}),Object.setPrototypeOf(this,Wdt.prototype)}},Kdt=class Xdt extends Ye{static{v(this,"ScopeDoesNotExistException")}name="ScopeDoesNotExistException";$fault="client";constructor(t){super({name:"ScopeDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,Xdt.prototype)}},Jdt=class Qdt extends Ye{static{v(this,"UnsupportedIdentityProviderException")}name="UnsupportedIdentityProviderException";$fault="client";constructor(t){super({name:"UnsupportedIdentityProviderException",$fault:"client",...t}),Object.setPrototypeOf(this,Qdt.prototype)}},A8r={BLOCK:"BLOCK",NO_ACTION:"NO_ACTION"},x8r={PASSWORD_CHANGE:"PASSWORD_CHANGE",SIGN_IN:"SIGN_IN",SIGN_UP:"SIGN_UP"},P8r={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",FAILED:"FAILED",UPDATING:"UPDATING"},R8r={USER_AUTH_EVENTS:"userAuthEvents",USER_NOTIFICATION:"userNotification"},T8r={ERROR:"ERROR",INFO:"INFO"},Ydt=class Zdt extends Ye{static{v(this,"RefreshTokenReuseException")}name="RefreshTokenReuseException";$fault="client";constructor(t){super({name:"RefreshTokenReuseException",$fault:"client",...t}),Object.setPrototypeOf(this,Zdt.prototype)}},eut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminAddUserToGroupRequestFilterSensitiveLog"),tut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminConfirmSignUpRequestFilterSensitiveLog"),am=v(e=>({...e,...e.Value&&{Value:h.SENSITIVE_STRING}}),"AttributeTypeFilterSensitiveLog"),rut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>am(t))},...e.ValidationData&&{ValidationData:e.ValidationData.map(t=>am(t))},...e.TemporaryPassword&&{TemporaryPassword:h.SENSITIVE_STRING}}),"AdminCreateUserRequestFilterSensitiveLog"),q3=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.Attributes&&{Attributes:e.Attributes.map(t=>am(t))}}),"UserTypeFilterSensitiveLog"),nut=v(e=>({...e,...e.User&&{User:q3(e.User)}}),"AdminCreateUserResponseFilterSensitiveLog"),sut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminDeleteUserRequestFilterSensitiveLog"),iut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminDeleteUserAttributesRequestFilterSensitiveLog"),out=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminDisableUserRequestFilterSensitiveLog"),aut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminEnableUserRequestFilterSensitiveLog"),cut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminForgetDeviceRequestFilterSensitiveLog"),lut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminGetDeviceRequestFilterSensitiveLog"),tde=v(e=>({...e,...e.DeviceAttributes&&{DeviceAttributes:e.DeviceAttributes.map(t=>am(t))}}),"DeviceTypeFilterSensitiveLog"),dut=v(e=>({...e,...e.Device&&{Device:tde(e.Device)}}),"AdminGetDeviceResponseFilterSensitiveLog"),uut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminGetUserRequestFilterSensitiveLog"),mut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>am(t))}}),"AdminGetUserResponseFilterSensitiveLog"),fut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.AuthParameters&&{AuthParameters:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AdminInitiateAuthRequestFilterSensitiveLog"),rx=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING},...e.RefreshToken&&{RefreshToken:h.SENSITIVE_STRING},...e.IdToken&&{IdToken:h.SENSITIVE_STRING}}),"AuthenticationResultTypeFilterSensitiveLog"),put=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:rx(e.AuthenticationResult)}}),"AdminInitiateAuthResponseFilterSensitiveLog"),gut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminListDevicesRequestFilterSensitiveLog"),hut=v(e=>({...e}),"AdminListDevicesResponseFilterSensitiveLog"),yut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminListGroupsForUserRequestFilterSensitiveLog"),_ut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminListUserAuthEventsRequestFilterSensitiveLog"),Sut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminRemoveUserFromGroupRequestFilterSensitiveLog"),vut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminResetUserPasswordRequestFilterSensitiveLog"),Eut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ChallengeResponses&&{ChallengeResponses:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AdminRespondToAuthChallengeRequestFilterSensitiveLog"),Cut=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:rx(e.AuthenticationResult)}}),"AdminRespondToAuthChallengeResponseFilterSensitiveLog"),but=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminSetUserMFAPreferenceRequestFilterSensitiveLog"),wut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.Password&&{Password:h.SENSITIVE_STRING}}),"AdminSetUserPasswordRequestFilterSensitiveLog"),Aut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminSetUserSettingsRequestFilterSensitiveLog"),xut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminUpdateAuthEventFeedbackRequestFilterSensitiveLog"),Put=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminUpdateDeviceStatusRequestFilterSensitiveLog"),Rut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>am(t))}}),"AdminUpdateUserAttributesRequestFilterSensitiveLog"),Tut=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminUserGlobalSignOutRequestFilterSensitiveLog"),Iut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AssociateSoftwareTokenRequestFilterSensitiveLog"),Out=v(e=>({...e,...e.SecretCode&&{SecretCode:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AssociateSoftwareTokenResponseFilterSensitiveLog"),Nut=v(e=>({...e,...e.PreviousPassword&&{PreviousPassword:h.SENSITIVE_STRING},...e.ProposedPassword&&{ProposedPassword:h.SENSITIVE_STRING},...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ChangePasswordRequestFilterSensitiveLog"),Dut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"CompleteWebAuthnRegistrationRequestFilterSensitiveLog"),kut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ConfirmDeviceRequestFilterSensitiveLog"),I8r=v(e=>({...e}),"UserContextDataTypeFilterSensitiveLog"),Mut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING},...e.Password&&{Password:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING}}),"ConfirmForgotPasswordRequestFilterSensitiveLog"),Lut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"ConfirmSignUpRequestFilterSensitiveLog"),Uut=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING}}),"ConfirmSignUpResponseFilterSensitiveLog"),Fut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"CreateManagedLoginBrandingRequestFilterSensitiveLog"),j3=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ClientSecret&&{ClientSecret:h.SENSITIVE_STRING}}),"UserPoolClientTypeFilterSensitiveLog"),But=v(e=>({...e,...e.UserPoolClient&&{UserPoolClient:j3(e.UserPoolClient)}}),"CreateUserPoolClientResponseFilterSensitiveLog"),qut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"DeleteUserRequestFilterSensitiveLog"),jut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"DeleteUserAttributesRequestFilterSensitiveLog"),$ut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DeleteUserPoolClientRequestFilterSensitiveLog"),zut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"DeleteWebAuthnCredentialRequestFilterSensitiveLog"),Hut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DescribeManagedLoginBrandingByClientRequestFilterSensitiveLog"),Vut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DescribeRiskConfigurationRequestFilterSensitiveLog"),rde=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"RiskConfigurationTypeFilterSensitiveLog"),Gut=v(e=>({...e,...e.RiskConfiguration&&{RiskConfiguration:rde(e.RiskConfiguration)}}),"DescribeRiskConfigurationResponseFilterSensitiveLog"),Wut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DescribeUserPoolClientRequestFilterSensitiveLog"),Kut=v(e=>({...e,...e.UserPoolClient&&{UserPoolClient:j3(e.UserPoolClient)}}),"DescribeUserPoolClientResponseFilterSensitiveLog"),Xut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ForgetDeviceRequestFilterSensitiveLog"),Jut=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING}}),"ForgotPasswordRequestFilterSensitiveLog"),Qut=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetDeviceRequestFilterSensitiveLog"),Yut=v(e=>({...e,...e.Device&&{Device:tde(e.Device)}}),"GetDeviceResponseFilterSensitiveLog"),Zut=v(e=>({...e,...e.RefreshToken&&{RefreshToken:h.SENSITIVE_STRING},...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ClientSecret&&{ClientSecret:h.SENSITIVE_STRING}}),"GetTokensFromRefreshTokenRequestFilterSensitiveLog"),emt=v(e=>({...e,...e.AuthenticationResult&&{AuthenticationResult:rx(e.AuthenticationResult)}}),"GetTokensFromRefreshTokenResponseFilterSensitiveLog"),tmt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"GetUICustomizationRequestFilterSensitiveLog"),nde=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"UICustomizationTypeFilterSensitiveLog"),rmt=v(e=>({...e,...e.UICustomization&&{UICustomization:nde(e.UICustomization)}}),"GetUICustomizationResponseFilterSensitiveLog"),nmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetUserRequestFilterSensitiveLog"),smt=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>am(t))}}),"GetUserResponseFilterSensitiveLog"),imt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetUserAttributeVerificationCodeRequestFilterSensitiveLog"),O8r={PREFERRED:"preferred",REQUIRED:"required"},omt=class amt extends Ye{static{v(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,amt.prototype)}},cmt=class lmt extends Ye{static{v(this,"UnsupportedTokenTypeException")}name="UnsupportedTokenTypeException";$fault="client";constructor(t){super({name:"UnsupportedTokenTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,lmt.prototype)}},dmt=class umt extends Ye{static{v(this,"WebAuthnConfigurationMissingException")}name="WebAuthnConfigurationMissingException";$fault="client";constructor(t){super({name:"WebAuthnConfigurationMissingException",$fault:"client",...t}),Object.setPrototypeOf(this,umt.prototype)}},mmt=class fmt extends Ye{static{v(this,"EnableSoftwareTokenMFAException")}name="EnableSoftwareTokenMFAException";$fault="client";constructor(t){super({name:"EnableSoftwareTokenMFAException",$fault:"client",...t}),Object.setPrototypeOf(this,fmt.prototype)}},N8r={ERROR:"ERROR",SUCCESS:"SUCCESS"},pmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetUserAuthFactorsRequestFilterSensitiveLog"),gmt=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"GetUserAuthFactorsResponseFilterSensitiveLog"),hmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GlobalSignOutRequestFilterSensitiveLog"),ymt=v(e=>({...e,...e.AuthParameters&&{AuthParameters:h.SENSITIVE_STRING},...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"InitiateAuthRequestFilterSensitiveLog"),_mt=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:rx(e.AuthenticationResult)}}),"InitiateAuthResponseFilterSensitiveLog"),Smt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ListDevicesRequestFilterSensitiveLog"),vmt=v(e=>({...e}),"ListDevicesResponseFilterSensitiveLog"),Emt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"UserPoolClientDescriptionFilterSensitiveLog"),Cmt=v(e=>({...e,...e.UserPoolClients&&{UserPoolClients:e.UserPoolClients.map(t=>Emt(t))}}),"ListUserPoolClientsResponseFilterSensitiveLog"),bmt=v(e=>({...e,...e.Users&&{Users:e.Users.map(t=>q3(t))}}),"ListUsersResponseFilterSensitiveLog"),wmt=v(e=>({...e,...e.Users&&{Users:e.Users.map(t=>q3(t))}}),"ListUsersInGroupResponseFilterSensitiveLog"),Amt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ListWebAuthnCredentialsRequestFilterSensitiveLog"),xmt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING}}),"ResendConfirmationCodeRequestFilterSensitiveLog"),Pmt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING},...e.ChallengeResponses&&{ChallengeResponses:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING}}),"RespondToAuthChallengeRequestFilterSensitiveLog"),Rmt=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:rx(e.AuthenticationResult)}}),"RespondToAuthChallengeResponseFilterSensitiveLog"),Tmt=v(e=>({...e,...e.Token&&{Token:h.SENSITIVE_STRING},...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ClientSecret&&{ClientSecret:h.SENSITIVE_STRING}}),"RevokeTokenRequestFilterSensitiveLog"),Imt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"SetRiskConfigurationRequestFilterSensitiveLog"),Omt=v(e=>({...e,...e.RiskConfiguration&&{RiskConfiguration:rde(e.RiskConfiguration)}}),"SetRiskConfigurationResponseFilterSensitiveLog"),Nmt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"SetUICustomizationRequestFilterSensitiveLog"),Dmt=v(e=>({...e,...e.UICustomization&&{UICustomization:nde(e.UICustomization)}}),"SetUICustomizationResponseFilterSensitiveLog"),kmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"SetUserMFAPreferenceRequestFilterSensitiveLog"),Mmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"SetUserSettingsRequestFilterSensitiveLog"),Lmt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING},...e.Password&&{Password:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>am(t))},...e.ValidationData&&{ValidationData:e.ValidationData.map(t=>am(t))},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING}}),"SignUpRequestFilterSensitiveLog"),Umt=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING}}),"SignUpResponseFilterSensitiveLog"),Fmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"StartWebAuthnRegistrationRequestFilterSensitiveLog"),Bmt=v(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.FeedbackToken&&{FeedbackToken:h.SENSITIVE_STRING}}),"UpdateAuthEventFeedbackRequestFilterSensitiveLog"),qmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"UpdateDeviceStatusRequestFilterSensitiveLog"),jmt=v(e=>({...e,...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>am(t))},...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"UpdateUserAttributesRequestFilterSensitiveLog"),$mt=v(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"UpdateUserPoolClientRequestFilterSensitiveLog"),zmt=v(e=>({...e,...e.UserPoolClient&&{UserPoolClient:j3(e.UserPoolClient)}}),"UpdateUserPoolClientResponseFilterSensitiveLog"),Hmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING},...e.UserCode&&{UserCode:h.SENSITIVE_STRING}}),"VerifySoftwareTokenRequestFilterSensitiveLog"),Vmt=v(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING}}),"VerifySoftwareTokenResponseFilterSensitiveLog"),Gmt=v(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"VerifyUserAttributeRequestFilterSensitiveLog"),D8r=v(async(e,t)=>{let r=ee("AddCustomAttributes"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AddCustomAttributesCommand"),k8r=v(async(e,t)=>{let r=ee("AdminAddUserToGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminAddUserToGroupCommand"),M8r=v(async(e,t)=>{let r=ee("AdminConfirmSignUp"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminConfirmSignUpCommand"),L8r=v(async(e,t)=>{let r=ee("AdminCreateUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminCreateUserCommand"),U8r=v(async(e,t)=>{let r=ee("AdminDeleteUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminDeleteUserCommand"),F8r=v(async(e,t)=>{let r=ee("AdminDeleteUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminDeleteUserAttributesCommand"),B8r=v(async(e,t)=>{let r=ee("AdminDisableProviderForUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminDisableProviderForUserCommand"),q8r=v(async(e,t)=>{let r=ee("AdminDisableUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminDisableUserCommand"),j8r=v(async(e,t)=>{let r=ee("AdminEnableUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminEnableUserCommand"),$8r=v(async(e,t)=>{let r=ee("AdminForgetDevice"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminForgetDeviceCommand"),z8r=v(async(e,t)=>{let r=ee("AdminGetDevice"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminGetDeviceCommand"),H8r=v(async(e,t)=>{let r=ee("AdminGetUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminGetUserCommand"),V8r=v(async(e,t)=>{let r=ee("AdminInitiateAuth"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminInitiateAuthCommand"),G8r=v(async(e,t)=>{let r=ee("AdminLinkProviderForUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminLinkProviderForUserCommand"),W8r=v(async(e,t)=>{let r=ee("AdminListDevices"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminListDevicesCommand"),K8r=v(async(e,t)=>{let r=ee("AdminListGroupsForUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminListGroupsForUserCommand"),X8r=v(async(e,t)=>{let r=ee("AdminListUserAuthEvents"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminListUserAuthEventsCommand"),J8r=v(async(e,t)=>{let r=ee("AdminRemoveUserFromGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminRemoveUserFromGroupCommand"),Q8r=v(async(e,t)=>{let r=ee("AdminResetUserPassword"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminResetUserPasswordCommand"),Y8r=v(async(e,t)=>{let r=ee("AdminRespondToAuthChallenge"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminRespondToAuthChallengeCommand"),Z8r=v(async(e,t)=>{let r=ee("AdminSetUserMFAPreference"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminSetUserMFAPreferenceCommand"),e5r=v(async(e,t)=>{let r=ee("AdminSetUserPassword"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminSetUserPasswordCommand"),t5r=v(async(e,t)=>{let r=ee("AdminSetUserSettings"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminSetUserSettingsCommand"),r5r=v(async(e,t)=>{let r=ee("AdminUpdateAuthEventFeedback"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminUpdateAuthEventFeedbackCommand"),n5r=v(async(e,t)=>{let r=ee("AdminUpdateDeviceStatus"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminUpdateDeviceStatusCommand"),s5r=v(async(e,t)=>{let r=ee("AdminUpdateUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminUpdateUserAttributesCommand"),i5r=v(async(e,t)=>{let r=ee("AdminUserGlobalSignOut"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AdminUserGlobalSignOutCommand"),o5r=v(async(e,t)=>{let r=ee("AssociateSoftwareToken"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_AssociateSoftwareTokenCommand"),a5r=v(async(e,t)=>{let r=ee("ChangePassword"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ChangePasswordCommand"),c5r=v(async(e,t)=>{let r=ee("CompleteWebAuthnRegistration"),n;return n=JSON.stringify(GYr(e,t)),se(t,r,"/",void 0,n)},"se_CompleteWebAuthnRegistrationCommand"),l5r=v(async(e,t)=>{let r=ee("ConfirmDevice"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ConfirmDeviceCommand"),d5r=v(async(e,t)=>{let r=ee("ConfirmForgotPassword"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ConfirmForgotPasswordCommand"),u5r=v(async(e,t)=>{let r=ee("ConfirmSignUp"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ConfirmSignUpCommand"),m5r=v(async(e,t)=>{let r=ee("CreateGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateGroupCommand"),f5r=v(async(e,t)=>{let r=ee("CreateIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateIdentityProviderCommand"),p5r=v(async(e,t)=>{let r=ee("CreateManagedLoginBranding"),n;return n=JSON.stringify(WYr(e,t)),se(t,r,"/",void 0,n)},"se_CreateManagedLoginBrandingCommand"),g5r=v(async(e,t)=>{let r=ee("CreateResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateResourceServerCommand"),h5r=v(async(e,t)=>{let r=ee("CreateUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateUserImportJobCommand"),y5r=v(async(e,t)=>{let r=ee("CreateUserPool"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateUserPoolCommand"),_5r=v(async(e,t)=>{let r=ee("CreateUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateUserPoolClientCommand"),S5r=v(async(e,t)=>{let r=ee("CreateUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_CreateUserPoolDomainCommand"),v5r=v(async(e,t)=>{let r=ee("DeleteGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteGroupCommand"),E5r=v(async(e,t)=>{let r=ee("DeleteIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteIdentityProviderCommand"),C5r=v(async(e,t)=>{let r=ee("DeleteManagedLoginBranding"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteManagedLoginBrandingCommand"),b5r=v(async(e,t)=>{let r=ee("DeleteResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteResourceServerCommand"),w5r=v(async(e,t)=>{let r=ee("DeleteUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteUserCommand"),A5r=v(async(e,t)=>{let r=ee("DeleteUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteUserAttributesCommand"),x5r=v(async(e,t)=>{let r=ee("DeleteUserPool"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteUserPoolCommand"),P5r=v(async(e,t)=>{let r=ee("DeleteUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteUserPoolClientCommand"),R5r=v(async(e,t)=>{let r=ee("DeleteUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteUserPoolDomainCommand"),T5r=v(async(e,t)=>{let r=ee("DeleteWebAuthnCredential"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DeleteWebAuthnCredentialCommand"),I5r=v(async(e,t)=>{let r=ee("DescribeIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeIdentityProviderCommand"),O5r=v(async(e,t)=>{let r=ee("DescribeManagedLoginBranding"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeManagedLoginBrandingCommand"),N5r=v(async(e,t)=>{let r=ee("DescribeManagedLoginBrandingByClient"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeManagedLoginBrandingByClientCommand"),D5r=v(async(e,t)=>{let r=ee("DescribeResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeResourceServerCommand"),k5r=v(async(e,t)=>{let r=ee("DescribeRiskConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeRiskConfigurationCommand"),M5r=v(async(e,t)=>{let r=ee("DescribeUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeUserImportJobCommand"),L5r=v(async(e,t)=>{let r=ee("DescribeUserPool"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeUserPoolCommand"),U5r=v(async(e,t)=>{let r=ee("DescribeUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeUserPoolClientCommand"),F5r=v(async(e,t)=>{let r=ee("DescribeUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_DescribeUserPoolDomainCommand"),B5r=v(async(e,t)=>{let r=ee("ForgetDevice"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ForgetDeviceCommand"),q5r=v(async(e,t)=>{let r=ee("ForgotPassword"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ForgotPasswordCommand"),j5r=v(async(e,t)=>{let r=ee("GetCSVHeader"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetCSVHeaderCommand"),$5r=v(async(e,t)=>{let r=ee("GetDevice"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetDeviceCommand"),z5r=v(async(e,t)=>{let r=ee("GetGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetGroupCommand"),H5r=v(async(e,t)=>{let r=ee("GetIdentityProviderByIdentifier"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetIdentityProviderByIdentifierCommand"),V5r=v(async(e,t)=>{let r=ee("GetLogDeliveryConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetLogDeliveryConfigurationCommand"),G5r=v(async(e,t)=>{let r=ee("GetSigningCertificate"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetSigningCertificateCommand"),W5r=v(async(e,t)=>{let r=ee("GetTokensFromRefreshToken"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetTokensFromRefreshTokenCommand"),K5r=v(async(e,t)=>{let r=ee("GetUICustomization"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetUICustomizationCommand"),X5r=v(async(e,t)=>{let r=ee("GetUser"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetUserCommand"),J5r=v(async(e,t)=>{let r=ee("GetUserAttributeVerificationCode"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetUserAttributeVerificationCodeCommand"),Q5r=v(async(e,t)=>{let r=ee("GetUserAuthFactors"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetUserAuthFactorsCommand"),Y5r=v(async(e,t)=>{let r=ee("GetUserPoolMfaConfig"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GetUserPoolMfaConfigCommand"),Z5r=v(async(e,t)=>{let r=ee("GlobalSignOut"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_GlobalSignOutCommand"),eXr=v(async(e,t)=>{let r=ee("InitiateAuth"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_InitiateAuthCommand"),tXr=v(async(e,t)=>{let r=ee("ListDevices"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListDevicesCommand"),rXr=v(async(e,t)=>{let r=ee("ListGroups"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListGroupsCommand"),nXr=v(async(e,t)=>{let r=ee("ListIdentityProviders"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListIdentityProvidersCommand"),sXr=v(async(e,t)=>{let r=ee("ListResourceServers"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListResourceServersCommand"),iXr=v(async(e,t)=>{let r=ee("ListTagsForResource"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),oXr=v(async(e,t)=>{let r=ee("ListUserImportJobs"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListUserImportJobsCommand"),aXr=v(async(e,t)=>{let r=ee("ListUserPoolClients"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListUserPoolClientsCommand"),cXr=v(async(e,t)=>{let r=ee("ListUserPools"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListUserPoolsCommand"),lXr=v(async(e,t)=>{let r=ee("ListUsers"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListUsersCommand"),dXr=v(async(e,t)=>{let r=ee("ListUsersInGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListUsersInGroupCommand"),uXr=v(async(e,t)=>{let r=ee("ListWebAuthnCredentials"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ListWebAuthnCredentialsCommand"),mXr=v(async(e,t)=>{let r=ee("ResendConfirmationCode"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_ResendConfirmationCodeCommand"),fXr=v(async(e,t)=>{let r=ee("RespondToAuthChallenge"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_RespondToAuthChallengeCommand"),pXr=v(async(e,t)=>{let r=ee("RevokeToken"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_RevokeTokenCommand"),gXr=v(async(e,t)=>{let r=ee("SetLogDeliveryConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_SetLogDeliveryConfigurationCommand"),hXr=v(async(e,t)=>{let r=ee("SetRiskConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_SetRiskConfigurationCommand"),yXr=v(async(e,t)=>{let r=ee("SetUICustomization"),n;return n=JSON.stringify(KYr(e,t)),se(t,r,"/",void 0,n)},"se_SetUICustomizationCommand"),_Xr=v(async(e,t)=>{let r=ee("SetUserMFAPreference"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_SetUserMFAPreferenceCommand"),SXr=v(async(e,t)=>{let r=ee("SetUserPoolMfaConfig"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_SetUserPoolMfaConfigCommand"),vXr=v(async(e,t)=>{let r=ee("SetUserSettings"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_SetUserSettingsCommand"),EXr=v(async(e,t)=>{let r=ee("SignUp"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_SignUpCommand"),CXr=v(async(e,t)=>{let r=ee("StartUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_StartUserImportJobCommand"),bXr=v(async(e,t)=>{let r=ee("StartWebAuthnRegistration"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_StartWebAuthnRegistrationCommand"),wXr=v(async(e,t)=>{let r=ee("StopUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_StopUserImportJobCommand"),AXr=v(async(e,t)=>{let r=ee("TagResource"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_TagResourceCommand"),xXr=v(async(e,t)=>{let r=ee("UntagResource"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UntagResourceCommand"),PXr=v(async(e,t)=>{let r=ee("UpdateAuthEventFeedback"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateAuthEventFeedbackCommand"),RXr=v(async(e,t)=>{let r=ee("UpdateDeviceStatus"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateDeviceStatusCommand"),TXr=v(async(e,t)=>{let r=ee("UpdateGroup"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateGroupCommand"),IXr=v(async(e,t)=>{let r=ee("UpdateIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateIdentityProviderCommand"),OXr=v(async(e,t)=>{let r=ee("UpdateManagedLoginBranding"),n;return n=JSON.stringify(XYr(e,t)),se(t,r,"/",void 0,n)},"se_UpdateManagedLoginBrandingCommand"),NXr=v(async(e,t)=>{let r=ee("UpdateResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateResourceServerCommand"),DXr=v(async(e,t)=>{let r=ee("UpdateUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateUserAttributesCommand"),kXr=v(async(e,t)=>{let r=ee("UpdateUserPool"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateUserPoolCommand"),MXr=v(async(e,t)=>{let r=ee("UpdateUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateUserPoolClientCommand"),LXr=v(async(e,t)=>{let r=ee("UpdateUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_UpdateUserPoolDomainCommand"),UXr=v(async(e,t)=>{let r=ee("VerifySoftwareToken"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_VerifySoftwareTokenCommand"),FXr=v(async(e,t)=>{let r=ee("VerifyUserAttribute"),n;return n=JSON.stringify((0,h._json)(e)),se(t,r,"/",void 0,n)},"se_VerifyUserAttributeCommand"),BXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AddCustomAttributesCommand"),qXr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_AdminAddUserToGroupCommand"),jXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminConfirmSignUpCommand"),$Xr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=JYr(r,t),{$metadata:$(e),...n}},"de_AdminCreateUserCommand"),zXr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_AdminDeleteUserCommand"),HXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminDeleteUserAttributesCommand"),VXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminDisableProviderForUserCommand"),GXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminDisableUserCommand"),WXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminEnableUserCommand"),KXr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_AdminForgetDeviceCommand"),XXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=QYr(r,t),{$metadata:$(e),...n}},"de_AdminGetDeviceCommand"),JXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=YYr(r,t),{$metadata:$(e),...n}},"de_AdminGetUserCommand"),QXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminInitiateAuthCommand"),YXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminLinkProviderForUserCommand"),ZXr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=ZYr(r,t),{$metadata:$(e),...n}},"de_AdminListDevicesCommand"),eJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=e9r(r,t),{$metadata:$(e),...n}},"de_AdminListGroupsForUserCommand"),tJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=t9r(r,t),{$metadata:$(e),...n}},"de_AdminListUserAuthEventsCommand"),rJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_AdminRemoveUserFromGroupCommand"),nJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminResetUserPasswordCommand"),sJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminRespondToAuthChallengeCommand"),iJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminSetUserMFAPreferenceCommand"),oJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminSetUserPasswordCommand"),aJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminSetUserSettingsCommand"),cJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminUpdateAuthEventFeedbackCommand"),lJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminUpdateDeviceStatusCommand"),dJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminUpdateUserAttributesCommand"),uJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AdminUserGlobalSignOutCommand"),mJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_AssociateSoftwareTokenCommand"),fJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ChangePasswordCommand"),pJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_CompleteWebAuthnRegistrationCommand"),gJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ConfirmDeviceCommand"),hJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ConfirmForgotPasswordCommand"),yJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ConfirmSignUpCommand"),_Jr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=o9r(r,t),{$metadata:$(e),...n}},"de_CreateGroupCommand"),SJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=a9r(r,t),{$metadata:$(e),...n}},"de_CreateIdentityProviderCommand"),vJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=c9r(r,t),{$metadata:$(e),...n}},"de_CreateManagedLoginBrandingCommand"),EJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_CreateResourceServerCommand"),CJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=l9r(r,t),{$metadata:$(e),...n}},"de_CreateUserImportJobCommand"),bJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=u9r(r,t),{$metadata:$(e),...n}},"de_CreateUserPoolCommand"),wJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=d9r(r,t),{$metadata:$(e),...n}},"de_CreateUserPoolClientCommand"),AJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_CreateUserPoolDomainCommand"),xJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteGroupCommand"),PJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteIdentityProviderCommand"),RJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteManagedLoginBrandingCommand"),TJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteResourceServerCommand"),IJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteUserCommand"),OJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_DeleteUserAttributesCommand"),NJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteUserPoolCommand"),DJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_DeleteUserPoolClientCommand"),kJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_DeleteUserPoolDomainCommand"),MJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_DeleteWebAuthnCredentialCommand"),LJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=m9r(r,t),{$metadata:$(e),...n}},"de_DescribeIdentityProviderCommand"),UJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=p9r(r,t),{$metadata:$(e),...n}},"de_DescribeManagedLoginBrandingCommand"),FJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=f9r(r,t),{$metadata:$(e),...n}},"de_DescribeManagedLoginBrandingByClientCommand"),BJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_DescribeResourceServerCommand"),qJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=g9r(r,t),{$metadata:$(e),...n}},"de_DescribeRiskConfigurationCommand"),jJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=h9r(r,t),{$metadata:$(e),...n}},"de_DescribeUserImportJobCommand"),$Jr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=_9r(r,t),{$metadata:$(e),...n}},"de_DescribeUserPoolCommand"),zJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=y9r(r,t),{$metadata:$(e),...n}},"de_DescribeUserPoolClientCommand"),HJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_DescribeUserPoolDomainCommand"),VJr=v(async(e,t)=>e.statusCode>=300?ne(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:$(e)}),"de_ForgetDeviceCommand"),GJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ForgotPasswordCommand"),WJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetCSVHeaderCommand"),KJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=v9r(r,t),{$metadata:$(e),...n}},"de_GetDeviceCommand"),XJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=E9r(r,t),{$metadata:$(e),...n}},"de_GetGroupCommand"),JJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=C9r(r,t),{$metadata:$(e),...n}},"de_GetIdentityProviderByIdentifierCommand"),QJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetLogDeliveryConfigurationCommand"),YJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetSigningCertificateCommand"),ZJr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetTokensFromRefreshTokenCommand"),eQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=b9r(r,t),{$metadata:$(e),...n}},"de_GetUICustomizationCommand"),tQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetUserCommand"),rQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetUserAttributeVerificationCodeCommand"),nQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetUserAuthFactorsCommand"),sQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GetUserPoolMfaConfigCommand"),iQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_GlobalSignOutCommand"),oQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_InitiateAuthCommand"),aQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=w9r(r,t),{$metadata:$(e),...n}},"de_ListDevicesCommand"),cQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=A9r(r,t),{$metadata:$(e),...n}},"de_ListGroupsCommand"),lQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=x9r(r,t),{$metadata:$(e),...n}},"de_ListIdentityProvidersCommand"),dQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ListResourceServersCommand"),uQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ListTagsForResourceCommand"),mQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=P9r(r,t),{$metadata:$(e),...n}},"de_ListUserImportJobsCommand"),fQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ListUserPoolClientsCommand"),pQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=R9r(r,t),{$metadata:$(e),...n}},"de_ListUserPoolsCommand"),gQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=I9r(r,t),{$metadata:$(e),...n}},"de_ListUsersCommand"),hQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=T9r(r,t),{$metadata:$(e),...n}},"de_ListUsersInGroupCommand"),yQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=O9r(r,t),{$metadata:$(e),...n}},"de_ListWebAuthnCredentialsCommand"),_Qr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_ResendConfirmationCodeCommand"),SQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_RespondToAuthChallengeCommand"),vQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_RevokeTokenCommand"),EQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_SetLogDeliveryConfigurationCommand"),CQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=k9r(r,t),{$metadata:$(e),...n}},"de_SetRiskConfigurationCommand"),bQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=M9r(r,t),{$metadata:$(e),...n}},"de_SetUICustomizationCommand"),wQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_SetUserMFAPreferenceCommand"),AQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_SetUserPoolMfaConfigCommand"),xQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_SetUserSettingsCommand"),PQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_SignUpCommand"),RQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=L9r(r,t),{$metadata:$(e),...n}},"de_StartUserImportJobCommand"),TQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=U9r(r,t),{$metadata:$(e),...n}},"de_StartWebAuthnRegistrationCommand"),IQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=F9r(r,t),{$metadata:$(e),...n}},"de_StopUserImportJobCommand"),OQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_TagResourceCommand"),NQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UntagResourceCommand"),DQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UpdateAuthEventFeedbackCommand"),kQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UpdateDeviceStatusCommand"),MQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=B9r(r,t),{$metadata:$(e),...n}},"de_UpdateGroupCommand"),LQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=q9r(r,t),{$metadata:$(e),...n}},"de_UpdateIdentityProviderCommand"),UQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=j9r(r,t),{$metadata:$(e),...n}},"de_UpdateManagedLoginBrandingCommand"),FQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UpdateResourceServerCommand"),BQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UpdateUserAttributesCommand"),qQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UpdateUserPoolCommand"),jQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=$9r(r,t),{$metadata:$(e),...n}},"de_UpdateUserPoolClientCommand"),$Qr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_UpdateUserPoolDomainCommand"),zQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_VerifySoftwareTokenCommand"),HQr=v(async(e,t)=>{if(e.statusCode>=300)return ne(e,t);let r=await(0,ce.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:$(e),...n}},"de_VerifyUserAttributeCommand"),ne=v(async(e,t)=>{let r={...e,body:await(0,ce.parseJsonErrorBody)(e.body,t)},n=(0,ce.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentityprovider#InternalErrorException":throw await rYr(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentityprovider#InvalidParameterException":throw await oYr(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentityprovider#NotAuthorizedException":throw await pYr(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentityprovider#ResourceNotFoundException":throw await SYr(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentityprovider#TooManyRequestsException":throw await wYr(r,t);case"UserImportInProgressException":case"com.amazonaws.cognitoidentityprovider#UserImportInProgressException":throw await OYr(r,t);case"UserNotFoundException":case"com.amazonaws.cognitoidentityprovider#UserNotFoundException":throw await MYr(r,t);case"InvalidLambdaResponseException":case"com.amazonaws.cognitoidentityprovider#InvalidLambdaResponseException":throw await sYr(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentityprovider#LimitExceededException":throw await uYr(r,t);case"TooManyFailedAttemptsException":case"com.amazonaws.cognitoidentityprovider#TooManyFailedAttemptsException":throw await bYr(r,t);case"UnexpectedLambdaException":case"com.amazonaws.cognitoidentityprovider#UnexpectedLambdaException":throw await xYr(r,t);case"UserLambdaValidationException":case"com.amazonaws.cognitoidentityprovider#UserLambdaValidationException":throw await NYr(r,t);case"CodeDeliveryFailureException":case"com.amazonaws.cognitoidentityprovider#CodeDeliveryFailureException":throw await GQr(r,t);case"InvalidPasswordException":case"com.amazonaws.cognitoidentityprovider#InvalidPasswordException":throw await aYr(r,t);case"InvalidSmsRoleAccessPolicyException":case"com.amazonaws.cognitoidentityprovider#InvalidSmsRoleAccessPolicyException":throw await cYr(r,t);case"InvalidSmsRoleTrustRelationshipException":case"com.amazonaws.cognitoidentityprovider#InvalidSmsRoleTrustRelationshipException":throw await lYr(r,t);case"PreconditionNotMetException":case"com.amazonaws.cognitoidentityprovider#PreconditionNotMetException":throw await yYr(r,t);case"UnsupportedUserStateException":case"com.amazonaws.cognitoidentityprovider#UnsupportedUserStateException":throw await IYr(r,t);case"UsernameExistsException":case"com.amazonaws.cognitoidentityprovider#UsernameExistsException":throw await DYr(r,t);case"AliasExistsException":case"com.amazonaws.cognitoidentityprovider#AliasExistsException":throw await VQr(r,t);case"InvalidUserPoolConfigurationException":case"com.amazonaws.cognitoidentityprovider#InvalidUserPoolConfigurationException":throw await dYr(r,t);case"InvalidEmailRoleAccessPolicyException":case"com.amazonaws.cognitoidentityprovider#InvalidEmailRoleAccessPolicyException":throw await nYr(r,t);case"MFAMethodNotFoundException":case"com.amazonaws.cognitoidentityprovider#MFAMethodNotFoundException":throw await fYr(r,t);case"PasswordResetRequiredException":case"com.amazonaws.cognitoidentityprovider#PasswordResetRequiredException":throw await hYr(r,t);case"UnsupportedOperationException":case"com.amazonaws.cognitoidentityprovider#UnsupportedOperationException":throw await RYr(r,t);case"UserNotConfirmedException":case"com.amazonaws.cognitoidentityprovider#UserNotConfirmedException":throw await kYr(r,t);case"UserPoolAddOnNotEnabledException":case"com.amazonaws.cognitoidentityprovider#UserPoolAddOnNotEnabledException":throw await LYr(r,t);case"CodeMismatchException":case"com.amazonaws.cognitoidentityprovider#CodeMismatchException":throw await WQr(r,t);case"ExpiredCodeException":case"com.amazonaws.cognitoidentityprovider#ExpiredCodeException":throw await YQr(r,t);case"PasswordHistoryPolicyViolationException":case"com.amazonaws.cognitoidentityprovider#PasswordHistoryPolicyViolationException":throw await gYr(r,t);case"SoftwareTokenMFANotFoundException":case"com.amazonaws.cognitoidentityprovider#SoftwareTokenMFANotFoundException":throw await EYr(r,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentityprovider#ConcurrentModificationException":throw await KQr(r,t);case"ForbiddenException":case"com.amazonaws.cognitoidentityprovider#ForbiddenException":throw await eYr(r,t);case"WebAuthnChallengeNotFoundException":case"com.amazonaws.cognitoidentityprovider#WebAuthnChallengeNotFoundException":throw await FYr(r,t);case"WebAuthnClientMismatchException":case"com.amazonaws.cognitoidentityprovider#WebAuthnClientMismatchException":throw await BYr(r,t);case"WebAuthnCredentialNotSupportedException":case"com.amazonaws.cognitoidentityprovider#WebAuthnCredentialNotSupportedException":throw await jYr(r,t);case"WebAuthnNotEnabledException":case"com.amazonaws.cognitoidentityprovider#WebAuthnNotEnabledException":throw await $Yr(r,t);case"WebAuthnOriginNotAllowedException":case"com.amazonaws.cognitoidentityprovider#WebAuthnOriginNotAllowedException":throw await zYr(r,t);case"WebAuthnRelyingPartyMismatchException":case"com.amazonaws.cognitoidentityprovider#WebAuthnRelyingPartyMismatchException":throw await HYr(r,t);case"DeviceKeyExistsException":case"com.amazonaws.cognitoidentityprovider#DeviceKeyExistsException":throw await XQr(r,t);case"GroupExistsException":case"com.amazonaws.cognitoidentityprovider#GroupExistsException":throw await tYr(r,t);case"DuplicateProviderException":case"com.amazonaws.cognitoidentityprovider#DuplicateProviderException":throw await JQr(r,t);case"ManagedLoginBrandingExistsException":case"com.amazonaws.cognitoidentityprovider#ManagedLoginBrandingExistsException":throw await mYr(r,t);case"FeatureUnavailableInTierException":case"com.amazonaws.cognitoidentityprovider#FeatureUnavailableInTierException":throw await ZQr(r,t);case"TierChangeNotAllowedException":case"com.amazonaws.cognitoidentityprovider#TierChangeNotAllowedException":throw await CYr(r,t);case"UserPoolTaggingException":case"com.amazonaws.cognitoidentityprovider#UserPoolTaggingException":throw await UYr(r,t);case"InvalidOAuthFlowException":case"com.amazonaws.cognitoidentityprovider#InvalidOAuthFlowException":throw await iYr(r,t);case"ScopeDoesNotExistException":case"com.amazonaws.cognitoidentityprovider#ScopeDoesNotExistException":throw await vYr(r,t);case"UnsupportedIdentityProviderException":case"com.amazonaws.cognitoidentityprovider#UnsupportedIdentityProviderException":throw await PYr(r,t);case"RefreshTokenReuseException":case"com.amazonaws.cognitoidentityprovider#RefreshTokenReuseException":throw await _Yr(r,t);case"UnauthorizedException":case"com.amazonaws.cognitoidentityprovider#UnauthorizedException":throw await AYr(r,t);case"UnsupportedTokenTypeException":case"com.amazonaws.cognitoidentityprovider#UnsupportedTokenTypeException":throw await TYr(r,t);case"WebAuthnConfigurationMissingException":case"com.amazonaws.cognitoidentityprovider#WebAuthnConfigurationMissingException":throw await qYr(r,t);case"EnableSoftwareTokenMFAException":case"com.amazonaws.cognitoidentityprovider#EnableSoftwareTokenMFAException":throw await QQr(r,t);default:let s=r.body;return K9r({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),VQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Glt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_AliasExistsExceptionRes"),GQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Nlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_CodeDeliveryFailureExceptionRes"),WQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new cdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_CodeMismatchExceptionRes"),KQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new hdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ConcurrentModificationExceptionRes"),XQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Ndt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_DeviceKeyExistsExceptionRes"),JQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Ldt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_DuplicateProviderExceptionRes"),QQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new mmt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_EnableSoftwareTokenMFAExceptionRes"),YQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new ddt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ExpiredCodeExceptionRes"),ZQr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new qdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_FeatureUnavailableInTierExceptionRes"),eYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new _dt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ForbiddenExceptionRes"),tYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new kdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_GroupExistsExceptionRes"),rYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new clt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InternalErrorExceptionRes"),nYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Jlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidEmailRoleAccessPolicyExceptionRes"),sYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Clt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidLambdaResponseExceptionRes"),iYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Gdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidOAuthFlowExceptionRes"),oYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new dlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),aYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new klt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidPasswordExceptionRes"),cYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Llt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidSmsRoleAccessPolicyExceptionRes"),lYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Flt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidSmsRoleTrustRelationshipExceptionRes"),dYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Klt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidUserPoolConfigurationExceptionRes"),uYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new wlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),mYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Fdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ManagedLoginBrandingExistsExceptionRes"),fYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Ylt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_MFAMethodNotFoundExceptionRes"),pYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new mlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_NotAuthorizedExceptionRes"),gYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new mdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_PasswordHistoryPolicyViolationExceptionRes"),hYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new edt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_PasswordResetRequiredExceptionRes"),yYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new qlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_PreconditionNotMetExceptionRes"),_Yr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Ydt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_RefreshTokenReuseExceptionRes"),SYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new plt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),vYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Kdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ScopeDoesNotExistExceptionRes"),EYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new pdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_SoftwareTokenMFANotFoundExceptionRes"),CYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new $dt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_TierChangeNotAllowedExceptionRes"),bYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new xlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_TooManyFailedAttemptsExceptionRes"),wYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new hlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_TooManyRequestsExceptionRes"),AYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new omt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnauthorizedExceptionRes"),xYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Rlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnexpectedLambdaExceptionRes"),PYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Jdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedIdentityProviderExceptionRes"),RYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new rdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedOperationExceptionRes"),TYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new cmt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedTokenTypeExceptionRes"),IYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new $lt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedUserStateExceptionRes"),OYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new _lt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserImportInProgressExceptionRes"),NYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Ilt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserLambdaValidationExceptionRes"),DYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Hlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UsernameExistsExceptionRes"),kYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new sdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserNotConfirmedExceptionRes"),MYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new vlt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserNotFoundExceptionRes"),LYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new odt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserPoolAddOnNotEnabledExceptionRes"),UYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Hdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserPoolTaggingExceptionRes"),FYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new vdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnChallengeNotFoundExceptionRes"),BYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Cdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnClientMismatchExceptionRes"),qYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new dmt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnConfigurationMissingExceptionRes"),jYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new wdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnCredentialNotSupportedExceptionRes"),$Yr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new xdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnNotEnabledExceptionRes"),zYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Rdt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnOriginNotAllowedExceptionRes"),HYr=v(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Idt({$metadata:$(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnRelyingPartyMismatchExceptionRes"),Wmt=v((e,t)=>e.filter(r=>r!=null).map(r=>VYr(r,t)),"se_AssetListType"),VYr=v((e,t)=>(0,h.take)(e,{Bytes:t.base64Encoder,Category:[],ColorMode:[],Extension:[],ResourceId:[]}),"se_AssetType"),GYr=v((e,t)=>(0,h.take)(e,{AccessToken:[],Credential:v(r=>sde(r,t),"Credential")}),"se_CompleteWebAuthnRegistrationRequest"),WYr=v((e,t)=>(0,h.take)(e,{Assets:v(r=>Wmt(r,t),"Assets"),ClientId:[],Settings:v(r=>sde(r,t),"Settings"),UseCognitoProvidedValues:[],UserPoolId:[]}),"se_CreateManagedLoginBrandingRequest"),sde=v((e,t)=>e,"se_Document"),KYr=v((e,t)=>(0,h.take)(e,{CSS:[],ClientId:[],ImageFile:t.base64Encoder,UserPoolId:[]}),"se_SetUICustomizationRequest"),XYr=v((e,t)=>(0,h.take)(e,{Assets:v(r=>Wmt(r,t),"Assets"),ManagedLoginBrandingId:[],Settings:v(r=>sde(r,t),"Settings"),UseCognitoProvidedValues:[],UserPoolId:[]}),"se_UpdateManagedLoginBrandingRequest"),JYr=v((e,t)=>(0,h.take)(e,{User:v(r=>tft(r,t),"User")}),"de_AdminCreateUserResponse"),QYr=v((e,t)=>(0,h.take)(e,{Device:v(r=>ide(r,t),"Device")}),"de_AdminGetDeviceResponse"),YYr=v((e,t)=>(0,h.take)(e,{Enabled:h.expectBoolean,MFAOptions:h._json,PreferredMfaSetting:h.expectString,UserAttributes:h._json,UserCreateDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserCreateDate"),UserLastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserLastModifiedDate"),UserMFASettingList:h._json,UserStatus:h.expectString,Username:h.expectString}),"de_AdminGetUserResponse"),ZYr=v((e,t)=>(0,h.take)(e,{Devices:v(r=>Kmt(r,t),"Devices"),PaginationToken:h.expectString}),"de_AdminListDevicesResponse"),e9r=v((e,t)=>(0,h.take)(e,{Groups:v(r=>Jmt(r,t),"Groups"),NextToken:h.expectString}),"de_AdminListGroupsForUserResponse"),t9r=v((e,t)=>(0,h.take)(e,{AuthEvents:v(r=>s9r(r,t),"AuthEvents"),NextToken:h.expectString}),"de_AdminListUserAuthEventsResponse"),r9r=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>n9r(n,t)),"de_AssetListType"),n9r=v((e,t)=>(0,h.take)(e,{Bytes:t.base64Decoder,Category:h.expectString,ColorMode:h.expectString,Extension:h.expectString,ResourceId:h.expectString}),"de_AssetType"),s9r=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>i9r(n,t)),"de_AuthEventsType"),i9r=v((e,t)=>(0,h.take)(e,{ChallengeResponses:h._json,CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),EventContextData:h._json,EventFeedback:v(r=>S9r(r,t),"EventFeedback"),EventId:h.expectString,EventResponse:h.expectString,EventRisk:h._json,EventType:h.expectString}),"de_AuthEventType"),o9r=v((e,t)=>(0,h.take)(e,{Group:v(r=>$3(r,t),"Group")}),"de_CreateGroupResponse"),a9r=v((e,t)=>(0,h.take)(e,{IdentityProvider:v(r=>z3(r,t),"IdentityProvider")}),"de_CreateIdentityProviderResponse"),c9r=v((e,t)=>(0,h.take)(e,{ManagedLoginBranding:v(r=>H3(r,t),"ManagedLoginBranding")}),"de_CreateManagedLoginBrandingResponse"),l9r=v((e,t)=>(0,h.take)(e,{UserImportJob:v(r=>Sk(r,t),"UserImportJob")}),"de_CreateUserImportJobResponse"),d9r=v((e,t)=>(0,h.take)(e,{UserPoolClient:v(r=>ode(r,t),"UserPoolClient")}),"de_CreateUserPoolClientResponse"),u9r=v((e,t)=>(0,h.take)(e,{UserPool:v(r=>Zmt(r,t),"UserPool")}),"de_CreateUserPoolResponse"),m9r=v((e,t)=>(0,h.take)(e,{IdentityProvider:v(r=>z3(r,t),"IdentityProvider")}),"de_DescribeIdentityProviderResponse"),f9r=v((e,t)=>(0,h.take)(e,{ManagedLoginBranding:v(r=>H3(r,t),"ManagedLoginBranding")}),"de_DescribeManagedLoginBrandingByClientResponse"),p9r=v((e,t)=>(0,h.take)(e,{ManagedLoginBranding:v(r=>H3(r,t),"ManagedLoginBranding")}),"de_DescribeManagedLoginBrandingResponse"),g9r=v((e,t)=>(0,h.take)(e,{RiskConfiguration:v(r=>Qmt(r,t),"RiskConfiguration")}),"de_DescribeRiskConfigurationResponse"),h9r=v((e,t)=>(0,h.take)(e,{UserImportJob:v(r=>Sk(r,t),"UserImportJob")}),"de_DescribeUserImportJobResponse"),y9r=v((e,t)=>(0,h.take)(e,{UserPoolClient:v(r=>ode(r,t),"UserPoolClient")}),"de_DescribeUserPoolClientResponse"),_9r=v((e,t)=>(0,h.take)(e,{UserPool:v(r=>Zmt(r,t),"UserPool")}),"de_DescribeUserPoolResponse"),Kmt=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ide(n,t)),"de_DeviceListType"),ide=v((e,t)=>(0,h.take)(e,{DeviceAttributes:h._json,DeviceCreateDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"DeviceCreateDate"),DeviceKey:h.expectString,DeviceLastAuthenticatedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"DeviceLastAuthenticatedDate"),DeviceLastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"DeviceLastModifiedDate")}),"de_DeviceType"),Xmt=v((e,t)=>e,"de_Document"),S9r=v((e,t)=>(0,h.take)(e,{FeedbackDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"FeedbackDate"),FeedbackValue:h.expectString,Provider:h.expectString}),"de_EventFeedbackType"),v9r=v((e,t)=>(0,h.take)(e,{Device:v(r=>ide(r,t),"Device")}),"de_GetDeviceResponse"),E9r=v((e,t)=>(0,h.take)(e,{Group:v(r=>$3(r,t),"Group")}),"de_GetGroupResponse"),C9r=v((e,t)=>(0,h.take)(e,{IdentityProvider:v(r=>z3(r,t),"IdentityProvider")}),"de_GetIdentityProviderByIdentifierResponse"),b9r=v((e,t)=>(0,h.take)(e,{UICustomization:v(r=>Ymt(r,t),"UICustomization")}),"de_GetUICustomizationResponse"),Jmt=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$3(n,t)),"de_GroupListType"),$3=v((e,t)=>(0,h.take)(e,{CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),Description:h.expectString,GroupName:h.expectString,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),Precedence:h.expectInt32,RoleArn:h.expectString,UserPoolId:h.expectString}),"de_GroupType"),z3=v((e,t)=>(0,h.take)(e,{AttributeMapping:h._json,CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),IdpIdentifiers:h._json,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),ProviderDetails:h._json,ProviderName:h.expectString,ProviderType:h.expectString,UserPoolId:h.expectString}),"de_IdentityProviderType"),w9r=v((e,t)=>(0,h.take)(e,{Devices:v(r=>Kmt(r,t),"Devices"),PaginationToken:h.expectString}),"de_ListDevicesResponse"),A9r=v((e,t)=>(0,h.take)(e,{Groups:v(r=>Jmt(r,t),"Groups"),NextToken:h.expectString}),"de_ListGroupsResponse"),x9r=v((e,t)=>(0,h.take)(e,{NextToken:h.expectString,Providers:v(r=>D9r(r,t),"Providers")}),"de_ListIdentityProvidersResponse"),P9r=v((e,t)=>(0,h.take)(e,{PaginationToken:h.expectString,UserImportJobs:v(r=>z9r(r,t),"UserImportJobs")}),"de_ListUserImportJobsResponse"),R9r=v((e,t)=>(0,h.take)(e,{NextToken:h.expectString,UserPools:v(r=>V9r(r,t),"UserPools")}),"de_ListUserPoolsResponse"),T9r=v((e,t)=>(0,h.take)(e,{NextToken:h.expectString,Users:v(r=>eft(r,t),"Users")}),"de_ListUsersInGroupResponse"),I9r=v((e,t)=>(0,h.take)(e,{PaginationToken:h.expectString,Users:v(r=>eft(r,t),"Users")}),"de_ListUsersResponse"),O9r=v((e,t)=>(0,h.take)(e,{Credentials:v(r=>W9r(r,t),"Credentials"),NextToken:h.expectString}),"de_ListWebAuthnCredentialsResponse"),H3=v((e,t)=>(0,h.take)(e,{Assets:v(r=>r9r(r,t),"Assets"),CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),ManagedLoginBrandingId:h.expectString,Settings:v(r=>Xmt(r,t),"Settings"),UseCognitoProvidedValues:h.expectBoolean,UserPoolId:h.expectString}),"de_ManagedLoginBrandingType"),N9r=v((e,t)=>(0,h.take)(e,{CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),ProviderName:h.expectString,ProviderType:h.expectString}),"de_ProviderDescription"),D9r=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>N9r(n,t)),"de_ProvidersListType"),Qmt=v((e,t)=>(0,h.take)(e,{AccountTakeoverRiskConfiguration:h._json,ClientId:h.expectString,CompromisedCredentialsRiskConfiguration:h._json,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),RiskExceptionConfiguration:h._json,UserPoolId:h.expectString}),"de_RiskConfigurationType"),k9r=v((e,t)=>(0,h.take)(e,{RiskConfiguration:v(r=>Qmt(r,t),"RiskConfiguration")}),"de_SetRiskConfigurationResponse"),M9r=v((e,t)=>(0,h.take)(e,{UICustomization:v(r=>Ymt(r,t),"UICustomization")}),"de_SetUICustomizationResponse"),L9r=v((e,t)=>(0,h.take)(e,{UserImportJob:v(r=>Sk(r,t),"UserImportJob")}),"de_StartUserImportJobResponse"),U9r=v((e,t)=>(0,h.take)(e,{CredentialCreationOptions:v(r=>Xmt(r,t),"CredentialCreationOptions")}),"de_StartWebAuthnRegistrationResponse"),F9r=v((e,t)=>(0,h.take)(e,{UserImportJob:v(r=>Sk(r,t),"UserImportJob")}),"de_StopUserImportJobResponse"),Ymt=v((e,t)=>(0,h.take)(e,{CSS:h.expectString,CSSVersion:h.expectString,ClientId:h.expectString,CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),ImageUrl:h.expectString,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),UserPoolId:h.expectString}),"de_UICustomizationType"),B9r=v((e,t)=>(0,h.take)(e,{Group:v(r=>$3(r,t),"Group")}),"de_UpdateGroupResponse"),q9r=v((e,t)=>(0,h.take)(e,{IdentityProvider:v(r=>z3(r,t),"IdentityProvider")}),"de_UpdateIdentityProviderResponse"),j9r=v((e,t)=>(0,h.take)(e,{ManagedLoginBranding:v(r=>H3(r,t),"ManagedLoginBranding")}),"de_UpdateManagedLoginBrandingResponse"),$9r=v((e,t)=>(0,h.take)(e,{UserPoolClient:v(r=>ode(r,t),"UserPoolClient")}),"de_UpdateUserPoolClientResponse"),z9r=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Sk(n,t)),"de_UserImportJobsListType"),Sk=v((e,t)=>(0,h.take)(e,{CloudWatchLogsRoleArn:h.expectString,CompletionDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CompletionDate"),CompletionMessage:h.expectString,CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),FailedUsers:h.expectLong,ImportedUsers:h.expectLong,JobId:h.expectString,JobName:h.expectString,PreSignedUrl:h.expectString,SkippedUsers:h.expectLong,StartDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"StartDate"),Status:h.expectString,UserPoolId:h.expectString}),"de_UserImportJobType"),ode=v((e,t)=>(0,h.take)(e,{AccessTokenValidity:h.expectInt32,AllowedOAuthFlows:h._json,AllowedOAuthFlowsUserPoolClient:h.expectBoolean,AllowedOAuthScopes:h._json,AnalyticsConfiguration:h._json,AuthSessionValidity:h.expectInt32,CallbackURLs:h._json,ClientId:h.expectString,ClientName:h.expectString,ClientSecret:h.expectString,CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),DefaultRedirectURI:h.expectString,EnablePropagateAdditionalUserContextData:h.expectBoolean,EnableTokenRevocation:h.expectBoolean,ExplicitAuthFlows:h._json,IdTokenValidity:h.expectInt32,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),LogoutURLs:h._json,PreventUserExistenceErrors:h.expectString,ReadAttributes:h._json,RefreshTokenRotation:h._json,RefreshTokenValidity:h.expectInt32,SupportedIdentityProviders:h._json,TokenValidityUnits:h._json,UserPoolId:h.expectString,WriteAttributes:h._json}),"de_UserPoolClientType"),H9r=v((e,t)=>(0,h.take)(e,{CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),Id:h.expectString,LambdaConfig:h._json,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),Name:h.expectString,Status:h.expectString}),"de_UserPoolDescriptionType"),V9r=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>H9r(n,t)),"de_UserPoolListType"),Zmt=v((e,t)=>(0,h.take)(e,{AccountRecoverySetting:h._json,AdminCreateUserConfig:h._json,AliasAttributes:h._json,Arn:h.expectString,AutoVerifiedAttributes:h._json,CreationDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),CustomDomain:h.expectString,DeletionProtection:h.expectString,DeviceConfiguration:h._json,Domain:h.expectString,EmailConfiguration:h._json,EmailConfigurationFailure:h.expectString,EmailVerificationMessage:h.expectString,EmailVerificationSubject:h.expectString,EstimatedNumberOfUsers:h.expectInt32,Id:h.expectString,LambdaConfig:h._json,LastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),MfaConfiguration:h.expectString,Name:h.expectString,Policies:h._json,SchemaAttributes:h._json,SmsAuthenticationMessage:h.expectString,SmsConfiguration:h._json,SmsConfigurationFailure:h.expectString,SmsVerificationMessage:h.expectString,Status:h.expectString,UserAttributeUpdateSettings:h._json,UserPoolAddOns:h._json,UserPoolTags:h._json,UserPoolTier:h.expectString,UsernameAttributes:h._json,UsernameConfiguration:h._json,VerificationMessageTemplate:h._json}),"de_UserPoolType"),eft=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>tft(n,t)),"de_UsersListType"),tft=v((e,t)=>(0,h.take)(e,{Attributes:h._json,Enabled:h.expectBoolean,MFAOptions:h._json,UserCreateDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserCreateDate"),UserLastModifiedDate:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserLastModifiedDate"),UserStatus:h.expectString,Username:h.expectString}),"de_UserType"),G9r=v((e,t)=>(0,h.take)(e,{AuthenticatorAttachment:h.expectString,AuthenticatorTransports:h._json,CreatedAt:v(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreatedAt"),CredentialId:h.expectString,FriendlyCredentialName:h.expectString,RelyingPartyId:h.expectString}),"de_WebAuthnCredentialDescription"),W9r=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>G9r(n,t)),"de_WebAuthnCredentialDescriptionListType"),$=v(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),K9r=(0,h.withBaseException)(Ye),se=v(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new ede.HttpRequest(l)},"buildHttpRpcRequest");function ee(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}}v(ee,"sharedHeaders");var rft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AddCustomAttributes",{}).n("CognitoIdentityProviderClient","AddCustomAttributesCommand").f(void 0,void 0).ser(D8r).de(BXr).build(){static{v(this,"AddCustomAttributesCommand")}},nft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminAddUserToGroup",{}).n("CognitoIdentityProviderClient","AdminAddUserToGroupCommand").f(eut,void 0).ser(k8r).de(qXr).build(){static{v(this,"AdminAddUserToGroupCommand")}},sft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminConfirmSignUp",{}).n("CognitoIdentityProviderClient","AdminConfirmSignUpCommand").f(tut,void 0).ser(M8r).de(jXr).build(){static{v(this,"AdminConfirmSignUpCommand")}},ift=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminCreateUser",{}).n("CognitoIdentityProviderClient","AdminCreateUserCommand").f(rut,nut).ser(L8r).de($Xr).build(){static{v(this,"AdminCreateUserCommand")}},oft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDeleteUserAttributes",{}).n("CognitoIdentityProviderClient","AdminDeleteUserAttributesCommand").f(iut,void 0).ser(F8r).de(HXr).build(){static{v(this,"AdminDeleteUserAttributesCommand")}},aft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDeleteUser",{}).n("CognitoIdentityProviderClient","AdminDeleteUserCommand").f(sut,void 0).ser(U8r).de(zXr).build(){static{v(this,"AdminDeleteUserCommand")}},cft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDisableProviderForUser",{}).n("CognitoIdentityProviderClient","AdminDisableProviderForUserCommand").f(void 0,void 0).ser(B8r).de(VXr).build(){static{v(this,"AdminDisableProviderForUserCommand")}},lft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDisableUser",{}).n("CognitoIdentityProviderClient","AdminDisableUserCommand").f(out,void 0).ser(q8r).de(GXr).build(){static{v(this,"AdminDisableUserCommand")}},dft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminEnableUser",{}).n("CognitoIdentityProviderClient","AdminEnableUserCommand").f(aut,void 0).ser(j8r).de(WXr).build(){static{v(this,"AdminEnableUserCommand")}},uft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminForgetDevice",{}).n("CognitoIdentityProviderClient","AdminForgetDeviceCommand").f(cut,void 0).ser($8r).de(KXr).build(){static{v(this,"AdminForgetDeviceCommand")}},mft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminGetDevice",{}).n("CognitoIdentityProviderClient","AdminGetDeviceCommand").f(lut,dut).ser(z8r).de(XXr).build(){static{v(this,"AdminGetDeviceCommand")}},fft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminGetUser",{}).n("CognitoIdentityProviderClient","AdminGetUserCommand").f(uut,mut).ser(H8r).de(JXr).build(){static{v(this,"AdminGetUserCommand")}},pft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminInitiateAuth",{}).n("CognitoIdentityProviderClient","AdminInitiateAuthCommand").f(fut,put).ser(V8r).de(QXr).build(){static{v(this,"AdminInitiateAuthCommand")}},gft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminLinkProviderForUser",{}).n("CognitoIdentityProviderClient","AdminLinkProviderForUserCommand").f(void 0,void 0).ser(G8r).de(YXr).build(){static{v(this,"AdminLinkProviderForUserCommand")}},hft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListDevices",{}).n("CognitoIdentityProviderClient","AdminListDevicesCommand").f(gut,hut).ser(W8r).de(ZXr).build(){static{v(this,"AdminListDevicesCommand")}},ade=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListGroupsForUser",{}).n("CognitoIdentityProviderClient","AdminListGroupsForUserCommand").f(yut,void 0).ser(K8r).de(eJr).build(){static{v(this,"AdminListGroupsForUserCommand")}},cde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListUserAuthEvents",{}).n("CognitoIdentityProviderClient","AdminListUserAuthEventsCommand").f(_ut,void 0).ser(X8r).de(tJr).build(){static{v(this,"AdminListUserAuthEventsCommand")}},yft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminRemoveUserFromGroup",{}).n("CognitoIdentityProviderClient","AdminRemoveUserFromGroupCommand").f(Sut,void 0).ser(J8r).de(rJr).build(){static{v(this,"AdminRemoveUserFromGroupCommand")}},_ft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminResetUserPassword",{}).n("CognitoIdentityProviderClient","AdminResetUserPasswordCommand").f(vut,void 0).ser(Q8r).de(nJr).build(){static{v(this,"AdminResetUserPasswordCommand")}},Sft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminRespondToAuthChallenge",{}).n("CognitoIdentityProviderClient","AdminRespondToAuthChallengeCommand").f(Eut,Cut).ser(Y8r).de(sJr).build(){static{v(this,"AdminRespondToAuthChallengeCommand")}},vft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserMFAPreference",{}).n("CognitoIdentityProviderClient","AdminSetUserMFAPreferenceCommand").f(but,void 0).ser(Z8r).de(iJr).build(){static{v(this,"AdminSetUserMFAPreferenceCommand")}},Eft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserPassword",{}).n("CognitoIdentityProviderClient","AdminSetUserPasswordCommand").f(wut,void 0).ser(e5r).de(oJr).build(){static{v(this,"AdminSetUserPasswordCommand")}},Cft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserSettings",{}).n("CognitoIdentityProviderClient","AdminSetUserSettingsCommand").f(Aut,void 0).ser(t5r).de(aJr).build(){static{v(this,"AdminSetUserSettingsCommand")}},bft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateAuthEventFeedback",{}).n("CognitoIdentityProviderClient","AdminUpdateAuthEventFeedbackCommand").f(xut,void 0).ser(r5r).de(cJr).build(){static{v(this,"AdminUpdateAuthEventFeedbackCommand")}},wft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateDeviceStatus",{}).n("CognitoIdentityProviderClient","AdminUpdateDeviceStatusCommand").f(Put,void 0).ser(n5r).de(lJr).build(){static{v(this,"AdminUpdateDeviceStatusCommand")}},Aft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateUserAttributes",{}).n("CognitoIdentityProviderClient","AdminUpdateUserAttributesCommand").f(Rut,void 0).ser(s5r).de(dJr).build(){static{v(this,"AdminUpdateUserAttributesCommand")}},xft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUserGlobalSignOut",{}).n("CognitoIdentityProviderClient","AdminUserGlobalSignOutCommand").f(Tut,void 0).ser(i5r).de(uJr).build(){static{v(this,"AdminUserGlobalSignOutCommand")}},Pft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AssociateSoftwareToken",{}).n("CognitoIdentityProviderClient","AssociateSoftwareTokenCommand").f(Iut,Out).ser(o5r).de(mJr).build(){static{v(this,"AssociateSoftwareTokenCommand")}},Rft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ChangePassword",{}).n("CognitoIdentityProviderClient","ChangePasswordCommand").f(Nut,void 0).ser(a5r).de(fJr).build(){static{v(this,"ChangePasswordCommand")}},Tft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CompleteWebAuthnRegistration",{}).n("CognitoIdentityProviderClient","CompleteWebAuthnRegistrationCommand").f(Dut,void 0).ser(c5r).de(pJr).build(){static{v(this,"CompleteWebAuthnRegistrationCommand")}},Ift=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmDevice",{}).n("CognitoIdentityProviderClient","ConfirmDeviceCommand").f(kut,void 0).ser(l5r).de(gJr).build(){static{v(this,"ConfirmDeviceCommand")}},Oft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmForgotPassword",{}).n("CognitoIdentityProviderClient","ConfirmForgotPasswordCommand").f(Mut,void 0).ser(d5r).de(hJr).build(){static{v(this,"ConfirmForgotPasswordCommand")}},Nft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmSignUp",{}).n("CognitoIdentityProviderClient","ConfirmSignUpCommand").f(Lut,Uut).ser(u5r).de(yJr).build(){static{v(this,"ConfirmSignUpCommand")}},Dft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateGroup",{}).n("CognitoIdentityProviderClient","CreateGroupCommand").f(void 0,void 0).ser(m5r).de(_Jr).build(){static{v(this,"CreateGroupCommand")}},kft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateIdentityProvider",{}).n("CognitoIdentityProviderClient","CreateIdentityProviderCommand").f(void 0,void 0).ser(f5r).de(SJr).build(){static{v(this,"CreateIdentityProviderCommand")}},Mft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateManagedLoginBranding",{}).n("CognitoIdentityProviderClient","CreateManagedLoginBrandingCommand").f(Fut,void 0).ser(p5r).de(vJr).build(){static{v(this,"CreateManagedLoginBrandingCommand")}},Lft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateResourceServer",{}).n("CognitoIdentityProviderClient","CreateResourceServerCommand").f(void 0,void 0).ser(g5r).de(EJr).build(){static{v(this,"CreateResourceServerCommand")}},Uft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserImportJob",{}).n("CognitoIdentityProviderClient","CreateUserImportJobCommand").f(void 0,void 0).ser(h5r).de(CJr).build(){static{v(this,"CreateUserImportJobCommand")}},Fft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPoolClient",{}).n("CognitoIdentityProviderClient","CreateUserPoolClientCommand").f(void 0,But).ser(_5r).de(wJr).build(){static{v(this,"CreateUserPoolClientCommand")}},Bft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPool",{}).n("CognitoIdentityProviderClient","CreateUserPoolCommand").f(void 0,void 0).ser(y5r).de(bJr).build(){static{v(this,"CreateUserPoolCommand")}},qft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPoolDomain",{}).n("CognitoIdentityProviderClient","CreateUserPoolDomainCommand").f(void 0,void 0).ser(S5r).de(AJr).build(){static{v(this,"CreateUserPoolDomainCommand")}},jft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteGroup",{}).n("CognitoIdentityProviderClient","DeleteGroupCommand").f(void 0,void 0).ser(v5r).de(xJr).build(){static{v(this,"DeleteGroupCommand")}},$ft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteIdentityProvider",{}).n("CognitoIdentityProviderClient","DeleteIdentityProviderCommand").f(void 0,void 0).ser(E5r).de(PJr).build(){static{v(this,"DeleteIdentityProviderCommand")}},zft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteManagedLoginBranding",{}).n("CognitoIdentityProviderClient","DeleteManagedLoginBrandingCommand").f(void 0,void 0).ser(C5r).de(RJr).build(){static{v(this,"DeleteManagedLoginBrandingCommand")}},Hft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteResourceServer",{}).n("CognitoIdentityProviderClient","DeleteResourceServerCommand").f(void 0,void 0).ser(b5r).de(TJr).build(){static{v(this,"DeleteResourceServerCommand")}},Vft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserAttributes",{}).n("CognitoIdentityProviderClient","DeleteUserAttributesCommand").f(jut,void 0).ser(A5r).de(OJr).build(){static{v(this,"DeleteUserAttributesCommand")}},Gft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUser",{}).n("CognitoIdentityProviderClient","DeleteUserCommand").f(qut,void 0).ser(w5r).de(IJr).build(){static{v(this,"DeleteUserCommand")}},Wft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPoolClient",{}).n("CognitoIdentityProviderClient","DeleteUserPoolClientCommand").f($ut,void 0).ser(P5r).de(DJr).build(){static{v(this,"DeleteUserPoolClientCommand")}},Kft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPool",{}).n("CognitoIdentityProviderClient","DeleteUserPoolCommand").f(void 0,void 0).ser(x5r).de(NJr).build(){static{v(this,"DeleteUserPoolCommand")}},Xft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPoolDomain",{}).n("CognitoIdentityProviderClient","DeleteUserPoolDomainCommand").f(void 0,void 0).ser(R5r).de(kJr).build(){static{v(this,"DeleteUserPoolDomainCommand")}},Jft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteWebAuthnCredential",{}).n("CognitoIdentityProviderClient","DeleteWebAuthnCredentialCommand").f(zut,void 0).ser(T5r).de(MJr).build(){static{v(this,"DeleteWebAuthnCredentialCommand")}},Qft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeIdentityProvider",{}).n("CognitoIdentityProviderClient","DescribeIdentityProviderCommand").f(void 0,void 0).ser(I5r).de(LJr).build(){static{v(this,"DescribeIdentityProviderCommand")}},Yft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeManagedLoginBrandingByClient",{}).n("CognitoIdentityProviderClient","DescribeManagedLoginBrandingByClientCommand").f(Hut,void 0).ser(N5r).de(FJr).build(){static{v(this,"DescribeManagedLoginBrandingByClientCommand")}},Zft=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeManagedLoginBranding",{}).n("CognitoIdentityProviderClient","DescribeManagedLoginBrandingCommand").f(void 0,void 0).ser(O5r).de(UJr).build(){static{v(this,"DescribeManagedLoginBrandingCommand")}},ept=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeResourceServer",{}).n("CognitoIdentityProviderClient","DescribeResourceServerCommand").f(void 0,void 0).ser(D5r).de(BJr).build(){static{v(this,"DescribeResourceServerCommand")}},tpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeRiskConfiguration",{}).n("CognitoIdentityProviderClient","DescribeRiskConfigurationCommand").f(Vut,Gut).ser(k5r).de(qJr).build(){static{v(this,"DescribeRiskConfigurationCommand")}},rpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserImportJob",{}).n("CognitoIdentityProviderClient","DescribeUserImportJobCommand").f(void 0,void 0).ser(M5r).de(jJr).build(){static{v(this,"DescribeUserImportJobCommand")}},npt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPoolClient",{}).n("CognitoIdentityProviderClient","DescribeUserPoolClientCommand").f(Wut,Kut).ser(U5r).de(zJr).build(){static{v(this,"DescribeUserPoolClientCommand")}},spt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPool",{}).n("CognitoIdentityProviderClient","DescribeUserPoolCommand").f(void 0,void 0).ser(L5r).de($Jr).build(){static{v(this,"DescribeUserPoolCommand")}},ipt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPoolDomain",{}).n("CognitoIdentityProviderClient","DescribeUserPoolDomainCommand").f(void 0,void 0).ser(F5r).de(HJr).build(){static{v(this,"DescribeUserPoolDomainCommand")}},opt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ForgetDevice",{}).n("CognitoIdentityProviderClient","ForgetDeviceCommand").f(Xut,void 0).ser(B5r).de(VJr).build(){static{v(this,"ForgetDeviceCommand")}},apt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ForgotPassword",{}).n("CognitoIdentityProviderClient","ForgotPasswordCommand").f(Jut,void 0).ser(q5r).de(GJr).build(){static{v(this,"ForgotPasswordCommand")}},cpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetCSVHeader",{}).n("CognitoIdentityProviderClient","GetCSVHeaderCommand").f(void 0,void 0).ser(j5r).de(WJr).build(){static{v(this,"GetCSVHeaderCommand")}},lpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetDevice",{}).n("CognitoIdentityProviderClient","GetDeviceCommand").f(Qut,Yut).ser($5r).de(KJr).build(){static{v(this,"GetDeviceCommand")}},dpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetGroup",{}).n("CognitoIdentityProviderClient","GetGroupCommand").f(void 0,void 0).ser(z5r).de(XJr).build(){static{v(this,"GetGroupCommand")}},upt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetIdentityProviderByIdentifier",{}).n("CognitoIdentityProviderClient","GetIdentityProviderByIdentifierCommand").f(void 0,void 0).ser(H5r).de(JJr).build(){static{v(this,"GetIdentityProviderByIdentifierCommand")}},mpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetLogDeliveryConfiguration",{}).n("CognitoIdentityProviderClient","GetLogDeliveryConfigurationCommand").f(void 0,void 0).ser(V5r).de(QJr).build(){static{v(this,"GetLogDeliveryConfigurationCommand")}},fpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetSigningCertificate",{}).n("CognitoIdentityProviderClient","GetSigningCertificateCommand").f(void 0,void 0).ser(G5r).de(YJr).build(){static{v(this,"GetSigningCertificateCommand")}},ppt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetTokensFromRefreshToken",{}).n("CognitoIdentityProviderClient","GetTokensFromRefreshTokenCommand").f(Zut,emt).ser(W5r).de(ZJr).build(){static{v(this,"GetTokensFromRefreshTokenCommand")}},gpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUICustomization",{}).n("CognitoIdentityProviderClient","GetUICustomizationCommand").f(tmt,rmt).ser(K5r).de(eQr).build(){static{v(this,"GetUICustomizationCommand")}},hpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserAttributeVerificationCode",{}).n("CognitoIdentityProviderClient","GetUserAttributeVerificationCodeCommand").f(imt,void 0).ser(J5r).de(rQr).build(){static{v(this,"GetUserAttributeVerificationCodeCommand")}},ypt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserAuthFactors",{}).n("CognitoIdentityProviderClient","GetUserAuthFactorsCommand").f(pmt,gmt).ser(Q5r).de(nQr).build(){static{v(this,"GetUserAuthFactorsCommand")}},_pt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUser",{}).n("CognitoIdentityProviderClient","GetUserCommand").f(nmt,smt).ser(X5r).de(tQr).build(){static{v(this,"GetUserCommand")}},Spt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserPoolMfaConfig",{}).n("CognitoIdentityProviderClient","GetUserPoolMfaConfigCommand").f(void 0,void 0).ser(Y5r).de(sQr).build(){static{v(this,"GetUserPoolMfaConfigCommand")}},vpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GlobalSignOut",{}).n("CognitoIdentityProviderClient","GlobalSignOutCommand").f(hmt,void 0).ser(Z5r).de(iQr).build(){static{v(this,"GlobalSignOutCommand")}},Ept=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","InitiateAuth",{}).n("CognitoIdentityProviderClient","InitiateAuthCommand").f(ymt,_mt).ser(eXr).de(oQr).build(){static{v(this,"InitiateAuthCommand")}},Cpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListDevices",{}).n("CognitoIdentityProviderClient","ListDevicesCommand").f(Smt,vmt).ser(tXr).de(aQr).build(){static{v(this,"ListDevicesCommand")}},lde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListGroups",{}).n("CognitoIdentityProviderClient","ListGroupsCommand").f(void 0,void 0).ser(rXr).de(cQr).build(){static{v(this,"ListGroupsCommand")}},dde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListIdentityProviders",{}).n("CognitoIdentityProviderClient","ListIdentityProvidersCommand").f(void 0,void 0).ser(nXr).de(lQr).build(){static{v(this,"ListIdentityProvidersCommand")}},ude=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListResourceServers",{}).n("CognitoIdentityProviderClient","ListResourceServersCommand").f(void 0,void 0).ser(sXr).de(dQr).build(){static{v(this,"ListResourceServersCommand")}},bpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListTagsForResource",{}).n("CognitoIdentityProviderClient","ListTagsForResourceCommand").f(void 0,void 0).ser(iXr).de(uQr).build(){static{v(this,"ListTagsForResourceCommand")}},wpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserImportJobs",{}).n("CognitoIdentityProviderClient","ListUserImportJobsCommand").f(void 0,void 0).ser(oXr).de(mQr).build(){static{v(this,"ListUserImportJobsCommand")}},mde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserPoolClients",{}).n("CognitoIdentityProviderClient","ListUserPoolClientsCommand").f(void 0,Cmt).ser(aXr).de(fQr).build(){static{v(this,"ListUserPoolClientsCommand")}},fde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserPools",{}).n("CognitoIdentityProviderClient","ListUserPoolsCommand").f(void 0,void 0).ser(cXr).de(pQr).build(){static{v(this,"ListUserPoolsCommand")}},pde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUsers",{}).n("CognitoIdentityProviderClient","ListUsersCommand").f(void 0,bmt).ser(lXr).de(gQr).build(){static{v(this,"ListUsersCommand")}},gde=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUsersInGroup",{}).n("CognitoIdentityProviderClient","ListUsersInGroupCommand").f(void 0,wmt).ser(dXr).de(hQr).build(){static{v(this,"ListUsersInGroupCommand")}},Apt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListWebAuthnCredentials",{}).n("CognitoIdentityProviderClient","ListWebAuthnCredentialsCommand").f(Amt,void 0).ser(uXr).de(yQr).build(){static{v(this,"ListWebAuthnCredentialsCommand")}},xpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ResendConfirmationCode",{}).n("CognitoIdentityProviderClient","ResendConfirmationCodeCommand").f(xmt,void 0).ser(mXr).de(_Qr).build(){static{v(this,"ResendConfirmationCodeCommand")}},Ppt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","RespondToAuthChallenge",{}).n("CognitoIdentityProviderClient","RespondToAuthChallengeCommand").f(Pmt,Rmt).ser(fXr).de(SQr).build(){static{v(this,"RespondToAuthChallengeCommand")}},Rpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","RevokeToken",{}).n("CognitoIdentityProviderClient","RevokeTokenCommand").f(Tmt,void 0).ser(pXr).de(vQr).build(){static{v(this,"RevokeTokenCommand")}},Tpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetLogDeliveryConfiguration",{}).n("CognitoIdentityProviderClient","SetLogDeliveryConfigurationCommand").f(void 0,void 0).ser(gXr).de(EQr).build(){static{v(this,"SetLogDeliveryConfigurationCommand")}},Ipt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetRiskConfiguration",{}).n("CognitoIdentityProviderClient","SetRiskConfigurationCommand").f(Imt,Omt).ser(hXr).de(CQr).build(){static{v(this,"SetRiskConfigurationCommand")}},Opt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUICustomization",{}).n("CognitoIdentityProviderClient","SetUICustomizationCommand").f(Nmt,Dmt).ser(yXr).de(bQr).build(){static{v(this,"SetUICustomizationCommand")}},Npt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserMFAPreference",{}).n("CognitoIdentityProviderClient","SetUserMFAPreferenceCommand").f(kmt,void 0).ser(_Xr).de(wQr).build(){static{v(this,"SetUserMFAPreferenceCommand")}},Dpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserPoolMfaConfig",{}).n("CognitoIdentityProviderClient","SetUserPoolMfaConfigCommand").f(void 0,void 0).ser(SXr).de(AQr).build(){static{v(this,"SetUserPoolMfaConfigCommand")}},kpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserSettings",{}).n("CognitoIdentityProviderClient","SetUserSettingsCommand").f(Mmt,void 0).ser(vXr).de(xQr).build(){static{v(this,"SetUserSettingsCommand")}},Mpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SignUp",{}).n("CognitoIdentityProviderClient","SignUpCommand").f(Lmt,Umt).ser(EXr).de(PQr).build(){static{v(this,"SignUpCommand")}},Lpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StartUserImportJob",{}).n("CognitoIdentityProviderClient","StartUserImportJobCommand").f(void 0,void 0).ser(CXr).de(RQr).build(){static{v(this,"StartUserImportJobCommand")}},Upt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StartWebAuthnRegistration",{}).n("CognitoIdentityProviderClient","StartWebAuthnRegistrationCommand").f(Fmt,void 0).ser(bXr).de(TQr).build(){static{v(this,"StartWebAuthnRegistrationCommand")}},Fpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StopUserImportJob",{}).n("CognitoIdentityProviderClient","StopUserImportJobCommand").f(void 0,void 0).ser(wXr).de(IQr).build(){static{v(this,"StopUserImportJobCommand")}},Bpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","TagResource",{}).n("CognitoIdentityProviderClient","TagResourceCommand").f(void 0,void 0).ser(AXr).de(OQr).build(){static{v(this,"TagResourceCommand")}},qpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UntagResource",{}).n("CognitoIdentityProviderClient","UntagResourceCommand").f(void 0,void 0).ser(xXr).de(NQr).build(){static{v(this,"UntagResourceCommand")}},jpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateAuthEventFeedback",{}).n("CognitoIdentityProviderClient","UpdateAuthEventFeedbackCommand").f(Bmt,void 0).ser(PXr).de(DQr).build(){static{v(this,"UpdateAuthEventFeedbackCommand")}},$pt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateDeviceStatus",{}).n("CognitoIdentityProviderClient","UpdateDeviceStatusCommand").f(qmt,void 0).ser(RXr).de(kQr).build(){static{v(this,"UpdateDeviceStatusCommand")}},zpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateGroup",{}).n("CognitoIdentityProviderClient","UpdateGroupCommand").f(void 0,void 0).ser(TXr).de(MQr).build(){static{v(this,"UpdateGroupCommand")}},Hpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateIdentityProvider",{}).n("CognitoIdentityProviderClient","UpdateIdentityProviderCommand").f(void 0,void 0).ser(IXr).de(LQr).build(){static{v(this,"UpdateIdentityProviderCommand")}},Vpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateManagedLoginBranding",{}).n("CognitoIdentityProviderClient","UpdateManagedLoginBrandingCommand").f(void 0,void 0).ser(OXr).de(UQr).build(){static{v(this,"UpdateManagedLoginBrandingCommand")}},Gpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateResourceServer",{}).n("CognitoIdentityProviderClient","UpdateResourceServerCommand").f(void 0,void 0).ser(NXr).de(FQr).build(){static{v(this,"UpdateResourceServerCommand")}},Wpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserAttributes",{}).n("CognitoIdentityProviderClient","UpdateUserAttributesCommand").f(jmt,void 0).ser(DXr).de(BQr).build(){static{v(this,"UpdateUserAttributesCommand")}},Kpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPoolClient",{}).n("CognitoIdentityProviderClient","UpdateUserPoolClientCommand").f($mt,zmt).ser(MXr).de(jQr).build(){static{v(this,"UpdateUserPoolClientCommand")}},Xpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPool",{}).n("CognitoIdentityProviderClient","UpdateUserPoolCommand").f(void 0,void 0).ser(kXr).de(qQr).build(){static{v(this,"UpdateUserPoolCommand")}},Jpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPoolDomain",{}).n("CognitoIdentityProviderClient","UpdateUserPoolDomainCommand").f(void 0,void 0).ser(LXr).de($Qr).build(){static{v(this,"UpdateUserPoolDomainCommand")}},Qpt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","VerifySoftwareToken",{}).n("CognitoIdentityProviderClient","VerifySoftwareTokenCommand").f(Hmt,Vmt).ser(UXr).de(zQr).build(){static{v(this,"VerifySoftwareTokenCommand")}},Ypt=class extends h.Command.classBuilder().ep(te).m(function(e,t,r,n){return[(0,re.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","VerifyUserAttribute",{}).n("CognitoIdentityProviderClient","VerifyUserAttributeCommand").f(Gmt,void 0).ser(FXr).de(HQr).build(){static{v(this,"VerifyUserAttributeCommand")}},X9r={AddCustomAttributesCommand:rft,AdminAddUserToGroupCommand:nft,AdminConfirmSignUpCommand:sft,AdminCreateUserCommand:ift,AdminDeleteUserCommand:aft,AdminDeleteUserAttributesCommand:oft,AdminDisableProviderForUserCommand:cft,AdminDisableUserCommand:lft,AdminEnableUserCommand:dft,AdminForgetDeviceCommand:uft,AdminGetDeviceCommand:mft,AdminGetUserCommand:fft,AdminInitiateAuthCommand:pft,AdminLinkProviderForUserCommand:gft,AdminListDevicesCommand:hft,AdminListGroupsForUserCommand:ade,AdminListUserAuthEventsCommand:cde,AdminRemoveUserFromGroupCommand:yft,AdminResetUserPasswordCommand:_ft,AdminRespondToAuthChallengeCommand:Sft,AdminSetUserMFAPreferenceCommand:vft,AdminSetUserPasswordCommand:Eft,AdminSetUserSettingsCommand:Cft,AdminUpdateAuthEventFeedbackCommand:bft,AdminUpdateDeviceStatusCommand:wft,AdminUpdateUserAttributesCommand:Aft,AdminUserGlobalSignOutCommand:xft,AssociateSoftwareTokenCommand:Pft,ChangePasswordCommand:Rft,CompleteWebAuthnRegistrationCommand:Tft,ConfirmDeviceCommand:Ift,ConfirmForgotPasswordCommand:Oft,ConfirmSignUpCommand:Nft,CreateGroupCommand:Dft,CreateIdentityProviderCommand:kft,CreateManagedLoginBrandingCommand:Mft,CreateResourceServerCommand:Lft,CreateUserImportJobCommand:Uft,CreateUserPoolCommand:Bft,CreateUserPoolClientCommand:Fft,CreateUserPoolDomainCommand:qft,DeleteGroupCommand:jft,DeleteIdentityProviderCommand:$ft,DeleteManagedLoginBrandingCommand:zft,DeleteResourceServerCommand:Hft,DeleteUserCommand:Gft,DeleteUserAttributesCommand:Vft,DeleteUserPoolCommand:Kft,DeleteUserPoolClientCommand:Wft,DeleteUserPoolDomainCommand:Xft,DeleteWebAuthnCredentialCommand:Jft,DescribeIdentityProviderCommand:Qft,DescribeManagedLoginBrandingCommand:Zft,DescribeManagedLoginBrandingByClientCommand:Yft,DescribeResourceServerCommand:ept,DescribeRiskConfigurationCommand:tpt,DescribeUserImportJobCommand:rpt,DescribeUserPoolCommand:spt,DescribeUserPoolClientCommand:npt,DescribeUserPoolDomainCommand:ipt,ForgetDeviceCommand:opt,ForgotPasswordCommand:apt,GetCSVHeaderCommand:cpt,GetDeviceCommand:lpt,GetGroupCommand:dpt,GetIdentityProviderByIdentifierCommand:upt,GetLogDeliveryConfigurationCommand:mpt,GetSigningCertificateCommand:fpt,GetTokensFromRefreshTokenCommand:ppt,GetUICustomizationCommand:gpt,GetUserCommand:_pt,GetUserAttributeVerificationCodeCommand:hpt,GetUserAuthFactorsCommand:ypt,GetUserPoolMfaConfigCommand:Spt,GlobalSignOutCommand:vpt,InitiateAuthCommand:Ept,ListDevicesCommand:Cpt,ListGroupsCommand:lde,ListIdentityProvidersCommand:dde,ListResourceServersCommand:ude,ListTagsForResourceCommand:bpt,ListUserImportJobsCommand:wpt,ListUserPoolClientsCommand:mde,ListUserPoolsCommand:fde,ListUsersCommand:pde,ListUsersInGroupCommand:gde,ListWebAuthnCredentialsCommand:Apt,ResendConfirmationCodeCommand:xpt,RespondToAuthChallengeCommand:Ppt,RevokeTokenCommand:Rpt,SetLogDeliveryConfigurationCommand:Tpt,SetRiskConfigurationCommand:Ipt,SetUICustomizationCommand:Opt,SetUserMFAPreferenceCommand:Npt,SetUserPoolMfaConfigCommand:Dpt,SetUserSettingsCommand:kpt,SignUpCommand:Mpt,StartUserImportJobCommand:Lpt,StartWebAuthnRegistrationCommand:Upt,StopUserImportJobCommand:Fpt,TagResourceCommand:Bpt,UntagResourceCommand:qpt,UpdateAuthEventFeedbackCommand:jpt,UpdateDeviceStatusCommand:$pt,UpdateGroupCommand:zpt,UpdateIdentityProviderCommand:Hpt,UpdateManagedLoginBrandingCommand:Vpt,UpdateResourceServerCommand:Gpt,UpdateUserAttributesCommand:Wpt,UpdateUserPoolCommand:Xpt,UpdateUserPoolClientCommand:Kpt,UpdateUserPoolDomainCommand:Jpt,VerifySoftwareTokenCommand:Qpt,VerifyUserAttributeCommand:Ypt},Zpt=class extends cm{static{v(this,"CognitoIdentityProvider")}};(0,h.createAggregatedClient)(X9r,Zpt);var J9r=(0,Kd.createPaginator)(cm,ade,"NextToken","NextToken","Limit"),Q9r=(0,Kd.createPaginator)(cm,cde,"NextToken","NextToken","MaxResults"),Y9r=(0,Kd.createPaginator)(cm,lde,"NextToken","NextToken","Limit"),Z9r=(0,Kd.createPaginator)(cm,dde,"NextToken","NextToken","MaxResults"),e7r=(0,Kd.createPaginator)(cm,ude,"NextToken","NextToken","MaxResults"),t7r=(0,Kd.createPaginator)(cm,mde,"NextToken","NextToken","MaxResults"),r7r=(0,Kd.createPaginator)(cm,fde,"NextToken","NextToken","MaxResults"),n7r=(0,Kd.createPaginator)(cm,gde,"NextToken","NextToken","Limit"),s7r=(0,Kd.createPaginator)(cm,pde,"PaginationToken","PaginationToken","Limit")});var yde=E(vk=>{"use strict";var rgt=vk&&vk.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vk,"__esModule",{value:!0});var i7r=rgt(require("crypto")),bl=tgt(),qi=rgt(Np()),hde=class{client;userPoolId;clientId;constructor(){let t=process.env.AWS_REGION||"ap-southeast-1",r=process.env.COGNITO_USER_POOL_ID,n=process.env.COGNITO_CLIENT_ID;if(!r||!n)throw new Error("Missing required Cognito environment variables");qi.default.info("Cognito service initialization",{region:t,userPoolId:r,clientId:n}),this.client=new bl.CognitoIdentityProviderClient({region:t}),this.userPoolId=r,this.clientId=n}generateSecretHash(t){let r=process.env.COGNITO_CLIENT_SECRET;return r?i7r.default.createHmac("SHA256",r).update(t+this.clientId).digest("base64"):""}async registerUser(t,r,n){try{qi.default.info("Registering user with Cognito",{email:t});let s=new bl.AdminCreateUserCommand({UserPoolId:this.userPoolId,Username:t,MessageAction:"SUPPRESS",TemporaryPassword:r,UserAttributes:[{Name:"email",Value:t},{Name:"name",Value:n},{Name:"email_verified",Value:"false"}]}),o=(await this.client.send(s)).User?.Attributes?.find(c=>c.Name==="sub")?.Value;if(!o)throw new Error("Failed to get user sub from Cognito response");let a=new bl.AdminSetUserPasswordCommand({UserPoolId:this.userPoolId,Username:t,Password:r,Permanent:!0});return await this.client.send(a),qi.default.info("User registered successfully",{email:t,userSub:o}),{userSub:o}}catch(s){throw qi.default.error("Error registering user",s,{email:t}),new Error(`Registration failed: ${s.message}`)}}async authenticateUser(t,r){try{qi.default.info("Authenticating user",{email:t});let n={USERNAME:t,PASSWORD:r},s=this.generateSecretHash(t);s&&(n.SECRET_HASH=s);let i=new bl.AdminInitiateAuthCommand({UserPoolId:this.userPoolId,ClientId:this.clientId,AuthFlow:bl.AuthFlowType.ADMIN_NO_SRP_AUTH,AuthParameters:n}),o=await this.client.send(i);if(o.ChallengeName)return{accessToken:"",refreshToken:"",idToken:"",expiresIn:0,tokenType:"Bearer",user:{},challengeName:o.ChallengeName,session:o.Session};if(!o.AuthenticationResult)throw new Error("Authentication failed - no result returned");let{AccessToken:a,RefreshToken:c,IdToken:l,ExpiresIn:d,TokenType:u}=o.AuthenticationResult;if(!a||!c||!l)throw new Error("Authentication failed - missing tokens");let m=this.decodeIdToken(l);return qi.default.info("User authenticated successfully",{email:t,userSub:m.sub}),{accessToken:a,refreshToken:c,idToken:l,expiresIn:d||3600,tokenType:u||"Bearer",user:m}}catch(n){throw qi.default.error("Error authenticating user",n,{email:t}),new Error(`Authentication failed: ${n.message}`)}}async refreshToken(t){try{let r=new bl.AdminInitiateAuthCommand({UserPoolId:this.userPoolId,ClientId:this.clientId,AuthFlow:bl.AuthFlowType.REFRESH_TOKEN_AUTH,AuthParameters:{REFRESH_TOKEN:t}}),n=await this.client.send(r);if(!n.AuthenticationResult)throw new Error("Token refresh failed - no result returned");let{AccessToken:s,IdToken:i,ExpiresIn:o,TokenType:a}=n.AuthenticationResult;if(!s||!i)throw new Error("Token refresh failed - missing tokens");return{accessToken:s,refreshToken:t,idToken:i,expiresIn:o||3600,tokenType:a||"Bearer"}}catch(r){throw qi.default.error("Error refreshing token",r),new Error(`Token refresh failed: ${r.message}`)}}async getUser(t){try{let r=new bl.AdminGetUserCommand({UserPoolId:this.userPoolId,Username:t}),n=await this.client.send(r);if(!n.UserAttributes)throw new Error("User not found");let s=n.UserAttributes.reduce((i,o)=>(o.Name&&o.Value&&(i[o.Name]=o.Value),i),{});return{sub:s.sub,email:s.email,name:s.name,email_verified:s.email_verified==="true",preferred_username:s.preferred_username}}catch(r){throw qi.default.error("Error getting user",r,{username:t}),new Error(`Failed to get user: ${r.message}`)}}async updateUser(t,r){try{let n=Object.entries(r).map(([i,o])=>({Name:i,Value:o})),s=new bl.AdminUpdateUserAttributesCommand({UserPoolId:this.userPoolId,Username:t,UserAttributes:n});await this.client.send(s),qi.default.info("User updated successfully",{username:t})}catch(n){throw qi.default.error("Error updating user",n,{username:t}),new Error(`Failed to update user: ${n.message}`)}}async forgotPassword(t){try{let r={Username:t},n=this.generateSecretHash(t);n&&(r.SecretHash=n);let s={ClientId:this.clientId,Username:t,...r.SecretHash?{SecretHash:r.SecretHash}:{}},i=new bl.ForgotPasswordCommand(s);await this.client.send(i),qi.default.info("Forgot password initiated",{email:t})}catch(r){throw qi.default.error("Error initiating forgot password",r,{email:t}),new Error(`Forgot password failed: ${r.message}`)}}async confirmForgotPassword(t,r,n){try{let s={Username:t,ConfirmationCode:r,Password:n},i=this.generateSecretHash(t);i&&(s.SecretHash=i);let o={ClientId:this.clientId,Username:t,ConfirmationCode:r,Password:n,...s.SecretHash?{SecretHash:s.SecretHash}:{}},a=new bl.ConfirmForgotPasswordCommand(o);await this.client.send(a),qi.default.info("Password reset confirmed",{email:t})}catch(s){throw qi.default.error("Error confirming password reset",s,{email:t}),new Error(`Password reset confirmation failed: ${s.message}`)}}async globalSignOut(t){try{let r=new bl.GlobalSignOutCommand({AccessToken:t});await this.client.send(r),qi.default.info("User signed out globally")}catch(r){throw qi.default.error("Error signing out user",r),new Error(`Sign out failed: ${r.message}`)}}async deleteUser(t){try{let r=new bl.AdminDeleteUserCommand({UserPoolId:this.userPoolId,Username:t});await this.client.send(r),qi.default.info("User deleted from Cognito",{username:t})}catch(r){throw qi.default.error("Error deleting user",r,{username:t}),new Error(`Failed to delete user: ${r.message}`)}}async verifyToken(t){try{return this.decodeIdToken(t)}catch(r){throw qi.default.error("Error verifying token",r),new Error(`Token verification failed: ${r.message}`)}}decodeIdToken(t){try{let r=t.split(".")[1],n=JSON.parse(Buffer.from(r,"base64").toString());return{sub:n.sub,email:n.email,name:n.name,email_verified:n.email_verified,preferred_username:n.preferred_username}}catch{throw new Error("Invalid token format")}}};vk.default=new hde});var ngt=E(nx=>{"use strict";var _de=nx&&nx.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nx,"__esModule",{value:!0});nx.verifyAuthToken=c7r;nx.verifyAuthTokenSimple=l7r;var o7r=_de(yde()),a7r=_de(G7()),V3=_de(Np());async function c7r(e){if(!e?.startsWith("Bearer "))return null;let t=e.slice(7);try{let r=await o7r.default.verifyToken(t),s=await(await(0,a7r.default)()).user.findUnique({where:{cognitoId:r.sub},select:{id:!0,cognitoId:!0,email:!0,name:!0}});return s?{id:s.id,cognitoId:s.cognitoId,email:s.email,name:s.name||void 0}:null}catch(r){return V3.default.error("verifyAuthTokenSimple failed",r instanceof Error?r:void 0),null}}async function l7r(e){if(!e?.startsWith("Bearer "))return null;let t=e.slice(7);try{let n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=n+"=".repeat((4-n.length%4)%4),i=JSON.parse(Buffer.from(s,"base64").toString());V3.default.info("verifyAuthTokenSimple decoded token",{hasSub:!!i?.sub,hasEmail:!!i?.email});let o=i.sub||i["custom:userId"];return o?{id:o,cognitoId:o,email:i.email??"",name:i.name||void 0}:(V3.default.warn("verifyAuthTokenSimple missing user identifier"),null)}catch(r){return V3.default.error("verifyAuthTokenSimple failed",r instanceof Error?r:void 0),null}}});var igt=E(PE=>{"use strict";var sgt=PE&&PE.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PE,"__esModule",{value:!0});PE.ImagePreprocessingService=void 0;var Sde=sgt(require("sharp")),Rg=sgt(Np()),G3=class{static DEFAULT_OPTIONS={storage:{purpose:"storage",quality:85,maxWidth:2048,maxHeight:2048,format:"jpeg",optimize:!0,removeMetadata:!0},ocr:{purpose:"ocr",quality:95,maxWidth:3e3,maxHeight:3e3,format:"jpeg",optimize:!1,removeMetadata:!0},thumbnail:{purpose:"thumbnail",quality:75,maxWidth:300,maxHeight:300,format:"webp",optimize:!0,removeMetadata:!0},avatar:{purpose:"avatar",quality:80,maxWidth:512,maxHeight:512,format:"webp",optimize:!0,removeMetadata:!0},"web-display":{purpose:"web-display",quality:80,maxWidth:1920,maxHeight:1080,format:"webp",optimize:!0,removeMetadata:!0}};static async processImage(t,r={}){let n=Date.now(),s=[],i=[];try{let o=r.purpose||"storage",c={...this.DEFAULT_OPTIONS[o]||this.DEFAULT_OPTIONS.storage,...r};Rg.default.info("Starting image preprocessing",{purpose:c.purpose,inputSize:t.length,targetFormat:c.format});let l=(0,Sde.default)(t),d=await l.metadata();if(!d.width||!d.height||!d.format)throw new Error("Unable to read image metadata");let u=l.clone();d.orientation&&d.orientation>1&&(u=u.rotate(),s.push("Auto-rotated based on EXIF orientation"));let{resizedImage:m,resizeApplied:p,actualDimensions:g}=await this.applyResizing(u,d,c);u=m,p&&g&&s.push(`Resized to fit ${g.width}x${g.height}`),u=await this.applyPurposeSpecificEnhancements(u,c,s,i),c.removeMetadata&&(u=u.withMetadata({}),s.push("Removed EXIF metadata for privacy"));let{finalImage:y,outputFormat:b}=await this.applyOutputFormat(u,d.format,c,s),w=await y.toBuffer(),A=await(0,Sde.default)(w).metadata(),O=Date.now()-n,T=(t.length-w.length)/t.length*100;return Rg.default.info("Image preprocessing completed",{purpose:c.purpose,originalSize:t.length,processedSize:w.length,compressionRatio:`${T.toFixed(1)}%`,processingTime:`${O}ms`,optimizations:s.length}),{buffer:w,metadata:{originalSize:t.length,processedSize:w.length,compressionRatio:Math.round(T*100)/100,originalFormat:d.format,outputFormat:b,originalDimensions:{width:d.width,height:d.height},processedDimensions:{width:A.width||0,height:A.height||0},processingTime:O},optimizations:s,warnings:i}}catch(o){let a=Date.now()-n;throw Rg.default.error("Image preprocessing failed",o instanceof Error?o:void 0,{processingTime:`${a}ms`}),new Error(`Image preprocessing failed: ${o instanceof Error?o.message:"Unknown error"}`)}}static async applyResizing(t,r,n){if(!r.width||!r.height||!n.maxWidth||!n.maxHeight)return{resizedImage:t,resizeApplied:!1};if(!(r.width>n.maxWidth||r.height>n.maxHeight))return{resizedImage:t,resizeApplied:!1};let i=t.resize(n.maxWidth,n.maxHeight,{fit:n.maintainAspectRatio!==!1?"inside":"fill",withoutEnlargement:!0,kernel:Sde.default.kernel.lanczos3}),o=r.width/r.height,a=n.maxWidth/n.maxHeight,c,l;return o>a?(c=n.maxWidth,l=Math.round(n.maxWidth/o)):(l=n.maxHeight,c=Math.round(n.maxHeight*o)),{resizedImage:i,resizeApplied:!0,actualDimensions:{width:c,height:l}}}static async applyPurposeSpecificEnhancements(t,r,n,s){let i=t;switch(r.purpose){case"ocr":i=i.grayscale().normalize().sharpen(1,1,2),n.push("Applied OCR optimizations (grayscale, normalize, sharpen)");break;case"avatar":i=i.blur(.3).sharpen(.5,1,2),n.push("Applied avatar optimizations (slight blur and sharpen)");break;case"thumbnail":i=i.sharpen(.8,1,2),n.push("Applied thumbnail sharpening for clarity at small sizes");break;case"web-display":i=i.sharpen(.5,1,2),n.push("Applied web display optimizations");break;case"storage":default:i=i.sharpen(.3,1,1),n.push("Applied storage optimizations (light sharpening)");break}return i}static async applyOutputFormat(t,r,n,s){let i=n.format||"auto";i==="auto"&&(i=this.selectOptimalFormat(r,n.purpose),s.push(`Auto-selected ${i} format for ${n.purpose}`));let o;switch(i){case"jpeg":o=t.jpeg({quality:n.quality||85,progressive:!0,mozjpeg:!0});break;case"webp":o=t.webp({quality:n.quality||80,effort:n.optimize?6:3});break;case"png":o=t.png({quality:n.quality||90,progressive:!0,compressionLevel:n.optimize?9:6});break;default:throw new Error(`Unsupported output format: ${i}`)}return{finalImage:o,outputFormat:i}}static selectOptimalFormat(t,r){return r==="ocr"?"jpeg":t==="png"?r==="web-display"?"webp":"png":r==="thumbnail"||r==="web-display"?"webp":"jpeg"}static async processBatch(t,r={}){let n=new Array(t.length);Rg.default.info("Starting batch image preprocessing",{imageCount:t.length,purpose:r.purpose||"storage"});let s=t.map(async(i,o)=>{try{let a=await this.processImage(i.buffer,r);n[o]={name:i.name,result:a}}catch(a){let c=a instanceof Error?a.message:"Unknown error";Rg.default.error("Batch processing failed for image",a instanceof Error?a:void 0,{imageName:i.name}),n[o]={name:i.name,error:c}}});return await Promise.all(s),Rg.default.info("Batch image preprocessing completed",{totalImages:t.length,successfulImages:n.filter(i=>i.result).length,failedImages:n.filter(i=>i.error).length}),n}static getOptionsForUseCase(t){return{...this.DEFAULT_OPTIONS[t]}}static async createVariants(t,r){let n={};Rg.default.info("Creating image variants",{inputSize:t.length,variantCount:r.length});let s=r.map(async i=>{try{let o=await this.processImage(t,i.options);n[i.name]=o}catch(o){throw Rg.default.error("Variant creation failed",o instanceof Error?o:void 0,{variantName:i.name}),o}});return await Promise.all(s),Rg.default.info("Image variants created successfully",{variantNames:Object.keys(n)}),n}};PE.ImagePreprocessingService=G3;PE.default=G3});var agt=E(Tg=>{"use strict";var ogt=Tg&&Tg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.ImageValidationService=Tg.AppError=void 0;var d7r=ogt(require("sharp")),RE=ogt(Np()),W3=class extends Error{statusCode;constructor(t,r=500){super(t),this.statusCode=r,this.name="AppError",Error.captureStackTrace(this,this.constructor)}};Tg.AppError=W3;var K3=class{static DEFAULT_CONFIG={maxFileSize:10*1024*1024,maxWidth:4096,maxHeight:4096,minWidth:32,minHeight:32,maxFiles:5,maxAspectRatio:10,allowedFormats:["jpeg","jpg","png","gif","webp","bmp","tiff"]};static async validateImage(t,r,n={}){let s={...this.DEFAULT_CONFIG,...n},i={isValid:!0,errors:[],warnings:[]};try{if(RE.default.debug("Starting image validation",{fileName:r,bufferSize:t.length}),t.length>s.maxFileSize&&i.errors.push(`File size ${(t.length/1024/1024).toFixed(2)}MB exceeds maximum allowed size of ${(s.maxFileSize/1024/1024).toFixed(2)}MB`),t.length===0)return i.errors.push("File is empty"),i.isValid=!1,i;let o,a;try{o=(0,d7r.default)(t),a=await o.metadata()}catch{return i.errors.push("Invalid image format or corrupted file"),i.isValid=!1,i}if(!a.format)return i.errors.push("Unable to determine image format"),i.isValid=!1,i;s.allowedFormats.includes(a.format.toLowerCase())||i.errors.push(`Format '${a.format}' not allowed. Supported formats: ${s.allowedFormats.join(", ")}`);let c=a.width||0,l=a.height||0;if(c===0||l===0)return i.errors.push("Unable to determine image dimensions"),i.isValid=!1,i;(c<s.minWidth||l<s.minHeight)&&i.errors.push(`Image dimensions ${c}x${l} are too small. Minimum required: ${s.minWidth}x${s.minHeight}`),(c>s.maxWidth||l>s.maxHeight)&&i.errors.push(`Image dimensions ${c}x${l} are too large. Maximum allowed: ${s.maxWidth}x${s.maxHeight}`);let d=c/l;s.maxAspectRatio&&d>s.maxAspectRatio&&i.errors.push(`Image aspect ratio ${d.toFixed(2)}:1 exceeds maximum allowed ratio of ${s.maxAspectRatio}:1`),s.maxAspectRatio&&1/d>s.maxAspectRatio&&i.errors.push(`Image aspect ratio 1:${(1/d).toFixed(2)} exceeds maximum allowed ratio of 1:${s.maxAspectRatio}`),s.requireSquareAspect&&Math.abs(d-1)>.1&&i.errors.push("Image must have a square aspect ratio (1:1)");let u=a.channels||0,m=a.hasAlpha||!1;return t.length>5*1024*1024&&i.warnings.push("Large file size may result in slower processing"),c*l>16*1024*1024&&i.warnings.push("Very high resolution image may require significant processing time"),a.space&&!["srgb","rgb"].includes(a.space.toLowerCase())&&i.warnings.push(`Unusual color space detected: ${a.space}. Image may be converted to sRGB`),await this.performSecurityChecks(t,a,i,s),i.metadata={format:a.format,width:c,height:l,size:t.length,aspectRatio:Math.round(d*100)/100,hasAlpha:m,channels:u,density:a.density||72},i.isValid=i.errors.length===0,RE.default.info("Image validation completed",{fileName:r,isValid:i.isValid,errors:i.errors.length,warnings:i.warnings.length,dimensions:`${c}x${l}`,format:a.format}),i}catch(o){return RE.default.error("Image validation failed",o instanceof Error?o:void 0,{fileName:r}),i.errors.push("Validation process failed"),i.isValid=!1,i}}static async validateImages(t,r={}){let n={...this.DEFAULT_CONFIG,...r};if(t.length>n.maxFiles)throw new W3(`Too many files. Maximum ${n.maxFiles} files allowed, received ${t.length}`,400);let s=[],i=0,o=0,a=0;for(let d of t){let u=await this.validateImage(d.buffer,d.originalName,r);s.push(u),u.isValid&&i++,o+=u.errors.length,a+=u.warnings.length}let c=i===t.length,l=`${i}/${t.length} files valid, ${o} errors, ${a} warnings`;return RE.default.info("Batch image validation completed",{totalFiles:t.length,validFiles:i,totalErrors:o,totalWarnings:a,overallValid:c}),{results:s,overallValid:c,summary:l}}static async performSecurityChecks(t,r,n,s){try{let i=t.subarray(0,Math.min(512,t.length)),o=[Buffer.from("<script","utf8"),Buffer.from("javascript:","utf8"),Buffer.from("<?php","utf8"),Buffer.from("<%","utf8")];if(s.lenientSecurity){let c=t.subarray(0,Math.min(512,t.length));for(let l of o)if(c.includes(l)){n.warnings.push("Potential suspicious pattern detected in image header (likely false positive for business card)"),RE.default.debug("Suspicious pattern detected in business card image header (lenient mode)",{pattern:l.toString()});break}}else{let c=t.subarray(0,Math.min(1024,t.length));for(let l of o)if(c.includes(l)){n.warnings.push("Potential suspicious pattern detected in image header (may be false positive)"),RE.default.warn("Suspicious pattern detected in image header",{pattern:l.toString()});break}}for(let c of o)if(i.includes(c)){n.warnings.push("Potential embedded content detected in image metadata");break}let a={jpeg:[Buffer.from([255,216,255])],png:[Buffer.from([137,80,78,71,13,10,26,10])],gif:[Buffer.from("GIF87a","ascii"),Buffer.from("GIF89a","ascii")],bmp:[Buffer.from([66,77])],webp:[Buffer.from("WEBP","ascii")]};if(r.format&&a[r.format]&&(a[r.format].some(d=>t.subarray(0,d.length).equals(d)||t.includes(d))||n.warnings.push(`File signature doesn't match expected format for ${r.format}`)),r.width&&r.height){let c=r.width*r.height,l=t.length/c;l<.1?n.warnings.push("Unusually high compression detected"):l>10&&n.warnings.push("Unusually low compression detected")}}catch(i){RE.default.warn("Security check failed",{error:i instanceof Error?i.message:"Unknown error"})}}static getConfigForUseCase(t){let r={...this.DEFAULT_CONFIG};switch(t){case"business-card":return{...r,maxFileSize:5*1024*1024,maxWidth:2048,maxHeight:2048,minWidth:200,minHeight:200,maxAspectRatio:2.5,allowedFormats:["jpeg","jpg","png","webp"],lenientSecurity:!0};case"profile-avatar":return{...r,maxFileSize:2*1024*1024,maxWidth:1024,maxHeight:1024,minWidth:64,minHeight:64,requireSquareAspect:!0,allowedFormats:["jpeg","jpg","png","webp"]};case"document":return{...r,maxFileSize:20*1024*1024,maxWidth:8192,maxHeight:8192,minWidth:100,minHeight:100,maxAspectRatio:5,allowedFormats:["jpeg","jpg","png","tiff","webp"]};default:return r}}};Tg.ImageValidationService=K3;Tg.default=K3});var Ede=E(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.resolveHttpAuthSchemeConfig=S_.defaultTextractHttpAuthSchemeProvider=S_.defaultTextractHttpAuthSchemeParametersProvider=void 0;var u7r=(ii(),F(Mc)),vde=Oc(),m7r=async(e,t,r)=>({operation:(0,vde.getSmithyContext)(t).operation,region:await(0,vde.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});S_.defaultTextractHttpAuthSchemeParametersProvider=m7r;function f7r(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"textract",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var p7r=e=>{let t=[];switch(e.operation){default:t.push(f7r(e))}return t};S_.defaultTextractHttpAuthSchemeProvider=p7r;var g7r=e=>{let t=(0,u7r.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,vde.normalizeProvider)(e.authSchemePreference??[])})};S_.resolveHttpAuthSchemeConfig=g7r});var cgt=E((wws,h7r)=>{h7r.exports={name:"@aws-sdk/client-textract",description:"AWS SDK for JavaScript Textract Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-textract","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo textract"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/credential-provider-node":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-textract",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-textract"}}});var Cgt=E(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});X3.ruleSet=void 0;var Sgt="required",Ef="fn",Cf="argv",ix="ref",lgt=!0,dgt="isSet",Ck="booleanEquals",sx="error",Ek="endpoint",Ig="tree",Cde="PartitionResult",ugt={[Sgt]:!1,type:"String"},mgt={[Sgt]:!0,default:!1,type:"Boolean"},fgt={[ix]:"Endpoint"},vgt={[Ef]:Ck,[Cf]:[{[ix]:"UseFIPS"},!0]},Egt={[Ef]:Ck,[Cf]:[{[ix]:"UseDualStack"},!0]},vf={},pgt={[Ef]:"getAttr",[Cf]:[{[ix]:Cde},"supportsFIPS"]},ggt={[Ef]:Ck,[Cf]:[!0,{[Ef]:"getAttr",[Cf]:[{[ix]:Cde},"supportsDualStack"]}]},hgt=[vgt],ygt=[Egt],_gt=[{[ix]:"Region"}],y7r={version:"1.0",parameters:{Region:ugt,UseDualStack:mgt,UseFIPS:mgt,Endpoint:ugt},rules:[{conditions:[{[Ef]:dgt,[Cf]:[fgt]}],rules:[{conditions:hgt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:sx},{conditions:ygt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:sx},{endpoint:{url:fgt,properties:vf,headers:vf},type:Ek}],type:Ig},{conditions:[{[Ef]:dgt,[Cf]:_gt}],rules:[{conditions:[{[Ef]:"aws.partition",[Cf]:_gt,assign:Cde}],rules:[{conditions:[vgt,Egt],rules:[{conditions:[{[Ef]:Ck,[Cf]:[lgt,pgt]},ggt],rules:[{endpoint:{url:"https://textract-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vf,headers:vf},type:Ek}],type:Ig},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:sx}],type:Ig},{conditions:hgt,rules:[{conditions:[{[Ef]:Ck,[Cf]:[pgt,lgt]}],rules:[{endpoint:{url:"https://textract-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vf,headers:vf},type:Ek}],type:Ig},{error:"FIPS is enabled but this partition does not support FIPS",type:sx}],type:Ig},{conditions:ygt,rules:[{conditions:[ggt],rules:[{endpoint:{url:"https://textract.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vf,headers:vf},type:Ek}],type:Ig},{error:"DualStack is enabled but this partition does not support DualStack",type:sx}],type:Ig},{endpoint:{url:"https://textract.{Region}.{PartitionResult#dnsSuffix}",properties:vf,headers:vf},type:Ek}],type:Ig}],type:Ig},{error:"Invalid Configuration: Missing Region",type:sx}]};X3.ruleSet=y7r});var bgt=E(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});J3.defaultEndpointResolver=void 0;var _7r=aE(),bde=oE(),S7r=Cgt(),v7r=new bde.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),E7r=(e,t={})=>v7r.get(e,()=>(0,bde.resolveEndpoint)(S7r.ruleSet,{endpointParams:e,logger:t.logger}));J3.defaultEndpointResolver=E7r;bde.customEndpointFunctions.aws=_7r.awsEndpointFunctions});var xgt=E(Q3=>{"use strict";Object.defineProperty(Q3,"__esModule",{value:!0});Q3.getRuntimeConfig=void 0;var C7r=(ii(),F(Mc)),b7r=bt(),w7r=o_(),wgt=Sa(),Agt=Zi(),A7r=Ede(),x7r=bgt(),P7r=e=>({apiVersion:"2018-06-27",base64Decoder:e?.base64Decoder??wgt.fromBase64,base64Encoder:e?.base64Encoder??wgt.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??x7r.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??A7r.defaultTextractHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new C7r.AwsSdkSigV4Signer}],logger:e?.logger??new b7r.NoOpLogger,serviceId:e?.serviceId??"Textract",urlParser:e?.urlParser??w7r.parseUrl,utf8Decoder:e?.utf8Decoder??Agt.fromUtf8,utf8Encoder:e?.utf8Encoder??Agt.toUtf8});Q3.getRuntimeConfig=P7r});var Ogt=E(Z3=>{"use strict";Object.defineProperty(Z3,"__esModule",{value:!0});Z3.getRuntimeConfig=void 0;var R7r=(ND(),F(OD)),T7r=R7r.__importDefault(cgt()),Pgt=(ii(),F(Mc)),I7r=Jle(),Rgt=IA(),Y3=Bd(),O7r=OA(),Tgt=im(),TE=Sg(),Igt=Wy(),N7r=NA(),D7r=SE(),k7r=xgt(),M7r=bt(),L7r=LA(),U7r=bt(),F7r=e=>{(0,U7r.emitWarningIfUnsupportedVersion)(process.version);let t=(0,L7r.resolveDefaultsModeConfig)(e),r=()=>t().then(M7r.loadConfigsForDefaultMode),n=(0,k7r.getRuntimeConfig)(e);(0,Pgt.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,TE.loadConfig)(Pgt.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??N7r.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??I7r.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Rgt.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:T7r.default.version}),maxAttempts:e?.maxAttempts??(0,TE.loadConfig)(Tgt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,TE.loadConfig)(Y3.NODE_REGION_CONFIG_OPTIONS,{...Y3.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Igt.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,TE.loadConfig)({...Tgt.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||D7r.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??O7r.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Igt.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,TE.loadConfig)(Y3.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,TE.loadConfig)(Y3.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,TE.loadConfig)(Rgt.NODE_APP_ID_CONFIG_OPTIONS,s)}};Z3.getRuntimeConfig=F7r});var ryt=E((Tws,tyt)=>{"use strict";var e2=Object.defineProperty,B7r=Object.getOwnPropertyDescriptor,q7r=Object.getOwnPropertyNames,j7r=Object.prototype.hasOwnProperty,N=(e,t)=>e2(e,"name",{value:t,configurable:!0}),$7r=(e,t)=>{for(var r in t)e2(e,r,{get:t[r],enumerable:!0})},z7r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of q7r(t))!j7r.call(e,s)&&s!==r&&e2(e,s,{get:()=>t[s],enumerable:!(n=B7r(t,s))||n.enumerable});return e},H7r=e=>z7r(e2({},"__esModule",{value:!0}),e),jgt={};$7r(jgt,{AccessDeniedException:()=>Hgt,AdapterVersionStatus:()=>tZr,AnalyzeDocumentCommand:()=>Oht,AnalyzeExpenseCommand:()=>Nht,AnalyzeIDCommand:()=>Dht,AutoUpdate:()=>lZr,BadDocumentException:()=>Ggt,BlockType:()=>nZr,ConflictException:()=>dht,ContentClassifier:()=>rZr,CreateAdapterCommand:()=>kht,CreateAdapterVersionCommand:()=>Mht,DeleteAdapterCommand:()=>Lht,DeleteAdapterVersionCommand:()=>Uht,DetectDocumentTextCommand:()=>Fht,DocumentTooLargeException:()=>Kgt,EntityType:()=>sZr,FeatureType:()=>eZr,GetAdapterCommand:()=>Bht,GetAdapterVersionCommand:()=>qht,GetDocumentAnalysisCommand:()=>jht,GetDocumentTextDetectionCommand:()=>$ht,GetExpenseAnalysisCommand:()=>zht,GetLendingAnalysisCommand:()=>Hht,GetLendingAnalysisSummaryCommand:()=>Vht,HumanLoopQuotaExceededException:()=>Jgt,IdempotentParameterMismatchException:()=>mht,InternalServerError:()=>Ygt,InvalidJobIdException:()=>wht,InvalidKMSKeyException:()=>vht,InvalidParameterException:()=>eht,InvalidS3ObjectException:()=>rht,JobStatus:()=>dZr,LimitExceededException:()=>pht,ListAdapterVersionsCommand:()=>xde,ListAdaptersCommand:()=>Ade,ListTagsForResourceCommand:()=>Ght,ProvisionedThroughputExceededException:()=>sht,RelationshipType:()=>iZr,ResourceNotFoundException:()=>Cht,SelectionStatus:()=>oZr,ServiceQuotaExceededException:()=>hht,StartDocumentAnalysisCommand:()=>Wht,StartDocumentTextDetectionCommand:()=>Kht,StartExpenseAnalysisCommand:()=>Xht,StartLendingAnalysisCommand:()=>Jht,TagResourceCommand:()=>Qht,TextType:()=>aZr,Textract:()=>eyt,TextractClient:()=>t2,TextractServiceException:()=>ji,ThrottlingException:()=>oht,UnsupportedDocumentException:()=>cht,UntagResourceCommand:()=>Yht,UpdateAdapterCommand:()=>Zht,ValidationException:()=>_ht,ValueType:()=>cZr,__Client:()=>R.Client,paginateListAdapterVersions:()=>Rtn,paginateListAdapters:()=>Ttn});tyt.exports=H7r(jgt);var Ngt=lA(),V7r=dA(),G7r=uA(),Dgt=hE(),W7r=Bd(),bk=(va(),F(Qy)),K7r=wA(),jn=vg(),kgt=im(),Mgt=Ede(),X7r=N(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"textract"}),"resolveClientEndpointParameters"),ss={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},J7r=Ogt(),Lgt=UA(),wde=pn(),R=bt(),Q7r=N(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Y7r=N(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Z7r=N((e,t)=>{let r=Object.assign((0,Lgt.getAwsRegionExtensionConfiguration)(e),(0,R.getDefaultExtensionConfiguration)(e),(0,wde.getHttpHandlerExtensionConfiguration)(e),Q7r(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Lgt.resolveAwsRegionExtensionConfiguration)(r),(0,R.resolveDefaultRuntimeConfig)(r),(0,wde.resolveHttpHandlerRuntimeConfig)(r),Y7r(r))},"resolveRuntimeExtensions"),t2=class extends R.Client{static{N(this,"TextractClient")}config;constructor(...[e]){let t=(0,J7r.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=X7r(t),n=(0,Dgt.resolveUserAgentConfig)(r),s=(0,kgt.resolveRetryConfig)(n),i=(0,W7r.resolveRegionConfig)(s),o=(0,Ngt.resolveHostHeaderConfig)(i),a=(0,jn.resolveEndpointConfig)(o),c=(0,Mgt.resolveHttpAuthSchemeConfig)(a),l=Z7r(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,Dgt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,kgt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,K7r.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ngt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,V7r.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,G7r.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,bk.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Mgt.defaultTextractHttpAuthSchemeParametersProvider,identityProviderConfigProvider:N(async d=>new bk.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,bk.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},is=dg(),bn=(ii(),F(Mc)),$gt=(fV(),F(Doe)),ji=class zgt extends R.ServiceException{static{N(this,"TextractServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,zgt.prototype)}},Hgt=class Vgt extends ji{static{N(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";Message;Code;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,Vgt.prototype),this.Message=t.Message,this.Code=t.Code}},eZr={FORMS:"FORMS",LAYOUT:"LAYOUT",QUERIES:"QUERIES",SIGNATURES:"SIGNATURES",TABLES:"TABLES"},tZr={ACTIVE:"ACTIVE",AT_RISK:"AT_RISK",CREATION_ERROR:"CREATION_ERROR",CREATION_IN_PROGRESS:"CREATION_IN_PROGRESS",DEPRECATED:"DEPRECATED"},rZr={FREE_OF_ADULT_CONTENT:"FreeOfAdultContent",FREE_OF_PERSONALLY_IDENTIFIABLE_INFORMATION:"FreeOfPersonallyIdentifiableInformation"},nZr={CELL:"CELL",KEY_VALUE_SET:"KEY_VALUE_SET",LAYOUT_FIGURE:"LAYOUT_FIGURE",LAYOUT_FOOTER:"LAYOUT_FOOTER",LAYOUT_HEADER:"LAYOUT_HEADER",LAYOUT_KEY_VALUE:"LAYOUT_KEY_VALUE",LAYOUT_LIST:"LAYOUT_LIST",LAYOUT_PAGE_NUMBER:"LAYOUT_PAGE_NUMBER",LAYOUT_SECTION_HEADER:"LAYOUT_SECTION_HEADER",LAYOUT_TABLE:"LAYOUT_TABLE",LAYOUT_TEXT:"LAYOUT_TEXT",LAYOUT_TITLE:"LAYOUT_TITLE",LINE:"LINE",MERGED_CELL:"MERGED_CELL",PAGE:"PAGE",QUERY:"QUERY",QUERY_RESULT:"QUERY_RESULT",SELECTION_ELEMENT:"SELECTION_ELEMENT",SIGNATURE:"SIGNATURE",TABLE:"TABLE",TABLE_FOOTER:"TABLE_FOOTER",TABLE_TITLE:"TABLE_TITLE",TITLE:"TITLE",WORD:"WORD"},sZr={COLUMN_HEADER:"COLUMN_HEADER",KEY:"KEY",SEMI_STRUCTURED_TABLE:"SEMI_STRUCTURED_TABLE",STRUCTURED_TABLE:"STRUCTURED_TABLE",TABLE_FOOTER:"TABLE_FOOTER",TABLE_SECTION_TITLE:"TABLE_SECTION_TITLE",TABLE_SUMMARY:"TABLE_SUMMARY",TABLE_TITLE:"TABLE_TITLE",VALUE:"VALUE"},iZr={ANSWER:"ANSWER",CHILD:"CHILD",COMPLEX_FEATURES:"COMPLEX_FEATURES",MERGED_CELL:"MERGED_CELL",TABLE:"TABLE",TABLE_FOOTER:"TABLE_FOOTER",TABLE_TITLE:"TABLE_TITLE",TITLE:"TITLE",VALUE:"VALUE"},oZr={NOT_SELECTED:"NOT_SELECTED",SELECTED:"SELECTED"},aZr={HANDWRITING:"HANDWRITING",PRINTED:"PRINTED"},Ggt=class Wgt extends ji{static{N(this,"BadDocumentException")}name="BadDocumentException";$fault="client";Message;Code;constructor(t){super({name:"BadDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,Wgt.prototype),this.Message=t.Message,this.Code=t.Code}},Kgt=class Xgt extends ji{static{N(this,"DocumentTooLargeException")}name="DocumentTooLargeException";$fault="client";Message;Code;constructor(t){super({name:"DocumentTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,Xgt.prototype),this.Message=t.Message,this.Code=t.Code}},Jgt=class Qgt extends ji{static{N(this,"HumanLoopQuotaExceededException")}name="HumanLoopQuotaExceededException";$fault="client";ResourceType;QuotaCode;ServiceCode;Message;Code;constructor(t){super({name:"HumanLoopQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Qgt.prototype),this.ResourceType=t.ResourceType,this.QuotaCode=t.QuotaCode,this.ServiceCode=t.ServiceCode,this.Message=t.Message,this.Code=t.Code}},Ygt=class Zgt extends ji{static{N(this,"InternalServerError")}name="InternalServerError";$fault="server";Message;Code;constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,Zgt.prototype),this.Message=t.Message,this.Code=t.Code}},eht=class tht extends ji{static{N(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";Message;Code;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,tht.prototype),this.Message=t.Message,this.Code=t.Code}},rht=class nht extends ji{static{N(this,"InvalidS3ObjectException")}name="InvalidS3ObjectException";$fault="client";Message;Code;constructor(t){super({name:"InvalidS3ObjectException",$fault:"client",...t}),Object.setPrototypeOf(this,nht.prototype),this.Message=t.Message,this.Code=t.Code}},sht=class iht extends ji{static{N(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";Message;Code;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,iht.prototype),this.Message=t.Message,this.Code=t.Code}},oht=class aht extends ji{static{N(this,"ThrottlingException")}name="ThrottlingException";$fault="server";Message;Code;constructor(t){super({name:"ThrottlingException",$fault:"server",...t}),Object.setPrototypeOf(this,aht.prototype),this.Message=t.Message,this.Code=t.Code}},cht=class lht extends ji{static{N(this,"UnsupportedDocumentException")}name="UnsupportedDocumentException";$fault="client";Message;Code;constructor(t){super({name:"UnsupportedDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,lht.prototype),this.Message=t.Message,this.Code=t.Code}},cZr={DATE:"DATE"},lZr={DISABLED:"DISABLED",ENABLED:"ENABLED"},dht=class uht extends ji{static{N(this,"ConflictException")}name="ConflictException";$fault="client";Message;Code;constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,uht.prototype),this.Message=t.Message,this.Code=t.Code}},mht=class fht extends ji{static{N(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;Code;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,fht.prototype),this.Message=t.Message,this.Code=t.Code}},pht=class ght extends ji{static{N(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;Code;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,ght.prototype),this.Message=t.Message,this.Code=t.Code}},hht=class yht extends ji{static{N(this,"ServiceQuotaExceededException")}name="ServiceQuotaExceededException";$fault="client";Message;Code;constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,yht.prototype),this.Message=t.Message,this.Code=t.Code}},_ht=class Sht extends ji{static{N(this,"ValidationException")}name="ValidationException";$fault="client";Message;Code;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,Sht.prototype),this.Message=t.Message,this.Code=t.Code}},vht=class Eht extends ji{static{N(this,"InvalidKMSKeyException")}name="InvalidKMSKeyException";$fault="client";Message;Code;constructor(t){super({name:"InvalidKMSKeyException",$fault:"client",...t}),Object.setPrototypeOf(this,Eht.prototype),this.Message=t.Message,this.Code=t.Code}},Cht=class bht extends ji{static{N(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";Message;Code;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,bht.prototype),this.Message=t.Message,this.Code=t.Code}},dZr={FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",PARTIAL_SUCCESS:"PARTIAL_SUCCESS",SUCCEEDED:"SUCCEEDED"},wht=class Aht extends ji{static{N(this,"InvalidJobIdException")}name="InvalidJobIdException";$fault="client";Message;Code;constructor(t){super({name:"InvalidJobIdException",$fault:"client",...t}),Object.setPrototypeOf(this,Aht.prototype),this.Message=t.Message,this.Code=t.Code}},uZr=N(async(e,t)=>{let r=$n("AnalyzeDocument"),n;return n=JSON.stringify(Aen(e,t)),as(t,r,"/",void 0,n)},"se_AnalyzeDocumentCommand"),mZr=N(async(e,t)=>{let r=$n("AnalyzeExpense"),n;return n=JSON.stringify(xen(e,t)),as(t,r,"/",void 0,n)},"se_AnalyzeExpenseCommand"),fZr=N(async(e,t)=>{let r=$n("AnalyzeID"),n;return n=JSON.stringify(Pen(e,t)),as(t,r,"/",void 0,n)},"se_AnalyzeIDCommand"),pZr=N(async(e,t)=>{let r=$n("CreateAdapter"),n;return n=JSON.stringify(Ren(e,t)),as(t,r,"/",void 0,n)},"se_CreateAdapterCommand"),gZr=N(async(e,t)=>{let r=$n("CreateAdapterVersion"),n;return n=JSON.stringify(Ten(e,t)),as(t,r,"/",void 0,n)},"se_CreateAdapterVersionCommand"),hZr=N(async(e,t)=>{let r=$n("DeleteAdapter"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_DeleteAdapterCommand"),yZr=N(async(e,t)=>{let r=$n("DeleteAdapterVersion"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_DeleteAdapterVersionCommand"),_Zr=N(async(e,t)=>{let r=$n("DetectDocumentText"),n;return n=JSON.stringify(Ien(e,t)),as(t,r,"/",void 0,n)},"se_DetectDocumentTextCommand"),SZr=N(async(e,t)=>{let r=$n("GetAdapter"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetAdapterCommand"),vZr=N(async(e,t)=>{let r=$n("GetAdapterVersion"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetAdapterVersionCommand"),EZr=N(async(e,t)=>{let r=$n("GetDocumentAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetDocumentAnalysisCommand"),CZr=N(async(e,t)=>{let r=$n("GetDocumentTextDetection"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetDocumentTextDetectionCommand"),bZr=N(async(e,t)=>{let r=$n("GetExpenseAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetExpenseAnalysisCommand"),wZr=N(async(e,t)=>{let r=$n("GetLendingAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetLendingAnalysisCommand"),AZr=N(async(e,t)=>{let r=$n("GetLendingAnalysisSummary"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_GetLendingAnalysisSummaryCommand"),xZr=N(async(e,t)=>{let r=$n("ListAdapters"),n;return n=JSON.stringify(Nen(e,t)),as(t,r,"/",void 0,n)},"se_ListAdaptersCommand"),PZr=N(async(e,t)=>{let r=$n("ListAdapterVersions"),n;return n=JSON.stringify(Den(e,t)),as(t,r,"/",void 0,n)},"se_ListAdapterVersionsCommand"),RZr=N(async(e,t)=>{let r=$n("ListTagsForResource"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),TZr=N(async(e,t)=>{let r=$n("StartDocumentAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_StartDocumentAnalysisCommand"),IZr=N(async(e,t)=>{let r=$n("StartDocumentTextDetection"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_StartDocumentTextDetectionCommand"),OZr=N(async(e,t)=>{let r=$n("StartExpenseAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_StartExpenseAnalysisCommand"),NZr=N(async(e,t)=>{let r=$n("StartLendingAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_StartLendingAnalysisCommand"),DZr=N(async(e,t)=>{let r=$n("TagResource"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_TagResourceCommand"),kZr=N(async(e,t)=>{let r=$n("UntagResource"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_UntagResourceCommand"),MZr=N(async(e,t)=>{let r=$n("UpdateAdapter"),n;return n=JSON.stringify((0,R._json)(e)),as(t,r,"/",void 0,n)},"se_UpdateAdapterCommand"),LZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=qen(r,t),{$metadata:Ct(e),...n}},"de_AnalyzeDocumentCommand"),UZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=jen(r,t),{$metadata:Ct(e),...n}},"de_AnalyzeExpenseCommand"),FZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=$en(r,t),{$metadata:Ct(e),...n}},"de_AnalyzeIDCommand"),BZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_CreateAdapterCommand"),qZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_CreateAdapterVersionCommand"),jZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_DeleteAdapterCommand"),$Zr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_DeleteAdapterVersionCommand"),zZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=Ven(r,t),{$metadata:Ct(e),...n}},"de_DetectDocumentTextCommand"),HZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=Qen(r,t),{$metadata:Ct(e),...n}},"de_GetAdapterCommand"),VZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=Yen(r,t),{$metadata:Ct(e),...n}},"de_GetAdapterVersionCommand"),GZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=Zen(r,t),{$metadata:Ct(e),...n}},"de_GetDocumentAnalysisCommand"),WZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=etn(r,t),{$metadata:Ct(e),...n}},"de_GetDocumentTextDetectionCommand"),KZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=ttn(r,t),{$metadata:Ct(e),...n}},"de_GetExpenseAnalysisCommand"),XZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=rtn(r,t),{$metadata:Ct(e),...n}},"de_GetLendingAnalysisCommand"),JZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_GetLendingAnalysisSummaryCommand"),QZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=ytn(r,t),{$metadata:Ct(e),...n}},"de_ListAdaptersCommand"),YZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=_tn(r,t),{$metadata:Ct(e),...n}},"de_ListAdapterVersionsCommand"),ZZr=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_ListTagsForResourceCommand"),een=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_StartDocumentAnalysisCommand"),ten=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_StartDocumentTextDetectionCommand"),ren=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_StartExpenseAnalysisCommand"),nen=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_StartLendingAnalysisCommand"),sen=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_TagResourceCommand"),ien=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:Ct(e),...n}},"de_UntagResourceCommand"),oen=N(async(e,t)=>{if(e.statusCode>=300)return os(e,t);let r=await(0,bn.parseJsonBody)(e.body,t),n={};return n=Atn(r,t),{$metadata:Ct(e),...n}},"de_UpdateAdapterCommand"),os=N(async(e,t)=>{let r={...e,body:await(0,bn.parseJsonErrorBody)(e.body,t)},n=(0,bn.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.textract#AccessDeniedException":throw await aen(r,t);case"BadDocumentException":case"com.amazonaws.textract#BadDocumentException":throw await cen(r,t);case"DocumentTooLargeException":case"com.amazonaws.textract#DocumentTooLargeException":throw await den(r,t);case"HumanLoopQuotaExceededException":case"com.amazonaws.textract#HumanLoopQuotaExceededException":throw await uen(r,t);case"InternalServerError":case"com.amazonaws.textract#InternalServerError":throw await fen(r,t);case"InvalidParameterException":case"com.amazonaws.textract#InvalidParameterException":throw await hen(r,t);case"InvalidS3ObjectException":case"com.amazonaws.textract#InvalidS3ObjectException":throw await yen(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.textract#ProvisionedThroughputExceededException":throw await Sen(r,t);case"ThrottlingException":case"com.amazonaws.textract#ThrottlingException":throw await Cen(r,t);case"UnsupportedDocumentException":case"com.amazonaws.textract#UnsupportedDocumentException":throw await ben(r,t);case"ConflictException":case"com.amazonaws.textract#ConflictException":throw await len(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.textract#IdempotentParameterMismatchException":throw await men(r,t);case"LimitExceededException":case"com.amazonaws.textract#LimitExceededException":throw await _en(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.textract#ServiceQuotaExceededException":throw await Een(r,t);case"ValidationException":case"com.amazonaws.textract#ValidationException":throw await wen(r,t);case"InvalidKMSKeyException":case"com.amazonaws.textract#InvalidKMSKeyException":throw await gen(r,t);case"ResourceNotFoundException":case"com.amazonaws.textract#ResourceNotFoundException":throw await ven(r,t);case"InvalidJobIdException":case"com.amazonaws.textract#InvalidJobIdException":throw await pen(r,t);default:let s=r.body;return xtn({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),aen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Hgt({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_AccessDeniedExceptionRes"),cen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Ggt({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_BadDocumentExceptionRes"),len=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new dht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ConflictExceptionRes"),den=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Kgt({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_DocumentTooLargeExceptionRes"),uen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Jgt({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_HumanLoopQuotaExceededExceptionRes"),men=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new mht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_IdempotentParameterMismatchExceptionRes"),fen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Ygt({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InternalServerErrorRes"),pen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new wht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidJobIdExceptionRes"),gen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new vht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidKMSKeyExceptionRes"),hen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new eht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),yen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new rht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidS3ObjectExceptionRes"),_en=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new pht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),Sen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new sht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ProvisionedThroughputExceededExceptionRes"),ven=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Cht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),Een=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new hht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ServiceQuotaExceededExceptionRes"),Cen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new oht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ThrottlingExceptionRes"),ben=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new cht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_UnsupportedDocumentExceptionRes"),wen=N(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new _ht({$metadata:Ct(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ValidationExceptionRes"),Aen=N((e,t)=>(0,R.take)(e,{AdaptersConfig:R._json,Document:N(r=>r2(r,t),"Document"),FeatureTypes:R._json,HumanLoopConfig:R._json,QueriesConfig:R._json}),"se_AnalyzeDocumentRequest"),xen=N((e,t)=>(0,R.take)(e,{Document:N(r=>r2(r,t),"Document")}),"se_AnalyzeExpenseRequest"),Pen=N((e,t)=>(0,R.take)(e,{DocumentPages:N(r=>Oen(r,t),"DocumentPages")}),"se_AnalyzeIDRequest"),Ren=N((e,t)=>(0,R.take)(e,{AdapterName:[],AutoUpdate:[],ClientRequestToken:[!0,r=>r??(0,$gt.v4)()],Description:[],FeatureTypes:R._json,Tags:R._json}),"se_CreateAdapterRequest"),Ten=N((e,t)=>(0,R.take)(e,{AdapterId:[],ClientRequestToken:[!0,r=>r??(0,$gt.v4)()],DatasetConfig:R._json,KMSKeyId:[],OutputConfig:R._json,Tags:R._json}),"se_CreateAdapterVersionRequest"),Ien=N((e,t)=>(0,R.take)(e,{Document:N(r=>r2(r,t),"Document")}),"se_DetectDocumentTextRequest"),r2=N((e,t)=>(0,R.take)(e,{Bytes:t.base64Encoder,S3Object:R._json}),"se_Document"),Oen=N((e,t)=>e.filter(r=>r!=null).map(r=>r2(r,t)),"se_DocumentPages"),Nen=N((e,t)=>(0,R.take)(e,{AfterCreationTime:N(r=>r.getTime()/1e3,"AfterCreationTime"),BeforeCreationTime:N(r=>r.getTime()/1e3,"BeforeCreationTime"),MaxResults:[],NextToken:[]}),"se_ListAdaptersRequest"),Den=N((e,t)=>(0,R.take)(e,{AdapterId:[],AfterCreationTime:N(r=>r.getTime()/1e3,"AfterCreationTime"),BeforeCreationTime:N(r=>r.getTime()/1e3,"BeforeCreationTime"),MaxResults:[],NextToken:[]}),"se_ListAdapterVersionsRequest"),ken=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Men(n,t)),"de_AdapterList"),Men=N((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterName:R.expectString,CreationTime:N(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),FeatureTypes:R._json}),"de_AdapterOverview"),Len=N((e,t)=>(0,R.take)(e,{AdapterVersion:N(r=>Fgt(r,t),"AdapterVersion"),Baseline:N(r=>Fgt(r,t),"Baseline"),FeatureType:R.expectString}),"de_AdapterVersionEvaluationMetric"),Uen=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Len(n,t)),"de_AdapterVersionEvaluationMetrics"),Fen=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ben(n,t)),"de_AdapterVersionList"),Ben=N((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterVersion:R.expectString,CreationTime:N(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),FeatureTypes:R._json,Status:R.expectString,StatusMessage:R.expectString}),"de_AdapterVersionOverview"),qen=N((e,t)=>(0,R.take)(e,{AnalyzeDocumentModelVersion:R.expectString,Blocks:N(r=>ox(r,t),"Blocks"),DocumentMetadata:R._json,HumanLoopActivationOutput:N(r=>ntn(r,t),"HumanLoopActivationOutput")}),"de_AnalyzeDocumentResponse"),jen=N((e,t)=>(0,R.take)(e,{DocumentMetadata:R._json,ExpenseDocuments:N(r=>Pht(r,t),"ExpenseDocuments")}),"de_AnalyzeExpenseResponse"),Ugt=N((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,NormalizedValue:R._json,Text:R.expectString}),"de_AnalyzeIDDetections"),$en=N((e,t)=>(0,R.take)(e,{AnalyzeIDModelVersion:R.expectString,DocumentMetadata:R._json,IdentityDocuments:N(r=>otn(r,t),"IdentityDocuments")}),"de_AnalyzeIDResponse"),zen=N((e,t)=>(0,R.take)(e,{BlockType:R.expectString,ColumnIndex:R.expectInt32,ColumnSpan:R.expectInt32,Confidence:R.limitedParseFloat32,EntityTypes:R._json,Geometry:N(r=>n2(r,t),"Geometry"),Id:R.expectString,Page:R.expectInt32,Query:R._json,Relationships:R._json,RowIndex:R.expectInt32,RowSpan:R.expectInt32,SelectionStatus:R.expectString,Text:R.expectString,TextType:R.expectString}),"de_Block"),ox=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zen(n,t)),"de_BlockList"),Hen=N((e,t)=>(0,R.take)(e,{Height:R.limitedParseFloat32,Left:R.limitedParseFloat32,Top:R.limitedParseFloat32,Width:R.limitedParseFloat32}),"de_BoundingBox"),Ven=N((e,t)=>(0,R.take)(e,{Blocks:N(r=>ox(r,t),"Blocks"),DetectDocumentTextModelVersion:R.expectString,DocumentMetadata:R._json}),"de_DetectDocumentTextResponse"),Fgt=N((e,t)=>(0,R.take)(e,{F1Score:R.limitedParseFloat32,Precision:R.limitedParseFloat32,Recall:R.limitedParseFloat32}),"de_EvaluationMetric"),Gen=N((e,t)=>(0,R.take)(e,{Code:R.expectString,Confidence:R.limitedParseFloat32}),"de_ExpenseCurrency"),Bgt=N((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Geometry:N(r=>n2(r,t),"Geometry"),Text:R.expectString}),"de_ExpenseDetection"),xht=N((e,t)=>(0,R.take)(e,{Blocks:N(r=>ox(r,t),"Blocks"),ExpenseIndex:R.expectInt32,LineItemGroups:N(r=>gtn(r,t),"LineItemGroups"),SummaryFields:N(r=>Rht(r,t),"SummaryFields")}),"de_ExpenseDocument"),Pht=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>xht(n,t)),"de_ExpenseDocumentList"),Wen=N((e,t)=>(0,R.take)(e,{Currency:N(r=>Gen(r,t),"Currency"),GroupProperties:R._json,LabelDetection:N(r=>Bgt(r,t),"LabelDetection"),PageNumber:R.expectInt32,Type:N(r=>Ken(r,t),"Type"),ValueDetection:N(r=>Bgt(r,t),"ValueDetection")}),"de_ExpenseField"),Rht=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Wen(n,t)),"de_ExpenseFieldList"),Ken=N((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Text:R.expectString}),"de_ExpenseType"),Xen=N((e,t)=>(0,R.take)(e,{ExpenseDocument:N(r=>xht(r,t),"ExpenseDocument"),IdentityDocument:N(r=>Tht(r,t),"IdentityDocument"),LendingDocument:N(r=>ctn(r,t),"LendingDocument")}),"de_Extraction"),Jen=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Xen(n,t)),"de_ExtractionList"),n2=N((e,t)=>(0,R.take)(e,{BoundingBox:N(r=>Hen(r,t),"BoundingBox"),Polygon:N(r=>Etn(r,t),"Polygon"),RotationAngle:R.limitedParseFloat32}),"de_Geometry"),Qen=N((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterName:R.expectString,AutoUpdate:R.expectString,CreationTime:N(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),Description:R.expectString,FeatureTypes:R._json,Tags:R._json}),"de_GetAdapterResponse"),Yen=N((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterVersion:R.expectString,CreationTime:N(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),DatasetConfig:R._json,EvaluationMetrics:N(r=>Uen(r,t),"EvaluationMetrics"),FeatureTypes:R._json,KMSKeyId:R.expectString,OutputConfig:R._json,Status:R.expectString,StatusMessage:R.expectString,Tags:R._json}),"de_GetAdapterVersionResponse"),Zen=N((e,t)=>(0,R.take)(e,{AnalyzeDocumentModelVersion:R.expectString,Blocks:N(r=>ox(r,t),"Blocks"),DocumentMetadata:R._json,JobStatus:R.expectString,NextToken:R.expectString,StatusMessage:R.expectString,Warnings:R._json}),"de_GetDocumentAnalysisResponse"),etn=N((e,t)=>(0,R.take)(e,{Blocks:N(r=>ox(r,t),"Blocks"),DetectDocumentTextModelVersion:R.expectString,DocumentMetadata:R._json,JobStatus:R.expectString,NextToken:R.expectString,StatusMessage:R.expectString,Warnings:R._json}),"de_GetDocumentTextDetectionResponse"),ttn=N((e,t)=>(0,R.take)(e,{AnalyzeExpenseModelVersion:R.expectString,DocumentMetadata:R._json,ExpenseDocuments:N(r=>Pht(r,t),"ExpenseDocuments"),JobStatus:R.expectString,NextToken:R.expectString,StatusMessage:R.expectString,Warnings:R._json}),"de_GetExpenseAnalysisResponse"),rtn=N((e,t)=>(0,R.take)(e,{AnalyzeLendingModelVersion:R.expectString,DocumentMetadata:R._json,JobStatus:R.expectString,NextToken:R.expectString,Results:N(r=>mtn(r,t),"Results"),StatusMessage:R.expectString,Warnings:R._json}),"de_GetLendingAnalysisResponse"),ntn=N((e,t)=>(0,R.take)(e,{HumanLoopActivationConditionsEvaluationResults:R.LazyJsonString.from,HumanLoopActivationReasons:R._json,HumanLoopArn:R.expectString}),"de_HumanLoopActivationOutput"),Tht=N((e,t)=>(0,R.take)(e,{Blocks:N(r=>ox(r,t),"Blocks"),DocumentIndex:R.expectInt32,IdentityDocumentFields:N(r=>itn(r,t),"IdentityDocumentFields")}),"de_IdentityDocument"),stn=N((e,t)=>(0,R.take)(e,{Type:N(r=>Ugt(r,t),"Type"),ValueDetection:N(r=>Ugt(r,t),"ValueDetection")}),"de_IdentityDocumentField"),itn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>stn(n,t)),"de_IdentityDocumentFieldList"),otn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Tht(n,t)),"de_IdentityDocumentList"),Iht=N((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Geometry:N(r=>n2(r,t),"Geometry"),SelectionStatus:R.expectString,Text:R.expectString}),"de_LendingDetection"),atn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Iht(n,t)),"de_LendingDetectionList"),ctn=N((e,t)=>(0,R.take)(e,{LendingFields:N(r=>dtn(r,t),"LendingFields"),SignatureDetections:N(r=>wtn(r,t),"SignatureDetections")}),"de_LendingDocument"),ltn=N((e,t)=>(0,R.take)(e,{KeyDetection:N(r=>Iht(r,t),"KeyDetection"),Type:R.expectString,ValueDetections:N(r=>atn(r,t),"ValueDetections")}),"de_LendingField"),dtn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ltn(n,t)),"de_LendingFieldList"),utn=N((e,t)=>(0,R.take)(e,{Extractions:N(r=>Jen(r,t),"Extractions"),Page:R.expectInt32,PageClassification:N(r=>Stn(r,t),"PageClassification")}),"de_LendingResult"),mtn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>utn(n,t)),"de_LendingResultList"),ftn=N((e,t)=>(0,R.take)(e,{LineItemExpenseFields:N(r=>Rht(r,t),"LineItemExpenseFields")}),"de_LineItemFields"),ptn=N((e,t)=>(0,R.take)(e,{LineItemGroupIndex:R.expectInt32,LineItems:N(r=>htn(r,t),"LineItems")}),"de_LineItemGroup"),gtn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ptn(n,t)),"de_LineItemGroupList"),htn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ftn(n,t)),"de_LineItemList"),ytn=N((e,t)=>(0,R.take)(e,{Adapters:N(r=>ken(r,t),"Adapters"),NextToken:R.expectString}),"de_ListAdaptersResponse"),_tn=N((e,t)=>(0,R.take)(e,{AdapterVersions:N(r=>Fen(r,t),"AdapterVersions"),NextToken:R.expectString}),"de_ListAdapterVersionsResponse"),Stn=N((e,t)=>(0,R.take)(e,{PageNumber:N(r=>qgt(r,t),"PageNumber"),PageType:N(r=>qgt(r,t),"PageType")}),"de_PageClassification"),vtn=N((e,t)=>(0,R.take)(e,{X:R.limitedParseFloat32,Y:R.limitedParseFloat32}),"de_Point"),Etn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>vtn(n,t)),"de_Polygon"),Ctn=N((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Value:R.expectString}),"de_Prediction"),qgt=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ctn(n,t)),"de_PredictionList"),btn=N((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Geometry:N(r=>n2(r,t),"Geometry")}),"de_SignatureDetection"),wtn=N((e,t)=>(e||[]).filter(n=>n!=null).map(n=>btn(n,t)),"de_SignatureDetectionList"),Atn=N((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterName:R.expectString,AutoUpdate:R.expectString,CreationTime:N(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),Description:R.expectString,FeatureTypes:R._json}),"de_UpdateAdapterResponse"),Ct=N(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),xtn=(0,R.withBaseException)(ji),as=N(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new wde.HttpRequest(l)},"buildHttpRpcRequest");function $n(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`Textract.${e}`}}N($n,"sharedHeaders");var Oht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","AnalyzeDocument",{}).n("TextractClient","AnalyzeDocumentCommand").f(void 0,void 0).ser(uZr).de(LZr).build(){static{N(this,"AnalyzeDocumentCommand")}},Nht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","AnalyzeExpense",{}).n("TextractClient","AnalyzeExpenseCommand").f(void 0,void 0).ser(mZr).de(UZr).build(){static{N(this,"AnalyzeExpenseCommand")}},Dht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","AnalyzeID",{}).n("TextractClient","AnalyzeIDCommand").f(void 0,void 0).ser(fZr).de(FZr).build(){static{N(this,"AnalyzeIDCommand")}},kht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","CreateAdapter",{}).n("TextractClient","CreateAdapterCommand").f(void 0,void 0).ser(pZr).de(BZr).build(){static{N(this,"CreateAdapterCommand")}},Mht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","CreateAdapterVersion",{}).n("TextractClient","CreateAdapterVersionCommand").f(void 0,void 0).ser(gZr).de(qZr).build(){static{N(this,"CreateAdapterVersionCommand")}},Lht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","DeleteAdapter",{}).n("TextractClient","DeleteAdapterCommand").f(void 0,void 0).ser(hZr).de(jZr).build(){static{N(this,"DeleteAdapterCommand")}},Uht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","DeleteAdapterVersion",{}).n("TextractClient","DeleteAdapterVersionCommand").f(void 0,void 0).ser(yZr).de($Zr).build(){static{N(this,"DeleteAdapterVersionCommand")}},Fht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","DetectDocumentText",{}).n("TextractClient","DetectDocumentTextCommand").f(void 0,void 0).ser(_Zr).de(zZr).build(){static{N(this,"DetectDocumentTextCommand")}},Bht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetAdapter",{}).n("TextractClient","GetAdapterCommand").f(void 0,void 0).ser(SZr).de(HZr).build(){static{N(this,"GetAdapterCommand")}},qht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetAdapterVersion",{}).n("TextractClient","GetAdapterVersionCommand").f(void 0,void 0).ser(vZr).de(VZr).build(){static{N(this,"GetAdapterVersionCommand")}},jht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetDocumentAnalysis",{}).n("TextractClient","GetDocumentAnalysisCommand").f(void 0,void 0).ser(EZr).de(GZr).build(){static{N(this,"GetDocumentAnalysisCommand")}},$ht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetDocumentTextDetection",{}).n("TextractClient","GetDocumentTextDetectionCommand").f(void 0,void 0).ser(CZr).de(WZr).build(){static{N(this,"GetDocumentTextDetectionCommand")}},zht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetExpenseAnalysis",{}).n("TextractClient","GetExpenseAnalysisCommand").f(void 0,void 0).ser(bZr).de(KZr).build(){static{N(this,"GetExpenseAnalysisCommand")}},Hht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetLendingAnalysis",{}).n("TextractClient","GetLendingAnalysisCommand").f(void 0,void 0).ser(wZr).de(XZr).build(){static{N(this,"GetLendingAnalysisCommand")}},Vht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetLendingAnalysisSummary",{}).n("TextractClient","GetLendingAnalysisSummaryCommand").f(void 0,void 0).ser(AZr).de(JZr).build(){static{N(this,"GetLendingAnalysisSummaryCommand")}},Ade=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","ListAdapters",{}).n("TextractClient","ListAdaptersCommand").f(void 0,void 0).ser(xZr).de(QZr).build(){static{N(this,"ListAdaptersCommand")}},xde=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","ListAdapterVersions",{}).n("TextractClient","ListAdapterVersionsCommand").f(void 0,void 0).ser(PZr).de(YZr).build(){static{N(this,"ListAdapterVersionsCommand")}},Ght=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","ListTagsForResource",{}).n("TextractClient","ListTagsForResourceCommand").f(void 0,void 0).ser(RZr).de(ZZr).build(){static{N(this,"ListTagsForResourceCommand")}},Wht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartDocumentAnalysis",{}).n("TextractClient","StartDocumentAnalysisCommand").f(void 0,void 0).ser(TZr).de(een).build(){static{N(this,"StartDocumentAnalysisCommand")}},Kht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartDocumentTextDetection",{}).n("TextractClient","StartDocumentTextDetectionCommand").f(void 0,void 0).ser(IZr).de(ten).build(){static{N(this,"StartDocumentTextDetectionCommand")}},Xht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartExpenseAnalysis",{}).n("TextractClient","StartExpenseAnalysisCommand").f(void 0,void 0).ser(OZr).de(ren).build(){static{N(this,"StartExpenseAnalysisCommand")}},Jht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartLendingAnalysis",{}).n("TextractClient","StartLendingAnalysisCommand").f(void 0,void 0).ser(NZr).de(nen).build(){static{N(this,"StartLendingAnalysisCommand")}},Qht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","TagResource",{}).n("TextractClient","TagResourceCommand").f(void 0,void 0).ser(DZr).de(sen).build(){static{N(this,"TagResourceCommand")}},Yht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","UntagResource",{}).n("TextractClient","UntagResourceCommand").f(void 0,void 0).ser(kZr).de(ien).build(){static{N(this,"UntagResourceCommand")}},Zht=class extends R.Command.classBuilder().ep(ss).m(function(e,t,r,n){return[(0,is.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","UpdateAdapter",{}).n("TextractClient","UpdateAdapterCommand").f(void 0,void 0).ser(MZr).de(oen).build(){static{N(this,"UpdateAdapterCommand")}},Ptn={AnalyzeDocumentCommand:Oht,AnalyzeExpenseCommand:Nht,AnalyzeIDCommand:Dht,CreateAdapterCommand:kht,CreateAdapterVersionCommand:Mht,DeleteAdapterCommand:Lht,DeleteAdapterVersionCommand:Uht,DetectDocumentTextCommand:Fht,GetAdapterCommand:Bht,GetAdapterVersionCommand:qht,GetDocumentAnalysisCommand:jht,GetDocumentTextDetectionCommand:$ht,GetExpenseAnalysisCommand:zht,GetLendingAnalysisCommand:Hht,GetLendingAnalysisSummaryCommand:Vht,ListAdaptersCommand:Ade,ListAdapterVersionsCommand:xde,ListTagsForResourceCommand:Ght,StartDocumentAnalysisCommand:Wht,StartDocumentTextDetectionCommand:Kht,StartExpenseAnalysisCommand:Xht,StartLendingAnalysisCommand:Jht,TagResourceCommand:Qht,UntagResourceCommand:Yht,UpdateAdapterCommand:Zht},eyt=class extends t2{static{N(this,"Textract")}};(0,R.createAggregatedClient)(Ptn,eyt);var Rtn=(0,bk.createPaginator)(t2,xde,"NextToken","NextToken","MaxResults"),Ttn=(0,bk.createPaginator)(t2,Ade,"NextToken","NextToken","MaxResults")});var iyt=E(v_=>{"use strict";var syt=v_&&v_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v_,"__esModule",{value:!0});v_.textractService=void 0;var Pde=ryt(),s2=syt(require("sharp")),i2=kI(),lm=syt(Np()),nyt=new Pde.TextractClient({region:i2.env.aws?.region||"us-east-1",...i2.env.isDevelopment&&{credentials:{accessKeyId:"dummy",secretAccessKey:"dummy"},endpoint:"http://localhost:4566"}}),Rde=class{maxImageSize=10*1024*1024;supportedFormats=["image/jpeg","image/png","image/webp"];minConfidence=50;async preprocessImage(t){try{let r=(0,s2.default)(t),n=await r.metadata();lm.default.info("Preprocessing image for OCR",{originalSize:t.length,format:n.format,dimensions:`${n.width}x${n.height}`});let s=r;n.width&&n.height&&Math.max(n.width,n.height)>3e3&&(s=r.resize(3e3,3e3,{fit:"inside",withoutEnlargement:!0}));let i=await s.grayscale().normalize().sharpen(1,1,2).jpeg({quality:95}).toBuffer();return lm.default.info("Image preprocessing completed",{processedSize:i.length,compressionRatio:((t.length-i.length)/t.length*100).toFixed(1)+"%"}),i}catch(r){throw lm.default.error("Image preprocessing failed",r instanceof Error?r:void 0),new Error(`Image preprocessing failed: ${r.message}`)}}validateImage(t,r){if(t.length>this.maxImageSize)throw new Error(`Image size ${t.length} bytes exceeds maximum allowed size of ${this.maxImageSize} bytes`);if(!this.supportedFormats.includes(r))throw new Error(`Unsupported image format: ${r}. Supported formats: ${this.supportedFormats.join(", ")}`);if(t.length<1024)throw new Error("Image file appears to be too small or corrupted")}convertBlock(t){let r={id:t.Id||"",blockType:t.BlockType||"",text:t.Text||"",confidence:t.Confidence||0};if(t.Geometry){if(r.geometry={},t.Geometry.BoundingBox){let n=t.Geometry.BoundingBox;r.geometry.boundingBox={width:n.Width||0,height:n.Height||0,left:n.Left||0,top:n.Top||0}}t.Geometry.Polygon&&(r.geometry.polygon=t.Geometry.Polygon.map(n=>({x:n.X||0,y:n.Y||0})))}return t.Relationships&&(r.relationships=t.Relationships.map(n=>({type:n.Type||"",ids:n.Ids||[]}))),r}async extractText(t,r){let n=Date.now();try{this.validateImage(t,r);let s=await this.preprocessImage(t);lm.default.info("Starting Textract analysis",{imageSize:s.length,mimeType:r});let i=new Pde.AnalyzeDocumentCommand({Document:{Bytes:s},FeatureTypes:["TABLES","FORMS"]}),o=await nyt.send(i),a=Date.now()-n;if(!o.Blocks||o.Blocks.length===0)throw new Error("No text detected in the image");let c=o.Blocks.map(y=>this.convertBlock(y)),l=c.filter(y=>y.blockType==="LINE"&&y.text),d=l.map(y=>y.text).join(`
`),u=l.map(y=>y.confidence).filter(y=>y!==void 0),m=u.length>0?u.reduce((y,b)=>y+b,0)/u.length:0,p=await(0,s2.default)(s).metadata(),g={blocks:c,rawText:d,confidence:m,metadata:{processingTime:a,imageSize:{width:p.width||0,height:p.height||0},totalBlocks:c.length}};return lm.default.info("Textract analysis completed",{processingTime:a,totalBlocks:c.length,textBlocks:l.length,averageConfidence:m.toFixed(1),extractedLength:d.length}),g}catch(s){let i=Date.now()-n;throw lm.default.error("Textract analysis failed",s instanceof Error?s:void 0,{processingTime:i,errorCode:s?.code}),s.name==="InvalidParameterException"?new Error("Invalid image format or corrupted image file"):s.name==="DocumentTooLargeException"?new Error("Image file is too large for processing"):s.name==="UnsupportedDocumentException"?new Error("Unsupported image format"):s.name==="ThrottlingException"?new Error("Too many requests. Please try again later."):s.name==="AccessDeniedException"?new Error("AWS credentials invalid or insufficient permissions"):s}}async detectText(t,r){let n=Date.now();try{this.validateImage(t,r);let s=await this.preprocessImage(t);lm.default.info("Starting Textract text detection",{imageSize:s.length,mimeType:r});let i=new Pde.DetectDocumentTextCommand({Document:{Bytes:s}}),o=await nyt.send(i),a=Date.now()-n;if(!o.Blocks||o.Blocks.length===0)throw new Error("No text detected in the image");let c=o.Blocks.map(y=>this.convertBlock(y)),l=c.filter(y=>y.blockType==="LINE"&&y.text),d=l.map(y=>y.text).join(`
`),u=l.map(y=>y.confidence).filter(y=>y!==void 0),m=u.length>0?u.reduce((y,b)=>y+b,0)/u.length:0,p=await(0,s2.default)(s).metadata(),g={blocks:c,rawText:d,confidence:m,metadata:{processingTime:a,imageSize:{width:p.width||0,height:p.height||0},totalBlocks:c.length}};return lm.default.info("Textract text detection completed",{processingTime:a,totalBlocks:c.length,textBlocks:l.length,averageConfidence:m.toFixed(1)}),g}catch(s){let i=Date.now()-n;throw lm.default.error("Textract text detection failed",s instanceof Error?s:void 0,{processingTime:i}),s}}parseBusinessCard(t){let{rawText:r,confidence:n}=t,s=r.split(`
`).map(g=>g.trim()).filter(g=>g.length>0);lm.default.info("Parsing business card data",{totalLines:s.length,confidence:n.toFixed(1)});let i={rawText:r,confidence:n},o=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,a=r.match(o);a&&a.length>0&&(i.email={text:a[0],confidence:95});let c=/(?:\+?1[-.\s]?)?\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})/g,l=r.match(c);l&&l.length>0&&(i.phone={text:l[0].replace(/[^\d+]/g,"").replace(/^1/,"+1"),confidence:90});let d=/(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}/g,u=r.match(d);if(u&&u.length>0){let g=u[0];g.includes("@")||(i.website={text:g.startsWith("http")?g:`https://${g}`,confidence:85})}let m=["inc","llc","corp","ltd","company","group","solutions","technologies","consulting"];for(let g of s){let y=g.toLowerCase();if(m.some(b=>y.includes(b))||g.length>3&&g===g.toUpperCase()&&!/\d/.test(g)){i.company={text:g,confidence:75};break}}let p=["ceo","cto","cfo","director","manager","senior","junior","lead","head","chief","president","vice","engineer","developer","analyst","consultant","specialist"];for(let g of s){let y=g.toLowerCase();if(p.some(b=>y.includes(b))){i.jobTitle={text:g,confidence:70};break}}for(let g of s)if(g.includes(" ")&&g.length>3&&g.length<50&&!g.includes("@")&&!/\d/.test(g)&&g!==i.company?.text&&g!==i.jobTitle?.text){i.name={text:g,confidence:60};break}return lm.default.info("Business card parsing completed",{extractedFields:Object.keys(i).filter(g=>g!=="rawText"&&g!=="confidence").length,name:i.name?.text||"not found",email:i.email?.text||"not found",company:i.company?.text||"not found"}),i}async healthCheck(){try{let t=await(0,s2.default)({create:{width:100,height:50,channels:3,background:{r:255,g:255,b:255}}}).png().composite([{input:Buffer.from('<svg><text x="10" y="30" font-family="Arial" font-size="20">TEST</text></svg>'),top:0,left:0}]).toBuffer(),r=Date.now();return await this.detectText(t,"image/png"),{status:"healthy",details:{responseTime:Date.now()-r,region:i2.env.aws?.region||"local",timestamp:new Date().toISOString()}}}catch(t){return{status:"unhealthy",details:{error:t.message,region:i2.env.aws?.region||"local",timestamp:new Date().toISOString()}}}}};v_.textractService=new Rde;v_.default=v_.textractService});var lyt=E((s0s,cyt)=>{"use strict";var o2=Object.defineProperty,Itn=Object.getOwnPropertyDescriptor,Otn=Object.getOwnPropertyNames,Ntn=Object.prototype.hasOwnProperty,Tde=(e,t)=>o2(e,"name",{value:t,configurable:!0}),Dtn=(e,t)=>{for(var r in t)o2(e,r,{get:t[r],enumerable:!0})},ktn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Otn(t))!Ntn.call(e,s)&&s!==r&&o2(e,s,{get:()=>t[s],enumerable:!(n=Itn(t,s))||n.enumerable});return e},Mtn=e=>ktn(o2({},"__esModule",{value:!0}),e),oyt={};Dtn(oyt,{addExpectContinueMiddleware:()=>Ide,addExpectContinueMiddlewareOptions:()=>ayt,getAddExpectContinuePlugin:()=>Utn});cyt.exports=Mtn(oyt);var Ltn=Ge();function Ide(e){return t=>async r=>{let{request:n}=r;return Ltn.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}Tde(Ide,"addExpectContinueMiddleware");var ayt={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Utn=Tde(e=>({applyToStack:Tde(t=>{t.add(Ide(e),ayt)},"applyToStack")}),"getAddExpectContinuePlugin")});var Ode,Ftn,dyt=_(()=>{Ode={warningEmitted:!1},Ftn=e=>{e&&!Ode.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Ode.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Nde(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var uyt=_(()=>{});function Btn(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var myt=_(()=>{});function qtn(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var fyt=_(()=>{});var Dde=_(()=>{dyt();uyt();myt();fyt()});var pyt,kde,gyt=_(()=>{pyt=C(Ge()),kde=e=>pyt.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ax,Mde=_(()=>{ax=e=>new Date(Date.now()+e)});var hyt,yyt=_(()=>{Mde();hyt=(e,t)=>Math.abs(ax(t).getTime()-e)>=3e5});var Lde,_yt=_(()=>{yyt();Lde=(e,t)=>{let r=Date.parse(e);return hyt(r,t)?r-Date.now():t}});var Ude=_(()=>{gyt();Mde();_yt()});var Syt,wk,Ak,IE,vyt,Fde=_(()=>{Syt=C(Ge());Ude();wk=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Ak=async e=>{let t=wk("context",e.context),r=wk("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await wk("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},IE=class{async sign(t,r,n){if(!Syt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Ak(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:ax(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??kde(r.$response);if(n){let s=wk("config",t.config),i=s.systemClockOffset;s.systemClockOffset=Lde(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=kde(t);if(n){let s=wk("config",r.config);s.systemClockOffset=Lde(n,s.systemClockOffset)}}},vyt=IE});var Eyt,a2,Cyt=_(()=>{Eyt=C(Ge());Ude();Fde();a2=class extends IE{async sign(t,r,n){if(!Eyt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await Ak(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:ax(s.systemClockOffset),signingRegion:d,signingService:c})}}});var Bde,byt=_(()=>{Bde=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var qde,jde=_(()=>{qde=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var wyt,Ayt,jtn,xyt=_(()=>{byt();jde();wyt="AWS_AUTH_SCHEME_PREFERENCE",Ayt="auth_scheme_preference",jtn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&qde(t.signingName)in e)return["httpBearerAuth"];if(wyt in e)return Bde(e[wyt])},configFileSelector:e=>{if(Ayt in e)return Bde(e[Ayt])},default:[]}});var $de,$tn,ztn,Pyt=_(()=>{lt();$de=C(qt()),$tn=e=>(e.sigv4aSigningRegionSet=fr(e.sigv4aSigningRegionSet),e),ztn={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new $de.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new $de.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function Vtn(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=qu(t,Bu,Bl):r?n=fr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Gtn(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var zde,Ryt,Htn,Tyt=_(()=>{Dde();lt();zde=C(Rh()),Ryt=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=Vtn(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=Gtn(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>Nde(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=fr(e.signer):e.regionInfoProvider?a=()=>fr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||zde.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fr(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||zde.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},Htn=Ryt});var Iyt=_(()=>{Fde();Cyt();xyt();Pyt();Tyt()});var Oyt=_(()=>{Iyt();jde()});var Nyt,Xd,cx=_(()=>{ke();Nyt=C(Fb()),Xd=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??Nyt.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=ls.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let m=ls.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(m){let p=m.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Hde,Dyt=_(()=>{Bb();ke();cx();Hde=class extends jl{awsQueryCompatible;mixin=new Xd;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ql(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator())m[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var Wtn,Ktn,Xtn,kyt=_(()=>{Wtn=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Ktn=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Xtn=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Aa,E_=_(()=>{Aa=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function Myt(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ee(n,"bigDecimal"):BigInt(n)}return t}var Lyt=_(()=>{nr()});var Uyt,Fyt,c2,Vde=_(()=>{Uyt=C(K()),Fyt=C(kt()),c2=(e,t)=>(0,Uyt.collectBody)(e,t).then(r=>(t?.utf8Encoder??Fyt.toUtf8)(r))});var l2,Jtn,xk,Pk=_(()=>{Vde();l2=(e,t)=>c2(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Jtn=async(e,t)=>{let r=await l2(e,t);return r.message=r.message??r.Message,r},xk=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var Byt,Rk,Gde=_(()=>{ft();ke();nr();Byt=C(Mt());E_();Lyt();Pk();Rk=class extends Aa{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,Myt):await l2(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=B.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,Byt.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return zr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:return rl(r);case j.TIMESTAMP_HTTP_DATE:return nl(r);case j.TIMESTAMP_EPOCH_SECONDS:return ja(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Ee)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new Ee(o.string,o.type):new Ee(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var qyt,d2,jyt=_(()=>{nr();qyt="\u039D",d2=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ee){let n=`${qyt+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${qyt+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var $yt,Tk,Wde=_(()=>{ft();ke();nr();$yt=C(Mt());E_();jyt();Tk=class extends Aa{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=B.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=B.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new d2;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=B.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,$yt.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Bt(i,this.settings)){case j.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case j.TIMESTAMP_HTTP_DATE:return tl(r);case j.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return pr();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return zr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var OE,u2=_(()=>{E_();Gde();Wde();OE=class extends Aa{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Tk(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Rk(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var NE,m2=_(()=>{ft();ke();cx();u2();Pk();NE=class extends Qn{serializer;deserializer;serviceTarget;codec;mixin=new Xd;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new OE({timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${B.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(mn(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=xk(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var Kde,zyt=_(()=>{m2();Kde=class extends NE{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Xde,Hyt=_(()=>{m2();Xde=class extends NE{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Jde,Vyt=_(()=>{ft();ke();cx();u2();Pk();Jde=class extends Os{serializer;deserializer;codec;mixin=new Xd;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new OE(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=xk(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/json"}}});var Gyt,Qtn,Wyt=_(()=>{Gyt=C(K()),Qtn=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Gyt.expectUnion)(e)}});var Kyt,Xyt,DE,f2=_(()=>{ft();ke();Kyt=C(K()),Xyt=C(kt());$u();E_();DE=class extends Aa{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $a(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=B.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??Xyt.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=B.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],m=Array.isArray(u)?u:[u];for(let p of m)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],y=p[m];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Kyt.getValueFromTextNode)(o)}return{}}}});var Jyt,Qyt,p2,Yyt=_(()=>{ft();ke();nr();Jyt=C(K()),Qyt=C(Mt());E_();p2=class extends Aa{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=B.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Qyt.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(pr()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ee?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case j.TIMESTAMP_HTTP_DATE:this.writeValue((0,Jyt.dateToUtcString)(r));break;case j.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${ri(t)}=`}writeValue(t){this.buffer+=ri(t)}}});var Ik,Qde=_(()=>{ft();ke();cx();f2();Yyt();Ik=class extends Qn{options;serializer;deserializer;mixin=new Xd;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new p2(r),this.deserializer=new DE(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(mn(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let u=await Ts(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let m=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Ts(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,y)=>g.find(b=>B.of(b).getMergedTraits().awsQueryError?.[0]===y)),d=B.of(c),u=this.loadQueryErrorMessage(s),m=new c.ctor(u),p={};for(let[g,y]of d.structIterator()){let b=y.getMergedTraits().xmlName??g,w=a[b]??s[b];p[g]=this.deserializer.readSchema(y,w)}throw Object.assign(m,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Yde,Zyt=_(()=>{Qde();Yde=class extends Ik{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var e_t,t_t,Ytn,Zde,eue=_(()=>{e_t=C(K());$u();Vde();t_t=(e,t)=>c2(e,t).then(r=>{if(r.length){let n=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,e_t.getValueFromTextNode)(a)}return{}}),Ytn=async(e,t)=>{let r=await t_t(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Zde=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var a_t=E((dxs,o_t)=>{"use strict";var h2=Object.defineProperty,Ztn=Object.getOwnPropertyDescriptor,ern=Object.getOwnPropertyNames,trn=Object.prototype.hasOwnProperty,y2=(e,t)=>h2(e,"name",{value:t,configurable:!0}),rrn=(e,t)=>{for(var r in t)h2(e,r,{get:t[r],enumerable:!0})},nrn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ern(t))!trn.call(e,s)&&s!==r&&h2(e,s,{get:()=>t[s],enumerable:!(n=Ztn(t,s))||n.enumerable});return e},srn=e=>nrn(h2({},"__esModule",{value:!0}),e),r_t={};rrn(r_t,{XmlNode:()=>irn,XmlText:()=>i_t});o_t.exports=srn(r_t);function n_t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}y2(n_t,"escapeAttribute");function s_t(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}y2(s_t,"escapeElement");var i_t=class{constructor(e){this.value=e}static{y2(this,"XmlText")}toString(){return s_t(""+this.value)}},irn=class g2{constructor(t,r=[]){this.name=t,this.children=r}static{y2(this,"XmlNode")}attributes={};static of(t,r,n){let s=new g2(t);return r!==void 0&&s.addChildNode(new i_t(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=g2.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new g2(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${n_t(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Jd,tue,_2,Ok,rue=_(()=>{Jd=C(a_t());ft();ke();nr();tue=C(K()),_2=C(Mt());E_();Ok=class extends Aa{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=B.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??_2.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Jd.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=Jd.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=Jd.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=Jd.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=Jd.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=Jd.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=Jd.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=Jd.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=Jd.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=B.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??_2.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Bt(n,this.settings)){case j.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case j.TIMESTAMP_HTTP_DATE:s=(0,tue.dateToUtcString)(r);break;case j.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,tue.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ee?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=pr():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=B.of(t),a=new Jd.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var Nk,nue=_(()=>{E_();f2();rue();Nk=class extends Aa{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ok(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new DE(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var sue,c_t=_(()=>{ft();ke();cx();eue();nue();sue=class extends Os{codec;serializer;deserializer;mixin=new Xd;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Nk(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Zde(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().xmlName??p,b=s.Error?.[y]??s[y];m[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/xml"}}});var l_t=_(()=>{Dyt();kyt();zyt();Hyt();m2();Vyt();u2();Gde();Wde();Wyt();Pk();Zyt();Qde();c_t();nue();f2();rue();eue()});var d_t={};ct(d_t,{AWSSDKSigV4Signer:()=>vyt,AwsEc2QueryProtocol:()=>Yde,AwsJson1_0Protocol:()=>Kde,AwsJson1_1Protocol:()=>Xde,AwsJsonRpcProtocol:()=>NE,AwsQueryProtocol:()=>Ik,AwsRestJsonProtocol:()=>Jde,AwsRestXmlProtocol:()=>sue,AwsSdkSigV4ASigner:()=>a2,AwsSdkSigV4Signer:()=>IE,AwsSmithyRpcV2CborProtocol:()=>Hde,JsonCodec:()=>OE,JsonShapeDeserializer:()=>Rk,JsonShapeSerializer:()=>Tk,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>jtn,NODE_SIGV4A_CONFIG_OPTIONS:()=>ztn,XmlCodec:()=>Nk,XmlShapeDeserializer:()=>DE,XmlShapeSerializer:()=>Ok,_toBool:()=>Ktn,_toNum:()=>Xtn,_toStr:()=>Wtn,awsExpectUnion:()=>Qtn,emitWarningIfUnsupportedVersion:()=>Ftn,getBearerTokenEnvKey:()=>qde,loadRestJsonErrorCode:()=>xk,loadRestXmlErrorCode:()=>Zde,parseJsonBody:()=>l2,parseJsonErrorBody:()=>Jtn,parseXmlBody:()=>t_t,parseXmlErrorBody:()=>Ytn,resolveAWSSDKSigV4Config:()=>Htn,resolveAwsSdkSigV4AConfig:()=>$tn,resolveAwsSdkSigV4Config:()=>Ryt,setCredentialFeature:()=>Nde,setFeature:()=>Btn,setTokenFeature:()=>qtn,state:()=>Ode,validateSigningProperties:()=>Ak});var u_t=_(()=>{Dde();Oyt();l_t()});var p_t=E((Xxs,f_t)=>{var S2=Object.defineProperty,orn=Object.getOwnPropertyDescriptor,arn=Object.getOwnPropertyNames,crn=Object.prototype.hasOwnProperty,lrn=(e,t)=>S2(e,"name",{value:t,configurable:!0}),drn=(e,t)=>{for(var r in t)S2(e,r,{get:t[r],enumerable:!0})},urn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of arn(t))!crn.call(e,s)&&s!==r&&S2(e,s,{get:()=>t[s],enumerable:!(n=orn(t,s))||n.enumerable});return e},mrn=e=>urn(S2({},"__esModule",{value:!0}),e),m_t={};drn(m_t,{isArrayBuffer:()=>frn});f_t.exports=mrn(m_t);var frn=lrn(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var __t=E((Jxs,y_t)=>{var v2=Object.defineProperty,prn=Object.getOwnPropertyDescriptor,grn=Object.getOwnPropertyNames,hrn=Object.prototype.hasOwnProperty,g_t=(e,t)=>v2(e,"name",{value:t,configurable:!0}),yrn=(e,t)=>{for(var r in t)v2(e,r,{get:t[r],enumerable:!0})},_rn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of grn(t))!hrn.call(e,s)&&s!==r&&v2(e,s,{get:()=>t[s],enumerable:!(n=prn(t,s))||n.enumerable});return e},Srn=e=>_rn(v2({},"__esModule",{value:!0}),e),h_t={};yrn(h_t,{fromArrayBuffer:()=>Ern,fromString:()=>Crn});y_t.exports=Srn(h_t);var vrn=p_t(),iue=require("buffer"),Ern=g_t((e,t=0,r=e.byteLength-t)=>{if(!(0,vrn.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return iue.Buffer.from(e,t,r)},"fromArrayBuffer"),Crn=g_t((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?iue.Buffer.from(e,t):iue.Buffer.from(e)},"fromString")});var b_t=E((Qxs,C_t)=>{var E2=Object.defineProperty,brn=Object.getOwnPropertyDescriptor,wrn=Object.getOwnPropertyNames,Arn=Object.prototype.hasOwnProperty,oue=(e,t)=>E2(e,"name",{value:t,configurable:!0}),xrn=(e,t)=>{for(var r in t)E2(e,r,{get:t[r],enumerable:!0})},Prn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wrn(t))!Arn.call(e,s)&&s!==r&&E2(e,s,{get:()=>t[s],enumerable:!(n=brn(t,s))||n.enumerable});return e},Rrn=e=>Prn(E2({},"__esModule",{value:!0}),e),S_t={};xrn(S_t,{fromUtf8:()=>E_t,toUint8Array:()=>Trn,toUtf8:()=>Irn});C_t.exports=Rrn(S_t);var v_t=__t(),E_t=oue(e=>{let t=(0,v_t.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Trn=oue(e=>typeof e=="string"?E_t(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Irn=oue(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,v_t.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var w_t=E(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});C2.convertToBuffer=void 0;var Orn=b_t(),Nrn=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Orn.fromUtf8;function Drn(e){return e instanceof Uint8Array?e:typeof e=="string"?Nrn(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}C2.convertToBuffer=Drn});var A_t=E(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.isEmptyData=void 0;function krn(e){return typeof e=="string"?e.length===0:e.byteLength===0}b2.isEmptyData=krn});var x_t=E(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.numToUint8=void 0;function Mrn(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}w2.numToUint8=Mrn});var P_t=E(A2=>{"use strict";Object.defineProperty(A2,"__esModule",{value:!0});A2.uint32ArrayFrom=void 0;function Lrn(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}A2.uint32ArrayFrom=Lrn});var lx=E(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.uint32ArrayFrom=bf.numToUint8=bf.isEmptyData=bf.convertToBuffer=void 0;var Urn=w_t();Object.defineProperty(bf,"convertToBuffer",{enumerable:!0,get:function(){return Urn.convertToBuffer}});var Frn=A_t();Object.defineProperty(bf,"isEmptyData",{enumerable:!0,get:function(){return Frn.isEmptyData}});var Brn=x_t();Object.defineProperty(bf,"numToUint8",{enumerable:!0,get:function(){return Brn.numToUint8}});var qrn=P_t();Object.defineProperty(bf,"uint32ArrayFrom",{enumerable:!0,get:function(){return qrn.uint32ArrayFrom}})});var I_t=E(x2=>{"use strict";Object.defineProperty(x2,"__esModule",{value:!0});x2.AwsCrc32c=void 0;var R_t=(Ga(),F(Va)),aue=lx(),T_t=cue(),jrn=function(){function e(){this.crc32c=new T_t.Crc32c}return e.prototype.update=function(t){(0,aue.isEmptyData)(t)||this.crc32c.update((0,aue.convertToBuffer)(t))},e.prototype.digest=function(){return R_t.__awaiter(this,void 0,void 0,function(){return R_t.__generator(this,function(t){return[2,(0,aue.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new T_t.Crc32c},e}();x2.AwsCrc32c=jrn});var cue=E(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.AwsCrc32c=C_.Crc32c=C_.crc32c=void 0;var $rn=(Ga(),F(Va)),zrn=lx();function Hrn(e){return new O_t().update(e).digest()}C_.crc32c=Hrn;var O_t=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=$rn.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^Grn[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();C_.Crc32c=O_t;var Vrn=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Grn=(0,zrn.uint32ArrayFrom)(Vrn),Wrn=I_t();Object.defineProperty(C_,"AwsCrc32c",{enumerable:!0,get:function(){return Wrn.AwsCrc32c}})});var k_t=E(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});P2.AwsCrc32=void 0;var N_t=(Ga(),F(Va)),lue=lx(),D_t=Dk(),Krn=function(){function e(){this.crc32=new D_t.Crc32}return e.prototype.update=function(t){(0,lue.isEmptyData)(t)||this.crc32.update((0,lue.convertToBuffer)(t))},e.prototype.digest=function(){return N_t.__awaiter(this,void 0,void 0,function(){return N_t.__generator(this,function(t){return[2,(0,lue.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new D_t.Crc32},e}();P2.AwsCrc32=Krn});var Dk=E(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.AwsCrc32=b_.Crc32=b_.crc32=void 0;var Xrn=(Ga(),F(Va)),Jrn=lx();function Qrn(e){return new M_t().update(e).digest()}b_.crc32=Qrn;var M_t=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=Xrn.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^Zrn[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();b_.Crc32=M_t;var Yrn=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Zrn=(0,Jrn.uint32ArrayFrom)(Yrn),enn=k_t();Object.defineProperty(b_,"AwsCrc32",{enumerable:!0,get:function(){return enn.AwsCrc32}})});var U_t=E(R2=>{"use strict";Object.defineProperty(R2,"__esModule",{value:!0});R2.getCrc32ChecksumAlgorithmFunction=void 0;var tnn=(Ga(),F(Va)),rnn=Dk(),nnn=lx(),L_t=tnn.__importStar(require("zlib")),due=class{checksum=0;update(t){this.checksum=L_t.crc32(t,this.checksum)}async digest(){return(0,nnn.numToUint8)(this.checksum)}reset(){this.checksum=0}},snn=()=>typeof L_t.crc32>"u"?rnn.AwsCrc32:due;R2.getCrc32ChecksumAlgorithmFunction=snn});var hue=E((cPs,eSt)=>{"use strict";var O2=Object.defineProperty,inn=Object.getOwnPropertyDescriptor,onn=Object.getOwnPropertyNames,ann=Object.prototype.hasOwnProperty,oi=(e,t)=>O2(e,"name",{value:t,configurable:!0}),cnn=(e,t)=>{for(var r in t)O2(e,r,{get:t[r],enumerable:!0})},lnn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of onn(t))!ann.call(e,s)&&s!==r&&O2(e,s,{get:()=>t[s],enumerable:!(n=inn(t,s))||n.enumerable});return e},dnn=e=>lnn(O2({},"__esModule",{value:!0}),e),B_t={};cnn(B_t,{CONFIG_REQUEST_CHECKSUM_CALCULATION:()=>z_t,CONFIG_RESPONSE_CHECKSUM_VALIDATION:()=>V_t,ChecksumAlgorithm:()=>q_t,ChecksumLocation:()=>j_t,DEFAULT_CHECKSUM_ALGORITHM:()=>T2,DEFAULT_REQUEST_CHECKSUM_CALCULATION:()=>fue,DEFAULT_RESPONSE_CHECKSUM_VALIDATION:()=>pue,ENV_REQUEST_CHECKSUM_CALCULATION:()=>$_t,ENV_RESPONSE_CHECKSUM_VALIDATION:()=>H_t,NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS:()=>unn,NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS:()=>mnn,RequestChecksumCalculation:()=>Ng,ResponseChecksumValidation:()=>dx,crc64NvmeCrtContainer:()=>uue,flexibleChecksumsMiddleware:()=>Y_t,flexibleChecksumsMiddlewareOptions:()=>Q_t,getFlexibleChecksumsPlugin:()=>Rnn,resolveFlexibleChecksumsConfig:()=>Tnn});eSt.exports=dnn(B_t);var Ng={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},fue=Ng.WHEN_SUPPORTED,dx={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},pue=Ng.WHEN_SUPPORTED,q_t=(e=>(e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256",e))(q_t||{}),j_t=(e=>(e.HEADER="header",e.TRAILER="trailer",e))(j_t||{}),T2="CRC32",I2=oi((e,t,r,n)=>{if(!(t in e))return;let s=e[t].toUpperCase();if(!Object.values(r).includes(s))throw new TypeError(`Cannot load ${n} '${t}'. Expected one of ${Object.values(r)}, got '${e[t]}'.`);return s},"stringUnionSelector"),$_t="AWS_REQUEST_CHECKSUM_CALCULATION",z_t="request_checksum_calculation",unn={environmentVariableSelector:oi(e=>I2(e,$_t,Ng,"env"),"environmentVariableSelector"),configFileSelector:oi(e=>I2(e,z_t,Ng,"shared config entry"),"configFileSelector"),default:fue},H_t="AWS_RESPONSE_CHECKSUM_VALIDATION",V_t="response_checksum_validation",mnn={environmentVariableSelector:oi(e=>I2(e,H_t,dx,"env"),"environmentVariableSelector"),configFileSelector:oi(e=>I2(e,V_t,dx,"shared config entry"),"configFileSelector"),default:pue},uue={CrtCrc64Nvme:null},Og=(u_t(),F(d_t)),G_t=Ge(),W_t=sp(),mue=["CRC32","CRC32C","CRC64NVME","SHA1","SHA256"],fnn=["SHA256","SHA1","CRC32","CRC32C","CRC64NVME"],pnn=oi((e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===Ng.WHEN_SUPPORTED||t?T2:void 0;if(!e[r])return;let s=e[r];if(!mue.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${mue}.`);return s},"getChecksumAlgorithmForRequest"),gue=oi(e=>e==="MD5"?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,"getChecksumLocationName"),gnn=oi((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},"hasHeader"),hnn=oi((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},"hasHeaderWithPrefix"),ynn=tT(),K_t=oi(e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(0,ynn.isArrayBuffer)(e),"isStreaming"),_nn=cue(),Snn=U_t(),X_t=oi((e,t)=>{switch(e){case"MD5":return t.md5;case"CRC32":return(0,Snn.getCrc32ChecksumAlgorithmFunction)();case"CRC32C":return _nn.AwsCrc32c;case"CRC64NVME":if(typeof uue.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return uue.CrtCrc64Nvme;case"SHA1":return t.sha1;case"SHA256":return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},"selectChecksumAlgorithmFunction"),vnn=kt(),J_t=oi((e,t)=>{let r=new e;return r.update((0,vnn.toUint8Array)(t||"")),r.digest()},"stringHasher"),Q_t={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Y_t=oi((e,t)=>(r,n)=>async s=>{if(!G_t.HttpRequest.isInstance(s.request)||hnn("x-amz-checksum-",s.request.headers))return r(s);let{request:i,input:o}=s,{body:a,headers:c}=i,{base64Encoder:l,streamHasher:d}=e,{requestChecksumRequired:u,requestAlgorithmMember:m}=t,p=await e.requestChecksumCalculation(),g=m?.name,y=m?.httpHeader;g&&!o[g]&&(p===Ng.WHEN_SUPPORTED||u)&&(o[g]=T2,y&&(c[y]=T2));let b=pnn(o,{requestChecksumRequired:u,requestAlgorithmMember:m?.name,requestChecksumCalculation:p}),w=a,A=c;if(b){switch(b){case"CRC32":(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case"CRC32C":(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case"CRC64NVME":(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case"SHA1":(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case"SHA256":(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let T=gue(b),k=X_t(b,e);if(K_t(a)){let{getAwsChunkedEncodingStream:z,bodyLengthChecker:oe}=e;w=z(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?(0,W_t.createBufferedReadable)(a,e.requestStreamBufferSize,n.logger):a,{base64Encoder:l,bodyLengthChecker:oe,checksumLocationName:T,checksumAlgorithmFn:k,streamHasher:d}),A={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":T},delete A["content-length"]}else if(!gnn(T,c)){let z=await J_t(k,a);A={...c,[T]:l(z)}}}return await r({...s,request:{...i,headers:A,body:w}})},"flexibleChecksumsMiddleware"),Enn={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Cnn=oi((e,t)=>(r,n)=>async s=>{let i=s.input,{requestValidationModeMember:o}=t,a=await e.requestChecksumCalculation(),c=await e.responseChecksumValidation();switch(a){case Ng.WHEN_REQUIRED:(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Ng.WHEN_SUPPORTED:(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case dx.WHEN_REQUIRED:(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case dx.WHEN_SUPPORTED:(0,Og.setFeature)(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&c===dx.WHEN_SUPPORTED&&(i[o]="ENABLED"),r(s)},"flexibleChecksumsInputMiddleware"),Z_t=oi((e=[])=>{let t=[];for(let r of fnn)!e.includes(r)||!mue.includes(r)||t.push(r);return t},"getChecksumAlgorithmListForResponse"),bnn=oi(e=>{let t=e.lastIndexOf("-");if(t!==-1){let r=e.slice(t+1);if(!r.startsWith("0")){let n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},"isChecksumWithPartNumber"),wnn=oi(async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await J_t(t,e)),"getChecksum"),Ann=oi(async(e,{config:t,responseAlgorithms:r,logger:n})=>{let s=Z_t(r),{body:i,headers:o}=e;for(let a of s){let c=gue(a),l=o[c];if(l){let d;try{d=X_t(a,t)}catch(p){if(a==="CRC64NVME"){n?.warn(`Skipping CRC64NVME checksum validation: ${p.message}`);continue}throw p}let{base64Encoder:u}=t;if(K_t(i)){e.body=(0,W_t.createChecksumStream)({expectedChecksum:l,checksumSourceLocation:c,checksum:new d,source:i,base64Encoder:u});return}let m=await wnn(i,{checksumAlgorithmFn:d,base64Encoder:u});if(m===l)break;throw new Error(`Checksum mismatch: expected "${m}" but received "${l}" in response header "${c}".`)}}},"validateChecksumFromResponse"),xnn={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Pnn=oi((e,t)=>(r,n)=>async s=>{if(!G_t.HttpRequest.isInstance(s.request))return r(s);let i=s.input,o=await r(s),a=o.response,{requestValidationModeMember:c,responseAlgorithms:l}=t;if(c&&i[c]==="ENABLED"){let{clientName:d,commandName:u}=n;if(d==="S3Client"&&u==="GetObjectCommand"&&Z_t(l).every(p=>{let g=gue(p),y=a.headers[g];return!y||bnn(y)}))return o;await Ann(a,{config:e,responseAlgorithms:l,logger:n.logger})}return o},"flexibleChecksumsResponseMiddleware"),Rnn=oi((e,t)=>({applyToStack:oi(r=>{r.add(Y_t(e,t),Q_t),r.addRelativeTo(Cnn(e,t),Enn),r.addRelativeTo(Pnn(e,t),xnn)},"applyToStack")}),"getFlexibleChecksumsPlugin"),F_t=Jn(),Tnn=oi(e=>{let{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:(0,F_t.normalizeProvider)(t??fue),responseChecksumValidation:(0,F_t.normalizeProvider)(r??pue),requestStreamBufferSize:Number(n??0)})},"resolveFlexibleChecksumsConfig")});var kk=E((lPs,iSt)=>{"use strict";var D2=Object.defineProperty,Inn=Object.getOwnPropertyDescriptor,Onn=Object.getOwnPropertyNames,Nnn=Object.prototype.hasOwnProperty,N2=(e,t)=>D2(e,"name",{value:t,configurable:!0}),Dnn=(e,t)=>{for(var r in t)D2(e,r,{get:t[r],enumerable:!0})},knn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Onn(t))!Nnn.call(e,s)&&s!==r&&D2(e,s,{get:()=>t[s],enumerable:!(n=Inn(t,s))||n.enumerable});return e},Mnn=e=>knn(D2({},"__esModule",{value:!0}),e),tSt={};Dnn(tSt,{getHostHeaderPlugin:()=>Unn,hostHeaderMiddleware:()=>nSt,hostHeaderMiddlewareOptions:()=>sSt,resolveHostHeaderConfig:()=>rSt});iSt.exports=Mnn(tSt);var Lnn=Ge();function rSt(e){return e}N2(rSt,"resolveHostHeaderConfig");var nSt=N2(e=>t=>async r=>{if(!Lnn.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),sSt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Unn=N2(e=>({applyToStack:N2(t=>{t.add(nSt(e),sSt)},"applyToStack")}),"getHostHeaderPlugin")});var Mk=E((dPs,lSt)=>{"use strict";var k2=Object.defineProperty,Fnn=Object.getOwnPropertyDescriptor,Bnn=Object.getOwnPropertyNames,qnn=Object.prototype.hasOwnProperty,yue=(e,t)=>k2(e,"name",{value:t,configurable:!0}),jnn=(e,t)=>{for(var r in t)k2(e,r,{get:t[r],enumerable:!0})},$nn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bnn(t))!qnn.call(e,s)&&s!==r&&k2(e,s,{get:()=>t[s],enumerable:!(n=Fnn(t,s))||n.enumerable});return e},znn=e=>$nn(k2({},"__esModule",{value:!0}),e),oSt={};jnn(oSt,{getLoggerPlugin:()=>Hnn,loggerMiddleware:()=>aSt,loggerMiddlewareOptions:()=>cSt});lSt.exports=znn(oSt);var aSt=yue(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),cSt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Hnn=yue(e=>({applyToStack:yue(t=>{t.add(aSt(),cSt)},"applyToStack")}),"getLoggerPlugin")});var Sue=E(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});M2.recursionDetectionMiddleware=void 0;var Vnn=dre(),Gnn=Ge(),_ue="X-Amzn-Trace-Id",Wnn="AWS_LAMBDA_FUNCTION_NAME",Knn="_X_AMZN_TRACE_ID",Xnn=()=>e=>async t=>{let{request:r}=t;if(!Gnn.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===_ue.toLowerCase())??_ue;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[Wnn],i=process.env[Knn],a=Vnn.InvokeStore.getXRayTraceId()??i,c=l=>typeof l=="string"&&l.length>0;return c(s)&&c(a)&&(r.headers[_ue]=a),e({...t,request:r})};M2.recursionDetectionMiddleware=Xnn});var Lk=E((mPs,Cue)=>{"use strict";var L2=Object.defineProperty,Jnn=Object.getOwnPropertyDescriptor,Qnn=Object.getOwnPropertyNames,Ynn=Object.prototype.hasOwnProperty,dSt=(e,t)=>L2(e,"name",{value:t,configurable:!0}),Znn=(e,t)=>{for(var r in t)L2(e,r,{get:t[r],enumerable:!0})},vue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Qnn(t))!Ynn.call(e,s)&&s!==r&&L2(e,s,{get:()=>t[s],enumerable:!(n=Jnn(t,s))||n.enumerable});return e},esn=(e,t,r)=>(vue(e,t,"default"),r&&vue(r,t,"default")),tsn=e=>vue(L2({},"__esModule",{value:!0}),e),Eue={};Znn(Eue,{getRecursionDetectionPlugin:()=>ssn});Cue.exports=tsn(Eue);var rsn={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},nsn=Sue(),ssn=dSt(e=>({applyToStack:dSt(t=>{t.add((0,nsn.recursionDetectionMiddleware)(),rsn)},"applyToStack")}),"getRecursionDetectionPlugin");esn(Eue,Sue(),Cue.exports)});var bue,isn,uSt=_(()=>{bue={warningEmitted:!1},isn=e=>{e&&!bue.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(bue.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function wue(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var mSt=_(()=>{});function osn(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var fSt=_(()=>{});function asn(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var pSt=_(()=>{});var Aue=_(()=>{uSt();mSt();fSt();pSt()});var gSt,xue,hSt=_(()=>{gSt=C(Ge()),xue=e=>gSt.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ux,Pue=_(()=>{ux=e=>new Date(Date.now()+e)});var ySt,_St=_(()=>{Pue();ySt=(e,t)=>Math.abs(ux(t).getTime()-e)>=3e5});var Rue,SSt=_(()=>{_St();Rue=(e,t)=>{let r=Date.parse(e);return ySt(r,t)?r-Date.now():t}});var Tue=_(()=>{hSt();Pue();SSt()});var vSt,Uk,Fk,kE,ESt,Iue=_(()=>{vSt=C(Ge());Tue();Uk=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Fk=async e=>{let t=Uk("context",e.context),r=Uk("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await Uk("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},kE=class{async sign(t,r,n){if(!vSt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Fk(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:ux(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??xue(r.$response);if(n){let s=Uk("config",t.config),i=s.systemClockOffset;s.systemClockOffset=Rue(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=xue(t);if(n){let s=Uk("config",r.config);s.systemClockOffset=Rue(n,s.systemClockOffset)}}},ESt=kE});var CSt,U2,bSt=_(()=>{CSt=C(Ge());Tue();Iue();U2=class extends kE{async sign(t,r,n){if(!CSt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await Fk(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:ux(s.systemClockOffset),signingRegion:d,signingService:c})}}});var Oue,wSt=_(()=>{Oue=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Nue,Due=_(()=>{Nue=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var ASt,xSt,csn,PSt=_(()=>{wSt();Due();ASt="AWS_AUTH_SCHEME_PREFERENCE",xSt="auth_scheme_preference",csn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Nue(t.signingName)in e)return["httpBearerAuth"];if(ASt in e)return Oue(e[ASt])},configFileSelector:e=>{if(xSt in e)return Oue(e[xSt])},default:[]}});var kue,lsn,dsn,RSt=_(()=>{lt();kue=C(qt()),lsn=e=>(e.sigv4aSigningRegionSet=fr(e.sigv4aSigningRegionSet),e),dsn={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new kue.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new kue.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function msn(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=qu(t,Bu,Bl):r?n=fr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function fsn(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Mue,TSt,usn,ISt=_(()=>{Aue();lt();Mue=C(Rh()),TSt=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=msn(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=fsn(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>wue(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=fr(e.signer):e.regionInfoProvider?a=()=>fr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||Mue.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fr(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||Mue.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},usn=TSt});var OSt=_(()=>{Iue();bSt();PSt();RSt();ISt()});var NSt=_(()=>{OSt();Due()});var DSt,Qd,mx=_(()=>{ke();DSt=C(Fb()),Qd=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??DSt.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=ls.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let m=ls.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(m){let p=m.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Lue,kSt=_(()=>{Bb();ke();mx();Lue=class extends jl{awsQueryCompatible;mixin=new Qd;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ql(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator())m[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var psn,gsn,hsn,MSt=_(()=>{psn=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},gsn=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},hsn=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var xa,w_=_(()=>{xa=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function LSt(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ee(n,"bigDecimal"):BigInt(n)}return t}var USt=_(()=>{nr()});var FSt,BSt,F2,Uue=_(()=>{FSt=C(K()),BSt=C(kt()),F2=(e,t)=>(0,FSt.collectBody)(e,t).then(r=>(t?.utf8Encoder??BSt.toUtf8)(r))});var B2,ysn,Bk,qk=_(()=>{Uue();B2=(e,t)=>F2(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),ysn=async(e,t)=>{let r=await B2(e,t);return r.message=r.message??r.Message,r},Bk=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var qSt,jk,Fue=_(()=>{ft();ke();nr();qSt=C(Mt());w_();USt();qk();jk=class extends xa{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,LSt):await B2(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=B.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,qSt.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return zr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:return rl(r);case j.TIMESTAMP_HTTP_DATE:return nl(r);case j.TIMESTAMP_EPOCH_SECONDS:return ja(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Ee)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new Ee(o.string,o.type):new Ee(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var jSt,q2,$St=_(()=>{nr();jSt="\u039D",q2=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ee){let n=`${jSt+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${jSt+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var zSt,$k,Bue=_(()=>{ft();ke();nr();zSt=C(Mt());w_();$St();$k=class extends xa{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=B.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=B.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new q2;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=B.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,zSt.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Bt(i,this.settings)){case j.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case j.TIMESTAMP_HTTP_DATE:return tl(r);case j.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return pr();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return zr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var ME,j2=_(()=>{w_();Fue();Bue();ME=class extends xa{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new $k(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new jk(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var LE,$2=_(()=>{ft();ke();mx();j2();qk();LE=class extends Qn{serializer;deserializer;serviceTarget;codec;mixin=new Qd;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new ME({timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${B.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(mn(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Bk(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var que,HSt=_(()=>{$2();que=class extends LE{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var jue,VSt=_(()=>{$2();jue=class extends LE{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var $ue,GSt=_(()=>{ft();ke();mx();j2();qk();$ue=class extends Os{serializer;deserializer;codec;mixin=new Qd;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new ME(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=Bk(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/json"}}});var WSt,_sn,KSt=_(()=>{WSt=C(K()),_sn=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,WSt.expectUnion)(e)}});var XSt,JSt,UE,z2=_(()=>{ft();ke();XSt=C(K()),JSt=C(kt());$u();w_();UE=class extends xa{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $a(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=B.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??JSt.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=B.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],m=Array.isArray(u)?u:[u];for(let p of m)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],y=p[m];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,XSt.getValueFromTextNode)(o)}return{}}}});var QSt,YSt,H2,ZSt=_(()=>{ft();ke();nr();QSt=C(K()),YSt=C(Mt());w_();H2=class extends xa{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=B.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??YSt.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(pr()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ee?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case j.TIMESTAMP_HTTP_DATE:this.writeValue((0,QSt.dateToUtcString)(r));break;case j.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${ri(t)}=`}writeValue(t){this.buffer+=ri(t)}}});var zk,zue=_(()=>{ft();ke();mx();z2();ZSt();zk=class extends Qn{options;serializer;deserializer;mixin=new Qd;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new H2(r),this.deserializer=new UE(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(mn(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let u=await Ts(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let m=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Ts(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,y)=>g.find(b=>B.of(b).getMergedTraits().awsQueryError?.[0]===y)),d=B.of(c),u=this.loadQueryErrorMessage(s),m=new c.ctor(u),p={};for(let[g,y]of d.structIterator()){let b=y.getMergedTraits().xmlName??g,w=a[b]??s[b];p[g]=this.deserializer.readSchema(y,w)}throw Object.assign(m,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Hue,evt=_(()=>{zue();Hue=class extends zk{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var tvt,rvt,Ssn,Vue,Gue=_(()=>{tvt=C(K());$u();Uue();rvt=(e,t)=>F2(e,t).then(r=>{if(r.length){let n=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,tvt.getValueFromTextNode)(a)}return{}}),Ssn=async(e,t)=>{let r=await rvt(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Vue=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var cvt=E((_Ts,avt)=>{"use strict";var G2=Object.defineProperty,vsn=Object.getOwnPropertyDescriptor,Esn=Object.getOwnPropertyNames,Csn=Object.prototype.hasOwnProperty,W2=(e,t)=>G2(e,"name",{value:t,configurable:!0}),bsn=(e,t)=>{for(var r in t)G2(e,r,{get:t[r],enumerable:!0})},wsn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Esn(t))!Csn.call(e,s)&&s!==r&&G2(e,s,{get:()=>t[s],enumerable:!(n=vsn(t,s))||n.enumerable});return e},Asn=e=>wsn(G2({},"__esModule",{value:!0}),e),nvt={};bsn(nvt,{XmlNode:()=>xsn,XmlText:()=>ovt});avt.exports=Asn(nvt);function svt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}W2(svt,"escapeAttribute");function ivt(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}W2(ivt,"escapeElement");var ovt=class{constructor(e){this.value=e}static{W2(this,"XmlText")}toString(){return ivt(""+this.value)}},xsn=class V2{constructor(t,r=[]){this.name=t,this.children=r}static{W2(this,"XmlNode")}attributes={};static of(t,r,n){let s=new V2(t);return r!==void 0&&s.addChildNode(new ovt(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=V2.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new V2(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${svt(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Yd,Wue,K2,Hk,Kue=_(()=>{Yd=C(cvt());ft();ke();nr();Wue=C(K()),K2=C(Mt());w_();Hk=class extends xa{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=B.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??K2.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Yd.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=Yd.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=Yd.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=Yd.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=Yd.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=Yd.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=Yd.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=Yd.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=Yd.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=B.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??K2.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Bt(n,this.settings)){case j.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case j.TIMESTAMP_HTTP_DATE:s=(0,Wue.dateToUtcString)(r);break;case j.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Wue.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ee?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=pr():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=B.of(t),a=new Yd.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var Vk,Xue=_(()=>{w_();z2();Kue();Vk=class extends xa{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Hk(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new UE(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Jue,lvt=_(()=>{ft();ke();mx();Gue();Xue();Jue=class extends Os{codec;serializer;deserializer;mixin=new Qd;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Vk(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Vue(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().xmlName??p,b=s.Error?.[y]??s[y];m[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/xml"}}});var dvt=_(()=>{kSt();MSt();HSt();VSt();$2();GSt();j2();Fue();Bue();KSt();qk();evt();zue();lvt();Xue();z2();Kue();Gue()});var uvt={};ct(uvt,{AWSSDKSigV4Signer:()=>ESt,AwsEc2QueryProtocol:()=>Hue,AwsJson1_0Protocol:()=>que,AwsJson1_1Protocol:()=>jue,AwsJsonRpcProtocol:()=>LE,AwsQueryProtocol:()=>zk,AwsRestJsonProtocol:()=>$ue,AwsRestXmlProtocol:()=>Jue,AwsSdkSigV4ASigner:()=>U2,AwsSdkSigV4Signer:()=>kE,AwsSmithyRpcV2CborProtocol:()=>Lue,JsonCodec:()=>ME,JsonShapeDeserializer:()=>jk,JsonShapeSerializer:()=>$k,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>csn,NODE_SIGV4A_CONFIG_OPTIONS:()=>dsn,XmlCodec:()=>Vk,XmlShapeDeserializer:()=>UE,XmlShapeSerializer:()=>Hk,_toBool:()=>gsn,_toNum:()=>hsn,_toStr:()=>psn,awsExpectUnion:()=>_sn,emitWarningIfUnsupportedVersion:()=>isn,getBearerTokenEnvKey:()=>Nue,loadRestJsonErrorCode:()=>Bk,loadRestXmlErrorCode:()=>Vue,parseJsonBody:()=>B2,parseJsonErrorBody:()=>ysn,parseXmlBody:()=>rvt,parseXmlErrorBody:()=>Ssn,resolveAWSSDKSigV4Config:()=>usn,resolveAwsSdkSigV4AConfig:()=>lsn,resolveAwsSdkSigV4Config:()=>TSt,setCredentialFeature:()=>wue,setFeature:()=>osn,setTokenFeature:()=>asn,state:()=>bue,validateSigningProperties:()=>Fk});var mvt=_(()=>{Aue();NSt();dvt()});var Yue=E((nIs,pvt)=>{"use strict";var X2=Object.defineProperty,Psn=Object.getOwnPropertyDescriptor,Rsn=Object.getOwnPropertyNames,Tsn=Object.prototype.hasOwnProperty,Que=(e,t)=>X2(e,"name",{value:t,configurable:!0}),Isn=(e,t)=>{for(var r in t)X2(e,r,{get:t[r],enumerable:!0})},Osn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rsn(t))!Tsn.call(e,s)&&s!==r&&X2(e,s,{get:()=>t[s],enumerable:!(n=Psn(t,s))||n.enumerable});return e},Nsn=e=>Osn(X2({},"__esModule",{value:!0}),e),fvt={};Isn(fvt,{build:()=>Msn,parse:()=>ksn,validate:()=>Dsn});pvt.exports=Nsn(fvt);var Dsn=Que(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),ksn=Que(e=>{let t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");let[,r,n,s,i,...o]=t;return{partition:r,service:n,region:s,accountId:i,resource:o.join(":")}},"parse"),Msn=Que(e=>{let{partition:t="aws",service:r,region:n,accountId:s,resource:i}=e;if([r,n,s,i].some(o=>typeof o!="string"))throw new Error("Input ARN object is invalid");return`arn:${t}:${r}:${n}:${s}:${i}`},"build")});var Ue=E((sIs,Lvt)=>{"use strict";var Y2=Object.defineProperty,Lsn=Object.getOwnPropertyDescriptor,Usn=Object.getOwnPropertyNames,Fsn=Object.prototype.hasOwnProperty,It=(e,t)=>Y2(e,"name",{value:t,configurable:!0}),Bsn=(e,t)=>{for(var r in t)Y2(e,r,{get:t[r],enumerable:!0})},qsn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Usn(t))!Fsn.call(e,s)&&s!==r&&Y2(e,s,{get:()=>t[s],enumerable:!(n=Lsn(t,s))||n.enumerable});return e},jsn=e=>qsn(Y2({},"__esModule",{value:!0}),e),hvt={};Bsn(hvt,{NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS:()=>Zsn,S3ExpressIdentityCache:()=>wvt,S3ExpressIdentityCacheEntry:()=>Q2,S3ExpressIdentityProviderImpl:()=>xvt,SignatureV4S3Express:()=>ein,checkContentLengthHeader:()=>nme,checkContentLengthHeaderMiddlewareOptions:()=>_vt,getCheckContentLengthHeaderPlugin:()=>Hsn,getRegionRedirectMiddlewarePlugin:()=>Vsn,getS3ExpiresMiddlewarePlugin:()=>Gsn,getS3ExpressHttpSigningPlugin:()=>cin,getS3ExpressPlugin:()=>rin,getThrow200ExceptionsPlugin:()=>fin,getValidateBucketNamePlugin:()=>hin,regionRedirectEndpointMiddleware:()=>Svt,regionRedirectEndpointMiddlewareOptions:()=>vvt,regionRedirectMiddleware:()=>sme,regionRedirectMiddlewareOptions:()=>Evt,resolveS3Config:()=>lin,s3ExpiresMiddleware:()=>Cvt,s3ExpiresMiddlewareOptions:()=>bvt,s3ExpressHttpSigningMiddleware:()=>Ovt,s3ExpressHttpSigningMiddlewareOptions:()=>ain,s3ExpressMiddleware:()=>Rvt,s3ExpressMiddlewareOptions:()=>Tvt,throw200ExceptionsMiddleware:()=>Nvt,throw200ExceptionsMiddlewareOptions:()=>Dvt,validateBucketNameMiddleware:()=>ime,validateBucketNameMiddlewareOptions:()=>Mvt});Lvt.exports=jsn(hvt);var Gk=Ge(),yvt=K(),$sn="content-length",zsn="x-amz-decoded-content-length";function nme(){return(e,t)=>async r=>{let{request:n}=r;if(Gk.HttpRequest.isInstance(n)&&!($sn in n.headers)&&!(zsn in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof yvt.NoOpLogger)?t.logger.warn(s):console.warn(s)}return e({...r})}}It(nme,"checkContentLengthHeader");var _vt={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Hsn=It(e=>({applyToStack:It(t=>{t.add(nme(),_vt)},"applyToStack")}),"getCheckContentLengthHeaderPlugin"),Svt=It(e=>(t,r)=>async n=>{let s=await e.region(),i=e.region,o=It(()=>{},"unlock");r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:It(async()=>r.__s3RegionRedirect,"value")}),o=It(()=>Object.defineProperty(e,"region",{writable:!0,value:i}),"unlock"));try{let a=await t(n);if(r.__s3RegionRedirect){o();let c=await e.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},"regionRedirectEndpointMiddleware"),vvt={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function sme(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects){let i=s?.$metadata?.httpStatusCode,o=r.commandName==="HeadBucketCommand",a=s?.$response?.headers?.["x-amz-bucket-region"];if(a&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||o))){try{let c=a;r.logger?.debug(`Redirecting from ${await e.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return t(n)}}throw s}}}It(sme,"regionRedirectMiddleware");var Evt={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Vsn=It(e=>({applyToStack:It(t=>{t.add(sme(e),Evt),t.addRelativeTo(Svt(e),vvt)},"applyToStack")}),"getRegionRedirectMiddlewarePlugin"),Cvt=It(e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(Gk.HttpResponse.isInstance(i)&&i.headers.expires){i.headers.expiresstring=i.headers.expires;try{(0,yvt.parseRfc7231DateTime)(i.headers.expires)}catch(o){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${i.headers.expires}): ${o}`),delete i.headers.expires}}return s},"s3ExpiresMiddleware"),bvt={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},Gsn=It(e=>({applyToStack:It(t=>{t.addRelativeTo(Cvt(e),bvt)},"applyToStack")}),"getS3ExpiresMiddlewarePlugin"),wvt=class Avt{constructor(t={}){this.data=t}static{It(this,"S3ExpressIdentityCache")}lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;get(t){let r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){let t=Date.now();if(!(this.lastPurgeTime+Avt.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(let r in this.data){let n=this.data[r];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<t&&delete this.data[r]}}}},Q2=class{constructor(e,t=!1,r=Date.now()){this._identity=e,this.isRefreshing=t,this.accessed=r}static{It(this,"S3ExpressIdentityCacheEntry")}get identity(){return this.accessed=Date.now(),this._identity}},xvt=class Pvt{constructor(t,r=new wvt){this.createSessionFn=t,this.cache=r}static{It(this,"S3ExpressIdentityProviderImpl")}static REFRESH_WINDOW_MS=6e4;async getS3ExpressIdentity(t,r){let n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?s.set(n,new Q2(this.getIdentity(n))).identity:((o.expiration?.getTime()??0)<Date.now()+Pvt.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(l=>{s.set(n,new Q2(Promise.resolve(l)))})),o)):s.set(n,new Q2(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}},Wsn=Rh(),J2=kT(),Ksn="Directory",Xsn="S3Express",Jsn="sigv4-s3express",Zue="X-Amz-S3session-Token",eme=Zue.toLowerCase(),Qsn="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",Ysn="s3_disable_express_session_auth",Zsn={environmentVariableSelector:It(e=>(0,J2.booleanSelector)(e,Qsn,J2.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:It(e=>(0,J2.booleanSelector)(e,Ysn,J2.SelectorType.CONFIG),"configFileSelector"),default:!1},ein=class extends Wsn.SignatureV4{static{It(this,"SignatureV4S3Express")}async signWithCredentials(e,t,r){let n=tme(t);e.headers[eme]=t.sessionToken;let s=this;return rme(s,n),s.signRequest(e,r??{})}async presignWithCredentials(e,t,r){let n=tme(t);return delete e.headers[eme],e.headers[Zue]=t.sessionToken,e.query=e.query??{},e.query[Zue]=t.sessionToken,rme(this,n),this.presign(e,r)}};function tme(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}It(tme,"getCredentialsWithoutSessionToken");function rme(e,t){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=It(()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t)),"overrideCredentialsProviderOnce");e.credentialProvider=s}It(rme,"setSingleOverride");var tin=(mvt(),F(uvt)),Rvt=It(e=>(t,r)=>async n=>{if(r.endpointV2){let s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===Jsn;if((s.properties?.backend===Xsn||s.properties?.bucketType===Ksn)&&((0,tin.setFeature)(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){let a=n.input.Bucket;if(a){let c=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:a});r.s3ExpressIdentity=c,Gk.HttpRequest.isInstance(n.request)&&c.sessionToken&&(n.request.headers[eme]=c.sessionToken)}}}return t(n)},"s3ExpressMiddleware"),Tvt={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},rin=It(e=>({applyToStack:It(t=>{t.add(Rvt(e),Tvt)},"applyToStack")}),"getS3ExpressPlugin"),Ivt=(lt(),F(ui)),nin=Jn(),sin=It(async(e,t,r,n)=>{let s=await n.signWithCredentials(r,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},"signS3Express"),iin=It(e=>t=>{throw t},"defaultErrorHandler"),oin=It((e,t)=>{},"defaultSuccessHandler"),ain=Ivt.httpSigningMiddlewareOptions,Ovt=It(e=>(t,r)=>async n=>{if(!Gk.HttpRequest.isInstance(n.request))return t(n);let i=(0,nin.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l;r.s3ExpressIdentity?l=await sin(r.s3ExpressIdentity,o,n.request,await e.signer()):l=await c.sign(n.request,a,o);let d=await t({...n,request:l}).catch((c.errorHandler||iin)(o));return(c.successHandler||oin)(d.response,o),d},"s3ExpressHttpSigningMiddleware"),cin=It(e=>({applyToStack:It(t=>{t.addRelativeTo(Ovt(e),Ivt.httpSigningMiddlewareOptions)},"applyToStack")}),"getS3ExpressHttpSigningPlugin"),lin=It((e,{session:t})=>{let[r,n]=t,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:o,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:l}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:o??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new xvt(async d=>r().send(new n({Bucket:d}))),bucketEndpoint:l??!1})},"resolveS3Config"),gvt=sp(),din={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},uin=3e3,Nvt=It(e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(!Gk.HttpResponse.isInstance(i))return s;let{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return s;let l=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,d]=await(0,gvt.splitStream)(a)),i.body=d;let u=await min(l,{streamCollector:It(async p=>(0,gvt.headStream)(p,uin),"streamCollector")});typeof l?.destroy=="function"&&l.destroy();let m=e.utf8Encoder(u.subarray(u.length-16));if(u.length===0&&din[r.commandName]){let p=new Error("S3 aborted request");throw p.name="InternalError",p}return m&&m.endsWith("</Error>")&&(i.statusCode=400),s},"throw200ExceptionsMiddleware"),min=It((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),"collectBody"),Dvt={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},fin=It(e=>({applyToStack:It(t=>{t.addRelativeTo(Nvt(e),Dvt)},"applyToStack")}),"getThrow200ExceptionsPlugin"),pin=Yue();function kvt(e){return(t,r)=>async n=>{if(e.bucketEndpoint){let s=r.endpointV2;if(s){let i=n.input.Bucket;if(typeof i=="string")try{let o=new URL(i);r.endpointV2={...s,url:o}}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),o}}}return t(n)}}It(kvt,"bucketEndpointMiddleware");var gin={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function ime({bucketEndpoint:e}){return t=>async r=>{let{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!(0,pin.validate)(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return t({...r})}}It(ime,"validateBucketNameMiddleware");var Mvt={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},hin=It(e=>({applyToStack:It(t=>{t.add(ime(e),Mvt),t.addRelativeTo(kvt(e),gin)},"applyToStack")}),"getValidateBucketNamePlugin")});var fx=E((aIs,Wvt)=>{"use strict";var Z2=Object.defineProperty,yin=Object.getOwnPropertyDescriptor,_in=Object.getOwnPropertyNames,Sin=Object.prototype.hasOwnProperty,A_=(e,t)=>Z2(e,"name",{value:t,configurable:!0}),vin=(e,t)=>{for(var r in t)Z2(e,r,{get:t[r],enumerable:!0})},Ein=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _in(t))!Sin.call(e,s)&&s!==r&&Z2(e,s,{get:()=>t[s],enumerable:!(n=yin(t,s))||n.enumerable});return e},Cin=e=>Ein(Z2({},"__esModule",{value:!0}),e),Fvt={};vin(Fvt,{ConditionObject:()=>zn.ConditionObject,DeprecatedObject:()=>zn.DeprecatedObject,EndpointError:()=>zn.EndpointError,EndpointObject:()=>zn.EndpointObject,EndpointObjectHeaders:()=>zn.EndpointObjectHeaders,EndpointObjectProperties:()=>zn.EndpointObjectProperties,EndpointParams:()=>zn.EndpointParams,EndpointResolverOptions:()=>zn.EndpointResolverOptions,EndpointRuleObject:()=>zn.EndpointRuleObject,ErrorRuleObject:()=>zn.ErrorRuleObject,EvaluateOptions:()=>zn.EvaluateOptions,Expression:()=>zn.Expression,FunctionArgv:()=>zn.FunctionArgv,FunctionObject:()=>zn.FunctionObject,FunctionReturn:()=>zn.FunctionReturn,ParameterObject:()=>zn.ParameterObject,ReferenceObject:()=>zn.ReferenceObject,ReferenceRecord:()=>zn.ReferenceRecord,RuleSetObject:()=>zn.RuleSetObject,RuleSetRules:()=>zn.RuleSetRules,TreeRuleObject:()=>zn.TreeRuleObject,awsEndpointFunctions:()=>Vvt,getUserAgentPrefix:()=>xin,isIpAddress:()=>zn.isIpAddress,partition:()=>zvt,resolveDefaultAwsRegionalEndpointsConfig:()=>Rin,resolveEndpoint:()=>zn.resolveEndpoint,setPartitionInfo:()=>Hvt,toEndpointV1:()=>Gvt,useDefaultPartitionInfo:()=>Ain});Wvt.exports=Cin(Fvt);var zn=ra(),Bvt=A_((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Bvt(r))return!1;return!0}return!(!(0,zn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,zn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),Uvt=":",bin="/",win=A_(e=>{let t=e.split(Uvt);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Uvt)==="")return null;let c=a.map(l=>l.split(bin)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),qvt={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},jvt=qvt,$vt="",zvt=A_(e=>{let{partitions:t}=jvt;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Hvt=A_((e,t="")=>{jvt=e,$vt=t},"setPartitionInfo"),Ain=A_(()=>{Hvt(qvt,"")},"useDefaultPartitionInfo"),xin=A_(()=>$vt,"getUserAgentPrefix"),Vvt={isVirtualHostableS3Bucket:Bvt,parseArn:win,partition:zvt};zn.customEndpointFunctions.aws=Vvt;var Pin=oo(),Rin=A_(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Gvt(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),Gvt=A_(e=>(0,Pin.parseUrl)(e.url),"toEndpointV1")});var e4,px,Kvt=_(()=>{e4={warningEmitted:!1},px=e=>{e&&!e4.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(e4.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function x_(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Xvt=_(()=>{});function Jvt(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Qvt=_(()=>{});function Yvt(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Zvt=_(()=>{});var P_={};ct(P_,{emitWarningIfUnsupportedVersion:()=>px,setCredentialFeature:()=>x_,setFeature:()=>Jvt,setTokenFeature:()=>Yvt,state:()=>e4});var dm=_(()=>{Kvt();Xvt();Qvt();Zvt()});var eEt,ome,tEt=_(()=>{eEt=C(Ge()),ome=e=>eEt.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var gx,ame=_(()=>{gx=e=>new Date(Date.now()+e)});var rEt,nEt=_(()=>{ame();rEt=(e,t)=>Math.abs(gx(t).getTime()-e)>=3e5});var cme,sEt=_(()=>{nEt();cme=(e,t)=>{let r=Date.parse(e);return rEt(r,t)?r-Date.now():t}});var lme=_(()=>{tEt();ame();sEt()});var iEt,Wk,hx,Uc,dme,ume=_(()=>{iEt=C(Ge());lme();Wk=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},hx=async e=>{let t=Wk("context",e.context),r=Wk("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await Wk("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Uc=class{async sign(t,r,n){if(!iEt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await hx(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:gx(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??ome(r.$response);if(n){let s=Wk("config",t.config),i=s.systemClockOffset;s.systemClockOffset=cme(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=ome(t);if(n){let s=Wk("config",r.config);s.systemClockOffset=cme(n,s.systemClockOffset)}}},dme=Uc});var oEt,Kk,aEt=_(()=>{oEt=C(Ge());lme();ume();Kk=class extends Uc{async sign(t,r,n){if(!oEt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await hx(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:gx(s.systemClockOffset),signingRegion:d,signingService:c})}}});var mme,cEt=_(()=>{mme=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var t4,fme=_(()=>{t4=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var lEt,dEt,yx,uEt=_(()=>{cEt();fme();lEt="AWS_AUTH_SCHEME_PREFERENCE",dEt="auth_scheme_preference",yx={environmentVariableSelector:(e,t)=>{if(t?.signingName&&t4(t.signingName)in e)return["httpBearerAuth"];if(lEt in e)return mme(e[lEt])},configFileSelector:e=>{if(dEt in e)return mme(e[dEt])},default:[]}});var pme,mEt,fEt,pEt=_(()=>{lt();pme=C(qt()),mEt=e=>(e.sigv4aSigningRegionSet=fr(e.sigv4aSigningRegionSet),e),fEt={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new pme.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new pme.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function Tin(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=qu(t,Bu,Bl):r?n=fr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Iin(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var gme,FE,gEt,hEt=_(()=>{dm();lt();gme=C(Rh()),FE=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=Tin(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=Iin(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>x_(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=fr(e.signer):e.regionInfoProvider?a=()=>fr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||gme.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fr(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||gme.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},gEt=FE});var yEt=_(()=>{ume();aEt();uEt();pEt();hEt()});var _Et={};ct(_Et,{AWSSDKSigV4Signer:()=>dme,AwsSdkSigV4ASigner:()=>Kk,AwsSdkSigV4Signer:()=>Uc,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>yx,NODE_SIGV4A_CONFIG_OPTIONS:()=>fEt,getBearerTokenEnvKey:()=>t4,resolveAWSSDKSigV4Config:()=>gEt,resolveAwsSdkSigV4AConfig:()=>mEt,resolveAwsSdkSigV4Config:()=>FE,validateSigningProperties:()=>hx});var hme=_(()=>{yEt();fme()});var SEt,Zd,_x=_(()=>{ke();SEt=C(Fb()),Zd=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??SEt.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=ls.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let m=ls.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(m){let p=m.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var yme,vEt=_(()=>{Bb();ke();_x();yme=class extends jl{awsQueryCompatible;mixin=new Zd;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ql(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator())m[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var Oin,Nin,Din,EEt=_(()=>{Oin=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Nin=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Din=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Pa,R_=_(()=>{Pa=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function CEt(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ee(n,"bigDecimal"):BigInt(n)}return t}var bEt=_(()=>{nr()});var wEt,AEt,r4,_me=_(()=>{wEt=C(K()),AEt=C(kt()),r4=(e,t)=>(0,wEt.collectBody)(e,t).then(r=>(t?.utf8Encoder??AEt.toUtf8)(r))});var Sx,Sme,BE,Xk=_(()=>{_me();Sx=(e,t)=>r4(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Sme=async(e,t)=>{let r=await Sx(e,t);return r.message=r.message??r.Message,r},BE=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var xEt,Jk,vme=_(()=>{ft();ke();nr();xEt=C(Mt());R_();bEt();Xk();Jk=class extends Pa{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,CEt):await Sx(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=B.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,xEt.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return zr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:return rl(r);case j.TIMESTAMP_HTTP_DATE:return nl(r);case j.TIMESTAMP_EPOCH_SECONDS:return ja(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Ee)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new Ee(o.string,o.type):new Ee(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var PEt,n4,REt=_(()=>{nr();PEt="\u039D",n4=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ee){let n=`${PEt+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${PEt+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var TEt,Qk,Eme=_(()=>{ft();ke();nr();TEt=C(Mt());R_();REt();Qk=class extends Pa{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=B.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=B.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new n4;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=B.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,TEt.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Bt(i,this.settings)){case j.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case j.TIMESTAMP_HTTP_DATE:return tl(r);case j.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return pr();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return zr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ee?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var qE,s4=_(()=>{R_();vme();Eme();qE=class extends Pa{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Qk(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Jk(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var jE,i4=_(()=>{ft();ke();_x();s4();Xk();jE=class extends Qn{serializer;deserializer;serviceTarget;codec;mixin=new Zd;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new qE({timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${B.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(mn(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=BE(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var Cme,IEt=_(()=>{i4();Cme=class extends jE{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var bme,OEt=_(()=>{i4();bme=class extends jE{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var wme,NEt=_(()=>{ft();ke();_x();s4();Xk();wme=class extends Os{serializer;deserializer;codec;mixin=new Zd;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new qE(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=BE(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/json"}}});var DEt,kin,kEt=_(()=>{DEt=C(K()),kin=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,DEt.expectUnion)(e)}});var MEt,LEt,$E,o4=_(()=>{ft();ke();MEt=C(K()),LEt=C(kt());$u();R_();$E=class extends Pa{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $a(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=B.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??LEt.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=B.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],m=Array.isArray(u)?u:[u];for(let p of m)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],y=p[m];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,MEt.getValueFromTextNode)(o)}return{}}}});var UEt,FEt,a4,BEt=_(()=>{ft();ke();nr();UEt=C(K()),FEt=C(Mt());R_();a4=class extends Pa{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=B.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??FEt.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(pr()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ee?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Bt(s,this.settings)){case j.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case j.TIMESTAMP_HTTP_DATE:this.writeValue((0,UEt.dateToUtcString)(r));break;case j.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${ri(t)}=`}writeValue(t){this.buffer+=ri(t)}}});var Yk,Ame=_(()=>{ft();ke();_x();o4();BEt();Yk=class extends Qn{options;serializer;deserializer;mixin=new Zd;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new a4(r),this.deserializer=new $E(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(mn(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=B.of(t.output),o={};if(n.statusCode>=300){let u=await Ts(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(j.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let m=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Ts(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,y)=>g.find(b=>B.of(b).getMergedTraits().awsQueryError?.[0]===y)),d=B.of(c),u=this.loadQueryErrorMessage(s),m=new c.ctor(u),p={};for(let[g,y]of d.structIterator()){let b=y.getMergedTraits().xmlName??g,w=a[b]??s[b];p[g]=this.deserializer.readSchema(y,w)}throw Object.assign(m,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var xme,qEt=_(()=>{Ame();xme=class extends Yk{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var jEt,Zk,Pme,Rme,Tme=_(()=>{jEt=C(K());$u();_me();Zk=(e,t)=>r4(e,t).then(r=>{if(r.length){let n=new ds({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,jEt.getValueFromTextNode)(a)}return{}}),Pme=async(e,t)=>{let r=await Zk(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Rme=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Ime=E((uNs,GEt)=>{"use strict";var l4=Object.defineProperty,Min=Object.getOwnPropertyDescriptor,Lin=Object.getOwnPropertyNames,Uin=Object.prototype.hasOwnProperty,d4=(e,t)=>l4(e,"name",{value:t,configurable:!0}),Fin=(e,t)=>{for(var r in t)l4(e,r,{get:t[r],enumerable:!0})},Bin=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Lin(t))!Uin.call(e,s)&&s!==r&&l4(e,s,{get:()=>t[s],enumerable:!(n=Min(t,s))||n.enumerable});return e},qin=e=>Bin(l4({},"__esModule",{value:!0}),e),$Et={};Fin($Et,{XmlNode:()=>jin,XmlText:()=>VEt});GEt.exports=qin($Et);function zEt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}d4(zEt,"escapeAttribute");function HEt(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}d4(HEt,"escapeElement");var VEt=class{constructor(e){this.value=e}static{d4(this,"XmlText")}toString(){return HEt(""+this.value)}},jin=class c4{constructor(t,r=[]){this.name=t,this.children=r}static{d4(this,"XmlNode")}attributes={};static of(t,r,n){let s=new c4(t);return r!==void 0&&s.addChildNode(new VEt(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=c4.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new c4(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${zEt(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var eu,Ome,u4,eM,Nme=_(()=>{eu=C(Ime());ft();ke();nr();Ome=C(K()),u4=C(Mt());R_();eM=class extends Pa{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=B.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??u4.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=eu.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=eu.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=eu.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=eu.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=eu.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=eu.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=eu.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=eu.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=eu.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=B.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??u4.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Bt(n,this.settings)){case j.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case j.TIMESTAMP_HTTP_DATE:s=(0,Ome.dateToUtcString)(r);break;case j.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Ome.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ee?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=pr():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=B.of(t),a=new eu.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var tM,Dme=_(()=>{R_();o4();Nme();tM=class extends Pa{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new eM(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new $E(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var kme,WEt=_(()=>{ft();ke();_x();Tme();Dme();kme=class extends Os{codec;serializer;deserializer;mixin=new Zd;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:j.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new tM(r),this.serializer=new Ds(this.codec.createSerializer(),r),this.deserializer=new Ns(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=B.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Rme(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=B.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().xmlName??p,b=s.Error?.[y]??s[y];m[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/xml"}}});var KEt=_(()=>{vEt();EEt();IEt();OEt();i4();NEt();s4();vme();Eme();kEt();Xk();qEt();Ame();WEt();Dme();o4();Nme();Tme()});var wf={};ct(wf,{AWSSDKSigV4Signer:()=>dme,AwsEc2QueryProtocol:()=>xme,AwsJson1_0Protocol:()=>Cme,AwsJson1_1Protocol:()=>bme,AwsJsonRpcProtocol:()=>jE,AwsQueryProtocol:()=>Yk,AwsRestJsonProtocol:()=>wme,AwsRestXmlProtocol:()=>kme,AwsSdkSigV4ASigner:()=>Kk,AwsSdkSigV4Signer:()=>Uc,AwsSmithyRpcV2CborProtocol:()=>yme,JsonCodec:()=>qE,JsonShapeDeserializer:()=>Jk,JsonShapeSerializer:()=>Qk,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>yx,NODE_SIGV4A_CONFIG_OPTIONS:()=>fEt,XmlCodec:()=>tM,XmlShapeDeserializer:()=>$E,XmlShapeSerializer:()=>eM,_toBool:()=>Nin,_toNum:()=>Din,_toStr:()=>Oin,awsExpectUnion:()=>kin,emitWarningIfUnsupportedVersion:()=>px,getBearerTokenEnvKey:()=>t4,loadRestJsonErrorCode:()=>BE,loadRestXmlErrorCode:()=>Rme,parseJsonBody:()=>Sx,parseJsonErrorBody:()=>Sme,parseXmlBody:()=>Zk,parseXmlErrorBody:()=>Pme,resolveAWSSDKSigV4Config:()=>gEt,resolveAwsSdkSigV4AConfig:()=>mEt,resolveAwsSdkSigV4Config:()=>FE,setCredentialFeature:()=>x_,setFeature:()=>Jvt,setTokenFeature:()=>Yvt,state:()=>e4,validateSigningProperties:()=>hx});var So=_(()=>{dm();hme();KEt()});var vx=E((JNs,oCt)=>{"use strict";var f4=Object.defineProperty,$in=Object.getOwnPropertyDescriptor,zin=Object.getOwnPropertyNames,Hin=Object.prototype.hasOwnProperty,Dg=(e,t)=>f4(e,"name",{value:t,configurable:!0}),Vin=(e,t)=>{for(var r in t)f4(e,r,{get:t[r],enumerable:!0})},Gin=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zin(t))!Hin.call(e,s)&&s!==r&&f4(e,s,{get:()=>t[s],enumerable:!(n=$in(t,s))||n.enumerable});return e},Win=e=>Gin(f4({},"__esModule",{value:!0}),e),YEt={};Vin(YEt,{DEFAULT_UA_APP_ID:()=>ZEt,getUserAgentMiddlewareOptions:()=>iCt,getUserAgentPlugin:()=>ton,resolveUserAgentConfig:()=>tCt,userAgentMiddleware:()=>sCt});oCt.exports=Win(YEt);var Kin=(lt(),F(ui)),ZEt=void 0;function eCt(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Dg(eCt,"isValidUserAgentAppId");function tCt(e){let t=(0,Kin.normalizeProvider)(e.userAgentAppId??ZEt),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Dg(async()=>{let n=await t();if(!eCt(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Dg(tCt,"resolveUserAgentConfig");var Xin=fx(),Jin=Ge(),Af=(So(),F(wf)),Qin=/\d{12}\.ddb/;async function rCt(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Af.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,Af.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Af.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Af.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(Qin)&&(0,Af.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Af.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Af.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Af.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,Af.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,Af.setFeature)(e,o,a)}}Dg(rCt,"checkFeatures");var XEt="user-agent",Mme="x-amz-user-agent",JEt=" ",Lme="/",Yin=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Zin=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,QEt="-",eon=1024;function nCt(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=eon){t.length?t+=","+n:t+=n;continue}break}return t}Dg(nCt,"encodeFeatures");var sCt=Dg(e=>(t,r)=>async n=>{let{request:s}=n;if(!Jin.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(m4)||[],a=(await e.defaultUserAgentProvider()).map(m4);await rCt(r,e,n);let c=r;a.push(`m/${nCt(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(m4)||[],d=await e.userAgentAppId();d&&a.push(m4([`app/${d}`]));let u=(0,Xin.getUserAgentPrefix)(),m=(u?[u]:[]).concat([...a,...o,...l]).join(JEt),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(JEt);return e.runtime!=="browser"?(p&&(i[Mme]=i[Mme]?`${i[XEt]} ${p}`:p),i[XEt]=m):i[Mme]=m,t({...n,request:s})},"userAgentMiddleware"),m4=Dg(e=>{let t=e[0].split(Lme).map(o=>o.replace(Yin,QEt)).join(Lme),r=e[1]?.replace(Zin,QEt),n=t.indexOf(Lme),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),iCt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ton=Dg(e=>({applyToStack:Dg(t=>{t.add(sCt(e),iCt)},"applyToStack")}),"getUserAgentPlugin")});var lCt=E((QNs,cCt)=>{var p4=Object.defineProperty,ron=Object.getOwnPropertyDescriptor,non=Object.getOwnPropertyNames,son=Object.prototype.hasOwnProperty,ion=(e,t)=>p4(e,"name",{value:t,configurable:!0}),oon=(e,t)=>{for(var r in t)p4(e,r,{get:t[r],enumerable:!0})},aon=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of non(t))!son.call(e,s)&&s!==r&&p4(e,s,{get:()=>t[s],enumerable:!(n=ron(t,s))||n.enumerable});return e},con=e=>aon(p4({},"__esModule",{value:!0}),e),aCt={};oon(aCt,{resolveEventStreamSerdeConfig:()=>lon});cCt.exports=con(aCt);var lon=ion(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var h4=E((YNs,mCt)=>{"use strict";var g4=Object.defineProperty,don=Object.getOwnPropertyDescriptor,uon=Object.getOwnPropertyNames,mon=Object.prototype.hasOwnProperty,fon=(e,t)=>g4(e,"name",{value:t,configurable:!0}),pon=(e,t)=>{for(var r in t)g4(e,r,{get:t[r],enumerable:!0})},gon=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uon(t))!mon.call(e,s)&&s!==r&&g4(e,s,{get:()=>t[s],enumerable:!(n=don(t,s))||n.enumerable});return e},hon=e=>gon(g4({},"__esModule",{value:!0}),e),uCt={};pon(uCt,{SignatureV4MultiRegion:()=>_on,signatureV4CrtContainer:()=>rM});mCt.exports=hon(uCt);var yon=Ue(),dCt=Rh(),rM={CrtSignerV4:null},_on=class{static{fon(this,"SignatureV4MultiRegion")}sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof rM.CrtSignerV4=="function"?"crt":typeof dCt.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(e){this.sigv4Signer=new yon.SignatureV4S3Express(e),this.signerOptions=e}async sign(e,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(e,t):this.sigv4Signer.sign(e,t)}async signWithCredentials(e,t,r={}){if(r.signingRegion==="*"){let n=this.getSigv4aSigner(),s=rM.CrtSignerV4;if(s&&n instanceof s)return n.signWithCredentials(e,t,r);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(e,t,r)}async presign(e,t={}){if(t.signingRegion==="*"){let r=this.getSigv4aSigner(),n=rM.CrtSignerV4;if(n&&r instanceof n)return r.presign(e,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(e,t)}async presignWithCredentials(e,t,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=rM.CrtSignerV4,t=dCt.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!e&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(e&&typeof e=="function")this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}}});var qbt=E(A4=>{"use strict";Object.defineProperty(A4,"__esModule",{value:!0});A4.ruleSet=void 0;var ofe="required",I="type",X="rules",U="conditions",V="fn",G="argv",Ke="ref",wt="assign",Oe="url",Ne="properties",HE="backend",Ra="authSchemes",bo="disableDoubleEncoding",wo="signingName",uc="signingRegion",De="headers",afe="signingRegionSet",Son=6,von=!1,xf=!0,wl="isSet",wi="booleanEquals",Ie="error",E4="aws.partition",br="stringEquals",Hs="getAttr",bi="name",An="substring",fCt="bucketSuffix",cfe="parseURL",fe="endpoint",J="tree",C4="aws.isVirtualHostableS3Bucket",b4="{url#scheme}://{Bucket}.{url#authority}{url#path}",Tf="not",pCt="accessPointSuffix",v4="{url#scheme}://{url#authority}{url#path}",wbt="hardwareType",Abt="regionPrefix",gCt="bucketAliasSuffix",sfe="outpostId",VE="isValidHostLabel",lfe="sigv4a",oM="s3-outposts",Ax="s3",xbt="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Pbt="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",hCt="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Rbt="aws.parseArn",Tbt="bucketArn",Ibt="arnType",w4="",dfe="s3-object-lambda",Obt="accesspoint",ufe="accessPointName",yCt="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",_Ct="mrapPartition",SCt="outpostType",vCt="arnPrefix",Nbt="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",ECt="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",CCt="https://s3.{partitionResult#dnsSuffix}",Ex={[ofe]:!1,[I]:"String"},Cx={[ofe]:!0,default:!1,[I]:"Boolean"},nM={[ofe]:!1,[I]:"Boolean"},ru={[V]:wi,[G]:[{[Ke]:"Accelerate"},!0]},Hn={[V]:wi,[G]:[{[Ke]:"UseFIPS"},!0]},wn={[V]:wi,[G]:[{[Ke]:"UseDualStack"},!0]},Ci={[V]:wl,[G]:[{[Ke]:"Endpoint"}]},Dbt={[V]:E4,[G]:[{[Ke]:"Region"}],[wt]:"partitionResult"},bCt={[V]:br,[G]:[{[V]:Hs,[G]:[{[Ke]:"partitionResult"},bi]},"aws-cn"]},iM={[V]:wl,[G]:[{[Ke]:"Bucket"}]},Cr={[Ke]:"Bucket"},wCt={[U]:[wn],[Ie]:"S3Express does not support Dual-stack.",[I]:Ie},ACt={[U]:[ru],[Ie]:"S3Express does not support S3 Accelerate.",[I]:Ie},xCt={[U]:[Ci,{[V]:cfe,[G]:[{[Ke]:"Endpoint"}],[wt]:"url"}],[X]:[{[U]:[{[V]:wl,[G]:[{[Ke]:"DisableS3ExpressSessionAuth"}]},{[V]:wi,[G]:[{[Ke]:"DisableS3ExpressSessionAuth"},!0]}],[X]:[{[U]:[{[V]:wi,[G]:[{[V]:Hs,[G]:[{[Ke]:"url"},"isIp"]},!0]}],[X]:[{[U]:[{[V]:"uriEncode",[G]:[Cr],[wt]:"uri_encoded_bucket"}],[X]:[{[fe]:{[Oe]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Ne]:{[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:"s3express",[uc]:"{Region}"}]},[De]:{}},[I]:fe}],[I]:J}],[I]:J},{[U]:[{[V]:C4,[G]:[Cr,!1]}],[X]:[{[fe]:{[Oe]:b4,[Ne]:{[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:"s3express",[uc]:"{Region}"}]},[De]:{}},[I]:fe}],[I]:J},{[Ie]:"S3Express bucket name is not a valid virtual hostable name.",[I]:Ie}],[I]:J},{[U]:[{[V]:wi,[G]:[{[V]:Hs,[G]:[{[Ke]:"url"},"isIp"]},!0]}],[X]:[{[U]:[{[V]:"uriEncode",[G]:[Cr],[wt]:"uri_encoded_bucket"}],[X]:[{[fe]:{[Oe]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Ne]:{[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4-s3express",[wo]:"s3express",[uc]:"{Region}"}]},[De]:{}},[I]:fe}],[I]:J}],[I]:J},{[U]:[{[V]:C4,[G]:[Cr,!1]}],[X]:[{[fe]:{[Oe]:b4,[Ne]:{[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4-s3express",[wo]:"s3express",[uc]:"{Region}"}]},[De]:{}},[I]:fe}],[I]:J},{[Ie]:"S3Express bucket name is not a valid virtual hostable name.",[I]:Ie}],[I]:J},dc={[V]:cfe,[G]:[{[Ke]:"Endpoint"}],[wt]:"url"},Ume={[V]:wi,[G]:[{[V]:Hs,[G]:[{[Ke]:"url"},"isIp"]},!0]},kbt={[Ke]:"url"},Mbt={[V]:"uriEncode",[G]:[Cr],[wt]:"uri_encoded_bucket"},zE={[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:"s3express",[uc]:"{Region}"}]},_t={},Lbt={[V]:C4,[G]:[Cr,!1]},PCt={[Ie]:"S3Express bucket name is not a valid virtual hostable name.",[I]:Ie},RCt={[V]:wl,[G]:[{[Ke]:"UseS3ExpressControlEndpoint"}]},TCt={[V]:wi,[G]:[{[Ke]:"UseS3ExpressControlEndpoint"},!0]},St={[V]:Tf,[G]:[Ci]},y4={[Ie]:"Unrecognized S3Express bucket name format.",[I]:Ie},ICt={[V]:Tf,[G]:[iM]},OCt={[Ke]:wbt},NCt={[U]:[St],[Ie]:"Expected a endpoint to be specified but no endpoint was found",[I]:Ie},_4={[Ra]:[{[bo]:!0,[bi]:lfe,[wo]:oM,[afe]:["*"]},{[bo]:!0,[bi]:"sigv4",[wo]:oM,[uc]:"{Region}"}]},Fme={[V]:wi,[G]:[{[Ke]:"ForcePathStyle"},!1]},Eon={[Ke]:"ForcePathStyle"},$i={[V]:wi,[G]:[{[Ke]:"Accelerate"},!1]},eo={[V]:br,[G]:[{[Ke]:"Region"},"aws-global"]},vo={[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:Ax,[uc]:"us-east-1"}]},_r={[V]:Tf,[G]:[eo]},Eo={[V]:wi,[G]:[{[Ke]:"UseGlobalEndpoint"},!0]},DCt={[Oe]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ne]:{[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:Ax,[uc]:"{Region}"}]},[De]:{}},zi={[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:Ax,[uc]:"{Region}"}]},Co={[V]:wi,[G]:[{[Ke]:"UseGlobalEndpoint"},!1]},ur={[V]:wi,[G]:[{[Ke]:"UseDualStack"},!1]},kCt={[Oe]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},Ut={[V]:wi,[G]:[{[Ke]:"UseFIPS"},!1]},MCt={[Oe]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},LCt={[Oe]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},Bme={[V]:wi,[G]:[{[V]:Hs,[G]:[kbt,"isIp"]},!1]},qme={[Oe]:xbt,[Ne]:zi,[De]:{}},ife={[Oe]:b4,[Ne]:zi,[De]:{}},UCt={[fe]:ife,[I]:fe},jme={[Oe]:Pbt,[Ne]:zi,[De]:{}},FCt={[Oe]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},S4={[Ie]:"Invalid region: region was not a valid DNS name.",[I]:Ie},Fc={[Ke]:Tbt},Ubt={[Ke]:Ibt},$me={[V]:Hs,[G]:[Fc,"service"]},mfe={[Ke]:ufe},BCt={[U]:[wn],[Ie]:"S3 Object Lambda does not support Dual-stack",[I]:Ie},qCt={[U]:[ru],[Ie]:"S3 Object Lambda does not support S3 Accelerate",[I]:Ie},jCt={[U]:[{[V]:wl,[G]:[{[Ke]:"DisableAccessPoints"}]},{[V]:wi,[G]:[{[Ke]:"DisableAccessPoints"},!0]}],[Ie]:"Access points are not supported for this operation",[I]:Ie},zme={[U]:[{[V]:wl,[G]:[{[Ke]:"UseArnRegion"}]},{[V]:wi,[G]:[{[Ke]:"UseArnRegion"},!1]},{[V]:Tf,[G]:[{[V]:br,[G]:[{[V]:Hs,[G]:[Fc,"region"]},"{Region}"]}]}],[Ie]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[I]:Ie},Fbt={[V]:Hs,[G]:[{[Ke]:"bucketPartition"},bi]},Bbt={[V]:Hs,[G]:[Fc,"accountId"]},Hme={[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:dfe,[uc]:"{bucketArn#region}"}]},$Ct={[Ie]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[I]:Ie},Vme={[Ie]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[I]:Ie},Gme={[Ie]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[I]:Ie},Wme={[Ie]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[I]:Ie},zCt={[Ie]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[I]:Ie},HCt={[Ie]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[I]:Ie},sM={[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:Ax,[uc]:"{bucketArn#region}"}]},VCt={[Ra]:[{[bo]:!0,[bi]:lfe,[wo]:oM,[afe]:["*"]},{[bo]:!0,[bi]:"sigv4",[wo]:oM,[uc]:"{bucketArn#region}"}]},GCt={[V]:Rbt,[G]:[Cr]},WCt={[Oe]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:zi,[De]:{}},KCt={[Oe]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:zi,[De]:{}},XCt={[Oe]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:zi,[De]:{}},Kme={[Oe]:Nbt,[Ne]:zi,[De]:{}},JCt={[Oe]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:zi,[De]:{}},QCt={[Ke]:"UseObjectLambdaEndpoint"},Xme={[Ra]:[{[bo]:!0,[bi]:"sigv4",[wo]:dfe,[uc]:"{Region}"}]},YCt={[Oe]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},ZCt={[Oe]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},ebt={[Oe]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},Jme={[Oe]:v4,[Ne]:zi,[De]:{}},tbt={[Oe]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Ne]:zi,[De]:{}},Qme=[{[Ke]:"Region"}],Con=[{[Ke]:"Endpoint"}],bon=[Cr],rbt=[wn],Yme=[ru],bx=[Ci,dc],nbt=[{[V]:wl,[G]:[{[Ke]:"DisableS3ExpressSessionAuth"}]},{[V]:wi,[G]:[{[Ke]:"DisableS3ExpressSessionAuth"},!0]}],won=[Mbt],sbt=[Lbt],tu=[Dbt],wx=[Hn],ibt=[{[V]:An,[G]:[Cr,6,14,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,14,16,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],Pf=[{[U]:[Hn],[fe]:{[Oe]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Ne]:zE,[De]:{}},[I]:fe},{[fe]:{[Oe]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Ne]:zE,[De]:{}},[I]:fe}],obt=[{[V]:An,[G]:[Cr,6,15,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,15,17,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],abt=[{[V]:An,[G]:[Cr,6,19,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,19,21,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],cbt=[{[V]:An,[G]:[Cr,6,20,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,20,22,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],lbt=[{[V]:An,[G]:[Cr,6,26,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,26,28,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],Rf=[{[U]:[Hn],[fe]:{[Oe]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Ne]:{[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4-s3express",[wo]:"s3express",[uc]:"{Region}"}]},[De]:{}},[I]:fe},{[fe]:{[Oe]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Ne]:{[HE]:"S3Express",[Ra]:[{[bo]:!0,[bi]:"sigv4-s3express",[wo]:"s3express",[uc]:"{Region}"}]},[De]:{}},[I]:fe}],dbt=[Cr,0,7,!0],ubt=[{[V]:An,[G]:[Cr,7,15,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,15,17,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],mbt=[{[V]:An,[G]:[Cr,7,16,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,16,18,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],fbt=[{[V]:An,[G]:[Cr,7,20,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,20,22,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],pbt=[{[V]:An,[G]:[Cr,7,21,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,21,23,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],gbt=[{[V]:An,[G]:[Cr,7,27,!0],[wt]:"s3expressAvailabilityZoneId"},{[V]:An,[G]:[Cr,27,29,!0],[wt]:"s3expressAvailabilityZoneDelim"},{[V]:br,[G]:[{[Ke]:"s3expressAvailabilityZoneDelim"},"--"]}],Aon=[iM],hbt=[{[V]:VE,[G]:[{[Ke]:sfe},!1]}],ybt=[{[V]:br,[G]:[{[Ke]:Abt},"beta"]}],xon=["*"],_bt=[{[V]:VE,[G]:[{[Ke]:"Region"},!1]}],T_=[{[V]:br,[G]:[{[Ke]:"Region"},"us-east-1"]}],Zme=[{[V]:br,[G]:[Ubt,Obt]}],Sbt=[{[V]:Hs,[G]:[Fc,"resourceId[1]"],[wt]:ufe},{[V]:Tf,[G]:[{[V]:br,[G]:[mfe,w4]}]}],Pon=[Fc,"resourceId[1]"],efe=[{[V]:Tf,[G]:[{[V]:br,[G]:[{[V]:Hs,[G]:[Fc,"region"]},w4]}]}],vbt=[{[V]:Tf,[G]:[{[V]:wl,[G]:[{[V]:Hs,[G]:[Fc,"resourceId[2]"]}]}]}],Ron=[Fc,"resourceId[2]"],tfe=[{[V]:E4,[G]:[{[V]:Hs,[G]:[Fc,"region"]}],[wt]:"bucketPartition"}],Ebt=[{[V]:br,[G]:[Fbt,{[V]:Hs,[G]:[{[Ke]:"partitionResult"},bi]}]}],rfe=[{[V]:VE,[G]:[{[V]:Hs,[G]:[Fc,"region"]},!0]}],nfe=[{[V]:VE,[G]:[Bbt,!1]}],Cbt=[{[V]:VE,[G]:[mfe,!1]}],bbt=[{[V]:VE,[G]:[{[Ke]:"Region"},!0]}],Ton={version:"1.0",parameters:{Bucket:Ex,Region:Ex,UseFIPS:Cx,UseDualStack:Cx,Endpoint:Ex,ForcePathStyle:Cx,Accelerate:Cx,UseGlobalEndpoint:Cx,UseObjectLambdaEndpoint:nM,Key:Ex,Prefix:Ex,CopySource:Ex,DisableAccessPoints:nM,DisableMultiRegionAccessPoints:Cx,UseArnRegion:nM,UseS3ExpressControlEndpoint:nM,DisableS3ExpressSessionAuth:nM},[X]:[{[U]:[{[V]:wl,[G]:Qme}],[X]:[{[U]:[ru,Hn],error:"Accelerate cannot be used with FIPS",[I]:Ie},{[U]:[wn,Ci],error:"Cannot set dual-stack in combination with a custom endpoint.",[I]:Ie},{[U]:[Ci,Hn],error:"A custom endpoint cannot be combined with FIPS",[I]:Ie},{[U]:[Ci,ru],error:"A custom endpoint cannot be combined with S3 Accelerate",[I]:Ie},{[U]:[Hn,Dbt,bCt],error:"Partition does not support FIPS",[I]:Ie},{[U]:[iM,{[V]:An,[G]:[Cr,0,Son,xf],[wt]:fCt},{[V]:br,[G]:[{[Ke]:fCt},"--x-s3"]}],[X]:[wCt,ACt,xCt,{[U]:[RCt,TCt],[X]:[{[U]:tu,[X]:[{[U]:[Mbt,St],[X]:[{[U]:wx,endpoint:{[Oe]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:zE,[De]:_t},[I]:fe},{endpoint:{[Oe]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:zE,[De]:_t},[I]:fe}],[I]:J}],[I]:J}],[I]:J},{[U]:sbt,[X]:[{[U]:tu,[X]:[{[U]:nbt,[X]:[{[U]:ibt,[X]:Pf,[I]:J},{[U]:obt,[X]:Pf,[I]:J},{[U]:abt,[X]:Pf,[I]:J},{[U]:cbt,[X]:Pf,[I]:J},{[U]:lbt,[X]:Pf,[I]:J},y4],[I]:J},{[U]:ibt,[X]:Rf,[I]:J},{[U]:obt,[X]:Rf,[I]:J},{[U]:abt,[X]:Rf,[I]:J},{[U]:cbt,[X]:Rf,[I]:J},{[U]:lbt,[X]:Rf,[I]:J},y4],[I]:J}],[I]:J},PCt],[I]:J},{[U]:[iM,{[V]:An,[G]:dbt,[wt]:pCt},{[V]:br,[G]:[{[Ke]:pCt},"--xa-s3"]}],[X]:[wCt,ACt,xCt,{[U]:sbt,[X]:[{[U]:tu,[X]:[{[U]:nbt,[X]:[{[U]:ubt,[X]:Pf,[I]:J},{[U]:mbt,[X]:Pf,[I]:J},{[U]:fbt,[X]:Pf,[I]:J},{[U]:pbt,[X]:Pf,[I]:J},{[U]:gbt,[X]:Pf,[I]:J},y4],[I]:J},{[U]:ubt,[X]:Rf,[I]:J},{[U]:mbt,[X]:Rf,[I]:J},{[U]:fbt,[X]:Rf,[I]:J},{[U]:pbt,[X]:Rf,[I]:J},{[U]:gbt,[X]:Rf,[I]:J},y4],[I]:J}],[I]:J},PCt],[I]:J},{[U]:[ICt,RCt,TCt],[X]:[{[U]:tu,[X]:[{[U]:bx,endpoint:{[Oe]:v4,[Ne]:zE,[De]:_t},[I]:fe},{[U]:wx,endpoint:{[Oe]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Ne]:zE,[De]:_t},[I]:fe},{endpoint:{[Oe]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Ne]:zE,[De]:_t},[I]:fe}],[I]:J}],[I]:J},{[U]:[iM,{[V]:An,[G]:[Cr,49,50,xf],[wt]:wbt},{[V]:An,[G]:[Cr,8,12,xf],[wt]:Abt},{[V]:An,[G]:dbt,[wt]:gCt},{[V]:An,[G]:[Cr,32,49,xf],[wt]:sfe},{[V]:E4,[G]:Qme,[wt]:"regionPartition"},{[V]:br,[G]:[{[Ke]:gCt},"--op-s3"]}],[X]:[{[U]:hbt,[X]:[{[U]:[{[V]:br,[G]:[OCt,"e"]}],[X]:[{[U]:ybt,[X]:[NCt,{[U]:bx,endpoint:{[Oe]:"https://{Bucket}.ec2.{url#authority}",[Ne]:_4,[De]:_t},[I]:fe}],[I]:J},{endpoint:{[Oe]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Ne]:_4,[De]:_t},[I]:fe}],[I]:J},{[U]:[{[V]:br,[G]:[OCt,"o"]}],[X]:[{[U]:ybt,[X]:[NCt,{[U]:bx,endpoint:{[Oe]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Ne]:_4,[De]:_t},[I]:fe}],[I]:J},{endpoint:{[Oe]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Ne]:_4,[De]:_t},[I]:fe}],[I]:J},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[I]:Ie}],[I]:J},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[I]:Ie}],[I]:J},{[U]:Aon,[X]:[{[U]:[Ci,{[V]:Tf,[G]:[{[V]:wl,[G]:[{[V]:cfe,[G]:Con}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[I]:Ie},{[U]:[Fme,Lbt],[X]:[{[U]:tu,[X]:[{[U]:_bt,[X]:[{[U]:[ru,bCt],error:"S3 Accelerate cannot be used in this region",[I]:Ie},{[U]:[wn,Hn,$i,St,eo],endpoint:{[Oe]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[wn,Hn,$i,St,_r,Eo],[X]:[{endpoint:DCt,[I]:fe}],[I]:J},{[U]:[wn,Hn,$i,St,_r,Co],endpoint:DCt,[I]:fe},{[U]:[ur,Hn,$i,St,eo],endpoint:{[Oe]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,Hn,$i,St,_r,Eo],[X]:[{endpoint:kCt,[I]:fe}],[I]:J},{[U]:[ur,Hn,$i,St,_r,Co],endpoint:kCt,[I]:fe},{[U]:[wn,Ut,ru,St,eo],endpoint:{[Oe]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[wn,Ut,ru,St,_r,Eo],[X]:[{endpoint:MCt,[I]:fe}],[I]:J},{[U]:[wn,Ut,ru,St,_r,Co],endpoint:MCt,[I]:fe},{[U]:[wn,Ut,$i,St,eo],endpoint:{[Oe]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[wn,Ut,$i,St,_r,Eo],[X]:[{endpoint:LCt,[I]:fe}],[I]:J},{[U]:[wn,Ut,$i,St,_r,Co],endpoint:LCt,[I]:fe},{[U]:[ur,Ut,$i,Ci,dc,Ume,eo],endpoint:{[Oe]:xbt,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,Ut,$i,Ci,dc,Bme,eo],endpoint:{[Oe]:b4,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,Ut,$i,Ci,dc,Ume,_r,Eo],[X]:[{[U]:T_,endpoint:qme,[I]:fe},{endpoint:qme,[I]:fe}],[I]:J},{[U]:[ur,Ut,$i,Ci,dc,Bme,_r,Eo],[X]:[{[U]:T_,endpoint:ife,[I]:fe},UCt],[I]:J},{[U]:[ur,Ut,$i,Ci,dc,Ume,_r,Co],endpoint:qme,[I]:fe},{[U]:[ur,Ut,$i,Ci,dc,Bme,_r,Co],endpoint:ife,[I]:fe},{[U]:[ur,Ut,ru,St,eo],endpoint:{[Oe]:Pbt,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,Ut,ru,St,_r,Eo],[X]:[{[U]:T_,endpoint:jme,[I]:fe},{endpoint:jme,[I]:fe}],[I]:J},{[U]:[ur,Ut,ru,St,_r,Co],endpoint:jme,[I]:fe},{[U]:[ur,Ut,$i,St,eo],endpoint:{[Oe]:hCt,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,Ut,$i,St,_r,Eo],[X]:[{[U]:T_,endpoint:{[Oe]:hCt,[Ne]:zi,[De]:_t},[I]:fe},{endpoint:FCt,[I]:fe}],[I]:J},{[U]:[ur,Ut,$i,St,_r,Co],endpoint:FCt,[I]:fe}],[I]:J},S4],[I]:J}],[I]:J},{[U]:[Ci,dc,{[V]:br,[G]:[{[V]:Hs,[G]:[kbt,"scheme"]},"http"]},{[V]:C4,[G]:[Cr,xf]},Fme,Ut,ur,$i],[X]:[{[U]:tu,[X]:[{[U]:_bt,[X]:[UCt],[I]:J},S4],[I]:J}],[I]:J},{[U]:[Fme,{[V]:Rbt,[G]:bon,[wt]:Tbt}],[X]:[{[U]:[{[V]:Hs,[G]:[Fc,"resourceId[0]"],[wt]:Ibt},{[V]:Tf,[G]:[{[V]:br,[G]:[Ubt,w4]}]}],[X]:[{[U]:[{[V]:br,[G]:[$me,dfe]}],[X]:[{[U]:Zme,[X]:[{[U]:Sbt,[X]:[BCt,qCt,{[U]:efe,[X]:[jCt,{[U]:vbt,[X]:[zme,{[U]:tfe,[X]:[{[U]:tu,[X]:[{[U]:Ebt,[X]:[{[U]:rfe,[X]:[{[U]:[{[V]:br,[G]:[Bbt,w4]}],error:"Invalid ARN: Missing account id",[I]:Ie},{[U]:nfe,[X]:[{[U]:Cbt,[X]:[{[U]:bx,endpoint:{[Oe]:yCt,[Ne]:Hme,[De]:_t},[I]:fe},{[U]:wx,endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:Hme,[De]:_t},[I]:fe},{endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:Hme,[De]:_t},[I]:fe}],[I]:J},$Ct],[I]:J},Vme],[I]:J},Gme],[I]:J},Wme],[I]:J}],[I]:J}],[I]:J},zCt],[I]:J},{error:"Invalid ARN: bucket ARN is missing a region",[I]:Ie}],[I]:J},HCt],[I]:J},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[I]:Ie}],[I]:J},{[U]:Zme,[X]:[{[U]:Sbt,[X]:[{[U]:efe,[X]:[{[U]:Zme,[X]:[{[U]:efe,[X]:[jCt,{[U]:vbt,[X]:[zme,{[U]:tfe,[X]:[{[U]:tu,[X]:[{[U]:[{[V]:br,[G]:[Fbt,"{partitionResult#name}"]}],[X]:[{[U]:rfe,[X]:[{[U]:[{[V]:br,[G]:[$me,Ax]}],[X]:[{[U]:nfe,[X]:[{[U]:Cbt,[X]:[{[U]:Yme,error:"Access Points do not support S3 Accelerate",[I]:Ie},{[U]:[Hn,wn],endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:sM,[De]:_t},[I]:fe},{[U]:[Hn,ur],endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:sM,[De]:_t},[I]:fe},{[U]:[Ut,wn],endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:sM,[De]:_t},[I]:fe},{[U]:[Ut,ur,Ci,dc],endpoint:{[Oe]:yCt,[Ne]:sM,[De]:_t},[I]:fe},{[U]:[Ut,ur],endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:sM,[De]:_t},[I]:fe}],[I]:J},$Ct],[I]:J},Vme],[I]:J},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[I]:Ie}],[I]:J},Gme],[I]:J},Wme],[I]:J}],[I]:J}],[I]:J},zCt],[I]:J}],[I]:J}],[I]:J},{[U]:[{[V]:VE,[G]:[mfe,xf]}],[X]:[{[U]:rbt,error:"S3 MRAP does not support dual-stack",[I]:Ie},{[U]:wx,error:"S3 MRAP does not support FIPS",[I]:Ie},{[U]:Yme,error:"S3 MRAP does not support S3 Accelerate",[I]:Ie},{[U]:[{[V]:wi,[G]:[{[Ke]:"DisableMultiRegionAccessPoints"},xf]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[I]:Ie},{[U]:[{[V]:E4,[G]:Qme,[wt]:_Ct}],[X]:[{[U]:[{[V]:br,[G]:[{[V]:Hs,[G]:[{[Ke]:_Ct},bi]},{[V]:Hs,[G]:[Fc,"partition"]}]}],[X]:[{endpoint:{[Oe]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Ne]:{[Ra]:[{[bo]:xf,name:lfe,[wo]:Ax,[afe]:xon}]},[De]:_t},[I]:fe}],[I]:J},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[I]:Ie}],[I]:J}],[I]:J},{error:"Invalid Access Point Name",[I]:Ie}],[I]:J},HCt],[I]:J},{[U]:[{[V]:br,[G]:[$me,oM]}],[X]:[{[U]:rbt,error:"S3 Outposts does not support Dual-stack",[I]:Ie},{[U]:wx,error:"S3 Outposts does not support FIPS",[I]:Ie},{[U]:Yme,error:"S3 Outposts does not support S3 Accelerate",[I]:Ie},{[U]:[{[V]:wl,[G]:[{[V]:Hs,[G]:[Fc,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[I]:Ie},{[U]:[{[V]:Hs,[G]:Pon,[wt]:sfe}],[X]:[{[U]:hbt,[X]:[zme,{[U]:tfe,[X]:[{[U]:tu,[X]:[{[U]:Ebt,[X]:[{[U]:rfe,[X]:[{[U]:nfe,[X]:[{[U]:[{[V]:Hs,[G]:Ron,[wt]:SCt}],[X]:[{[U]:[{[V]:Hs,[G]:[Fc,"resourceId[3]"],[wt]:ufe}],[X]:[{[U]:[{[V]:br,[G]:[{[Ke]:SCt},Obt]}],[X]:[{[U]:bx,endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Ne]:VCt,[De]:_t},[I]:fe},{endpoint:{[Oe]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ne]:VCt,[De]:_t},[I]:fe}],[I]:J},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[I]:Ie}],[I]:J},{error:"Invalid ARN: expected an access point name",[I]:Ie}],[I]:J},{error:"Invalid ARN: Expected a 4-component resource",[I]:Ie}],[I]:J},Vme],[I]:J},Gme],[I]:J},Wme],[I]:J}],[I]:J}],[I]:J},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[I]:Ie}],[I]:J},{error:"Invalid ARN: The Outpost Id was not set",[I]:Ie}],[I]:J},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[I]:Ie}],[I]:J},{error:"Invalid ARN: No ARN type specified",[I]:Ie}],[I]:J},{[U]:[{[V]:An,[G]:[Cr,0,4,von],[wt]:vCt},{[V]:br,[G]:[{[Ke]:vCt},"arn:"]},{[V]:Tf,[G]:[{[V]:wl,[G]:[GCt]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[I]:Ie},{[U]:[{[V]:wi,[G]:[Eon,xf]},GCt],error:"Path-style addressing cannot be used with ARN buckets",[I]:Ie},{[U]:won,[X]:[{[U]:tu,[X]:[{[U]:[$i],[X]:[{[U]:[wn,St,Hn,eo],endpoint:{[Oe]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[wn,St,Hn,_r,Eo],[X]:[{endpoint:WCt,[I]:fe}],[I]:J},{[U]:[wn,St,Hn,_r,Co],endpoint:WCt,[I]:fe},{[U]:[ur,St,Hn,eo],endpoint:{[Oe]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,St,Hn,_r,Eo],[X]:[{endpoint:KCt,[I]:fe}],[I]:J},{[U]:[ur,St,Hn,_r,Co],endpoint:KCt,[I]:fe},{[U]:[wn,St,Ut,eo],endpoint:{[Oe]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[wn,St,Ut,_r,Eo],[X]:[{endpoint:XCt,[I]:fe}],[I]:J},{[U]:[wn,St,Ut,_r,Co],endpoint:XCt,[I]:fe},{[U]:[ur,Ci,dc,Ut,eo],endpoint:{[Oe]:Nbt,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,Ci,dc,Ut,_r,Eo],[X]:[{[U]:T_,endpoint:Kme,[I]:fe},{endpoint:Kme,[I]:fe}],[I]:J},{[U]:[ur,Ci,dc,Ut,_r,Co],endpoint:Kme,[I]:fe},{[U]:[ur,St,Ut,eo],endpoint:{[Oe]:ECt,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[ur,St,Ut,_r,Eo],[X]:[{[U]:T_,endpoint:{[Oe]:ECt,[Ne]:zi,[De]:_t},[I]:fe},{endpoint:JCt,[I]:fe}],[I]:J},{[U]:[ur,St,Ut,_r,Co],endpoint:JCt,[I]:fe}],[I]:J},{error:"Path-style addressing cannot be used with S3 Accelerate",[I]:Ie}],[I]:J}],[I]:J}],[I]:J},{[U]:[{[V]:wl,[G]:[QCt]},{[V]:wi,[G]:[QCt,xf]}],[X]:[{[U]:tu,[X]:[{[U]:bbt,[X]:[BCt,qCt,{[U]:bx,endpoint:{[Oe]:v4,[Ne]:Xme,[De]:_t},[I]:fe},{[U]:wx,endpoint:{[Oe]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Ne]:Xme,[De]:_t},[I]:fe},{endpoint:{[Oe]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Ne]:Xme,[De]:_t},[I]:fe}],[I]:J},S4],[I]:J}],[I]:J},{[U]:[ICt],[X]:[{[U]:tu,[X]:[{[U]:bbt,[X]:[{[U]:[Hn,wn,St,eo],endpoint:{[Oe]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[Hn,wn,St,_r,Eo],[X]:[{endpoint:YCt,[I]:fe}],[I]:J},{[U]:[Hn,wn,St,_r,Co],endpoint:YCt,[I]:fe},{[U]:[Hn,ur,St,eo],endpoint:{[Oe]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[Hn,ur,St,_r,Eo],[X]:[{endpoint:ZCt,[I]:fe}],[I]:J},{[U]:[Hn,ur,St,_r,Co],endpoint:ZCt,[I]:fe},{[U]:[Ut,wn,St,eo],endpoint:{[Oe]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ne]:vo,[De]:_t},[I]:fe},{[U]:[Ut,wn,St,_r,Eo],[X]:[{endpoint:ebt,[I]:fe}],[I]:J},{[U]:[Ut,wn,St,_r,Co],endpoint:ebt,[I]:fe},{[U]:[Ut,ur,Ci,dc,eo],endpoint:{[Oe]:v4,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[Ut,ur,Ci,dc,_r,Eo],[X]:[{[U]:T_,endpoint:Jme,[I]:fe},{endpoint:Jme,[I]:fe}],[I]:J},{[U]:[Ut,ur,Ci,dc,_r,Co],endpoint:Jme,[I]:fe},{[U]:[Ut,ur,St,eo],endpoint:{[Oe]:CCt,[Ne]:vo,[De]:_t},[I]:fe},{[U]:[Ut,ur,St,_r,Eo],[X]:[{[U]:T_,endpoint:{[Oe]:CCt,[Ne]:zi,[De]:_t},[I]:fe},{endpoint:tbt,[I]:fe}],[I]:J},{[U]:[Ut,ur,St,_r,Co],endpoint:tbt,[I]:fe}],[I]:J},S4],[I]:J}],[I]:J}],[I]:J},{error:"A region must be set when sending requests to S3.",[I]:Ie}]};A4.ruleSet=Ton});var pfe=E(x4=>{"use strict";Object.defineProperty(x4,"__esModule",{value:!0});x4.defaultEndpointResolver=void 0;var Ion=fx(),ffe=ra(),Oon=qbt(),Non=new ffe.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Don=(e,t={})=>Non.get(e,()=>(0,ffe.resolveEndpoint)(Oon.ruleSet,{endpointParams:e,logger:t.logger}));x4.defaultEndpointResolver=Don;ffe.customEndpointFunctions.aws=Ion.awsEndpointFunctions});var gfe=E(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.resolveHttpAuthSchemeConfig=I_.defaultS3HttpAuthSchemeProvider=I_.defaultS3HttpAuthSchemeParametersProvider=void 0;var jbt=(So(),F(wf)),kon=h4(),Mon=us(),P4=Jn(),Lon=pfe(),Uon=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(t,r,n),i=(0,P4.getSmithyContext)(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let o=await(0,Mon.resolveParams)(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,o)},Fon=async(e,t,r)=>({operation:(0,P4.getSmithyContext)(t).operation,region:await(0,P4.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});I_.defaultS3HttpAuthSchemeParametersProvider=Uon(Fon);function $bt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function zbt(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Bon=(e,t,r)=>s=>{let o=e(s).properties?.authSchemes;if(!o)return t(s);let a=[];for(let c of o){let{name:l,properties:d={},...u}=c,m=l.toLowerCase();l!==m&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${l}\` to \`${m}\``);let p;if(m==="sigv4a"){p="aws.auth#sigv4a";let b=o.find(w=>{let A=w.name.toLowerCase();return A!=="sigv4a"&&A.startsWith("sigv4")});if(kon.SignatureV4MultiRegion.sigv4aDependency()==="none"&&b)continue}else if(m.startsWith("sigv4"))p="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${m}\``);let g=r[p];if(!g)throw new Error(`Could not find HttpAuthOption create function for \`${p}\``);let y=g(s);y.schemeId=p,y.signingProperties={...y.signingProperties||{},...u,...d},a.push(y)}return a},qon=e=>{let t=[];switch(e.operation){default:t.push($bt(e)),t.push(zbt(e))}return t};I_.defaultS3HttpAuthSchemeProvider=Bon(Lon.defaultEndpointResolver,qon,{"aws.auth#sigv4":$bt,"aws.auth#sigv4a":zbt});var jon=e=>{let t=(0,jbt.resolveAwsSdkSigV4Config)(e),r=(0,jbt.resolveAwsSdkSigV4AConfig)(t);return Object.assign(r,{authSchemePreference:(0,P4.normalizeProvider)(e.authSchemePreference??[])})};I_.resolveHttpAuthSchemeConfig=jon});var Hbt=E((nDs,$on)=>{$on.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.892.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/credential-provider-node":"3.891.0","@aws-sdk/middleware-bucket-endpoint":"3.890.0","@aws-sdk/middleware-expect-continue":"3.891.0","@aws-sdk/middleware-flexible-checksums":"3.892.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-location-constraint":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-sdk-s3":"3.891.0","@aws-sdk/middleware-ssec":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/signature-v4-multi-region":"3.891.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@aws-sdk/xml-builder":"3.887.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/eventstream-serde-browser":"^4.1.1","@smithy/eventstream-serde-config-resolver":"^4.2.1","@smithy/eventstream-serde-node":"^4.1.1","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-blob-browser":"^4.1.1","@smithy/hash-node":"^4.1.1","@smithy/hash-stream-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/md5-js":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-stream":"^4.3.1","@smithy/util-utf8":"^4.1.0","@smithy/util-waiter":"^4.1.1","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.891.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var hfe=E((sDs,Ybt)=>{"use strict";var R4=Object.defineProperty,zon=Object.getOwnPropertyDescriptor,Hon=Object.getOwnPropertyNames,Von=Object.prototype.hasOwnProperty,Gon=(e,t)=>R4(e,"name",{value:t,configurable:!0}),Won=(e,t)=>{for(var r in t)R4(e,r,{get:t[r],enumerable:!0})},Kon=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Hon(t))!Von.call(e,s)&&s!==r&&R4(e,s,{get:()=>t[s],enumerable:!(n=zon(t,s))||n.enumerable});return e},Xon=e=>Kon(R4({},"__esModule",{value:!0}),e),Vbt={};Won(Vbt,{ENV_ACCOUNT_ID:()=>Qbt,ENV_CREDENTIAL_SCOPE:()=>Jbt,ENV_EXPIRATION:()=>Xbt,ENV_KEY:()=>Gbt,ENV_SECRET:()=>Wbt,ENV_SESSION:()=>Kbt,fromEnv:()=>Yon});Ybt.exports=Xon(Vbt);var Jon=(dm(),F(P_)),Qon=qt(),Gbt="AWS_ACCESS_KEY_ID",Wbt="AWS_SECRET_ACCESS_KEY",Kbt="AWS_SESSION_TOKEN",Xbt="AWS_CREDENTIAL_EXPIRATION",Jbt="AWS_CREDENTIAL_SCOPE",Qbt="AWS_ACCOUNT_ID",Yon=Gon(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Gbt],r=process.env[Wbt],n=process.env[Kbt],s=process.env[Xbt],i=process.env[Jbt],o=process.env[Qbt];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,Jon.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Qon.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Zbt=E(T4=>{"use strict";Object.defineProperty(T4,"__esModule",{value:!0});T4.checkUrl=void 0;var Zon=qt(),ean="169.254.170.2",tan="169.254.170.23",ran="[fd00:ec2::23]",nan=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===ean||e.hostname===tan||e.hostname===ran)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Zon.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};T4.checkUrl=nan});var ewt=E(I4=>{"use strict";Object.defineProperty(I4,"__esModule",{value:!0});I4.createGetRequest=aan;I4.getCredentials=can;var yfe=qt(),san=Ge(),ian=K(),oan=sp();function aan(e){return new san.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function can(e,t){let n=await(0,oan.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new yfe.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,ian.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new yfe.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new yfe.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var twt=E(O4=>{"use strict";Object.defineProperty(O4,"__esModule",{value:!0});O4.retryWrapper=void 0;var lan=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};O4.retryWrapper=lan});var swt=E(N4=>{"use strict";Object.defineProperty(N4,"__esModule",{value:!0});N4.fromHttp=void 0;var dan=(Ga(),F(Va)),uan=(dm(),F(P_)),man=Oo(),rwt=qt(),fan=dan.__importDefault(require("fs/promises")),pan=Zbt(),nwt=ewt(),gan=twt(),han="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",yan="http://169.254.170.2",_an="AWS_CONTAINER_CREDENTIALS_FULL_URI",San="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",van="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ean=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[han],n=e.awsContainerCredentialsFullUri??process.env[_an],s=e.awsContainerAuthorizationToken??process.env[van],i=e.awsContainerAuthorizationTokenFile??process.env[San],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${yan}${r}`;else throw new rwt.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,pan.checkUrl)(a,e.logger);let c=man.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,gan.retryWrapper)(async()=>{let l=(0,nwt.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await fan.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,nwt.getCredentials)(d.response).then(u=>(0,uan.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new rwt.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};N4.fromHttp=Ean});var _fe=E(D4=>{"use strict";Object.defineProperty(D4,"__esModule",{value:!0});D4.fromHttp=void 0;var Can=swt();Object.defineProperty(D4,"fromHttp",{enumerable:!0,get:function(){return Can.fromHttp}})});var vfe=E(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.resolveHttpAuthSchemeConfig=O_.defaultSSOHttpAuthSchemeProvider=O_.defaultSSOHttpAuthSchemeParametersProvider=void 0;var ban=(So(),F(wf)),Sfe=Jn(),wan=async(e,t,r)=>({operation:(0,Sfe.getSmithyContext)(t).operation,region:await(0,Sfe.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});O_.defaultSSOHttpAuthSchemeParametersProvider=wan;function Aan(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function k4(e){return{schemeId:"smithy.api#noAuth"}}var xan=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(k4(e));break}case"ListAccountRoles":{t.push(k4(e));break}case"ListAccounts":{t.push(k4(e));break}case"Logout":{t.push(k4(e));break}default:t.push(Aan(e))}return t};O_.defaultSSOHttpAuthSchemeProvider=xan;var Pan=e=>{let t=(0,ban.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Sfe.normalizeProvider)(e.authSchemePreference??[])})};O_.resolveHttpAuthSchemeConfig=Pan});var iwt=E((uDs,Ran)=>{Ran.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.891.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var aM=E((mDs,mwt)=>{"use strict";var L4=Object.defineProperty,Tan=Object.getOwnPropertyDescriptor,Ian=Object.getOwnPropertyNames,Oan=Object.prototype.hasOwnProperty,M4=(e,t)=>L4(e,"name",{value:t,configurable:!0}),Nan=(e,t)=>{for(var r in t)L4(e,r,{get:t[r],enumerable:!0})},Dan=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ian(t))!Oan.call(e,s)&&s!==r&&L4(e,s,{get:()=>t[s],enumerable:!(n=Tan(t,s))||n.enumerable});return e},kan=e=>Dan(L4({},"__esModule",{value:!0}),e),awt={};Nan(awt,{NODE_APP_ID_CONFIG_OPTIONS:()=>Ban,UA_APP_ID_ENV_NAME:()=>dwt,UA_APP_ID_INI_NAME:()=>uwt,createDefaultUserAgentProvider:()=>lwt,crtAvailability:()=>cwt,defaultUserAgent:()=>Lan});mwt.exports=kan(awt);var owt=require("os"),Efe=require("process"),cwt={isCrtAvailable:!1},Man=M4(()=>cwt.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),lwt=M4(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,owt.platform)()}`,(0,owt.release)()],["lang/js"],["md/nodejs",`${Efe.versions.node}`]],s=Man();s&&n.push(s),e&&n.push([`api/${e}`,t]),Efe.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Efe.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),Lan=lwt,Uan=vx(),dwt="AWS_SDK_UA_APP_ID",uwt="sdk_ua_app_id",Fan="sdk-ua-app-id",Ban={environmentVariableSelector:M4(e=>e[dwt],"environmentVariableSelector"),configFileSelector:M4(e=>e[uwt]??e[Fan],"configFileSelector"),default:Uan.DEFAULT_UA_APP_ID}});var Pwt=E(U4=>{"use strict";Object.defineProperty(U4,"__esModule",{value:!0});U4.ruleSet=void 0;var bwt="required",su="fn",iu="argv",Rx="ref",fwt=!0,pwt="isSet",cM="booleanEquals",xx="error",Px="endpoint",kg="tree",Cfe="PartitionResult",bfe="getAttr",gwt={[bwt]:!1,type:"String"},hwt={[bwt]:!0,default:!1,type:"Boolean"},ywt={[Rx]:"Endpoint"},wwt={[su]:cM,[iu]:[{[Rx]:"UseFIPS"},!0]},Awt={[su]:cM,[iu]:[{[Rx]:"UseDualStack"},!0]},nu={},_wt={[su]:bfe,[iu]:[{[Rx]:Cfe},"supportsFIPS"]},xwt={[Rx]:Cfe},Swt={[su]:cM,[iu]:[!0,{[su]:bfe,[iu]:[xwt,"supportsDualStack"]}]},vwt=[wwt],Ewt=[Awt],Cwt=[{[Rx]:"Region"}],qan={version:"1.0",parameters:{Region:gwt,UseDualStack:hwt,UseFIPS:hwt,Endpoint:gwt},rules:[{conditions:[{[su]:pwt,[iu]:[ywt]}],rules:[{conditions:vwt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xx},{conditions:Ewt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xx},{endpoint:{url:ywt,properties:nu,headers:nu},type:Px}],type:kg},{conditions:[{[su]:pwt,[iu]:Cwt}],rules:[{conditions:[{[su]:"aws.partition",[iu]:Cwt,assign:Cfe}],rules:[{conditions:[wwt,Awt],rules:[{conditions:[{[su]:cM,[iu]:[fwt,_wt]},Swt],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nu,headers:nu},type:Px}],type:kg},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xx}],type:kg},{conditions:vwt,rules:[{conditions:[{[su]:cM,[iu]:[_wt,fwt]}],rules:[{conditions:[{[su]:"stringEquals",[iu]:[{[su]:bfe,[iu]:[xwt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:nu,headers:nu},type:Px},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nu,headers:nu},type:Px}],type:kg},{error:"FIPS is enabled but this partition does not support FIPS",type:xx}],type:kg},{conditions:Ewt,rules:[{conditions:[Swt],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nu,headers:nu},type:Px}],type:kg},{error:"DualStack is enabled but this partition does not support DualStack",type:xx}],type:kg},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:nu,headers:nu},type:Px}],type:kg}],type:kg},{error:"Invalid Configuration: Missing Region",type:xx}]};U4.ruleSet=qan});var Rwt=E(F4=>{"use strict";Object.defineProperty(F4,"__esModule",{value:!0});F4.defaultEndpointResolver=void 0;var jan=fx(),wfe=ra(),$an=Pwt(),zan=new wfe.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Han=(e,t={})=>zan.get(e,()=>(0,wfe.resolveEndpoint)($an.ruleSet,{endpointParams:e,logger:t.logger}));F4.defaultEndpointResolver=Han;wfe.customEndpointFunctions.aws=jan.awsEndpointFunctions});var Owt=E(B4=>{"use strict";Object.defineProperty(B4,"__esModule",{value:!0});B4.getRuntimeConfig=void 0;var Van=(So(),F(wf)),Gan=(lt(),F(ui)),Wan=K(),Kan=oo(),Twt=Mt(),Iwt=kt(),Xan=vfe(),Jan=Rwt(),Qan=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Twt.fromBase64,base64Encoder:e?.base64Encoder??Twt.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Jan.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Xan.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Van.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Gan.NoAuthSigner}],logger:e?.logger??new Wan.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Kan.parseUrl,utf8Decoder:e?.utf8Decoder??Iwt.fromUtf8,utf8Encoder:e?.utf8Encoder??Iwt.toUtf8});B4.getRuntimeConfig=Qan});var Lwt=E(j4=>{"use strict";Object.defineProperty(j4,"__esModule",{value:!0});j4.getRuntimeConfig=void 0;var Yan=(Ga(),F(Va)),Zan=Yan.__importDefault(iwt()),Nwt=(So(),F(wf)),Dwt=aM(),q4=Ln(),ecn=cl(),kwt=Yn(),GE=sa(),Mwt=Oo(),tcn=ll(),rcn=vc(),ncn=Owt(),scn=K(),icn=dl(),ocn=K(),acn=e=>{(0,ocn.emitWarningIfUnsupportedVersion)(process.version);let t=(0,icn.resolveDefaultsModeConfig)(e),r=()=>t().then(scn.loadConfigsForDefaultMode),n=(0,ncn.getRuntimeConfig)(e);(0,Nwt.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,GE.loadConfig)(Nwt.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??tcn.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Dwt.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Zan.default.version}),maxAttempts:e?.maxAttempts??(0,GE.loadConfig)(kwt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,GE.loadConfig)(q4.NODE_REGION_CONFIG_OPTIONS,{...q4.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Mwt.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,GE.loadConfig)({...kwt.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||rcn.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??ecn.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Mwt.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,GE.loadConfig)(q4.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,GE.loadConfig)(q4.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,GE.loadConfig)(Dwt.NODE_APP_ID_CONFIG_OPTIONS,s)}};j4.getRuntimeConfig=acn});var lM=E((yDs,$wt)=>{"use strict";var $4=Object.defineProperty,ccn=Object.getOwnPropertyDescriptor,lcn=Object.getOwnPropertyNames,dcn=Object.prototype.hasOwnProperty,If=(e,t)=>$4(e,"name",{value:t,configurable:!0}),ucn=(e,t)=>{for(var r in t)$4(e,r,{get:t[r],enumerable:!0})},mcn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lcn(t))!dcn.call(e,s)&&s!==r&&$4(e,s,{get:()=>t[s],enumerable:!(n=ccn(t,s))||n.enumerable});return e},fcn=e=>mcn($4({},"__esModule",{value:!0}),e),Fwt={};ucn(Fwt,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>ycn,NODE_REGION_CONFIG_OPTIONS:()=>hcn,REGION_ENV_NAME:()=>Bwt,REGION_INI_NAME:()=>qwt,getAwsRegionExtensionConfiguration:()=>pcn,resolveAwsRegionExtensionConfiguration:()=>gcn,resolveRegionConfig:()=>_cn});$wt.exports=fcn(Fwt);var pcn=If(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),gcn=If(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Bwt="AWS_REGION",qwt="region",hcn={environmentVariableSelector:If(e=>e[Bwt],"environmentVariableSelector"),configFileSelector:If(e=>e[qwt],"configFileSelector"),default:If(()=>{throw new Error("Region is missing")},"default")},ycn={preferredFile:"credentials"},jwt=If(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Uwt=If(e=>jwt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),_cn=If(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:If(async()=>{if(typeof t=="string")return Uwt(t);let n=await t();return Uwt(n)},"region"),useFipsEndpoint:If(async()=>{let n=typeof t=="string"?t:await t();return jwt(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var E0t=E((_Ds,v0t)=>{"use strict";var z4=Object.defineProperty,Scn=Object.getOwnPropertyDescriptor,vcn=Object.getOwnPropertyNames,Ecn=Object.prototype.hasOwnProperty,Sr=(e,t)=>z4(e,"name",{value:t,configurable:!0}),Ccn=(e,t)=>{for(var r in t)z4(e,r,{get:t[r],enumerable:!0})},bcn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vcn(t))!Ecn.call(e,s)&&s!==r&&z4(e,s,{get:()=>t[s],enumerable:!(n=Scn(t,s))||n.enumerable});return e},wcn=e=>bcn(z4({},"__esModule",{value:!0}),e),Xwt={};Ccn(Xwt,{GetRoleCredentialsCommand:()=>y0t,GetRoleCredentialsRequestFilterSensitiveLog:()=>i0t,GetRoleCredentialsResponseFilterSensitiveLog:()=>a0t,InvalidRequestException:()=>Qwt,ListAccountRolesCommand:()=>Afe,ListAccountRolesRequestFilterSensitiveLog:()=>c0t,ListAccountsCommand:()=>xfe,ListAccountsRequestFilterSensitiveLog:()=>l0t,LogoutCommand:()=>_0t,LogoutRequestFilterSensitiveLog:()=>d0t,ResourceNotFoundException:()=>Zwt,RoleCredentialsFilterSensitiveLog:()=>o0t,SSO:()=>S0t,SSOClient:()=>V4,SSOServiceException:()=>Tx,TooManyRequestsException:()=>t0t,UnauthorizedException:()=>n0t,__Client:()=>$e.Client,paginateListAccountRoles:()=>Jcn,paginateListAccounts:()=>Qcn});v0t.exports=wcn(Xwt);var zwt=kk(),Acn=Mk(),xcn=Lk(),Hwt=vx(),Pcn=Ln(),Mg=(lt(),F(ui)),Rcn=il(),uM=us(),Vwt=Yn(),Gwt=vfe(),Tcn=Sr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),H4={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Icn=Lwt(),Wwt=lM(),Kwt=Ge(),$e=K(),Ocn=Sr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Ncn=Sr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Dcn=Sr((e,t)=>{let r=Object.assign((0,Wwt.getAwsRegionExtensionConfiguration)(e),(0,$e.getDefaultExtensionConfiguration)(e),(0,Kwt.getHttpHandlerExtensionConfiguration)(e),Ocn(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Wwt.resolveAwsRegionExtensionConfiguration)(r),(0,$e.resolveDefaultRuntimeConfig)(r),(0,Kwt.resolveHttpHandlerRuntimeConfig)(r),Ncn(r))},"resolveRuntimeExtensions"),V4=class extends $e.Client{static{Sr(this,"SSOClient")}config;constructor(...[e]){let t=(0,Icn.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Tcn(t),n=(0,Hwt.resolveUserAgentConfig)(r),s=(0,Vwt.resolveRetryConfig)(n),i=(0,Pcn.resolveRegionConfig)(s),o=(0,zwt.resolveHostHeaderConfig)(i),a=(0,uM.resolveEndpointConfig)(o),c=(0,Gwt.resolveHttpAuthSchemeConfig)(a),l=Dcn(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,Hwt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Vwt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Rcn.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,zwt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Acn.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,xcn.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Mg.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Gwt.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:Sr(async d=>new Mg.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Mg.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},G4=io(),Tx=class Jwt extends $e.ServiceException{static{Sr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Jwt.prototype)}},Qwt=class Ywt extends Tx{static{Sr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,Ywt.prototype)}},Zwt=class e0t extends Tx{static{Sr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e0t.prototype)}},t0t=class r0t extends Tx{static{Sr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,r0t.prototype)}},n0t=class s0t extends Tx{static{Sr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,s0t.prototype)}},i0t=Sr(e=>({...e,...e.accessToken&&{accessToken:$e.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),o0t=Sr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:$e.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:$e.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),a0t=Sr(e=>({...e,...e.roleCredentials&&{roleCredentials:o0t(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),c0t=Sr(e=>({...e,...e.accessToken&&{accessToken:$e.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),l0t=Sr(e=>({...e,...e.accessToken&&{accessToken:$e.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),d0t=Sr(e=>({...e,...e.accessToken&&{accessToken:$e.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),dM=(So(),F(wf)),kcn=Sr(async(e,t)=>{let r=(0,Mg.requestBuilder)(e,t),n=(0,$e.map)({},$e.isSerializableHeaderValue,{[X4]:e[K4]});r.bp("/federation/credentials");let s=(0,$e.map)({[Kcn]:[,(0,$e.expectNonNull)(e[Wcn],"roleName")],[m0t]:[,(0,$e.expectNonNull)(e[u0t],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Mcn=Sr(async(e,t)=>{let r=(0,Mg.requestBuilder)(e,t),n=(0,$e.map)({},$e.isSerializableHeaderValue,{[X4]:e[K4]});r.bp("/assignment/roles");let s=(0,$e.map)({[h0t]:[,e[g0t]],[p0t]:[()=>e.maxResults!==void 0,()=>e[f0t].toString()],[m0t]:[,(0,$e.expectNonNull)(e[u0t],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),Lcn=Sr(async(e,t)=>{let r=(0,Mg.requestBuilder)(e,t),n=(0,$e.map)({},$e.isSerializableHeaderValue,{[X4]:e[K4]});r.bp("/assignment/accounts");let s=(0,$e.map)({[h0t]:[,e[g0t]],[p0t]:[()=>e.maxResults!==void 0,()=>e[f0t].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),Ucn=Sr(async(e,t)=>{let r=(0,Mg.requestBuilder)(e,t),n=(0,$e.map)({},$e.isSerializableHeaderValue,{[X4]:e[K4]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Fcn=Sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return W4(e,t);let r=(0,$e.map)({$metadata:N_(e)}),n=(0,$e.expectNonNull)((0,$e.expectObject)(await(0,dM.parseJsonBody)(e.body,t)),"body"),s=(0,$e.take)(n,{roleCredentials:$e._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),Bcn=Sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return W4(e,t);let r=(0,$e.map)({$metadata:N_(e)}),n=(0,$e.expectNonNull)((0,$e.expectObject)(await(0,dM.parseJsonBody)(e.body,t)),"body"),s=(0,$e.take)(n,{nextToken:$e.expectString,roleList:$e._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),qcn=Sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return W4(e,t);let r=(0,$e.map)({$metadata:N_(e)}),n=(0,$e.expectNonNull)((0,$e.expectObject)(await(0,dM.parseJsonBody)(e.body,t)),"body"),s=(0,$e.take)(n,{accountList:$e._json,nextToken:$e.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),jcn=Sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return W4(e,t);let r=(0,$e.map)({$metadata:N_(e)});return await(0,$e.collectBody)(e.body,t),r},"de_LogoutCommand"),W4=Sr(async(e,t)=>{let r={...e,body:await(0,dM.parseJsonErrorBody)(e.body,t)},n=(0,dM.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await zcn(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Hcn(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Vcn(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Gcn(r,t);default:let s=r.body;return $cn({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),$cn=(0,$e.withBaseException)(Tx),zcn=Sr(async(e,t)=>{let r=(0,$e.map)({}),n=e.body,s=(0,$e.take)(n,{message:$e.expectString});Object.assign(r,s);let i=new Qwt({$metadata:N_(e),...r});return(0,$e.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),Hcn=Sr(async(e,t)=>{let r=(0,$e.map)({}),n=e.body,s=(0,$e.take)(n,{message:$e.expectString});Object.assign(r,s);let i=new Zwt({$metadata:N_(e),...r});return(0,$e.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),Vcn=Sr(async(e,t)=>{let r=(0,$e.map)({}),n=e.body,s=(0,$e.take)(n,{message:$e.expectString});Object.assign(r,s);let i=new t0t({$metadata:N_(e),...r});return(0,$e.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),Gcn=Sr(async(e,t)=>{let r=(0,$e.map)({}),n=e.body,s=(0,$e.take)(n,{message:$e.expectString});Object.assign(r,s);let i=new n0t({$metadata:N_(e),...r});return(0,$e.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),N_=Sr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),u0t="accountId",K4="accessToken",m0t="account_id",f0t="maxResults",p0t="max_result",g0t="nextToken",h0t="next_token",Wcn="roleName",Kcn="role_name",X4="x-amz-sso_bearer_token",y0t=class extends $e.Command.classBuilder().ep(H4).m(function(e,t,r,n){return[(0,G4.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uM.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(i0t,a0t).ser(kcn).de(Fcn).build(){static{Sr(this,"GetRoleCredentialsCommand")}},Afe=class extends $e.Command.classBuilder().ep(H4).m(function(e,t,r,n){return[(0,G4.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uM.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(c0t,void 0).ser(Mcn).de(Bcn).build(){static{Sr(this,"ListAccountRolesCommand")}},xfe=class extends $e.Command.classBuilder().ep(H4).m(function(e,t,r,n){return[(0,G4.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uM.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(l0t,void 0).ser(Lcn).de(qcn).build(){static{Sr(this,"ListAccountsCommand")}},_0t=class extends $e.Command.classBuilder().ep(H4).m(function(e,t,r,n){return[(0,G4.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uM.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(d0t,void 0).ser(Ucn).de(jcn).build(){static{Sr(this,"LogoutCommand")}},Xcn={GetRoleCredentialsCommand:y0t,ListAccountRolesCommand:Afe,ListAccountsCommand:xfe,LogoutCommand:_0t},S0t=class extends V4{static{Sr(this,"SSO")}};(0,$e.createAggregatedClient)(Xcn,S0t);var Jcn=(0,Mg.createPaginator)(V4,Afe,"nextToken","nextToken","maxResults"),Qcn=(0,Mg.createPaginator)(V4,xfe,"nextToken","nextToken","maxResults")});function Ycn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Zcn(e){return{schemeId:"smithy.api#noAuth"}}var mM,C0t,b0t,w0t,Pfe=_(()=>{So();mM=C(Jn()),C0t=async(e,t,r)=>({operation:(0,mM.getSmithyContext)(t).operation,region:await(0,mM.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});b0t=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(Zcn(e));break}default:t.push(Ycn(e))}return t},w0t=e=>{let t=FE(e);return Object.assign(t,{authSchemePreference:(0,mM.normalizeProvider)(e.authSchemePreference??[])})}});var A0t,x0t,Rfe=_(()=>{A0t=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),x0t={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var J4,Tfe=_(()=>{J4={name:"@aws-sdk/nested-clients",version:"3.891.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var L0t,au,cu,Nx,P0t,fM,Ix,Ox,Lg,Ife,Ofe,R0t,T0t,I0t,U0t,F0t,ou,O0t,B0t,N0t,D0t,k0t,M0t,tln,q0t,j0t=_(()=>{L0t="required",au="fn",cu="argv",Nx="ref",P0t="isSet",fM="booleanEquals",Ix="error",Ox="endpoint",Lg="tree",Ife="PartitionResult",Ofe="getAttr",R0t={[L0t]:!1,type:"String"},T0t={[L0t]:!0,default:!1,type:"Boolean"},I0t={[Nx]:"Endpoint"},U0t={[au]:fM,[cu]:[{[Nx]:"UseFIPS"},!0]},F0t={[au]:fM,[cu]:[{[Nx]:"UseDualStack"},!0]},ou={},O0t={[au]:Ofe,[cu]:[{[Nx]:Ife},"supportsFIPS"]},B0t={[Nx]:Ife},N0t={[au]:fM,[cu]:[!0,{[au]:Ofe,[cu]:[B0t,"supportsDualStack"]}]},D0t=[U0t],k0t=[F0t],M0t=[{[Nx]:"Region"}],tln={version:"1.0",parameters:{Region:R0t,UseDualStack:T0t,UseFIPS:T0t,Endpoint:R0t},rules:[{conditions:[{[au]:P0t,[cu]:[I0t]}],rules:[{conditions:D0t,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ix},{conditions:k0t,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ix},{endpoint:{url:I0t,properties:ou,headers:ou},type:Ox}],type:Lg},{conditions:[{[au]:P0t,[cu]:M0t}],rules:[{conditions:[{[au]:"aws.partition",[cu]:M0t,assign:Ife}],rules:[{conditions:[U0t,F0t],rules:[{conditions:[{[au]:fM,[cu]:[!0,O0t]},N0t],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ou,headers:ou},type:Ox}],type:Lg},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ix}],type:Lg},{conditions:D0t,rules:[{conditions:[{[au]:fM,[cu]:[O0t,!0]}],rules:[{conditions:[{[au]:"stringEquals",[cu]:[{[au]:Ofe,[cu]:[B0t,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:ou,headers:ou},type:Ox},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ou,headers:ou},type:Ox}],type:Lg},{error:"FIPS is enabled but this partition does not support FIPS",type:Ix}],type:Lg},{conditions:k0t,rules:[{conditions:[N0t],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ou,headers:ou},type:Ox}],type:Lg},{error:"DualStack is enabled but this partition does not support DualStack",type:Ix}],type:Lg},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:ou,headers:ou},type:Ox}],type:Lg}],type:Lg},{error:"Invalid Configuration: Missing Region",type:Ix}]},q0t=tln});var $0t,Dx,rln,z0t,H0t=_(()=>{$0t=C(fx()),Dx=C(ra());j0t();rln=new Dx.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),z0t=(e,t={})=>rln.get(e,()=>(0,Dx.resolveEndpoint)(q0t,{endpointParams:e,logger:t.logger}));Dx.customEndpointFunctions.aws=$0t.awsEndpointFunctions});var V0t,G0t,Q4,Y4,W0t,K0t=_(()=>{So();lt();V0t=C(K()),G0t=C(oo()),Q4=C(Mt()),Y4=C(kt());Pfe();H0t();W0t=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Q4.fromBase64,base64Encoder:e?.base64Encoder??Q4.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??z0t,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??b0t,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Uc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],logger:e?.logger??new V0t.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??G0t.parseUrl,utf8Decoder:e?.utf8Decoder??Y4.fromUtf8,utf8Encoder:e?.utf8Encoder??Y4.toUtf8})});var Z4,k_,X0t,eW,D_,tW,J0t,Q0t,Y0t,Z0t,eAt,tAt,rAt=_(()=>{Tfe();So();Z4=C(aM()),k_=C(Ln()),X0t=C(cl()),eW=C(Yn()),D_=C(sa()),tW=C(Oo()),J0t=C(ll()),Q0t=C(vc());K0t();Y0t=C(K()),Z0t=C(dl()),eAt=C(K()),tAt=e=>{(0,eAt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Z0t.resolveDefaultsModeConfig)(e),r=()=>t().then(Y0t.loadConfigsForDefaultMode),n=W0t(e);px(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,D_.loadConfig)(yx,s),bodyLengthChecker:e?.bodyLengthChecker??J0t.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Z4.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:J4.version}),maxAttempts:e?.maxAttempts??(0,D_.loadConfig)(eW.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,D_.loadConfig)(k_.NODE_REGION_CONFIG_OPTIONS,{...k_.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:tW.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,D_.loadConfig)({...eW.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Q0t.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??X0t.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tW.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,D_.loadConfig)(k_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,D_.loadConfig)(k_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,D_.loadConfig)(Z4.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var nAt,sAt,iAt=_(()=>{nAt=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},sAt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var rW,nW,sW,oAt,aAt=_(()=>{rW=C(lM()),nW=C(Ge()),sW=C(K());iAt();oAt=(e,t)=>{let r=Object.assign((0,rW.getAwsRegionExtensionConfiguration)(e),(0,sW.getDefaultExtensionConfiguration)(e),(0,nW.getHttpHandlerExtensionConfiguration)(e),nAt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,rW.resolveAwsRegionExtensionConfiguration)(r),(0,sW.resolveDefaultRuntimeConfig)(r),(0,nW.resolveHttpHandlerRuntimeConfig)(r),sAt(r))}});var iW,cAt,lAt,oW,dAt,uAt,mAt,aW,Nfe,pM,Dfe=_(()=>{iW=C(kk()),cAt=C(Mk()),lAt=C(Lk()),oW=C(vx()),dAt=C(Ln());lt();uAt=C(il()),mAt=C(us()),aW=C(Yn()),Nfe=C(K());Pfe();Rfe();rAt();aAt();pM=class extends Nfe.Client{config;constructor(...[t]){let r=tAt(t||{});super(r),this.initConfig=r;let n=A0t(r),s=(0,oW.resolveUserAgentConfig)(n),i=(0,aW.resolveRetryConfig)(s),o=(0,dAt.resolveRegionConfig)(i),a=(0,iW.resolveHostHeaderConfig)(o),c=(0,mAt.resolveEndpointConfig)(a),l=w0t(c),d=oAt(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,oW.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,aW.getRetryPlugin)(this.config)),this.middlewareStack.use((0,uAt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,iW.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,cAt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,lAt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Zc(this.config,{httpAuthSchemeParametersProvider:C0t,identityProviderConfigProvider:async u=>new za({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(el(this.config))}destroy(){super.destroy()}}});var fAt,Ao,cW=_(()=>{fAt=C(K()),Ao=class e extends fAt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var WE,gM,hM,kfe,Mfe,yM,_M,SM,vM,EM,CM,bM,wM,AM,lW=_(()=>{WE=C(K());cW();gM=class e extends Ao{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},hM=class e extends Ao{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},kfe=e=>({...e,...e.clientSecret&&{clientSecret:WE.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:WE.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:WE.SENSITIVE_STRING}}),Mfe=e=>({...e,...e.accessToken&&{accessToken:WE.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:WE.SENSITIVE_STRING},...e.idToken&&{idToken:WE.SENSITIVE_STRING}}),yM=class e extends Ao{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_M=class e extends Ao{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},SM=class e extends Ao{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vM=class e extends Ao{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},EM=class e extends Ao{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},CM=class e extends Ao{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bM=class e extends Ao{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wM=class e extends Ao{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},AM=class e extends Ao{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var Ae,pAt,gAt,nln,sln,iln,oln,aln,cln,lln,dln,uln,mln,fln,pln,gln,lu,hAt=_(()=>{So();lt();Ae=C(K());lW();cW();pAt=async(e,t)=>{let r=ap(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,Ae.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,Ae._json)(i)})),r.m("POST").h(n).b(s),r.build()},gAt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return nln(e,t);let r=(0,Ae.map)({$metadata:lu(e)}),n=(0,Ae.expectNonNull)((0,Ae.expectObject)(await Sx(e.body,t)),"body"),s=(0,Ae.take)(n,{accessToken:Ae.expectString,expiresIn:Ae.expectInt32,idToken:Ae.expectString,refreshToken:Ae.expectString,tokenType:Ae.expectString});return Object.assign(r,s),r},nln=async(e,t)=>{let r={...e,body:await Sme(e.body,t)},n=BE(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await iln(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await oln(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await aln(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await cln(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await lln(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await dln(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await uln(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await mln(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await fln(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await pln(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await gln(r,t);default:let s=r.body;return sln({output:e,parsedBody:s,errorCode:n})}},sln=(0,Ae.withBaseException)(Ao),iln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new gM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},oln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new hM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},aln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new yM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},cln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new _M({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},lln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new SM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},dln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new vM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},uln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new EM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},mln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new CM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},fln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new bM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},pln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new wM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},gln=async(e,t)=>{let r=(0,Ae.map)({}),n=e.body,s=(0,Ae.take)(n,{error:Ae.expectString,error_description:Ae.expectString});Object.assign(r,s);let i=new AM({$metadata:lu(e),...r});return(0,Ae.decorateServiceException)(i,e.body)},lu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var yAt,_At,Lfe,xM,Ufe=_(()=>{yAt=C(us()),_At=C(io()),Lfe=C(K());Rfe();lW();hAt();xM=class extends Lfe.Command.classBuilder().ep(x0t).m(function(t,r,n,s){return[(0,_At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,yAt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(kfe,Mfe).ser(pAt).de(gAt).build(){}});var SAt,hln,dW,vAt=_(()=>{SAt=C(K());Ufe();Dfe();hln={CreateTokenCommand:xM},dW=class extends pM{};(0,SAt.createAggregatedClient)(hln,dW)});var EAt=_(()=>{Ufe()});var CAt=_(()=>{lW()});var Ffe={};ct(Ffe,{$Command:()=>Lfe.Command,AccessDeniedException:()=>gM,AuthorizationPendingException:()=>hM,CreateTokenCommand:()=>xM,CreateTokenRequestFilterSensitiveLog:()=>kfe,CreateTokenResponseFilterSensitiveLog:()=>Mfe,ExpiredTokenException:()=>yM,InternalServerException:()=>_M,InvalidClientException:()=>SM,InvalidGrantException:()=>vM,InvalidRequestException:()=>EM,InvalidScopeException:()=>CM,SSOOIDC:()=>dW,SSOOIDCClient:()=>pM,SSOOIDCServiceException:()=>Ao,SlowDownException:()=>bM,UnauthorizedClientException:()=>wM,UnsupportedGrantTypeException:()=>AM,__Client:()=>Nfe.Client});var Bfe=_(()=>{Dfe();vAt();EAt();CAt();cW()});var IAt=E((vks,TAt)=>{"use strict";var yln=Object.create,RM=Object.defineProperty,_ln=Object.getOwnPropertyDescriptor,Sln=Object.getOwnPropertyNames,vln=Object.getPrototypeOf,Eln=Object.prototype.hasOwnProperty,Ug=(e,t)=>RM(e,"name",{value:t,configurable:!0}),Cln=(e,t)=>{for(var r in t)RM(e,r,{get:t[r],enumerable:!0})},AAt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Sln(t))!Eln.call(e,s)&&s!==r&&RM(e,s,{get:()=>t[s],enumerable:!(n=_ln(t,s))||n.enumerable});return e},xAt=(e,t,r)=>(r=e!=null?yln(vln(e)):{},AAt(t||!e||!e.__esModule?RM(r,"default",{value:e,enumerable:!0}):r,e)),bln=e=>AAt(RM({},"__esModule",{value:!0}),e),PAt={};Cln(PAt,{fromEnvSigningName:()=>xln,fromSso:()=>RAt,fromStatic:()=>Dln,nodeProvider:()=>kln});TAt.exports=bln(PAt);var wln=(dm(),F(P_)),Aln=(hme(),F(_Et)),Al=qt(),xln=Ug(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Al.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Aln.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Al.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,wln.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),Pln=5*60*1e3,qfe="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Rln=Ug(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>xAt((Bfe(),F(Ffe))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),Tln=Ug(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>xAt((Bfe(),F(Ffe))));return(await Rln(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),bAt=Ug(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Al.TokenProviderError(`Token is expired. ${qfe}`,!1)},"validateTokenExpiry"),KE=Ug((e,t,r=!1)=>{if(typeof t>"u")throw new Al.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${qfe}`,!1)},"validateTokenKey"),PM=Ki(),Iln=require("fs"),{writeFile:Oln}=Iln.promises,Nln=Ug((e,t)=>{let r=(0,PM.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return Oln(r,n)},"writeSSOTokenToFile"),wAt=new Date(0),RAt=Ug((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,PM.parseKnownFiles)(r),s=(0,PM.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new Al.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Al.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,PM.loadSsoSessionData)(r))[o];if(!c)throw new Al.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new Al.TokenProviderError(`Sso session '${o}' is missing required property '${y}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,PM.getSSOTokenFromFile)(o)}catch{throw new Al.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${qfe}`,!1)}KE("accessToken",u.accessToken),KE("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:p}=u,g={token:m,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>Pln)return g;if(Date.now()-wAt.getTime()<30*1e3)return bAt(g),g;KE("clientId",u.clientId,!0),KE("clientSecret",u.clientSecret,!0),KE("refreshToken",u.refreshToken,!0);try{wAt.setTime(Date.now());let y=await Tln(u,d,r);KE("accessToken",y.accessToken),KE("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await Nln(o,{...u,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return bAt(g),g}},"fromSso"),Dln=Ug(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Al.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),kln=Ug((e={})=>(0,Al.memoize)((0,Al.chain)(RAt(e),async()=>{throw new Al.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var $fe=E((Eks,BAt)=>{"use strict";var mW=Object.defineProperty,Mln=Object.getOwnPropertyDescriptor,DAt=Object.getOwnPropertyNames,Lln=Object.prototype.hasOwnProperty,fW=(e,t)=>mW(e,"name",{value:t,configurable:!0}),Uln=(e,t)=>function(){return e&&(t=(0,e[DAt(e)[0]])(e=0)),t},kAt=(e,t)=>{for(var r in t)mW(e,r,{get:t[r],enumerable:!0})},Fln=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of DAt(t))!Lln.call(e,s)&&s!==r&&mW(e,s,{get:()=>t[s],enumerable:!(n=Mln(t,s))||n.enumerable});return e},Bln=e=>Fln(mW({},"__esModule",{value:!0}),e),MAt={};kAt(MAt,{GetRoleCredentialsCommand:()=>jfe.GetRoleCredentialsCommand,SSOClient:()=>jfe.SSOClient});var jfe,qln=Uln({"src/loadSso.ts"(){"use strict";jfe=E0t()}}),LAt={};kAt(LAt,{fromSSO:()=>$ln,isSsoProfile:()=>UAt,validateSsoProfile:()=>FAt});BAt.exports=Bln(LAt);var UAt=fW(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),OAt=(dm(),F(P_)),jln=IAt(),um=qt(),uW=Ki(),TM=!1,NAt=fW(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,filepath:l,configFilepath:d,ignoreCache:u,logger:m})=>{let p,g="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Re=await(0,jln.fromSso)({profile:c,filepath:l,configFilepath:d,ignoreCache:u})();p={accessToken:Re.token,expiresAt:new Date(Re.expiration).toISOString()}}catch(Re){throw new um.CredentialsProviderError(Re.message,{tryNextLink:TM,logger:m})}else try{p=await(0,uW.getSSOTokenFromFile)(e)}catch{throw new um.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${g}`,{tryNextLink:TM,logger:m})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new um.CredentialsProviderError(`The SSO session associated with this profile has expired. ${g}`,{tryNextLink:TM,logger:m});let{accessToken:y}=p,{SSOClient:b,GetRoleCredentialsCommand:w}=await Promise.resolve().then(()=>(qln(),MAt)),A=i||new b(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),O;try{O=await A.send(new w({accountId:r,roleName:s,accessToken:y}))}catch(Re){throw new um.CredentialsProviderError(Re,{tryNextLink:TM,logger:m})}let{roleCredentials:{accessKeyId:T,secretAccessKey:k,sessionToken:z,expiration:oe,credentialScope:Q,accountId:_e}={}}=O;if(!T||!k||!z||!oe)throw new um.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:TM,logger:m});let ye={accessKeyId:T,secretAccessKey:k,sessionToken:z,expiration:new Date(oe),...Q&&{credentialScope:Q},..._e&&{accountId:_e}};return t?(0,OAt.setCredentialFeature)(ye,"CREDENTIALS_SSO","s"):(0,OAt.setCredentialFeature)(ye,"CREDENTIALS_SSO_LEGACY","u"),ye},"resolveSSOCredentials"),FAt=fW((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new um.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),$ln=fW((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,uW.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,uW.parseKnownFiles)(e))[c];if(!d)throw new um.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!UAt(d))throw new um.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let w=(await(0,uW.loadSsoSessionData)(e))[d.sso_session],A=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==w.sso_region)throw new um.CredentialsProviderError("Conflicting SSO region"+A,{tryNextLink:!1,logger:e.logger});if(r&&r!==w.sso_start_url)throw new um.CredentialsProviderError("Conflicting SSO start_url"+A,{tryNextLink:!1,logger:e.logger});d.sso_region=w.sso_region,d.sso_start_url=w.sso_start_url}let{sso_start_url:u,sso_account_id:m,sso_region:p,sso_role_name:g,sso_session:y}=FAt(d,e.logger);return NAt({ssoStartUrl:u,ssoSession:y,ssoAccountId:m,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new um.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return NAt({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}},"fromSSO")});function zln(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Hln(e){return{schemeId:"smithy.api#noAuth"}}var IM,qAt,jAt,Vln,$At,zfe=_(()=>{So();IM=C(Jn());OM();qAt=async(e,t,r)=>({operation:(0,IM.getSmithyContext)(t).operation,region:await(0,IM.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jAt=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(Hln(e));break}default:t.push(zln(e))}return t},Vln=e=>Object.assign(e,{stsClientCtor:Of}),$At=e=>{let t=Vln(e),r=FE(t);return Object.assign(r,{authSchemePreference:(0,IM.normalizeProvider)(e.authSchemePreference??[])})}});var zAt,pW,gW=_(()=>{zAt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),pW={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ext,Ot,Fr,Br,L_,M_,Vo,txt,rxt,nxt,Cs,HAt,Nf,kx,Vfe,VAt,Hfe,sxt,GAt,Go,WAt,ixt,oxt,Ta,xl,KAt,axt,cxt,XAt,lxt,JAt,QAt,YAt,ZAt,Gln,dxt,uxt=_(()=>{ext="required",Ot="type",Fr="fn",Br="argv",L_="ref",M_="booleanEquals",Vo="stringEquals",txt="sigv4",rxt="sts",nxt="us-east-1",Cs="endpoint",HAt="https://sts.{Region}.{PartitionResult#dnsSuffix}",Nf="tree",kx="error",Vfe="getAttr",VAt={[ext]:!1,[Ot]:"String"},Hfe={[ext]:!0,default:!1,[Ot]:"Boolean"},sxt={[L_]:"Endpoint"},GAt={[Fr]:"isSet",[Br]:[{[L_]:"Region"}]},Go={[L_]:"Region"},WAt={[Fr]:"aws.partition",[Br]:[Go],assign:"PartitionResult"},ixt={[L_]:"UseFIPS"},oxt={[L_]:"UseDualStack"},Ta={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:txt,signingName:rxt,signingRegion:nxt}]},headers:{}},xl={},KAt={conditions:[{[Fr]:Vo,[Br]:[Go,"aws-global"]}],[Cs]:Ta,[Ot]:Cs},axt={[Fr]:M_,[Br]:[ixt,!0]},cxt={[Fr]:M_,[Br]:[oxt,!0]},XAt={[Fr]:Vfe,[Br]:[{[L_]:"PartitionResult"},"supportsFIPS"]},lxt={[L_]:"PartitionResult"},JAt={[Fr]:M_,[Br]:[!0,{[Fr]:Vfe,[Br]:[lxt,"supportsDualStack"]}]},QAt=[{[Fr]:"isSet",[Br]:[sxt]}],YAt=[axt],ZAt=[cxt],Gln={version:"1.0",parameters:{Region:VAt,UseDualStack:Hfe,UseFIPS:Hfe,Endpoint:VAt,UseGlobalEndpoint:Hfe},rules:[{conditions:[{[Fr]:M_,[Br]:[{[L_]:"UseGlobalEndpoint"},!0]},{[Fr]:"not",[Br]:QAt},GAt,WAt,{[Fr]:M_,[Br]:[ixt,!1]},{[Fr]:M_,[Br]:[oxt,!1]}],rules:[{conditions:[{[Fr]:Vo,[Br]:[Go,"ap-northeast-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"ap-south-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"ap-southeast-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"ap-southeast-2"]}],endpoint:Ta,[Ot]:Cs},KAt,{conditions:[{[Fr]:Vo,[Br]:[Go,"ca-central-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"eu-central-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"eu-north-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"eu-west-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"eu-west-2"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"eu-west-3"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"sa-east-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,nxt]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"us-east-2"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"us-west-1"]}],endpoint:Ta,[Ot]:Cs},{conditions:[{[Fr]:Vo,[Br]:[Go,"us-west-2"]}],endpoint:Ta,[Ot]:Cs},{endpoint:{url:HAt,properties:{authSchemes:[{name:txt,signingName:rxt,signingRegion:"{Region}"}]},headers:xl},[Ot]:Cs}],[Ot]:Nf},{conditions:QAt,rules:[{conditions:YAt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ot]:kx},{conditions:ZAt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ot]:kx},{endpoint:{url:sxt,properties:xl,headers:xl},[Ot]:Cs}],[Ot]:Nf},{conditions:[GAt],rules:[{conditions:[WAt],rules:[{conditions:[axt,cxt],rules:[{conditions:[{[Fr]:M_,[Br]:[!0,XAt]},JAt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xl,headers:xl},[Ot]:Cs}],[Ot]:Nf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ot]:kx}],[Ot]:Nf},{conditions:YAt,rules:[{conditions:[{[Fr]:M_,[Br]:[XAt,!0]}],rules:[{conditions:[{[Fr]:Vo,[Br]:[{[Fr]:Vfe,[Br]:[lxt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:xl,headers:xl},[Ot]:Cs},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xl,headers:xl},[Ot]:Cs}],[Ot]:Nf},{error:"FIPS is enabled but this partition does not support FIPS",[Ot]:kx}],[Ot]:Nf},{conditions:ZAt,rules:[{conditions:[JAt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xl,headers:xl},[Ot]:Cs}],[Ot]:Nf},{error:"DualStack is enabled but this partition does not support DualStack",[Ot]:kx}],[Ot]:Nf},KAt,{endpoint:{url:HAt,properties:xl,headers:xl},[Ot]:Cs}],[Ot]:Nf}],[Ot]:Nf},{error:"Invalid Configuration: Missing Region",[Ot]:kx}]},dxt=Gln});var mxt,Mx,Wln,fxt,pxt=_(()=>{mxt=C(fx()),Mx=C(ra());uxt();Wln=new Mx.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),fxt=(e,t={})=>Wln.get(e,()=>(0,Mx.resolveEndpoint)(dxt,{endpointParams:e,logger:t.logger}));Mx.customEndpointFunctions.aws=mxt.awsEndpointFunctions});var gxt,hxt,hW,yW,yxt,_xt=_(()=>{So();lt();gxt=C(K()),hxt=C(oo()),hW=C(Mt()),yW=C(kt());zfe();pxt();yxt=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??hW.fromBase64,base64Encoder:e?.base64Encoder??hW.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??fxt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??jAt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Uc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],logger:e?.logger??new gxt.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??hxt.parseUrl,utf8Decoder:e?.utf8Decoder??yW.fromUtf8,utf8Encoder:e?.utf8Encoder??yW.toUtf8})});var _W,F_,Sxt,SW,U_,vW,vxt,Ext,Cxt,bxt,wxt,Axt,xxt=_(()=>{Tfe();So();_W=C(aM()),F_=C(Ln());lt();Sxt=C(cl()),SW=C(Yn()),U_=C(sa()),vW=C(Oo()),vxt=C(ll()),Ext=C(vc());_xt();Cxt=C(K()),bxt=C(dl()),wxt=C(K()),Axt=e=>{(0,wxt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,bxt.resolveDefaultsModeConfig)(e),r=()=>t().then(Cxt.loadConfigsForDefaultMode),n=yxt(e);px(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,U_.loadConfig)(yx,s),bodyLengthChecker:e?.bodyLengthChecker??vxt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_W.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:J4.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Uc},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new di}],maxAttempts:e?.maxAttempts??(0,U_.loadConfig)(SW.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,U_.loadConfig)(F_.NODE_REGION_CONFIG_OPTIONS,{...F_.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:vW.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,U_.loadConfig)({...SW.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Ext.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Sxt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??vW.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,U_.loadConfig)(F_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,U_.loadConfig)(F_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,U_.loadConfig)(_W.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Pxt,Rxt,Txt=_(()=>{Pxt=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Rxt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var EW,CW,bW,Ixt,Oxt=_(()=>{EW=C(lM()),CW=C(Ge()),bW=C(K());Txt();Ixt=(e,t)=>{let r=Object.assign((0,EW.getAwsRegionExtensionConfiguration)(e),(0,bW.getDefaultExtensionConfiguration)(e),(0,CW.getHttpHandlerExtensionConfiguration)(e),Pxt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,EW.resolveAwsRegionExtensionConfiguration)(r),(0,bW.resolveDefaultRuntimeConfig)(r),(0,CW.resolveHttpHandlerRuntimeConfig)(r),Rxt(r))}});var wW,Nxt,Dxt,AW,kxt,Mxt,Lxt,xW,Gfe,Of,OM=_(()=>{wW=C(kk()),Nxt=C(Mk()),Dxt=C(Lk()),AW=C(vx()),kxt=C(Ln());lt();Mxt=C(il()),Lxt=C(us()),xW=C(Yn()),Gfe=C(K());zfe();gW();xxt();Oxt();Of=class extends Gfe.Client{config;constructor(...[t]){let r=Axt(t||{});super(r),this.initConfig=r;let n=zAt(r),s=(0,AW.resolveUserAgentConfig)(n),i=(0,xW.resolveRetryConfig)(s),o=(0,kxt.resolveRegionConfig)(i),a=(0,wW.resolveHostHeaderConfig)(o),c=(0,Lxt.resolveEndpointConfig)(a),l=$At(c),d=Ixt(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,AW.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,xW.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Mxt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,wW.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Nxt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Dxt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Zc(this.config,{httpAuthSchemeParametersProvider:qAt,identityProviderConfigProvider:async u=>new za({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(el(this.config))}destroy(){super.destroy()}}});var Uxt,Bc,PW=_(()=>{Uxt=C(K()),Bc=class e extends Uxt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Wfe,Kfe,Xfe,NM,DM,kM,MM,LM,UM,Jfe,Qfe,FM,BM=_(()=>{Wfe=C(K());PW();Kfe=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Wfe.SENSITIVE_STRING}}),Xfe=e=>({...e,...e.Credentials&&{Credentials:Kfe(e.Credentials)}}),NM=class e extends Bc{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},DM=class e extends Bc{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kM=class e extends Bc{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},MM=class e extends Bc{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},LM=class e extends Bc{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},UM=class e extends Bc{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jfe=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Wfe.SENSITIVE_STRING}}),Qfe=e=>({...e,...e.Credentials&&{Credentials:Kfe(e.Credentials)}}),FM=class e extends Bc{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var Fxt,Zt,Bxt,qxt,jxt,$xt,zxt,Kln,Xln,Jln,Qln,Yln,Zln,edn,tdn,rdn,Hxt,ndn,sdn,idn,odn,adn,cdn,Vxt,ldn,ddn,Gxt,udn,mdn,fdn,pdn,gdn,hdn,ydn,Bg,_dn,Wxt,Kxt,Xxt,Jxt,Yfe,Sdn,Zfe,Lx,vdn,epe,tpe,Ux,rpe,Fx,npe,spe,ipe,Bx,qx,ope,ape,cpe,jx,lpe,$x,zx,dpe,upe,Fg,mpe,fpe,ppe,gpe,hpe,Qxt,ype,_pe,Spe,Ai,Yxt,Edn,vpe=_(()=>{So();Fxt=C(Ge()),Zt=C(K());BM();PW();Bxt=async(e,t)=>{let r=Kxt,n;return n=Yxt({...tdn(e,t),[Jxt]:Sdn,[Qxt]:Xxt}),Wxt(t,r,"/",void 0,n)},qxt=async(e,t)=>{let r=Kxt,n;return n=Yxt({...rdn(e,t),[Jxt]:vdn,[Qxt]:Xxt}),Wxt(t,r,"/",void 0,n)},jxt=async(e,t)=>{if(e.statusCode>=300)return zxt(e,t);let r=await Zk(e.body,t),n={};return n=ldn(r.AssumeRoleResult,t),{$metadata:Bg(e),...n}},$xt=async(e,t)=>{if(e.statusCode>=300)return zxt(e,t);let r=await Zk(e.body,t),n={};return n=ddn(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Bg(e),...n}},zxt=async(e,t)=>{let r={...e,body:await Pme(e.body,t)},n=Edn(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Kln(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Yln(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Zln(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await edn(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Xln(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Jln(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Qln(r,t);default:let s=r.body;return _dn({output:e,parsedBody:s.Error,errorCode:n})}},Kln=async(e,t)=>{let r=e.body,n=udn(r.Error,t),s=new NM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},Xln=async(e,t)=>{let r=e.body,n=mdn(r.Error,t),s=new FM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},Jln=async(e,t)=>{let r=e.body,n=fdn(r.Error,t),s=new LM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},Qln=async(e,t)=>{let r=e.body,n=pdn(r.Error,t),s=new UM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},Yln=async(e,t)=>{let r=e.body,n=gdn(r.Error,t),s=new DM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},Zln=async(e,t)=>{let r=e.body,n=hdn(r.Error,t),s=new kM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},edn=async(e,t)=>{let r=e.body,n=ydn(r.Error,t),s=new MM({$metadata:Bg(e),...n});return(0,Zt.decorateServiceException)(s,r)},tdn=(e,t)=>{let r={};if(e[$x]!=null&&(r[$x]=e[$x]),e[zx]!=null&&(r[zx]=e[zx]),e[qx]!=null){let n=Hxt(e[qx],t);e[qx]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[Bx]!=null&&(r[Bx]=e[Bx]),e[Fx]!=null&&(r[Fx]=e[Fx]),e[ppe]!=null){let n=cdn(e[ppe],t);e[ppe]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[hpe]!=null){let n=adn(e[hpe],t);e[hpe]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[spe]!=null&&(r[spe]=e[spe]),e[mpe]!=null&&(r[mpe]=e[mpe]),e[gpe]!=null&&(r[gpe]=e[gpe]),e[Fg]!=null&&(r[Fg]=e[Fg]),e[ape]!=null){let n=idn(e[ape],t);e[ape]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},rdn=(e,t)=>{let r={};if(e[$x]!=null&&(r[$x]=e[$x]),e[zx]!=null&&(r[zx]=e[zx]),e[_pe]!=null&&(r[_pe]=e[_pe]),e[cpe]!=null&&(r[cpe]=e[cpe]),e[qx]!=null){let n=Hxt(e[qx],t);e[qx]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[Bx]!=null&&(r[Bx]=e[Bx]),e[Fx]!=null&&(r[Fx]=e[Fx]),r},Hxt=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ndn(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},ndn=(e,t)=>{let r={};return e[Spe]!=null&&(r[Spe]=e[Spe]),r},sdn=(e,t)=>{let r={};return e[ope]!=null&&(r[ope]=e[ope]),e[rpe]!=null&&(r[rpe]=e[rpe]),r},idn=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=sdn(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},odn=(e,t)=>{let r={};return e[ipe]!=null&&(r[ipe]=e[ipe]),e[ype]!=null&&(r[ype]=e[ype]),r},adn=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},cdn=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=odn(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},Vxt=(e,t)=>{let r={};return e[Zfe]!=null&&(r[Zfe]=(0,Zt.expectString)(e[Zfe])),e[epe]!=null&&(r[epe]=(0,Zt.expectString)(e[epe])),r},ldn=(e,t)=>{let r={};return e[Ux]!=null&&(r[Ux]=Gxt(e[Ux],t)),e[Lx]!=null&&(r[Lx]=Vxt(e[Lx],t)),e[jx]!=null&&(r[jx]=(0,Zt.strictParseInt32)(e[jx])),e[Fg]!=null&&(r[Fg]=(0,Zt.expectString)(e[Fg])),r},ddn=(e,t)=>{let r={};return e[Ux]!=null&&(r[Ux]=Gxt(e[Ux],t)),e[upe]!=null&&(r[upe]=(0,Zt.expectString)(e[upe])),e[Lx]!=null&&(r[Lx]=Vxt(e[Lx],t)),e[jx]!=null&&(r[jx]=(0,Zt.strictParseInt32)(e[jx])),e[lpe]!=null&&(r[lpe]=(0,Zt.expectString)(e[lpe])),e[tpe]!=null&&(r[tpe]=(0,Zt.expectString)(e[tpe])),e[Fg]!=null&&(r[Fg]=(0,Zt.expectString)(e[Fg])),r},Gxt=(e,t)=>{let r={};return e[Yfe]!=null&&(r[Yfe]=(0,Zt.expectString)(e[Yfe])),e[dpe]!=null&&(r[dpe]=(0,Zt.expectString)(e[dpe])),e[fpe]!=null&&(r[fpe]=(0,Zt.expectString)(e[fpe])),e[npe]!=null&&(r[npe]=(0,Zt.expectNonNull)((0,Zt.parseRfc3339DateTimeWithOffset)(e[npe]))),r},udn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},mdn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},fdn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},pdn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},gdn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},hdn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},ydn=(e,t)=>{let r={};return e[Ai]!=null&&(r[Ai]=(0,Zt.expectString)(e[Ai])),r},Bg=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),_dn=(0,Zt.withBaseException)(Bc),Wxt=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Fxt.HttpRequest(l)},Kxt={"content-type":"application/x-www-form-urlencoded"},Xxt="2011-06-15",Jxt="Action",Yfe="AccessKeyId",Sdn="AssumeRole",Zfe="AssumedRoleId",Lx="AssumedRoleUser",vdn="AssumeRoleWithWebIdentity",epe="Arn",tpe="Audience",Ux="Credentials",rpe="ContextAssertion",Fx="DurationSeconds",npe="Expiration",spe="ExternalId",ipe="Key",Bx="Policy",qx="PolicyArns",ope="ProviderArn",ape="ProvidedContexts",cpe="ProviderId",jx="PackedPolicySize",lpe="Provider",$x="RoleArn",zx="RoleSessionName",dpe="SecretAccessKey",upe="SubjectFromWebIdentityToken",Fg="SourceIdentity",mpe="SerialNumber",fpe="SessionToken",ppe="Tags",gpe="TokenCode",hpe="TransitiveTagKeys",Qxt="Version",ype="Value",_pe="WebIdentityToken",Spe="arn",Ai="message",Yxt=e=>Object.entries(e).map(([t,r])=>(0,Zt.extendedEncodeURIComponent)(t)+"="+(0,Zt.extendedEncodeURIComponent)(r)).join("&"),Edn=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Zxt,ePt,tPt,XE,RW=_(()=>{Zxt=C(us()),ePt=C(io()),tPt=C(K());gW();BM();vpe();XE=class extends tPt.Command.classBuilder().ep(pW).m(function(t,r,n,s){return[(0,ePt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zxt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Xfe).ser(Bxt).de(jxt).build(){}});var rPt,nPt,sPt,JE,TW=_(()=>{rPt=C(us()),nPt=C(io()),sPt=C(K());gW();BM();vpe();JE=class extends sPt.Command.classBuilder().ep(pW).m(function(t,r,n,s){return[(0,nPt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rPt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Jfe,Qfe).ser(qxt).de($xt).build(){}});var iPt,Cdn,IW,oPt=_(()=>{iPt=C(K());RW();TW();OM();Cdn={AssumeRoleCommand:XE,AssumeRoleWithWebIdentityCommand:JE},IW=class extends Of{};(0,iPt.createAggregatedClient)(Cdn,IW)});var aPt=_(()=>{RW();TW()});var cPt=_(()=>{BM()});var lPt,dPt,uPt,mPt,fPt,pPt,gPt=_(()=>{dm();RW();TW();lPt="us-east-1",dPt=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},uPt=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${lPt} (STS default)`),n??s??lPt},mPt=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await uPt(u,e?.parentClientConfig?.region,p),y=!pPt(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?m:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new XE(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=dPt(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return x_(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},fPt=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,m=await uPt(l,e?.parentClientConfig?.region,u),p=!pPt(d);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new JE(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=dPt(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&x_(a,"RESOLVED_ACCOUNT_ID","T"),x_(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},pPt=e=>e?.metadata?.handlerProtocol==="h2"});var hPt,yPt,_Pt,bdn,SPt=_(()=>{gPt();OM();hPt=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,yPt=(e={},t)=>mPt(e,hPt(Of,t)),_Pt=(e={},t)=>fPt(e,hPt(Of,t)),bdn=e=>t=>e({roleAssumer:yPt(t),roleAssumerWithWebIdentity:_Pt(t),...t})});var Epe={};ct(Epe,{AssumeRoleCommand:()=>XE,AssumeRoleResponseFilterSensitiveLog:()=>Xfe,AssumeRoleWithWebIdentityCommand:()=>JE,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Jfe,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Qfe,CredentialsFilterSensitiveLog:()=>Kfe,ExpiredTokenException:()=>NM,IDPCommunicationErrorException:()=>FM,IDPRejectedClaimException:()=>LM,InvalidIdentityTokenException:()=>UM,MalformedPolicyDocumentException:()=>DM,PackedPolicyTooLargeException:()=>kM,RegionDisabledException:()=>MM,STS:()=>IW,STSClient:()=>Of,STSServiceException:()=>Bc,__Client:()=>Gfe.Client,decorateDefaultCredentialProvider:()=>bdn,getDefaultRoleAssumer:()=>yPt,getDefaultRoleAssumerWithWebIdentity:()=>_Pt});var Cpe=_(()=>{OM();oPt();aPt();cPt();SPt();PW()});var xpe=E((NMs,EPt)=>{"use strict";var OW=Object.defineProperty,wdn=Object.getOwnPropertyDescriptor,Adn=Object.getOwnPropertyNames,xdn=Object.prototype.hasOwnProperty,Ape=(e,t)=>OW(e,"name",{value:t,configurable:!0}),Pdn=(e,t)=>{for(var r in t)OW(e,r,{get:t[r],enumerable:!0})},Rdn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Adn(t))!xdn.call(e,s)&&s!==r&&OW(e,s,{get:()=>t[s],enumerable:!(n=wdn(t,s))||n.enumerable});return e},Tdn=e=>Rdn(OW({},"__esModule",{value:!0}),e),vPt={};Pdn(vPt,{fromProcess:()=>Mdn});EPt.exports=Tdn(vPt);var bpe=qt(),wpe=Ki(),Idn=require("child_process"),Odn=require("util"),Ndn=(dm(),F(P_)),Ddn=Ape((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,Ndn.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),kdn=Ape(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,Odn.promisify)(wpe.externalDataInterceptor?.getTokenRecord?.().exec??Idn.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Ddn(e,a,t)}catch(o){throw new bpe.CredentialsProviderError(o.message,{logger:r})}}else throw new bpe.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new bpe.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Mdn=Ape((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,wpe.parseKnownFiles)(e);return kdn((0,wpe.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var Ppe=E(Df=>{"use strict";var Ldn=Df&&Df.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Udn=Df&&Df.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fdn=Df&&Df.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&Ldn(r,t,n[s]);return Udn(r,t),r}}();Object.defineProperty(Df,"__esModule",{value:!0});Df.fromWebToken=void 0;var Bdn=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>Fdn((Cpe(),F(Epe))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Df.fromWebToken=Bdn});var bPt=E(NW=>{"use strict";Object.defineProperty(NW,"__esModule",{value:!0});NW.fromTokenFile=void 0;var qdn=(dm(),F(P_)),jdn=qt(),$dn=Ki(),zdn=require("fs"),Hdn=Ppe(),CPt="AWS_WEB_IDENTITY_TOKEN_FILE",Vdn="AWS_ROLE_ARN",Gdn="AWS_ROLE_SESSION_NAME",Wdn=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[CPt],r=e?.roleArn??process.env[Vdn],n=e?.roleSessionName??process.env[Gdn];if(!t||!r)throw new jdn.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,Hdn.fromWebToken)({...e,webIdentityToken:$dn.externalDataInterceptor?.getTokenRecord?.()[t]??(0,zdn.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[CPt]&&(0,qdn.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};NW.fromTokenFile=Wdn});var Ipe=E((MMs,DW)=>{"use strict";var wPt=Object.defineProperty,Kdn=Object.getOwnPropertyDescriptor,Xdn=Object.getOwnPropertyNames,Jdn=Object.prototype.hasOwnProperty,Rpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Xdn(t))!Jdn.call(e,s)&&s!==r&&wPt(e,s,{get:()=>t[s],enumerable:!(n=Kdn(t,s))||n.enumerable});return e},APt=(e,t,r)=>(Rpe(e,t,"default"),r&&Rpe(r,t,"default")),Qdn=e=>Rpe(wPt({},"__esModule",{value:!0}),e),Tpe={};DW.exports=Qdn(Tpe);APt(Tpe,bPt(),DW.exports);APt(Tpe,Ppe(),DW.exports)});var DPt=E((LMs,NPt)=>{"use strict";var Ydn=Object.create,jM=Object.defineProperty,Zdn=Object.getOwnPropertyDescriptor,eun=Object.getOwnPropertyNames,tun=Object.getPrototypeOf,run=Object.prototype.hasOwnProperty,Hi=(e,t)=>jM(e,"name",{value:t,configurable:!0}),nun=(e,t)=>{for(var r in t)jM(e,r,{get:t[r],enumerable:!0})},TPt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eun(t))!run.call(e,s)&&s!==r&&jM(e,s,{get:()=>t[s],enumerable:!(n=Zdn(t,s))||n.enumerable});return e},B_=(e,t,r)=>(r=e!=null?Ydn(tun(e)):{},TPt(t||!e||!e.__esModule?jM(r,"default",{value:e,enumerable:!0}):r,e)),sun=e=>TPt(jM({},"__esModule",{value:!0}),e),IPt={};nun(IPt,{fromIni:()=>hun});NPt.exports=sun(IPt);var Npe=Ki(),q_=(dm(),F(P_)),qM=qt(),iun=Hi((e,t,r)=>{let n={EcsContainer:Hi(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>B_(_fe())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>B_(Hu()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,qM.chain)(i(s??{}),o(s))().then(Ope)},"EcsContainer"),Ec2InstanceMetadata:Hi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>B_(Hu()));return async()=>i(s)().then(Ope)},"Ec2InstanceMetadata"),Environment:Hi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>B_(hfe()));return async()=>i(s)().then(Ope)},"Environment")};if(e in n)return n[e];throw new qM.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Ope=Hi(e=>(0,q_.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),oun=Hi((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(aun(e,{profile:t,logger:r})||cun(e,{profile:t,logger:r})),"isAssumeRoleProfile"),aun=Hi((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),cun=Hi((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),lun=Hi(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>B_((Cpe(),F(Epe))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new qM.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Npe.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?OPt(i,t,r,{...n,[i]:!0},xPt(t[i]??{})):(await iun(s.credential_source,e,r.logger)(r))();if(xPt(s))return a.then(c=>(0,q_.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new qM.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,q_.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),xPt=Hi(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),dun=Hi(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),uun=Hi(async(e,t)=>Promise.resolve().then(()=>B_(xpe())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,q_.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),mun=Hi(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>B_($fe()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,q_.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,q_.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),fun=Hi(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),PPt=Hi(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),RPt=Hi(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,q_.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),pun=Hi(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),gun=Hi(async(e,t)=>Promise.resolve().then(()=>B_(Ipe())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,q_.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),OPt=Hi(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&PPt(i))return RPt(i,r);if(s||oun(i,{profile:e,logger:r.logger}))return lun(e,t,r,n);if(PPt(i))return RPt(i,r);if(pun(i))return gun(i,r);if(dun(i))return uun(r,e);if(fun(i))return await mun(e,i,r);throw new qM.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),hun=Hi((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,Npe.parseKnownFiles)(r);return OPt((0,Npe.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var jPt=E((UMs,qPt)=>{"use strict";var yun=Object.create,$M=Object.defineProperty,_un=Object.getOwnPropertyDescriptor,Sun=Object.getOwnPropertyNames,vun=Object.getPrototypeOf,Eun=Object.prototype.hasOwnProperty,kW=(e,t)=>$M(e,"name",{value:t,configurable:!0}),Cun=(e,t)=>{for(var r in t)$M(e,r,{get:t[r],enumerable:!0})},LPt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Sun(t))!Eun.call(e,s)&&s!==r&&$M(e,s,{get:()=>t[s],enumerable:!(n=_un(t,s))||n.enumerable});return e},Hx=(e,t,r)=>(r=e!=null?yun(vun(e)):{},LPt(t||!e||!e.__esModule?$M(r,"default",{value:e,enumerable:!0}):r,e)),bun=e=>LPt($M({},"__esModule",{value:!0}),e),UPt={};Cun(UPt,{credentialsTreatedAsExpired:()=>BPt,credentialsWillNeedRefresh:()=>FPt,defaultProvider:()=>xun});qPt.exports=bun(UPt);var Dpe=hfe(),wun=Ki(),QE=qt(),kPt="AWS_EC2_METADATA_DISABLED",Aun=kW(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Hx(Hu()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>Hx(_fe()));return(0,QE.chain)(i(e),n(e))}return process.env[kPt]&&process.env[kPt]!=="false"?async()=>{throw new QE.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),MPt=!1,xun=kW((e={})=>(0,QE.memoize)((0,QE.chain)(async()=>{if(e.profile??process.env[wun.ENV_PROFILE])throw process.env[Dpe.ENV_KEY]&&process.env[Dpe.ENV_SECRET]&&(MPt||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),MPt=!0)),new QE.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Dpe.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new QE.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>Hx($fe()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Hx(DPt()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Hx(xpe()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Hx(Ipe()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Aun(e))()),async()=>{throw new QE.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),BPt,FPt),"defaultProvider"),FPt=kW(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),BPt=kW(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var aRt=E((FMs,oRt)=>{"use strict";var MW=Object.defineProperty,Pun=Object.getOwnPropertyDescriptor,Run=Object.getOwnPropertyNames,Tun=Object.prototype.hasOwnProperty,wr=(e,t)=>MW(e,"name",{value:t,configurable:!0}),Iun=(e,t)=>{for(var r in t)MW(e,r,{get:t[r],enumerable:!0})},Oun=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Run(t))!Tun.call(e,s)&&s!==r&&MW(e,s,{get:()=>t[s],enumerable:!(n=Pun(t,s))||n.enumerable});return e},Nun=e=>Oun(MW({},"__esModule",{value:!0}),e),zPt={};Iun(zPt,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>Dun,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>HPt,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>VPt,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>kun,NODE_USE_ARN_REGION_ENV_NAME:()=>GPt,NODE_USE_ARN_REGION_INI_NAME:()=>WPt,bucketEndpointMiddleware:()=>nRt,bucketEndpointMiddlewareOptions:()=>sRt,bucketHostname:()=>Mpe,getArnResources:()=>tRt,getBucketEndpointPlugin:()=>rmn,getSuffixForArnEndpoint:()=>QPt,resolveBucketEndpointConfig:()=>iRt,validateAccountId:()=>eRt,validateDNSHostLabel:()=>Vx,validateNoDualstack:()=>Kun,validateNoFIPS:()=>rRt,validateOutpostService:()=>YPt,validatePartition:()=>ZPt,validateRegion:()=>Gun});oRt.exports=Nun(zPt);var j_=kT(),HPt="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",VPt="s3_disable_multiregion_access_points",Dun={environmentVariableSelector:wr(e=>(0,j_.booleanSelector)(e,HPt,j_.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:wr(e=>(0,j_.booleanSelector)(e,VPt,j_.SelectorType.CONFIG),"configFileSelector"),default:!1},GPt="AWS_S3_USE_ARN_REGION",WPt="s3_use_arn_region",kun={environmentVariableSelector:wr(e=>(0,j_.booleanSelector)(e,GPt,j_.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:wr(e=>(0,j_.booleanSelector)(e,WPt,j_.SelectorType.CONFIG),"configFileSelector"),default:void 0},$Pt=Yue(),Mun=Ge(),Lun=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Uun=/(\d+\.){3}\d+/,Fun=/\.\./,KPt=/\./,Bun=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,XPt=/^s3(-external-1)?\.amazonaws\.com$/,kpe="amazonaws.com",qun=wr(e=>typeof e.bucketName=="string","isBucketNameOptions"),jun=wr(e=>Lun.test(e)&&!Uun.test(e)&&!Fun.test(e),"isDnsCompatibleBucketName"),JPt=wr(e=>{let t=e.match(Bun);return[t[4],e.replace(new RegExp(`^${t[0]}`),"")]},"getRegionalSuffix"),$un=wr(e=>XPt.test(e)?["us-east-1",kpe]:JPt(e),"getSuffix"),QPt=wr(e=>XPt.test(e)?[e.replace(`.${kpe}`,""),kpe]:JPt(e),"getSuffixForArnEndpoint"),zun=wr(e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),Hun=wr(e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),Vun=wr(e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),YPt=wr(e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),ZPt=wr((e,t)=>{if(e!==t.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${t.clientPartition}"`)},"validatePartition"),Gun=wr((e,t)=>{},"validateRegion"),Lpe=wr(e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},"validateRegionalClient"),eRt=wr(e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),Vx=wr((e,t={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||t?.tlsCompatible&&KPt.test(e))throw new Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),Wun=wr(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),tRt=wr(e=>{let t=e.includes(":")?":":"/",[r,...n]=e.split(t);if(r==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${t}{accesspointname}`);return{accesspointName:n[0]}}else if(r==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${t}{outpostId}${t}accesspoint${t}{accesspointName}`);let[s,i,o]=n;return{outpostId:s,accesspointName:o}}else throw new Error(`ARN resource should begin with 'accesspoint${t}' or 'outpost${t}'`)},"getArnResources"),Kun=wr(e=>{},"validateNoDualstack"),rRt=wr(e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),Xun=wr(e=>{try{e.split(".").forEach(t=>{Vx(t)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),Mpe=wr(e=>(Wun(e),qun(e)?Jun(e):Qun(e)),"bucketHostname"),Jun=wr(({accelerateEndpoint:e=!1,clientRegion:t,baseHostname:r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,pathStyleEndpoint:o=!1,tlsCompatible:a=!0,isCustomEndpoint:c=!1})=>{let[l,d]=c?[t,r]:$un(r);return o||!jun(n)||a&&KPt.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${l}.${d}`:r}:(e?r=`s3-accelerate${s?".dualstack":""}.${d}`:s&&(r=`s3.dualstack.${l}.${d}`),{bucketEndpoint:!0,hostname:`${n}.${r}`})},"getEndpointFromBucketName"),Qun=wr(e=>{let{isCustomEndpoint:t,baseHostname:r,clientRegion:n}=e,s=t?r:QPt(r)[1],{pathStyleEndpoint:i,accelerateEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,bucketName:l,clientPartition:d="aws"}=e;zun({pathStyleEndpoint:i,accelerateEndpoint:o,tlsCompatible:c});let{service:u,partition:m,accountId:p,region:g,resource:y}=l;Hun(u),ZPt(m,{clientPartition:d}),eRt(p);let{accesspointName:b,outpostId:w}=tRt(y);return u==="s3-object-lambda"?Yun({...e,tlsCompatible:c,bucketName:l,accesspointName:b,hostnameSuffix:s}):g===""?Zun({...e,clientRegion:n,mrapAlias:b,hostnameSuffix:s}):w?emn({...e,clientRegion:n,outpostId:w,accesspointName:b,hostnameSuffix:s}):tmn({...e,clientRegion:n,accesspointName:b,hostnameSuffix:s})},"getEndpointFromArn"),Yun=wr(({dualstackEndpoint:e=!1,fipsEndpoint:t=!1,tlsCompatible:r=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:i=s,accesspointName:o,bucketName:a,hostnameSuffix:c})=>{let{accountId:l,region:d,service:u}=a;Lpe(s);let m=`${o}-${l}`;Vx(m,{tlsCompatible:r});let p=n?d:s,g=n?d:i;return{bucketEndpoint:!0,hostname:`${m}.${u}${t?"-fips":""}.${p}.${c}`,signingRegion:g,signingService:u}},"getEndpointFromObjectLambdaArn"),Zun=wr(({disableMultiregionAccessPoints:e,dualstackEndpoint:t=!1,isCustomEndpoint:r,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return Xun(n),{bucketEndpoint:!0,hostname:`${n}${r?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),emn=wr(({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,outpostId:s,dualstackEndpoint:i=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{Lpe(t);let u=`${c}-${n.accountId}`;Vx(u,{tlsCompatible:a});let m=e?n.region:t,p=e?n.region:r;return YPt(n.service),Vx(s,{tlsCompatible:a}),rRt(o),{bucketEndpoint:!0,hostname:`${`${u}.${s}`}${l?"":`.s3-outposts.${m}`}.${d}`,signingRegion:p,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),tmn=wr(({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,tlsCompatible:o=!0,accesspointName:a,isCustomEndpoint:c,hostnameSuffix:l})=>{Lpe(t);let d=`${a}-${n.accountId}`;Vx(d,{tlsCompatible:o});let u=e?n.region:t,m=e?n.region:r;return Vun(n.service),{bucketEndpoint:!0,hostname:`${d}${c?"":`.s3-accesspoint${i?"-fips":""}${s?".dualstack":""}.${u}`}.${l}`,signingRegion:m}},"getEndpointFromAccessPointArn"),nRt=wr(e=>(t,r)=>async n=>{let{Bucket:s}=n.input,i=e.bucketEndpoint,o=n.request;if(Mun.HttpRequest.isInstance(o)){if(e.bucketEndpoint)o.hostname=s;else if((0,$Pt.validate)(s)){let a=(0,$Pt.parse)(s),c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{partition:u,signingRegion:m=c}=await e.regionInfoProvider(c,{useDualstackEndpoint:l,useFipsEndpoint:d})||{},p=await e.useArnRegion(),{hostname:g,bucketEndpoint:y,signingRegion:b,signingService:w}=Mpe({bucketName:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",useArnRegion:p,clientPartition:u,clientSigningRegion:m,clientRegion:c,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});b&&b!==m&&(r.signing_region=b),w&&w!=="s3"&&(r.signing_service=w),o.hostname=g,i=y}else{let a=await e.region(),c=await e.useDualstackEndpoint(),l=await e.useFipsEndpoint(),{hostname:d,bucketEndpoint:u}=Mpe({bucketName:s,clientRegion:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:c,fipsEndpoint:l,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});o.hostname=d,i=u}i&&(o.path=o.path.replace(/^(\/)?[^\/]+/,""),o.path===""&&(o.path="/"))}return t({...n,request:o})},"bucketEndpointMiddleware"),sRt={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},rmn=wr(e=>({applyToStack:wr(t=>{t.addRelativeTo(nRt(e),sRt)},"applyToStack")}),"getBucketEndpointPlugin");function iRt(e){let{bucketEndpoint:t=!1,forcePathStyle:r=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:i=!1}=e;return Object.assign(e,{bucketEndpoint:t,forcePathStyle:r,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof i=="function"?i:()=>Promise.resolve(i)})}wr(iRt,"resolveBucketEndpointConfig")});var gRt=E((BMs,pRt)=>{var UW=Object.defineProperty,nmn=Object.getOwnPropertyDescriptor,smn=Object.getOwnPropertyNames,imn=Object.prototype.hasOwnProperty,qg=(e,t)=>UW(e,"name",{value:t,configurable:!0}),omn=(e,t)=>{for(var r in t)UW(e,r,{get:t[r],enumerable:!0})},amn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of smn(t))!imn.call(e,s)&&s!==r&&UW(e,s,{get:()=>t[s],enumerable:!(n=nmn(t,s))||n.enumerable});return e},cmn=e=>amn(UW({},"__esModule",{value:!0}),e),lRt={};omn(lRt,{EventStreamCodec:()=>Emn,HeaderMarshaller:()=>uRt,Int64:()=>LW,MessageDecoderStream:()=>Cmn,MessageEncoderStream:()=>bmn,SmithyMessageDecoderStream:()=>wmn,SmithyMessageEncoderStream:()=>Amn});pRt.exports=cmn(lRt);var lmn=Dk(),YE=RF(),LW=class dRt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{qg(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Upe(r),new dRt(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Upe(t),parseInt((0,YE.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Upe(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}qg(Upe,"negate");var uRt=class{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}static{qg(this,"HeaderMarshaller")}format(e){let t=[];for(let s of Object.keys(e)){let i=this.fromUtf8(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(LW.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!_mn.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,YE.fromHex)(e.value.replace(/\-/g,"")),1),d}}parse(e){let t={},r=0;for(;r<e.byteLength;){let n=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,n));switch(r+=n,e.getUint8(r++)){case 0:t[s]={type:cRt,value:!0};break;case 1:t[s]={type:cRt,value:!1};break;case 2:t[s]={type:dmn,value:e.getInt8(r++)};break;case 3:t[s]={type:umn,value:e.getInt16(r,!1)},r+=2;break;case 4:t[s]={type:mmn,value:e.getInt32(r,!1)},r+=4;break;case 5:t[s]={type:fmn,value:new LW(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let i=e.getUint16(r,!1);r+=2,t[s]={type:pmn,value:new Uint8Array(e.buffer,e.byteOffset+r,i)},r+=i;break;case 7:let o=e.getUint16(r,!1);r+=2,t[s]={type:gmn,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,o))},r+=o;break;case 8:t[s]={type:hmn,value:new Date(new LW(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let a=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[s]={type:ymn,value:`${(0,YE.toHex)(a.subarray(0,4))}-${(0,YE.toHex)(a.subarray(4,6))}-${(0,YE.toHex)(a.subarray(6,8))}-${(0,YE.toHex)(a.subarray(8,10))}-${(0,YE.toHex)(a.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},cRt="boolean",dmn="byte",umn="short",mmn="integer",fmn="long",pmn="binary",gmn="string",hmn="timestamp",ymn="uuid",_mn=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Smn=Dk(),mRt=4,$_=mRt*2,ZE=4,vmn=$_+ZE*2;function fRt({byteLength:e,byteOffset:t,buffer:r}){if(e<vmn)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let i=n.getUint32(mRt,!1),o=n.getUint32($_,!1),a=n.getUint32(e-ZE,!1),c=new Smn.Crc32().update(new Uint8Array(r,t,$_));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+$_,e-($_+ZE))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+$_+ZE,i),body:new Uint8Array(r,t+$_+ZE+i,s-i-($_+ZE+ZE))}}qg(fRt,"splitMessage");var Emn=class{static{qg(this,"EventStreamCodec")}constructor(e,t){this.headerMarshaller=new uRt(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return t}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return t}}}encode({headers:e,body:t}){let r=this.headerMarshaller.format(e),n=r.byteLength+t.byteLength+16,s=new Uint8Array(n),i=new DataView(s.buffer,s.byteOffset,s.byteLength),o=new lmn.Crc32;return i.setUint32(0,n,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,o.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(t,r.byteLength+12),i.setUint32(n-4,o.update(s.subarray(8,n-4)).digest(),!1),s}decode(e){let{headers:t,body:r}=fRt(e);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}},Cmn=class{constructor(e){this.options=e}static{qg(this,"MessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}},bmn=class{constructor(e){this.options=e}static{qg(this,"MessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}},wmn=class{constructor(e){this.options=e}static{qg(this,"SmithyMessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let t=await this.options.deserializer(e);t!==void 0&&(yield t)}}},Amn=class{constructor(e){this.options=e}static{qg(this,"SmithyMessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}}});var ERt=E((GMs,vRt)=>{var FW=Object.defineProperty,xmn=Object.getOwnPropertyDescriptor,Pmn=Object.getOwnPropertyNames,Rmn=Object.prototype.hasOwnProperty,Gx=(e,t)=>FW(e,"name",{value:t,configurable:!0}),Tmn=(e,t)=>{for(var r in t)FW(e,r,{get:t[r],enumerable:!0})},Imn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Pmn(t))!Rmn.call(e,s)&&s!==r&&FW(e,s,{get:()=>t[s],enumerable:!(n=xmn(t,s))||n.enumerable});return e},Omn=e=>Imn(FW({},"__esModule",{value:!0}),e),hRt={};Tmn(hRt,{EventStreamMarshaller:()=>SRt,eventStreamSerdeProvider:()=>Nmn});vRt.exports=Omn(hRt);var zM=gRt();function yRt(e){let t=0,r=0,n=null,s=null,i=Gx(a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},"allocateMessage"),o=Gx(async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=await a.next();if(l){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let d=c.length,u=0;for(;u<d;){if(!n){let p=d-u;s||(s=new Uint8Array(4));let g=Math.min(4-r,p);if(s.set(c.slice(u,u+g),r),r+=g,u+=g,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}let m=Math.min(t-r,d-u);n.set(c.slice(u,u+m),r),r+=m,u+=m,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:o}}Gx(yRt,"getChunkedStream");function _Rt(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){let s=r.headers[":exception-type"].value,i={[s]:r},o=await e(i);if(o.$unknown){let a=new Error(t(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){let s={[r.headers[":event-type"].value]:r},i=await e(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}Gx(_Rt,"getMessageUnmarshaller");var SRt=class{static{Gx(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new zM.EventStreamCodec(e,t),this.utfEncoder=e}deserialize(e,t){let r=yRt(e);return new zM.SmithyMessageDecoderStream({messageStream:new zM.MessageDecoderStream({inputStream:r,decoder:this.eventStreamCodec}),deserializer:_Rt(t,this.utfEncoder)})}serialize(e,t){return new zM.MessageEncoderStream({messageStream:new zM.SmithyMessageEncoderStream({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},Nmn=Gx(e=>new SRt(e),"eventStreamSerdeProvider")});var xRt=E((KMs,ARt)=>{var BW=Object.defineProperty,Dmn=Object.getOwnPropertyDescriptor,kmn=Object.getOwnPropertyNames,Mmn=Object.prototype.hasOwnProperty,Fpe=(e,t)=>BW(e,"name",{value:t,configurable:!0}),Lmn=(e,t)=>{for(var r in t)BW(e,r,{get:t[r],enumerable:!0})},Umn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kmn(t))!Mmn.call(e,s)&&s!==r&&BW(e,s,{get:()=>t[s],enumerable:!(n=Dmn(t,s))||n.enumerable});return e},Fmn=e=>Umn(BW({},"__esModule",{value:!0}),e),CRt={};Lmn(CRt,{EventStreamMarshaller:()=>wRt,eventStreamSerdeProvider:()=>jmn});ARt.exports=Fmn(CRt);var Bmn=ERt(),qmn=require("stream");async function*bRt(e){let t=!1,r=!1,n=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{t=!0});!r;){let s=await new Promise(i=>setTimeout(()=>i(n.shift()),0));s&&(yield s),r=t&&n.length===0}}Fpe(bRt,"readabletoIterable");var wRt=class{static{Fpe(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new Bmn.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){let r=typeof e[Symbol.asyncIterator]=="function"?e:bRt(e);return this.universalMarshaller.deserialize(r,t)}serialize(e,t){return qmn.Readable.from(this.universalMarshaller.serialize(e,t))}},jmn=Fpe(e=>new wRt(e),"eventStreamSerdeProvider")});var IRt=E((JMs,TRt)=>{var qW=Object.defineProperty,$mn=Object.getOwnPropertyDescriptor,zmn=Object.getOwnPropertyNames,Hmn=Object.prototype.hasOwnProperty,jW=(e,t)=>qW(e,"name",{value:t,configurable:!0}),Vmn=(e,t)=>{for(var r in t)qW(e,r,{get:t[r],enumerable:!0})},Gmn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zmn(t))!Hmn.call(e,s)&&s!==r&&qW(e,s,{get:()=>t[s],enumerable:!(n=$mn(t,s))||n.enumerable});return e},Wmn=e=>Gmn(qW({},"__esModule",{value:!0}),e),PRt={};Vmn(PRt,{fileStreamHasher:()=>Qmn,readableStreamHasher:()=>Zmn});TRt.exports=Wmn(PRt);var Kmn=require("fs"),Xmn=kt(),Jmn=require("stream"),RRt=class extends Jmn.Writable{constructor(e,t){super(t),this.hash=e}static{jW(this,"HashCalculator")}_write(e,t,r){try{this.hash.update((0,Xmn.toUint8Array)(e))}catch(n){return r(n)}r()}},Qmn=jW((e,t)=>new Promise((r,n)=>{if(!Ymn(t)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=(0,Kmn.createReadStream)(t.path,{start:t.start,end:t.end}),i=new e,o=new RRt(i);s.pipe(o),s.on("error",a=>{o.end(),n(a)}),o.on("error",n),o.on("finish",function(){i.digest().then(r).catch(n)})}),"fileStreamHasher"),Ymn=jW(e=>typeof e.path=="string","isReadStream"),Zmn=jW((e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new RRt(r);return t.pipe(n),new Promise((s,i)=>{t.on("error",o=>{n.end(),i(o)}),n.on("error",i),n.on("finish",()=>{r.digest().then(s).catch(i)})})},"readableStreamHasher")});var MRt=E($W=>{"use strict";Object.defineProperty($W,"__esModule",{value:!0});$W.getRuntimeConfig=void 0;var ORt=(So(),F(wf)),efn=h4(),tfn=K(),rfn=oo(),NRt=Mt(),DRt=sp(),kRt=kt(),nfn=gfe(),sfn=pfe(),ifn=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??NRt.fromBase64,base64Encoder:e?.base64Encoder??NRt.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sfn.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??DRt.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??nfn.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ORt.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new ORt.AwsSdkSigV4ASigner}],logger:e?.logger??new tfn.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??DRt.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??efn.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??rfn.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??kRt.fromUtf8,utf8Encoder:e?.utf8Encoder??kRt.toUtf8});$W.getRuntimeConfig=ifn});var qRt=E(HW=>{"use strict";Object.defineProperty(HW,"__esModule",{value:!0});HW.getRuntimeConfig=void 0;var ofn=(Ga(),F(Va)),afn=ofn.__importDefault(Hbt()),Bpe=(So(),F(wf)),cfn=jPt(),lfn=aRt(),LRt=hue(),dfn=Ue(),URt=aM(),zW=Ln(),ufn=xRt(),qpe=cl(),mfn=IRt(),FRt=Yn(),du=sa(),BRt=Oo(),ffn=ll(),pfn=vc(),gfn=MRt(),hfn=K(),yfn=dl(),_fn=K(),Sfn=e=>{(0,_fn.emitWarningIfUnsupportedVersion)(process.version);let t=(0,yfn.resolveDefaultsModeConfig)(e),r=()=>t().then(hfn.loadConfigsForDefaultMode),n=(0,gfn.getRuntimeConfig)(e);(0,Bpe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,du.loadConfig)(Bpe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??ffn.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??cfn.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,URt.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:afn.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,du.loadConfig)(dfn.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??ufn.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,du.loadConfig)(FRt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??qpe.Hash.bind(null,"md5"),region:e?.region??(0,du.loadConfig)(zW.NODE_REGION_CONFIG_OPTIONS,{...zW.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,du.loadConfig)(LRt.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:BRt.NodeHttpHandler.create(e?.requestHandler??r),responseChecksumValidation:e?.responseChecksumValidation??(0,du.loadConfig)(LRt.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,du.loadConfig)({...FRt.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||pfn.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??qpe.Hash.bind(null,"sha1"),sha256:e?.sha256??qpe.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,du.loadConfig)(Bpe.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??BRt.streamCollector,streamHasher:e?.streamHasher??mfn.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,du.loadConfig)(lfn.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,du.loadConfig)(zW.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,du.loadConfig)(zW.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,du.loadConfig)(URt.NODE_APP_ID_CONFIG_OPTIONS,s)}};HW.getRuntimeConfig=Sfn});var HRt=E((eLs,zRt)=>{"use strict";var GW=Object.defineProperty,vfn=Object.getOwnPropertyDescriptor,Efn=Object.getOwnPropertyNames,Cfn=Object.prototype.hasOwnProperty,VW=(e,t)=>GW(e,"name",{value:t,configurable:!0}),bfn=(e,t)=>{for(var r in t)GW(e,r,{get:t[r],enumerable:!0})},wfn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Efn(t))!Cfn.call(e,s)&&s!==r&&GW(e,s,{get:()=>t[s],enumerable:!(n=vfn(t,s))||n.enumerable});return e},Afn=e=>wfn(GW({},"__esModule",{value:!0}),e),jRt={};bfn(jRt,{getSsecPlugin:()=>xfn,isValidBase64EncodedSSECustomerKey:()=>$pe,ssecMiddleware:()=>jpe,ssecMiddlewareOptions:()=>$Rt});zRt.exports=Afn(jRt);function jpe(e){return t=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let i of s){let o=n[i.target];if(o){let a;typeof o=="string"?$pe(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),n[i.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[i.target]=e.base64Encoder(a));let c=new e.md5;c.update(a),n[i.hash]=e.base64Encoder(await c.digest())}}return t({...r,input:n})}}VW(jpe,"ssecMiddleware");var $Rt={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},xfn=VW(e=>({applyToStack:VW(t=>{t.add(jpe(e),$Rt)},"applyToStack")}),"getSsecPlugin");function $pe(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}VW($pe,"isValidBase64EncodedSSECustomerKey")});var KRt=E((tLs,WRt)=>{"use strict";var WW=Object.defineProperty,Pfn=Object.getOwnPropertyDescriptor,Rfn=Object.getOwnPropertyNames,Tfn=Object.prototype.hasOwnProperty,zpe=(e,t)=>WW(e,"name",{value:t,configurable:!0}),Ifn=(e,t)=>{for(var r in t)WW(e,r,{get:t[r],enumerable:!0})},Ofn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rfn(t))!Tfn.call(e,s)&&s!==r&&WW(e,s,{get:()=>t[s],enumerable:!(n=Pfn(t,s))||n.enumerable});return e},Nfn=e=>Ofn(WW({},"__esModule",{value:!0}),e),VRt={};Ifn(VRt,{getLocationConstraintPlugin:()=>Dfn,locationConstraintMiddleware:()=>Hpe,locationConstraintMiddlewareOptions:()=>GRt});WRt.exports=Nfn(VRt);function Hpe(e){return t=>async r=>{let{CreateBucketConfiguration:n}=r.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&(r={...r,input:{...r.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),t(r)}}zpe(Hpe,"locationConstraintMiddleware");var GRt={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},Dfn=zpe(e=>({applyToStack:zpe(t=>{t.add(Hpe(e),GRt)},"applyToStack")}),"getLocationConstraintPlugin")});var bkt=E((rLs,Ckt)=>{"use strict";var QK=Object.defineProperty,kfn=Object.getOwnPropertyDescriptor,Mfn=Object.getOwnPropertyNames,Lfn=Object.prototype.hasOwnProperty,S=(e,t)=>QK(e,"name",{value:t,configurable:!0}),Ufn=(e,t)=>{for(var r in t)QK(e,r,{get:t[r],enumerable:!0})},Ffn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Mfn(t))!Lfn.call(e,s)&&s!==r&&QK(e,s,{get:()=>t[s],enumerable:!(n=kfn(t,s))||n.enumerable});return e},Bfn=e=>Ffn(QK({},"__esModule",{value:!0}),e),ITt={};Ufn(ITt,{AbortMultipartUploadCommand:()=>RNt,AnalyticsFilter:()=>MK,AnalyticsS3ExportFileFormat:()=>Spn,ArchiveStatus:()=>Qpn,BucketAccelerateStatus:()=>Jfn,BucketAlreadyExists:()=>LTt,BucketAlreadyOwnedByYou:()=>FTt,BucketCannedACL:()=>lpn,BucketLocationConstraint:()=>fpn,BucketLogsPermission:()=>Ipn,BucketType:()=>upn,BucketVersioningStatus:()=>Hpn,ChecksumAlgorithm:()=>npn,ChecksumMode:()=>Wpn,ChecksumType:()=>epn,CompleteMultipartUploadCommand:()=>TNt,CompleteMultipartUploadOutputFilterSensitiveLog:()=>KTt,CompleteMultipartUploadRequestFilterSensitiveLog:()=>XTt,CompressionType:()=>ogn,CopyObjectCommand:()=>INt,CopyObjectOutputFilterSensitiveLog:()=>JTt,CopyObjectRequestFilterSensitiveLog:()=>QTt,CreateBucketCommand:()=>ONt,CreateBucketMetadataConfigurationCommand:()=>NNt,CreateBucketMetadataTableConfigurationCommand:()=>DNt,CreateMultipartUploadCommand:()=>kNt,CreateMultipartUploadOutputFilterSensitiveLog:()=>YTt,CreateMultipartUploadRequestFilterSensitiveLog:()=>ZTt,CreateSessionCommand:()=>Ghe,CreateSessionOutputFilterSensitiveLog:()=>tIt,CreateSessionRequestFilterSensitiveLog:()=>rIt,DataRedundancy:()=>dpn,DeleteBucketAnalyticsConfigurationCommand:()=>MNt,DeleteBucketCommand:()=>LNt,DeleteBucketCorsCommand:()=>UNt,DeleteBucketEncryptionCommand:()=>FNt,DeleteBucketIntelligentTieringConfigurationCommand:()=>BNt,DeleteBucketInventoryConfigurationCommand:()=>qNt,DeleteBucketLifecycleCommand:()=>jNt,DeleteBucketMetadataConfigurationCommand:()=>$Nt,DeleteBucketMetadataTableConfigurationCommand:()=>zNt,DeleteBucketMetricsConfigurationCommand:()=>HNt,DeleteBucketOwnershipControlsCommand:()=>VNt,DeleteBucketPolicyCommand:()=>GNt,DeleteBucketReplicationCommand:()=>WNt,DeleteBucketTaggingCommand:()=>KNt,DeleteBucketWebsiteCommand:()=>XNt,DeleteMarkerReplicationStatus:()=>Mpn,DeleteObjectCommand:()=>JNt,DeleteObjectTaggingCommand:()=>YNt,DeleteObjectsCommand:()=>QNt,DeletePublicAccessBlockCommand:()=>ZNt,EncodingType:()=>Ypn,EncryptionFilterSensitiveLog:()=>MIt,EncryptionTypeMismatch:()=>_It,Event:()=>Dpn,ExistingObjectReplicationStatus:()=>Fpn,ExpirationState:()=>ypn,ExpirationStatus:()=>Rpn,ExpressionType:()=>ign,FileHeaderInfo:()=>agn,FilterRuleName:()=>kpn,GetBucketAccelerateConfigurationCommand:()=>eDt,GetBucketAclCommand:()=>tDt,GetBucketAnalyticsConfigurationCommand:()=>rDt,GetBucketCorsCommand:()=>nDt,GetBucketEncryptionCommand:()=>sDt,GetBucketEncryptionOutputFilterSensitiveLog:()=>iIt,GetBucketIntelligentTieringConfigurationCommand:()=>iDt,GetBucketInventoryConfigurationCommand:()=>oDt,GetBucketInventoryConfigurationOutputFilterSensitiveLog:()=>dIt,GetBucketLifecycleConfigurationCommand:()=>aDt,GetBucketLocationCommand:()=>cDt,GetBucketLoggingCommand:()=>lDt,GetBucketMetadataConfigurationCommand:()=>dDt,GetBucketMetadataTableConfigurationCommand:()=>uDt,GetBucketMetricsConfigurationCommand:()=>mDt,GetBucketNotificationConfigurationCommand:()=>fDt,GetBucketOwnershipControlsCommand:()=>pDt,GetBucketPolicyCommand:()=>gDt,GetBucketPolicyStatusCommand:()=>hDt,GetBucketReplicationCommand:()=>yDt,GetBucketRequestPaymentCommand:()=>_Dt,GetBucketTaggingCommand:()=>SDt,GetBucketVersioningCommand:()=>vDt,GetBucketWebsiteCommand:()=>EDt,GetObjectAclCommand:()=>CDt,GetObjectAttributesCommand:()=>bDt,GetObjectAttributesRequestFilterSensitiveLog:()=>fIt,GetObjectCommand:()=>wDt,GetObjectLegalHoldCommand:()=>ADt,GetObjectLockConfigurationCommand:()=>xDt,GetObjectOutputFilterSensitiveLog:()=>uIt,GetObjectRequestFilterSensitiveLog:()=>mIt,GetObjectRetentionCommand:()=>PDt,GetObjectTaggingCommand:()=>RDt,GetObjectTorrentCommand:()=>TDt,GetObjectTorrentOutputFilterSensitiveLog:()=>pIt,GetPublicAccessBlockCommand:()=>IDt,HeadBucketCommand:()=>u6,HeadObjectCommand:()=>m6,HeadObjectOutputFilterSensitiveLog:()=>gIt,HeadObjectRequestFilterSensitiveLog:()=>hIt,IdempotencyParameterMismatch:()=>xIt,IntelligentTieringAccessTier:()=>Cpn,IntelligentTieringStatus:()=>Epn,InvalidObjectState:()=>$Tt,InvalidRequest:()=>vIt,InvalidWriteOffset:()=>CIt,InventoryConfigurationFilterSensitiveLog:()=>YK,InventoryConfigurationState:()=>gpn,InventoryDestinationFilterSensitiveLog:()=>lIt,InventoryEncryptionFilterSensitiveLog:()=>aIt,InventoryFormat:()=>bpn,InventoryFrequency:()=>xpn,InventoryIncludedObjectVersions:()=>wpn,InventoryOptionalField:()=>Apn,InventoryS3BucketDestinationFilterSensitiveLog:()=>cIt,JSONType:()=>cgn,ListBucketAnalyticsConfigurationsCommand:()=>ODt,ListBucketIntelligentTieringConfigurationsCommand:()=>NDt,ListBucketInventoryConfigurationsCommand:()=>DDt,ListBucketInventoryConfigurationsOutputFilterSensitiveLog:()=>yIt,ListBucketMetricsConfigurationsCommand:()=>kDt,ListBucketsCommand:()=>Whe,ListDirectoryBucketsCommand:()=>Khe,ListMultipartUploadsCommand:()=>MDt,ListObjectVersionsCommand:()=>UDt,ListObjectsCommand:()=>LDt,ListObjectsV2Command:()=>Xhe,ListPartsCommand:()=>Jhe,ListPartsRequestFilterSensitiveLog:()=>IIt,LocationType:()=>mpn,MFADelete:()=>ngn,MFADeleteStatus:()=>zpn,MetadataDirective:()=>spn,MetricsFilter:()=>LK,MetricsStatus:()=>Lpn,NoSuchBucket:()=>qTt,NoSuchKey:()=>HTt,NoSuchUpload:()=>NTt,NotFound:()=>GTt,ObjectAlreadyInActiveTierError:()=>RIt,ObjectAttributes:()=>Kpn,ObjectCannedACL:()=>rpn,ObjectLockEnabled:()=>Xpn,ObjectLockLegalHoldStatus:()=>ipn,ObjectLockMode:()=>opn,ObjectLockRetentionMode:()=>Jpn,ObjectNotInActiveTierError:()=>kTt,ObjectOwnership:()=>ppn,ObjectStorageClass:()=>egn,ObjectVersionStorageClass:()=>rgn,OptionalObjectAttributes:()=>tgn,OutputLocationFilterSensitiveLog:()=>UIt,OwnerOverride:()=>Zfn,PartitionDateSource:()=>Opn,Payer:()=>$pn,Permission:()=>Yfn,Protocol:()=>Vpn,PutBucketAccelerateConfigurationCommand:()=>FDt,PutBucketAclCommand:()=>BDt,PutBucketAnalyticsConfigurationCommand:()=>qDt,PutBucketCorsCommand:()=>jDt,PutBucketEncryptionCommand:()=>$Dt,PutBucketEncryptionRequestFilterSensitiveLog:()=>OIt,PutBucketIntelligentTieringConfigurationCommand:()=>zDt,PutBucketInventoryConfigurationCommand:()=>HDt,PutBucketInventoryConfigurationRequestFilterSensitiveLog:()=>NIt,PutBucketLifecycleConfigurationCommand:()=>VDt,PutBucketLoggingCommand:()=>GDt,PutBucketMetricsConfigurationCommand:()=>WDt,PutBucketNotificationConfigurationCommand:()=>KDt,PutBucketOwnershipControlsCommand:()=>XDt,PutBucketPolicyCommand:()=>JDt,PutBucketReplicationCommand:()=>QDt,PutBucketRequestPaymentCommand:()=>YDt,PutBucketTaggingCommand:()=>ZDt,PutBucketVersioningCommand:()=>ekt,PutBucketWebsiteCommand:()=>tkt,PutObjectAclCommand:()=>rkt,PutObjectCommand:()=>nkt,PutObjectLegalHoldCommand:()=>skt,PutObjectLockConfigurationCommand:()=>ikt,PutObjectOutputFilterSensitiveLog:()=>DIt,PutObjectRequestFilterSensitiveLog:()=>kIt,PutObjectRetentionCommand:()=>okt,PutObjectTaggingCommand:()=>akt,PutPublicAccessBlockCommand:()=>ckt,QuoteFields:()=>lgn,RenameObjectCommand:()=>lkt,ReplicaModificationsStatus:()=>Bpn,ReplicationRuleStatus:()=>jpn,ReplicationStatus:()=>Gpn,ReplicationTimeStatus:()=>Upn,RequestCharged:()=>Kfn,RequestPayer:()=>Xfn,RestoreObjectCommand:()=>dkt,RestoreObjectRequestFilterSensitiveLog:()=>BIt,RestoreRequestFilterSensitiveLog:()=>FIt,RestoreRequestType:()=>dgn,S3:()=>ykt,S3Client:()=>ZP,S3LocationFilterSensitiveLog:()=>LIt,S3ServiceException:()=>Ma,S3TablesBucketType:()=>Npn,SSEKMSFilterSensitiveLog:()=>oIt,SelectObjectContentCommand:()=>ukt,SelectObjectContentEventStream:()=>xge,SelectObjectContentEventStreamFilterSensitiveLog:()=>ugn,SelectObjectContentOutputFilterSensitiveLog:()=>qIt,SelectObjectContentRequestFilterSensitiveLog:()=>jIt,ServerSideEncryption:()=>tpn,ServerSideEncryptionByDefaultFilterSensitiveLog:()=>nIt,ServerSideEncryptionConfigurationFilterSensitiveLog:()=>che,ServerSideEncryptionRuleFilterSensitiveLog:()=>sIt,SessionCredentialsFilterSensitiveLog:()=>eIt,SessionMode:()=>_pn,SseKmsEncryptedObjectsStatus:()=>qpn,StorageClass:()=>apn,StorageClassAnalysisSchemaVersion:()=>vpn,TableSseAlgorithm:()=>hpn,TaggingDirective:()=>cpn,Tier:()=>sgn,TooManyParts:()=>wIt,TransitionDefaultMinimumObjectSize:()=>Tpn,TransitionStorageClass:()=>Ppn,Type:()=>Qfn,UpdateBucketMetadataInventoryTableConfigurationCommand:()=>mkt,UpdateBucketMetadataJournalTableConfigurationCommand:()=>fkt,UploadPartCommand:()=>pkt,UploadPartCopyCommand:()=>gkt,UploadPartCopyOutputFilterSensitiveLog:()=>HIt,UploadPartCopyRequestFilterSensitiveLog:()=>VIt,UploadPartOutputFilterSensitiveLog:()=>$It,UploadPartRequestFilterSensitiveLog:()=>zIt,WriteGetObjectResponseCommand:()=>hkt,WriteGetObjectResponseRequestFilterSensitiveLog:()=>GIt,__Client:()=>f.Client,paginateListBuckets:()=>GRn,paginateListDirectoryBuckets:()=>KRn,paginateListObjectsV2:()=>JRn,paginateListParts:()=>YRn,waitForBucketExists:()=>ZRn,waitForBucketNotExists:()=>tTn,waitForObjectExists:()=>nTn,waitForObjectNotExists:()=>iTn,waitUntilBucketExists:()=>eTn,waitUntilBucketNotExists:()=>rTn,waitUntilObjectExists:()=>sTn,waitUntilObjectNotExists:()=>oTn});Ckt.exports=Bfn(ITt);var qfn=lyt(),on=hue(),XRt=kk(),jfn=Mk(),$fn=Lk(),HM=Ue(),JRt=vx(),zfn=Ln(),Vpe=(lt(),F(ui)),Hfn=lCt(),Vfn=il(),QRt=Yn(),YRt=gfe(),Gfn=Ue(),ae=us(),le=io(),Wfn=S(e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),"resolveClientEndpointParameters"),de={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},f=K(),Ma=class OTt extends f.ServiceException{static{S(this,"S3ServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,OTt.prototype)}},Kfn={requester:"requester"},Xfn={requester:"requester"},NTt=class DTt extends Ma{static{S(this,"NoSuchUpload")}name="NoSuchUpload";$fault="client";constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),Object.setPrototypeOf(this,DTt.prototype)}},Jfn={Enabled:"Enabled",Suspended:"Suspended"},Qfn={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},Yfn={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},Zfn={Destination:"Destination"},epn={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},tpn={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},rpn={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},npn={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},spn={COPY:"COPY",REPLACE:"REPLACE"},ipn={OFF:"OFF",ON:"ON"},opn={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},apn={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},cpn={COPY:"COPY",REPLACE:"REPLACE"},kTt=class MTt extends Ma{static{S(this,"ObjectNotInActiveTierError")}name="ObjectNotInActiveTierError";$fault="client";constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,MTt.prototype)}},LTt=class UTt extends Ma{static{S(this,"BucketAlreadyExists")}name="BucketAlreadyExists";$fault="client";constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,UTt.prototype)}},FTt=class BTt extends Ma{static{S(this,"BucketAlreadyOwnedByYou")}name="BucketAlreadyOwnedByYou";$fault="client";constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),Object.setPrototypeOf(this,BTt.prototype)}},lpn={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},dpn={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},upn={Directory:"Directory"},mpn={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},fpn={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},ppn={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},gpn={DISABLED:"DISABLED",ENABLED:"ENABLED"},hpn={AES256:"AES256",aws_kms:"aws:kms"},ypn={DISABLED:"DISABLED",ENABLED:"ENABLED"},_pn={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},qTt=class jTt extends Ma{static{S(this,"NoSuchBucket")}name="NoSuchBucket";$fault="client";constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),Object.setPrototypeOf(this,jTt.prototype)}},MK;(e=>{e.visit=S((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(MK||(MK={}));var Spn={CSV:"CSV"},vpn={V_1:"V_1"},Epn={Disabled:"Disabled",Enabled:"Enabled"},Cpn={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},bpn={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},wpn={All:"All",Current:"Current"},Apn={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},xpn={Daily:"Daily",Weekly:"Weekly"},Ppn={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},Rpn={Disabled:"Disabled",Enabled:"Enabled"},Tpn={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},Ipn={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},Opn={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},Npn={aws:"aws",customer:"customer"},LK;(e=>{e.visit=S((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(LK||(LK={}));var Dpn={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},kpn={prefix:"prefix",suffix:"suffix"},Mpn={Disabled:"Disabled",Enabled:"Enabled"},Lpn={Disabled:"Disabled",Enabled:"Enabled"},Upn={Disabled:"Disabled",Enabled:"Enabled"},Fpn={Disabled:"Disabled",Enabled:"Enabled"},Bpn={Disabled:"Disabled",Enabled:"Enabled"},qpn={Disabled:"Disabled",Enabled:"Enabled"},jpn={Disabled:"Disabled",Enabled:"Enabled"},$pn={BucketOwner:"BucketOwner",Requester:"Requester"},zpn={Disabled:"Disabled",Enabled:"Enabled"},Hpn={Enabled:"Enabled",Suspended:"Suspended"},Vpn={http:"http",https:"https"},Gpn={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},Wpn={ENABLED:"ENABLED"},$Tt=class zTt extends Ma{static{S(this,"InvalidObjectState")}name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),Object.setPrototypeOf(this,zTt.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},HTt=class VTt extends Ma{static{S(this,"NoSuchKey")}name="NoSuchKey";$fault="client";constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),Object.setPrototypeOf(this,VTt.prototype)}},Kpn={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},Xpn={Enabled:"Enabled"},Jpn={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},GTt=class WTt extends Ma{static{S(this,"NotFound")}name="NotFound";$fault="client";constructor(t){super({name:"NotFound",$fault:"client",...t}),Object.setPrototypeOf(this,WTt.prototype)}},Qpn={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},Ypn={url:"url"},KTt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING}}),"CompleteMultipartUploadOutputFilterSensitiveLog"),XTt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"CompleteMultipartUploadRequestFilterSensitiveLog"),JTt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING}}),"CopyObjectOutputFilterSensitiveLog"),QTt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:f.SENSITIVE_STRING}}),"CopyObjectRequestFilterSensitiveLog"),YTt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING}}),"CreateMultipartUploadOutputFilterSensitiveLog"),ZTt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING}}),"CreateMultipartUploadRequestFilterSensitiveLog"),eIt=S(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:f.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:f.SENSITIVE_STRING}}),"SessionCredentialsFilterSensitiveLog"),tIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING},...e.Credentials&&{Credentials:eIt(e.Credentials)}}),"CreateSessionOutputFilterSensitiveLog"),rIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING}}),"CreateSessionRequestFilterSensitiveLog"),nIt=S(e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:f.SENSITIVE_STRING}}),"ServerSideEncryptionByDefaultFilterSensitiveLog"),sIt=S(e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:nIt(e.ApplyServerSideEncryptionByDefault)}}),"ServerSideEncryptionRuleFilterSensitiveLog"),che=S(e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>sIt(t))}}),"ServerSideEncryptionConfigurationFilterSensitiveLog"),iIt=S(e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:che(e.ServerSideEncryptionConfiguration)}}),"GetBucketEncryptionOutputFilterSensitiveLog"),oIt=S(e=>({...e,...e.KeyId&&{KeyId:f.SENSITIVE_STRING}}),"SSEKMSFilterSensitiveLog"),aIt=S(e=>({...e,...e.SSEKMS&&{SSEKMS:oIt(e.SSEKMS)}}),"InventoryEncryptionFilterSensitiveLog"),cIt=S(e=>({...e,...e.Encryption&&{Encryption:aIt(e.Encryption)}}),"InventoryS3BucketDestinationFilterSensitiveLog"),lIt=S(e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:cIt(e.S3BucketDestination)}}),"InventoryDestinationFilterSensitiveLog"),YK=S(e=>({...e,...e.Destination&&{Destination:lIt(e.Destination)}}),"InventoryConfigurationFilterSensitiveLog"),dIt=S(e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:YK(e.InventoryConfiguration)}}),"GetBucketInventoryConfigurationOutputFilterSensitiveLog"),uIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING}}),"GetObjectOutputFilterSensitiveLog"),mIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"GetObjectRequestFilterSensitiveLog"),fIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"GetObjectAttributesRequestFilterSensitiveLog"),pIt=S(e=>({...e}),"GetObjectTorrentOutputFilterSensitiveLog"),gIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING}}),"HeadObjectOutputFilterSensitiveLog"),hIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"HeadObjectRequestFilterSensitiveLog"),yIt=S(e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>YK(t))}}),"ListBucketInventoryConfigurationsOutputFilterSensitiveLog"),it=(So(),F(wf)),D=Ime(),ue=(lt(),F(ui)),Age=Ge(),Zpn=(fT(),F($F)),egn={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},tgn={RESTORE_STATUS:"RestoreStatus"},rgn={STANDARD:"STANDARD"},ngn={Disabled:"Disabled",Enabled:"Enabled"},_It=class SIt extends Ma{static{S(this,"EncryptionTypeMismatch")}name="EncryptionTypeMismatch";$fault="client";constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,SIt.prototype)}},vIt=class EIt extends Ma{static{S(this,"InvalidRequest")}name="InvalidRequest";$fault="client";constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),Object.setPrototypeOf(this,EIt.prototype)}},CIt=class bIt extends Ma{static{S(this,"InvalidWriteOffset")}name="InvalidWriteOffset";$fault="client";constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),Object.setPrototypeOf(this,bIt.prototype)}},wIt=class AIt extends Ma{static{S(this,"TooManyParts")}name="TooManyParts";$fault="client";constructor(t){super({name:"TooManyParts",$fault:"client",...t}),Object.setPrototypeOf(this,AIt.prototype)}},xIt=class PIt extends Ma{static{S(this,"IdempotencyParameterMismatch")}name="IdempotencyParameterMismatch";$fault="client";constructor(t){super({name:"IdempotencyParameterMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,PIt.prototype)}},RIt=class TIt extends Ma{static{S(this,"ObjectAlreadyInActiveTierError")}name="ObjectAlreadyInActiveTierError";$fault="client";constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,TIt.prototype)}},sgn={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},ign={SQL:"SQL"},ogn={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},agn={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},cgn={DOCUMENT:"DOCUMENT",LINES:"LINES"},lgn={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},dgn={SELECT:"SELECT"},xge;(e=>{e.visit=S((t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1]),"visit")})(xge||(xge={}));var IIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"ListPartsRequestFilterSensitiveLog"),OIt=S(e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:che(e.ServerSideEncryptionConfiguration)}}),"PutBucketEncryptionRequestFilterSensitiveLog"),NIt=S(e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:YK(e.InventoryConfiguration)}}),"PutBucketInventoryConfigurationRequestFilterSensitiveLog"),DIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING}}),"PutObjectOutputFilterSensitiveLog"),kIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:f.SENSITIVE_STRING}}),"PutObjectRequestFilterSensitiveLog"),MIt=S(e=>({...e,...e.KMSKeyId&&{KMSKeyId:f.SENSITIVE_STRING}}),"EncryptionFilterSensitiveLog"),LIt=S(e=>({...e,...e.Encryption&&{Encryption:MIt(e.Encryption)}}),"S3LocationFilterSensitiveLog"),UIt=S(e=>({...e,...e.S3&&{S3:LIt(e.S3)}}),"OutputLocationFilterSensitiveLog"),FIt=S(e=>({...e,...e.OutputLocation&&{OutputLocation:UIt(e.OutputLocation)}}),"RestoreRequestFilterSensitiveLog"),BIt=S(e=>({...e,...e.RestoreRequest&&{RestoreRequest:FIt(e.RestoreRequest)}}),"RestoreObjectRequestFilterSensitiveLog"),ugn=S(e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"SelectObjectContentEventStreamFilterSensitiveLog"),qIt=S(e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),"SelectObjectContentOutputFilterSensitiveLog"),jIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"SelectObjectContentRequestFilterSensitiveLog"),$It=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING}}),"UploadPartOutputFilterSensitiveLog"),zIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING}}),"UploadPartRequestFilterSensitiveLog"),HIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING}}),"UploadPartCopyOutputFilterSensitiveLog"),VIt=S(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:f.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:f.SENSITIVE_STRING}}),"UploadPartCopyRequestFilterSensitiveLog"),GIt=S(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:f.SENSITIVE_STRING}}),"WriteGetObjectResponseRequestFilterSensitiveLog"),mgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge],[mPn]:[()=>(0,f.isSerializableHeaderValue)(e[aTt]),()=>(0,f.dateToUtcString)(e[aTt]).toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"AbortMultipartUpload"],[iL]:[,(0,f.expectNonNull)(e[zc],"UploadId")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_AbortMultipartUploadCommand"),fgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[$C]:e[xn],[zC]:e[Pn],[HC]:e[Rn],[VC]:e[Tn],[GC]:e[In],[KP]:e[On],[hPn]:[()=>(0,f.isSerializableHeaderValue)(e[mTt]),()=>e[mTt].toString()],[cn]:e[an],[he]:e[ge],[VP]:e[JM],[nL]:e[t6],[xo]:e[ro],[ym]:e[hm],[Po]:e[no]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[iL]:[,(0,f.expectNonNull)(e[zc],"UploadId")]}),i,o;return e.MultipartUpload!==void 0&&(o=BSn(e.MultipartUpload,t),o=o.n("CompleteMultipartUpload"),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_CompleteMultipartUploadCommand"),pgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[WP]:e[kP],[YM]:e[MP],[qhe]:e[vt],[ZM]:e[LP],[eL]:e[UP],[tL]:e[FP],[rL]:e[BP],[hNt]:e[gOt],[yNt]:e[hOt],[_Nt]:[()=>(0,f.isSerializableHeaderValue)(e[UK]),()=>(0,f.dateToUtcString)(e[UK]).toString()],[SNt]:e[yOt],[vNt]:[()=>(0,f.isSerializableHeaderValue)(e[FK]),()=>(0,f.dateToUtcString)(e[FK]).toString()],[LC]:[()=>(0,f.isSerializableHeaderValue)(e[Ff]),()=>(0,f.dateToUtcString)(e[Ff]).toString()],[XP]:e[qP],[JP]:e[jP],[QP]:e[$P],[YP]:e[zP],[gPn]:e[z0n],[IPn]:e[HAn],[Tl]:e[La],[lL]:e[Nt],[dL]:e[QM],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[Il]:e[Ko],[Y_]:e[Q_],[ci]:[()=>(0,f.isSerializableHeaderValue)(e[Vn]),()=>e[Vn].toString()],[ENt]:e[_Ot],[CNt]:e[SOt],[bNt]:e[vOt],[cn]:e[an],[Hhe]:e[NC],[cL]:e[HP],[UC]:[()=>(0,f.isSerializableHeaderValue)(e[Bf]),()=>(0,f.serializeDateTime)(e[Bf]).toString()],[aL]:e[qC],[he]:e[ge],[PNt]:e[bOt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"CopyObject"]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},"se_CopyObjectCommand"),ggn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[WP]:e[kP],[XP]:e[qP],[JP]:e[jP],[QP]:e[$P],[jhe]:e[_he],[YP]:e[zP],[wxn]:[()=>(0,f.isSerializableHeaderValue)(e[pTt]),()=>e[pTt].toString()],[SPn]:e[WM]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,i;return e.CreateBucketConfiguration!==void 0&&(i=GSn(e.CreateBucketConfiguration,t),s=qr,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=i.toString()),r.m("PUT").h(n).b(s),r.build()},"se_CreateBucketCommand"),hgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Ohe]:[,""]}),i,o;return e.MetadataConfiguration!==void 0&&(o=Mvn(e.MetadataConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_CreateBucketMetadataConfigurationCommand"),ygn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Nhe]:[,""]}),i,o;return e.MetadataTableConfiguration!==void 0&&(o=Uvn(e.MetadataTableConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_CreateBucketMetadataTableConfigurationCommand"),_gn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[WP]:e[kP],[YM]:e[MP],[ZM]:e[LP],[eL]:e[UP],[tL]:e[FP],[rL]:e[BP],[LC]:[()=>(0,f.isSerializableHeaderValue)(e[Ff]),()=>(0,f.dateToUtcString)(e[Ff]).toString()],[XP]:e[qP],[JP]:e[jP],[QP]:e[$P],[YP]:e[zP],[Tl]:e[La],[lL]:e[Nt],[dL]:e[QM],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[Il]:e[Ko],[Y_]:e[Q_],[ci]:[()=>(0,f.isSerializableHeaderValue)(e[Vn]),()=>e[Vn].toString()],[cn]:e[an],[Hhe]:e[NC],[cL]:e[HP],[UC]:[()=>(0,f.isSerializableHeaderValue)(e[Bf]),()=>(0,f.serializeDateTime)(e[Bf]).toString()],[aL]:e[qC],[he]:e[ge],[qhe]:e[vt],[KP]:e[On]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[dNt]:[,""]});return r.m("POST").h(n).q(s).b(void 0),r.build()},"se_CreateMultipartUploadCommand"),Sgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[Pxn]:e[UAn],[Tl]:e[La],[Il]:e[Ko],[Y_]:e[Q_],[ci]:[()=>(0,f.isSerializableHeaderValue)(e[Vn]),()=>e[Vn].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[fxn]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_CreateSessionCommand"),vgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteBucketCommand"),Egn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[r6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketAnalyticsConfigurationCommand"),Cgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[xhe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketCorsCommand"),bgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Phe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketEncryptionCommand"),wgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[c6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketIntelligentTieringConfigurationCommand"),Agn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[a6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketInventoryConfigurationCommand"),xgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Ihe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketLifecycleCommand"),Pgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Ohe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketMetadataConfigurationCommand"),Rgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Nhe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketMetadataTableConfigurationCommand"),Tgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[l6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketMetricsConfigurationCommand"),Ign=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[khe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketOwnershipControlsCommand"),Ogn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Mhe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketPolicyCommand"),Ngn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Uhe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketReplicationCommand"),Dgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[GP]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketTaggingCommand"),kgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Fhe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketWebsiteCommand"),Mgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[$he]:e[She],[cn]:e[an],[Bhe]:[()=>(0,f.isSerializableHeaderValue)(e[RP]),()=>e[RP].toString()],[he]:e[ge],[VP]:e[JM],[fPn]:[()=>(0,f.isSerializableHeaderValue)(e[cTt]),()=>(0,f.dateToUtcString)(e[cTt]).toString()],[pPn]:[()=>(0,f.isSerializableHeaderValue)(e[lTt]),()=>e[lTt].toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"DeleteObject"],[Hc]:[,e[Ft]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteObjectCommand"),Lgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[$he]:e[She],[cn]:e[an],[Bhe]:[()=>(0,f.isSerializableHeaderValue)(e[RP]),()=>e[RP].toString()],[he]:e[ge],[Nn]:e[vt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[ZAn]:[,""]}),i,o;return e.Delete!==void 0&&(o=JSn(e.Delete,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_DeleteObjectsCommand"),Ugn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[GP]:[,""],[Hc]:[,e[Ft]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteObjectTaggingCommand"),Fgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Lhe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeletePublicAccessBlockCommand"),Bgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge],[cn]:e[an]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[VOt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketAccelerateConfigurationCommand"),qgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[n6]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketAclCommand"),jgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[r6]:[,""],[Ro]:[,"GetBucketAnalyticsConfiguration"],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketAnalyticsConfigurationCommand"),$gn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[xhe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketCorsCommand"),zgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Phe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketEncryptionCommand"),Hgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[c6]:[,""],[Ro]:[,"GetBucketIntelligentTieringConfiguration"],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketIntelligentTieringConfigurationCommand"),Vgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[a6]:[,""],[Ro]:[,"GetBucketInventoryConfiguration"],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketInventoryConfigurationCommand"),Ggn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Ihe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketLifecycleConfigurationCommand"),Wgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[QOt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketLocationCommand"),Kgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[YOt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketLoggingCommand"),Xgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Ohe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketMetadataConfigurationCommand"),Jgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Nhe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketMetadataTableConfigurationCommand"),Qgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[l6]:[,""],[Ro]:[,"GetBucketMetricsConfiguration"],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketMetricsConfigurationCommand"),Ygn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[ZOt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketNotificationConfigurationCommand"),Zgn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[khe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketOwnershipControlsCommand"),ehn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Mhe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketPolicyCommand"),thn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[lxn]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketPolicyStatusCommand"),rhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Uhe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketReplicationCommand"),nhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[tNt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketRequestPaymentCommand"),shn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[GP]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketTaggingCommand"),ihn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[uNt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketVersioningCommand"),ohn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Fhe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketWebsiteCommand"),ahn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[VP]:e[JM],[Rhe]:[()=>(0,f.isSerializableHeaderValue)(e[BK]),()=>(0,f.dateToUtcString)(e[BK]).toString()],[nL]:e[t6],[The]:[()=>(0,f.isSerializableHeaderValue)(e[qK]),()=>(0,f.dateToUtcString)(e[qK]).toString()],[rNt]:e[kOt],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[cn]:e[an],[he]:e[ge],[gNt]:e[pOt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"GetObject"],[nNt]:[,e[MOt]],[sNt]:[,e[LOt]],[iNt]:[,e[UOt]],[oNt]:[,e[FOt]],[aNt]:[,e[BOt]],[cNt]:[()=>e.ResponseExpires!==void 0,()=>(0,f.dateToUtcString)(e[qOt]).toString()],[Hc]:[,e[Ft]],[d6]:[()=>e.PartNumber!==void 0,()=>e[qc].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectCommand"),chn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[n6]:[,""],[Hc]:[,e[Ft]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectAclCommand"),lhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[yPn]:[()=>(0,f.isSerializableHeaderValue)(e[Hg]),()=>e[Hg].toString()],[vPn]:e[G_],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[cn]:e[an],[he]:e[ge],[_Pn]:[()=>(0,f.isSerializableHeaderValue)(e[fTt]),()=>(e[fTt]||[]).map(f.quoteHeader).join(", ")]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[QAn]:[,""],[Hc]:[,e[Ft]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectAttributesCommand"),dhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[JOt]:[,""],[Hc]:[,e[Ft]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectLegalHoldCommand"),uhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[eNt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectLockConfigurationCommand"),mhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[lNt]:[,""],[Hc]:[,e[Ft]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectRetentionCommand"),fhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge],[cn]:e[an]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[GP]:[,""],[Hc]:[,e[Ft]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectTaggingCommand"),phn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[yxn]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectTorrentCommand"),ghn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Lhe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetPublicAccessBlockCommand"),hhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("HEAD").h(n).b(void 0),r.build()},"se_HeadBucketCommand"),yhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[VP]:e[JM],[Rhe]:[()=>(0,f.isSerializableHeaderValue)(e[BK]),()=>(0,f.dateToUtcString)(e[BK]).toString()],[nL]:e[t6],[The]:[()=>(0,f.isSerializableHeaderValue)(e[qK]),()=>(0,f.dateToUtcString)(e[qK]).toString()],[rNt]:e[kOt],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[cn]:e[an],[he]:e[ge],[gNt]:e[pOt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[nNt]:[,e[MOt]],[sNt]:[,e[LOt]],[iNt]:[,e[UOt]],[oNt]:[,e[FOt]],[aNt]:[,e[BOt]],[cNt]:[()=>e.ResponseExpires!==void 0,()=>(0,f.dateToUtcString)(e[qOt]).toString()],[Hc]:[,e[Ft]],[d6]:[()=>e.PartNumber!==void 0,()=>e[qc].toString()]});return r.m("HEAD").h(n).q(s).b(void 0),r.build()},"se_HeadObjectCommand"),_hn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[r6]:[,""],[Ro]:[,"ListBucketAnalyticsConfigurations"],[jC]:[,e[hn]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketAnalyticsConfigurationsCommand"),Shn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[c6]:[,""],[Ro]:[,"ListBucketIntelligentTieringConfigurations"],[jC]:[,e[hn]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketIntelligentTieringConfigurationsCommand"),vhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[a6]:[,""],[Ro]:[,"ListBucketInventoryConfigurations"],[jC]:[,e[hn]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketInventoryConfigurationsCommand"),Ehn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[l6]:[,""],[Ro]:[,"ListBucketMetricsConfigurations"],[jC]:[,e[hn]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketMetricsConfigurationsCommand"),Chn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n={};r.bp("/");let s=(0,f.map)({[Ro]:[,"ListBuckets"],[ixn]:[()=>e.MaxBuckets!==void 0,()=>e[j0n].toString()],[jC]:[,e[hn]],[sL]:[,e[Se]],[YAn]:[,e[GM]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketsCommand"),bhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n={};r.bp("/");let s=(0,f.map)({[Ro]:[,"ListDirectoryBuckets"],[jC]:[,e[hn]],[oxn]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[H0n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListDirectoryBucketsCommand"),whn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge],[cn]:e[an]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[dNt]:[,""],[s6]:[,e[Oa]],[i6]:[,e[Da]],[XOt]:[,e[V_]],[cxn]:[()=>e.MaxUploads!==void 0,()=>e[fK].toString()],[sL]:[,e[Se]],[_xn]:[,e[NK]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListMultipartUploadsCommand"),Ahn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge],[zhe]:[()=>(0,f.isSerializableHeaderValue)(e[TP]),()=>(e[TP]||[]).map(f.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[s6]:[,e[Oa]],[i6]:[,e[Da]],[sxn]:[,e[uK]],[Dhe]:[()=>e.MaxKeys!==void 0,()=>e[mu].toString()],[sL]:[,e[Se]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectsCommand"),xhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge],[zhe]:[()=>(0,f.isSerializableHeaderValue)(e[TP]),()=>(e[TP]||[]).map(f.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[txn]:[,"2"],[s6]:[,e[Oa]],[i6]:[,e[Da]],[Dhe]:[()=>e.MaxKeys!==void 0,()=>e[mu].toString()],[sL]:[,e[Se]],[jC]:[,e[hn]],[exn]:[()=>e.FetchOwner!==void 0,()=>e[i0n].toString()],[pxn]:[,e[wK]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectsV2Command"),Phn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[he]:e[ge],[cn]:e[an],[zhe]:[()=>(0,f.isSerializableHeaderValue)(e[TP]),()=>(e[TP]||[]).map(f.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Sxn]:[,""],[s6]:[,e[Oa]],[i6]:[,e[Da]],[XOt]:[,e[V_]],[Dhe]:[()=>e.MaxKeys!==void 0,()=>e[mu].toString()],[sL]:[,e[Se]],[vxn]:[,e[kK]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectVersionsCommand"),Rhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[cn]:e[an],[he]:e[ge],[xo]:e[ro],[ym]:e[hm],[Po]:e[no]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"ListParts"],[axn]:[()=>e.MaxParts!==void 0,()=>e[Hg].toString()],[dxn]:[,e[G_]],[iL]:[,(0,f.expectNonNull)(e[zc],"UploadId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListPartsCommand"),Thn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[he]:e[ge],[Nn]:e[vt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[VOt]:[,""]}),i,o;return e.AccelerateConfiguration!==void 0&&(o=xSn(e.AccelerateConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketAccelerateConfigurationCommand"),Ihn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[WP]:e[kP],[Ks]:e[Ws],[Nn]:e[vt],[XP]:e[qP],[JP]:e[jP],[QP]:e[$P],[jhe]:e[_he],[YP]:e[zP],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[n6]:[,""]}),i,o;return e.AccessControlPolicy!==void 0&&(o=WIt(e.AccessControlPolicy,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketAclCommand"),Ohn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[r6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]}),i,o;return e.AnalyticsConfiguration!==void 0&&(o=NSn(e.AnalyticsConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketAnalyticsConfigurationCommand"),Nhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[xhe]:[,""]}),i,o;return e.CORSConfiguration!==void 0&&(o=zSn(e.CORSConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketCorsCommand"),Dhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Phe]:[,""]}),i,o;return e.ServerSideEncryptionConfiguration!==void 0&&(o=REn(e.ServerSideEncryptionConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketEncryptionCommand"),khn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[c6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]}),i,o;return e.IntelligentTieringConfiguration!==void 0&&(o=uvn(e.IntelligentTieringConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketIntelligentTieringConfigurationCommand"),Mhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[a6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]}),i,o;return e.InventoryConfiguration!==void 0&&(o=fvn(e.InventoryConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketInventoryConfigurationCommand"),Lhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Nn]:e[vt],[he]:e[ge],[Vhe]:e[Ahe]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Ihe]:[,""]}),i,o;return e.LifecycleConfiguration!==void 0&&(o=USn(e.LifecycleConfiguration,t),o=o.n("LifecycleConfiguration"),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketLifecycleConfigurationCommand"),Uhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[YOt]:[,""]}),i,o;return e.BucketLoggingStatus!==void 0&&(o=FSn(e.BucketLoggingStatus,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketLoggingCommand"),Fhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[l6]:[,""],[Eu]:[,(0,f.expectNonNull)(e[rt],"Id")]}),i,o;return e.MetricsConfiguration!==void 0&&(o=qvn(e.MetricsConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketMetricsConfigurationCommand"),Bhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[he]:e[ge],[TPn]:[()=>(0,f.isSerializableHeaderValue)(e[hTt]),()=>e[hTt].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[ZOt]:[,""]}),i,o;return e.NotificationConfiguration!==void 0&&(o=Vvn(e.NotificationConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketNotificationConfigurationCommand"),qhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[he]:e[ge],[Nn]:e[vt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[khe]:[,""]}),i,o;return e.OwnershipControls!==void 0&&(o=eEn(e.OwnershipControls,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketOwnershipControlsCommand"),jhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"text/plain",[Ks]:e[Ws],[Nn]:e[vt],[xxn]:[()=>(0,f.isSerializableHeaderValue)(e[tTt]),()=>e[tTt].toString()],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Mhe]:[,""]}),i,o;return e.Policy!==void 0&&(o=e.Policy,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketPolicyCommand"),$hn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[pNt]:e[zOt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Uhe]:[,""]}),i,o;return e.ReplicationConfiguration!==void 0&&(o=uEn(e.ReplicationConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketReplicationCommand"),zhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[tNt]:[,""]}),i,o;return e.RequestPaymentConfiguration!==void 0&&(o=yEn(e.RequestPaymentConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketRequestPaymentCommand"),Hhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[GP]:[,""]}),i,o;return e.Tagging!==void 0&&(o=mhe(e.Tagging,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketTaggingCommand"),Vhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[$he]:e[She],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[uNt]:[,""]}),i,o;return e.VersioningConfiguration!==void 0&&(o=KEn(e.VersioningConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketVersioningCommand"),Ghn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Fhe]:[,""]}),i,o;return e.WebsiteConfiguration!==void 0&&(o=XEn(e.WebsiteConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketWebsiteCommand"),Whn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[rL]:e[BP]||"application/octet-stream",[WP]:e[kP],[YM]:e[MP],[ZM]:e[LP],[eL]:e[UP],[tL]:e[FP],[MC]:[()=>(0,f.isSerializableHeaderValue)(e[K_]),()=>e[K_].toString()],[Ks]:e[Ws],[Nn]:e[vt],[$C]:e[xn],[zC]:e[Pn],[HC]:e[Rn],[VC]:e[Tn],[GC]:e[In],[LC]:[()=>(0,f.isSerializableHeaderValue)(e[Ff]),()=>(0,f.dateToUtcString)(e[Ff]).toString()],[VP]:e[JM],[nL]:e[t6],[XP]:e[qP],[JP]:e[jP],[QP]:e[$P],[YP]:e[zP],[OPn]:[()=>(0,f.isSerializableHeaderValue)(e[bTt]),()=>e[bTt].toString()],[Tl]:e[La],[lL]:e[Nt],[dL]:e[QM],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[Il]:e[Ko],[Y_]:e[Q_],[ci]:[()=>(0,f.isSerializableHeaderValue)(e[Vn]),()=>e[Vn].toString()],[cn]:e[an],[Hhe]:e[NC],[cL]:e[HP],[UC]:[()=>(0,f.isSerializableHeaderValue)(e[Bf]),()=>(0,f.serializeDateTime)(e[Bf]).toString()],[aL]:e[qC],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"PutObject"]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectCommand"),Khn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[WP]:e[kP],[Ks]:e[Ws],[Nn]:e[vt],[XP]:e[qP],[JP]:e[jP],[QP]:e[$P],[jhe]:e[_he],[YP]:e[zP],[cn]:e[an],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[n6]:[,""],[Hc]:[,e[Ft]]}),i,o;return e.AccessControlPolicy!==void 0&&(o=WIt(e.AccessControlPolicy,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectAclCommand"),Xhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[cn]:e[an],[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[JOt]:[,""],[Hc]:[,e[Ft]]}),i,o;return e.LegalHold!==void 0&&(o=Xvn(e.LegalHold,t),o=o.n("LegalHold"),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectLegalHoldCommand"),Jhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[cn]:e[an],[pNt]:e[zOt],[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[eNt]:[,""]}),i,o;return e.ObjectLockConfiguration!==void 0&&(o=Kvn(e.ObjectLockConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectLockConfigurationCommand"),Qhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[cn]:e[an],[Bhe]:[()=>(0,f.isSerializableHeaderValue)(e[RP]),()=>e[RP].toString()],[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[lNt]:[,""],[Hc]:[,e[Ft]]}),i,o;return e.Retention!==void 0&&(o=Jvn(e.Retention,t),o=o.n("Retention"),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectRetentionCommand"),Yhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge],[cn]:e[an]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[GP]:[,""],[Hc]:[,e[Ft]]}),i,o;return e.Tagging!==void 0&&(o=mhe(e.Tagging,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectTaggingCommand"),Zhn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[Lhe]:[,""]}),i,o;return e.PublicAccessBlockConfiguration!==void 0&&(o=iEn(e.PublicAccessBlockConfiguration,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutPublicAccessBlockCommand"),eyn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[bPn]:e[xAn],[VP]:e[Kwn],[nL]:e[Xwn],[Rhe]:[()=>(0,f.isSerializableHeaderValue)(e[rTt]),()=>(0,f.dateToUtcString)(e[rTt]).toString()],[The]:[()=>(0,f.isSerializableHeaderValue)(e[nTt]),()=>(0,f.dateToUtcString)(e[nTt]).toString()],[wPn]:e[NAn],[xPn]:e[DAn],[APn]:[()=>(0,f.isSerializableHeaderValue)(e[yTt]),()=>(0,f.dateToUtcString)(e[yTt]).toString()],[PPn]:[()=>(0,f.isSerializableHeaderValue)(e[_Tt]),()=>(0,f.dateToUtcString)(e[_Tt]).toString()],[Txn]:e[Vwn]??(0,Zpn.v4)()});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[uxn]:[,""]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},"se_RenameObjectCommand"),tyn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[cn]:e[an],[Nn]:e[vt],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[mxn]:[,""],[Hc]:[,e[Ft]]}),i,o;return e.RestoreRequest!==void 0&&(o=SEn(e.RestoreRequest,t),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_RestoreObjectCommand"),ryn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[gxn]:[,""],[hxn]:[,"2"]}),i;i=qr;let o=new D.XmlNode(FAn);return o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o.cc(e,AOt),o.cc(e,wOt),e[yC]!=null&&o.c(JIt(e[yC],t).n(yC)),e[CC]!=null&&o.c(QIt(e[CC],t).n(CC)),e[CK]!=null&&o.c(_En(e[CK],t).n(CK)),e[xK]!=null&&o.c(AEn(e[xK],t).n(xK)),i+=o.toString(),r.m("POST").h(n).q(s).b(i),r.build()},"se_SelectObjectContentCommand"),nyn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[rxn]:[,""]}),i,o;return e.InventoryTableConfiguration!==void 0&&(o=Evn(e.InventoryTableConfiguration,t),o=o.n("InventoryTableConfiguration"),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_UpdateBucketMetadataInventoryTableConfigurationCommand"),syn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/xml",[Ks]:e[Ws],[Nn]:e[vt],[he]:e[ge]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,f.map)({[nxn]:[,""]}),i,o;return e.JournalTableConfiguration!==void 0&&(o=bvn(e.JournalTableConfiguration,t),o=o.n("JournalTableConfiguration"),i=qr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_UpdateBucketMetadataJournalTableConfigurationCommand"),iyn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"content-type":"application/octet-stream",[MC]:[()=>(0,f.isSerializableHeaderValue)(e[K_]),()=>e[K_].toString()],[Ks]:e[Ws],[Nn]:e[vt],[$C]:e[xn],[zC]:e[Pn],[HC]:e[Rn],[VC]:e[Tn],[GC]:e[In],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[cn]:e[an],[he]:e[ge]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"UploadPart"],[d6]:[(0,f.expectNonNull)(e.PartNumber,"PartNumber")!=null,()=>e[qc].toString()],[iL]:[,(0,f.expectNonNull)(e[zc],"UploadId")]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},"se_UploadPartCommand"),oyn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[hNt]:e[gOt],[yNt]:e[hOt],[_Nt]:[()=>(0,f.isSerializableHeaderValue)(e[UK]),()=>(0,f.dateToUtcString)(e[UK]).toString()],[SNt]:e[yOt],[vNt]:[()=>(0,f.isSerializableHeaderValue)(e[FK]),()=>(0,f.dateToUtcString)(e[FK]).toString()],[Rxn]:e[$wn],[xo]:e[ro],[ym]:e[hm],[Po]:e[no],[ENt]:e[_Ot],[CNt]:e[SOt],[bNt]:e[vOt],[cn]:e[an],[he]:e[ge],[PNt]:e[bOt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,f.map)({[Ro]:[,"UploadPartCopy"],[d6]:[(0,f.expectNonNull)(e.PartNumber,"PartNumber")!=null,()=>e[qc].toString()],[iL]:[,(0,f.expectNonNull)(e[zc],"UploadId")]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},"se_UploadPartCopyCommand"),ayn=S(async(e,t)=>{let r=(0,ue.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),"content-type":"application/octet-stream",[CPn]:e[SAn],[RPn]:e[PAn],[uPn]:[()=>(0,f.isSerializableHeaderValue)(e[gTt]),()=>e[gTt].toString()],[Ixn]:e[rK],[Oxn]:e[nK],[Nxn]:e[hhe],[Dxn]:e[MP],[kxn]:e[LP],[Mxn]:e[UP],[Lxn]:e[FP],[MC]:[()=>(0,f.isSerializableHeaderValue)(e[K_]),()=>e[K_].toString()],[Uxn]:e[yhe],[Fxn]:e[BP],[$xn]:e[xn],[zxn]:e[Pn],[Hxn]:e[Rn],[Vxn]:e[Tn],[Gxn]:e[In],[Wxn]:[()=>(0,f.isSerializableHeaderValue)(e[fm]),()=>e[fm].toString()],[Bxn]:e[yn],[qxn]:[()=>(0,f.isSerializableHeaderValue)(e[Ff]),()=>(0,f.dateToUtcString)(e[Ff]).toString()],[Kxn]:e[xi],[jxn]:[()=>(0,f.isSerializableHeaderValue)(e[Gs]),()=>(0,f.dateToUtcString)(e[Gs]).toString()],[Xxn]:[()=>(0,f.isSerializableHeaderValue)(e[jK]),()=>e[jK].toString()],[Yxn]:e[HP],[Qxn]:e[qC],[Zxn]:[()=>(0,f.isSerializableHeaderValue)(e[Bf]),()=>(0,f.serializeDateTime)(e[Bf]).toString()],[Jxn]:[()=>(0,f.isSerializableHeaderValue)(e[IP]),()=>e[IP].toString()],[rPn]:e[bhe],[tPn]:e[Wn],[ePn]:e[whe],[sPn]:e[La],[aPn]:e[ro],[iPn]:e[Ko],[cPn]:e[no],[nPn]:e[Nt],[lPn]:[()=>(0,f.isSerializableHeaderValue)(e[GK]),()=>e[GK].toString()],[dPn]:e[Ft],[oPn]:[()=>(0,f.isSerializableHeaderValue)(e[Vn]),()=>e[Vn].toString()]});r.bp("/WriteGetObjectResponse");let s,i;e.Body!==void 0&&(i=e.Body,s=i);let{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0){if(o="{RequestRoute}."+o,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(o=o.replace("{RequestRoute}",e.RequestRoute),!(0,Age.isValidHostname)(o))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return r.hn(o),r.m("POST").h(n).b(s),r.build()},"se_WriteGetObjectResponseCommand"),cyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_AbortMultipartUploadCommand"),lyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[xi]:[,e.headers[oL]],[La]:[,e.headers[Tl]],[Ft]:[,e.headers[qf]],[Ko]:[,e.headers[Il]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[mr]!=null&&(r[mr]=(0,f.expectString)(n[mr])),n[xn]!=null&&(r[xn]=(0,f.expectString)(n[xn])),n[Pn]!=null&&(r[Pn]=(0,f.expectString)(n[Pn])),n[Rn]!=null&&(r[Rn]=(0,f.expectString)(n[Rn])),n[Tn]!=null&&(r[Tn]=(0,f.expectString)(n[Tn])),n[In]!=null&&(r[In]=(0,f.expectString)(n[In])),n[On]!=null&&(r[On]=(0,f.expectString)(n[On])),n[yn]!=null&&(r[yn]=(0,f.expectString)(n[yn])),n[ht]!=null&&(r[ht]=(0,f.expectString)(n[ht])),n[_C]!=null&&(r[_C]=(0,f.expectString)(n[_C])),r},"de_CompleteMultipartUploadCommand"),dyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[xi]:[,e.headers[oL]],[EOt]:[,e.headers[wNt]],[Ft]:[,e.headers[qf]],[La]:[,e.headers[Tl]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Q_]:[,e.headers[Y_]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Wn]:[,e.headers[cs]]}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.CopyObjectResult=uCn(n,t),r},"de_CopyObjectCommand"),uyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[_C]:[,e.headers[QOt]],[VM]:[,e.headers[fNt]]});return await(0,f.collectBody)(e.body,t),r},"de_CreateBucketCommand"),myn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_CreateBucketMetadataConfigurationCommand"),fyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_CreateBucketMetadataTableConfigurationCommand"),pyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[mOt]:[()=>e.headers[WK]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[WK]))],[fOt]:[,e.headers[mNt]],[La]:[,e.headers[Tl]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Q_]:[,e.headers[Y_]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Wn]:[,e.headers[cs]],[vt]:[,e.headers[qhe]],[On]:[,e.headers[KP]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[mr]!=null&&(r[mr]=(0,f.expectString)(n[mr])),n[ht]!=null&&(r[ht]=(0,f.expectString)(n[ht])),n[zc]!=null&&(r[zc]=(0,f.expectString)(n[zc])),r},"de_CreateMultipartUploadCommand"),gyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[La]:[,e.headers[Tl]],[Ko]:[,e.headers[Il]],[Q_]:[,e.headers[Y_]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[Wpe]!=null&&(r[Wpe]=Zbn(n[Wpe],t)),r},"de_CreateSessionCommand"),hyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketCommand"),yyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketAnalyticsConfigurationCommand"),_yn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketCorsCommand"),Syn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketEncryptionCommand"),vyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketIntelligentTieringConfigurationCommand"),Eyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketInventoryConfigurationCommand"),Cyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketLifecycleCommand"),byn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketMetadataConfigurationCommand"),wyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketMetadataTableConfigurationCommand"),Ayn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketMetricsConfigurationCommand"),xyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketOwnershipControlsCommand"),Pyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketPolicyCommand"),Ryn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketReplicationCommand"),Tyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketTaggingCommand"),Iyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeleteBucketWebsiteCommand"),Oyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[fm]:[()=>e.headers[X_]!==void 0,()=>(0,f.parseBoolean)(e.headers[X_])],[Ft]:[,e.headers[qf]],[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_DeleteObjectCommand"),Nyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.Deleted===""?r[XW]=[]:n[XW]!=null&&(r[XW]=yCn((0,f.getArrayIfSingleItem)(n[XW]),t)),n.Error===""?r[iTt]=[]:n[gm]!=null&&(r[iTt]=PCn((0,f.getArrayIfSingleItem)(n[gm]),t)),r},"de_DeleteObjectsCommand"),Dyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Ft]:[,e.headers[qf]]});return await(0,f.collectBody)(e.body,t),r},"de_DeleteObjectTaggingCommand"),kyn=S(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_DeletePublicAccessBlockCommand"),Myn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[Pe]!=null&&(r[Pe]=(0,f.expectString)(n[Pe])),r},"de_GetBucketAccelerateConfigurationCommand"),Lyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.AccessControlList===""?r[KM]=[]:n[aC]!=null&&n[aC][Kg]!=null&&(r[KM]=sOt((0,f.getArrayIfSingleItem)(n[aC][Kg]),t)),n[Ar]!=null&&(r[Ar]=J_(n[Ar],t)),r},"de_GetBucketAclCommand"),Uyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.AnalyticsConfiguration=eOt(n,t),r},"de_GetBucketAnalyticsConfigurationCommand"),Fyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.CORSRule===""?r[Lge]=[]:n[Mge]!=null&&(r[Lge]=pCn((0,f.getArrayIfSingleItem)(n[Mge]),t)),r},"de_GetBucketCorsCommand"),Byn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.ServerSideEncryptionConfiguration=Jbn(n,t),r},"de_GetBucketEncryptionCommand"),qyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.IntelligentTieringConfiguration=oOt(n,t),r},"de_GetBucketIntelligentTieringConfigurationCommand"),jyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.InventoryConfiguration=aOt(n,t),r},"de_GetBucketInventoryConfigurationCommand"),$yn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Ahe]:[,e.headers[Vhe]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.Rule===""?r[vu]=[]:n[jc]!=null&&(r[vu]=rbn((0,f.getArrayIfSingleItem)(n[jc]),t)),r},"de_GetBucketLifecycleConfigurationCommand"),zyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[hP]!=null&&(r[hP]=(0,f.expectString)(n[hP])),r},"de_GetBucketLocationCommand"),Hyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[SC]!=null&&(r[SC]=nbn(n[SC],t)),r},"de_GetBucketLoggingCommand"),Vyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.GetBucketMetadataConfigurationResult=DCn(n,t),r},"de_GetBucketMetadataConfigurationCommand"),Gyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.GetBucketMetadataTableConfigurationResult=kCn(n,t),r},"de_GetBucketMetadataTableConfigurationCommand"),Wyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.MetricsConfiguration=cOt(n,t),r},"de_GetBucketMetricsConfigurationCommand"),Kyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[fC]!=null&&(r[fC]=RCn(n[fC],t)),n.CloudFunctionConfiguration===""?r[Hge]=[]:n[eTt]!=null&&(r[Hge]=QCn((0,f.getArrayIfSingleItem)(n[eTt]),t)),n.QueueConfiguration===""?r[Jge]=[]:n[Xge]!=null&&(r[Jge]=kbn((0,f.getArrayIfSingleItem)(n[Xge]),t)),n.TopicConfiguration===""?r[rhe]=[]:n[the]!=null&&(r[rhe]=pwn((0,f.getArrayIfSingleItem)(n[the]),t)),r},"de_GetBucketNotificationConfigurationCommand"),Xyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.OwnershipControls=bbn(n,t),r},"de_GetBucketOwnershipControlsCommand"),Jyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=await ywn(e.body,t);return r.Policy=(0,f.expectString)(n),r},"de_GetBucketPolicyCommand"),Qyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.PolicyStatus=Ibn(n,t),r},"de_GetBucketPolicyStatusCommand"),Yyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.ReplicationConfiguration=Bbn(n,t),r},"de_GetBucketReplicationCommand"),Zyn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[yK]!=null&&(r[yK]=(0,f.expectString)(n[yK])),r},"de_GetBucketRequestPaymentCommand"),e_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.TagSet===""?r[mm]=[]:n[mm]!=null&&n[mm][At]!=null&&(r[mm]=BC((0,f.getArrayIfSingleItem)(n[mm][At]),t)),r},"de_GetBucketTaggingCommand"),t_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[Gge]!=null&&(r[mK]=(0,f.expectString)(n[Gge])),n[Pe]!=null&&(r[Pe]=(0,f.expectString)(n[Pe])),r},"de_GetBucketVersioningCommand"),r_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[pC]!=null&&(r[pC]=xCn(n[pC],t)),n[hC]!=null&&(r[hC]=UCn(n[hC],t)),n[wC]!=null&&(r[wC]=Ubn(n[wC],t)),n.RoutingRules===""?r[Kx]=[]:n[Kx]!=null&&n[Kx][zK]!=null&&(r[Kx]=Gbn((0,f.getArrayIfSingleItem)(n[Kx][zK]),t)),r},"de_GetBucketWebsiteCommand"),n_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[fm]:[()=>e.headers[X_]!==void 0,()=>(0,f.parseBoolean)(e.headers[X_])],[hhe]:[,e.headers[GOt]],[xi]:[,e.headers[oL]],[whe]:[,e.headers[ANt]],[Gs]:[()=>e.headers[OP]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[OP]))],[K_]:[()=>e.headers[MC]!==void 0,()=>(0,f.strictParseLong)(e.headers[MC])],[yn]:[,e.headers[o6]],[xn]:[,e.headers[$C]],[Pn]:[,e.headers[zC]],[Rn]:[,e.headers[HC]],[Tn]:[,e.headers[VC]],[In]:[,e.headers[GC]],[On]:[,e.headers[KP]],[jK]:[()=>e.headers[KK]!==void 0,()=>(0,f.strictParseInt32)(e.headers[KK])],[Ft]:[,e.headers[qf]],[MP]:[,e.headers[YM]],[LP]:[,e.headers[ZM]],[UP]:[,e.headers[eL]],[FP]:[,e.headers[tL]],[yhe]:[,e.headers[WOt]],[BP]:[,e.headers[rL]],[Ff]:[()=>e.headers[LC]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[LC]))],[COt]:[,e.headers[KOt]],[QM]:[,e.headers[dL]],[La]:[,e.headers[Tl]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Nt]:[,e.headers[lL]],[Wn]:[,e.headers[cs]],[bhe]:[,e.headers[xNt]],[IP]:[()=>e.headers[XK]!==void 0,()=>(0,f.strictParseInt32)(e.headers[XK])],[GK]:[()=>e.headers[JK]!==void 0,()=>(0,f.strictParseInt32)(e.headers[JK])],[HP]:[,e.headers[cL]],[Bf]:[()=>e.headers[UC]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e.headers[UC]))],[qC]:[,e.headers[aL]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,i)=>(s[i.substring(11)]=e.headers[i],s),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectCommand"),s_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.AccessControlList===""?r[KM]=[]:n[aC]!=null&&n[aC][Kg]!=null&&(r[KM]=sOt((0,f.getArrayIfSingleItem)(n[aC][Kg]),t)),n[Ar]!=null&&(r[Ar]=J_(n[Ar],t)),r},"de_GetObjectAclCommand"),i_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[fm]:[()=>e.headers[X_]!==void 0,()=>(0,f.parseBoolean)(e.headers[X_])],[Gs]:[()=>e.headers[OP]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[OP]))],[Ft]:[,e.headers[qf]],[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[Jpe]!=null&&(r[Jpe]=aCn(n[Jpe],t)),n[yn]!=null&&(r[yn]=(0,f.expectString)(n[yn])),n[gge]!=null&&(r[gge]=MCn(n[gge],t)),n[hge]!=null&&(r[hge]=(0,f.strictParseLong)(n[hge])),n[Nt]!=null&&(r[Nt]=(0,f.expectString)(n[Nt])),r},"de_GetObjectAttributesCommand"),o_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.LegalHold=ybn(n,t),r},"de_GetObjectLegalHoldCommand"),a_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.ObjectLockConfiguration=hbn(n,t),r},"de_GetObjectLockConfigurationCommand"),c_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.Retention=_bn(n,t),r},"de_GetObjectRetentionCommand"),l_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Ft]:[,e.headers[qf]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.TagSet===""?r[mm]=[]:n[mm]!=null&&n[mm][At]!=null&&(r[mm]=BC((0,f.getArrayIfSingleItem)(n[mm][At]),t)),r},"de_GetObjectTaggingCommand"),d_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectTorrentCommand"),u_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.PublicAccessBlockConfiguration=Nbn(n,t),r},"de_GetPublicAccessBlockCommand"),m_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[VM]:[,e.headers[fNt]],[Mwn]:[,e.headers[bxn]],[Nwn]:[,e.headers[Cxn]],[GM]:[,e.headers[Axn]],[wwn]:[()=>e.headers[ATt]!==void 0,()=>(0,f.parseBoolean)(e.headers[ATt])]});return await(0,f.collectBody)(e.body,t),r},"de_HeadBucketCommand"),f_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[fm]:[()=>e.headers[X_]!==void 0,()=>(0,f.parseBoolean)(e.headers[X_])],[hhe]:[,e.headers[GOt]],[xi]:[,e.headers[oL]],[whe]:[,e.headers[ANt]],[Awn]:[,e.headers[Exn]],[Gs]:[()=>e.headers[OP]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[OP]))],[K_]:[()=>e.headers[MC]!==void 0,()=>(0,f.strictParseLong)(e.headers[MC])],[xn]:[,e.headers[$C]],[Pn]:[,e.headers[zC]],[Rn]:[,e.headers[HC]],[Tn]:[,e.headers[VC]],[In]:[,e.headers[GC]],[On]:[,e.headers[KP]],[yn]:[,e.headers[o6]],[jK]:[()=>e.headers[KK]!==void 0,()=>(0,f.strictParseInt32)(e.headers[KK])],[Ft]:[,e.headers[qf]],[MP]:[,e.headers[YM]],[LP]:[,e.headers[ZM]],[UP]:[,e.headers[eL]],[FP]:[,e.headers[tL]],[BP]:[,e.headers[rL]],[yhe]:[,e.headers[WOt]],[Ff]:[()=>e.headers[LC]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[LC]))],[COt]:[,e.headers[KOt]],[QM]:[,e.headers[dL]],[La]:[,e.headers[Tl]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Nt]:[,e.headers[lL]],[Wn]:[,e.headers[cs]],[bhe]:[,e.headers[xNt]],[IP]:[()=>e.headers[XK]!==void 0,()=>(0,f.strictParseInt32)(e.headers[XK])],[GK]:[()=>e.headers[JK]!==void 0,()=>(0,f.strictParseInt32)(e.headers[JK])],[HP]:[,e.headers[cL]],[Bf]:[()=>e.headers[UC]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e.headers[UC]))],[qC]:[,e.headers[aL]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await(0,f.collectBody)(e.body,t),r},"de_HeadObjectCommand"),p_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.AnalyticsConfiguration===""?r[ZRt]=[]:n[Pge]!=null&&(r[ZRt]=rCn((0,f.getArrayIfSingleItem)(n[Pge]),t)),n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[fc]!=null&&(r[fc]=(0,f.expectString)(n[fc])),r},"de_ListBucketAnalyticsConfigurationsCommand"),g_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),n.IntelligentTieringConfiguration===""?r[dTt]=[]:n[zge]!=null&&(r[dTt]=BCn((0,f.getArrayIfSingleItem)(n[zge]),t)),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[fc]!=null&&(r[fc]=(0,f.expectString)(n[fc])),r},"de_ListBucketIntelligentTieringConfigurationsCommand"),h_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),n.InventoryConfiguration===""?r[oTt]=[]:n[$ge]!=null&&(r[oTt]=jCn((0,f.getArrayIfSingleItem)(n[$ge]),t)),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[fc]!=null&&(r[fc]=(0,f.expectString)(n[fc])),r},"de_ListBucketInventoryConfigurationsCommand"),y_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n.MetricsConfiguration===""?r[uTt]=[]:n[Vge]!=null&&(r[uTt]=cbn((0,f.getArrayIfSingleItem)(n[Vge]),t)),n[fc]!=null&&(r[fc]=(0,f.expectString)(n[fc])),r},"de_ListBucketMetricsConfigurationsCommand"),__n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.Buckets===""?r[kf]=[]:n[kf]!=null&&n[kf][mr]!=null&&(r[kf]=tOt((0,f.getArrayIfSingleItem)(n[kf][mr]),t)),n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),n[Ar]!=null&&(r[Ar]=J_(n[Ar],t)),n[Se]!=null&&(r[Se]=(0,f.expectString)(n[Se])),r},"de_ListBucketsCommand"),S_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.Buckets===""?r[kf]=[]:n[kf]!=null&&n[kf][mr]!=null&&(r[kf]=tOt((0,f.getArrayIfSingleItem)(n[kf][mr]),t)),n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),r},"de_ListDirectoryBucketsCommand"),v_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[mr]!=null&&(r[mr]=(0,f.expectString)(n[mr])),n.CommonPrefixes===""?r[Ia]=[]:n[Ia]!=null&&(r[Ia]=ZK((0,f.getArrayIfSingleItem)(n[Ia]),t)),n[Oa]!=null&&(r[Oa]=(0,f.expectString)(n[Oa])),n[Da]!=null&&(r[Da]=(0,f.expectString)(n[Da])),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[V_]!=null&&(r[V_]=(0,f.expectString)(n[V_])),n[fK]!=null&&(r[fK]=(0,f.strictParseInt32)(n[fK])),n[yP]!=null&&(r[yP]=(0,f.expectString)(n[yP])),n[fge]!=null&&(r[fge]=(0,f.expectString)(n[fge])),n[Se]!=null&&(r[Se]=(0,f.expectString)(n[Se])),n[NK]!=null&&(r[NK]=(0,f.expectString)(n[NK])),n.Upload===""?r[vTt]=[]:n[STt]!=null&&(r[vTt]=ubn((0,f.getArrayIfSingleItem)(n[STt]),t)),r},"de_ListMultipartUploadsCommand"),E_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[Ia]=[]:n[Ia]!=null&&(r[Ia]=ZK((0,f.getArrayIfSingleItem)(n[Ia]),t)),n.Contents===""?r[z_]=[]:n[z_]!=null&&(r[z_]=lOt((0,f.getArrayIfSingleItem)(n[z_]),t)),n[Oa]!=null&&(r[Oa]=(0,f.expectString)(n[Oa])),n[Da]!=null&&(r[Da]=(0,f.expectString)(n[Da])),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[uK]!=null&&(r[uK]=(0,f.expectString)(n[uK])),n[mu]!=null&&(r[mu]=(0,f.strictParseInt32)(n[mu])),n[bs]!=null&&(r[bs]=(0,f.expectString)(n[bs])),n[mge]!=null&&(r[mge]=(0,f.expectString)(n[mge])),n[Se]!=null&&(r[Se]=(0,f.expectString)(n[Se])),r},"de_ListObjectsCommand"),C_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[Ia]=[]:n[Ia]!=null&&(r[Ia]=ZK((0,f.getArrayIfSingleItem)(n[Ia]),t)),n.Contents===""?r[z_]=[]:n[z_]!=null&&(r[z_]=lOt((0,f.getArrayIfSingleItem)(n[z_]),t)),n[hn]!=null&&(r[hn]=(0,f.expectString)(n[hn])),n[Oa]!=null&&(r[Oa]=(0,f.expectString)(n[Oa])),n[Da]!=null&&(r[Da]=(0,f.expectString)(n[Da])),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[age]!=null&&(r[age]=(0,f.strictParseInt32)(n[age])),n[mu]!=null&&(r[mu]=(0,f.strictParseInt32)(n[mu])),n[bs]!=null&&(r[bs]=(0,f.expectString)(n[bs])),n[fc]!=null&&(r[fc]=(0,f.expectString)(n[fc])),n[Se]!=null&&(r[Se]=(0,f.expectString)(n[Se])),n[wK]!=null&&(r[wK]=(0,f.expectString)(n[wK])),r},"de_ListObjectsV2Command"),b_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[Ia]=[]:n[Ia]!=null&&(r[Ia]=ZK((0,f.getArrayIfSingleItem)(n[Ia]),t)),n.DeleteMarker===""?r[sTt]=[]:n[fm]!=null&&(r[sTt]=vCn((0,f.getArrayIfSingleItem)(n[fm]),t)),n[Oa]!=null&&(r[Oa]=(0,f.expectString)(n[Oa])),n[Da]!=null&&(r[Da]=(0,f.expectString)(n[Da])),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[V_]!=null&&(r[V_]=(0,f.expectString)(n[V_])),n[mu]!=null&&(r[mu]=(0,f.strictParseInt32)(n[mu])),n[bs]!=null&&(r[bs]=(0,f.expectString)(n[bs])),n[yP]!=null&&(r[yP]=(0,f.expectString)(n[yP])),n[pge]!=null&&(r[pge]=(0,f.expectString)(n[pge])),n[Se]!=null&&(r[Se]=(0,f.expectString)(n[Se])),n[kK]!=null&&(r[kK]=(0,f.expectString)(n[kK])),n.Version===""?r[CTt]=[]:n[ETt]!=null&&(r[CTt]=Cbn((0,f.getArrayIfSingleItem)(n[ETt]),t)),r},"de_ListObjectVersionsCommand"),w_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[mOt]:[()=>e.headers[WK]!==void 0,()=>(0,f.expectNonNull)((0,f.parseRfc7231DateTime)(e.headers[WK]))],[fOt]:[,e.headers[mNt]],[Wn]:[,e.headers[cs]]}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t)),"body");return n[mr]!=null&&(r[mr]=(0,f.expectString)(n[mr])),n[vt]!=null&&(r[vt]=(0,f.expectString)(n[vt])),n[On]!=null&&(r[On]=(0,f.expectString)(n[On])),n[mP]!=null&&(r[mP]=iOt(n[mP],t)),n[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(n[Kr])),n[ht]!=null&&(r[ht]=(0,f.expectString)(n[ht])),n[Hg]!=null&&(r[Hg]=(0,f.strictParseInt32)(n[Hg])),n[_P]!=null&&(r[_P]=(0,f.expectString)(n[_P])),n[Ar]!=null&&(r[Ar]=J_(n[Ar],t)),n[G_]!=null&&(r[G_]=(0,f.expectString)(n[G_])),n.Part===""?r[XM]=[]:n[$K]!=null&&(r[XM]=Rbn((0,f.getArrayIfSingleItem)(n[$K]),t)),n[Nt]!=null&&(r[Nt]=(0,f.expectString)(n[Nt])),n[zc]!=null&&(r[zc]=(0,f.expectString)(n[zc])),r},"de_ListPartsCommand"),A_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketAccelerateConfigurationCommand"),x_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketAclCommand"),P_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketAnalyticsConfigurationCommand"),R_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketCorsCommand"),T_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketEncryptionCommand"),I_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketIntelligentTieringConfigurationCommand"),O_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketInventoryConfigurationCommand"),N_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Ahe]:[,e.headers[Vhe]]});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketLifecycleConfigurationCommand"),D_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketLoggingCommand"),k_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketMetricsConfigurationCommand"),M_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketNotificationConfigurationCommand"),L_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketOwnershipControlsCommand"),U_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketPolicyCommand"),F_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketReplicationCommand"),B_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketRequestPaymentCommand"),q_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketTaggingCommand"),j_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketVersioningCommand"),$_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutBucketWebsiteCommand"),z_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[xi]:[,e.headers[oL]],[yn]:[,e.headers[o6]],[xn]:[,e.headers[$C]],[Pn]:[,e.headers[zC]],[Rn]:[,e.headers[HC]],[Tn]:[,e.headers[VC]],[In]:[,e.headers[GC]],[On]:[,e.headers[KP]],[La]:[,e.headers[Tl]],[Ft]:[,e.headers[qf]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Q_]:[,e.headers[Y_]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Wo]:[()=>e.headers[xTt]!==void 0,()=>(0,f.strictParseLong)(e.headers[xTt])],[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_PutObjectCommand"),H_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_PutObjectAclCommand"),V_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_PutObjectLegalHoldCommand"),G_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_PutObjectLockConfigurationCommand"),W_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_PutObjectRetentionCommand"),K_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Ft]:[,e.headers[qf]]});return await(0,f.collectBody)(e.body,t),r},"de_PutObjectTaggingCommand"),X_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_PutPublicAccessBlockCommand"),J_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_RenameObjectCommand"),Q_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[Wn]:[,e.headers[cs]],[yAn]:[,e.headers[EPn]]});return await(0,f.collectBody)(e.body,t),r},"de_RestoreObjectCommand"),Y_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)}),n=e.body;return r.Payload=SSn(n,t),r},"de_SelectObjectContentCommand"),Z_n=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_UpdateBucketMetadataInventoryTableConfigurationCommand"),eSn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_UpdateBucketMetadataJournalTableConfigurationCommand"),tSn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[La]:[,e.headers[Tl]],[yn]:[,e.headers[o6]],[xn]:[,e.headers[$C]],[Pn]:[,e.headers[zC]],[Rn]:[,e.headers[HC]],[Tn]:[,e.headers[VC]],[In]:[,e.headers[GC]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Wn]:[,e.headers[cs]]});return await(0,f.collectBody)(e.body,t),r},"de_UploadPartCommand"),rSn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e),[EOt]:[,e.headers[wNt]],[La]:[,e.headers[Tl]],[ro]:[,e.headers[xo]],[no]:[,e.headers[Po]],[Ko]:[,e.headers[Il]],[Vn]:[()=>e.headers[ci]!==void 0,()=>(0,f.parseBoolean)(e.headers[ci])],[Wn]:[,e.headers[cs]]}),n=(0,f.expectObject)(await(0,it.parseXmlBody)(e.body,t));return r.CopyPartResult=mCn(n,t),r},"de_UploadPartCopyCommand"),nSn=S(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=(0,f.map)({$metadata:Y(e)});return await(0,f.collectBody)(e.body,t),r},"de_WriteGetObjectResponseCommand"),me=S(async(e,t)=>{let r={...e,body:await(0,it.parseXmlErrorBody)(e.body,t)},n=(0,it.loadRestXmlErrorCode)(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await pSn(r,t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await ySn(r,t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await iSn(r,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await oSn(r,t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await mSn(r,t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await lSn(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await fSn(r,t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await gSn(r,t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await aSn(r,t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await dSn(r,t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await uSn(r,t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await _Sn(r,t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await cSn(r,t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await hSn(r,t);default:let s=r.body;return sSn({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),sSn=(0,f.withBaseException)(Ma),iSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new LTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_BucketAlreadyExistsRes"),oSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new FTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_BucketAlreadyOwnedByYouRes"),aSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new _It({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_EncryptionTypeMismatchRes"),cSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new xIt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_IdempotencyParameterMismatchRes"),lSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body;n[$g]!=null&&(r[$g]=(0,f.expectString)(n[$g])),n[Nt]!=null&&(r[Nt]=(0,f.expectString)(n[Nt]));let s=new $Tt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_InvalidObjectStateRes"),dSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new vIt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_InvalidRequestRes"),uSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new CIt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_InvalidWriteOffsetRes"),mSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new qTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_NoSuchBucketRes"),fSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new HTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_NoSuchKeyRes"),pSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new NTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_NoSuchUploadRes"),gSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new GTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_NotFoundRes"),hSn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new RIt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_ObjectAlreadyInActiveTierErrorRes"),ySn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new kTt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_ObjectNotInActiveTierErrorRes"),_Sn=S(async(e,t)=>{let r=(0,f.map)({}),n=e.body,s=new wIt({$metadata:Y(e),...r});return(0,f.decorateServiceException)(s,e.body)},"de_TooManyPartsRes"),SSn=S((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.Records!=null?{Records:await bSn(r.Records,t)}:r.Stats!=null?{Stats:await wSn(r.Stats,t)}:r.Progress!=null?{Progress:await CSn(r.Progress,t)}:r.Cont!=null?{Cont:await vSn(r.Cont,t)}:r.End!=null?{End:await ESn(r.End,t)}:{$unknown:r}),"de_SelectObjectContentEventStream"),vSn=S(async(e,t)=>{let r={},n=await(0,it.parseXmlBody)(e.body,t);return Object.assign(r,dCn(n,t)),r},"de_ContinuationEvent_event"),ESn=S(async(e,t)=>{let r={},n=await(0,it.parseXmlBody)(e.body,t);return Object.assign(r,wCn(n,t)),r},"de_EndEvent_event"),CSn=S(async(e,t)=>{let r={},n=await(0,it.parseXmlBody)(e.body,t);return r.Details=Obn(n,t),r},"de_ProgressEvent_event"),bSn=S(async(e,t)=>{let r={};return r.Payload=e.body,r},"de_RecordsEvent_event"),wSn=S(async(e,t)=>{let r={},n=await(0,it.parseXmlBody)(e.body,t);return r.Details=iwn(n,t),r},"de_StatsEvent_event"),ASn=S((e,t)=>{let r=new D.XmlNode(lC);return e[eC]!=null&&r.c(D.XmlNode.of(eC,String(e[eC])).n(eC)),r},"se_AbortIncompleteMultipartUpload"),xSn=S((e,t)=>{let r=new D.XmlNode(vwn);return e[Pe]!=null&&r.c(D.XmlNode.of(Rwn,e[Pe]).n(Pe)),r},"se_AccelerateConfiguration"),WIt=S((e,t)=>{let r=new D.XmlNode(Swn);return r.lc(e,"Grants","AccessControlList",()=>XIt(e[KM],t)),e[Ar]!=null&&r.c(Zvn(e[Ar],t).n(Ar)),r},"se_AccessControlPolicy"),PSn=S((e,t)=>{let r=new D.XmlNode(cC);return e[Ar]!=null&&r.c(D.XmlNode.of(cAn,e[Ar]).n(Ar)),r},"se_AccessControlTranslation"),RSn=S((e,t)=>e.filter(r=>r!=null).map(r=>D.XmlNode.of(Rge,r).n(so)),"se_AllowedHeaders"),TSn=S((e,t)=>e.filter(r=>r!=null).map(r=>D.XmlNode.of(Ige,r).n(so)),"se_AllowedMethods"),ISn=S((e,t)=>e.filter(r=>r!=null).map(r=>D.XmlNode.of(Nge,r).n(so)),"se_AllowedOrigins"),OSn=S((e,t)=>{let r=new D.XmlNode(_wn);return r.cc(e,Se),r.l(e,"Tags","Tag",()=>FC(e[ka],t)),r},"se_AnalyticsAndOperator"),NSn=S((e,t)=>{let r=new D.XmlNode(Pge);return e[rt]!=null&&r.c(D.XmlNode.of(bwn,e[rt]).n(rt)),e[tt]!=null&&r.c(kSn(e[tt],t).n(tt)),e[RC]!=null&&r.c(LEn(e[RC],t).n(RC)),r},"se_AnalyticsConfiguration"),DSn=S((e,t)=>{let r=new D.XmlNode(Ewn);return e[_u]!=null&&r.c(MSn(e[_u],t).n(_u)),r},"se_AnalyticsExportDestination"),kSn=S((e,t)=>{let r=new D.XmlNode(Cwn);return MK.visit(e,{Prefix:S(n=>{e[Se]!=null&&r.c(D.XmlNode.of(Se,n).n(Se))},"Prefix"),Tag:S(n=>{e[At]!=null&&r.c(NP(n,t).n(At))},"Tag"),And:S(n=>{e[Gn]!=null&&r.c(OSn(n,t).n(Gn))},"And"),_:S((n,s)=>{if(!(s instanceof D.XmlNode||s instanceof D.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new D.XmlNode(n).c(s))},"_")}),r},"se_AnalyticsFilter"),MSn=S((e,t)=>{let r=new D.XmlNode(xwn);return e[uu]!=null&&r.c(D.XmlNode.of(Pwn,e[uu]).n(uu)),e[Zx]!=null&&r.c(D.XmlNode.of(Jx,e[Zx]).n(Zx)),e[mr]!=null&&r.c(D.XmlNode.of(e6,e[mr]).n(mr)),r.cc(e,Se),r},"se_AnalyticsS3BucketDestination"),LSn=S((e,t)=>{let r=new D.XmlNode(Twn);return r.cc(e,Qwn),e[$c]!=null&&r.c(D.XmlNode.of(Lwn,e[$c]).n($c)),r},"se_BucketInfo"),USn=S((e,t)=>{let r=new D.XmlNode(Iwn);return r.l(e,"Rules","Rule",()=>Nvn(e[vu],t)),r},"se_BucketLifecycleConfiguration"),FSn=S((e,t)=>{let r=new D.XmlNode(kwn);return e[SC]!=null&&r.c(kvn(e[SC],t).n(SC)),r},"se_BucketLoggingStatus"),BSn=S((e,t)=>{let r=new D.XmlNode(Bwn);return r.l(e,"Parts","Part",()=>jSn(e[XM],t)),r},"se_CompletedMultipartUpload"),qSn=S((e,t)=>{let r=new D.XmlNode(jwn);return r.cc(e,yn),r.cc(e,xn),r.cc(e,Pn),r.cc(e,Rn),r.cc(e,Tn),r.cc(e,In),e[qc]!=null&&r.c(D.XmlNode.of(qc,String(e[qc])).n(qc)),r},"se_CompletedPart"),jSn=S((e,t)=>e.filter(r=>r!=null).map(r=>qSn(r,t).n(so)),"se_CompletedPartList"),$Sn=S((e,t)=>{let r=new D.XmlNode(dC);return r.cc(e,iK),r.cc(e,lK),r},"se_Condition"),zSn=S((e,t)=>{let r=new D.XmlNode(qwn);return r.l(e,"CORSRules","CORSRule",()=>VSn(e[Lge],t)),r},"se_CORSConfiguration"),HSn=S((e,t)=>{let r=new D.XmlNode(Mge);return r.cc(e,Vs),r.l(e,"AllowedHeaders","AllowedHeader",()=>RSn(e[Tge],t)),r.l(e,"AllowedMethods","AllowedMethod",()=>TSn(e[Oge],t)),r.l(e,"AllowedOrigins","AllowedOrigin",()=>ISn(e[Dge],t)),r.l(e,"ExposeHeaders","ExposeHeader",()=>svn(e[Uge],t)),e[nC]!=null&&r.c(D.XmlNode.of(nC,String(e[nC])).n(nC)),r},"se_CORSRule"),VSn=S((e,t)=>e.filter(r=>r!=null).map(r=>HSn(r,t).n(so)),"se_CORSRules"),GSn=S((e,t)=>{let r=new D.XmlNode(Fwn);return e[hP]!=null&&r.c(D.XmlNode.of(Own,e[hP]).n(hP)),e[_C]!=null&&r.c(Dvn(e[_C],t).n(_C)),e[mr]!=null&&r.c(LSn(e[mr],t).n(mr)),r.lc(e,"Tags","Tags",()=>FC(e[ka],t)),r},"se_CreateBucketConfiguration"),WSn=S((e,t)=>{let r=new D.XmlNode(zwn);return r.cc(e,s0n),r.cc(e,Wwn),r.cc(e,DOt),r.cc(e,Che),r.cc(e,xOt),r.cc(e,NOt),e[KW]!=null&&r.c(D.XmlNode.of(KW,String(e[KW])).n(KW)),r},"se_CSVInput"),KSn=S((e,t)=>{let r=new D.XmlNode(Hwn);return r.cc(e,fAn),r.cc(e,DOt),r.cc(e,Che),r.cc(e,xOt),r.cc(e,NOt),r},"se_CSVOutput"),XSn=S((e,t)=>{let r=new D.XmlNode(mC);return e[fu]!=null&&r.c(D.XmlNode.of(TOt,e[fu]).n(fu)),e[er]!=null&&r.c(D.XmlNode.of(er,String(e[er])).n(er)),e[oC]!=null&&r.c(D.XmlNode.of(oC,String(e[oC])).n(oC)),r},"se_DefaultRetention"),JSn=S((e,t)=>{let r=new D.XmlNode(Ywn);return r.l(e,"Objects","Object",()=>Wvn(e[dAn],t)),e[YW]!=null&&r.c(D.XmlNode.of(YW,String(e[YW])).n(YW)),r},"se_Delete"),QSn=S((e,t)=>{let r=new D.XmlNode(uC);return e[Pe]!=null&&r.c(D.XmlNode.of(Jwn,e[Pe]).n(Pe)),r},"se_DeleteMarkerReplication"),YSn=S((e,t)=>{let r=new D.XmlNode(to);return e[mr]!=null&&r.c(D.XmlNode.of(e6,e[mr]).n(mr)),e[Yx]!=null&&r.c(D.XmlNode.of(Jx,e[Yx]).n(Yx)),r.cc(e,Nt),e[cC]!=null&&r.c(PSn(e[cC],t).n(cC)),e[Na]!=null&&r.c(evn(e[Na],t).n(Na)),e[xC]!=null&&r.c(hEn(e[xC],t).n(xC)),e[vC]!=null&&r.c(Fvn(e[vC],t).n(vC)),r},"se_Destination"),ZSn=S((e,t)=>{let r=new D.XmlNode(Mf);return e[ege]!=null&&r.c(D.XmlNode.of(La,e[ege]).n(ege)),e[cge]!=null&&r.c(D.XmlNode.of(Ko,e[cge]).n(cge)),r.cc(e,I0n),r},"se_Encryption"),evn=S((e,t)=>{let r=new D.XmlNode(Na);return r.cc(e,SK),r},"se_EncryptionConfiguration"),tvn=S((e,t)=>{let r=new D.XmlNode(pC);return e[ht]!=null&&r.c(D.XmlNode.of(Ehe,e[ht]).n(ht)),r},"se_ErrorDocument"),rvn=S((e,t)=>new D.XmlNode(fC),"se_EventBridgeConfiguration"),lhe=S((e,t)=>e.filter(r=>r!=null).map(r=>D.XmlNode.of(kC,r).n(so)),"se_EventList"),nvn=S((e,t)=>{let r=new D.XmlNode(gC);return e[Pe]!=null&&r.c(D.XmlNode.of(e0n,e[Pe]).n(Pe)),r},"se_ExistingObjectReplication"),svn=S((e,t)=>e.filter(r=>r!=null).map(r=>D.XmlNode.of(Fge,r).n(so)),"se_ExposeHeaders"),ivn=S((e,t)=>{let r=new D.XmlNode(Bge);return e[bs]!=null&&r.c(D.XmlNode.of(o0n,e[bs]).n(bs)),e[Rl]!=null&&r.c(D.XmlNode.of(a0n,e[Rl]).n(Rl)),r},"se_FilterRule"),ovn=S((e,t)=>e.filter(r=>r!=null).map(r=>ivn(r,t).n(so)),"se_FilterRuleList"),avn=S((e,t)=>{let r=new D.XmlNode(sK);return r.cc(e,$Ot),r},"se_GlacierJobParameters"),cvn=S((e,t)=>{let r=new D.XmlNode(Kg);if(e[Pl]!=null){let n=KIt(e[Pl],t).n(Pl);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return r.cc(e,Lf),r},"se_Grant"),KIt=S((e,t)=>{let r=new D.XmlNode(Pl);return r.cc(e,pm),r.cc(e,tK),r.cc(e,Vs),r.cc(e,DK),r.a("xsi:type",e[$c]),r},"se_Grantee"),XIt=S((e,t)=>e.filter(r=>r!=null).map(r=>cvn(r,t).n(Kg)),"se_Grants"),lvn=S((e,t)=>{let r=new D.XmlNode(hC);return r.cc(e,RK),r},"se_IndexDocument"),JIt=S((e,t)=>{let r=new D.XmlNode(yC);return e[iP]!=null&&r.c(WSn(e[iP],t).n(iP)),r.cc(e,Gwn),e[fP]!=null&&r.c(wvn(e[fP],t).n(fP)),e[yge]!=null&&r.c(nEn(e[yge],t).n(yge)),r},"se_InputSerialization"),dvn=S((e,t)=>{let r=new D.XmlNode(_0n);return r.cc(e,Se),r.l(e,"Tags","Tag",()=>FC(e[ka],t)),r},"se_IntelligentTieringAndOperator"),uvn=S((e,t)=>{let r=new D.XmlNode(zge);return e[rt]!=null&&r.c(D.XmlNode.of(b0n,e[rt]).n(rt)),e[tt]!=null&&r.c(mvn(e[tt],t).n(tt)),e[Pe]!=null&&r.c(D.XmlNode.of(w0n,e[Pe]).n(Pe)),r.l(e,"Tierings","Tiering",()=>$En(e[nhe],t)),r},"se_IntelligentTieringConfiguration"),mvn=S((e,t)=>{let r=new D.XmlNode(C0n);return r.cc(e,Se),e[At]!=null&&r.c(NP(e[At],t).n(At)),e[Gn]!=null&&r.c(dvn(e[Gn],t).n(Gn)),r},"se_IntelligentTieringFilter"),fvn=S((e,t)=>{let r=new D.XmlNode($ge);return e[to]!=null&&r.c(pvn(e[to],t).n(to)),e[rC]!=null&&r.c(D.XmlNode.of(rC,String(e[rC])).n(rC)),e[tt]!=null&&r.c(hvn(e[tt],t).n(tt)),e[rt]!=null&&r.c(D.XmlNode.of(f0n,e[rt]).n(rt)),e[dP]!=null&&r.c(D.XmlNode.of(p0n,e[dP]).n(dP)),r.lc(e,"OptionalFields","OptionalFields",()=>yvn(e[Wx],t)),e[wP]!=null&&r.c(Svn(e[wP],t).n(wP)),r},"se_InventoryConfiguration"),pvn=S((e,t)=>{let r=new D.XmlNode(c0n);return e[_u]!=null&&r.c(_vn(e[_u],t).n(_u)),r},"se_InventoryDestination"),gvn=S((e,t)=>{let r=new D.XmlNode(l0n);return e[ehe]!=null&&r.c(MEn(e[ehe],t).n(VK)),e[Zge]!=null&&r.c(DEn(e[Zge],t).n(HK)),r},"se_InventoryEncryption"),hvn=S((e,t)=>{let r=new D.XmlNode(d0n);return r.cc(e,Se),r},"se_InventoryFilter"),yvn=S((e,t)=>e.filter(r=>r!=null).map(r=>D.XmlNode.of(g0n,r).n(jge)),"se_InventoryOptionalFields"),_vn=S((e,t)=>{let r=new D.XmlNode(h0n);return r.cc(e,Jx),e[mr]!=null&&r.c(D.XmlNode.of(e6,e[mr]).n(mr)),e[uu]!=null&&r.c(D.XmlNode.of(u0n,e[uu]).n(uu)),r.cc(e,Se),e[Mf]!=null&&r.c(gvn(e[Mf],t).n(Mf)),r},"se_InventoryS3BucketDestination"),Svn=S((e,t)=>{let r=new D.XmlNode(y0n);return e[cP]!=null&&r.c(D.XmlNode.of(m0n,e[cP]).n(cP)),r},"se_InventorySchedule"),vvn=S((e,t)=>{let r=new D.XmlNode(aK);return e[zg]!=null&&r.c(D.XmlNode.of(POt,e[zg]).n(zg)),e[Na]!=null&&r.c(dhe(e[Na],t).n(Na)),r},"se_InventoryTableConfiguration"),Evn=S((e,t)=>{let r=new D.XmlNode(v0n);return e[zg]!=null&&r.c(D.XmlNode.of(POt,e[zg]).n(zg)),e[Na]!=null&&r.c(dhe(e[Na],t).n(Na)),r},"se_InventoryTableConfigurationUpdates"),Cvn=S((e,t)=>{let r=new D.XmlNode(cK);return e[Uf]!=null&&r.c(YIt(e[Uf],t).n(Uf)),e[Na]!=null&&r.c(dhe(e[Na],t).n(Na)),r},"se_JournalTableConfiguration"),bvn=S((e,t)=>{let r=new D.XmlNode(R0n);return e[Uf]!=null&&r.c(YIt(e[Uf],t).n(Uf)),r},"se_JournalTableConfigurationUpdates"),wvn=S((e,t)=>{let r=new D.XmlNode(A0n);return e[$c]!=null&&r.c(D.XmlNode.of(P0n,e[$c]).n($c)),r},"se_JSONInput"),Avn=S((e,t)=>{let r=new D.XmlNode(x0n);return r.cc(e,Che),r},"se_JSONOutput"),xvn=S((e,t)=>{let r=new D.XmlNode(N0n);return e[rt]!=null&&r.c(D.XmlNode.of(vhe,e[rt]).n(rt)),e[dK]!=null&&r.c(D.XmlNode.of(dK,e[dK]).n(kge)),r.l(e,"Events","Event",()=>lhe(e[Wg],t)),e[tt]!=null&&r.c(uhe(e[tt],t).n(tt)),r},"se_LambdaFunctionConfiguration"),Pvn=S((e,t)=>e.filter(r=>r!=null).map(r=>xvn(r,t).n(so)),"se_LambdaFunctionConfigurationList"),Rvn=S((e,t)=>{let r=new D.XmlNode(O0n);return e[mc]!=null&&r.c(D.XmlNode.of(mc,(0,f.serializeDateTime)(e[mc]).toString()).n(mc)),e[er]!=null&&r.c(D.XmlNode.of(er,String(e[er])).n(er)),e[tC]!=null&&r.c(D.XmlNode.of(tC,String(e[tC])).n(tC)),r},"se_LifecycleExpiration"),Tvn=S((e,t)=>{let r=new D.XmlNode(L0n);return e[xi]!=null&&r.c(Rvn(e[xi],t).n(xi)),r.cc(e,Vs),r.cc(e,Se),e[tt]!=null&&r.c(Ovn(e[tt],t).n(tt)),e[Pe]!=null&&r.c(D.XmlNode.of(r0n,e[Pe]).n(Pe)),r.l(e,"Transitions","Transition",()=>GEn(e[ohe],t)),r.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>Hvn(e[Wge],t)),e[EC]!=null&&r.c($vn(e[EC],t).n(EC)),e[lC]!=null&&r.c(ASn(e[lC],t).n(lC)),r},"se_LifecycleRule"),Ivn=S((e,t)=>{let r=new D.XmlNode(U0n);return r.cc(e,Se),r.l(e,"Tags","Tag",()=>FC(e[ka],t)),e[hu]!=null&&r.c(D.XmlNode.of(IOt,String(e[hu])).n(hu)),e[yu]!=null&&r.c(D.XmlNode.of(OOt,String(e[yu])).n(yu)),r},"se_LifecycleRuleAndOperator"),Ovn=S((e,t)=>{let r=new D.XmlNode(F0n);return r.cc(e,Se),e[At]!=null&&r.c(NP(e[At],t).n(At)),e[hu]!=null&&r.c(D.XmlNode.of(IOt,String(e[hu])).n(hu)),e[yu]!=null&&r.c(D.XmlNode.of(OOt,String(e[yu])).n(yu)),e[Gn]!=null&&r.c(Ivn(e[Gn],t).n(Gn)),r},"se_LifecycleRuleFilter"),Nvn=S((e,t)=>e.filter(r=>r!=null).map(r=>Tvn(r,t).n(so)),"se_LifecycleRules"),Dvn=S((e,t)=>{let r=new D.XmlNode(D0n);return e[$c]!=null&&r.c(D.XmlNode.of(B0n,e[$c]).n($c)),e[bs]!=null&&r.c(D.XmlNode.of(k0n,e[bs]).n(bs)),r},"se_LocationInfo"),kvn=S((e,t)=>{let r=new D.XmlNode(SC);return r.cc(e,IK),r.lc(e,"TargetGrants","TargetGrants",()=>BEn(e[Xx],t)),r.cc(e,OK),e[DC]!=null&&r.c(qEn(e[DC],t).n(DC)),r},"se_LoggingEnabled"),Mvn=S((e,t)=>{let r=new D.XmlNode($0n);return e[cK]!=null&&r.c(Cvn(e[cK],t).n(cK)),e[aK]!=null&&r.c(vvn(e[aK],t).n(aK)),r},"se_MetadataConfiguration"),Lvn=S((e,t)=>{let r=new D.XmlNode(ROt);return e[bs]!=null&&r.c(D.XmlNode.of(W0n,e[bs]).n(bs)),e[Rl]!=null&&r.c(D.XmlNode.of(Q0n,e[Rl]).n(Rl)),r},"se_MetadataEntry"),Uvn=S((e,t)=>{let r=new D.XmlNode(X0n);return e[PK]!=null&&r.c(wEn(e[PK],t).n(PK)),r},"se_MetadataTableConfiguration"),dhe=S((e,t)=>{let r=new D.XmlNode(J0n);return e[vge]!=null&&r.c(D.XmlNode.of(WAn,e[vge]).n(vge)),r.cc(e,T0n),r},"se_MetadataTableEncryptionConfiguration"),Fvn=S((e,t)=>{let r=new D.XmlNode(vC);return e[Pe]!=null&&r.c(D.XmlNode.of(K0n,e[Pe]).n(Pe)),e[aP]!=null&&r.c(ZIt(e[aP],t).n(aP)),r},"se_Metrics"),Bvn=S((e,t)=>{let r=new D.XmlNode(q0n);return r.cc(e,Se),r.l(e,"Tags","Tag",()=>FC(e[ka],t)),r.cc(e,jg),r},"se_MetricsAndOperator"),qvn=S((e,t)=>{let r=new D.XmlNode(Vge);return e[rt]!=null&&r.c(D.XmlNode.of(G0n,e[rt]).n(rt)),e[tt]!=null&&r.c(jvn(e[tt],t).n(tt)),r},"se_MetricsConfiguration"),jvn=S((e,t)=>{let r=new D.XmlNode(V0n);return LK.visit(e,{Prefix:S(n=>{e[Se]!=null&&r.c(D.XmlNode.of(Se,n).n(Se))},"Prefix"),Tag:S(n=>{e[At]!=null&&r.c(NP(n,t).n(At))},"Tag"),AccessPointArn:S(n=>{e[jg]!=null&&r.c(D.XmlNode.of(jg,n).n(jg))},"AccessPointArn"),And:S(n=>{e[Gn]!=null&&r.c(Bvn(n,t).n(Gn))},"And"),_:S((n,s)=>{if(!(s instanceof D.XmlNode||s instanceof D.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new D.XmlNode(n).c(s))},"_")}),r},"se_MetricsFilter"),$vn=S((e,t)=>{let r=new D.XmlNode(EC);return e[pu]!=null&&r.c(D.XmlNode.of(er,String(e[pu])).n(pu)),e[gu]!=null&&r.c(D.XmlNode.of(HOt,String(e[gu])).n(gu)),r},"se_NoncurrentVersionExpiration"),zvn=S((e,t)=>{let r=new D.XmlNode(Kge);return e[pu]!=null&&r.c(D.XmlNode.of(er,String(e[pu])).n(pu)),e[Nt]!=null&&r.c(D.XmlNode.of(jOt,e[Nt]).n(Nt)),e[gu]!=null&&r.c(D.XmlNode.of(HOt,String(e[gu])).n(gu)),r},"se_NoncurrentVersionTransition"),Hvn=S((e,t)=>e.filter(r=>r!=null).map(r=>zvn(r,t).n(so)),"se_NoncurrentVersionTransitionList"),Vvn=S((e,t)=>{let r=new D.XmlNode(Y0n);return r.l(e,"TopicConfigurations","TopicConfiguration",()=>HEn(e[rhe],t)),r.l(e,"QueueConfigurations","QueueConfiguration",()=>aEn(e[Jge],t)),r.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>Pvn(e[Hge],t)),e[fC]!=null&&r.c(rvn(e[fC],t).n(fC)),r},"se_NotificationConfiguration"),uhe=S((e,t)=>{let r=new D.XmlNode(Z0n);return e[ht]!=null&&r.c(CEn(e[ht],t).n(Yge)),r},"se_NotificationConfigurationFilter"),Gvn=S((e,t)=>{let r=new D.XmlNode(nAn);return e[ht]!=null&&r.c(D.XmlNode.of(Ehe,e[ht]).n(ht)),e[Ft]!=null&&r.c(D.XmlNode.of(lAn,e[Ft]).n(Ft)),r.cc(e,yn),e[QW]!=null&&r.c(D.XmlNode.of(QW,(0,f.dateToUtcString)(e[QW]).toString()).n(QW)),e[Wo]!=null&&r.c(D.XmlNode.of(Wo,String(e[Wo])).n(Wo)),r},"se_ObjectIdentifier"),Wvn=S((e,t)=>e.filter(r=>r!=null).map(r=>Gvn(r,t).n(so)),"se_ObjectIdentifierList"),Kvn=S((e,t)=>{let r=new D.XmlNode(sAn);return r.cc(e,gK),e[jc]!=null&&r.c(Qvn(e[jc],t).n(jc)),r},"se_ObjectLockConfiguration"),Xvn=S((e,t)=>{let r=new D.XmlNode(iAn);return e[Pe]!=null&&r.c(D.XmlNode.of(qC,e[Pe]).n(Pe)),r},"se_ObjectLockLegalHold"),Jvn=S((e,t)=>{let r=new D.XmlNode(oAn);return e[fu]!=null&&r.c(D.XmlNode.of(TOt,e[fu]).n(fu)),e[CP]!=null&&r.c(D.XmlNode.of(mc,(0,f.serializeDateTime)(e[CP]).toString()).n(CP)),r},"se_ObjectLockRetention"),Qvn=S((e,t)=>{let r=new D.XmlNode(aAn);return e[mC]!=null&&r.c(XSn(e[mC],t).n(mC)),r},"se_ObjectLockRule"),Yvn=S((e,t)=>{let r=new D.XmlNode(pK);return e[bge]!=null&&r.c(bEn(e[bge],t).n(bge)),r},"se_OutputLocation"),QIt=S((e,t)=>{let r=new D.XmlNode(CC);return e[iP]!=null&&r.c(KSn(e[iP],t).n(iP)),e[fP]!=null&&r.c(Avn(e[fP],t).n(fP)),r},"se_OutputSerialization"),Zvn=S((e,t)=>{let r=new D.XmlNode(Ar);return r.cc(e,pm),r.cc(e,Vs),r},"se_Owner"),eEn=S((e,t)=>{let r=new D.XmlNode(eAn);return r.l(e,"Rules","Rule",()=>rEn(e[vu],t)),r},"se_OwnershipControls"),tEn=S((e,t)=>{let r=new D.XmlNode(rAn);return r.cc(e,WM),r},"se_OwnershipControlsRule"),rEn=S((e,t)=>e.filter(r=>r!=null).map(r=>tEn(r,t).n(so)),"se_OwnershipControlsRules"),nEn=S((e,t)=>new D.XmlNode(mAn),"se_ParquetInput"),sEn=S((e,t)=>{let r=new D.XmlNode(bC);return r.cc(e,hK),r},"se_PartitionedPrefix"),iEn=S((e,t)=>{let r=new D.XmlNode(uAn);return e[tP]!=null&&r.c(D.XmlNode.of(ZW,String(e[tP])).n(tP)),e[uP]!=null&&r.c(D.XmlNode.of(ZW,String(e[uP])).n(uP)),e[rP]!=null&&r.c(D.XmlNode.of(ZW,String(e[rP])).n(rP)),e[vP]!=null&&r.c(D.XmlNode.of(ZW,String(e[vP])).n(vP)),r},"se_PublicAccessBlockConfiguration"),oEn=S((e,t)=>{let r=new D.XmlNode(Xge);return e[rt]!=null&&r.c(D.XmlNode.of(vhe,e[rt]).n(rt)),e[_K]!=null&&r.c(D.XmlNode.of(_K,e[_K]).n(Qge)),r.l(e,"Events","Event",()=>lhe(e[Wg],t)),e[tt]!=null&&r.c(uhe(e[tt],t).n(tt)),r},"se_QueueConfiguration"),aEn=S((e,t)=>e.filter(r=>r!=null).map(r=>oEn(r,t).n(so)),"se_QueueConfigurationList"),YIt=S((e,t)=>{let r=new D.XmlNode(Uf);return e[xi]!=null&&r.c(D.XmlNode.of(n0n,e[xi]).n(xi)),e[er]!=null&&r.c(D.XmlNode.of(gAn,String(e[er])).n(er)),r},"se_RecordExpiration"),cEn=S((e,t)=>{let r=new D.XmlNode(PC);return r.cc(e,H_),r.cc(e,oK),r.cc(e,W_),r.cc(e,vK),r.cc(e,EK),r},"se_Redirect"),lEn=S((e,t)=>{let r=new D.XmlNode(wC);return r.cc(e,H_),r.cc(e,W_),r},"se_RedirectAllRequestsTo"),dEn=S((e,t)=>{let r=new D.XmlNode(AC);return e[Pe]!=null&&r.c(D.XmlNode.of(hAn,e[Pe]).n(Pe)),r},"se_ReplicaModifications"),uEn=S((e,t)=>{let r=new D.XmlNode(pAn);return r.cc(e,bK),r.l(e,"Rules","Rule",()=>gEn(e[vu],t)),r},"se_ReplicationConfiguration"),mEn=S((e,t)=>{let r=new D.XmlNode(wAn);return r.cc(e,Vs),e[iC]!=null&&r.c(D.XmlNode.of(iC,String(e[iC])).n(iC)),r.cc(e,Se),e[tt]!=null&&r.c(pEn(e[tt],t).n(tt)),e[Pe]!=null&&r.c(D.XmlNode.of(CAn,e[Pe]).n(Pe)),e[OC]!=null&&r.c(NEn(e[OC],t).n(OC)),e[gC]!=null&&r.c(nvn(e[gC],t).n(gC)),e[to]!=null&&r.c(YSn(e[to],t).n(to)),e[uC]!=null&&r.c(QSn(e[uC],t).n(uC)),r},"se_ReplicationRule"),fEn=S((e,t)=>{let r=new D.XmlNode(vAn);return r.cc(e,Se),r.l(e,"Tags","Tag",()=>FC(e[ka],t)),r},"se_ReplicationRuleAndOperator"),pEn=S((e,t)=>{let r=new D.XmlNode(EAn);return r.cc(e,Se),e[At]!=null&&r.c(NP(e[At],t).n(At)),e[Gn]!=null&&r.c(fEn(e[Gn],t).n(Gn)),r},"se_ReplicationRuleFilter"),gEn=S((e,t)=>e.filter(r=>r!=null).map(r=>mEn(r,t).n(so)),"se_ReplicationRules"),hEn=S((e,t)=>{let r=new D.XmlNode(xC);return e[Pe]!=null&&r.c(D.XmlNode.of(RAn,e[Pe]).n(Pe)),e[PP]!=null&&r.c(ZIt(e[PP],t).n(PP)),r},"se_ReplicationTime"),ZIt=S((e,t)=>{let r=new D.XmlNode(TAn);return e[sC]!=null&&r.c(D.XmlNode.of(sC,String(e[sC])).n(sC)),r},"se_ReplicationTimeValue"),yEn=S((e,t)=>{let r=new D.XmlNode(_An);return r.cc(e,yK),r},"se_RequestPaymentConfiguration"),_En=S((e,t)=>{let r=new D.XmlNode(CK);return e[tge]!=null&&r.c(D.XmlNode.of(t0n,String(e[tge])).n(tge)),r},"se_RequestProgress"),SEn=S((e,t)=>{let r=new D.XmlNode(AAn);return e[er]!=null&&r.c(D.XmlNode.of(er,String(e[er])).n(er)),e[sK]!=null&&r.c(avn(e[sK],t).n(sK)),e[$c]!=null&&r.c(D.XmlNode.of(bAn,e[$c]).n($c)),r.cc(e,$Ot),r.cc(e,Zwn),e[AK]!=null&&r.c(xEn(e[AK],t).n(AK)),e[pK]!=null&&r.c(Yvn(e[pK],t).n(pK)),r},"se_RestoreRequest"),vEn=S((e,t)=>{let r=new D.XmlNode(zK);return e[dC]!=null&&r.c($Sn(e[dC],t).n(dC)),e[PC]!=null&&r.c(cEn(e[PC],t).n(PC)),r},"se_RoutingRule"),EEn=S((e,t)=>e.filter(r=>r!=null).map(r=>vEn(r,t).n(zK)),"se_RoutingRules"),CEn=S((e,t)=>{let r=new D.XmlNode(MAn);return r.l(e,"FilterRules","FilterRule",()=>ovn(e[qge],t)),r},"se_S3KeyFilter"),bEn=S((e,t)=>{let r=new D.XmlNode(LAn);return r.cc(e,e6),e[Se]!=null&&r.c(D.XmlNode.of(M0n,e[Se]).n(Se)),e[Mf]!=null&&r.c(ZSn(e[Mf],t).n(Mf)),e[Kpe]!=null&&r.c(D.XmlNode.of(tAn,e[Kpe]).n(Kpe)),r.lc(e,"AccessControlList","AccessControlList",()=>XIt(e[aC],t)),e[NC]!=null&&r.c(mhe(e[NC],t).n(NC)),r.lc(e,"UserMetadata","UserMetadata",()=>WEn(e[KAn],t)),r.cc(e,Nt),r},"se_S3Location"),wEn=S((e,t)=>{let r=new D.XmlNode(PK);return e[Gg]!=null&&r.c(D.XmlNode.of($An,e[Gg]).n(Gg)),e[Su]!=null&&r.c(D.XmlNode.of(zAn,e[Su]).n(Su)),r},"se_S3TablesDestination"),AEn=S((e,t)=>{let r=new D.XmlNode(xK);return e[eK]!=null&&r.c(D.XmlNode.of(eK,String(e[eK])).n(eK)),e[JW]!=null&&r.c(D.XmlNode.of(JW,String(e[JW])).n(JW)),r},"se_ScanRange"),xEn=S((e,t)=>{let r=new D.XmlNode(AK);return e[yC]!=null&&r.c(JIt(e[yC],t).n(yC)),r.cc(e,wOt),r.cc(e,AOt),e[CC]!=null&&r.c(QIt(e[CC],t).n(CC)),r},"se_SelectParameters"),PEn=S((e,t)=>{let r=new D.XmlNode(BAn);return e[bP]!=null&&r.c(D.XmlNode.of(La,e[bP]).n(bP)),e[gP]!=null&&r.c(D.XmlNode.of(Ko,e[gP]).n(gP)),r},"se_ServerSideEncryptionByDefault"),REn=S((e,t)=>{let r=new D.XmlNode(qAn);return r.l(e,"Rules","Rule",()=>IEn(e[vu],t)),r},"se_ServerSideEncryptionConfiguration"),TEn=S((e,t)=>{let r=new D.XmlNode(jAn);return e[Qx]!=null&&r.c(PEn(e[Qx],t).n(Qx)),e[Vn]!=null&&r.c(D.XmlNode.of(Vn,String(e[Vn])).n(Vn)),r},"se_ServerSideEncryptionRule"),IEn=S((e,t)=>e.filter(r=>r!=null).map(r=>TEn(r,t).n(so)),"se_ServerSideEncryptionRules"),OEn=S((e,t)=>new D.XmlNode(IC),"se_SimplePrefix"),NEn=S((e,t)=>{let r=new D.XmlNode(OC);return e[TC]!=null&&r.c(kEn(e[TC],t).n(TC)),e[AC]!=null&&r.c(dEn(e[AC],t).n(AC)),r},"se_SourceSelectionCriteria"),DEn=S((e,t)=>{let r=new D.XmlNode(HK);return e[pP]!=null&&r.c(D.XmlNode.of(Ko,e[pP]).n(pP)),r},"se_SSEKMS"),kEn=S((e,t)=>{let r=new D.XmlNode(TC);return e[Pe]!=null&&r.c(D.XmlNode.of(kAn,e[Pe]).n(Pe)),r},"se_SseKmsEncryptedObjects"),MEn=S((e,t)=>new D.XmlNode(VK),"se_SSES3"),LEn=S((e,t)=>{let r=new D.XmlNode(RC);return e[oP]!=null&&r.c(UEn(e[oP],t).n(oP)),r},"se_StorageClassAnalysis"),UEn=S((e,t)=>{let r=new D.XmlNode(IAn);return e[SP]!=null&&r.c(D.XmlNode.of(OAn,e[SP]).n(SP)),e[to]!=null&&r.c(DSn(e[to],t).n(to)),r},"se_StorageClassAnalysisDataExport"),NP=S((e,t)=>{let r=new D.XmlNode(At);return e[ht]!=null&&r.c(D.XmlNode.of(Ehe,e[ht]).n(ht)),r.cc(e,Rl),r},"se_Tag"),mhe=S((e,t)=>{let r=new D.XmlNode(NC);return r.lc(e,"TagSet","TagSet",()=>FC(e[mm],t)),r},"se_Tagging"),FC=S((e,t)=>e.filter(r=>r!=null).map(r=>NP(r,t).n(At)),"se_TagSet"),FEn=S((e,t)=>{let r=new D.XmlNode(VAn);if(e[Pl]!=null){let n=KIt(e[Pl],t).n(Pl);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return e[Lf]!=null&&r.c(D.XmlNode.of(Dwn,e[Lf]).n(Lf)),r},"se_TargetGrant"),BEn=S((e,t)=>e.filter(r=>r!=null).map(r=>FEn(r,t).n(Kg)),"se_TargetGrants"),qEn=S((e,t)=>{let r=new D.XmlNode(DC);return e[IC]!=null&&r.c(OEn(e[IC],t).n(IC)),e[bC]!=null&&r.c(sEn(e[bC],t).n(bC)),r},"se_TargetObjectKeyFormat"),jEn=S((e,t)=>{let r=new D.XmlNode(she);return e[er]!=null&&r.c(D.XmlNode.of(E0n,String(e[er])).n(er)),e[$g]!=null&&r.c(D.XmlNode.of(S0n,e[$g]).n($g)),r},"se_Tiering"),$En=S((e,t)=>e.filter(r=>r!=null).map(r=>jEn(r,t).n(so)),"se_TieringList"),zEn=S((e,t)=>{let r=new D.XmlNode(the);return e[rt]!=null&&r.c(D.XmlNode.of(vhe,e[rt]).n(rt)),e[TK]!=null&&r.c(D.XmlNode.of(TK,e[TK]).n(ihe)),r.l(e,"Events","Event",()=>lhe(e[Wg],t)),e[tt]!=null&&r.c(uhe(e[tt],t).n(tt)),r},"se_TopicConfiguration"),HEn=S((e,t)=>e.filter(r=>r!=null).map(r=>zEn(r,t).n(so)),"se_TopicConfigurationList"),VEn=S((e,t)=>{let r=new D.XmlNode(ahe);return e[mc]!=null&&r.c(D.XmlNode.of(mc,(0,f.serializeDateTime)(e[mc]).toString()).n(mc)),e[er]!=null&&r.c(D.XmlNode.of(er,String(e[er])).n(er)),e[Nt]!=null&&r.c(D.XmlNode.of(jOt,e[Nt]).n(Nt)),r},"se_Transition"),GEn=S((e,t)=>e.filter(r=>r!=null).map(r=>VEn(r,t).n(so)),"se_TransitionList"),WEn=S((e,t)=>e.filter(r=>r!=null).map(r=>Lvn(r,t).n(ROt)),"se_UserMetadata"),KEn=S((e,t)=>{let r=new D.XmlNode(XAn);return e[mK]!=null&&r.c(D.XmlNode.of(mK,e[mK]).n(Gge)),e[Pe]!=null&&r.c(D.XmlNode.of(Uwn,e[Pe]).n(Pe)),r},"se_VersioningConfiguration"),XEn=S((e,t)=>{let r=new D.XmlNode(JAn);return e[pC]!=null&&r.c(tvn(e[pC],t).n(pC)),e[hC]!=null&&r.c(lvn(e[hC],t).n(hC)),e[wC]!=null&&r.c(lEn(e[wC],t).n(wC)),r.lc(e,"RoutingRules","RoutingRules",()=>EEn(e[Kx],t)),r},"se_WebsiteConfiguration"),JEn=S((e,t)=>{let r={};return e[eC]!=null&&(r[eC]=(0,f.strictParseInt32)(e[eC])),r},"de_AbortIncompleteMultipartUpload"),QEn=S((e,t)=>{let r={};return e[Ar]!=null&&(r[Ar]=(0,f.expectString)(e[Ar])),r},"de_AccessControlTranslation"),YEn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_AllowedHeaders"),ZEn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_AllowedMethods"),eCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_AllowedOrigins"),tCn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e.Tag===""?r[ka]=[]:e[At]!=null&&(r[ka]=BC((0,f.getArrayIfSingleItem)(e[At]),t)),r},"de_AnalyticsAndOperator"),eOt=S((e,t)=>{let r={};return e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e.Filter===""||e[tt]!=null&&(r[tt]=sCn((0,f.expectUnion)(e[tt]),t)),e[RC]!=null&&(r[RC]=own(e[RC],t)),r},"de_AnalyticsConfiguration"),rCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>eOt(r,t)),"de_AnalyticsConfigurationList"),nCn=S((e,t)=>{let r={};return e[_u]!=null&&(r[_u]=iCn(e[_u],t)),r},"de_AnalyticsExportDestination"),sCn=S((e,t)=>e[Se]!=null?{Prefix:(0,f.expectString)(e[Se])}:e[At]!=null?{Tag:DP(e[At],t)}:e[Gn]!=null?{And:tCn(e[Gn],t)}:{$unknown:Object.entries(e)[0]},"de_AnalyticsFilter"),iCn=S((e,t)=>{let r={};return e[uu]!=null&&(r[uu]=(0,f.expectString)(e[uu])),e[Zx]!=null&&(r[Zx]=(0,f.expectString)(e[Zx])),e[mr]!=null&&(r[mr]=(0,f.expectString)(e[mr])),e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),r},"de_AnalyticsS3BucketDestination"),oCn=S((e,t)=>{let r={};return e[bs]!=null&&(r[bs]=(0,f.expectString)(e[bs])),e[Xpe]!=null&&(r[Xpe]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Xpe]))),e[GM]!=null&&(r[GM]=(0,f.expectString)(e[GM])),e[VM]!=null&&(r[VM]=(0,f.expectString)(e[VM])),r},"de_Bucket"),tOt=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>oCn(r,t)),"de_Buckets"),aCn=S((e,t)=>{let r={};return e[xn]!=null&&(r[xn]=(0,f.expectString)(e[xn])),e[Pn]!=null&&(r[Pn]=(0,f.expectString)(e[Pn])),e[Rn]!=null&&(r[Rn]=(0,f.expectString)(e[Rn])),e[Tn]!=null&&(r[Tn]=(0,f.expectString)(e[Tn])),e[In]!=null&&(r[In]=(0,f.expectString)(e[In])),e[On]!=null&&(r[On]=(0,f.expectString)(e[On])),r},"de_Checksum"),rOt=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_ChecksumAlgorithmList"),cCn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),r},"de_CommonPrefix"),ZK=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>cCn(r,t)),"de_CommonPrefixList"),lCn=S((e,t)=>{let r={};return e[iK]!=null&&(r[iK]=(0,f.expectString)(e[iK])),e[lK]!=null&&(r[lK]=(0,f.expectString)(e[lK])),r},"de_Condition"),dCn=S((e,t)=>({}),"de_ContinuationEvent"),uCn=S((e,t)=>{let r={};return e[yn]!=null&&(r[yn]=(0,f.expectString)(e[yn])),e[Gs]!=null&&(r[Gs]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Gs]))),e[On]!=null&&(r[On]=(0,f.expectString)(e[On])),e[xn]!=null&&(r[xn]=(0,f.expectString)(e[xn])),e[Pn]!=null&&(r[Pn]=(0,f.expectString)(e[Pn])),e[Rn]!=null&&(r[Rn]=(0,f.expectString)(e[Rn])),e[Tn]!=null&&(r[Tn]=(0,f.expectString)(e[Tn])),e[In]!=null&&(r[In]=(0,f.expectString)(e[In])),r},"de_CopyObjectResult"),mCn=S((e,t)=>{let r={};return e[yn]!=null&&(r[yn]=(0,f.expectString)(e[yn])),e[Gs]!=null&&(r[Gs]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Gs]))),e[xn]!=null&&(r[xn]=(0,f.expectString)(e[xn])),e[Pn]!=null&&(r[Pn]=(0,f.expectString)(e[Pn])),e[Rn]!=null&&(r[Rn]=(0,f.expectString)(e[Rn])),e[Tn]!=null&&(r[Tn]=(0,f.expectString)(e[Tn])),e[In]!=null&&(r[In]=(0,f.expectString)(e[In])),r},"de_CopyPartResult"),fCn=S((e,t)=>{let r={};return e[Vs]!=null&&(r[Vs]=(0,f.expectString)(e[Vs])),e.AllowedHeader===""?r[Tge]=[]:e[Rge]!=null&&(r[Tge]=YEn((0,f.getArrayIfSingleItem)(e[Rge]),t)),e.AllowedMethod===""?r[Oge]=[]:e[Ige]!=null&&(r[Oge]=ZEn((0,f.getArrayIfSingleItem)(e[Ige]),t)),e.AllowedOrigin===""?r[Dge]=[]:e[Nge]!=null&&(r[Dge]=eCn((0,f.getArrayIfSingleItem)(e[Nge]),t)),e.ExposeHeader===""?r[Uge]=[]:e[Fge]!=null&&(r[Uge]=ICn((0,f.getArrayIfSingleItem)(e[Fge]),t)),e[nC]!=null&&(r[nC]=(0,f.strictParseInt32)(e[nC])),r},"de_CORSRule"),pCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>fCn(r,t)),"de_CORSRules"),gCn=S((e,t)=>{let r={};return e[fu]!=null&&(r[fu]=(0,f.expectString)(e[fu])),e[er]!=null&&(r[er]=(0,f.strictParseInt32)(e[er])),e[oC]!=null&&(r[oC]=(0,f.strictParseInt32)(e[oC])),r},"de_DefaultRetention"),hCn=S((e,t)=>{let r={};return e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[Ft]!=null&&(r[Ft]=(0,f.expectString)(e[Ft])),e[fm]!=null&&(r[fm]=(0,f.parseBoolean)(e[fm])),e[Ype]!=null&&(r[Ype]=(0,f.expectString)(e[Ype])),r},"de_DeletedObject"),yCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>hCn(r,t)),"de_DeletedObjects"),_Cn=S((e,t)=>{let r={};return e[Ar]!=null&&(r[Ar]=J_(e[Ar],t)),e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[Ft]!=null&&(r[Ft]=(0,f.expectString)(e[Ft])),e[lP]!=null&&(r[lP]=(0,f.parseBoolean)(e[lP])),e[Gs]!=null&&(r[Gs]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Gs]))),r},"de_DeleteMarkerEntry"),SCn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),r},"de_DeleteMarkerReplication"),vCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>_Cn(r,t)),"de_DeleteMarkers"),ECn=S((e,t)=>{let r={};return e[mr]!=null&&(r[mr]=(0,f.expectString)(e[mr])),e[Yx]!=null&&(r[Yx]=(0,f.expectString)(e[Yx])),e[Nt]!=null&&(r[Nt]=(0,f.expectString)(e[Nt])),e[cC]!=null&&(r[cC]=QEn(e[cC],t)),e[Na]!=null&&(r[Na]=bCn(e[Na],t)),e[xC]!=null&&(r[xC]=Hbn(e[xC],t)),e[vC]!=null&&(r[vC]=obn(e[vC],t)),r},"de_Destination"),CCn=S((e,t)=>{let r={};return e[wge]!=null&&(r[wge]=(0,f.expectString)(e[wge])),e[Gg]!=null&&(r[Gg]=(0,f.expectString)(e[Gg])),e[AP]!=null&&(r[AP]=(0,f.expectString)(e[AP])),r},"de_DestinationResult"),bCn=S((e,t)=>{let r={};return e[SK]!=null&&(r[SK]=(0,f.expectString)(e[SK])),r},"de_EncryptionConfiguration"),wCn=S((e,t)=>({}),"de_EndEvent"),ACn=S((e,t)=>{let r={};return e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[Ft]!=null&&(r[Ft]=(0,f.expectString)(e[Ft])),e[Qpe]!=null&&(r[Qpe]=(0,f.expectString)(e[Qpe])),e[uge]!=null&&(r[uge]=(0,f.expectString)(e[uge])),r},"de__Error"),fhe=S((e,t)=>{let r={};return e[rK]!=null&&(r[rK]=(0,f.expectString)(e[rK])),e[nK]!=null&&(r[nK]=(0,f.expectString)(e[nK])),r},"de_ErrorDetails"),xCn=S((e,t)=>{let r={};return e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),r},"de_ErrorDocument"),PCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ACn(r,t)),"de_Errors"),RCn=S((e,t)=>({}),"de_EventBridgeConfiguration"),phe=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_EventList"),TCn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),r},"de_ExistingObjectReplication"),ICn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_ExposeHeaders"),OCn=S((e,t)=>{let r={};return e[bs]!=null&&(r[bs]=(0,f.expectString)(e[bs])),e[Rl]!=null&&(r[Rl]=(0,f.expectString)(e[Rl])),r},"de_FilterRule"),NCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>OCn(r,t)),"de_FilterRuleList"),DCn=S((e,t)=>{let r={};return e[lge]!=null&&(r[lge]=sbn(e[lge],t)),r},"de_GetBucketMetadataConfigurationResult"),kCn=S((e,t)=>{let r={};return e[dge]!=null&&(r[dge]=ibn(e[dge],t)),e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),e[gm]!=null&&(r[gm]=fhe(e[gm],t)),r},"de_GetBucketMetadataTableConfigurationResult"),MCn=S((e,t)=>{let r={};return e[IP]!=null&&(r[GAn]=(0,f.strictParseInt32)(e[IP])),e[G_]!=null&&(r[G_]=(0,f.expectString)(e[G_])),e[_P]!=null&&(r[_P]=(0,f.expectString)(e[_P])),e[Hg]!=null&&(r[Hg]=(0,f.strictParseInt32)(e[Hg])),e[Kr]!=null&&(r[Kr]=(0,f.parseBoolean)(e[Kr])),e.Part===""?r[XM]=[]:e[$K]!=null&&(r[XM]=Tbn((0,f.getArrayIfSingleItem)(e[$K]),t)),r},"de_GetObjectAttributesParts"),LCn=S((e,t)=>{let r={};return e[Pl]!=null&&(r[Pl]=nOt(e[Pl],t)),e[Lf]!=null&&(r[Lf]=(0,f.expectString)(e[Lf])),r},"de_Grant"),nOt=S((e,t)=>{let r={};return e[pm]!=null&&(r[pm]=(0,f.expectString)(e[pm])),e[tK]!=null&&(r[tK]=(0,f.expectString)(e[tK])),e[Vs]!=null&&(r[Vs]=(0,f.expectString)(e[Vs])),e[DK]!=null&&(r[DK]=(0,f.expectString)(e[DK])),e[wTt]!=null&&(r[$c]=(0,f.expectString)(e[wTt])),r},"de_Grantee"),sOt=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>LCn(r,t)),"de_Grants"),UCn=S((e,t)=>{let r={};return e[RK]!=null&&(r[RK]=(0,f.expectString)(e[RK])),r},"de_IndexDocument"),iOt=S((e,t)=>{let r={};return e[Vs]!=null&&(r[Vs]=(0,f.expectString)(e[Vs])),e[pm]!=null&&(r[pm]=(0,f.expectString)(e[pm])),r},"de_Initiator"),FCn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e.Tag===""?r[ka]=[]:e[At]!=null&&(r[ka]=BC((0,f.getArrayIfSingleItem)(e[At]),t)),r},"de_IntelligentTieringAndOperator"),oOt=S((e,t)=>{let r={};return e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e[tt]!=null&&(r[tt]=qCn(e[tt],t)),e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),e.Tiering===""?r[nhe]=[]:e[she]!=null&&(r[nhe]=mwn((0,f.getArrayIfSingleItem)(e[she]),t)),r},"de_IntelligentTieringConfiguration"),BCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>oOt(r,t)),"de_IntelligentTieringConfigurationList"),qCn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e[At]!=null&&(r[At]=DP(e[At],t)),e[Gn]!=null&&(r[Gn]=FCn(e[Gn],t)),r},"de_IntelligentTieringFilter"),aOt=S((e,t)=>{let r={};return e[to]!=null&&(r[to]=$Cn(e[to],t)),e[rC]!=null&&(r[rC]=(0,f.parseBoolean)(e[rC])),e[tt]!=null&&(r[tt]=HCn(e[tt],t)),e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e[dP]!=null&&(r[dP]=(0,f.expectString)(e[dP])),e.OptionalFields===""?r[Wx]=[]:e[Wx]!=null&&e[Wx][jge]!=null&&(r[Wx]=VCn((0,f.getArrayIfSingleItem)(e[Wx][jge]),t)),e[wP]!=null&&(r[wP]=WCn(e[wP],t)),r},"de_InventoryConfiguration"),jCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>aOt(r,t)),"de_InventoryConfigurationList"),$Cn=S((e,t)=>{let r={};return e[_u]!=null&&(r[_u]=GCn(e[_u],t)),r},"de_InventoryDestination"),zCn=S((e,t)=>{let r={};return e[VK]!=null&&(r[ehe]=swn(e[VK],t)),e[HK]!=null&&(r[Zge]=rwn(e[HK],t)),r},"de_InventoryEncryption"),HCn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),r},"de_InventoryFilter"),VCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,f.expectString)(r)),"de_InventoryOptionalFields"),GCn=S((e,t)=>{let r={};return e[Jx]!=null&&(r[Jx]=(0,f.expectString)(e[Jx])),e[mr]!=null&&(r[mr]=(0,f.expectString)(e[mr])),e[uu]!=null&&(r[uu]=(0,f.expectString)(e[uu])),e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e[Mf]!=null&&(r[Mf]=zCn(e[Mf],t)),r},"de_InventoryS3BucketDestination"),WCn=S((e,t)=>{let r={};return e[cP]!=null&&(r[cP]=(0,f.expectString)(e[cP])),r},"de_InventorySchedule"),KCn=S((e,t)=>{let r={};return e[zg]!=null&&(r[zg]=(0,f.expectString)(e[zg])),e[xP]!=null&&(r[xP]=(0,f.expectString)(e[xP])),e[gm]!=null&&(r[gm]=fhe(e[gm],t)),e[Su]!=null&&(r[Su]=(0,f.expectString)(e[Su])),e[Vg]!=null&&(r[Vg]=(0,f.expectString)(e[Vg])),r},"de_InventoryTableConfigurationResult"),XCn=S((e,t)=>{let r={};return e[xP]!=null&&(r[xP]=(0,f.expectString)(e[xP])),e[gm]!=null&&(r[gm]=fhe(e[gm],t)),e[Su]!=null&&(r[Su]=(0,f.expectString)(e[Su])),e[Vg]!=null&&(r[Vg]=(0,f.expectString)(e[Vg])),e[Uf]!=null&&(r[Uf]=Mbn(e[Uf],t)),r},"de_JournalTableConfigurationResult"),JCn=S((e,t)=>{let r={};return e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e[kge]!=null&&(r[dK]=(0,f.expectString)(e[kge])),e.Event===""?r[Wg]=[]:e[kC]!=null&&(r[Wg]=phe((0,f.getArrayIfSingleItem)(e[kC]),t)),e[tt]!=null&&(r[tt]=ghe(e[tt],t)),r},"de_LambdaFunctionConfiguration"),QCn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>JCn(r,t)),"de_LambdaFunctionConfigurationList"),YCn=S((e,t)=>{let r={};return e[mc]!=null&&(r[mc]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[mc]))),e[er]!=null&&(r[er]=(0,f.strictParseInt32)(e[er])),e[tC]!=null&&(r[tC]=(0,f.parseBoolean)(e[tC])),r},"de_LifecycleExpiration"),ZCn=S((e,t)=>{let r={};return e[xi]!=null&&(r[xi]=YCn(e[xi],t)),e[Vs]!=null&&(r[Vs]=(0,f.expectString)(e[Vs])),e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e[tt]!=null&&(r[tt]=tbn(e[tt],t)),e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),e.Transition===""?r[ohe]=[]:e[ahe]!=null&&(r[ohe]=hwn((0,f.getArrayIfSingleItem)(e[ahe]),t)),e.NoncurrentVersionTransition===""?r[Wge]=[]:e[Kge]!=null&&(r[Wge]=pbn((0,f.getArrayIfSingleItem)(e[Kge]),t)),e[EC]!=null&&(r[EC]=mbn(e[EC],t)),e[lC]!=null&&(r[lC]=JEn(e[lC],t)),r},"de_LifecycleRule"),ebn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e.Tag===""?r[ka]=[]:e[At]!=null&&(r[ka]=BC((0,f.getArrayIfSingleItem)(e[At]),t)),e[hu]!=null&&(r[hu]=(0,f.strictParseLong)(e[hu])),e[yu]!=null&&(r[yu]=(0,f.strictParseLong)(e[yu])),r},"de_LifecycleRuleAndOperator"),tbn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e[At]!=null&&(r[At]=DP(e[At],t)),e[hu]!=null&&(r[hu]=(0,f.strictParseLong)(e[hu])),e[yu]!=null&&(r[yu]=(0,f.strictParseLong)(e[yu])),e[Gn]!=null&&(r[Gn]=ebn(e[Gn],t)),r},"de_LifecycleRuleFilter"),rbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ZCn(r,t)),"de_LifecycleRules"),nbn=S((e,t)=>{let r={};return e[IK]!=null&&(r[IK]=(0,f.expectString)(e[IK])),e.TargetGrants===""?r[Xx]=[]:e[Xx]!=null&&e[Xx][Kg]!=null&&(r[Xx]=lwn((0,f.getArrayIfSingleItem)(e[Xx][Kg]),t)),e[OK]!=null&&(r[OK]=(0,f.expectString)(e[OK])),e[DC]!=null&&(r[DC]=dwn(e[DC],t)),r},"de_LoggingEnabled"),sbn=S((e,t)=>{let r={};return e[Zpe]!=null&&(r[Zpe]=CCn(e[Zpe],t)),e[oge]!=null&&(r[oge]=XCn(e[oge],t)),e[sge]!=null&&(r[sge]=KCn(e[sge],t)),r},"de_MetadataConfigurationResult"),ibn=S((e,t)=>{let r={};return e[Cge]!=null&&(r[Cge]=Kbn(e[Cge],t)),r},"de_MetadataTableConfigurationResult"),obn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),e[aP]!=null&&(r[aP]=dOt(e[aP],t)),r},"de_Metrics"),abn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e.Tag===""?r[ka]=[]:e[At]!=null&&(r[ka]=BC((0,f.getArrayIfSingleItem)(e[At]),t)),e[jg]!=null&&(r[jg]=(0,f.expectString)(e[jg])),r},"de_MetricsAndOperator"),cOt=S((e,t)=>{let r={};return e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e.Filter===""||e[tt]!=null&&(r[tt]=lbn((0,f.expectUnion)(e[tt]),t)),r},"de_MetricsConfiguration"),cbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>cOt(r,t)),"de_MetricsConfigurationList"),lbn=S((e,t)=>e[Se]!=null?{Prefix:(0,f.expectString)(e[Se])}:e[At]!=null?{Tag:DP(e[At],t)}:e[jg]!=null?{AccessPointArn:(0,f.expectString)(e[jg])}:e[Gn]!=null?{And:abn(e[Gn],t)}:{$unknown:Object.entries(e)[0]},"de_MetricsFilter"),dbn=S((e,t)=>{let r={};return e[zc]!=null&&(r[zc]=(0,f.expectString)(e[zc])),e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[ige]!=null&&(r[ige]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[ige]))),e[Nt]!=null&&(r[Nt]=(0,f.expectString)(e[Nt])),e[Ar]!=null&&(r[Ar]=J_(e[Ar],t)),e[mP]!=null&&(r[mP]=iOt(e[mP],t)),e[vt]!=null&&(r[vt]=(0,f.expectString)(e[vt])),e[On]!=null&&(r[On]=(0,f.expectString)(e[On])),r},"de_MultipartUpload"),ubn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>dbn(r,t)),"de_MultipartUploadList"),mbn=S((e,t)=>{let r={};return e[pu]!=null&&(r[pu]=(0,f.strictParseInt32)(e[pu])),e[gu]!=null&&(r[gu]=(0,f.strictParseInt32)(e[gu])),r},"de_NoncurrentVersionExpiration"),fbn=S((e,t)=>{let r={};return e[pu]!=null&&(r[pu]=(0,f.strictParseInt32)(e[pu])),e[Nt]!=null&&(r[Nt]=(0,f.expectString)(e[Nt])),e[gu]!=null&&(r[gu]=(0,f.strictParseInt32)(e[gu])),r},"de_NoncurrentVersionTransition"),pbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>fbn(r,t)),"de_NoncurrentVersionTransitionList"),ghe=S((e,t)=>{let r={};return e[Yge]!=null&&(r[ht]=Wbn(e[Yge],t)),r},"de_NotificationConfigurationFilter"),gbn=S((e,t)=>{let r={};return e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[Gs]!=null&&(r[Gs]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Gs]))),e[yn]!=null&&(r[yn]=(0,f.expectString)(e[yn])),e.ChecksumAlgorithm===""?r[vt]=[]:e[vt]!=null&&(r[vt]=rOt((0,f.getArrayIfSingleItem)(e[vt]),t)),e[On]!=null&&(r[On]=(0,f.expectString)(e[On])),e[Wo]!=null&&(r[Wo]=(0,f.strictParseLong)(e[Wo])),e[Nt]!=null&&(r[Nt]=(0,f.expectString)(e[Nt])),e[Ar]!=null&&(r[Ar]=J_(e[Ar],t)),e[EP]!=null&&(r[EP]=uOt(e[EP],t)),r},"de__Object"),lOt=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>gbn(r,t)),"de_ObjectList"),hbn=S((e,t)=>{let r={};return e[gK]!=null&&(r[gK]=(0,f.expectString)(e[gK])),e[jc]!=null&&(r[jc]=Sbn(e[jc],t)),r},"de_ObjectLockConfiguration"),ybn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),r},"de_ObjectLockLegalHold"),_bn=S((e,t)=>{let r={};return e[fu]!=null&&(r[fu]=(0,f.expectString)(e[fu])),e[CP]!=null&&(r[CP]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[CP]))),r},"de_ObjectLockRetention"),Sbn=S((e,t)=>{let r={};return e[mC]!=null&&(r[mC]=gCn(e[mC],t)),r},"de_ObjectLockRule"),vbn=S((e,t)=>{let r={};return e[qc]!=null&&(r[qc]=(0,f.strictParseInt32)(e[qc])),e[Wo]!=null&&(r[Wo]=(0,f.strictParseLong)(e[Wo])),e[xn]!=null&&(r[xn]=(0,f.expectString)(e[xn])),e[Pn]!=null&&(r[Pn]=(0,f.expectString)(e[Pn])),e[Rn]!=null&&(r[Rn]=(0,f.expectString)(e[Rn])),e[Tn]!=null&&(r[Tn]=(0,f.expectString)(e[Tn])),e[In]!=null&&(r[In]=(0,f.expectString)(e[In])),r},"de_ObjectPart"),Ebn=S((e,t)=>{let r={};return e[yn]!=null&&(r[yn]=(0,f.expectString)(e[yn])),e.ChecksumAlgorithm===""?r[vt]=[]:e[vt]!=null&&(r[vt]=rOt((0,f.getArrayIfSingleItem)(e[vt]),t)),e[On]!=null&&(r[On]=(0,f.expectString)(e[On])),e[Wo]!=null&&(r[Wo]=(0,f.strictParseLong)(e[Wo])),e[Nt]!=null&&(r[Nt]=(0,f.expectString)(e[Nt])),e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[Ft]!=null&&(r[Ft]=(0,f.expectString)(e[Ft])),e[lP]!=null&&(r[lP]=(0,f.parseBoolean)(e[lP])),e[Gs]!=null&&(r[Gs]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Gs]))),e[Ar]!=null&&(r[Ar]=J_(e[Ar],t)),e[EP]!=null&&(r[EP]=uOt(e[EP],t)),r},"de_ObjectVersion"),Cbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ebn(r,t)),"de_ObjectVersionList"),J_=S((e,t)=>{let r={};return e[pm]!=null&&(r[pm]=(0,f.expectString)(e[pm])),e[Vs]!=null&&(r[Vs]=(0,f.expectString)(e[Vs])),r},"de_Owner"),bbn=S((e,t)=>{let r={};return e.Rule===""?r[vu]=[]:e[jc]!=null&&(r[vu]=Abn((0,f.getArrayIfSingleItem)(e[jc]),t)),r},"de_OwnershipControls"),wbn=S((e,t)=>{let r={};return e[WM]!=null&&(r[WM]=(0,f.expectString)(e[WM])),r},"de_OwnershipControlsRule"),Abn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>wbn(r,t)),"de_OwnershipControlsRules"),xbn=S((e,t)=>{let r={};return e[qc]!=null&&(r[qc]=(0,f.strictParseInt32)(e[qc])),e[Gs]!=null&&(r[Gs]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[Gs]))),e[yn]!=null&&(r[yn]=(0,f.expectString)(e[yn])),e[Wo]!=null&&(r[Wo]=(0,f.strictParseLong)(e[Wo])),e[xn]!=null&&(r[xn]=(0,f.expectString)(e[xn])),e[Pn]!=null&&(r[Pn]=(0,f.expectString)(e[Pn])),e[Rn]!=null&&(r[Rn]=(0,f.expectString)(e[Rn])),e[Tn]!=null&&(r[Tn]=(0,f.expectString)(e[Tn])),e[In]!=null&&(r[In]=(0,f.expectString)(e[In])),r},"de_Part"),Pbn=S((e,t)=>{let r={};return e[hK]!=null&&(r[hK]=(0,f.expectString)(e[hK])),r},"de_PartitionedPrefix"),Rbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>xbn(r,t)),"de_Parts"),Tbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vbn(r,t)),"de_PartsList"),Ibn=S((e,t)=>{let r={};return e[rge]!=null&&(r[rge]=(0,f.parseBoolean)(e[rge])),r},"de_PolicyStatus"),Obn=S((e,t)=>{let r={};return e[sP]!=null&&(r[sP]=(0,f.strictParseLong)(e[sP])),e[eP]!=null&&(r[eP]=(0,f.strictParseLong)(e[eP])),e[nP]!=null&&(r[nP]=(0,f.strictParseLong)(e[nP])),r},"de_Progress"),Nbn=S((e,t)=>{let r={};return e[tP]!=null&&(r[tP]=(0,f.parseBoolean)(e[tP])),e[uP]!=null&&(r[uP]=(0,f.parseBoolean)(e[uP])),e[rP]!=null&&(r[rP]=(0,f.parseBoolean)(e[rP])),e[vP]!=null&&(r[vP]=(0,f.parseBoolean)(e[vP])),r},"de_PublicAccessBlockConfiguration"),Dbn=S((e,t)=>{let r={};return e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e[Qge]!=null&&(r[_K]=(0,f.expectString)(e[Qge])),e.Event===""?r[Wg]=[]:e[kC]!=null&&(r[Wg]=phe((0,f.getArrayIfSingleItem)(e[kC]),t)),e[tt]!=null&&(r[tt]=ghe(e[tt],t)),r},"de_QueueConfiguration"),kbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Dbn(r,t)),"de_QueueConfigurationList"),Mbn=S((e,t)=>{let r={};return e[xi]!=null&&(r[xi]=(0,f.expectString)(e[xi])),e[er]!=null&&(r[er]=(0,f.strictParseInt32)(e[er])),r},"de_RecordExpiration"),Lbn=S((e,t)=>{let r={};return e[H_]!=null&&(r[H_]=(0,f.expectString)(e[H_])),e[oK]!=null&&(r[oK]=(0,f.expectString)(e[oK])),e[W_]!=null&&(r[W_]=(0,f.expectString)(e[W_])),e[vK]!=null&&(r[vK]=(0,f.expectString)(e[vK])),e[EK]!=null&&(r[EK]=(0,f.expectString)(e[EK])),r},"de_Redirect"),Ubn=S((e,t)=>{let r={};return e[H_]!=null&&(r[H_]=(0,f.expectString)(e[H_])),e[W_]!=null&&(r[W_]=(0,f.expectString)(e[W_])),r},"de_RedirectAllRequestsTo"),Fbn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),r},"de_ReplicaModifications"),Bbn=S((e,t)=>{let r={};return e[bK]!=null&&(r[bK]=(0,f.expectString)(e[bK])),e.Rule===""?r[vu]=[]:e[jc]!=null&&(r[vu]=zbn((0,f.getArrayIfSingleItem)(e[jc]),t)),r},"de_ReplicationConfiguration"),qbn=S((e,t)=>{let r={};return e[Vs]!=null&&(r[Vs]=(0,f.expectString)(e[Vs])),e[iC]!=null&&(r[iC]=(0,f.strictParseInt32)(e[iC])),e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e[tt]!=null&&(r[tt]=$bn(e[tt],t)),e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),e[OC]!=null&&(r[OC]=twn(e[OC],t)),e[gC]!=null&&(r[gC]=TCn(e[gC],t)),e[to]!=null&&(r[to]=ECn(e[to],t)),e[uC]!=null&&(r[uC]=SCn(e[uC],t)),r},"de_ReplicationRule"),jbn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e.Tag===""?r[ka]=[]:e[At]!=null&&(r[ka]=BC((0,f.getArrayIfSingleItem)(e[At]),t)),r},"de_ReplicationRuleAndOperator"),$bn=S((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=(0,f.expectString)(e[Se])),e[At]!=null&&(r[At]=DP(e[At],t)),e[Gn]!=null&&(r[Gn]=jbn(e[Gn],t)),r},"de_ReplicationRuleFilter"),zbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>qbn(r,t)),"de_ReplicationRules"),Hbn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),e[PP]!=null&&(r[PP]=dOt(e[PP],t)),r},"de_ReplicationTime"),dOt=S((e,t)=>{let r={};return e[sC]!=null&&(r[sC]=(0,f.strictParseInt32)(e[sC])),r},"de_ReplicationTimeValue"),uOt=S((e,t)=>{let r={};return e[nge]!=null&&(r[nge]=(0,f.parseBoolean)(e[nge])),e[_ge]!=null&&(r[_ge]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[_ge]))),r},"de_RestoreStatus"),Vbn=S((e,t)=>{let r={};return e[dC]!=null&&(r[dC]=lCn(e[dC],t)),e[PC]!=null&&(r[PC]=Lbn(e[PC],t)),r},"de_RoutingRule"),Gbn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Vbn(r,t)),"de_RoutingRules"),Wbn=S((e,t)=>{let r={};return e.FilterRule===""?r[qge]=[]:e[Bge]!=null&&(r[qge]=NCn((0,f.getArrayIfSingleItem)(e[Bge]),t)),r},"de_S3KeyFilter"),Kbn=S((e,t)=>{let r={};return e[Gg]!=null&&(r[Gg]=(0,f.expectString)(e[Gg])),e[Su]!=null&&(r[Su]=(0,f.expectString)(e[Su])),e[Vg]!=null&&(r[Vg]=(0,f.expectString)(e[Vg])),e[AP]!=null&&(r[AP]=(0,f.expectString)(e[AP])),r},"de_S3TablesDestinationResult"),Xbn=S((e,t)=>{let r={};return e[bP]!=null&&(r[bP]=(0,f.expectString)(e[bP])),e[gP]!=null&&(r[gP]=(0,f.expectString)(e[gP])),r},"de_ServerSideEncryptionByDefault"),Jbn=S((e,t)=>{let r={};return e.Rule===""?r[vu]=[]:e[jc]!=null&&(r[vu]=Ybn((0,f.getArrayIfSingleItem)(e[jc]),t)),r},"de_ServerSideEncryptionConfiguration"),Qbn=S((e,t)=>{let r={};return e[Qx]!=null&&(r[Qx]=Xbn(e[Qx],t)),e[Vn]!=null&&(r[Vn]=(0,f.parseBoolean)(e[Vn])),r},"de_ServerSideEncryptionRule"),Ybn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Qbn(r,t)),"de_ServerSideEncryptionRules"),Zbn=S((e,t)=>{let r={};return e[Gpe]!=null&&(r[Gpe]=(0,f.expectString)(e[Gpe])),e[Sge]!=null&&(r[Sge]=(0,f.expectString)(e[Sge])),e[Ege]!=null&&(r[Ege]=(0,f.expectString)(e[Ege])),e[xi]!=null&&(r[xi]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[xi]))),r},"de_SessionCredentials"),ewn=S((e,t)=>({}),"de_SimplePrefix"),twn=S((e,t)=>{let r={};return e[TC]!=null&&(r[TC]=nwn(e[TC],t)),e[AC]!=null&&(r[AC]=Fbn(e[AC],t)),r},"de_SourceSelectionCriteria"),rwn=S((e,t)=>{let r={};return e[pP]!=null&&(r[pP]=(0,f.expectString)(e[pP])),r},"de_SSEKMS"),nwn=S((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,f.expectString)(e[Pe])),r},"de_SseKmsEncryptedObjects"),swn=S((e,t)=>({}),"de_SSES3"),iwn=S((e,t)=>{let r={};return e[sP]!=null&&(r[sP]=(0,f.strictParseLong)(e[sP])),e[eP]!=null&&(r[eP]=(0,f.strictParseLong)(e[eP])),e[nP]!=null&&(r[nP]=(0,f.strictParseLong)(e[nP])),r},"de_Stats"),own=S((e,t)=>{let r={};return e[oP]!=null&&(r[oP]=awn(e[oP],t)),r},"de_StorageClassAnalysis"),awn=S((e,t)=>{let r={};return e[SP]!=null&&(r[SP]=(0,f.expectString)(e[SP])),e[to]!=null&&(r[to]=nCn(e[to],t)),r},"de_StorageClassAnalysisDataExport"),DP=S((e,t)=>{let r={};return e[ht]!=null&&(r[ht]=(0,f.expectString)(e[ht])),e[Rl]!=null&&(r[Rl]=(0,f.expectString)(e[Rl])),r},"de_Tag"),BC=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>DP(r,t)),"de_TagSet"),cwn=S((e,t)=>{let r={};return e[Pl]!=null&&(r[Pl]=nOt(e[Pl],t)),e[Lf]!=null&&(r[Lf]=(0,f.expectString)(e[Lf])),r},"de_TargetGrant"),lwn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>cwn(r,t)),"de_TargetGrants"),dwn=S((e,t)=>{let r={};return e[IC]!=null&&(r[IC]=ewn(e[IC],t)),e[bC]!=null&&(r[bC]=Pbn(e[bC],t)),r},"de_TargetObjectKeyFormat"),uwn=S((e,t)=>{let r={};return e[er]!=null&&(r[er]=(0,f.strictParseInt32)(e[er])),e[$g]!=null&&(r[$g]=(0,f.expectString)(e[$g])),r},"de_Tiering"),mwn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>uwn(r,t)),"de_TieringList"),fwn=S((e,t)=>{let r={};return e[rt]!=null&&(r[rt]=(0,f.expectString)(e[rt])),e[ihe]!=null&&(r[TK]=(0,f.expectString)(e[ihe])),e.Event===""?r[Wg]=[]:e[kC]!=null&&(r[Wg]=phe((0,f.getArrayIfSingleItem)(e[kC]),t)),e[tt]!=null&&(r[tt]=ghe(e[tt],t)),r},"de_TopicConfiguration"),pwn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>fwn(r,t)),"de_TopicConfigurationList"),gwn=S((e,t)=>{let r={};return e[mc]!=null&&(r[mc]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[mc]))),e[er]!=null&&(r[er]=(0,f.strictParseInt32)(e[er])),e[Nt]!=null&&(r[Nt]=(0,f.expectString)(e[Nt])),r},"de_Transition"),hwn=S((e,t)=>(e||[]).filter(r=>r!=null).map(r=>gwn(r,t)),"de_TransitionList"),Y=S(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ywn=S((e,t)=>(0,f.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),Gn="And",_wn="AnalyticsAndOperator",Pge="AnalyticsConfiguration",kP="ACL",aC="AccessControlList",ZRt="AnalyticsConfigurationList",Swn="AccessControlPolicy",cC="AccessControlTranslation",vwn="AccelerateConfiguration",mOt="AbortDate",Ewn="AnalyticsExportDestination",Cwn="AnalyticsFilter",Rge="AllowedHeader",Tge="AllowedHeaders",bwn="AnalyticsId",lC="AbortIncompleteMultipartUpload",Jx="AccountId",Gpe="AccessKeyId",Ige="AllowedMethod",Oge="AllowedMethods",Nge="AllowedOrigin",Dge="AllowedOrigins",wwn="AccessPointAlias",jg="AccessPointArn",KW="AllowQuotedRecordDelimiter",hhe="AcceptRanges",fOt="AbortRuleId",Awn="ArchiveStatus",xwn="AnalyticsS3BucketDestination",Pwn="AnalyticsS3ExportFileFormat",Qx="ApplyServerSideEncryptionByDefault",$g="AccessTier",Yx="Account",mr="Bucket",VM="BucketArn",Zx="BucketAccountId",Rwn="BucketAccelerateStatus",RP="BypassGovernanceRetention",Twn="BucketInfo",Vn="BucketKeyEnabled",Iwn="BucketLifecycleConfiguration",Own="BucketLocationConstraint",Nwn="BucketLocationName",Dwn="BucketLogsPermission",kwn="BucketLoggingStatus",Mwn="BucketLocationType",e6="BucketName",eP="BytesProcessed",tP="BlockPublicAcls",rP="BlockPublicPolicy",GM="BucketRegion",nP="BytesReturned",sP="BytesScanned",Lwn="BucketType",Uwn="BucketVersioningStatus",kf="Buckets",Wpe="Credentials",vt="ChecksumAlgorithm",Kpe="CannedACL",Fwn="CreateBucketConfiguration",MP="CacheControl",xn="ChecksumCRC32",Pn="ChecksumCRC32C",Rn="ChecksumCRC64NVME",LP="ContentDisposition",Xpe="CreationDate",UP="ContentEncoding",kge="CloudFunction",eTt="CloudFunctionConfiguration",FP="ContentLanguage",K_="ContentLength",pOt="ChecksumMode",Ws="ContentMD5",Bwn="CompletedMultipartUpload",qwn="CORSConfiguration",Mge="CORSRule",Lge="CORSRules",Ia="CommonPrefixes",jwn="CompletedPart",yhe="ContentRange",tTt="ConfirmRemoveSelfBucketAccess",gOt="CopySource",Tn="ChecksumSHA1",In="ChecksumSHA256",hOt="CopySourceIfMatch",UK="CopySourceIfModifiedSince",yOt="CopySourceIfNoneMatch",FK="CopySourceIfUnmodifiedSince",$wn="CopySourceRange",_Ot="CopySourceSSECustomerAlgorithm",SOt="CopySourceSSECustomerKey",vOt="CopySourceSSECustomerKeyMD5",iP="CSV",EOt="CopySourceVersionId",zwn="CSVInput",Hwn="CSVOutput",zg="ConfigurationState",On="ChecksumType",Vwn="ClientToken",BP="ContentType",Gwn="CompressionType",hn="ContinuationToken",Jpe="Checksum",z_="Contents",Qpe="Code",Wwn="Comments",dC="Condition",Oa="Delimiter",eC="DaysAfterInitiation",oP="DataExport",Kwn="DestinationIfMatch",rTt="DestinationIfModifiedSince",Xwn="DestinationIfNoneMatch",nTt="DestinationIfUnmodifiedSince",fm="DeleteMarker",uC="DeleteMarkerReplication",Jwn="DeleteMarkerReplicationStatus",Ype="DeleteMarkerVersionId",sTt="DeleteMarkers",pm="DisplayName",Qwn="DataRedundancy",mC="DefaultRetention",Zpe="DestinationResult",er="Days",mc="Date",XW="Deleted",Ywn="Delete",to="Destination",Zwn="Description",Ff="Expires",tK="EmailAddress",fC="EventBridgeConfiguration",ge="ExpectedBucketOwner",rK="ErrorCode",Na="EncryptionConfiguration",pC="ErrorDocument",Uge="ExposeHeaders",Fge="ExposeHeader",nK="ErrorMessage",tC="ExpiredObjectDeleteMarker",gC="ExistingObjectReplication",e0n="ExistingObjectReplicationStatus",t0n="EnableRequestProgress",COt="ExpiresString",bOt="ExpectedSourceBucketOwner",r0n="ExpirationStatus",n0n="ExpirationState",Da="EncodingType",yn="ETag",ege="EncryptionType",aP="EventThreshold",wOt="ExpressionType",Mf="Encryption",tge="Enabled",JW="End",gm="Error",iTt="Errors",kC="Event",Wg="Events",AOt="Expression",xi="Expiration",tt="Filter",xOt="FieldDelimiter",s0n="FileHeaderInfo",i0n="FetchOwner",Bge="FilterRule",o0n="FilterRuleName",a0n="FilterRuleValue",qge="FilterRules",jge="Field",uu="Format",cP="Frequency",Kg="Grant",qP="GrantFullControl",sK="GlacierJobParameters",jP="GrantRead",$P="GrantReadACP",_he="GrantWrite",zP="GrantWriteACP",KM="Grants",Pl="Grantee",iK="HttpErrorCodeReturnedEquals",H_="HostName",oK="HttpRedirectCode",rt="Id",$ge="InventoryConfiguration",oTt="InventoryConfigurationList",POt="InventoryConfigurationState",hC="IndexDocument",Vs="ID",c0n="InventoryDestination",rC="IsEnabled",l0n="InventoryEncryption",d0n="InventoryFilter",u0n="InventoryFormat",m0n="InventoryFrequency",f0n="InventoryId",p0n="InventoryIncludedObjectVersions",lP="IsLatest",JM="IfMatch",aTt="IfMatchInitiatedTime",cTt="IfMatchLastModifiedTime",lTt="IfMatchSize",BK="IfModifiedSince",t6="IfNoneMatch",g0n="InventoryOptionalField",dP="IncludedObjectVersions",rge="IsPublic",uP="IgnorePublicAcls",nge="IsRestoreInProgress",yC="InputSerialization",h0n="InventoryS3BucketDestination",y0n="InventorySchedule",Kr="IsTruncated",_0n="IntelligentTieringAndOperator",S0n="IntelligentTieringAccessTier",zge="IntelligentTieringConfiguration",dTt="IntelligentTieringConfigurationList",sge="InventoryTableConfigurationResult",v0n="InventoryTableConfigurationUpdates",aK="InventoryTableConfiguration",E0n="IntelligentTieringDays",C0n="IntelligentTieringFilter",b0n="IntelligentTieringId",w0n="IntelligentTieringStatus",qK="IfUnmodifiedSince",mP="Initiator",ige="Initiated",fP="JSON",A0n="JSONInput",x0n="JSONOutput",P0n="JSONType",cK="JournalTableConfiguration",oge="JournalTableConfigurationResult",R0n="JournalTableConfigurationUpdates",ht="Key",age="KeyCount",pP="KeyId",T0n="KmsKeyArn",V_="KeyMarker",I0n="KMSContext",cge="KMSKeyId",gP="KMSMasterKeyID",lK="KeyPrefixEquals",_C="Location",hP="LocationConstraint",SC="LoggingEnabled",O0n="LifecycleExpiration",dK="LambdaFunctionArn",Hge="LambdaFunctionConfigurations",N0n="LambdaFunctionConfiguration",D0n="LocationInfo",Gs="LastModified",QW="LastModifiedTime",k0n="LocationNameAsString",M0n="LocationPrefix",L0n="LifecycleRule",U0n="LifecycleRuleAndOperator",F0n="LifecycleRuleFilter",B0n="LocationType",uK="Marker",q0n="MetricsAndOperator",nC="MaxAgeSeconds",j0n="MaxBuckets",Vge="MetricsConfiguration",uTt="MetricsConfigurationList",lge="MetadataConfigurationResult",$0n="MetadataConfiguration",z0n="MetadataDirective",H0n="MaxDirectoryBuckets",Gge="MfaDelete",ROt="MetadataEntry",V0n="MetricsFilter",She="MFA",mK="MFADelete",G0n="MetricsId",mu="MaxKeys",W0n="MetadataKey",jK="MissingMeta",mTt="MpuObjectSize",Hg="MaxParts",K0n="MetricsStatus",X0n="MetadataTableConfiguration",dge="MetadataTableConfigurationResult",J0n="MetadataTableEncryptionConfiguration",fK="MaxUploads",Q0n="MetadataValue",vC="Metrics",uge="Message",sC="Minutes",fu="Mode",bs="Name",Y0n="NotificationConfiguration",Z0n="NotificationConfigurationFilter",fc="NextContinuationToken",pu="NoncurrentDays",vhe="NotificationId",yP="NextKeyMarker",mge="NextMarker",gu="NewerNoncurrentVersions",_P="NextPartNumberMarker",fge="NextUploadIdMarker",EC="NoncurrentVersionExpiration",pge="NextVersionIdMarker",Wge="NoncurrentVersionTransitions",Kge="NoncurrentVersionTransition",Ar="Owner",fTt="ObjectAttributes",eAn="OwnershipControls",tAn="ObjectCannedACL",rAn="OwnershipControlsRule",Wx="OptionalFields",nAn="ObjectIdentifier",Ehe="ObjectKey",pK="OutputLocation",sAn="ObjectLockConfiguration",gK="ObjectLockEnabled",pTt="ObjectLockEnabledForBucket",iAn="ObjectLockLegalHold",qC="ObjectLockLegalHoldStatus",HP="ObjectLockMode",oAn="ObjectLockRetention",TOt="ObjectLockRetentionMode",Bf="ObjectLockRetainUntilDate",aAn="ObjectLockRule",WM="ObjectOwnership",TP="OptionalObjectAttributes",cAn="OwnerOverride",gge="ObjectParts",CC="OutputSerialization",hu="ObjectSizeGreaterThan",IOt="ObjectSizeGreaterThanBytes",yu="ObjectSizeLessThan",OOt="ObjectSizeLessThanBytes",SP="OutputSchemaVersion",hge="ObjectSize",lAn="ObjectVersionId",dAn="Objects",Se="Prefix",uAn="PublicAccessBlockConfiguration",IP="PartsCount",hK="PartitionDateSource",mAn="ParquetInput",qc="PartNumber",G_="PartNumberMarker",bC="PartitionedPrefix",yK="Payer",$K="Part",yge="Parquet",XM="Parts",Lf="Permission",W_="Protocol",iC="Priority",YW="Quiet",_K="QueueArn",Xge="QueueConfiguration",Jge="QueueConfigurations",NOt="QuoteCharacter",DOt="QuoteEscapeCharacter",fAn="QuoteFields",Qge="Queue",kOt="Range",wC="RedirectAllRequestsTo",Wn="RequestCharged",MOt="ResponseCacheControl",LOt="ResponseContentDisposition",UOt="ResponseContentEncoding",FOt="ResponseContentLanguage",BOt="ResponseContentType",pAn="ReplicationConfiguration",Che="RecordDelimiter",qOt="ResponseExpires",gAn="RecordExpirationDays",_ge="RestoreExpiryDate",Uf="RecordExpiration",SK="ReplicaKmsKeyID",vK="ReplaceKeyPrefixWith",EK="ReplaceKeyWith",AC="ReplicaModifications",hAn="ReplicaModificationsStatus",yAn="RestoreOutputPath",an="RequestPayer",vP="RestrictPublicBuckets",_An="RequestPaymentConfiguration",CK="RequestProgress",SAn="RequestRoute",vAn="ReplicationRuleAndOperator",EAn="ReplicationRuleFilter",CAn="ReplicationRuleStatus",bAn="RestoreRequestType",wAn="ReplicationRule",AAn="RestoreRequest",Kx="RoutingRules",zK="RoutingRule",xAn="RenameSource",bhe="ReplicationStatus",EP="RestoreStatus",PAn="RequestToken",RAn="ReplicationTimeStatus",TAn="ReplicationTimeValue",xC="ReplicationTime",CP="RetainUntilDate",whe="Restore",PC="Redirect",bK="Role",jc="Rule",vu="Rules",Pe="Status",wK="StartAfter",Sge="SecretAccessKey",vge="SseAlgorithm",_u="S3BucketDestination",Nt="StorageClass",RC="StorageClassAnalysis",IAn="StorageClassAnalysisDataExport",OAn="StorageClassAnalysisSchemaVersion",gTt="StatusCode",hTt="SkipDestinationValidation",NAn="SourceIfMatch",yTt="SourceIfModifiedSince",DAn="SourceIfNoneMatch",_Tt="SourceIfUnmodifiedSince",HK="SSE-KMS",TC="SseKmsEncryptedObjects",kAn="SseKmsEncryptedObjectsStatus",MAn="S3KeyFilter",Yge="S3Key",LAn="S3Location",UAn="SessionMode",FAn="SelectObjectContentRequest",AK="SelectParameters",IC="SimplePrefix",xK="ScanRange",VK="SSE-S3",OC="SourceSelectionCriteria",La="ServerSideEncryption",bP="SSEAlgorithm",BAn="ServerSideEncryptionByDefault",qAn="ServerSideEncryptionConfiguration",ro="SSECustomerAlgorithm",hm="SSECustomerKey",no="SSECustomerKeyMD5",Zge="SSEKMS",Q_="SSEKMSEncryptionContext",Ko="SSEKMSKeyId",jAn="ServerSideEncryptionRule",ehe="SSES3",Ege="SessionToken",$An="S3TablesBucketArn",PK="S3TablesDestination",Cge="S3TablesDestinationResult",zAn="S3TablesName",bge="S3",wP="Schedule",ZW="Setting",Wo="Size",eK="Start",RK="Suffix",NC="Tagging",TK="TopicArn",Vg="TableArn",IK="TargetBucket",Gg="TableBucketArn",wge="TableBucketType",GK="TagCount",the="TopicConfiguration",rhe="TopicConfigurations",HAn="TaggingDirective",Ahe="TransitionDefaultMinimumObjectSize",Xx="TargetGrants",VAn="TargetGrant",Su="TableName",AP="TableNamespace",DC="TargetObjectKeyFormat",OK="TargetPrefix",GAn="TotalPartsCount",mm="TagSet",WAn="TableSseAlgorithm",jOt="TransitionStorageClass",xP="TableStatus",At="Tag",ka="Tags",$Ot="Tier",nhe="Tierings",she="Tiering",PP="Time",zOt="Token",ihe="Topic",ohe="Transitions",ahe="Transition",$c="Type",STt="Upload",zc="UploadId",NK="UploadIdMarker",KAn="UserMetadata",DK="URI",vTt="Uploads",ETt="Version",HOt="VersionCount",XAn="VersioningConfiguration",Ft="VersionId",kK="VersionIdMarker",Rl="Value",CTt="Versions",JAn="WebsiteConfiguration",bTt="WriteOffsetBytes",QM="WebsiteRedirectLocation",oC="Years",r6="analytics",VOt="accelerate",n6="acl",GOt="accept-ranges",QAn="attributes",YAn="bucket-region",xhe="cors",YM="cache-control",ZM="content-disposition",eL="content-encoding",tL="content-language",MC="content-length",Ks="content-md5",WOt="content-range",rL="content-type",jC="continuation-token",ZAn="delete",s6="delimiter",LC="expires",Phe="encryption",i6="encoding-type",o6="etag",KOt="expiresstring",exn="fetch-owner",Eu="id",VP="if-match",Rhe="if-modified-since",a6="inventory",nL="if-none-match",c6="intelligent-tiering",The="if-unmodified-since",XOt="key-marker",Ihe="lifecycle",JOt="legal-hold",OP="last-modified",QOt="location",YOt="logging",txn="list-type",l6="metrics",Ohe="metadataConfiguration",rxn="metadataInventoryTable",nxn="metadataJournalTable",Nhe="metadataTable",sxn="marker",ixn="max-buckets",oxn="max-directory-buckets",so="member",Dhe="max-keys",axn="max-parts",cxn="max-uploads",ZOt="notification",khe="ownershipControls",eNt="object-lock",Mhe="policy",Lhe="publicAccessBlock",d6="partNumber",lxn="policyStatus",dxn="part-number-marker",sL="prefix",Uhe="replication",uxn="renameObject",tNt="requestPayment",rNt="range",nNt="response-cache-control",sNt="response-content-disposition",iNt="response-content-encoding",oNt="response-content-language",aNt="response-content-type",cNt="response-expires",mxn="restore",lNt="retention",fxn="session",pxn="start-after",gxn="select",hxn="select-type",GP="tagging",yxn="torrent",dNt="uploads",iL="uploadId",_xn="upload-id-marker",uNt="versioning",Hc="versionId",qr='<?xml version="1.0" encoding="UTF-8"?>',Sxn="versions",vxn="version-id-marker",Fhe="website",wTt="xsi:type",WP="x-amz-acl",WK="x-amz-abort-date",ATt="x-amz-access-point-alias",mNt="x-amz-abort-rule-id",Exn="x-amz-archive-status",fNt="x-amz-bucket-arn",Bhe="x-amz-bypass-governance-retention",Cxn="x-amz-bucket-location-name",bxn="x-amz-bucket-location-type",wxn="x-amz-bucket-object-lock-enabled",pNt="x-amz-bucket-object-lock-token",Axn="x-amz-bucket-region",qhe="x-amz-checksum-algorithm",$C="x-amz-checksum-crc32",zC="x-amz-checksum-crc32c",HC="x-amz-checksum-crc64nvme",gNt="x-amz-checksum-mode",xxn="x-amz-confirm-remove-self-bucket-access",VC="x-amz-checksum-sha1",GC="x-amz-checksum-sha256",hNt="x-amz-copy-source",yNt="x-amz-copy-source-if-match",_Nt="x-amz-copy-source-if-modified-since",SNt="x-amz-copy-source-if-none-match",vNt="x-amz-copy-source-if-unmodified-since",Pxn="x-amz-create-session-mode",Rxn="x-amz-copy-source-range",ENt="x-amz-copy-source-server-side-encryption-customer-algorithm",CNt="x-amz-copy-source-server-side-encryption-customer-key",bNt="x-amz-copy-source-server-side-encryption-customer-key-md5",wNt="x-amz-copy-source-version-id",KP="x-amz-checksum-type",Txn="x-amz-client-token",X_="x-amz-delete-marker",oL="x-amz-expiration",he="x-amz-expected-bucket-owner",Ixn="x-amz-fwd-error-code",Oxn="x-amz-fwd-error-message",Nxn="x-amz-fwd-header-accept-ranges",Dxn="x-amz-fwd-header-cache-control",kxn="x-amz-fwd-header-content-disposition",Mxn="x-amz-fwd-header-content-encoding",Lxn="x-amz-fwd-header-content-language",Uxn="x-amz-fwd-header-content-range",Fxn="x-amz-fwd-header-content-type",Bxn="x-amz-fwd-header-etag",qxn="x-amz-fwd-header-expires",jxn="x-amz-fwd-header-last-modified",$xn="x-amz-fwd-header-x-amz-checksum-crc32",zxn="x-amz-fwd-header-x-amz-checksum-crc32c",Hxn="x-amz-fwd-header-x-amz-checksum-crc64nvme",Vxn="x-amz-fwd-header-x-amz-checksum-sha1",Gxn="x-amz-fwd-header-x-amz-checksum-sha256",Wxn="x-amz-fwd-header-x-amz-delete-marker",Kxn="x-amz-fwd-header-x-amz-expiration",Xxn="x-amz-fwd-header-x-amz-missing-meta",Jxn="x-amz-fwd-header-x-amz-mp-parts-count",Qxn="x-amz-fwd-header-x-amz-object-lock-legal-hold",Yxn="x-amz-fwd-header-x-amz-object-lock-mode",Zxn="x-amz-fwd-header-x-amz-object-lock-retain-until-date",ePn="x-amz-fwd-header-x-amz-restore",tPn="x-amz-fwd-header-x-amz-request-charged",rPn="x-amz-fwd-header-x-amz-replication-status",nPn="x-amz-fwd-header-x-amz-storage-class",sPn="x-amz-fwd-header-x-amz-server-side-encryption",iPn="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",oPn="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",aPn="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",cPn="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",lPn="x-amz-fwd-header-x-amz-tagging-count",dPn="x-amz-fwd-header-x-amz-version-id",uPn="x-amz-fwd-status",XP="x-amz-grant-full-control",JP="x-amz-grant-read",QP="x-amz-grant-read-acp",jhe="x-amz-grant-write",YP="x-amz-grant-write-acp",mPn="x-amz-if-match-initiated-time",fPn="x-amz-if-match-last-modified-time",pPn="x-amz-if-match-size",$he="x-amz-mfa",gPn="x-amz-metadata-directive",KK="x-amz-missing-meta",hPn="x-amz-mp-object-size",yPn="x-amz-max-parts",XK="x-amz-mp-parts-count",_Pn="x-amz-object-attributes",aL="x-amz-object-lock-legal-hold",cL="x-amz-object-lock-mode",UC="x-amz-object-lock-retain-until-date",SPn="x-amz-object-ownership",zhe="x-amz-optional-object-attributes",xTt="x-amz-object-size",vPn="x-amz-part-number-marker",ANt="x-amz-restore",cs="x-amz-request-charged",EPn="x-amz-restore-output-path",cn="x-amz-request-payer",CPn="x-amz-request-route",bPn="x-amz-rename-source",xNt="x-amz-replication-status",wPn="x-amz-rename-source-if-match",APn="x-amz-rename-source-if-modified-since",xPn="x-amz-rename-source-if-none-match",PPn="x-amz-rename-source-if-unmodified-since",RPn="x-amz-request-token",lL="x-amz-storage-class",Nn="x-amz-sdk-checksum-algorithm",TPn="x-amz-skip-destination-validation",PNt="x-amz-source-expected-bucket-owner",Tl="x-amz-server-side-encryption",Il="x-amz-server-side-encryption-aws-kms-key-id",ci="x-amz-server-side-encryption-bucket-key-enabled",Y_="x-amz-server-side-encryption-context",xo="x-amz-server-side-encryption-customer-algorithm",ym="x-amz-server-side-encryption-customer-key",Po="x-amz-server-side-encryption-customer-key-md5",Hhe="x-amz-tagging",JK="x-amz-tagging-count",IPn="x-amz-tagging-directive",Vhe="x-amz-transition-default-minimum-object-size",qf="x-amz-version-id",OPn="x-amz-write-offset-bytes",dL="x-amz-website-redirect-location",Ro="x-id",Ghe=class extends f.Command.classBuilder().ep({...de,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,Gfn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(rIt,tIt).ser(Sgn).de(gyn).build(){static{S(this,"CreateSessionCommand")}},NPn=qRt(),PTt=lM(),DPn=S(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),kPn=S(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),MPn=S((e,t)=>{let r=Object.assign((0,PTt.getAwsRegionExtensionConfiguration)(e),(0,f.getDefaultExtensionConfiguration)(e),(0,Age.getHttpHandlerExtensionConfiguration)(e),DPn(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,PTt.resolveAwsRegionExtensionConfiguration)(r),(0,f.resolveDefaultRuntimeConfig)(r),(0,Age.resolveHttpHandlerRuntimeConfig)(r),kPn(r))},"resolveRuntimeExtensions"),ZP=class extends f.Client{static{S(this,"S3Client")}config;constructor(...[e]){let t=(0,NPn.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Wfn(t),n=(0,JRt.resolveUserAgentConfig)(r),s=(0,on.resolveFlexibleChecksumsConfig)(n),i=(0,QRt.resolveRetryConfig)(s),o=(0,zfn.resolveRegionConfig)(i),a=(0,XRt.resolveHostHeaderConfig)(o),c=(0,ae.resolveEndpointConfig)(a),l=(0,Hfn.resolveEventStreamSerdeConfig)(c),d=(0,YRt.resolveHttpAuthSchemeConfig)(l),u=(0,HM.resolveS3Config)(d,{session:[()=>this,Ghe]}),m=MPn(u,e?.extensions||[]);this.config=m,this.middlewareStack.use((0,JRt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,QRt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Vfn.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,XRt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,jfn.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$fn.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Vpe.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:YRt.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:S(async p=>new Vpe.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials,"aws.auth#sigv4a":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Vpe.getHttpSigningPlugin)(this.config)),this.middlewareStack.use((0,HM.getValidateBucketNamePlugin)(this.config)),this.middlewareStack.use((0,qfn.getAddExpectContinuePlugin)(this.config)),this.middlewareStack.use((0,HM.getRegionRedirectMiddlewarePlugin)(this.config)),this.middlewareStack.use((0,HM.getS3ExpressPlugin)(this.config)),this.middlewareStack.use((0,HM.getS3ExpressHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},LPn=Ue(),RNt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,LPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(mgn).de(cyn).build(){static{S(this,"AbortMultipartUploadCommand")}},UPn=Ue(),_m=HRt(),TNt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,UPn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(XTt,KTt).ser(fgn).de(lyn).build(){static{S(this,"CompleteMultipartUploadCommand")}},FPn=Ue(),INt=class extends f.Command.classBuilder().ep({...de,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,FPn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(QTt,JTt).ser(pgn).de(dyn).build(){static{S(this,"CopyObjectCommand")}},BPn=KRt(),qPn=Ue(),ONt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qPn.getThrow200ExceptionsPlugin)(r),(0,BPn.getLocationConstraintPlugin)(r)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(ggn).de(uyn).build(){static{S(this,"CreateBucketCommand")}},NNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(hgn).de(myn).build(){static{S(this,"CreateBucketMetadataConfigurationCommand")}},DNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(ygn).de(fyn).build(){static{S(this,"CreateBucketMetadataTableConfigurationCommand")}},jPn=Ue(),kNt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,jPn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(ZTt,YTt).ser(_gn).de(pyn).build(){static{S(this,"CreateMultipartUploadCommand")}},MNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(Egn).de(yyn).build(){static{S(this,"DeleteBucketAnalyticsConfigurationCommand")}},LNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(vgn).de(hyn).build(){static{S(this,"DeleteBucketCommand")}},UNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(Cgn).de(_yn).build(){static{S(this,"DeleteBucketCorsCommand")}},FNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(bgn).de(Syn).build(){static{S(this,"DeleteBucketEncryptionCommand")}},BNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(wgn).de(vyn).build(){static{S(this,"DeleteBucketIntelligentTieringConfigurationCommand")}},qNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(Agn).de(Eyn).build(){static{S(this,"DeleteBucketInventoryConfigurationCommand")}},jNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(xgn).de(Cyn).build(){static{S(this,"DeleteBucketLifecycleCommand")}},$Nt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(Pgn).de(byn).build(){static{S(this,"DeleteBucketMetadataConfigurationCommand")}},zNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Rgn).de(wyn).build(){static{S(this,"DeleteBucketMetadataTableConfigurationCommand")}},HNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(Tgn).de(Ayn).build(){static{S(this,"DeleteBucketMetricsConfigurationCommand")}},VNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(Ign).de(xyn).build(){static{S(this,"DeleteBucketOwnershipControlsCommand")}},GNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(Ogn).de(Pyn).build(){static{S(this,"DeleteBucketPolicyCommand")}},WNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(Ngn).de(Ryn).build(){static{S(this,"DeleteBucketReplicationCommand")}},KNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(Dgn).de(Tyn).build(){static{S(this,"DeleteBucketTaggingCommand")}},XNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(kgn).de(Iyn).build(){static{S(this,"DeleteBucketWebsiteCommand")}},$Pn=Ue(),JNt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,$Pn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(Mgn).de(Oyn).build(){static{S(this,"DeleteObjectCommand")}},zPn=Ue(),QNt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,zPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(Lgn).de(Nyn).build(){static{S(this,"DeleteObjectsCommand")}},HPn=Ue(),YNt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,HPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(Ugn).de(Dyn).build(){static{S(this,"DeleteObjectTaggingCommand")}},ZNt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(Fgn).de(kyn).build(){static{S(this,"DeletePublicAccessBlockCommand")}},VPn=Ue(),eDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,VPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(Bgn).de(Myn).build(){static{S(this,"GetBucketAccelerateConfigurationCommand")}},GPn=Ue(),tDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,GPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(qgn).de(Lyn).build(){static{S(this,"GetBucketAclCommand")}},WPn=Ue(),rDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,WPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(jgn).de(Uyn).build(){static{S(this,"GetBucketAnalyticsConfigurationCommand")}},KPn=Ue(),nDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,KPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser($gn).de(Fyn).build(){static{S(this,"GetBucketCorsCommand")}},XPn=Ue(),sDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,XPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,iIt).ser(zgn).de(Byn).build(){static{S(this,"GetBucketEncryptionCommand")}},JPn=Ue(),iDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,JPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(Hgn).de(qyn).build(){static{S(this,"GetBucketIntelligentTieringConfigurationCommand")}},QPn=Ue(),oDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,QPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,dIt).ser(Vgn).de(jyn).build(){static{S(this,"GetBucketInventoryConfigurationCommand")}},YPn=Ue(),aDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,YPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Ggn).de($yn).build(){static{S(this,"GetBucketLifecycleConfigurationCommand")}},ZPn=Ue(),cDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,ZPn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(Wgn).de(zyn).build(){static{S(this,"GetBucketLocationCommand")}},eRn=Ue(),lDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,eRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(Kgn).de(Hyn).build(){static{S(this,"GetBucketLoggingCommand")}},tRn=Ue(),dDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,tRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(Xgn).de(Vyn).build(){static{S(this,"GetBucketMetadataConfigurationCommand")}},rRn=Ue(),uDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,rRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Jgn).de(Gyn).build(){static{S(this,"GetBucketMetadataTableConfigurationCommand")}},nRn=Ue(),mDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,nRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(Qgn).de(Wyn).build(){static{S(this,"GetBucketMetricsConfigurationCommand")}},sRn=Ue(),fDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,sRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(Ygn).de(Kyn).build(){static{S(this,"GetBucketNotificationConfigurationCommand")}},iRn=Ue(),pDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,iRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(Zgn).de(Xyn).build(){static{S(this,"GetBucketOwnershipControlsCommand")}},oRn=Ue(),gDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,oRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(ehn).de(Jyn).build(){static{S(this,"GetBucketPolicyCommand")}},aRn=Ue(),hDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,aRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(thn).de(Qyn).build(){static{S(this,"GetBucketPolicyStatusCommand")}},cRn=Ue(),yDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,cRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(rhn).de(Yyn).build(){static{S(this,"GetBucketReplicationCommand")}},lRn=Ue(),_Dt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,lRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(nhn).de(Zyn).build(){static{S(this,"GetBucketRequestPaymentCommand")}},dRn=Ue(),SDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,dRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(shn).de(e_n).build(){static{S(this,"GetBucketTaggingCommand")}},uRn=Ue(),vDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,uRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(ihn).de(t_n).build(){static{S(this,"GetBucketVersioningCommand")}},mRn=Ue(),EDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,mRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(ohn).de(r_n).build(){static{S(this,"GetBucketWebsiteCommand")}},fRn=Ue(),CDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,fRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(chn).de(s_n).build(){static{S(this,"GetObjectAclCommand")}},pRn=Ue(),bDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,pRn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(fIt,void 0).ser(lhn).de(i_n).build(){static{S(this,"GetObjectAttributesCommand")}},gRn=Ue(),wDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),(0,_m.getSsecPlugin)(r),(0,gRn.getS3ExpiresMiddlewarePlugin)(r)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(mIt,uIt).ser(ahn).de(n_n).build(){static{S(this,"GetObjectCommand")}},hRn=Ue(),ADt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,hRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(dhn).de(o_n).build(){static{S(this,"GetObjectLegalHoldCommand")}},yRn=Ue(),xDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,yRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(uhn).de(a_n).build(){static{S(this,"GetObjectLockConfigurationCommand")}},_Rn=Ue(),PDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,_Rn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(mhn).de(c_n).build(){static{S(this,"GetObjectRetentionCommand")}},SRn=Ue(),RDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,SRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(fhn).de(l_n).build(){static{S(this,"GetObjectTaggingCommand")}},TDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,pIt).ser(phn).de(d_n).build(){static{S(this,"GetObjectTorrentCommand")}},vRn=Ue(),IDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,vRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(ghn).de(u_n).build(){static{S(this,"GetPublicAccessBlockCommand")}},ERn=Ue(),u6=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,ERn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(hhn).de(m_n).build(){static{S(this,"HeadBucketCommand")}},RTt=Ue(),m6=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,RTt.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r),(0,RTt.getS3ExpiresMiddlewarePlugin)(r)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(hIt,gIt).ser(yhn).de(f_n).build(){static{S(this,"HeadObjectCommand")}},CRn=Ue(),ODt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,CRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(_hn).de(p_n).build(){static{S(this,"ListBucketAnalyticsConfigurationsCommand")}},bRn=Ue(),NDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,bRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(Shn).de(g_n).build(){static{S(this,"ListBucketIntelligentTieringConfigurationsCommand")}},wRn=Ue(),DDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,wRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,yIt).ser(vhn).de(h_n).build(){static{S(this,"ListBucketInventoryConfigurationsCommand")}},ARn=Ue(),kDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,ARn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Ehn).de(y_n).build(){static{S(this,"ListBucketMetricsConfigurationsCommand")}},xRn=Ue(),Whe=class extends f.Command.classBuilder().ep(de).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,xRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(Chn).de(__n).build(){static{S(this,"ListBucketsCommand")}},PRn=Ue(),Khe=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,PRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(bhn).de(S_n).build(){static{S(this,"ListDirectoryBucketsCommand")}},RRn=Ue(),MDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,RRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(whn).de(v_n).build(){static{S(this,"ListMultipartUploadsCommand")}},TRn=Ue(),LDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,TRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(Ahn).de(E_n).build(){static{S(this,"ListObjectsCommand")}},IRn=Ue(),Xhe=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,IRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(xhn).de(C_n).build(){static{S(this,"ListObjectsV2Command")}},ORn=Ue(),UDt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,ORn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(Phn).de(b_n).build(){static{S(this,"ListObjectVersionsCommand")}},NRn=Ue(),Jhe=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,NRn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(IIt,void 0).ser(Rhn).de(w_n).build(){static{S(this,"ListPartsCommand")}},FDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(Thn).de(A_n).build(){static{S(this,"PutBucketAccelerateConfigurationCommand")}},BDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(Ihn).de(x_n).build(){static{S(this,"PutBucketAclCommand")}},qDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(Ohn).de(P_n).build(){static{S(this,"PutBucketAnalyticsConfigurationCommand")}},jDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(Nhn).de(R_n).build(){static{S(this,"PutBucketCorsCommand")}},$Dt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(OIt,void 0).ser(Dhn).de(T_n).build(){static{S(this,"PutBucketEncryptionCommand")}},zDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(khn).de(I_n).build(){static{S(this,"PutBucketIntelligentTieringConfigurationCommand")}},HDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(NIt,void 0).ser(Mhn).de(O_n).build(){static{S(this,"PutBucketInventoryConfigurationCommand")}},DRn=Ue(),VDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,DRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Lhn).de(N_n).build(){static{S(this,"PutBucketLifecycleConfigurationCommand")}},GDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(Uhn).de(D_n).build(){static{S(this,"PutBucketLoggingCommand")}},WDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(Fhn).de(k_n).build(){static{S(this,"PutBucketMetricsConfigurationCommand")}},KDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(Bhn).de(M_n).build(){static{S(this,"PutBucketNotificationConfigurationCommand")}},XDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(qhn).de(L_n).build(){static{S(this,"PutBucketOwnershipControlsCommand")}},JDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(jhn).de(U_n).build(){static{S(this,"PutBucketPolicyCommand")}},QDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser($hn).de(F_n).build(){static{S(this,"PutBucketReplicationCommand")}},YDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(zhn).de(B_n).build(){static{S(this,"PutBucketRequestPaymentCommand")}},ZDt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(Hhn).de(q_n).build(){static{S(this,"PutBucketTaggingCommand")}},ekt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(Vhn).de(j_n).build(){static{S(this,"PutBucketVersioningCommand")}},tkt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(Ghn).de($_n).build(){static{S(this,"PutBucketWebsiteCommand")}},kRn=Ue(),rkt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,kRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(Khn).de(H_n).build(){static{S(this,"PutObjectAclCommand")}},TTt=Ue(),nkt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,TTt.getCheckContentLengthHeaderPlugin)(r),(0,TTt.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(kIt,DIt).ser(Whn).de(z_n).build(){static{S(this,"PutObjectCommand")}},MRn=Ue(),skt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,MRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(Xhn).de(V_n).build(){static{S(this,"PutObjectLegalHoldCommand")}},LRn=Ue(),ikt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,LRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(Jhn).de(G_n).build(){static{S(this,"PutObjectLockConfigurationCommand")}},URn=Ue(),okt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,URn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(Qhn).de(W_n).build(){static{S(this,"PutObjectRetentionCommand")}},FRn=Ue(),akt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,FRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(Yhn).de(K_n).build(){static{S(this,"PutObjectTaggingCommand")}},ckt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(Zhn).de(X_n).build(){static{S(this,"PutPublicAccessBlockCommand")}},BRn=Ue(),lkt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,BRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(eyn).de(J_n).build(){static{S(this,"RenameObjectCommand")}},qRn=Ue(),dkt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,qRn.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(BIt,void 0).ser(tyn).de(Q_n).build(){static{S(this,"RestoreObjectCommand")}},jRn=Ue(),ukt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,jRn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(jIt,qIt).ser(ryn).de(Y_n).build(){static{S(this,"SelectObjectContentCommand")}},mkt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(nyn).de(Z_n).build(){static{S(this,"UpdateBucketMetadataInventoryTableConfigurationCommand")}},fkt=class extends f.Command.classBuilder().ep({...de,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(syn).de(eSn).build(){static{S(this,"UpdateBucketMetadataJournalTableConfigurationCommand")}},$Rn=Ue(),pkt=class extends f.Command.classBuilder().ep({...de,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,on.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,$Rn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(zIt,$It).ser(iyn).de(tSn).build(){static{S(this,"UploadPartCommand")}},zRn=Ue(),gkt=class extends f.Command.classBuilder().ep({...de,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,zRn.getThrow200ExceptionsPlugin)(r),(0,_m.getSsecPlugin)(r)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(VIt,HIt).ser(oyn).de(rSn).build(){static{S(this,"UploadPartCopyCommand")}},hkt=class extends f.Command.classBuilder().ep({...de,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(e,t,r,n){return[(0,le.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ae.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(GIt,void 0).ser(ayn).de(nSn).build(){static{S(this,"WriteGetObjectResponseCommand")}},HRn={AbortMultipartUploadCommand:RNt,CompleteMultipartUploadCommand:TNt,CopyObjectCommand:INt,CreateBucketCommand:ONt,CreateBucketMetadataConfigurationCommand:NNt,CreateBucketMetadataTableConfigurationCommand:DNt,CreateMultipartUploadCommand:kNt,CreateSessionCommand:Ghe,DeleteBucketCommand:LNt,DeleteBucketAnalyticsConfigurationCommand:MNt,DeleteBucketCorsCommand:UNt,DeleteBucketEncryptionCommand:FNt,DeleteBucketIntelligentTieringConfigurationCommand:BNt,DeleteBucketInventoryConfigurationCommand:qNt,DeleteBucketLifecycleCommand:jNt,DeleteBucketMetadataConfigurationCommand:$Nt,DeleteBucketMetadataTableConfigurationCommand:zNt,DeleteBucketMetricsConfigurationCommand:HNt,DeleteBucketOwnershipControlsCommand:VNt,DeleteBucketPolicyCommand:GNt,DeleteBucketReplicationCommand:WNt,DeleteBucketTaggingCommand:KNt,DeleteBucketWebsiteCommand:XNt,DeleteObjectCommand:JNt,DeleteObjectsCommand:QNt,DeleteObjectTaggingCommand:YNt,DeletePublicAccessBlockCommand:ZNt,GetBucketAccelerateConfigurationCommand:eDt,GetBucketAclCommand:tDt,GetBucketAnalyticsConfigurationCommand:rDt,GetBucketCorsCommand:nDt,GetBucketEncryptionCommand:sDt,GetBucketIntelligentTieringConfigurationCommand:iDt,GetBucketInventoryConfigurationCommand:oDt,GetBucketLifecycleConfigurationCommand:aDt,GetBucketLocationCommand:cDt,GetBucketLoggingCommand:lDt,GetBucketMetadataConfigurationCommand:dDt,GetBucketMetadataTableConfigurationCommand:uDt,GetBucketMetricsConfigurationCommand:mDt,GetBucketNotificationConfigurationCommand:fDt,GetBucketOwnershipControlsCommand:pDt,GetBucketPolicyCommand:gDt,GetBucketPolicyStatusCommand:hDt,GetBucketReplicationCommand:yDt,GetBucketRequestPaymentCommand:_Dt,GetBucketTaggingCommand:SDt,GetBucketVersioningCommand:vDt,GetBucketWebsiteCommand:EDt,GetObjectCommand:wDt,GetObjectAclCommand:CDt,GetObjectAttributesCommand:bDt,GetObjectLegalHoldCommand:ADt,GetObjectLockConfigurationCommand:xDt,GetObjectRetentionCommand:PDt,GetObjectTaggingCommand:RDt,GetObjectTorrentCommand:TDt,GetPublicAccessBlockCommand:IDt,HeadBucketCommand:u6,HeadObjectCommand:m6,ListBucketAnalyticsConfigurationsCommand:ODt,ListBucketIntelligentTieringConfigurationsCommand:NDt,ListBucketInventoryConfigurationsCommand:DDt,ListBucketMetricsConfigurationsCommand:kDt,ListBucketsCommand:Whe,ListDirectoryBucketsCommand:Khe,ListMultipartUploadsCommand:MDt,ListObjectsCommand:LDt,ListObjectsV2Command:Xhe,ListObjectVersionsCommand:UDt,ListPartsCommand:Jhe,PutBucketAccelerateConfigurationCommand:FDt,PutBucketAclCommand:BDt,PutBucketAnalyticsConfigurationCommand:qDt,PutBucketCorsCommand:jDt,PutBucketEncryptionCommand:$Dt,PutBucketIntelligentTieringConfigurationCommand:zDt,PutBucketInventoryConfigurationCommand:HDt,PutBucketLifecycleConfigurationCommand:VDt,PutBucketLoggingCommand:GDt,PutBucketMetricsConfigurationCommand:WDt,PutBucketNotificationConfigurationCommand:KDt,PutBucketOwnershipControlsCommand:XDt,PutBucketPolicyCommand:JDt,PutBucketReplicationCommand:QDt,PutBucketRequestPaymentCommand:YDt,PutBucketTaggingCommand:ZDt,PutBucketVersioningCommand:ekt,PutBucketWebsiteCommand:tkt,PutObjectCommand:nkt,PutObjectAclCommand:rkt,PutObjectLegalHoldCommand:skt,PutObjectLockConfigurationCommand:ikt,PutObjectRetentionCommand:okt,PutObjectTaggingCommand:akt,PutPublicAccessBlockCommand:ckt,RenameObjectCommand:lkt,RestoreObjectCommand:dkt,SelectObjectContentCommand:ukt,UpdateBucketMetadataInventoryTableConfigurationCommand:mkt,UpdateBucketMetadataJournalTableConfigurationCommand:fkt,UploadPartCommand:pkt,UploadPartCopyCommand:gkt,WriteGetObjectResponseCommand:hkt},ykt=class extends ZP{static{S(this,"S3")}};(0,f.createAggregatedClient)(HRn,ykt);var VRn=(lt(),F(ui)),GRn=(0,VRn.createPaginator)(ZP,Whe,"ContinuationToken","ContinuationToken","MaxBuckets"),WRn=(lt(),F(ui)),KRn=(0,WRn.createPaginator)(ZP,Khe,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),XRn=(lt(),F(ui)),JRn=(0,XRn.createPaginator)(ZP,Xhe,"ContinuationToken","NextContinuationToken","MaxKeys"),QRn=(lt(),F(ui)),YRn=(0,QRn.createPaginator)(ZP,Jhe,"PartNumberMarker","NextPartNumberMarker","MaxParts"),ai=gse(),_kt=S(async(e,t)=>{let r;try{return r=await e.send(new u6(t)),{state:ai.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ai.WaiterState.RETRY,reason:r}}return{state:ai.WaiterState.RETRY,reason:r}},"checkState"),ZRn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ai.createWaiter)({...r,...e},t,_kt)},"waitForBucketExists"),eTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ai.createWaiter)({...r,...e},t,_kt);return(0,ai.checkExceptions)(n)},"waitUntilBucketExists"),Skt=S(async(e,t)=>{let r;try{r=await e.send(new u6(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ai.WaiterState.SUCCESS,reason:r}}return{state:ai.WaiterState.RETRY,reason:r}},"checkState"),tTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ai.createWaiter)({...r,...e},t,Skt)},"waitForBucketNotExists"),rTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ai.createWaiter)({...r,...e},t,Skt);return(0,ai.checkExceptions)(n)},"waitUntilBucketNotExists"),vkt=S(async(e,t)=>{let r;try{return r=await e.send(new m6(t)),{state:ai.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ai.WaiterState.RETRY,reason:r}}return{state:ai.WaiterState.RETRY,reason:r}},"checkState"),nTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ai.createWaiter)({...r,...e},t,vkt)},"waitForObjectExists"),sTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ai.createWaiter)({...r,...e},t,vkt);return(0,ai.checkExceptions)(n)},"waitUntilObjectExists"),Ekt=S(async(e,t)=>{let r;try{r=await e.send(new m6(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ai.WaiterState.SUCCESS,reason:r}}return{state:ai.WaiterState.RETRY,reason:r}},"checkState"),iTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ai.createWaiter)({...r,...e},t,Ekt)},"waitForObjectNotExists"),oTn=S(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ai.createWaiter)({...r,...e},t,Ekt);return(0,ai.checkExceptions)(n)},"waitUntilObjectNotExists")});var Pkt=E((tFs,xkt)=>{"use strict";var f6=Object.defineProperty,aTn=Object.getOwnPropertyDescriptor,cTn=Object.getOwnPropertyNames,lTn=Object.prototype.hasOwnProperty,dTn=(e,t)=>f6(e,"name",{value:t,configurable:!0}),uTn=(e,t)=>{for(var r in t)f6(e,r,{get:t[r],enumerable:!0})},mTn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cTn(t))!lTn.call(e,s)&&s!==r&&f6(e,s,{get:()=>t[s],enumerable:!(n=aTn(t,s))||n.enumerable});return e},fTn=e=>mTn(f6({},"__esModule",{value:!0}),e),wkt={};uTn(wkt,{formatUrl:()=>Akt});xkt.exports=fTn(wkt);var pTn=wF();function Akt(e){let{port:t,query:r}=e,{protocol:n,path:s,hostname:i}=e;n&&n.slice(-1)!==":"&&(n+=":"),t&&(i+=`:${t}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let o=r?(0,pTn.buildQueryString)(r):"";o&&o[0]!=="?"&&(o=`?${o}`);let a="";if(e.username!=null||e.password!=null){let l=e.username??"",d=e.password??"";a=`${l}:${d}@`}let c="";return e.fragment&&(c=`#${e.fragment}`),`${n}//${a}${i}${s}${o}${c}`}dTn(Akt,"formatUrl")});var Ikt=E((rFs,Tkt)=>{"use strict";var g6=Object.defineProperty,gTn=Object.getOwnPropertyDescriptor,hTn=Object.getOwnPropertyNames,yTn=Object.prototype.hasOwnProperty,p6=(e,t)=>g6(e,"name",{value:t,configurable:!0}),_Tn=(e,t)=>{for(var r in t)g6(e,r,{get:t[r],enumerable:!0})},STn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hTn(t))!yTn.call(e,s)&&s!==r&&g6(e,s,{get:()=>t[s],enumerable:!(n=gTn(t,s))||n.enumerable});return e},vTn=e=>STn(g6({},"__esModule",{value:!0}),e),Rkt={};_Tn(Rkt,{S3RequestPresigner:()=>Qhe,getSignedUrl:()=>PTn});Tkt.exports=vTn(Rkt);var ETn=Pkt(),CTn=us(),bTn=Ge(),wTn=h4(),ATn="UNSIGNED-PAYLOAD",xTn="X-Amz-Content-Sha256",Qhe=class{static{p6(this,"S3RequestPresigner")}signer;constructor(e){let t={service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1,applyChecksum:e.applyChecksum||!1,...e};this.signer=new wTn.SignatureV4MultiRegion(t)}presign(e,{unsignableHeaders:t=new Set,hoistableHeaders:r=new Set,unhoistableHeaders:n=new Set,...s}={}){return this.prepareRequest(e,{unsignableHeaders:t,unhoistableHeaders:n,hoistableHeaders:r}),this.signer.presign(e,{expiresIn:900,unsignableHeaders:t,unhoistableHeaders:n,...s})}presignWithCredentials(e,t,{unsignableHeaders:r=new Set,hoistableHeaders:n=new Set,unhoistableHeaders:s=new Set,...i}={}){return this.prepareRequest(e,{unsignableHeaders:r,unhoistableHeaders:s,hoistableHeaders:n}),this.signer.presignWithCredentials(e,t,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:s,...i})}prepareRequest(e,{unsignableHeaders:t=new Set,unhoistableHeaders:r=new Set,hoistableHeaders:n=new Set}={}){t.add("content-type"),Object.keys(e.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{n.has(a)||r.add(a)}),e.headers[xTn]=ATn;let s=e.headers.host,i=e.port,o=`${e.hostname}${e.port!=null?":"+i:""}`;(!s||s===e.hostname&&e.port!=null)&&(e.headers.host=o)}},PTn=p6(async(e,t,r={})=>{let n,s;if(typeof e.config.endpointProvider=="function"){let m=(await(0,CTn.getEndpointFromInstructions)(t.input,t.constructor,e.config)).properties?.authSchemes?.[0];m?.name==="sigv4a"?s=m?.signingRegionSet?.join(","):s=m?.signingRegion,n=new Qhe({...e.config,signingName:m?.signingName,region:p6(async()=>s,"region")})}else n=new Qhe(e.config);let i=p6((u,m)=>async p=>{let{request:g}=p;if(!bTn.HttpRequest.isInstance(g))throw new Error("Request to be presigned is not an valid HTTP request.");delete g.headers["amz-sdk-invocation-id"],delete g.headers["amz-sdk-request"],delete g.headers["x-amz-user-agent"];let y,b={...r,signingRegion:r.signingRegion??m.signing_region??s,signingService:r.signingService??m.signing_service};return m.s3ExpressIdentity?y=await n.presignWithCredentials(g,m.s3ExpressIdentity,b):y=await n.presign(g,b),{response:{},output:{$metadata:{httpStatusCode:200},presigned:y}}},"presignInterceptMiddleware"),o="presignInterceptMiddleware",a=e.middlewareStack.clone();a.addRelativeTo(i,{name:o,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let c=t.resolveMiddleware(a,e.config,{}),{output:l}=await c({input:t.input}),{presigned:d}=l;return(0,ETn.formatUrl)(d)},"getSignedUrl")});var Dkt=E(Z_=>{"use strict";var RTn=Z_&&Z_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.s3Service=Z_.S3Service=void 0;var TTn=require("node:crypto"),Yhe=require("node:path"),WC=bkt(),ITn=Ikt(),h6=kI(),uL=RTn(Np());function Nkt(){return process.env.S3_REGION||process.env.AWS_REGION||h6.env.s3.region||h6.env.aws.region||"us-east-1"}function Okt(){return process.env.S3_BUCKET_NAME||h6.env.s3.bucketName}function OTn(){return process.env.S3_CDN_DOMAIN||h6.env.s3.cdnDomain||""}var eR=new WC.S3Client({region:Nkt()}),y6=class{bucketName;region;cdnDomain;urlExpirationTime=3600;constructor(){this.bucketName=Okt(),this.region=Nkt(),this.cdnDomain=OTn(),this.bucketName?uL.default.debug("S3Service initialized",{bucket:this.bucketName,region:this.region,cdnDomain:this.cdnDomain||void 0}):uL.default.warn("S3Service initialized without bucket name. Upload operations will fail.")}ensureBucket(){let t=this.bucketName||Okt();if(!t)throw new Error("S3 bucket name is not configured. Set S3_BUCKET_NAME environment variable.");return t}generateFileKey(t,r={}){let{userId:n,purpose:s="storage",variant:i}=r,o=(0,Yhe.extname)(t)||".bin",a=(0,Yhe.basename)(t,o)||"file",c=Date.now(),l=(0,TTn.randomBytes)(6).toString("hex"),d=`${c}_${l}`,u="images";return n&&(u+=`/users/${n}`),u+=`/${s}`,i&&(u+=`/${i}`),u+=`/${d}_${a}${o}`,u.replace(/\\/g,"/")}getContentTypeFromExtension(t){switch((0,Yhe.extname)(t).toLowerCase()){case".jpg":case".jpeg":return"image/jpeg";case".png":return"image/png";case".webp":return"image/webp";case".gif":return"image/gif";case".heic":return"image/heic";case".tiff":case".tif":return"image/tiff";default:return"application/octet-stream"}}formatToMime(t){if(!t)return"application/octet-stream";switch(t.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"gif":return"image/gif";case"tiff":return"image/tiff";case"heic":return"image/heic";default:return"application/octet-stream"}}getCDNUrl(t){return this.cdnDomain?`https://${this.cdnDomain.replace(/\/$/,"")}/${t}`:`https://${this.ensureBucket()}.s3.${this.region}.amazonaws.com/${t}`}async uploadFile(t,r,n={}){let s=this.ensureBucket(),i=this.generateFileKey(r,n),o=n.contentType||this.getContentTypeFromExtension(n.originalName||r),a={"original-name":n.originalName||r,"upload-timestamp":new Date().toISOString(),"file-size":t.length.toString(),...n.userId&&{"user-id":n.userId},...n.purpose&&{purpose:n.purpose},...n.variant&&{variant:n.variant},...n.metadata||{}},c={Bucket:s,Key:i,Body:t,ContentType:o,Metadata:a,...n.isPublic&&{ACL:"public-read"},...n.expiresIn&&{Expires:new Date(Date.now()+n.expiresIn*1e3)}};try{let l=Date.now(),d=await eR.send(new WC.PutObjectCommand(c)),u=Date.now()-l;return uL.default.info("S3 upload completed",{key:i,bucket:s,size:t.length,duration:u}),{key:i,url:this.getCDNUrl(i),bucket:s,contentType:o,size:t.length,etag:d.ETag||"",metadata:a}}catch(l){throw uL.default.error("S3 upload failed",l instanceof Error?l:void 0,{bucket:s,key:i}),l}}async uploadFiles(t){let r=[];for(let n of t)try{let s=await this.uploadFile(n.buffer,n.name,n.options||{});r.push({name:n.name,result:s})}catch(s){let i=s instanceof Error?s.message:"Unknown error";uL.default.error("Batch S3 upload failed",s instanceof Error?s:void 0,{fileName:n.name}),r.push({name:n.name,error:i})}return r}async getFileInfo(t){let n={Bucket:this.ensureBucket(),Key:t},s=await eR.send(new WC.HeadObjectCommand(n));return{key:t,size:s.ContentLength||0,lastModified:s.LastModified||new Date,etag:s.ETag||"",contentType:s.ContentType,metadata:s.Metadata}}async deleteFile(t){let n={Bucket:this.ensureBucket(),Key:t};await eR.send(new WC.DeleteObjectCommand(n))}async listFiles(t,r=1e3){let s={Bucket:this.ensureBucket(),Prefix:t,MaxKeys:r};return((await eR.send(new WC.ListObjectsV2Command(s))).Contents||[]).map(o=>({key:o.Key||"",size:o.Size||0,lastModified:o.LastModified||new Date,etag:o.ETag||""}))}async getSignedDownloadUrl(t,r){let s={Bucket:this.ensureBucket(),Key:t};return(0,ITn.getSignedUrl)(eR,new WC.GetObjectCommand(s),{expiresIn:r||this.urlExpirationTime})}async downloadFile(t,r){let s={Bucket:r||this.ensureBucket(),Key:t},i=await eR.send(new WC.GetObjectCommand(s));if(!i.Body)throw new Error(`S3 object ${t} has no body`);if(i.Body instanceof Buffer)return i.Body;if(typeof i.Body=="string")return Buffer.from(i.Body);let o=[];for await(let a of i.Body)o.push(a instanceof Buffer?a:Buffer.from(a));return Buffer.concat(o)}mapFormatToMime(t){return this.formatToMime(t)}};Z_.S3Service=y6;Z_.s3Service=new y6});var Mkt=E(tR=>{"use strict";var NTn=tR&&tR.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tR,"__esModule",{value:!0});tR.parseMultipartFormData=kTn;tR.findFile=MTn;var Zhe=NTn(Np());function DTn(e){let t=/boundary=([^;]+)/i.exec(e);return t?t[1]:null}function kkt(e){return e.endsWith(`\r
`)?e.slice(0,-2):e}function kTn(e){let t=e.headers||{},r=t["content-type"]||t["Content-Type"];if(!r)throw new Error("Missing content-type header for multipart parsing");let n=DTn(r);if(!n)throw new Error("Unable to determine multipart boundary");if(!e.body)throw new Error("Empty request body");let i=(e.isBase64Encoded?Buffer.from(e.body,"base64"):Buffer.from(e.body,"utf8")).toString("latin1"),o=`--${n}`,a=`--${n}--`,c=i.split(o).filter(u=>{let m=u.trim();return m.length>0&&m!=="--"}),l=[],d={};for(let u of c){let m=u.replace(/^\r?\n/,"").replace(a,"").trim();if(!m)continue;let p=m.indexOf(`\r
\r
`);if(p===-1){Zhe.default.warn("Multipart segment missing header separator");continue}let g=m.slice(0,p),y=m.slice(p+4),b=g.split(/\r\n/),w={};for(let z of b){let oe=z.indexOf(":");if(oe===-1)continue;let Q=z.slice(0,oe).trim().toLowerCase(),_e=z.slice(oe+1).trim();w[Q]=_e}let A=w["content-disposition"];if(!A){Zhe.default.warn("Skipping multipart segment without content-disposition header");continue}let O=/name="([^"]+)"/i.exec(A),T=/filename="([^"]*)"/i.exec(A);if(!O){Zhe.default.warn("Skipping multipart segment with invalid content-disposition",{contentDisposition:A});continue}let k=O[1];if(T&&T[1]){let z=T[1],oe=w["content-type"]||"application/octet-stream",Q=kkt(y),_e=Buffer.from(Q,"latin1");l.push({fieldName:k,filename:z,contentType:oe,content:_e,size:_e.length})}else d[k]=kkt(y)}return{files:l,fields:d}}function MTn(e,t){return e.files.find(r=>r.fieldName===t)}});var rye=E(He=>{"use strict";var LTn=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eye=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LTn(t,e,r)},_6=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(He,"__esModule",{value:!0});He.findFile=He.parseMultipartFormData=He.S3Service=He.s3Service=He.textractService=He.AppError=He.ImageValidationService=He.ImagePreprocessingService=He.secretsService=He.cognitoService=He.getRequestId=He.logResponse=He.logRequest=He.createResponse=He.emitBusinessMetric=He.emitDatabaseConnectionMetric=He.emitMetric=He.validateEnvironmentVariables=He.extractBearerToken=He.parseRequestBody=He.handleCorsPreflightRequest=He.lambdaHandler=He.logger=He.env=He.setupLambdaCleanup=He.disconnectPrisma=He.getPrismaClient=void 0;var tye=G7();Object.defineProperty(He,"getPrismaClient",{enumerable:!0,get:function(){return _6(tye).default}});Object.defineProperty(He,"disconnectPrisma",{enumerable:!0,get:function(){return tye.disconnectPrisma}});Object.defineProperty(He,"setupLambdaCleanup",{enumerable:!0,get:function(){return tye.setupLambdaCleanup}});var UTn=kI();Object.defineProperty(He,"env",{enumerable:!0,get:function(){return UTn.env}});var FTn=Np();Object.defineProperty(He,"logger",{enumerable:!0,get:function(){return _6(FTn).default}});eye(PBe(),He);eye(U$e(),He);var Cu=iJe();Object.defineProperty(He,"lambdaHandler",{enumerable:!0,get:function(){return Cu.lambdaHandler}});Object.defineProperty(He,"handleCorsPreflightRequest",{enumerable:!0,get:function(){return Cu.handleCorsPreflightRequest}});Object.defineProperty(He,"parseRequestBody",{enumerable:!0,get:function(){return Cu.parseRequestBody}});Object.defineProperty(He,"extractBearerToken",{enumerable:!0,get:function(){return Cu.extractBearerToken}});Object.defineProperty(He,"validateEnvironmentVariables",{enumerable:!0,get:function(){return Cu.validateEnvironmentVariables}});Object.defineProperty(He,"emitMetric",{enumerable:!0,get:function(){return Cu.emitMetric}});Object.defineProperty(He,"emitDatabaseConnectionMetric",{enumerable:!0,get:function(){return Cu.emitDatabaseConnectionMetric}});Object.defineProperty(He,"emitBusinessMetric",{enumerable:!0,get:function(){return Cu.emitBusinessMetric}});Object.defineProperty(He,"createResponse",{enumerable:!0,get:function(){return Cu.createResponse}});Object.defineProperty(He,"logRequest",{enumerable:!0,get:function(){return Cu.logRequest}});Object.defineProperty(He,"logResponse",{enumerable:!0,get:function(){return Cu.logResponse}});Object.defineProperty(He,"getRequestId",{enumerable:!0,get:function(){return Cu.getRequestId}});var BTn=yde();Object.defineProperty(He,"cognitoService",{enumerable:!0,get:function(){return _6(BTn).default}});eye(ngt(),He);var qTn=V7();Object.defineProperty(He,"secretsService",{enumerable:!0,get:function(){return _6(qTn).default}});var jTn=igt();Object.defineProperty(He,"ImagePreprocessingService",{enumerable:!0,get:function(){return jTn.ImagePreprocessingService}});var Lkt=agt();Object.defineProperty(He,"ImageValidationService",{enumerable:!0,get:function(){return Lkt.ImageValidationService}});Object.defineProperty(He,"AppError",{enumerable:!0,get:function(){return Lkt.AppError}});var $Tn=iyt();Object.defineProperty(He,"textractService",{enumerable:!0,get:function(){return $Tn.textractService}});var Ukt=Dkt();Object.defineProperty(He,"s3Service",{enumerable:!0,get:function(){return Ukt.s3Service}});Object.defineProperty(He,"S3Service",{enumerable:!0,get:function(){return Ukt.S3Service}});var Fkt=Mkt();Object.defineProperty(He,"parseMultipartFormData",{enumerable:!0,get:function(){return Fkt.parseMultipartFormData}});Object.defineProperty(He,"findFile",{enumerable:!0,get:function(){return Fkt.findFile}})});var tS=E((aFs,Wkt)=>{var S6=Object.defineProperty,zTn=Object.getOwnPropertyDescriptor,HTn=Object.getOwnPropertyNames,VTn=Object.prototype.hasOwnProperty,eS=(e,t)=>S6(e,"name",{value:t,configurable:!0}),GTn=(e,t)=>{for(var r in t)S6(e,r,{get:t[r],enumerable:!0})},WTn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HTn(t))!VTn.call(e,s)&&s!==r&&S6(e,s,{get:()=>t[s],enumerable:!(n=zTn(t,s))||n.enumerable});return e},KTn=e=>WTn(S6({},"__esModule",{value:!0}),e),Bkt={};GTn(Bkt,{AlgorithmId:()=>zkt,EndpointURLScheme:()=>$kt,FieldPosition:()=>Hkt,HttpApiKeyAuthLocation:()=>jkt,HttpAuthLocation:()=>qkt,IniSectionType:()=>Vkt,RequestHandlerProtocol:()=>Gkt,SMITHY_CONTEXT_KEY:()=>ZTn,getDefaultClientConfiguration:()=>QTn,resolveDefaultRuntimeConfig:()=>YTn});Wkt.exports=KTn(Bkt);var qkt=(e=>(e.HEADER="header",e.QUERY="query",e))(qkt||{}),jkt=(e=>(e.HEADER="header",e.QUERY="query",e))(jkt||{}),$kt=(e=>(e.HTTP="http",e.HTTPS="https",e))($kt||{}),zkt=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(zkt||{}),XTn=eS(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:eS(()=>"sha256","algorithmId"),checksumConstructor:eS(()=>e.sha256,"checksumConstructor")}),e.md5!=null&&t.push({algorithmId:eS(()=>"md5","algorithmId"),checksumConstructor:eS(()=>e.md5,"checksumConstructor")}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),JTn=eS(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),QTn=eS(e=>XTn(e),"getDefaultClientConfiguration"),YTn=eS(e=>JTn(e),"resolveDefaultRuntimeConfig"),Hkt=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Hkt||{}),ZTn="__smithy_context",Vkt=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Vkt||{}),Gkt=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Gkt||{})});var Dn=E((cFs,Ykt)=>{var v6=Object.defineProperty,eIn=Object.getOwnPropertyDescriptor,tIn=Object.getOwnPropertyNames,rIn=Object.prototype.hasOwnProperty,rS=(e,t)=>v6(e,"name",{value:t,configurable:!0}),nIn=(e,t)=>{for(var r in t)v6(e,r,{get:t[r],enumerable:!0})},sIn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tIn(t))!rIn.call(e,s)&&s!==r&&v6(e,s,{get:()=>t[s],enumerable:!(n=eIn(t,s))||n.enumerable});return e},iIn=e=>sIn(v6({},"__esModule",{value:!0}),e),Kkt={};nIn(Kkt,{Field:()=>cIn,Fields:()=>lIn,HttpRequest:()=>dIn,HttpResponse:()=>uIn,IHttpRequest:()=>Xkt.HttpRequest,getHttpHandlerExtensionConfiguration:()=>oIn,isValidHostname:()=>Qkt,resolveHttpHandlerRuntimeConfig:()=>aIn});Ykt.exports=iIn(Kkt);var oIn=rS(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),aIn=rS(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Xkt=tS(),cIn=class{static{rS(this,"Field")}constructor({name:e,kind:t=Xkt.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},lIn=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{rS(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},dIn=class nye{static{rS(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new nye({...t,headers:{...t.headers}});return r.query&&(r.query=Jkt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return nye.clone(this)}};function Jkt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}rS(Jkt,"cloneQuery");var uIn=class{static{rS(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Qkt(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}rS(Qkt,"isValidHostname")});var mL=E((mFs,nMt)=>{"use strict";var C6=Object.defineProperty,mIn=Object.getOwnPropertyDescriptor,fIn=Object.getOwnPropertyNames,pIn=Object.prototype.hasOwnProperty,E6=(e,t)=>C6(e,"name",{value:t,configurable:!0}),gIn=(e,t)=>{for(var r in t)C6(e,r,{get:t[r],enumerable:!0})},hIn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fIn(t))!pIn.call(e,s)&&s!==r&&C6(e,s,{get:()=>t[s],enumerable:!(n=mIn(t,s))||n.enumerable});return e},yIn=e=>hIn(C6({},"__esModule",{value:!0}),e),Zkt={};gIn(Zkt,{getHostHeaderPlugin:()=>SIn,hostHeaderMiddleware:()=>tMt,hostHeaderMiddlewareOptions:()=>rMt,resolveHostHeaderConfig:()=>eMt});nMt.exports=yIn(Zkt);var _In=Dn();function eMt(e){return e}E6(eMt,"resolveHostHeaderConfig");var tMt=E6(e=>t=>async r=>{if(!_In.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),rMt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},SIn=E6(e=>({applyToStack:E6(t=>{t.add(tMt(e),rMt)},"applyToStack")}),"getHostHeaderPlugin")});var fL=E((fFs,aMt)=>{"use strict";var b6=Object.defineProperty,vIn=Object.getOwnPropertyDescriptor,EIn=Object.getOwnPropertyNames,CIn=Object.prototype.hasOwnProperty,sye=(e,t)=>b6(e,"name",{value:t,configurable:!0}),bIn=(e,t)=>{for(var r in t)b6(e,r,{get:t[r],enumerable:!0})},wIn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of EIn(t))!CIn.call(e,s)&&s!==r&&b6(e,s,{get:()=>t[s],enumerable:!(n=vIn(t,s))||n.enumerable});return e},AIn=e=>wIn(b6({},"__esModule",{value:!0}),e),sMt={};bIn(sMt,{getLoggerPlugin:()=>xIn,loggerMiddleware:()=>iMt,loggerMiddlewareOptions:()=>oMt});aMt.exports=AIn(sMt);var iMt=sye(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),oMt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},xIn=sye(e=>({applyToStack:sye(t=>{t.add(iMt(),oMt)},"applyToStack")}),"getLoggerPlugin")});var cMt=E(A6=>{"use strict";Object.defineProperty(A6,"__esModule",{value:!0});A6.InvokeStore=void 0;var PIn=require("async_hooks"),iye=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";iye||(globalThis.awslambda=globalThis.awslambda||{});var RIn={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},oye=class{static storage=new PIn.AsyncLocalStorage;static PROTECTED_KEYS=RIn;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},w6;!iye&&globalThis.awslambda?.InvokeStore?w6=globalThis.awslambda.InvokeStore:(w6=oye,!iye&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=w6));A6.InvokeStore=w6});var cye=E(x6=>{"use strict";Object.defineProperty(x6,"__esModule",{value:!0});x6.recursionDetectionMiddleware=void 0;var TIn=cMt(),IIn=Dn(),aye="X-Amzn-Trace-Id",OIn="AWS_LAMBDA_FUNCTION_NAME",NIn="_X_AMZN_TRACE_ID",DIn=()=>e=>async t=>{let{request:r}=t;if(!IIn.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===aye.toLowerCase())??aye;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[OIn],i=process.env[NIn],a=TIn.InvokeStore.getXRayTraceId()??i,c=l=>typeof l=="string"&&l.length>0;return c(s)&&c(a)&&(r.headers[aye]=a),e({...t,request:r})};x6.recursionDetectionMiddleware=DIn});var pL=E((hFs,uye)=>{"use strict";var P6=Object.defineProperty,kIn=Object.getOwnPropertyDescriptor,MIn=Object.getOwnPropertyNames,LIn=Object.prototype.hasOwnProperty,lMt=(e,t)=>P6(e,"name",{value:t,configurable:!0}),UIn=(e,t)=>{for(var r in t)P6(e,r,{get:t[r],enumerable:!0})},lye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MIn(t))!LIn.call(e,s)&&s!==r&&P6(e,s,{get:()=>t[s],enumerable:!(n=kIn(t,s))||n.enumerable});return e},FIn=(e,t,r)=>(lye(e,t,"default"),r&&lye(r,t,"default")),BIn=e=>lye(P6({},"__esModule",{value:!0}),e),dye={};UIn(dye,{getRecursionDetectionPlugin:()=>$In});uye.exports=BIn(dye);var qIn={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},jIn=cye(),$In=lMt(e=>({applyToStack:lMt(t=>{t.add((0,jIn.recursionDetectionMiddleware)(),qIn)},"applyToStack")}),"getRecursionDetectionPlugin");FIn(dye,cye(),uye.exports)});var pMt=E((yFs,fMt)=>{var R6=Object.defineProperty,zIn=Object.getOwnPropertyDescriptor,HIn=Object.getOwnPropertyNames,VIn=Object.prototype.hasOwnProperty,Pi=(e,t)=>R6(e,"name",{value:t,configurable:!0}),GIn=(e,t)=>{for(var r in t)R6(e,r,{get:t[r],enumerable:!0})},WIn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HIn(t))!VIn.call(e,s)&&s!==r&&R6(e,s,{get:()=>t[s],enumerable:!(n=zIn(t,s))||n.enumerable});return e},KIn=e=>WIn(R6({},"__esModule",{value:!0}),e),mMt={};GIn(mMt,{constructStack:()=>mye});fMt.exports=KIn(mMt);var KC=Pi((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),nS=Pi((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),mye=Pi(()=>{let e=[],t=[],r=!1,n=new Set,s=Pi(u=>u.sort((m,p)=>dMt[p.step]-dMt[m.step]||uMt[p.priority||"normal"]-uMt[m.priority||"normal"]),"sort"),i=Pi(u=>{let m=!1,p=Pi(g=>{let y=KC(g.name,g.aliases);if(y.includes(u)){m=!0;for(let b of y)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByName"),o=Pi(u=>{let m=!1,p=Pi(g=>{if(g.middleware===u){m=!0;for(let y of KC(g.name,g.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByReference"),a=Pi(u=>(e.forEach(m=>{u.add(m.middleware,{...m})}),t.forEach(m=>{u.addRelativeTo(m.middleware,{...m})}),u.identifyOnResolve?.(d.identifyOnResolve()),u),"cloneTo"),c=Pi(u=>{let m=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m},"expandRelativeMiddlewareList"),l=Pi((u=!1)=>{let m=[],p=[],g={};return e.forEach(b=>{let w={...b,before:[],after:[]};for(let A of KC(w.name,w.aliases))g[A]=w;m.push(w)}),t.forEach(b=>{let w={...b,before:[],after:[]};for(let A of KC(w.name,w.aliases))g[A]=w;p.push(w)}),p.forEach(b=>{if(b.toMiddleware){let w=g[b.toMiddleware];if(w===void 0){if(u)return;throw new Error(`${b.toMiddleware} is not found when adding ${nS(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&w.after.push(b),b.relation==="before"&&w.before.push(b)}}),s(m).map(c).reduce((b,w)=>(b.push(...w),b),[])},"getMiddlewareList"),d={add:Pi((u,m={})=>{let{name:p,override:g,aliases:y}=m,b={step:"initialize",priority:"normal",middleware:u,...m},w=KC(p,y);if(w.length>0){if(w.some(A=>n.has(A))){if(!g)throw new Error(`Duplicate middleware name '${nS(p,y)}'`);for(let A of w){let O=e.findIndex(k=>k.name===A||k.aliases?.some(z=>z===A));if(O===-1)continue;let T=e[O];if(T.step!==b.step||b.priority!==T.priority)throw new Error(`"${nS(T.name,T.aliases)}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by "${nS(p,y)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice(O,1)}}for(let A of w)n.add(A)}e.push(b)},"add"),addRelativeTo:Pi((u,m)=>{let{name:p,override:g,aliases:y}=m,b={middleware:u,...m},w=KC(p,y);if(w.length>0){if(w.some(A=>n.has(A))){if(!g)throw new Error(`Duplicate middleware name '${nS(p,y)}'`);for(let A of w){let O=t.findIndex(k=>k.name===A||k.aliases?.some(z=>z===A));if(O===-1)continue;let T=t[O];if(T.toMiddleware!==b.toMiddleware||T.relation!==b.relation)throw new Error(`"${nS(T.name,T.aliases)}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by "${nS(p,y)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(O,1)}}for(let A of w)n.add(A)}t.push(b)},"addRelativeTo"),clone:Pi(()=>a(mye()),"clone"),use:Pi(u=>{u.applyToStack(d)},"use"),remove:Pi(u=>typeof u=="string"?i(u):o(u),"remove"),removeByTag:Pi(u=>{let m=!1,p=Pi(g=>{let{tags:y,name:b,aliases:w}=g;if(y&&y.includes(u)){let A=KC(b,w);for(let O of A)n.delete(O);return m=!0,!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),m},"removeByTag"),concat:Pi(u=>{let m=a(mye());return m.use(u),m.identifyOnResolve(r||m.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),m},"concat"),applyToStack:a,identify:Pi(()=>l(!0).map(u=>{let m=u.step??u.relation+" "+u.toMiddleware;return nS(u.name,u.aliases)+" - "+m}),"identify"),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:Pi((u,m)=>{for(let p of l().map(g=>g.middleware).reverse())u=p(u,m);return r&&console.log(d.identify()),u},"resolve")};return d},"constructStack"),dMt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},uMt={high:3,normal:2,low:1}});var fye=E((_Fs,hMt)=>{var T6=Object.defineProperty,XIn=Object.getOwnPropertyDescriptor,JIn=Object.getOwnPropertyNames,QIn=Object.prototype.hasOwnProperty,YIn=(e,t)=>T6(e,"name",{value:t,configurable:!0}),ZIn=(e,t)=>{for(var r in t)T6(e,r,{get:t[r],enumerable:!0})},eOn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of JIn(t))!QIn.call(e,s)&&s!==r&&T6(e,s,{get:()=>t[s],enumerable:!(n=XIn(t,s))||n.enumerable});return e},tOn=e=>eOn(T6({},"__esModule",{value:!0}),e),gMt={};ZIn(gMt,{isArrayBuffer:()=>rOn});hMt.exports=tOn(gMt);var rOn=YIn(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var rR=E((SFs,SMt)=>{var I6=Object.defineProperty,nOn=Object.getOwnPropertyDescriptor,sOn=Object.getOwnPropertyNames,iOn=Object.prototype.hasOwnProperty,yMt=(e,t)=>I6(e,"name",{value:t,configurable:!0}),oOn=(e,t)=>{for(var r in t)I6(e,r,{get:t[r],enumerable:!0})},aOn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sOn(t))!iOn.call(e,s)&&s!==r&&I6(e,s,{get:()=>t[s],enumerable:!(n=nOn(t,s))||n.enumerable});return e},cOn=e=>aOn(I6({},"__esModule",{value:!0}),e),_Mt={};oOn(_Mt,{fromArrayBuffer:()=>dOn,fromString:()=>uOn});SMt.exports=cOn(_Mt);var lOn=fye(),pye=require("buffer"),dOn=yMt((e,t=0,r=e.byteLength-t)=>{if(!(0,lOn.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return pye.Buffer.from(e,t,r)},"fromArrayBuffer"),uOn=yMt((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?pye.Buffer.from(e,t):pye.Buffer.from(e)},"fromString")});var vMt=E(O6=>{"use strict";Object.defineProperty(O6,"__esModule",{value:!0});O6.fromBase64=void 0;var mOn=rR(),fOn=/^[A-Za-z0-9+/]*={0,2}$/,pOn=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!fOn.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,mOn.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};O6.fromBase64=pOn});var ws=E((EFs,wMt)=>{var N6=Object.defineProperty,gOn=Object.getOwnPropertyDescriptor,hOn=Object.getOwnPropertyNames,yOn=Object.prototype.hasOwnProperty,gye=(e,t)=>N6(e,"name",{value:t,configurable:!0}),_On=(e,t)=>{for(var r in t)N6(e,r,{get:t[r],enumerable:!0})},SOn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hOn(t))!yOn.call(e,s)&&s!==r&&N6(e,s,{get:()=>t[s],enumerable:!(n=gOn(t,s))||n.enumerable});return e},vOn=e=>SOn(N6({},"__esModule",{value:!0}),e),EMt={};_On(EMt,{fromUtf8:()=>bMt,toUint8Array:()=>EOn,toUtf8:()=>COn});wMt.exports=vOn(EMt);var CMt=rR(),bMt=gye(e=>{let t=(0,CMt.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),EOn=gye(e=>typeof e=="string"?bMt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),COn=gye(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,CMt.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var AMt=E(D6=>{"use strict";Object.defineProperty(D6,"__esModule",{value:!0});D6.toBase64=void 0;var bOn=rR(),wOn=ws(),AOn=e=>{let t;if(typeof e=="string"?t=(0,wOn.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,bOn.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};D6.toBase64=AOn});var Xo=E((bFs,k6)=>{var xMt=Object.defineProperty,xOn=Object.getOwnPropertyDescriptor,POn=Object.getOwnPropertyNames,ROn=Object.prototype.hasOwnProperty,hye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of POn(t))!ROn.call(e,s)&&s!==r&&xMt(e,s,{get:()=>t[s],enumerable:!(n=xOn(t,s))||n.enumerable});return e},PMt=(e,t,r)=>(hye(e,t,"default"),r&&hye(r,t,"default")),TOn=e=>hye(xMt({},"__esModule",{value:!0}),e),yye={};k6.exports=TOn(yye);PMt(yye,vMt(),k6.exports);PMt(yye,AMt(),k6.exports)});var Sye=E(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});M6.ChecksumStream=void 0;var IOn=Xo(),OOn=require("stream"),_ye=class extends OOn.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=i??IOn.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};M6.ChecksumStream=_ye});var sS=E(nR=>{"use strict";Object.defineProperty(nR,"__esModule",{value:!0});nR.isBlob=nR.isReadableStream=void 0;var NOn=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};nR.isReadableStream=NOn;var DOn=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};nR.isBlob=DOn});var RMt=E(L6=>{"use strict";Object.defineProperty(L6,"__esModule",{value:!0});L6.ChecksumStream=void 0;var kOn=typeof ReadableStream=="function"?ReadableStream:function(){},vye=class extends kOn{};L6.ChecksumStream=vye});var TMt=E(U6=>{"use strict";Object.defineProperty(U6,"__esModule",{value:!0});U6.createChecksumStream=void 0;var MOn=Xo(),LOn=sS(),UOn=RMt(),FOn=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var i,o;if(!(0,LOn.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=s??MOn.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,u){t.update(d),u.enqueue(d)},async flush(d){let u=await t.digest(),m=a(u);if(e!==m){let p=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);d.error(p)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,UOn.ChecksumStream.prototype),l};U6.createChecksumStream=FOn});var IMt=E(Eye=>{"use strict";Object.defineProperty(Eye,"__esModule",{value:!0});Eye.createChecksumStream=$On;var BOn=sS(),qOn=Sye(),jOn=TMt();function $On(e){return typeof ReadableStream=="function"&&(0,BOn.isReadableStream)(e.source)?(0,jOn.createChecksumStream)(e):new qOn.ChecksumStream(e)}});var bye=E(F6=>{"use strict";Object.defineProperty(F6,"__esModule",{value:!0});F6.ByteArrayCollector=void 0;var Cye=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};F6.ByteArrayCollector=Cye});var kMt=E(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.createBufferedReadable=void 0;Xg.createBufferedReadableStream=OMt;Xg.merge=NMt;Xg.flush=B6;Xg.sizeOf=sR;Xg.modeOf=DMt;var zOn=bye();function OMt(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new zOn.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:u}=await n.read(),m=d;if(u){if(a!==-1){let p=B6(o,a);sR(p)>0&&l.enqueue(p)}l.close()}else{let p=DMt(m,!1);if(a!==p&&(a>=0&&l.enqueue(B6(o,a)),a=p),a===-1){l.enqueue(m);return}let g=sR(m);i+=g;let y=sR(o[a]);if(g>=t&&y===0)l.enqueue(m);else{let b=NMt(o,a,m);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),b>=t?l.enqueue(B6(o,a)):await c(l)}}};return new ReadableStream({pull:c})}Xg.createBufferedReadable=OMt;function NMt(e,t,r){switch(t){case 0:return e[0]+=r,sR(e[0]);case 1:case 2:return e[t].push(r),sR(e[t])}}function B6(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function sR(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function DMt(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var LMt=E(wye=>{"use strict";Object.defineProperty(wye,"__esModule",{value:!0});wye.createBufferedReadable=GOn;var HOn=require("node:stream"),MMt=bye(),Jg=kMt(),VOn=sS();function GOn(e,t,r){if((0,VOn.isReadableStream)(e))return(0,Jg.createBufferedReadableStream)(e,t,r);let n=new HOn.Readable({read(){}}),s=!1,i=0,o=["",new MMt.ByteArrayCollector(c=>new Uint8Array(c)),new MMt.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Jg.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Jg.flush)(o,a)),a=l),a===-1){n.push(c);return}let d=(0,Jg.sizeOf)(c);i+=d;let u=(0,Jg.sizeOf)(o[a]);if(d>=t&&u===0)n.push(c);else{let m=(0,Jg.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,Jg.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Jg.flush)(o,a);(0,Jg.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var UMt=E(q6=>{"use strict";Object.defineProperty(q6,"__esModule",{value:!0});q6.getAwsChunkedEncodingStream=void 0;var WOn=require("stream"),KOn=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new WOn.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${i}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};q6.getAwsChunkedEncodingStream=KOn});var FMt=E(Aye=>{"use strict";Object.defineProperty(Aye,"__esModule",{value:!0});Aye.headStream=XOn;async function XOn(e,t){var r;let n=0,s=[],i=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await i.read();if(d&&(s.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;o=l}i.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of s){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var BMt=E(j6=>{"use strict";Object.defineProperty(j6,"__esModule",{value:!0});j6.headStream=void 0;var JOn=require("stream"),QOn=FMt(),YOn=sS(),ZOn=(e,t)=>(0,YOn.isReadableStream)(e)?(0,QOn.headStream)(e,t):new Promise((r,n)=>{let s=new xye;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});j6.headStream=ZOn;var xye=class extends JOn.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-i),this.emit("finish")}n()}}});var Rye=E((MFs,$Mt)=>{var $6=Object.defineProperty,eNn=Object.getOwnPropertyDescriptor,tNn=Object.getOwnPropertyNames,rNn=Object.prototype.hasOwnProperty,Pye=(e,t)=>$6(e,"name",{value:t,configurable:!0}),nNn=(e,t)=>{for(var r in t)$6(e,r,{get:t[r],enumerable:!0})},sNn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tNn(t))!rNn.call(e,s)&&s!==r&&$6(e,s,{get:()=>t[s],enumerable:!(n=eNn(t,s))||n.enumerable});return e},iNn=e=>sNn($6({},"__esModule",{value:!0}),e),qMt={};nNn(qMt,{escapeUri:()=>jMt,escapeUriPath:()=>aNn});$Mt.exports=iNn(qMt);var jMt=Pye(e=>encodeURIComponent(e).replace(/[!'()*]/g,oNn),"escapeUri"),oNn=Pye(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),aNn=Pye(e=>e.split("/").map(jMt).join("/"),"escapeUriPath")});var Iye=E((LFs,VMt)=>{var z6=Object.defineProperty,cNn=Object.getOwnPropertyDescriptor,lNn=Object.getOwnPropertyNames,dNn=Object.prototype.hasOwnProperty,uNn=(e,t)=>z6(e,"name",{value:t,configurable:!0}),mNn=(e,t)=>{for(var r in t)z6(e,r,{get:t[r],enumerable:!0})},fNn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lNn(t))!dNn.call(e,s)&&s!==r&&z6(e,s,{get:()=>t[s],enumerable:!(n=cNn(t,s))||n.enumerable});return e},pNn=e=>fNn(z6({},"__esModule",{value:!0}),e),zMt={};mNn(zMt,{buildQueryString:()=>HMt});VMt.exports=pNn(zMt);var Tye=Rye();function HMt(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Tye.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,Tye.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,Tye.escapeUri)(n)}`),t.push(s)}}return t.join("&")}uNn(HMt,"buildQueryString")});var XC=E((UFs,oLt)=>{var gNn=Object.create,gL=Object.defineProperty,hNn=Object.getOwnPropertyDescriptor,yNn=Object.getOwnPropertyNames,_Nn=Object.getPrototypeOf,SNn=Object.prototype.hasOwnProperty,ln=(e,t)=>gL(e,"name",{value:t,configurable:!0}),vNn=(e,t)=>{for(var r in t)gL(e,r,{get:t[r],enumerable:!0})},JMt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yNn(t))!SNn.call(e,s)&&s!==r&&gL(e,s,{get:()=>t[s],enumerable:!(n=hNn(t,s))||n.enumerable});return e},ENn=(e,t,r)=>(r=e!=null?gNn(_Nn(e)):{},JMt(t||!e||!e.__esModule?gL(r,"default",{value:e,enumerable:!0}):r,e)),CNn=e=>JMt(gL({},"__esModule",{value:!0}),e),QMt={};vNn(QMt,{DEFAULT_REQUEST_TIMEOUT:()=>nLt,NodeHttp2Handler:()=>NNn,NodeHttpHandler:()=>RNn,streamCollector:()=>kNn});oLt.exports=CNn(QMt);var YMt=Dn(),ZMt=Iye(),Oye=require("http"),Nye=require("https"),bNn=["ECONNRESET","EPIPE","ETIMEDOUT"],eLt=ln(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Vc={setTimeout:ln((e,t)=>setTimeout(e,t),"setTimeout"),clearTimeout:ln(e=>clearTimeout(e),"clearTimeout")},GMt=1e3,wNn=ln((e,t,r=0)=>{if(!r)return-1;let n=ln(s=>{let i=Vc.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),o=ln(a=>{a?.connecting?a.on("connect",()=>{Vc.clearTimeout(i)}):Vc.clearTimeout(i)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):Vc.setTimeout(n.bind(null,GMt),GMt)},"setConnectionTimeout"),ANn=3e3,xNn=ln((e,{keepAlive:t,keepAliveMsecs:r},n=ANn)=>{if(t!==!0)return-1;let s=ln(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):Vc.setTimeout(s,n)},"setSocketKeepAlive"),WMt=3e3,PNn=ln((e,t,r=nLt)=>{let n=ln(s=>{let i=r-s,o=ln(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Vc.setTimeout(n.bind(null,r===0?0:WMt),WMt)},"setSocketTimeout"),tLt=require("stream"),KMt=6e3;async function kye(e,t,r=KMt){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(Vc.setTimeout(()=>a(!0),Math.max(KMt,r)))}),new Promise(a=>{e.on("continue",()=>{Vc.clearTimeout(i),a(!0)}),e.on("response",()=>{Vc.clearTimeout(i),a(!1)}),e.on("error",()=>{Vc.clearTimeout(i),a(!1)})})])),o&&rLt(e,t.body)}ln(kye,"writeRequestBody");function rLt(e,t){if(t instanceof tLt.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ln(rLt,"writeBody");var nLt=0,RNn=class Dye{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ln(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Dye(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,d=i[c]?.length??0;if(l>=o&&d>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:i,httpAgent:o instanceof Oye.Agent||typeof o?.destroy=="function"?o:new Oye.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof Nye.Agent||typeof a?.destroy=="function"?a:new Nye.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],c=ln(async k=>{await o,a.forEach(Vc.clearTimeout),s(k)},"resolve"),l=ln(async k=>{await o,a.forEach(Vc.clearTimeout),i(k)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let k=new Error("Request aborted");k.name="AbortError",l(k);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push(Vc.setTimeout(()=>{this.socketWarningTimestamp=Dye.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,ZMt.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let k=t.username??"",z=t.password??"";p=`${k}:${z}`}let g=t.path;m&&(g+=`?${m}`),t.fragment&&(g+=`#${t.fragment}`);let y=t.hostname??"";y[0]==="["&&y.endsWith("]")?y=t.hostname.slice(1,-1):y=t.hostname;let b={headers:t.headers,host:y,method:t.method,path:g,port:t.port,agent:u,auth:p},A=(d?Nye.request:Oye.request)(b,k=>{let z=new YMt.HttpResponse({statusCode:k.statusCode||-1,reason:k.statusMessage,headers:eLt(k.headers),body:k});c({response:z})});if(A.on("error",k=>{bNn.includes(k.code)?l(Object.assign(k,{name:"TimeoutError"})):l(k)}),r){let k=ln(()=>{A.destroy();let z=new Error("Request aborted");z.name="AbortError",l(z)},"onAbort");if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",k,{once:!0}),A.once("close",()=>z.removeEventListener("abort",k))}else r.onabort=k}let O=n??this.config.requestTimeout;a.push(wNn(A,l,this.config.connectionTimeout)),a.push(PNn(A,l,O));let T=b.agent;typeof T=="object"&&"keepAlive"in T&&a.push(xNn(A,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs})),o=kye(A,t,O).catch(k=>(a.forEach(Vc.clearTimeout),i(k)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},XMt=require("http2"),TNn=ENn(require("http2")),INn=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ln(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},ONn=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ln(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=TNn.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let i=ln(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,i);let o=this.sessionCache.get(r)||new INn;return o.offerLast(s),this.sessionCache.set(r,o),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},NNn=class sLt{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new ONn({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{ln(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new sLt(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,d,u=ln(async ye=>{await d,a(ye)},"resolve"),m=ln(async ye=>{await d,c(ye)},"reject");if(r?.aborted){l=!0;let ye=new Error("Request aborted");ye.name="AbortError",m(ye);return}let{hostname:p,method:g,port:y,protocol:b,query:w}=t,A="";if(t.username!=null||t.password!=null){let ye=t.username??"",Re=t.password??"";A=`${ye}:${Re}@`}let O=`${b}//${A}${p}${y?`:${y}`:""}`,T={destination:new URL(O)},k=this.connectionManager.lease(T,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),z=ln(ye=>{i&&this.destroySession(k),l=!0,m(ye)},"rejectWithDestroy"),oe=(0,ZMt.buildQueryString)(w||{}),Q=t.path;oe&&(Q+=`?${oe}`),t.fragment&&(Q+=`#${t.fragment}`);let _e=k.request({...t.headers,[XMt.constants.HTTP2_HEADER_PATH]:Q,[XMt.constants.HTTP2_HEADER_METHOD]:g});if(k.ref(),_e.on("response",ye=>{let Re=new YMt.HttpResponse({statusCode:ye[":status"]||-1,headers:eLt(ye),body:_e});l=!0,u({response:Re}),i&&(k.close(),this.connectionManager.deleteSession(O,k))}),o&&_e.setTimeout(o,()=>{_e.close();let ye=new Error(`Stream timed out because of no activity for ${o} ms`);ye.name="TimeoutError",z(ye)}),r){let ye=ln(()=>{_e.close();let Re=new Error("Request aborted");Re.name="AbortError",z(Re)},"onAbort");if(typeof r.addEventListener=="function"){let Re=r;Re.addEventListener("abort",ye,{once:!0}),_e.once("close",()=>Re.removeEventListener("abort",ye))}else r.onabort=ye}_e.on("frameError",(ye,Re,kn)=>{z(new Error(`Frame type id ${ye} in stream id ${kn} has failed with code ${Re}.`))}),_e.on("error",z),_e.on("aborted",()=>{z(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${_e.rstCode}.`))}),_e.on("close",()=>{k.unref(),i&&k.destroy(),l||z(new Error("Unexpected error: http2 request did not get a response"))}),d=kye(_e,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},DNn=class extends tLt.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ln(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},kNn=ln(e=>MNn(e)?iLt(e):new Promise((t,r)=>{let n=new DNn;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),MNn=ln(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function iLt(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}ln(iLt,"collectReadableStream")});var gLt=E((jFs,pLt)=>{var V6=Object.defineProperty,LNn=Object.getOwnPropertyDescriptor,UNn=Object.getOwnPropertyNames,FNn=Object.prototype.hasOwnProperty,jf=(e,t)=>V6(e,"name",{value:t,configurable:!0}),BNn=(e,t)=>{for(var r in t)V6(e,r,{get:t[r],enumerable:!0})},qNn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UNn(t))!FNn.call(e,s)&&s!==r&&V6(e,s,{get:()=>t[s],enumerable:!(n=LNn(t,s))||n.enumerable});return e},jNn=e=>qNn(V6({},"__esModule",{value:!0}),e),cLt={};BNn(cLt,{FetchHttpHandler:()=>zNn,keepAliveSupport:()=>H6,streamCollector:()=>VNn});pLt.exports=jNn(cLt);var aLt=Dn(),$Nn=Iye();function Mye(e,t){return new Request(e,t)}jf(Mye,"createRequest");function lLt(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}jf(lLt,"requestTimeout");var H6={supported:void 0},zNn=class dLt{static{jf(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new dLt(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),H6.supported===void 0&&(H6.supported=typeof Request<"u"&&"keepalive"in Mye("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let A=new Error("Request aborted");return A.name="AbortError",Promise.reject(A)}let a=t.path,c=(0,$Nn.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let A=t.username??"",O=t.password??"";l=`${A}:${O}@`}let{port:d,method:u}=t,m=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,p=u==="GET"||u==="HEAD"?void 0:t.body,g={body:p,headers:new Headers(t.headers),method:u,credentials:o};this.config?.cache&&(g.cache=this.config.cache),p&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),H6.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let y=jf(()=>{},"removeSignalEventListener"),b=Mye(m,g),w=[fetch(b).then(A=>{let O=A.headers,T={};for(let z of O.entries())T[z[0]]=z[1];return A.body!=null?{response:new aLt.HttpResponse({headers:T,reason:A.statusText,statusCode:A.status,body:A.body})}:A.blob().then(z=>({response:new aLt.HttpResponse({headers:T,reason:A.statusText,statusCode:A.status,body:z})}))}),lLt(s)];return r&&w.push(new Promise((A,O)=>{let T=jf(()=>{let k=new Error("Request aborted");k.name="AbortError",O(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",T,{once:!0}),y=jf(()=>k.removeEventListener("abort",T),"removeSignalEventListener")}else r.onabort=T})),Promise.race(w).finally(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},HNn=Xo(),VNn=jf(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):uLt(e):mLt(e),"streamCollector");async function uLt(e){let t=await fLt(e),r=(0,HNn.fromBase64)(t);return new Uint8Array(r)}jf(uLt,"collectBlob");async function mLt(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}jf(mLt,"collectStream");function fLt(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}jf(fLt,"readToBase64")});var W6=E(($Fs,ELt)=>{var G6=Object.defineProperty,GNn=Object.getOwnPropertyDescriptor,WNn=Object.getOwnPropertyNames,KNn=Object.prototype.hasOwnProperty,hLt=(e,t)=>G6(e,"name",{value:t,configurable:!0}),XNn=(e,t)=>{for(var r in t)G6(e,r,{get:t[r],enumerable:!0})},JNn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of WNn(t))!KNn.call(e,s)&&s!==r&&G6(e,s,{get:()=>t[s],enumerable:!(n=GNn(t,s))||n.enumerable});return e},QNn=e=>JNn(G6({},"__esModule",{value:!0}),e),yLt={};XNn(yLt,{fromHex:()=>SLt,toHex:()=>vLt});ELt.exports=QNn(yLt);var _Lt={},Lye={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),_Lt[e]=t,Lye[t]=e}function SLt(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Lye)t[r/2]=Lye[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}hLt(SLt,"fromHex");function vLt(e){let t="";for(let r=0;r<e.byteLength;r++)t+=_Lt[e[r]];return t}hLt(vLt,"toHex")});var ALt=E(K6=>{"use strict";Object.defineProperty(K6,"__esModule",{value:!0});K6.sdkStreamMixin=void 0;var YNn=gLt(),ZNn=Xo(),eDn=W6(),tDn=ws(),CLt=sS(),bLt="The stream has already been transformed.",rDn=e=>{var t,r;if(!wLt(e)&&!(0,CLt.isReadableStream)(e)){let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(bLt);return n=!0,await(0,YNn.streamCollector)(e)},i=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();if(o==="base64")return(0,ZNn.toBase64)(a);if(o==="hex")return(0,eDn.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,tDn.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(bLt);if(n=!0,wLt(e))return i(e);if((0,CLt.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};K6.sdkStreamMixin=rDn;var wLt=e=>typeof Blob=="function"&&e instanceof Blob});var PLt=E(X6=>{"use strict";Object.defineProperty(X6,"__esModule",{value:!0});X6.sdkStreamMixin=void 0;var nDn=XC(),sDn=rR(),Uye=require("stream"),iDn=ALt(),xLt="The stream has already been transformed.",oDn=e=>{var t,r;if(!(e instanceof Uye.Readable))try{return(0,iDn.sdkStreamMixin)(e)}catch{let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(xLt);return n=!0,await(0,nDn.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let o=await s();return i===void 0||Buffer.isEncoding(i)?(0,sDn.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(n)throw new Error(xLt);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Uye.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Uye.Readable.toWeb(e)}})};X6.sdkStreamMixin=oDn});var RLt=E(Fye=>{"use strict";Object.defineProperty(Fye,"__esModule",{value:!0});Fye.splitStream=aDn;async function aDn(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var OLt=E(Bye=>{"use strict";Object.defineProperty(Bye,"__esModule",{value:!0});Bye.splitStream=lDn;var TLt=require("stream"),cDn=RLt(),ILt=sS();async function lDn(e){if((0,ILt.isReadableStream)(e)||(0,ILt.isBlob)(e))return(0,cDn.splitStream)(e);let t=new TLt.PassThrough,r=new TLt.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Q6=E((WFs,zf)=>{var J6=Object.defineProperty,dDn=Object.getOwnPropertyDescriptor,uDn=Object.getOwnPropertyNames,mDn=Object.prototype.hasOwnProperty,$ye=(e,t)=>J6(e,"name",{value:t,configurable:!0}),fDn=(e,t)=>{for(var r in t)J6(e,r,{get:t[r],enumerable:!0})},qye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uDn(t))!mDn.call(e,s)&&s!==r&&J6(e,s,{get:()=>t[s],enumerable:!(n=dDn(t,s))||n.enumerable});return e},iS=(e,t,r)=>(qye(e,t,"default"),r&&qye(r,t,"default")),pDn=e=>qye(J6({},"__esModule",{value:!0}),e),$f={};fDn($f,{Uint8ArrayBlobAdapter:()=>jye});zf.exports=pDn($f);var NLt=Xo(),DLt=ws();function kLt(e,t="utf-8"){return t==="base64"?(0,NLt.toBase64)(e):(0,DLt.toUtf8)(e)}$ye(kLt,"transformToString");function MLt(e,t){return t==="base64"?jye.mutate((0,NLt.fromBase64)(e)):jye.mutate((0,DLt.fromUtf8)(e))}$ye(MLt,"transformFromString");var jye=class LLt extends Uint8Array{static{$ye(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return MLt(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,LLt.prototype),t}transformToString(t="utf-8"){return kLt(this,t)}};iS($f,Sye(),zf.exports);iS($f,IMt(),zf.exports);iS($f,LMt(),zf.exports);iS($f,UMt(),zf.exports);iS($f,BMt(),zf.exports);iS($f,PLt(),zf.exports);iS($f,OLt(),zf.exports);iS($f,sS(),zf.exports)});var Y6,Sm,Z6=_(()=>{Y6=C(Q6()),Sm=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Y6.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Y6.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Y6.Uint8ArrayBlobAdapter.mutate(await r)}});function Hf(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var e8=_(()=>{});var bu,zye=_(()=>{bu=e=>typeof e=="function"?e():e});var Gc=E((QFs,qLt)=>{var t8=Object.defineProperty,gDn=Object.getOwnPropertyDescriptor,hDn=Object.getOwnPropertyNames,yDn=Object.prototype.hasOwnProperty,FLt=(e,t)=>t8(e,"name",{value:t,configurable:!0}),_Dn=(e,t)=>{for(var r in t)t8(e,r,{get:t[r],enumerable:!0})},SDn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hDn(t))!yDn.call(e,s)&&s!==r&&t8(e,s,{get:()=>t[s],enumerable:!(n=gDn(t,s))||n.enumerable});return e},vDn=e=>SDn(t8({},"__esModule",{value:!0}),e),BLt={};_Dn(BLt,{getSmithyContext:()=>EDn,normalizeProvider:()=>CDn});qLt.exports=vDn(BLt);var ULt=tS(),EDn=FLt(e=>e[ULt.SMITHY_CONTEXT_KEY]||(e[ULt.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),CDn=FLt(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var jLt,$Lt,zLt,Hye,HLt=_(()=>{jLt=C(Dn()),$Lt=C(Gc()),zLt=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,$Lt.getSmithyContext)(r);try{let o=await e.protocol.deserializeResponse(i,{...e,...r},s);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(jLt.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);o.$metadata={httpStatusCode:s.statusCode,requestId:Hye(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Hye(/^x-[\w-]+-id-2$/,l),cfId:Hye(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},Hye=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var VLt,GLt,WLt=_(()=>{VLt=C(Gc()),GLt=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,VLt.getSmithyContext)(r),i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,o=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:i});return t({...n,request:o})}});function bDn(e){return{applyToStack:t=>{t.add(GLt(e),XLt),t.add(zLt(e),KLt),e.protocol.setSerdeContext(e)}}}var KLt,XLt,JLt=_(()=>{HLt();WLt();KLt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},XLt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var wu,Vye=_(()=>{wu=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};wu.registries=new Map});var Xs,Qg=_(()=>{Vye();Xs=class{static assign(t,r){let n=Object.assign(t,r);return wu.for(n.namespace).register(n.name,n),n}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var JC,wDn,Gye=_(()=>{Qg();JC=class e extends Xs{constructor(){super(...arguments),this.symbol=e.symbol}};JC.symbol=Symbol.for("@smithy/lis");wDn=(e,t,r,n)=>Xs.assign(new JC,{name:t,namespace:e,traits:r,valueSchema:n})});var QC,ADn,Wye=_(()=>{Qg();QC=class e extends Xs{constructor(){super(...arguments),this.symbol=e.symbol}};QC.symbol=Symbol.for("@smithy/map");ADn=(e,t,r,n,s)=>Xs.assign(new QC,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var hL,xDn,QLt=_(()=>{Qg();hL=class e extends Xs{constructor(){super(...arguments),this.symbol=e.symbol}};hL.symbol=Symbol.for("@smithy/ope");xDn=(e,t,r,n,s)=>Xs.assign(new hL,{name:t,namespace:e,traits:r,input:n,output:s})});var Yg,PDn,r8=_(()=>{Qg();Yg=class e extends Xs{constructor(){super(...arguments),this.symbol=e.symbol}};Yg.symbol=Symbol.for("@smithy/str");PDn=(e,t,r,n,s)=>Xs.assign(new Yg,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var yL,RDn,YLt=_(()=>{Qg();r8();yL=class e extends Yg{constructor(){super(...arguments),this.symbol=e.symbol}};yL.symbol=Symbol.for("@smithy/err");RDn=(e,t,r,n,s,i)=>Xs.assign(new yL,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:i})});var Fe,Kye=_(()=>{Fe={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var YC,TDn,Xye=_(()=>{Qg();YC=class e extends Xs{constructor(){super(...arguments),this.symbol=e.symbol}};YC.symbol=Symbol.for("@smithy/sim");TDn=(e,t,r,n)=>Xs.assign(new YC,{name:t,namespace:e,traits:n,schemaRef:r})});var Je,ZLt=_(()=>{zye();Gye();Wye();Qg();Kye();Xye();r8();Je=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=bu(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(i instanceof e){Object.assign(this,i),this.memberTraits=Object.assign({},i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=bu(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof Xs?this.schema.getName?.():void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){return Xs[Symbol.hasInstance].bind(this)(t)}static of(t){if(t instanceof e)return t;if(Array.isArray(t)){let[r,n]=t;if(r instanceof e)return Object.assign(r.getMergedTraits(),e.translateTraits(n)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(t)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={},n=0;for(let s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(r[s]=1);return r}getSchema(){return this.schema instanceof e?(Object.assign(this,{schema:this.schema.getSchema()}),this.schema):this.schema instanceof YC?bu(this.schema.schemaRef):bu(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=Fe.LIST_MODIFIER&&t<Fe.MAP_MODIFIER:t instanceof JC}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=Fe.MAP_MODIFIER&&t<=255:t instanceof QC}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Yg}isBlobSchema(){return this.getSchema()===Fe.BLOB||this.getSchema()===Fe.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=Fe.TIMESTAMP_DEFAULT&&t<=Fe.TIMESTAMP_EPOCH_SECONDS}isDocumentSchema(){return this.getSchema()===Fe.DOCUMENT}isStringSchema(){return this.getSchema()===Fe.STRING}isBooleanSchema(){return this.getSchema()===Fe.BOOLEAN}isNumericSchema(){return this.getSchema()===Fe.NUMERIC}isBigIntegerSchema(){return this.getSchema()===Fe.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===Fe.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===Fe.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return this.memberFrom([Fe.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?this.memberFrom([63&t,0],"key"):this.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return this.memberFrom([63&t,0],"value");if(this.isListSchema())return this.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`may not getValueSchema() on structure ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return this.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return this.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return this.memberFrom([Fe.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}hasMemberSchema(t){return this.isStructSchema()?this.getSchema().memberNames.includes(t):!1}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!r.memberNames.includes(t))throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no member=${t}.`);let n=r.memberNames.indexOf(t),s=r.memberList[n];return this.memberFrom(Array.isArray(s)?s:[s,0],t)}if(this.isDocumentSchema())return this.memberFrom([Fe.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no members.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],this.memberFrom([t.memberList[r],0],t.memberNames[r])]}memberFrom(t,r){return t instanceof e?Object.assign(t,{memberName:r,_isMemberSchema:!0}):new e(t,r)}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(Fe).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case Fe.MAP_MODIFIER:return`${s}Map`;case Fe.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};Je.symbol=Symbol.for("@smithy/nor")});var eUt={};ct(eUt,{ErrorSchema:()=>yL,ListSchema:()=>JC,MapSchema:()=>QC,NormalizedSchema:()=>Je,OperationSchema:()=>hL,SCHEMA:()=>Fe,Schema:()=>Xs,SimpleSchema:()=>YC,StructureSchema:()=>Yg,TypeRegistry:()=>wu,deref:()=>bu,deserializerMiddlewareOption:()=>KLt,error:()=>RDn,getSchemaSerdePlugin:()=>bDn,list:()=>wDn,map:()=>ADn,op:()=>xDn,serializerMiddlewareOption:()=>XLt,sim:()=>TDn,struct:()=>PDn});var As=_(()=>{zye();JLt();Gye();Wye();QLt();YLt();ZLt();Qg();Xye();r8();Kye();Vye()});var IDn,tUt=_(()=>{IDn=(e,t,r=n=>n)=>e});var ODn,NDn,_L,DDn,n8,SL,kDn,Jye,Qye,Yye,Zye,MDn,LDn,rUt,UDn,FDn,i8,BDn,e_e,qDn,iR,t_e,jDn,$Dn,zDn,nUt,sUt,HDn,VDn,ZC,r_e,s8,vL,n_e=_(()=>{ODn=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},NDn=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&vL.warn(s8(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&vL.warn(s8(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},_L=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&vL.warn(s8(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},DDn=Math.ceil(34028234663852886e22),n8=e=>{let t=_L(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>DDn)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},SL=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},kDn=SL,Jye=e=>Zye(e,32),Qye=e=>Zye(e,16),Yye=e=>Zye(e,8),Zye=(e,t)=>{let r=SL(e);if(r!==void 0&&MDn(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},MDn=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},LDn=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},rUt=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},UDn=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return vL.warn(s8(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},FDn=e=>{if(e==null)return;let t=rUt(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},i8=e=>_L(typeof e=="string"?iR(e):e),BDn=i8,e_e=e=>n8(typeof e=="string"?iR(e):e),qDn=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,iR=e=>{let t=e.match(qDn);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},t_e=e=>typeof e=="string"?nUt(e):_L(e),jDn=t_e,$Dn=t_e,zDn=e=>typeof e=="string"?nUt(e):n8(e),nUt=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},sUt=e=>SL(typeof e=="string"?iR(e):e),HDn=sUt,VDn=e=>Jye(typeof e=="string"?iR(e):e),ZC=e=>Qye(typeof e=="string"?iR(e):e),r_e=e=>Yye(typeof e=="string"?iR(e):e),s8=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),vL={warn:console.warn}});function CL(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,d=o<10?`0${o}`:`${o}`,u=a<10?`0${a}`:`${a}`;return`${GDn[n]}, ${c} ${i_e[r]} ${t} ${l}:${d}:${u} GMT`}var GDn,i_e,WDn,KDn,XDn,bL,JDn,QDn,YDn,wL,eb,EL,ZDn,ekn,tkn,s_e,rkn,nkn,skn,Vf,ikn,okn,oR,iUt=_(()=>{n_e();GDn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i_e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];WDn=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),KDn=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=WDn.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,d=ZC(oR(n)),u=Vf(s,"month",1,12),m=Vf(i,"day",1,31);return EL(d,u,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},XDn=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),bL=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=XDn.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,d]=t,u=ZC(oR(n)),m=Vf(s,"month",1,12),p=Vf(i,"day",1,31),g=EL(u,m,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&g.setTime(g.getTime()-okn(d)),g},JDn=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),QDn=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YDn=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),wL=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=JDn.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return EL(ZC(oR(i)),s_e(s),Vf(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=QDn.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return tkn(EL(ZDn(i),s_e(s),Vf(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=YDn.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return EL(ZC(oR(l)),s_e(n),Vf(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},eb=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=i8(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},EL=(e,t,r,n)=>{let s=t-1;return nkn(e,s,r),new Date(Date.UTC(e,s,r,Vf(n.hours,"hour",0,23),Vf(n.minutes,"minute",0,59),Vf(n.seconds,"seconds",0,60),ikn(n.fractionalMilliseconds)))},ZDn=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+ZC(oR(e));return r<t?r+100:r},ekn=50*365*24*60*60*1e3,tkn=e=>e.getTime()-new Date().getTime()>ekn?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,s_e=e=>{let t=i_e.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},rkn=[31,28,31,30,31,30,31,31,30,31,30,31],nkn=(e,t,r)=>{let n=rkn[t];if(t===1&&skn(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${i_e[t]} in ${e}: ${r}`)},skn=e=>e%4===0&&(e%100!==0||e%400===0),Vf=(e,t,r,n)=>{let s=r_e(oR(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},ikn=e=>e==null?0:e_e("0."+e)*1e3,okn=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},oR=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function AL(){return o8>a8.length-16&&(oUt.default.randomFillSync(a8),o8=0),a8.slice(o8,o8+=16)}var oUt,a8,o8,o_e=_(()=>{oUt=C(require("crypto")),a8=new Uint8Array(256),o8=a8.length});var aUt,cUt=_(()=>{aUt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function akn(e){return typeof e=="string"&&aUt.test(e)}var oS,xL=_(()=>{cUt();oS=akn});function tb(e,t=0){return Jo[e[t+0]]+Jo[e[t+1]]+Jo[e[t+2]]+Jo[e[t+3]]+"-"+Jo[e[t+4]]+Jo[e[t+5]]+"-"+Jo[e[t+6]]+Jo[e[t+7]]+"-"+Jo[e[t+8]]+Jo[e[t+9]]+"-"+Jo[e[t+10]]+Jo[e[t+11]]+Jo[e[t+12]]+Jo[e[t+13]]+Jo[e[t+14]]+Jo[e[t+15]]}function ckn(e,t=0){let r=tb(e,t);if(!oS(r))throw TypeError("Stringified UUID is invalid");return r}var Jo,lUt,PL=_(()=>{xL();Jo=[];for(let e=0;e<256;++e)Jo.push((e+256).toString(16).slice(1));lUt=ckn});function lkn(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||dUt,o=e.clockseq!==void 0?e.clockseq:a_e;if(i==null||o==null){let m=e.random||(e.rng||AL)();i==null&&(i=dUt=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=a_e=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:l_e+1,l=a-c_e+(c-l_e)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>c_e)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c_e=a,l_e=c,a_e=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=u&255,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let m=0;m<6;++m)s[n+m]=i[m];return t||tb(s)}var dUt,a_e,c_e,l_e,uUt,mUt=_(()=>{o_e();PL();c_e=0,l_e=0;uUt=lkn});function dkn(e){if(!oS(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var c8,d_e=_(()=>{xL();c8=dkn});function ukn(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function RL(e,t,r){function n(s,i,o,a){var c;if(typeof s=="string"&&(s=ukn(s)),typeof i=="string"&&(i=c8(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return tb(l)}try{n.name=e}catch{}return n.DNS=mkn,n.URL=fkn,n}var mkn,fkn,u_e=_(()=>{PL();d_e();mkn="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fkn="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function pkn(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),fUt.default.createHash("md5").update(e).digest()}var fUt,pUt,gUt=_(()=>{fUt=C(require("crypto"));pUt=pkn});var gkn,hUt,yUt=_(()=>{u_e();gUt();gkn=RL("v3",48,pUt),hUt=gkn});var _Ut,m_e,SUt=_(()=>{_Ut=C(require("crypto")),m_e={randomUUID:_Ut.default.randomUUID}});function hkn(e,t,r){if(m_e.randomUUID&&!t&&!e)return m_e.randomUUID();e=e||{};let n=e.random||(e.rng||AL)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return tb(n)}var Wc,vUt=_(()=>{SUt();o_e();PL();Wc=hkn});function ykn(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),EUt.default.createHash("sha1").update(e).digest()}var EUt,CUt,bUt=_(()=>{EUt=C(require("crypto"));CUt=ykn});var _kn,wUt,AUt=_(()=>{u_e();bUt();_kn=RL("v5",80,CUt),wUt=_kn});var xUt,PUt=_(()=>{xUt="00000000-0000-0000-0000-000000000000"});function Skn(e){if(!oS(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var RUt,TUt=_(()=>{xL();RUt=Skn});var IUt={};ct(IUt,{NIL:()=>xUt,parse:()=>c8,stringify:()=>lUt,v1:()=>uUt,v3:()=>hUt,v4:()=>Wc,v5:()=>wUt,validate:()=>oS,version:()=>RUt});var l8=_(()=>{mUt();yUt();vUt();AUt();PUt();TUt();xL();PL();d_e()});var OUt=_(()=>{l8()});var pc,NUt=_(()=>{pc=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};pc.from=e=>e&&typeof e=="object"&&(e instanceof pc||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?pc(String(e)):pc(JSON.stringify(e));pc.fromObject=pc.from});function f_e(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var DUt=_(()=>{});function p_e(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var kUt=_(()=>{});var TL,MUt=_(()=>{TL=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function g_e(e){return new Js(String(e),"bigDecimal")}var Js,LUt=_(()=>{Js=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let i=t.charCodeAt(s);if(!(s===0&&i===45)){if(i===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name?.endsWith("NumericValue")?!0:n)}}});var UUt={};ct(UUt,{LazyJsonString:()=>pc,NumericValue:()=>Js,copyDocumentWithTransform:()=>IDn,dateToUtcString:()=>CL,expectBoolean:()=>NDn,expectByte:()=>Yye,expectFloat32:()=>n8,expectInt:()=>kDn,expectInt32:()=>Jye,expectLong:()=>SL,expectNonNull:()=>LDn,expectNumber:()=>_L,expectObject:()=>rUt,expectShort:()=>Qye,expectString:()=>UDn,expectUnion:()=>FDn,generateIdempotencyToken:()=>Wc,handleFloat:()=>jDn,limitedParseDouble:()=>t_e,limitedParseFloat:()=>$Dn,limitedParseFloat32:()=>zDn,logger:()=>vL,nv:()=>g_e,parseBoolean:()=>ODn,parseEpochTimestamp:()=>eb,parseRfc3339DateTime:()=>KDn,parseRfc3339DateTimeWithOffset:()=>bL,parseRfc7231DateTime:()=>wL,quoteHeader:()=>f_e,splitEvery:()=>p_e,splitHeader:()=>TL,strictParseByte:()=>r_e,strictParseDouble:()=>i8,strictParseFloat:()=>BDn,strictParseFloat32:()=>e_e,strictParseInt:()=>HDn,strictParseInt32:()=>VDn,strictParseLong:()=>sUt,strictParseShort:()=>ZC});var Kc=_(()=>{tUt();iUt();OUt();NUt();n_e();DUt();kUt();MUt();LUt()});var FUt,h_e,BUt=_(()=>{As();FUt=C(ws()),h_e=class{constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=o.getMemberSchemas(),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(r,n);let p=c.flush();yield{[d]:!0,headers:m,body:p}}for await(let m of t)yield m}};return s.serialize(u,m=>{if(m[d])return{headers:m.headers,body:m.body};let p=Object.keys(m).find(O=>O!=="__type")??"",{additionalHeaders:g,body:y,eventType:b,explicitPayloadContentType:w}=this.writeEventBody(p,o,m);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:w??l},...g},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async m=>{let p=Object.keys(m).find(g=>g!=="__type")??"";if(p==="initial-response"){let g=await this.deserializer.read(r,m[p].body);return delete g[i],{[c]:!0,...g}}else if(p in a){let g=a[p];return{[p]:await this.deserializer.read(g,m[p].body)}}else return{$unknown:m}}),d=l[Symbol.asyncIterator](),u=await d.next();if(u.done)return l;if(u.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,p]of Object.entries(u.value))n[m]=p}return{async*[Symbol.asyncIterator](){for(u?.value?.[c]||(yield u.value);;){let{done:m,value:p}=await d.next();if(m)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.hasMemberSchema(t),l={};if(c){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[p,g]of m.structIterator()){let{eventHeader:y,eventPayload:b}=g.getMergedTraits();if(b){o=p;break}else if(y){let w=n[t][p],A="binary";g.isNumericSchema()?(-2)**31<=w&&w<=2**31-1?A="integer":A="long":g.isTimestampSchema()?A="timestamp":g.isStringSchema()?A="string":g.isBooleanSchema()&&(A="boolean"),w!=null&&(l[p]={type:A,value:w},delete n[t][p])}}if(o!==null){let p=m.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][o])}else s.write(m,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,p]=n[t];i=m,s.write(Fe.DOCUMENT,p)}let d=s.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??FUt.fromUtf8)(d):d,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var qUt={};ct(qUt,{EventStreamSerde:()=>h_e});var jUt=_(()=>{BUt()});var d8,rb,u8=_(()=>{As();d8=C(Dn()),rb=class{constructor(t){this.options=t}getRequestType(){return d8.HttpRequest}getResponseType(){return d8.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=Je.of(r),i=Je.of(r.input);if(s.getMergedTraits().endpoint){let o=s.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(jUt(),qUt));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var $Ut,zUt,nb,HUt=_(()=>{As();Kc();$Ut=C(Dn()),zUt=C(Q6());Z6();e8();u8();nb=class extends rb{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=Je.of(t?.input),d=l.getSchema(),u=!1,m,p=new $Ut.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let g=Je.translateTraits(t.traits);if(g.http){p.method=g.http[0];let[y,b]=g.http[1].split("?");p.path=="/"?p.path=y:p.path+=y;let w=new URLSearchParams(b??"");Object.assign(o,Object.fromEntries(w))}}for(let[g,y]of l.structIterator()){let b=y.getMergedTraits()??{},w=s[g];if(w!=null)if(b.httpPayload)y.isStreaming()?y.isStructSchema()?s[g]&&(m=await this.serializeEventStream({eventStream:s[g],requestSchema:l})):m=w:(i.write(y,w),m=i.flush()),delete s[g];else if(b.httpLabel){i.write(y,w);let A=i.flush();p.path.includes(`{${g}+}`)?p.path=p.path.replace(`{${g}+}`,A.split("/").map(Hf).join("/")):p.path.includes(`{${g}}`)&&(p.path=p.path.replace(`{${g}}`,Hf(A))),delete s[g]}else if(b.httpHeader)i.write(y,w),a[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof b.httpPrefixHeaders=="string"){for(let[A,O]of Object.entries(w)){let T=b.httpPrefixHeaders+A;i.write([y.getValueSchema(),{httpHeader:T}],O),a[T.toLowerCase()]=i.flush()}delete s[g]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(y,w,o),delete s[g]):u=!0}return u&&s&&(i.write(d,s),m=i.flush()),p.headers=a,p.query=o,p.body=m,p}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let c=await Sm(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(Fe.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await Sm(n.body,r);if(c.byteLength>0){let l=await s.read(i,c);for(let d of a)o[d]=l[d]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=Je.of(t),l=[];for(let[d,u]of c.structIterator()){let m=u.getMemberTraits();if(m.httpPayload){if(u.isStreaming())u.isStructSchema()?o[d]=await this.deserializeEventStream({response:n,responseSchema:c}):o[d]=(0,zUt.sdkStreamMixin)(n.body);else if(n.body){let g=await Sm(n.body,r);g.byteLength>0&&(o[d]=await a.read(u,g))}}else if(m.httpHeader){let p=String(m.httpHeader).toLowerCase(),g=n.headers[p];if(g!=null)if(u.isListSchema()){let y=u.getValueSchema();y.getMergedTraits().httpHeader=p;let b;y.isTimestampSchema()&&y.getSchema()===Fe.TIMESTAMP_DEFAULT?b=p_e(g,",",2):b=TL(g);let w=[];for(let A of b)w.push(await a.read(y,A.trim()));o[d]=w}else o[d]=await a.read(u,g)}else if(m.httpPrefixHeaders!==void 0){o[d]={};for(let[p,g]of Object.entries(n.headers))if(p.startsWith(m.httpPrefixHeaders)){let y=u.getValueSchema();y.getMergedTraits().httpHeader=p,o[d][p.slice(m.httpPrefixHeaders.length)]=await a.read(y,g)}}else m.httpResponseCode?o[d]=n.statusCode:l.push(d)}return l}}});var VUt,Zg,GUt=_(()=>{As();VUt=C(Dn());Z6();u8();Zg=class extends rb{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=Je.of(t?.input),l=c.getSchema(),d,u=new VUt.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let m={...r};if(r){let p=c.getEventStreamMember();if(p){if(m[p]){let g={};for(let[y,b]of c.structIterator())y!==p&&m[y]&&(s.write(b,m[y]),g[y]=s.flush());d=await this.serializeEventStream({eventStream:m[p],requestSchema:c,initialRequest:g})}}else s.write(l,m),d=s.flush()}return u.headers=o,u.query=i,u.body=d,u.method="POST",u}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let c=await Sm(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(Fe.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await Sm(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var y_e,__e=_(()=>{e8();y_e=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>Hf(a)).join("/"):Hf(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function IL(e,t){return new m8(e,t)}var WUt,m8,KUt=_(()=>{WUt=C(Dn());__e();m8=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new WUt.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=y_e(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Ol(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===Fe.TIMESTAMP_DATE_TIME||e.getSchema()===Fe.TIMESTAMP_HTTP_DATE||e.getSchema()===Fe.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?Fe.TIMESTAMP_HTTP_DATE:i||r?Fe.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var f8=_(()=>{As()});var S_e,XUt,sb,v_e=_(()=>{As();Kc();S_e=C(Xo()),XUt=C(ws());f8();sb=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=Je.of(t);if(n.isListSchema())return TL(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??S_e.fromBase64)(r);if(n.isTimestampSchema())switch(Ol(n,this.settings)){case Fe.TIMESTAMP_DATE_TIME:return bL(r);case Fe.TIMESTAMP_HTTP_DATE:return wL(r);case Fe.TIMESTAMP_EPOCH_SECONDS:return eb(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=pc.from(i)),i}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Js(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??XUt.toUtf8)((this.serdeContext?.base64Decoder??S_e.fromBase64)(t))}}});var p8,ib,JUt=_(()=>{As();p8=C(ws());v_e();ib=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new sb(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=Je.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??p8.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??p8.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var E_e,OL,C_e=_(()=>{As();Kc();E_e=C(Xo());f8();OL=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=Je.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Ol(n,this.settings)){case Fe.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case Fe.TIMESTAMP_HTTP_DATE:this.stringBuffer=CL(r);break;case Fe.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??E_e.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:f_e(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=pc.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??E_e.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var ob,QUt=_(()=>{As();C_e();ob=class{constructor(t,r,n=new OL(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=Je.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var YUt={};ct(YUt,{FromStringShapeDeserializer:()=>sb,HttpBindingProtocol:()=>nb,HttpInterceptingShapeDeserializer:()=>ib,HttpInterceptingShapeSerializer:()=>ob,HttpProtocol:()=>rb,RequestBuilder:()=>m8,RpcProtocol:()=>Zg,ToStringShapeSerializer:()=>OL,collectBody:()=>Sm,determineTimestampFormat:()=>Ol,extendedEncodeURIComponent:()=>Hf,requestBuilder:()=>IL,resolvedPath:()=>y_e});var Nl=_(()=>{Z6();e8();HUt();u8();GUt();KUt();__e();v_e();JUt();QUt();C_e();f8()});var tr=E((Fjs,I_e)=>{var h8=Object.defineProperty,vkn=Object.getOwnPropertyDescriptor,Ekn=Object.getOwnPropertyNames,Ckn=Object.prototype.hasOwnProperty,cr=(e,t)=>h8(e,"name",{value:t,configurable:!0}),bkn=(e,t)=>{for(var r in t)h8(e,r,{get:t[r],enumerable:!0})},A_e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ekn(t))!Ckn.call(e,s)&&s!==r&&h8(e,s,{get:()=>t[s],enumerable:!(n=vkn(t,s))||n.enumerable});return e},wkn=(e,t,r)=>(A_e(e,t,"default"),r&&A_e(r,t,"default")),Akn=e=>A_e(h8({},"__esModule",{value:!0}),e),R_e={};bkn(R_e,{Client:()=>xkn,Command:()=>tFt,NoOpLogger:()=>Hkn,SENSITIVE_STRING:()=>Tkn,ServiceException:()=>Okn,_json:()=>P_e,collectBody:()=>b_e.collectBody,convertMap:()=>Vkn,createAggregatedClient:()=>Ikn,decorateServiceException:()=>rFt,emitWarningIfUnsupportedVersion:()=>Mkn,extendedEncodeURIComponent:()=>b_e.extendedEncodeURIComponent,getArrayIfSingleItem:()=>$kn,getDefaultClientConfiguration:()=>qkn,getDefaultExtensionConfiguration:()=>sFt,getValueFromTextNode:()=>iFt,isSerializableHeaderValue:()=>zkn,loadConfigsForDefaultMode:()=>kkn,map:()=>T_e,resolveDefaultRuntimeConfig:()=>jkn,resolvedPath:()=>b_e.resolvedPath,serializeDateTime:()=>Qkn,serializeFloat:()=>Jkn,take:()=>Gkn,throwDefaultError:()=>nFt,withBaseException:()=>Nkn});I_e.exports=Akn(R_e);var eFt=pMt(),xkn=class{constructor(e){this.config=e,this.middlewareStack=(0,eFt.constructStack)()}static{cr(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,i=n===void 0&&this.config.cacheMiddleware===!0,o;if(i){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?o=a.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},b_e=(Nl(),F(YUt)),x_e=tS(),Pkn=(As(),F(eUt)),w_e="***SensitiveInformation***";function g8(e,t){if(t==null)return t;let r=Pkn.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return w_e;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return w_e}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return w_e}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=g8(o,n[i]));return s}return t}cr(g8,"schemaLogFilter");var tFt=class{constructor(){this.middlewareStack=(0,eFt.constructStack)()}static{cr(this,"Command")}static classBuilder(){return new Rkn}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let y of n.bind(this)(d,e,t,r))this.middlewareStack.use(y);let u=e.concat(this.middlewareStack),{logger:m}=t,p={logger:m,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[x_e.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return u.resolve(y=>g.handle(y.request,r||{}),p)}},Rkn=class{constructor(){this._init=cr(()=>{},"_init"),this._ep={},this._middlewareFn=cr(()=>[],"_middlewareFn"),this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=void 0,this._outputFilterSensitiveLog=void 0,this._serializer=null,this._deserializer=null}static{cr(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends tFt{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{cr(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(e._operationSchema?g8.bind(null,e._operationSchema.input):i=>i),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(e._operationSchema?g8.bind(null,e._operationSchema.output):i=>i),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},Tkn="***SensitiveInformation***",Ikn=cr((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=cr(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},"createAggregatedClient"),Okn=class NL extends Error{static{cr(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return NL.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===NL?NL.isInstance(t):NL.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},rFt=cr((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),nFt=cr(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Dkn(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw rFt(o,t)},"throwDefaultError"),Nkn=cr(e=>({output:t,parsedBody:r,errorCode:n})=>{nFt({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Dkn=cr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),kkn=cr(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),ZUt=!1,Mkn=cr(e=>{e&&!ZUt&&parseInt(e.substring(1,e.indexOf(".")))<16&&(ZUt=!0)},"emitWarningIfUnsupportedVersion"),Lkn=cr(e=>{let t=[];for(let r in x_e.AlgorithmId){let n=x_e.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:cr(()=>n,"algorithmId"),checksumConstructor:cr(()=>e[n],"checksumConstructor")})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Ukn=cr(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Fkn=cr(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Bkn=cr(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),sFt=cr(e=>Object.assign(Lkn(e),Fkn(e)),"getDefaultExtensionConfiguration"),qkn=sFt,jkn=cr(e=>Object.assign(Ukn(e),Bkn(e)),"resolveDefaultRuntimeConfig"),$kn=cr(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),iFt=cr(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=iFt(e[r]));return e},"getValueFromTextNode"),zkn=cr(e=>e!=null,"isSerializableHeaderValue"),Hkn=class{static{cr(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function T_e(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,Wkn(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}oFt(n,null,i,o)}return n}cr(T_e,"map");var Vkn=cr(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),Gkn=cr((e,t)=>{let r={};for(let n in t)oFt(r,e,t,n);return r},"take"),Wkn=cr((e,t,r)=>T_e(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),oFt=cr((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=Kkn,c=Xkn,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},"applyInstruction"),Kkn=cr(e=>e!=null,"nonNullish"),Xkn=cr(e=>e,"pass"),Jkn=cr(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Qkn=cr(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),P_e=cr(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(P_e);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=P_e(e[r]));return t}return e},"_json");wkn(R_e,(Kc(),F(UUt)),I_e.exports)});var gFt=E((Hjs,pFt)=>{"use strict";var y8=Object.defineProperty,Ykn=Object.getOwnPropertyDescriptor,Zkn=Object.getOwnPropertyNames,eMn=Object.prototype.hasOwnProperty,Dl=(e,t)=>y8(e,"name",{value:t,configurable:!0}),tMn=(e,t)=>{for(var r in t)y8(e,r,{get:t[r],enumerable:!0})},rMn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zkn(t))!eMn.call(e,s)&&s!==r&&y8(e,s,{get:()=>t[s],enumerable:!(n=Ykn(t,s))||n.enumerable});return e},nMn=e=>rMn(y8({},"__esModule",{value:!0}),e),aFt={};tMn(aFt,{getQueueUrlPlugin:()=>oMn,getReceiveMessagePlugin:()=>cMn,getSendMessageBatchPlugin:()=>mMn,getSendMessagePlugin:()=>dMn,queueUrlMiddleware:()=>O_e,queueUrlMiddlewareOptions:()=>cFt,receiveMessageMiddleware:()=>D_e,receiveMessageMiddlewareOptions:()=>lFt,resolveQueueUrlConfig:()=>iMn,sendMessageBatchMiddleware:()=>mFt,sendMessageBatchMiddlewareOptions:()=>fFt,sendMessageMiddleware:()=>dFt,sendMessageMiddlewareOptions:()=>uFt});pFt.exports=nMn(aFt);var sMn=tr(),iMn=Dl(e=>Object.assign(e,{useQueueUrlAsEndpoint:e.useQueueUrlAsEndpoint??!0}),"resolveQueueUrlConfig");function O_e({useQueueUrlAsEndpoint:e,endpoint:t}){return(r,n)=>async s=>{let{input:i}=s,o=n.endpointV2;if(!t&&i.QueueUrl&&o&&e){let a=n.logger instanceof sMn.NoOpLogger||!n.logger?.warn?console:n.logger;try{let c=new URL(i.QueueUrl),l=new URL(c.origin);o.url.origin!==l.origin&&(a.warn(`QueueUrl=${i.QueueUrl} differs from SQSClient resolved endpoint=${o.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),n.endpointV2={...o,url:l})}catch(c){a.warn(c)}}return r(s)}}Dl(O_e,"queueUrlMiddleware");var cFt={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},oMn=Dl(e=>({applyToStack:Dl(t=>{t.addRelativeTo(O_e(e),cFt)},"applyToStack")}),"getQueueUrlPlugin"),N_e=W6(),aMn=ws();function D_e(e){return t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let s=n.output,i=[];if(s.Messages!==void 0)for(let o of s.Messages){let a=o.MD5OfBody,c=new e.md5;c.update((0,aMn.toUint8Array)(o.Body||"")),a!==(0,N_e.toHex)(await c.digest())&&i.push(o.MessageId)}if(i.length>0)throw new Error("Invalid MD5 checksum on messages: "+i.join(", "));return n}}Dl(D_e,"receiveMessageMiddleware");var lFt={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},cMn=Dl(e=>({applyToStack:Dl(t=>{t.add(D_e(e),lFt)},"applyToStack")}),"getReceiveMessagePlugin"),lMn=ws(),dFt=Dl(e=>t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let s=n.output,i=new e.md5;if(i.update((0,lMn.toUint8Array)(r.input.MessageBody||"")),s.MD5OfMessageBody!==(0,N_e.toHex)(await i.digest()))throw new Error("InvalidChecksumError");return n},"sendMessageMiddleware"),uFt={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},dMn=Dl(e=>({applyToStack:Dl(t=>{t.add(dFt(e),uFt)},"applyToStack")}),"getSendMessagePlugin"),uMn=ws(),mFt=Dl(e=>t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let s=n.output,i=[],o={};if(s.Successful!==void 0)for(let a of s.Successful)a.Id!==void 0&&(o[a.Id]=a);for(let a of r.input.Entries)if(o[a.Id]){let c=o[a.Id].MD5OfMessageBody,l=new e.md5;l.update((0,uMn.toUint8Array)(a.MessageBody||"")),c!==(0,N_e.toHex)(await l.digest())&&i.push(o[a.Id].MessageId)}if(i.length>0)throw new Error("Invalid MD5 checksum on messages: "+i.join(", "));return n},"sendMessageBatchMiddleware"),fFt={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},mMn=Dl(e=>({applyToStack:Dl(t=>{t.add(mFt(e),fFt)},"applyToStack")}),"getSendMessageBatchPlugin")});var k_e,fMn,hFt=_(()=>{k_e=C(tS()),fMn=e=>e[k_e.SMITHY_CONTEXT_KEY]||(e[k_e.SMITHY_CONTEXT_KEY]={})});var yFt,_Ft=_(()=>{yFt=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function pMn(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var SFt,DL,_8=_(()=>{SFt=C(Gc());_Ft();DL=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=yFt(i,o),c=pMn(e.httpAuthSchemes),l=(0,SFt.getSmithyContext)(n),d=[];for(let u of a){let m=c.get(u.schemeId);if(!m){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let p=m.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:y={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},y),l.selectedHttpAuthScheme={httpAuthOption:u,identity:await p(u.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)}});var vFt,kL,EFt=_(()=>{_8();vFt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},kL=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(DL(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),vFt)}})});var aS=E((Qjs,RFt)=>{var S8=Object.defineProperty,gMn=Object.getOwnPropertyDescriptor,hMn=Object.getOwnPropertyNames,yMn=Object.prototype.hasOwnProperty,ML=(e,t)=>S8(e,"name",{value:t,configurable:!0}),_Mn=(e,t)=>{for(var r in t)S8(e,r,{get:t[r],enumerable:!0})},SMn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hMn(t))!yMn.call(e,s)&&s!==r&&S8(e,s,{get:()=>t[s],enumerable:!(n=gMn(t,s))||n.enumerable});return e},vMn=e=>SMn(S8({},"__esModule",{value:!0}),e),CFt={};_Mn(CFt,{deserializerMiddleware:()=>bFt,deserializerMiddlewareOption:()=>AFt,getSerdePlugin:()=>PFt,serializerMiddleware:()=>wFt,serializerMiddlewareOption:()=>xFt});RFt.exports=vMn(CFt);var EMn=Dn(),bFt=ML((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(EMn.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:M_e(/^x-[\w-]+-request-?id$/,l),extendedRequestId:M_e(/^x-[\w-]+-id-2$/,l),cfId:M_e(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},"deserializerMiddleware"),M_e=ML((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),wFt=ML((e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},"serializerMiddleware"),AFt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},xFt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function PFt(e,t,r){return{applyToStack:ML(n=>{n.add(bFt(e,r),AFt),n.add(wFt(e,t),xFt)},"applyToStack")}}ML(PFt,"getSerdePlugin")});var TFt,IFt,CMn,OFt=_(()=>{TFt=C(aS());_8();IFt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:TFt.serializerMiddlewareOption.name},CMn=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(DL(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),IFt)}})});var NFt=_(()=>{_8();EFt();OFt()});var DFt,kFt,bMn,wMn,L_e,U_e=_(()=>{DFt=C(Dn()),kFt=C(Gc()),bMn=e=>t=>{throw t},wMn=(e,t)=>{},L_e=e=>(t,r)=>async n=>{if(!DFt.HttpRequest.isInstance(n.request))return t(n);let i=(0,kFt.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||bMn)(o));return(c.successHandler||wMn)(l.response,o),l}});var MFt,LL,LFt=_(()=>{U_e();MFt={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},LL=e=>({applyToStack:t=>{t.addRelativeTo(L_e(e),MFt)}})});var UFt=_(()=>{U_e();LFt()});var cS,FFt=_(()=>{cS=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function BFt(e,t,r,n,s){return async function*(o,a,...c){let l=a,d=o.startingToken??l[r],u=!0,m;for(;u;){if(l[r]=d,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)m=await AMn(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let p=d;d=xMn(m,n),u=!!(d&&(!o.stopOnSameToken||d!==p))}return void 0}}var AMn,xMn,qFt=_(()=>{AMn=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};xMn=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var jFt=_(()=>{Nl()});function PMn(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var $Ft=_(()=>{});var ab,zFt=_(()=>{ab=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var HFt,F_e,B_e,VFt=_(()=>{HFt=C(Dn()),F_e=C(tS()),B_e=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=HFt.HttpRequest.clone(t);if(n.in===F_e.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===F_e.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var GFt,q_e,WFt=_(()=>{GFt=C(Dn()),q_e=class{async sign(t,r,n){let s=GFt.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var eh,KFt=_(()=>{eh=class{async sign(t,r,n){return t}}});var XFt=_(()=>{VFt();WFt();KFt()});var JFt,RMn,j_e,v8,$_e,QFt=_(()=>{JFt=e=>t=>v8(t)&&t.expiration.getTime()-Date.now()<e,RMn=3e5,j_e=JFt(3e5),v8=e=>e.expiration!==void 0,$_e=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var YFt=_(()=>{zFt();XFt();QFt()});var aR={};ct(aR,{DefaultIdentityProviderConfig:()=>ab,EXPIRATION_MS:()=>RMn,HttpApiKeyAuthSigner:()=>B_e,HttpBearerAuthSigner:()=>q_e,NoAuthSigner:()=>eh,createIsIdentityExpiredFunction:()=>JFt,createPaginator:()=>BFt,doesIdentityRequireRefresh:()=>v8,getHttpAuthSchemeEndpointRuleSetPlugin:()=>kL,getHttpAuthSchemePlugin:()=>CMn,getHttpSigningPlugin:()=>LL,getSmithyContext:()=>fMn,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>vFt,httpAuthSchemeMiddleware:()=>DL,httpAuthSchemeMiddlewareOptions:()=>IFt,httpSigningMiddleware:()=>L_e,httpSigningMiddlewareOptions:()=>MFt,isIdentityExpired:()=>j_e,memoizeIdentityProvider:()=>$_e,normalizeProvider:()=>cS,requestBuilder:()=>IL,setFeature:()=>PMn});var Xc=_(()=>{hFt();NFt();UFt();FFt();qFt();jFt();$Ft();YFt()});var cR=E((L1s,aBt)=>{var E8=Object.defineProperty,TMn=Object.getOwnPropertyDescriptor,IMn=Object.getOwnPropertyNames,OMn=Object.prototype.hasOwnProperty,dn=(e,t)=>E8(e,"name",{value:t,configurable:!0}),NMn=(e,t)=>{for(var r in t)E8(e,r,{get:t[r],enumerable:!0})},DMn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of IMn(t))!OMn.call(e,s)&&s!==r&&E8(e,s,{get:()=>t[s],enumerable:!(n=TMn(t,s))||n.enumerable});return e},kMn=e=>DMn(E8({},"__esModule",{value:!0}),e),ZFt={};NMn(ZFt,{EndpointCache:()=>MMn,EndpointError:()=>Jc,customEndpointFunctions:()=>H_e,isIpAddress:()=>eBt,isValidHostLabel:()=>G_e,resolveEndpoint:()=>eLn});aBt.exports=kMn(ZFt);var MMn=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{dn(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:o}=n.next();if(this.data.delete(i),o||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},LMn=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),eBt=dn(e=>LMn.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),UMn=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),G_e=dn((e,t=!1)=>{if(!t)return UMn.test(e);let r=e.split(".");for(let n of r)if(!G_e(n))return!1;return!0},"isValidHostLabel"),H_e={},UL="endpoints";function th(e){return typeof e!="object"||e==null?e:"ref"in e?`$${th(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(th).join(", ")})`:JSON.stringify(e,null,2)}dn(th,"toDebugString");var Jc=class extends Error{static{dn(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},FMn=dn((e,t)=>e===t,"booleanEquals"),BMn=dn(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Jc(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Jc(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),tBt=dn((e,t)=>BMn(t).reduce((r,n)=>{if(typeof r!="object")throw new Jc(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),qMn=dn(e=>e!=null,"isSet"),jMn=dn(e=>!e,"not"),V_e=tS(),z_e={[V_e.EndpointURLScheme.HTTP]:80,[V_e.EndpointURLScheme.HTTPS]:443},$Mn=dn(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:p,protocol:g="",path:y="",query:b={}}=e,w=new URL(`${g}//${m}${p?`:${p}`:""}${y}`);return w.search=Object.entries(b).map(([A,O])=>`${A}=${O}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(V_e.EndpointURLScheme).includes(c))return null;let l=eBt(s),d=r.includes(`${n}:${z_e[c]}`)||typeof e=="string"&&e.includes(`${n}:${z_e[c]}`),u=`${n}${d?`:${z_e[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),zMn=dn((e,t)=>e===t,"stringEquals"),HMn=dn((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),VMn=dn(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),GMn={booleanEquals:FMn,getAttr:tBt,isSet:qMn,isValidHostLabel:G_e,not:jMn,parseURL:$Mn,stringEquals:zMn,substring:HMn,uriEncode:VMn},rBt=dn((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(tBt(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},"evaluateTemplate"),WMn=dn(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),C8=dn((e,t,r)=>{if(typeof e=="string")return rBt(e,r);if(e.fn)return nBt(e,r);if(e.ref)return WMn(e,r);throw new Jc(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),nBt=dn(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:C8(i,"arg",r)),s=e.split(".");return s[0]in H_e&&s[1]!=null?H_e[s[0]][s[1]](...n):GMn[e](...n)},"callFunction"),KMn=dn(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Jc(`'${e}' is already defined in Reference Record.`);let n=nBt(t,r);return r.logger?.debug?.(`${UL} evaluateCondition: ${th(t)} = ${th(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),W_e=dn((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=KMn(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${UL} assign: ${i.name} := ${th(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),XMn=dn((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=C8(i,"Header value entry",t);if(typeof o!="string")throw new Jc(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),sBt=dn((e,t)=>{if(Array.isArray(e))return e.map(r=>sBt(r,t));switch(typeof e){case"string":return rBt(e,t);case"object":if(e===null)throw new Jc(`Unexpected endpoint property: ${e}`);return iBt(e,t);case"boolean":return e;default:throw new Jc(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),iBt=dn((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:sBt(s,t)}),{}),"getEndpointProperties"),JMn=dn((e,t)=>{let r=C8(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Jc(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),QMn=dn((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=W_e(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${UL} Resolving endpoint from template: ${th(n)}`),{...l!=null&&{headers:XMn(l,o)},...c!=null&&{properties:iBt(c,o)},url:JMn(a,o)}},"evaluateEndpointRule"),YMn=dn((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=W_e(r,t);if(s)throw new Jc(C8(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),ZMn=dn((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=W_e(r,t);if(s)return oBt(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),oBt=dn((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=QMn(r,t);if(n)return n}else if(r.type==="error")YMn(r,t);else if(r.type==="tree"){let n=ZMn(r,t);if(n)return n}else throw new Jc(`Unknown endpoint rule: ${r}`);throw new Jc("Rules evaluation failed")},"evaluateRules"),eLn=dn((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${UL} Initial EndpointParams: ${th(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(o.length>0)for(let[l,d]of o)r[l]=r[l]??d;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Jc(`Missing required parameter: '${l}'`);let c=oBt(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${UL} Resolved endpoint: ${th(c)}`),c},"resolveEndpoint")});var uBt=E((B1s,dBt)=>{var b8=Object.defineProperty,tLn=Object.getOwnPropertyDescriptor,rLn=Object.getOwnPropertyNames,nLn=Object.prototype.hasOwnProperty,sLn=(e,t)=>b8(e,"name",{value:t,configurable:!0}),iLn=(e,t)=>{for(var r in t)b8(e,r,{get:t[r],enumerable:!0})},oLn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rLn(t))!nLn.call(e,s)&&s!==r&&b8(e,s,{get:()=>t[s],enumerable:!(n=tLn(t,s))||n.enumerable});return e},aLn=e=>oLn(b8({},"__esModule",{value:!0}),e),cBt={};iLn(cBt,{parseQueryString:()=>lBt});dBt.exports=aLn(cBt);function lBt(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}sLn(lBt,"parseQueryString")});var lS=E((q1s,pBt)=>{var w8=Object.defineProperty,cLn=Object.getOwnPropertyDescriptor,lLn=Object.getOwnPropertyNames,dLn=Object.prototype.hasOwnProperty,uLn=(e,t)=>w8(e,"name",{value:t,configurable:!0}),mLn=(e,t)=>{for(var r in t)w8(e,r,{get:t[r],enumerable:!0})},fLn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lLn(t))!dLn.call(e,s)&&s!==r&&w8(e,s,{get:()=>t[s],enumerable:!(n=cLn(t,s))||n.enumerable});return e},pLn=e=>fLn(w8({},"__esModule",{value:!0}),e),mBt={};mLn(mBt,{parseUrl:()=>fBt});pBt.exports=pLn(mBt);var gLn=uBt(),fBt=uLn(e=>{if(typeof e=="string")return fBt(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,gLn.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},"parseUrl")});var lR=E((j1s,ABt)=>{"use strict";var A8=Object.defineProperty,hLn=Object.getOwnPropertyDescriptor,yLn=Object.getOwnPropertyNames,_Ln=Object.prototype.hasOwnProperty,dS=(e,t)=>A8(e,"name",{value:t,configurable:!0}),SLn=(e,t)=>{for(var r in t)A8(e,r,{get:t[r],enumerable:!0})},vLn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yLn(t))!_Ln.call(e,s)&&s!==r&&A8(e,s,{get:()=>t[s],enumerable:!(n=hLn(t,s))||n.enumerable});return e},ELn=e=>vLn(A8({},"__esModule",{value:!0}),e),hBt={};SLn(hBt,{ConditionObject:()=>Kn.ConditionObject,DeprecatedObject:()=>Kn.DeprecatedObject,EndpointError:()=>Kn.EndpointError,EndpointObject:()=>Kn.EndpointObject,EndpointObjectHeaders:()=>Kn.EndpointObjectHeaders,EndpointObjectProperties:()=>Kn.EndpointObjectProperties,EndpointParams:()=>Kn.EndpointParams,EndpointResolverOptions:()=>Kn.EndpointResolverOptions,EndpointRuleObject:()=>Kn.EndpointRuleObject,ErrorRuleObject:()=>Kn.ErrorRuleObject,EvaluateOptions:()=>Kn.EvaluateOptions,Expression:()=>Kn.Expression,FunctionArgv:()=>Kn.FunctionArgv,FunctionObject:()=>Kn.FunctionObject,FunctionReturn:()=>Kn.FunctionReturn,ParameterObject:()=>Kn.ParameterObject,ReferenceObject:()=>Kn.ReferenceObject,ReferenceRecord:()=>Kn.ReferenceRecord,RuleSetObject:()=>Kn.RuleSetObject,RuleSetRules:()=>Kn.RuleSetRules,TreeRuleObject:()=>Kn.TreeRuleObject,awsEndpointFunctions:()=>bBt,getUserAgentPrefix:()=>ALn,isIpAddress:()=>Kn.isIpAddress,partition:()=>EBt,resolveDefaultAwsRegionalEndpointsConfig:()=>PLn,resolveEndpoint:()=>Kn.resolveEndpoint,setPartitionInfo:()=>CBt,toEndpointV1:()=>wBt,useDefaultPartitionInfo:()=>wLn});ABt.exports=ELn(hBt);var Kn=cR(),yBt=dS((e,t=!1)=>{if(t){for(let r of e.split("."))if(!yBt(r))return!1;return!0}return!(!(0,Kn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Kn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),gBt=":",CLn="/",bLn=dS(e=>{let t=e.split(gBt);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(gBt)==="")return null;let c=a.map(l=>l.split(CLn)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),_Bt={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},SBt=_Bt,vBt="",EBt=dS(e=>{let{partitions:t}=SBt;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),CBt=dS((e,t="")=>{SBt=e,vBt=t},"setPartitionInfo"),wLn=dS(()=>{CBt(_Bt,"")},"useDefaultPartitionInfo"),ALn=dS(()=>vBt,"getUserAgentPrefix"),bBt={isVirtualHostableS3Bucket:yBt,parseArn:bLn,partition:EBt};Kn.customEndpointFunctions.aws=bBt;var xLn=lS(),PLn=dS(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>wBt(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),wBt=dS(e=>(0,xLn.parseUrl)(e.url),"toEndpointV1")});var x8,dR,xBt=_(()=>{x8={warningEmitted:!1},dR=e=>{e&&!x8.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(x8.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function uS(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var PBt=_(()=>{});function RBt(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var TBt=_(()=>{});function IBt(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var OBt=_(()=>{});var mS={};ct(mS,{emitWarningIfUnsupportedVersion:()=>dR,setCredentialFeature:()=>uS,setFeature:()=>RBt,setTokenFeature:()=>IBt,state:()=>x8});var vm=_(()=>{xBt();PBt();TBt();OBt()});var NBt,K_e,DBt=_(()=>{NBt=C(Dn()),K_e=e=>NBt.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var uR,X_e=_(()=>{uR=e=>new Date(Date.now()+e)});var kBt,MBt=_(()=>{X_e();kBt=(e,t)=>Math.abs(uR(t).getTime()-e)>=3e5});var J_e,LBt=_(()=>{MBt();J_e=(e,t)=>{let r=Date.parse(e);return kBt(r,t)?r-Date.now():t}});var Q_e=_(()=>{DBt();X_e();LBt()});var UBt,FL,mR,Qc,Y_e,Z_e=_(()=>{UBt=C(Dn());Q_e();FL=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},mR=async e=>{let t=FL("context",e.context),r=FL("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await FL("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Qc=class{async sign(t,r,n){if(!UBt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await mR(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,m]=l.authSchemes;u?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:uR(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??K_e(r.$response);if(n){let s=FL("config",t.config),i=s.systemClockOffset;s.systemClockOffset=J_e(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=K_e(t);if(n){let s=FL("config",r.config);s.systemClockOffset=J_e(n,s.systemClockOffset)}}},Y_e=Qc});var FBt,BL,BBt=_(()=>{FBt=C(Dn());Q_e();Z_e();BL=class extends Qc{async sign(t,r,n){if(!FBt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await mR(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:uR(s.systemClockOffset),signingRegion:d,signingService:c})}}});var eSe,qBt=_(()=>{eSe=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var P8,tSe=_(()=>{P8=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var jBt,$Bt,fR,zBt=_(()=>{qBt();tSe();jBt="AWS_AUTH_SCHEME_PREFERENCE",$Bt="auth_scheme_preference",fR={environmentVariableSelector:(e,t)=>{if(t?.signingName&&P8(t.signingName)in e)return["httpBearerAuth"];if(jBt in e)return eSe(e[jBt])},configFileSelector:e=>{if($Bt in e)return eSe(e[$Bt])},default:[]}});var gc=E((h$s,KBt)=>{var R8=Object.defineProperty,RLn=Object.getOwnPropertyDescriptor,TLn=Object.getOwnPropertyNames,ILn=Object.prototype.hasOwnProperty,cb=(e,t)=>R8(e,"name",{value:t,configurable:!0}),OLn=(e,t)=>{for(var r in t)R8(e,r,{get:t[r],enumerable:!0})},NLn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of TLn(t))!ILn.call(e,s)&&s!==r&&R8(e,s,{get:()=>t[s],enumerable:!(n=RLn(t,s))||n.enumerable});return e},DLn=e=>NLn(R8({},"__esModule",{value:!0}),e),HBt={};OLn(HBt,{CredentialsProviderError:()=>kLn,ProviderError:()=>T8,TokenProviderError:()=>MLn,chain:()=>LLn,fromStatic:()=>ULn,memoize:()=>FLn});KBt.exports=DLn(HBt);var T8=class VBt extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,VBt.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{cb(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},kLn=class GBt extends T8{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,GBt.prototype)}static{cb(this,"CredentialsProviderError")}},MLn=class WBt extends T8{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,WBt.prototype)}static{cb(this,"TokenProviderError")}},LLn=cb((...e)=>async()=>{if(e.length===0)throw new T8("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),ULn=cb(e=>()=>Promise.resolve(e),"fromStatic"),FLn=cb((e,t,r)=>{let n,s,i,o=!1,a=cb(async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var rSe,XBt,JBt,QBt=_(()=>{Xc();rSe=C(gc()),XBt=e=>(e.sigv4aSigningRegionSet=cS(e.sigv4aSigningRegionSet),e),JBt={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new rSe.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new rSe.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var xqt=E((S$s,Aqt)=>{var L8=Object.defineProperty,BLn=Object.getOwnPropertyDescriptor,qLn=Object.getOwnPropertyNames,jLn=Object.prototype.hasOwnProperty,Qo=(e,t)=>L8(e,"name",{value:t,configurable:!0}),$Ln=(e,t)=>{for(var r in t)L8(e,r,{get:t[r],enumerable:!0})},zLn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qLn(t))!jLn.call(e,s)&&s!==r&&L8(e,s,{get:()=>t[s],enumerable:!(n=BLn(t,s))||n.enumerable});return e},HLn=e=>zLn(L8({},"__esModule",{value:!0}),e),rqt={};$Ln(rqt,{ALGORITHM_IDENTIFIER:()=>I8,ALGORITHM_IDENTIFIER_V4A:()=>KLn,ALGORITHM_QUERY_PARAM:()=>nqt,ALWAYS_UNSIGNABLE_HEADERS:()=>uqt,AMZ_DATE_HEADER:()=>dSe,AMZ_DATE_QUERY_PARAM:()=>oSe,AUTH_HEADER:()=>lSe,CREDENTIAL_QUERY_PARAM:()=>sqt,DATE_HEADER:()=>aqt,EVENT_ALGORITHM_IDENTIFIER:()=>pqt,EXPIRES_QUERY_PARAM:()=>oqt,GENERATED_HEADERS:()=>cqt,HOST_HEADER:()=>GLn,KEY_TYPE_IDENTIFIER:()=>uSe,MAX_CACHE_SIZE:()=>hqt,MAX_PRESIGNED_TTL:()=>yqt,PROXY_HEADER_PATTERN:()=>mqt,REGION_SET_PARAM:()=>VLn,SEC_HEADER_PATTERN:()=>fqt,SHA256_HEADER:()=>M8,SIGNATURE_HEADER:()=>lqt,SIGNATURE_QUERY_PARAM:()=>aSe,SIGNED_HEADERS_QUERY_PARAM:()=>iqt,SignatureV4:()=>iUn,SignatureV4Base:()=>wqt,TOKEN_HEADER:()=>dqt,TOKEN_QUERY_PARAM:()=>cSe,UNSIGNABLE_PATTERNS:()=>WLn,UNSIGNED_PAYLOAD:()=>gqt,clearCredentialCache:()=>JLn,createScope:()=>N8,getCanonicalHeaders:()=>nSe,getCanonicalQuery:()=>bqt,getPayloadHash:()=>D8,getSigningKey:()=>_qt,hasHeader:()=>vqt,moveHeadersToQuery:()=>Cqt,prepareRequest:()=>iSe,signatureV4aContainer:()=>oUn});Aqt.exports=HLn(rqt);var YBt=ws(),nqt="X-Amz-Algorithm",sqt="X-Amz-Credential",oSe="X-Amz-Date",iqt="X-Amz-SignedHeaders",oqt="X-Amz-Expires",aSe="X-Amz-Signature",cSe="X-Amz-Security-Token",VLn="X-Amz-Region-Set",lSe="authorization",dSe=oSe.toLowerCase(),aqt="date",cqt=[lSe,dSe,aqt],lqt=aSe.toLowerCase(),M8="x-amz-content-sha256",dqt=cSe.toLowerCase(),GLn="host",uqt={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},mqt=/^proxy-/,fqt=/^sec-/,WLn=[/^proxy-/i,/^sec-/i],I8="AWS4-HMAC-SHA256",KLn="AWS4-ECDSA-P256-SHA256",pqt="AWS4-HMAC-SHA256-PAYLOAD",gqt="UNSIGNED-PAYLOAD",hqt=50,uSe="aws4_request",yqt=60*60*24*7,fS=W6(),XLn=ws(),pR={},O8=[],N8=Qo((e,t,r)=>`${e}/${t}/${r}/${uSe}`,"createScope"),_qt=Qo(async(e,t,r,n,s)=>{let i=await ZBt(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,fS.toHex)(i)}:${t.sessionToken}`;if(o in pR)return pR[o];for(O8.push(o);O8.length>hqt;)delete pR[O8.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,uSe])a=await ZBt(e,a,c);return pR[o]=a},"getSigningKey"),JLn=Qo(()=>{O8.length=0,Object.keys(pR).forEach(e=>{delete pR[e]})},"clearCredentialCache"),ZBt=Qo((e,t,r)=>{let n=new e(t);return n.update((0,XLn.toUint8Array)(r)),n.digest()},"hmac"),nSe=Qo(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in uqt||t?.has(i)||mqt.test(i)||fqt.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),QLn=fye(),YLn=ws(),D8=Qo(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===M8)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,QLn.isArrayBuffer)(t)){let n=new r;return n.update((0,YLn.toUint8Array)(t)),(0,fS.toHex)(await n.digest())}return gqt},"getPayloadHash"),eqt=ws(),ZLn=class{static{Qo(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let i=(0,eqt.fromUtf8)(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=(0,eqt.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(tUn.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!eUn.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,fS.fromHex)(e.value.replace(/\-/g,"")),1),d}}},eUn=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,tUn=class Sqt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Qo(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&sSe(r),new Sqt(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&sSe(t),parseInt((0,fS.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function sSe(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Qo(sSe,"negate");var vqt=Qo((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Eqt=Dn(),Cqt=Qo((e,t={})=>{let{headers:r,query:n={}}=Eqt.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),iSe=Qo(e=>{e=Eqt.HttpRequest.clone(e);for(let t of Object.keys(e.headers))cqt.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),tqt=Gc(),rUn=ws(),k8=Rye(),bqt=Qo(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===lqt)continue;let s=(0,k8.escapeUri)(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${(0,k8.escapeUri)(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${(0,k8.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),nUn=Qo(e=>sUn(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),sUn=Qo(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),wqt=class{static{Qo(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,tqt.normalizeProvider)(r),this.credentialProvider=(0,tqt.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${bqt(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,rUn.toUint8Array)(r));let i=await s.digest();return`${n}
${e}
${t}
${(0,fS.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,k8.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=nUn(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},iUn=class extends wqt{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i}),this.headerFormatter=new ZLn}static{Qo(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:m,shortDate:p}=this.formatDate(r);if(n>yqt)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=N8(p,u,l??this.service),y=Cqt(iSe(e),{unhoistableHeaders:i,hoistableHeaders:a});d.sessionToken&&(y.query[cSe]=d.sessionToken),y.query[nqt]=I8,y.query[sqt]=`${d.accessKeyId}/${g}`,y.query[oSe]=m,y.query[oqt]=n.toString(10);let b=nSe(y,s,o);return y.query[iqt]=this.getCanonicalHeaderList(b),y.query[aSe]=await this.getSignature(m,g,this.getSigningKey(d,u,p,l),this.createCanonicalRequest(y,b,await D8(e,this.sha256))),y}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:i}){let o=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=N8(a,o,i??this.service),d=await D8({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let m=(0,fS.toHex)(await u.digest()),p=[pqt,c,l,n,m,d].join(`
`);return this.signString(p,{signingDate:r,signingRegion:o,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=r??await this.regionProvider(),{shortDate:o}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,i,o,n));return a.update((0,YBt.toUint8Array)(e)),(0,fS.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=s??await this.regionProvider(),c=iSe(e),{longDate:l,shortDate:d}=this.formatDate(t),u=N8(d,a,i??this.service);c.headers[dSe]=l,o.sessionToken&&(c.headers[dqt]=o.sessionToken);let m=await D8(c,this.sha256);!vqt(M8,c.headers)&&this.applyChecksum&&(c.headers[M8]=m);let p=nSe(c,n,r),g=await this.getSignature(l,u,this.getSigningKey(o,a,d,i),this.createCanonicalRequest(c,p,m));return c.headers[lSe]=`${I8} Credential=${o.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${g}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,I8),i=new this.sha256(await r);return i.update((0,YBt.toUint8Array)(s)),(0,fS.toHex)(await i.digest())}getSigningKey(e,t,r,n){return _qt(this.sha256,e,r,t,n||this.service)}},oUn={SignatureV4a:null}});function aUn(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=$_e(t,j_e,v8):r?n=cS(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function cUn(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var mSe,lb,Pqt,Rqt=_(()=>{vm();Xc();mSe=C(xqt()),lb=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=aUn(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=cUn(e,d);r&&!u.attributed?(n=async m=>u(m).then(p=>uS(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=cS(e.signer):e.regionInfoProvider?a=()=>cS(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:m}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||mSe.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await cS(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||mSe.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},Pqt=lb});var Tqt=_(()=>{Z_e();BBt();zBt();QBt();Rqt()});var Iqt={};ct(Iqt,{AWSSDKSigV4Signer:()=>Y_e,AwsSdkSigV4ASigner:()=>BL,AwsSdkSigV4Signer:()=>Qc,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>fR,NODE_SIGV4A_CONFIG_OPTIONS:()=>JBt,getBearerTokenEnvKey:()=>P8,resolveAWSSDKSigV4Config:()=>Pqt,resolveAwsSdkSigV4AConfig:()=>XBt,resolveAwsSdkSigV4Config:()=>lb,validateSigningProperties:()=>mR});var fSe=_(()=>{Tqt();tSe()});function pS(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function U8(e){return e[pSe]=!0,e}var pSe,F8=_(()=>{pSe=Symbol("@smithy/core/cbor::tagSymbol")});function Dqt(e){_n=e,nh=new DataView(_n.buffer,_n.byteOffset,_n.byteLength)}function Gf(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(_n[e]&224)>>5,n=_n[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=Mqt[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let c=e+1;o===1?s=_n[c]:o===2?s=nh.getUint16(c):o===4?s=nh.getUint32(c):s=nh.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return lr=i,gSe(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,lr=i,gSe(o)}else if(n===2||n===3){let o=zL(e+i,t),a=BigInt(0),c=e+i+lr;for(let l=c;l<c+o;++l)a=a<<BigInt(8)|BigInt(_n[l]);return lr=i+lr+o,n===3?-a-BigInt(1):a}else if(n===4){let o=Gf(e+i,t),[a,c]=o,l=c<0?-1:1,d="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),u,m=c<0?"-":"";return u=a===0?d:d.slice(0,d.length+a)+"."+d.slice(a),u=u.replace(/^0+/g,""),u===""&&(u="0"),u[0]==="."&&(u="0"+u),u=m+u,lr=i+lr,g_e(u)}else{let o=Gf(e+i,t);return lr=i+lr,U8({tag:gSe(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return gUn(e,t);case 5:return vUn(e,t);case 4:return _Un(e,t);case 2:return hUn(e,t)}else switch(r){case 3:return pUn(e,t);case 5:return SUn(e,t);case 4:return yUn(e,t);case 2:return ESe(e,t)}default:return EUn(e,t)}}function kqt(e,t,r){return uUn&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):Oqt?Oqt.decode(e.subarray(t,r)):(0,Nqt.toUtf8)(e.subarray(t,r))}function mUn(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function fUn(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function zL(e,t){let r=_n[e]&31;if(r<24)return lr=1,r;if(r===24||r===25||r===26||r===27){let n=Mqt[r];if(lr=n+1,t-e<lr)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?_n[s]:n===2?nh.getUint16(s):n===4?nh.getUint32(s):mUn(nh.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function pUn(e,t){let r=zL(e,t),n=lr;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=kqt(_n,e,e+r);return lr=n+r,s}function gUn(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_n[e]===255){let c=pS(r.length);return c.set(r,0),lr=e-n+2,kqt(c,0,c.length)}let s=(_n[e]&224)>>5,i=_n[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=ESe(e,t);e+=lr;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function ESe(e,t){let r=zL(e,t),n=lr;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=_n.subarray(e,e+r);return lr=n+r,s}function hUn(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_n[e]===255){let c=pS(r.length);return c.set(r,0),lr=e-n+2,c}let s=(_n[e]&224)>>5,i=_n[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=ESe(e,t);e+=lr;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function yUn(e,t){let r=zL(e,t),n=lr;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=Gf(e,t),c=lr;i[o]=a,e+=c}return lr=n+(e-s),i}function _Un(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_n[e]===255)return lr=e-n+2,r;let s=Gf(e,t);e+=lr,r.push(s)}throw new Error("expected break marker.")}function SUn(e,t){let r=zL(e,t),n=lr;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(_n[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Gf(e,t);e+=lr;let l=Gf(e,t);e+=lr,i[c]=l}return lr=n+(e-s),i}function vUn(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(_n[e]===255)return lr=e-r+2,n;let s=(_n[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=Gf(e,t);e+=lr;let o=Gf(e,t);e+=lr,n[i]=o}throw new Error("expected break marker.")}function EUn(e,t){let r=_n[e]&31;switch(r){case 21:case 20:return lr=1,r===21;case 22:return lr=1,null;case 23:return lr=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return lr=3,fUn(_n[e+1],_n[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return lr=5,nh.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return lr=9,nh.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function gSe(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var Nqt,dUn,uUn,_n,nh,Oqt,lr,Mqt,Lqt=_(()=>{Kc();Nqt=C(ws());F8();dUn=typeof TextDecoder<"u",uUn=typeof Buffer<"u",_n=pS(0),nh=new DataView(_n.buffer,_n.byteOffset,_n.byteLength),Oqt=dUn?new TextDecoder:null,lr=0;Mqt={[24]:1,[25]:2,[26]:4,[27]:8}});function bSe(e){gt.byteLength-Ze<e&&(Ze<16e6?q8(Math.max(gt.byteLength*4,gt.byteLength+e)):q8(gt.byteLength+e+16e6))}function wSe(){let e=pS(Ze);return e.set(gt.subarray(0,Ze),0),Ze=0,e}function q8(e){let t=gt;gt=pS(e),t&&(t.copy?t.copy(gt,0,0,t.byteLength):gt.set(t,0)),oh=new DataView(gt.buffer,gt.byteOffset,gt.byteLength)}function ih(e,t){t<24?gt[Ze++]=e<<5|t:t<256?(gt[Ze++]=e<<5|24,gt[Ze++]=t):t<65536?(gt[Ze++]=e<<5|25,oh.setUint16(Ze,t),Ze+=2):t<2**32?(gt[Ze++]=e<<5|26,oh.setUint32(Ze,t),Ze+=4):(gt[Ze++]=e<<5|27,oh.setBigUint64(Ze,typeof t=="bigint"?t:BigInt(t)),Ze+=8)}function Bqt(e){let t=[e];for(;t.length;){let r=t.pop();if(bSe(typeof r=="string"?r.length*4:64),typeof r=="string"){if(Uqt)ih(3,Buffer.byteLength(r)),Ze+=gt.write(r,Ze);else{let n=(0,Fqt.fromUtf8)(r);ih(3,n.byteLength),gt.set(n,Ze),Ze+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?gt[Ze++]=s<<5|i:i<256?(gt[Ze++]=s<<5|24,gt[Ze++]=i):i<65536?(gt[Ze++]=s<<5|25,gt[Ze++]=i>>8,gt[Ze++]=i):i<4294967296?(gt[Ze++]=s<<5|26,oh.setUint32(Ze,i),Ze+=4):(gt[Ze++]=s<<5|27,oh.setBigUint64(Ze,BigInt(i)),Ze+=8);continue}gt[Ze++]=251,oh.setFloat64(Ze,r),Ze+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),o=Number(i);if(o<24)gt[Ze++]=s<<5|o;else if(o<256)gt[Ze++]=s<<5|24,gt[Ze++]=o;else if(o<65536)gt[Ze++]=s<<5|25,gt[Ze++]=o>>8,gt[Ze++]=o&255;else if(o<4294967296)gt[Ze++]=s<<5|26,oh.setUint32(Ze,o),Ze+=4;else if(i<BigInt("18446744073709551616"))gt[Ze++]=s<<5|27,oh.setBigUint64(Ze,i),Ze+=8;else{let a=i.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=i,d=0;for(;c.byteLength-++d>=0;)c[c.byteLength-d]=Number(l&BigInt(255)),l>>=BigInt(8);bSe(c.byteLength*2),gt[Ze++]=n?194:195,Uqt?ih(2,Buffer.byteLength(c)):ih(2,c.byteLength),gt.set(c,Ze),Ze+=c.byteLength}continue}else if(r===null){gt[Ze++]=246;continue}else if(typeof r=="boolean"){gt[Ze++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);ih(4,r.length);continue}else if(typeof r.byteLength=="number"){bSe(r.length*2),ih(2,r.length),gt.set(r,Ze),Ze+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Js){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,o=BigInt(r.string.replace(".",""));gt[Ze++]=196,t.push(o),t.push(i),ih(4,2);continue}if(r[pSe])if("tag"in r&&"value"in r){t.push(r.value),ih(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];t.push(r[i]),t.push(i)}ih(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var Fqt,Uqt,CUn,gt,oh,Ze,qqt=_(()=>{Kc();Fqt=C(ws());F8();Uqt=typeof Buffer<"u",CUn=2048,gt=pS(CUn),oh=new DataView(gt.buffer,gt.byteOffset,gt.byteLength),Ze=0});var ASe,jqt=_(()=>{Lqt();qqt();ASe={deserialize(e){return Dqt(e),Gf(0,e.length)},serialize(e){try{return Bqt(e),wSe()}catch(t){throw wSe(),t}},resizeEncodingBuffer(e){q8(e)}}});var Vqt=E((H$s,Hqt)=>{var j8=Object.defineProperty,bUn=Object.getOwnPropertyDescriptor,wUn=Object.getOwnPropertyNames,AUn=Object.prototype.hasOwnProperty,xUn=(e,t)=>j8(e,"name",{value:t,configurable:!0}),PUn=(e,t)=>{for(var r in t)j8(e,r,{get:t[r],enumerable:!0})},RUn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wUn(t))!AUn.call(e,s)&&s!==r&&j8(e,s,{get:()=>t[s],enumerable:!(n=bUn(t,s))||n.enumerable});return e},TUn=e=>RUn(j8({},"__esModule",{value:!0}),e),zqt={};PUn(zqt,{calculateBodyLength:()=>IUn});Hqt.exports=TUn(zqt);var $qt=typeof TextEncoder=="function"?new TextEncoder:null,IUn=xUn(e=>{if(typeof e=="string"){if($qt)return $qt.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var $8,z8,H8=_(()=>{F8();$8=e=>U8({tag:1,value:e.getTime()/1e3}),z8=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var RSe,V8,xSe,PSe,TSe=_(()=>{As();Kc();RSe=C(Xo());jqt();H8();V8=class{createSerializer(){let t=new xSe;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new PSe;return t.setSerdeContext(this.serdeContext),t}setSerdeContext(t){this.serdeContext=t}},xSe=class{setSerdeContext(t){this.serdeContext=t}write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=Je.of(t);if(r==null)return n.isIdempotencyToken()?Wc():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??RSe.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?$8(new Date(Number(r)/1e3|0)):$8(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let o=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of s){let d=this.serialize(n.getValueSchema(),l);(d!=null||o)&&(a[c++]=d)}return a}if(s instanceof Date)return $8(s);let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||o)&&(i[a]=c)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator()){let c=this.serialize(a,s[o]);c!=null&&(i[o]=c)}else if(n.isDocumentSchema())for(let o of Object.keys(s))i[o]=this.serialize(n.getValueSchema(),s[o]);return i}return r}flush(){let t=ASe.serialize(this.value);return this.value=void 0,t}},PSe=class{setSerdeContext(t){this.serdeContext=t}read(t,r){let n=ASe.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=Je.of(t);if(n.isTimestampSchema()&&typeof r=="number")return eb(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??RSe.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(o,c);(l!=null||a)&&i.push(l)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(o,r[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema())for(let[i,o]of n.structIterator())s[i]=this.readValue(o,r[i]);return s}else return r}}});var Gqt,G8,Wqt=_(()=>{Nl();As();Gqt=C(Gc());TSe();H8();G8=class extends Zg{constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new V8,this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),bu(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,Gqt.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=z8(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let c={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},l=wu.for(a),d;try{d=l.getSchema(o)}catch{s.Message&&(s.message=s.Message);let b=wu.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w({name:o}),c,s)}throw Object.assign(new Error(o),c,s)}let u=Je.of(d),m=s.message??s.Message??"Unknown",p=new d.ctor(m),g={};for(let[y,b]of u.structIterator())g[y]=this.deserializer.readValue(b,s[y]);throw Object.assign(p,c,{$fault:u.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/cbor"}}});var Kqt=_(()=>{H8();Wqt();TSe()});var Xqt,Au,hR=_(()=>{As();Xqt=C(Vqt()),Au=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??Xqt.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=wu.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let m=wu.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(m){let p=m.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var ISe,Jqt=_(()=>{Kqt();As();hR();ISe=class extends G8{awsQueryCompatible;mixin=new Au;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=z8(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator())m[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var OUn,NUn,DUn,Qqt=_(()=>{OUn=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},NUn=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},DUn=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Ua,_S=_(()=>{Ua=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function Yqt(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Js(n,"bigDecimal"):BigInt(n)}return t}var Zqt=_(()=>{Kc()});var ejt,tjt,W8,OSe=_(()=>{ejt=C(tr()),tjt=C(ws()),W8=(e,t)=>(0,ejt.collectBody)(e,t).then(r=>(t?.utf8Encoder??tjt.toUtf8)(r))});var yR,NSe,db,HL=_(()=>{OSe();yR=(e,t)=>W8(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),NSe=async(e,t)=>{let r=await yR(e,t);return r.message=r.message??r.Message,r},db=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var rjt,VL,DSe=_(()=>{Nl();As();Kc();rjt=C(Xo());_S();Zqt();HL();VL=class extends Ua{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,Yqt):await yR(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=Je.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,rjt.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return pc.from(r);if(s.isTimestampSchema()&&r!=null)switch(Ol(s,this.settings)){case Fe.TIMESTAMP_DATE_TIME:return bL(r);case Fe.TIMESTAMP_HTTP_DATE:return wL(r);case Fe.TIMESTAMP_EPOCH_SECONDS:return eb(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Js)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new Js(o.string,o.type):new Js(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Js?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var njt,K8,sjt=_(()=>{Kc();njt="\u039D",K8=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Js){let n=`${njt+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${njt+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ijt,GL,kSe=_(()=>{Nl();As();Kc();ijt=C(Xo());_S();sjt();GL=class extends Ua{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=Je.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=Je.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new K8;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=Je.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,ijt.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Ol(i,this.settings)){case Fe.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case Fe.TIMESTAMP_HTTP_DATE:return CL(r);case Fe.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return Wc();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return pc.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Js?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var ub,X8=_(()=>{_S();DSe();kSe();ub=class extends Ua{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new GL(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new VL(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var mb,J8=_(()=>{Nl();As();hR();X8();HL();mb=class extends Zg{serializer;deserializer;serviceTarget;codec;mixin=new Au;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new ub({timestampFormat:{useTrait:!0,default:Fe.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${Je.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(bu(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=db(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,m),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}}});var MSe,ojt=_(()=>{J8();MSe=class extends mb{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var LSe,ajt=_(()=>{J8();LSe=class extends mb{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var USe,cjt=_(()=>{Nl();As();hR();X8();HL();USe=class extends nb{serializer;deserializer;codec;mixin=new Au;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:Fe.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new ub(r),this.serializer=new ob(this.codec.createSerializer(),r),this.deserializer=new ib(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Je.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=db(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().jsonName??p;m[p]=this.codec.createDeserializer().readObject(g,s[y])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/json"}}});var ljt,kUn,djt=_(()=>{ljt=C(tr()),kUn=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ljt.expectUnion)(e)}});function Q8(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r}function mjt(e){return typeof e<"u"}var ujt,MUn,LUn,UUn,WL,Y8=_(()=>{"use strict";ujt=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",MUn=ujt+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",LUn="["+ujt+"]["+MUn+"]*",UUn=new RegExp("^"+LUn+"$");WL=function(e){let t=UUn.exec(e);return!(t===null||typeof t>"u")}});function yjt(e,t){t=Object.assign({},FUn,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=pjt(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=gjt(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!GUn(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",Ri("InvalidTag",u,hc(e,i))}let l=jUn(e,i);if(l===!1)return Ri("InvalidAttr","Attributes for '"+c+"' have open quote.",hc(e,i));let d=l.value;if(i=l.index,d[d.length-1]==="/"){let u=i-d.length;d=d.substring(0,d.length-1);let m=hjt(d,t);if(m===!0)n=!0;else return Ri(m.err.code,m.err.msg,hc(e,u+m.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return Ri("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",hc(e,o));if(r.length===0)return Ri("InvalidTag","Closing tag '"+c+"' has not been opened.",hc(e,o));{let u=r.pop();if(c!==u.tagName){let m=hc(e,u.tagStartPos);return Ri("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",hc(e,o))}r.length==0&&(s=!0)}}else return Ri("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",hc(e,i));else{let u=hjt(d,t);if(u!==!0)return Ri(u.err.code,u.err.msg,hc(e,i-d.length+u.err.line));if(s===!0)return Ri("InvalidXml","Multiple possible root nodes found.",hc(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=gjt(e,i);continue}else if(e[i+1]==="?"){if(i=pjt(e,++i),i.err)return i}else break;else if(e[i]==="&"){let u=HUn(e,i);if(u==-1)return Ri("InvalidChar","char '&' is not expected.",hc(e,i));i=u}else if(s===!0&&!fjt(e[i]))return Ri("InvalidXml","Extra text at the end",hc(e,i));e[i]==="<"&&i--}}else{if(fjt(e[i]))continue;return Ri("InvalidChar","char '"+e[i]+"' is not expected.",hc(e,i))}if(n){if(r.length==1)return Ri("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",hc(e,r[0].tagStartPos));if(r.length>0)return Ri("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ri("InvalidXml","Start tag expected.",1);return!0}function fjt(e){return e===" "||e==="	"||e===`
`||e==="\r"}function pjt(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Ri("InvalidXml","XML declaration allowed only at the start of the document.",hc(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function gjt(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function jUn(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===BUn||e[t]===qUn)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}function hjt(e,t){let r=Q8(e,$Un),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return Ri("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",KL(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return Ri("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",KL(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return Ri("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",KL(r[s]));let i=r[s][2];if(!VUn(i))return Ri("InvalidAttr","Attribute '"+i+"' is an invalid name.",KL(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return Ri("InvalidAttr","Attribute '"+i+"' is repeated.",KL(r[s]))}return!0}function zUn(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function HUn(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,zUn(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Ri(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function VUn(e){return WL(e)}function GUn(e){return WL(e)}function hc(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function KL(e){return e.startIndex+e[1].length}var FUn,BUn,qUn,$Un,_jt=_(()=>{"use strict";Y8();FUn={allowBooleanAttributes:!1,unpairedTags:[]};BUn='"',qUn="'";$Un=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var WUn,Sjt,vjt=_(()=>{WUn={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},Sjt=function(e){return Object.assign({},WUn,e)}});var Z8,kl,e5=_(()=>{"use strict";typeof Symbol!="function"?Z8="@@xmlMetadata":Z8=Symbol("XML Node Metadata");kl=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][Z8]={startIndex:r})}static getMetaDataSymbol(){return Z8}}});function FSe(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&fb(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=KUn(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(s&&fb(e,"!ELEMENT",t)){t+=8;let{index:a}=JUn(e,t+1);t=a}else if(s&&fb(e,"!ATTLIST",t))t+=8;else if(s&&fb(e,"!NOTATION",t)){t+=9;let{index:a}=XUn(e,t+1);t=a}else if(fb(e,"!--",t))i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function KUn(e,t){t=SS(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(BSe(r),t=SS(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=t5(e,t,"entity"),t--,[r,n,t]}function XUn(e,t){t=SS(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;BSe(r),t=SS(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=SS(e,t);let s=null,i=null;if(n==="PUBLIC")[t,s]=t5(e,t,"publicIdentifier"),t=SS(e,t),(e[t]==='"'||e[t]==="'")&&([t,i]=t5(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,i]=t5(e,t,"systemIdentifier"),!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:i,index:--t}}function t5(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function JUn(e,t){t=SS(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!BSe(r))throw new Error(`Invalid element name: "${r}"`);t=SS(e,t);let n="";if(e[t]==="E"&&fb(e,"MPTY",t))t+=4;else if(e[t]==="A"&&fb(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function fb(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function BSe(e){if(WL(e))return e;throw new Error(`Invalid entity name ${e}`)}var SS,Ejt=_(()=>{Y8();SS=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function qSe(e,t={}){if(t=Object.assign({},ZUn,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&QUn.test(r))return nFn(r,16);if(r.search(/.+[eE].+/)!==-1)return tFn(e,r,t);{let n=YUn.exec(r);if(n){let s=n[1]||"",i=n[2],o=rFn(n[3]),a=s?e[i.length+1]===".":e[i.length]===".";if(!t.leadingZeros&&(i.length>1||i.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===o||l===`${s}${o}`?c:e;let d=i?o:r;return i?d===l||s+d===l?c:e:d===l||d===s+l?c:e}}else return e}}function tFn(e,t,r){if(!r.eNotation)return e;let n=t.match(eFn);if(n){let s=n[1]||"",i=n[3].indexOf("e")===-1?"E":"e",o=n[2],a=s?e[o.length+1]===i:e[o.length]===i;return o.length>1&&a?e:o.length===1&&(n[3].startsWith(`.${i}`)||n[3][0]===i)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function rFn(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function nFn(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var QUn,YUn,ZUn,eFn,Cjt=_(()=>{QUn=/^[-+]?0x[a-fA-F0-9]+$/,YUn=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,ZUn={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};eFn=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function jSe(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var bjt=_(()=>{});function sFn(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function iFn(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?zSe(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?zSe(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function oFn(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function cFn(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Q8(e,aFn),s=n.length,i={};for(let o=0;o<s;o++){let a=this.resolveNameSpace(n[o][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?i[l]=c:typeof d!=typeof c||d!==c?i[l]=d:i[l]=zSe(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=i,o}return i}}function dFn(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}function mFn(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function fFn(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function pFn(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function pb(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function $Se(e,t,r,n=">"){let s=pFn(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let d=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),l=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:d}}function gFn(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=pb(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=pb(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=pb(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=pb(e,"]]>",r,"StopNode is not closed.")-2;else{let i=$Se(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function zSe(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:qSe(e,r)}else return mjt(e)?e:""}var XL,aFn,lFn,uFn,wjt=_(()=>{"use strict";Y8();e5();Ejt();Cjt();bjt();XL=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=sFn,this.parseXml=lFn,this.parseTextData=iFn,this.resolveNameSpace=oFn,this.buildAttributesMap=cFn,this.isItStopNode=fFn,this.replaceEntitiesValue=uFn,this.readStopNodeData=gFn,this.saveTextToParentTag=mFn,this.addChild=dFn,this.ignoreAttributesFn=jSe(this.options.ignoreAttributes)}};aFn=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");lFn=function(e){e=e.replace(/\r\n?/g,`
`);let t=new kl("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=pb(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=$Se(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new kl(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s,i)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=pb(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=FSe(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=pb(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),i=a+2}else{let a=$Se(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,u=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c);let g=i;if(this.isItStopNode(this.options.stopNodes,s,c)){let y="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let w=this.readStopNodeData(e,l,m+1);if(!w)throw new Error(`Unexpected end of ${l}`);i=w.i,y=w.tagContent}let b=new kl(c);c!==d&&u&&(b[":@"]=this.buildAttributesMap(d,s,c)),y&&(y=this.parseTextData(y,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),b.add(this.options.textNodeName,y),this.addChild(r,b,s,g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new kl(c);c!==d&&u&&(y[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,y,s,g),s=s.substr(0,s.lastIndexOf("."))}else{let y=new kl(c);this.tagsNodeStack.push(r),c!==d&&u&&(y[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,y,s,g),r=y}n="",i=m}}else n+=e[i];return t.child};uFn=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function VSe(e,t){return Ajt(e,t)}function Ajt(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=hFn(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=Ajt(o[a],t,c),d=_Fn(l,t);o[HSe]!==void 0&&(l[HSe]=o[HSe]),o[":@"]?yFn(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):t.isArray(a,c,d)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function hFn(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function yFn(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function _Fn(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var HSe,xjt=_(()=>{"use strict";e5();HSe=kl.getMetaDataSymbol()});var vS,Pjt=_(()=>{vjt();wjt();xjt();_jt();e5();vS=class{constructor(t){this.externalEntities={},this.options=Sjt(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=yjt(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new XL(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:VSe(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return kl.getMetaDataSymbol()}}});var GSe=_(()=>{"use strict";Pjt()});var Rjt,Tjt,gb,r5=_(()=>{Nl();As();Rjt=C(tr()),Tjt=C(ws());GSe();_S();gb=class extends Ua{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new sb(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=Je.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??Tjt.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=Je.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],m=Array.isArray(u)?u:[u];for(let p of m)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],y=p[m];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new vS({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Rjt.getValueFromTextNode)(o)}return{}}}});var Ijt,Ojt,n5,Njt=_(()=>{Nl();As();Kc();Ijt=C(tr()),Ojt=C(Xo());_S();n5=class extends Ua{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=Je.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Ojt.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Wc()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Js?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Ol(s,this.settings)){case Fe.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case Fe.TIMESTAMP_HTTP_DATE:this.writeValue((0,Ijt.dateToUtcString)(r));break;case Fe.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,m),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Hf(t)}=`}writeValue(t){this.buffer+=Hf(t)}}});var JL,WSe=_(()=>{Nl();As();hR();r5();Njt();JL=class extends Zg{options;serializer;deserializer;mixin=new Au;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:Fe.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new n5(r),this.deserializer=new gb(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(bu(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let u=await Sm(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(Fe.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let m=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Sm(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,y)=>g.find(b=>Je.of(b).getMergedTraits().awsQueryError?.[0]===y)),d=Je.of(c),u=this.loadQueryErrorMessage(s),m=new c.ctor(u),p={};for(let[g,y]of d.structIterator()){let b=y.getMergedTraits().xmlName??g,w=a[b]??s[b];p[g]=this.deserializer.readSchema(y,w)}throw Object.assign(m,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var KSe,Djt=_(()=>{WSe();KSe=class extends JL{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var kjt,QL,XSe,JSe,QSe=_(()=>{kjt=C(tr());GSe();OSe();QL=(e,t)=>W8(e,t).then(r=>{if(r.length){let n=new vS({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,kjt.getValueFromTextNode)(a)}return{}}),XSe=async(e,t)=>{let r=await QL(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},JSe=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var qjt=E((KHs,Bjt)=>{"use strict";var i5=Object.defineProperty,SFn=Object.getOwnPropertyDescriptor,vFn=Object.getOwnPropertyNames,EFn=Object.prototype.hasOwnProperty,o5=(e,t)=>i5(e,"name",{value:t,configurable:!0}),CFn=(e,t)=>{for(var r in t)i5(e,r,{get:t[r],enumerable:!0})},bFn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vFn(t))!EFn.call(e,s)&&s!==r&&i5(e,s,{get:()=>t[s],enumerable:!(n=SFn(t,s))||n.enumerable});return e},wFn=e=>bFn(i5({},"__esModule",{value:!0}),e),Mjt={};CFn(Mjt,{XmlNode:()=>AFn,XmlText:()=>Fjt});Bjt.exports=wFn(Mjt);function Ljt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}o5(Ljt,"escapeAttribute");function Ujt(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}o5(Ujt,"escapeElement");var Fjt=class{constructor(e){this.value=e}static{o5(this,"XmlText")}toString(){return Ujt(""+this.value)}},AFn=class s5{constructor(t,r=[]){this.name=t,this.children=r}static{o5(this,"XmlNode")}attributes={};static of(t,r,n){let s=new s5(t);return r!==void 0&&s.addChildNode(new Fjt(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=s5.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new s5(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${Ljt(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var xu,YSe,a5,YL,ZSe=_(()=>{xu=C(qjt());Nl();As();Kc();YSe=C(tr()),a5=C(Xo());_S();YL=class extends Ua{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=Je.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??a5.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=xu.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let m=xu.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),m=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let y=this.writeStruct(o,g,u);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=xu.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,u),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=xu.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&m(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),m=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[y,b]=this.getXmlnsAttribute(t,s),w=(A,O,T)=>{let k=xu.XmlNode.of(l,O),[z,oe]=this.getXmlnsAttribute(a,b);oe&&k.addAttribute(z,oe),A.addChildNode(k);let Q=xu.XmlNode.of(m);d.isListSchema()?this.writeList(d,T,Q,b):d.isMapSchema()?this.writeMap(d,T,Q,b,!0):d.isStructSchema()?Q=this.writeStruct(d,T,b):this.writeSimpleInto(d,T,Q,b),A.addChildNode(Q)};if(g){for(let[A,O]of Object.entries(r))if(p||O!=null){let T=xu.XmlNode.of(o.xmlName??t.getMemberName());w(T,A,O),n.addChildNode(T)}}else{let A;i||(A=xu.XmlNode.of(o.xmlName??t.getMemberName()),b&&A.addAttribute(y,b),n.addChildNode(A));for(let[O,T]of Object.entries(r))if(p||T!=null){let k=xu.XmlNode.of("entry");w(k,O,T),(i?n:A).addChildNode(k)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=Je.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??a5.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Ol(n,this.settings)){case Fe.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case Fe.TIMESTAMP_HTTP_DATE:s=(0,YSe.dateToUtcString)(r);break;case Fe.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,YSe.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Js?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=Wc():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=Je.of(t),a=new xu.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var ZL,eve=_(()=>{_S();r5();ZSe();ZL=class extends Ua{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new YL(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new gb(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var tve,jjt=_(()=>{Nl();As();hR();QSe();eve();tve=class extends nb{codec;serializer;deserializer;mixin=new Au;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:Fe.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ZL(r),this.serializer=new ob(this.codec.createSerializer(),r),this.deserializer=new ib(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Je.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=JSe(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let m={};for(let[p,g]of l.structIterator()){let y=g.getMergedTraits().xmlName??p,b=s.Error?.[y]??s[y];m[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},m)}getDefaultContentType(){return"application/xml"}}});var $jt=_(()=>{Jqt();Qqt();ojt();ajt();J8();cjt();X8();DSe();kSe();djt();HL();Djt();WSe();jjt();eve();r5();ZSe();QSe()});var Wf={};ct(Wf,{AWSSDKSigV4Signer:()=>Y_e,AwsEc2QueryProtocol:()=>KSe,AwsJson1_0Protocol:()=>MSe,AwsJson1_1Protocol:()=>LSe,AwsJsonRpcProtocol:()=>mb,AwsQueryProtocol:()=>JL,AwsRestJsonProtocol:()=>USe,AwsRestXmlProtocol:()=>tve,AwsSdkSigV4ASigner:()=>BL,AwsSdkSigV4Signer:()=>Qc,AwsSmithyRpcV2CborProtocol:()=>ISe,JsonCodec:()=>ub,JsonShapeDeserializer:()=>VL,JsonShapeSerializer:()=>GL,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>fR,NODE_SIGV4A_CONFIG_OPTIONS:()=>JBt,XmlCodec:()=>ZL,XmlShapeDeserializer:()=>gb,XmlShapeSerializer:()=>YL,_toBool:()=>NUn,_toNum:()=>DUn,_toStr:()=>OUn,awsExpectUnion:()=>kUn,emitWarningIfUnsupportedVersion:()=>dR,getBearerTokenEnvKey:()=>P8,loadRestJsonErrorCode:()=>db,loadRestXmlErrorCode:()=>JSe,parseJsonBody:()=>yR,parseJsonErrorBody:()=>NSe,parseXmlBody:()=>QL,parseXmlErrorBody:()=>XSe,resolveAWSSDKSigV4Config:()=>Pqt,resolveAwsSdkSigV4AConfig:()=>XBt,resolveAwsSdkSigV4Config:()=>lb,setCredentialFeature:()=>uS,setFeature:()=>RBt,setTokenFeature:()=>IBt,state:()=>x8,validateSigningProperties:()=>mR});var To=_(()=>{vm();fSe();$jt()});var _R=E((DVs,e1t)=>{"use strict";var l5=Object.defineProperty,xFn=Object.getOwnPropertyDescriptor,PFn=Object.getOwnPropertyNames,RFn=Object.prototype.hasOwnProperty,ah=(e,t)=>l5(e,"name",{value:t,configurable:!0}),TFn=(e,t)=>{for(var r in t)l5(e,r,{get:t[r],enumerable:!0})},IFn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of PFn(t))!RFn.call(e,s)&&s!==r&&l5(e,s,{get:()=>t[s],enumerable:!(n=xFn(t,s))||n.enumerable});return e},OFn=e=>IFn(l5({},"__esModule",{value:!0}),e),Gjt={};TFn(Gjt,{DEFAULT_UA_APP_ID:()=>Wjt,getUserAgentMiddlewareOptions:()=>Zjt,getUserAgentPlugin:()=>BFn,resolveUserAgentConfig:()=>Xjt,userAgentMiddleware:()=>Yjt});e1t.exports=OFn(Gjt);var NFn=(Xc(),F(aR)),Wjt=void 0;function Kjt(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}ah(Kjt,"isValidUserAgentAppId");function Xjt(e){let t=(0,NFn.normalizeProvider)(e.userAgentAppId??Wjt),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:ah(async()=>{let n=await t();if(!Kjt(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}ah(Xjt,"resolveUserAgentConfig");var DFn=lR(),kFn=Dn(),Kf=(To(),F(Wf)),MFn=/\d{12}\.ddb/;async function Jjt(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Kf.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,Kf.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Kf.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Kf.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(MFn)&&(0,Kf.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Kf.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Kf.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Kf.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,Kf.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,Kf.setFeature)(e,o,a)}}ah(Jjt,"checkFeatures");var zjt="user-agent",rve="x-amz-user-agent",Hjt=" ",nve="/",LFn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,UFn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Vjt="-",FFn=1024;function Qjt(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=FFn){t.length?t+=","+n:t+=n;continue}break}return t}ah(Qjt,"encodeFeatures");var Yjt=ah(e=>(t,r)=>async n=>{let{request:s}=n;if(!kFn.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(c5)||[],a=(await e.defaultUserAgentProvider()).map(c5);await Jjt(r,e,n);let c=r;a.push(`m/${Qjt(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(c5)||[],d=await e.userAgentAppId();d&&a.push(c5([`app/${d}`]));let u=(0,DFn.getUserAgentPrefix)(),m=(u?[u]:[]).concat([...a,...o,...l]).join(Hjt),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(Hjt);return e.runtime!=="browser"?(p&&(i[rve]=i[rve]?`${i[zjt]} ${p}`:p),i[zjt]=m):i[rve]=m,t({...n,request:s})},"userAgentMiddleware"),c5=ah(e=>{let t=e[0].split(nve).map(o=>o.replace(LFn,Vjt)).join(nve),r=e[1]?.replace(UFn,Vjt),n=t.indexOf(nve),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),Zjt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},BFn=ah(e=>({applyToStack:ah(t=>{t.add(Yjt(e),Zjt)},"applyToStack")}),"getUserAgentPlugin")});var i1t=E((kVs,s1t)=>{var d5=Object.defineProperty,qFn=Object.getOwnPropertyDescriptor,jFn=Object.getOwnPropertyNames,$Fn=Object.prototype.hasOwnProperty,t1t=(e,t)=>d5(e,"name",{value:t,configurable:!0}),zFn=(e,t)=>{for(var r in t)d5(e,r,{get:t[r],enumerable:!0})},HFn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jFn(t))!$Fn.call(e,s)&&s!==r&&d5(e,s,{get:()=>t[s],enumerable:!(n=qFn(t,s))||n.enumerable});return e},VFn=e=>HFn(d5({},"__esModule",{value:!0}),e),r1t={};zFn(r1t,{SelectorType:()=>n1t,booleanSelector:()=>GFn,numberSelector:()=>WFn});s1t.exports=VFn(r1t);var GFn=t1t((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),WFn=t1t((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),n1t=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(n1t||{})});var Xf=E((MVs,h1t)=>{var m5=Object.defineProperty,KFn=Object.getOwnPropertyDescriptor,XFn=Object.getOwnPropertyNames,JFn=Object.prototype.hasOwnProperty,Vi=(e,t)=>m5(e,"name",{value:t,configurable:!0}),QFn=(e,t)=>{for(var r in t)m5(e,r,{get:t[r],enumerable:!0})},YFn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of XFn(t))!JFn.call(e,s)&&s!==r&&m5(e,s,{get:()=>t[s],enumerable:!(n=KFn(t,s))||n.enumerable});return e},ZFn=e=>YFn(m5({},"__esModule",{value:!0}),e),c1t={};QFn(c1t,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>d1t,CONFIG_USE_FIPS_ENDPOINT:()=>m1t,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>eBn,DEFAULT_USE_FIPS_ENDPOINT:()=>rBn,ENV_USE_DUALSTACK_ENDPOINT:()=>l1t,ENV_USE_FIPS_ENDPOINT:()=>u1t,NODE_REGION_CONFIG_FILE_OPTIONS:()=>cBn,NODE_REGION_CONFIG_OPTIONS:()=>aBn,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>tBn,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>nBn,REGION_ENV_NAME:()=>f1t,REGION_INI_NAME:()=>p1t,getRegionInfo:()=>fBn,resolveCustomEndpointsConfig:()=>sBn,resolveEndpointsConfig:()=>oBn,resolveRegionConfig:()=>lBn});h1t.exports=ZFn(c1t);var ES=i1t(),l1t="AWS_USE_DUALSTACK_ENDPOINT",d1t="use_dualstack_endpoint",eBn=!1,tBn={environmentVariableSelector:Vi(e=>(0,ES.booleanSelector)(e,l1t,ES.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Vi(e=>(0,ES.booleanSelector)(e,d1t,ES.SelectorType.CONFIG),"configFileSelector"),default:!1},u1t="AWS_USE_FIPS_ENDPOINT",m1t="use_fips_endpoint",rBn=!1,nBn={environmentVariableSelector:Vi(e=>(0,ES.booleanSelector)(e,u1t,ES.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Vi(e=>(0,ES.booleanSelector)(e,m1t,ES.SelectorType.CONFIG),"configFileSelector"),default:!1},u5=Gc(),sBn=Vi(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,u5.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,u5.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),iBn=Vi(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),oBn=Vi(e=>{let t=(0,u5.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?(0,u5.normalizeProvider)(typeof r=="string"?s(r):r):()=>iBn({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),f1t="AWS_REGION",p1t="region",aBn={environmentVariableSelector:Vi(e=>e[f1t],"environmentVariableSelector"),configFileSelector:Vi(e=>e[p1t],"configFileSelector"),default:Vi(()=>{throw new Error("Region is missing")},"default")},cBn={preferredFile:"credentials"},g1t=Vi(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),o1t=Vi(e=>g1t(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),lBn=Vi(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Vi(async()=>{if(typeof t=="string")return o1t(t);let n=await t();return o1t(n)},"region"),useFipsEndpoint:Vi(async()=>{let n=typeof t=="string"?t:await t();return g1t(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig"),a1t=Vi((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),dBn=Vi((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),uBn=Vi((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),mBn=Vi((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),fBn=Vi((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=uBn(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=a1t(s[a]?.variants,c),d=a1t(i[o]?.variants,c),u=dBn(a,{regionHostname:l,partitionHostname:d});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=mBn(u,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:u,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var eU=E((LVs,v1t)=>{var f5=Object.defineProperty,pBn=Object.getOwnPropertyDescriptor,gBn=Object.getOwnPropertyNames,hBn=Object.prototype.hasOwnProperty,sve=(e,t)=>f5(e,"name",{value:t,configurable:!0}),yBn=(e,t)=>{for(var r in t)f5(e,r,{get:t[r],enumerable:!0})},_Bn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gBn(t))!hBn.call(e,s)&&s!==r&&f5(e,s,{get:()=>t[s],enumerable:!(n=pBn(t,s))||n.enumerable});return e},SBn=e=>_Bn(f5({},"__esModule",{value:!0}),e),_1t={};yBn(_1t,{contentLengthMiddleware:()=>ive,contentLengthMiddlewareOptions:()=>S1t,getContentLengthPlugin:()=>EBn});v1t.exports=SBn(_1t);var vBn=Dn(),y1t="content-length";function ive(e){return t=>async r=>{let n=r.request;if(vBn.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(y1t)===-1)try{let o=e(s);n.headers={...n.headers,[y1t]:String(o)}}catch{}}return t({...r,request:n})}}sve(ive,"contentLengthMiddleware");var S1t={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},EBn=sve(e=>({applyToStack:sve(t=>{t.add(ive(e.bodyLengthChecker),S1t)},"applyToStack")}),"getContentLengthPlugin")});var SR=E(p5=>{"use strict";Object.defineProperty(p5,"__esModule",{value:!0});p5.getHomeDir=void 0;var CBn=require("os"),bBn=require("path"),ove={},wBn=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",ABn=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${bBn.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=wBn();return ove[s]||(ove[s]=(0,CBn.homedir)()),ove[s]};p5.getHomeDir=ABn});var ave=E(g5=>{"use strict";Object.defineProperty(g5,"__esModule",{value:!0});g5.getSSOTokenFilepath=void 0;var xBn=require("crypto"),PBn=require("path"),RBn=SR(),TBn=e=>{let r=(0,xBn.createHash)("sha1").update(e).digest("hex");return(0,PBn.join)((0,RBn.getHomeDir)(),".aws","sso","cache",`${r}.json`)};g5.getSSOTokenFilepath=TBn});var cve=E(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.getSSOTokenFromFile=CS.tokenIntercept=void 0;var IBn=require("fs"),OBn=ave(),{readFile:NBn}=IBn.promises;CS.tokenIntercept={};var DBn=async e=>{if(CS.tokenIntercept[e])return CS.tokenIntercept[e];let t=(0,OBn.getSSOTokenFilepath)(e),r=await NBn(t,"utf8");return JSON.parse(r)};CS.getSSOTokenFromFile=DBn});var h5=E(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.slurpFile=Ml.fileIntercept=Ml.filePromisesHash=void 0;var kBn=require("fs"),{readFile:MBn}=kBn.promises;Ml.filePromisesHash={};Ml.fileIntercept={};var LBn=(e,t)=>Ml.fileIntercept[e]!==void 0?Ml.fileIntercept[e]:((!Ml.filePromisesHash[e]||t?.ignoreCache)&&(Ml.filePromisesHash[e]=MBn(e,"utf8")),Ml.filePromisesHash[e]);Ml.slurpFile=LBn});var ch=E((jVs,E5)=>{var S5=Object.defineProperty,UBn=Object.getOwnPropertyDescriptor,FBn=Object.getOwnPropertyNames,BBn=Object.prototype.hasOwnProperty,Pu=(e,t)=>S5(e,"name",{value:t,configurable:!0}),qBn=(e,t)=>{for(var r in t)S5(e,r,{get:t[r],enumerable:!0})},lve=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FBn(t))!BBn.call(e,s)&&s!==r&&S5(e,s,{get:()=>t[s],enumerable:!(n=UBn(t,s))||n.enumerable});return e},x1t=(e,t,r)=>(lve(e,t,"default"),r&&lve(r,t,"default")),jBn=e=>lve(S5({},"__esModule",{value:!0}),e),v5={};qBn(v5,{CONFIG_PREFIX_SEPARATOR:()=>hb,DEFAULT_PROFILE:()=>R1t,ENV_PROFILE:()=>P1t,SSOToken:()=>E1t.SSOToken,externalDataInterceptor:()=>sqn,getProfileName:()=>$Bn,getSSOTokenFromFile:()=>E1t.getSSOTokenFromFile,loadSharedConfigFiles:()=>I1t,loadSsoSessionData:()=>tqn,parseKnownFiles:()=>nqn});E5.exports=jBn(v5);x1t(v5,SR(),E5.exports);var P1t="AWS_PROFILE",R1t="default",$Bn=Pu(e=>e.profile||process.env[P1t]||R1t,"getProfileName");x1t(v5,ave(),E5.exports);var E1t=cve(),y5=tS(),zBn=Pu(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(hb);return r===-1?!1:Object.values(y5.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(hb),i=r.substring(0,s)===y5.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),_5=require("path"),HBn=SR(),VBn="AWS_CONFIG_FILE",T1t=Pu(()=>process.env[VBn]||(0,_5.join)((0,HBn.getHomeDir)(),".aws","config"),"getConfigFilepath"),GBn=SR(),WBn="AWS_SHARED_CREDENTIALS_FILE",KBn=Pu(()=>process.env[WBn]||(0,_5.join)((0,GBn.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),XBn=SR(),JBn=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,QBn=["__proto__","profile __proto__"],dve=Pu(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=JBn.exec(a);if(c){let[,l,,d]=c;Object.values(y5.IniSectionType).includes(l)&&(r=[l,d].join(hb))}else r=a;if(QBn.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(hb):c;t[r][d]=l}}}}return t},"parseIni"),C1t=h5(),b1t=Pu(()=>({}),"swallowError"),hb=".",I1t=Pu(async(e={})=>{let{filepath:t=KBn(),configFilepath:r=T1t()}=e,n=(0,XBn.getHomeDir)(),s="~/",i=t;t.startsWith(s)&&(i=(0,_5.join)(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=(0,_5.join)(n,r.slice(2)));let a=await Promise.all([(0,C1t.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(dve).then(zBn).catch(b1t),(0,C1t.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(dve).catch(b1t)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),YBn=Pu(e=>Object.entries(e).filter(([t])=>t.startsWith(y5.IniSectionType.SSO_SESSION+hb)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(hb)+1)]:n}),{}),"getSsoSessionData"),ZBn=h5(),eqn=Pu(()=>({}),"swallowError"),tqn=Pu(async(e={})=>(0,ZBn.slurpFile)(e.configFilepath??T1t()).then(dve).then(YBn).catch(eqn),"loadSsoSessionData"),rqn=Pu((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),nqn=Pu(async e=>{let t=await I1t(e);return rqn(t.configFile,t.credentialsFile)},"parseKnownFiles"),w1t=cve(),A1t=h5(),sqn={getFileRecord(){return A1t.fileIntercept},interceptFile(e,t){A1t.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return w1t.tokenIntercept},interceptToken(e,t){w1t.tokenIntercept[e]=t}}});var bS=E(($Vs,D1t)=>{var C5=Object.defineProperty,iqn=Object.getOwnPropertyDescriptor,oqn=Object.getOwnPropertyNames,aqn=Object.prototype.hasOwnProperty,vR=(e,t)=>C5(e,"name",{value:t,configurable:!0}),cqn=(e,t)=>{for(var r in t)C5(e,r,{get:t[r],enumerable:!0})},lqn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oqn(t))!aqn.call(e,s)&&s!==r&&C5(e,s,{get:()=>t[s],enumerable:!(n=iqn(t,s))||n.enumerable});return e},dqn=e=>lqn(C5({},"__esModule",{value:!0}),e),N1t={};cqn(N1t,{loadConfig:()=>gqn});D1t.exports=dqn(N1t);var tU=gc();function uve(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}vR(uve,"getSelectorName");var uqn=vR((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new tU.CredentialsProviderError(r.message||`Not found in ENV: ${uve(e.toString())}`,{logger:t?.logger})}},"fromEnv"),O1t=ch(),mqn=vR((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,O1t.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,O1t.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c,t==="config"?s:i);if(d===void 0)throw new Error;return d}catch(l){throw new tU.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${uve(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),fqn=vR(e=>typeof e=="function","isFunction"),pqn=vR(e=>fqn(e)?async()=>await e():(0,tU.fromStatic)(e),"fromStatic"),gqn=vR(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return(0,tU.memoize)((0,tU.chain)(uqn(e,o),mqn(t,n),pqn(r)))},"loadConfig")});var U1t=E(b5=>{"use strict";Object.defineProperty(b5,"__esModule",{value:!0});b5.getEndpointUrlConfig=void 0;var k1t=ch(),M1t="AWS_ENDPOINT_URL",L1t="endpoint_url",hqn=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[M1t,...r].join("_")];if(n)return n;let s=t[M1t];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(k1t.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),L1t].join(k1t.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[L1t];if(n)return n},default:void 0});b5.getEndpointUrlConfig=hqn});var mve=E(w5=>{"use strict";Object.defineProperty(w5,"__esModule",{value:!0});w5.getEndpointFromConfig=void 0;var yqn=bS(),_qn=U1t(),Sqn=async e=>(0,yqn.loadConfig)((0,_qn.getEndpointUrlConfig)(e??""))();w5.getEndpointFromConfig=Sqn});var wS=E((VVs,H1t)=>{var x5=Object.defineProperty,vqn=Object.getOwnPropertyDescriptor,Eqn=Object.getOwnPropertyNames,Cqn=Object.prototype.hasOwnProperty,Ll=(e,t)=>x5(e,"name",{value:t,configurable:!0}),bqn=(e,t)=>{for(var r in t)x5(e,r,{get:t[r],enumerable:!0})},wqn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Eqn(t))!Cqn.call(e,s)&&s!==r&&x5(e,s,{get:()=>t[s],enumerable:!(n=vqn(t,s))||n.enumerable});return e},Aqn=e=>wqn(x5({},"__esModule",{value:!0}),e),B1t={};bqn(B1t,{endpointMiddleware:()=>$1t,endpointMiddlewareOptions:()=>z1t,getEndpointFromInstructions:()=>q1t,getEndpointPlugin:()=>Lqn,resolveEndpointConfig:()=>Fqn,resolveEndpointRequiredConfig:()=>Bqn,resolveParams:()=>j1t,toEndpointV1:()=>fve});H1t.exports=Aqn(B1t);var xqn=Ll(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Oqn(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Iqn(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),Pqn=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Rqn=/(\d+\.){3}\d+/,Tqn=/\.\./,Iqn=Ll(e=>Pqn.test(e)&&!Rqn.test(e)&&!Tqn.test(e),"isDnsCompatibleBucketName"),Oqn=Ll(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),Nqn=Ll((e,t,r)=>{let n=Ll(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),Dqn=mve(),F1t=lS(),fve=Ll(e=>typeof e=="object"?"url"in e?(0,F1t.parseUrl)(e.url):e:(0,F1t.parseUrl)(e),"toEndpointV1"),q1t=Ll(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,Dqn.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(fve(o)),r.isCustomEndpoint=!0)}let s=await j1t(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),j1t=Ll(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await Nqn(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await xqn(n),n},"resolveParams"),kqn=(Xc(),F(aR)),A5=Gc(),$1t=Ll(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,kqn.setFeature)(n,"ENDPOINT_OVERRIDE","N");let i=await q1t(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,A5.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},"endpointMiddleware"),Mqn=aS(),z1t={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Mqn.serializerMiddlewareOption.name},Lqn=Ll((e,t)=>({applyToStack:Ll(r=>{r.addRelativeTo($1t({config:e,instructions:t}),z1t)},"applyToStack")}),"getEndpointPlugin"),Uqn=mve(),Fqn=Ll(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>fve(await(0,A5.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,A5.normalizeProvider)(n??!1),useFipsEndpoint:(0,A5.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,Uqn.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),Bqn=Ll(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var gve=E((GVs,X1t)=>{var P5=Object.defineProperty,qqn=Object.getOwnPropertyDescriptor,jqn=Object.getOwnPropertyNames,$qn=Object.prototype.hasOwnProperty,yb=(e,t)=>P5(e,"name",{value:t,configurable:!0}),zqn=(e,t)=>{for(var r in t)P5(e,r,{get:t[r],enumerable:!0})},Hqn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jqn(t))!$qn.call(e,s)&&s!==r&&P5(e,s,{get:()=>t[s],enumerable:!(n=qqn(t,s))||n.enumerable});return e},Vqn=e=>Hqn(P5({},"__esModule",{value:!0}),e),V1t={};zqn(V1t,{isBrowserNetworkError:()=>K1t,isClockSkewCorrectedError:()=>W1t,isClockSkewError:()=>Yqn,isRetryableByTrait:()=>G1t,isServerError:()=>ejn,isThrottlingError:()=>Zqn,isTransientError:()=>pve});X1t.exports=Vqn(V1t);var Gqn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Wqn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Kqn=["TimeoutError","RequestTimeout","RequestTimeoutException"],Xqn=[500,502,503,504],Jqn=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Qqn=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],G1t=yb(e=>e?.$retryable!==void 0,"isRetryableByTrait"),Yqn=yb(e=>Gqn.includes(e.name),"isClockSkewError"),W1t=yb(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),K1t=yb(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),Zqn=yb(e=>e.$metadata?.httpStatusCode===429||Wqn.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),pve=yb((e,t=0)=>G1t(e)||W1t(e)||Kqn.includes(e.name)||Jqn.includes(e?.code||"")||Qqn.includes(e?.code||"")||Xqn.includes(e.$metadata?.httpStatusCode||0)||K1t(e)||e.cause!==void 0&&t<=10&&pve(e.cause,t+1),"isTransientError"),ejn=yb(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!pve(e)}return!1},"isServerError")});var ER=E((WVs,i$t)=>{var R5=Object.defineProperty,tjn=Object.getOwnPropertyDescriptor,rjn=Object.getOwnPropertyNames,njn=Object.prototype.hasOwnProperty,Em=(e,t)=>R5(e,"name",{value:t,configurable:!0}),sjn=(e,t)=>{for(var r in t)R5(e,r,{get:t[r],enumerable:!0})},ijn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rjn(t))!njn.call(e,s)&&s!==r&&R5(e,s,{get:()=>t[s],enumerable:!(n=tjn(t,s))||n.enumerable});return e},ojn=e=>ijn(R5({},"__esModule",{value:!0}),e),Q1t={};sjn(Q1t,{AdaptiveRetryStrategy:()=>mjn,ConfiguredRetryStrategy:()=>fjn,DEFAULT_MAX_ATTEMPTS:()=>hve,DEFAULT_RETRY_DELAY_BASE:()=>rU,DEFAULT_RETRY_MODE:()=>ajn,DefaultRateLimiter:()=>Z1t,INITIAL_RETRY_TOKENS:()=>yve,INVOCATION_ID_HEADER:()=>ljn,MAXIMUM_RETRY_DELAY:()=>_ve,NO_RETRY_INCREMENT:()=>s$t,REQUEST_HEADER:()=>djn,RETRY_COST:()=>r$t,RETRY_MODES:()=>Y1t,StandardRetryStrategy:()=>Sve,THROTTLING_RETRY_DELAY_BASE:()=>t$t,TIMEOUT_RETRY_COST:()=>n$t});i$t.exports=ojn(Q1t);var Y1t=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Y1t||{}),hve=3,ajn="standard",cjn=gve(),Z1t=class e$t{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Em(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e$t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,cjn.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},rU=100,_ve=20*1e3,t$t=500,yve=500,r$t=5,n$t=10,s$t=1,ljn="amz-sdk-invocation-id",djn="amz-sdk-request",ujn=Em(()=>{let e=rU;return{computeNextBackoffDelay:Em(n=>Math.floor(Math.min(_ve,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Em(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),J1t=Em(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Em(()=>t,"getRetryCount"),getRetryDelay:Em(()=>Math.min(_ve,e),"getRetryDelay"),getRetryCost:Em(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Sve=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=yve,this.retryBackoffStrategy=ujn(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Em(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return J1t({retryDelay:rU,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?t$t:rU);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(n);return this.capacity-=o,J1t({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(yve,this.capacity+(e.getRetryCost()??s$t))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${hve}`),hve}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?n$t:r$t}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},mjn=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new Z1t,this.standardRetryStrategy=new Sve(e)}static{Em(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},fjn=class extends Sve{static{Em(this,"ConfiguredRetryStrategy")}constructor(e,t=rU){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var o$t=E(T5=>{"use strict";Object.defineProperty(T5,"__esModule",{value:!0});T5.isStreamingPayload=void 0;var pjn=require("stream"),gjn=e=>e?.body instanceof pjn.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;T5.isStreamingPayload=gjn});var lh=E((YVs,E$t)=>{var I5=Object.defineProperty,hjn=Object.getOwnPropertyDescriptor,yjn=Object.getOwnPropertyNames,_jn=Object.prototype.hasOwnProperty,un=(e,t)=>I5(e,"name",{value:t,configurable:!0}),Sjn=(e,t)=>{for(var r in t)I5(e,r,{get:t[r],enumerable:!0})},vjn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yjn(t))!_jn.call(e,s)&&s!==r&&I5(e,s,{get:()=>t[s],enumerable:!(n=hjn(t,s))||n.enumerable});return e},Ejn=e=>vjn(I5({},"__esModule",{value:!0}),e),c$t={};Sjn(c$t,{AdaptiveRetryStrategy:()=>wjn,CONFIG_MAX_ATTEMPTS:()=>Eve,CONFIG_RETRY_MODE:()=>g$t,ENV_MAX_ATTEMPTS:()=>vve,ENV_RETRY_MODE:()=>p$t,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>Ajn,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Pjn,StandardRetryStrategy:()=>f$t,defaultDelayDecider:()=>d$t,defaultRetryDecider:()=>u$t,getOmitRetryHeadersPlugin:()=>Rjn,getRetryAfterHint:()=>v$t,getRetryPlugin:()=>kjn,omitRetryHeadersMiddleware:()=>h$t,omitRetryHeadersMiddlewareOptions:()=>y$t,resolveRetryConfig:()=>xjn,retryMiddleware:()=>_$t,retryMiddlewareOptions:()=>S$t});E$t.exports=Ejn(c$t);var CR=Dn(),l$t=(l8(),F(IUt)),Qs=ER(),Cjn=un((e,t)=>{let r=e,n=t?.noRetryIncrement??Qs.NO_RETRY_INCREMENT,s=t?.retryCost??Qs.RETRY_COST,i=t?.timeoutRetryCost??Qs.TIMEOUT_RETRY_COST,o=e,a=un(u=>u.name==="TimeoutError"?i:s,"getCapacityAmount"),c=un(u=>a(u)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:un(u=>{if(!c(u))throw new Error("No retry token available");let m=a(u);return o-=m,m},"retrieveRetryTokens"),releaseRetryTokens:un(u=>{o+=u??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),d$t=un((e,t)=>Math.floor(Math.min(Qs.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),AS=gve(),u$t=un(e=>e?(0,AS.isRetryableByTrait)(e)||(0,AS.isClockSkewError)(e)||(0,AS.isThrottlingError)(e)||(0,AS.isTransientError)(e):!1,"defaultRetryDecider"),m$t=un(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),f$t=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=Qs.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??u$t,this.delayDecider=t?.delayDecider??d$t,this.retryQuota=t?.retryQuota??Cjn(Qs.INITIAL_RETRY_TOKENS)}static{un(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=Qs.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,i=0,o=await this.getMaxAttempts(),{request:a}=t;for(CR.HttpRequest.isInstance(a)&&(a.headers[Qs.INVOCATION_ID_HEADER]=(0,l$t.v4)());;)try{CR.HttpRequest.isInstance(a)&&(a.headers[Qs.REQUEST_HEADER]=`attempt=${s+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:c,output:l}}catch(c){let l=m$t(c);if(s++,this.shouldRetry(l,s,o)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,AS.isThrottlingError)(l)?Qs.THROTTLING_RETRY_DELAY_BASE:Qs.DEFAULT_RETRY_DELAY_BASE,s),u=bjn(l.$response),m=Math.max(u||0,d);i+=m,await new Promise(p=>setTimeout(p,m));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},bjn=un(e=>{if(!CR.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),wjn=class extends f$t{static{un(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new Qs.DefaultRateLimiter,this.mode=Qs.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:un(async()=>this.rateLimiter.getSendToken(),"beforeRequest"),afterRequest:un(r=>{this.rateLimiter.updateClientSendingRate(r)},"afterRequest")})}},a$t=Gc(),vve="AWS_MAX_ATTEMPTS",Eve="max_attempts",Ajn={environmentVariableSelector:un(e=>{let t=e[vve];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${vve} mast be a number, got "${t}"`);return r},"environmentVariableSelector"),configFileSelector:un(e=>{let t=e[Eve];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Eve} mast be a number, got "${t}"`);return r},"configFileSelector"),default:Qs.DEFAULT_MAX_ATTEMPTS},xjn=un(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,a$t.normalizeProvider)(n??Qs.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:un(async()=>t||(await(0,a$t.normalizeProvider)(r)()===Qs.RETRY_MODES.ADAPTIVE?new Qs.AdaptiveRetryStrategy(s):new Qs.StandardRetryStrategy(s)),"retryStrategy")})},"resolveRetryConfig"),p$t="AWS_RETRY_MODE",g$t="retry_mode",Pjn={environmentVariableSelector:un(e=>e[p$t],"environmentVariableSelector"),configFileSelector:un(e=>e[g$t],"configFileSelector"),default:Qs.DEFAULT_RETRY_MODE},h$t=un(()=>e=>async t=>{let{request:r}=t;return CR.HttpRequest.isInstance(r)&&(delete r.headers[Qs.INVOCATION_ID_HEADER],delete r.headers[Qs.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),y$t={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Rjn=un(e=>({applyToStack:un(t=>{t.addRelativeTo(h$t(),y$t)},"applyToStack")}),"getOmitRetryHeadersPlugin"),Tjn=tr(),Ijn=o$t(),_$t=un(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(Ojn(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,u=CR.HttpRequest.isInstance(d);for(u&&(d.headers[Qs.INVOCATION_ID_HEADER]=(0,l$t.v4)());;)try{u&&(d.headers[Qs.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:m,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:m,output:p}}catch(m){let p=Njn(m);if(a=m$t(m),u&&(0,Ijn.isStreamingPayload)(d))throw(r.logger instanceof Tjn.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let g=o.getRetryDelay();l+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),Ojn=un(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),Njn=un(e=>{let t={error:e,errorType:Djn(e)},r=v$t(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Djn=un(e=>(0,AS.isThrottlingError)(e)?"THROTTLING":(0,AS.isTransientError)(e)?"TRANSIENT":(0,AS.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),S$t={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},kjn=un(e=>({applyToStack:un(t=>{t.add(_$t(e),S$t)},"applyToStack")}),"getRetryPlugin"),v$t=un(e=>{if(!CR.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var bve=E(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.resolveHttpAuthSchemeConfig=xS.defaultSQSHttpAuthSchemeProvider=xS.defaultSQSHttpAuthSchemeParametersProvider=void 0;var Mjn=(To(),F(Wf)),Cve=Gc(),Ljn=async(e,t,r)=>({operation:(0,Cve.getSmithyContext)(t).operation,region:await(0,Cve.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});xS.defaultSQSHttpAuthSchemeParametersProvider=Ljn;function Ujn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Fjn=e=>{let t=[];switch(e.operation){default:t.push(Ujn(e))}return t};xS.defaultSQSHttpAuthSchemeProvider=Fjn;var Bjn=e=>{let t=(0,Mjn.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Cve.normalizeProvider)(e.authSchemePreference??[])})};xS.resolveHttpAuthSchemeConfig=Bjn});var k5={};ct(k5,{__addDisposableResource:()=>G$t,__assign:()=>O5,__asyncDelegator:()=>F$t,__asyncGenerator:()=>U$t,__asyncValues:()=>B$t,__await:()=>bR,__awaiter:()=>O$t,__classPrivateFieldGet:()=>z$t,__classPrivateFieldIn:()=>V$t,__classPrivateFieldSet:()=>H$t,__createBinding:()=>D5,__decorate:()=>w$t,__disposeResources:()=>W$t,__esDecorate:()=>x$t,__exportStar:()=>D$t,__extends:()=>C$t,__generator:()=>N$t,__importDefault:()=>$$t,__importStar:()=>j$t,__makeTemplateObject:()=>q$t,__metadata:()=>I$t,__param:()=>A$t,__propKey:()=>R$t,__read:()=>xve,__rest:()=>b$t,__rewriteRelativeImportExtension:()=>K$t,__runInitializers:()=>P$t,__setFunctionName:()=>T$t,__spread:()=>k$t,__spreadArray:()=>L$t,__spreadArrays:()=>M$t,__values:()=>N5,default:()=>$jn});function C$t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wve(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function b$t(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function w$t(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function A$t(e,t){return function(r,n){t(r,n,e)}}function x$t(e,t,r,n,s,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,m=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var b=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(u=o(b.get))&&(d.get=u),(u=o(b.set))&&(d.set=u),(u=o(b.init))&&s.unshift(u)}else(u=o(b))&&(a==="field"?s.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),m=!0}function P$t(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function R$t(e){return typeof e=="symbol"?e:"".concat(e)}function T$t(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function I$t(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function O$t(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{l(n.next(d))}catch(u){o(u)}}function c(d){try{l(n.throw(d))}catch(u){o(u)}}function l(d){d.done?i(d.value):s(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function N$t(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function D$t(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&D5(t,e,r)}function N5(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xve(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function k$t(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xve(arguments[t]));return e}function M$t(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function L$t(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function bR(e){return this instanceof bR?(this.v=e,this):new bR(e)}function U$t(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,u)}}function a(p,g){n[p]&&(s[p]=function(y){return new Promise(function(b,w){i.push([p,y,b,w])>1||c(p,y)})},g&&(s[p]=g(s[p])))}function c(p,g){try{l(n[p](g))}catch(y){m(i[0][3],y)}}function l(p){p.value instanceof bR?Promise.resolve(p.value.v).then(d,u):m(i[0][2],p)}function d(p){c("next",p)}function u(p){c("throw",p)}function m(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function F$t(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:bR(e[s](o)),done:!1}:i?i(o):o}:i}}function B$t(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof N5=="function"?N5(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function q$t(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function j$t(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ave(e),n=0;n<r.length;n++)r[n]!=="default"&&D5(t,e,r[n]);return qjn(t,e),t}function $$t(e){return e&&e.__esModule?e:{default:e}}function z$t(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function H$t(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function V$t(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function G$t(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function W$t(e){function t(i){e.error=e.hasError?new jjn(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function K$t(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var wve,O5,D5,qjn,Ave,jjn,$jn,M5=_(()=>{wve=function(e,t){return wve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},wve(e,t)};O5=function(){return O5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},O5.apply(this,arguments)};D5=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};qjn=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ave=function(e){return Ave=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ave(e)};jjn=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};$jn={__extends:C$t,__assign:O5,__rest:b$t,__decorate:w$t,__param:A$t,__esDecorate:x$t,__runInitializers:P$t,__propKey:R$t,__setFunctionName:T$t,__metadata:I$t,__awaiter:O$t,__generator:N$t,__createBinding:D5,__exportStar:D$t,__values:N5,__read:xve,__spread:k$t,__spreadArrays:M$t,__spreadArray:L$t,__await:bR,__asyncGenerator:U$t,__asyncDelegator:F$t,__asyncValues:B$t,__makeTemplateObject:q$t,__importStar:j$t,__importDefault:$$t,__classPrivateFieldGet:z$t,__classPrivateFieldSet:H$t,__classPrivateFieldIn:V$t,__addDisposableResource:G$t,__disposeResources:W$t,__rewriteRelativeImportExtension:K$t}});var X$t=E((rGs,zjn)=>{zjn.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.891.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/credential-provider-node":"3.891.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-sdk-sqs":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/md5-js":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var Pve=E((nGs,nzt)=>{"use strict";var L5=Object.defineProperty,Hjn=Object.getOwnPropertyDescriptor,Vjn=Object.getOwnPropertyNames,Gjn=Object.prototype.hasOwnProperty,Wjn=(e,t)=>L5(e,"name",{value:t,configurable:!0}),Kjn=(e,t)=>{for(var r in t)L5(e,r,{get:t[r],enumerable:!0})},Xjn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vjn(t))!Gjn.call(e,s)&&s!==r&&L5(e,s,{get:()=>t[s],enumerable:!(n=Hjn(t,s))||n.enumerable});return e},Jjn=e=>Xjn(L5({},"__esModule",{value:!0}),e),J$t={};Kjn(J$t,{ENV_ACCOUNT_ID:()=>rzt,ENV_CREDENTIAL_SCOPE:()=>tzt,ENV_EXPIRATION:()=>ezt,ENV_KEY:()=>Q$t,ENV_SECRET:()=>Y$t,ENV_SESSION:()=>Z$t,fromEnv:()=>Zjn});nzt.exports=Jjn(J$t);var Qjn=(vm(),F(mS)),Yjn=gc(),Q$t="AWS_ACCESS_KEY_ID",Y$t="AWS_SECRET_ACCESS_KEY",Z$t="AWS_SESSION_TOKEN",ezt="AWS_CREDENTIAL_EXPIRATION",tzt="AWS_CREDENTIAL_SCOPE",rzt="AWS_ACCOUNT_ID",Zjn=Wjn(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Q$t],r=process.env[Y$t],n=process.env[Z$t],s=process.env[ezt],i=process.env[tzt],o=process.env[rzt];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,Qjn.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Yjn.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var nU=E((sGs,yzt)=>{var B5=Object.defineProperty,e1n=Object.getOwnPropertyDescriptor,t1n=Object.getOwnPropertyNames,r1n=Object.prototype.hasOwnProperty,Xn=(e,t)=>B5(e,"name",{value:t,configurable:!0}),n1n=(e,t)=>{for(var r in t)B5(e,r,{get:t[r],enumerable:!0})},s1n=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of t1n(t))!r1n.call(e,s)&&s!==r&&B5(e,s,{get:()=>t[s],enumerable:!(n=e1n(t,s))||n.enumerable});return e},i1n=e=>s1n(B5({},"__esModule",{value:!0}),e),azt={};n1n(azt,{DEFAULT_MAX_RETRIES:()=>uzt,DEFAULT_TIMEOUT:()=>dzt,ENV_CMDS_AUTH_TOKEN:()=>Ive,ENV_CMDS_FULL_URI:()=>U5,ENV_CMDS_RELATIVE_URI:()=>F5,Endpoint:()=>fzt,fromContainerMetadata:()=>l1n,fromInstanceMetadata:()=>I1n,getInstanceMetadataEndpoint:()=>gzt,httpRequest:()=>wR,providerConfigFromInit:()=>Ove});yzt.exports=i1n(azt);var o1n=require("url"),Jf=gc(),a1n=require("buffer"),c1n=require("http");function wR(e){return new Promise((t,r)=>{let n=(0,c1n.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Jf.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Jf.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Jf.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(a1n.Buffer.concat(o)),n.destroy()})}),n.end()})}Xn(wR,"httpRequest");var czt=Xn(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),lzt=Xn(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),dzt=1e3,uzt=0,Ove=Xn(({maxRetries:e=uzt,timeout:t=dzt})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Tve=Xn((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),U5="AWS_CONTAINER_CREDENTIALS_FULL_URI",F5="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ive="AWS_CONTAINER_AUTHORIZATION_TOKEN",l1n=Xn((e={})=>{let{timeout:t,maxRetries:r}=Ove(e);return()=>Tve(async()=>{let n=await p1n({logger:e.logger}),s=JSON.parse(await d1n(t,n));if(!czt(s))throw new Jf.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return lzt(s)},r)},"fromContainerMetadata"),d1n=Xn(async(e,t)=>(process.env[Ive]&&(t.headers={...t.headers,Authorization:process.env[Ive]}),(await wR({...t,timeout:e})).toString()),"requestFromEcsImds"),u1n="169.254.170.2",m1n={localhost:!0,"127.0.0.1":!0},f1n={"http:":!0,"https:":!0},p1n=Xn(async({logger:e})=>{if(process.env[F5])return{hostname:u1n,path:process.env[F5]};if(process.env[U5]){let t=(0,o1n.parse)(process.env[U5]);if(!t.hostname||!(t.hostname in m1n))throw new Jf.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in f1n))throw new Jf.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Jf.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${F5} or ${U5} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),g1n=class mzt extends Jf.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,mzt.prototype)}static{Xn(this,"InstanceMetadataV1FallbackError")}},Nve=bS(),h1n=lS(),fzt=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(fzt||{}),y1n="AWS_EC2_METADATA_SERVICE_ENDPOINT",_1n="ec2_metadata_service_endpoint",S1n={environmentVariableSelector:Xn(e=>e[y1n],"environmentVariableSelector"),configFileSelector:Xn(e=>e[_1n],"configFileSelector"),default:void 0},pzt=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(pzt||{}),v1n="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",E1n="ec2_metadata_service_endpoint_mode",C1n={environmentVariableSelector:Xn(e=>e[v1n],"environmentVariableSelector"),configFileSelector:Xn(e=>e[E1n],"configFileSelector"),default:"IPv4"},gzt=Xn(async()=>(0,h1n.parseUrl)(await b1n()||await w1n()),"getInstanceMetadataEndpoint"),b1n=Xn(async()=>(0,Nve.loadConfig)(S1n)(),"getFromEndpointConfig"),w1n=Xn(async()=>{let e=await(0,Nve.loadConfig)(C1n)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(pzt)}`)}},"getFromEndpointModeConfig"),A1n=5*60,x1n=5*60,P1n="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",szt=Xn((e,t)=>{let r=A1n+Math.floor(Math.random()*x1n),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+P1n);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),R1n=Xn((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=szt(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=szt(n,r);else throw i}return n=s,s}},"staticStabilityProvider"),hzt="/latest/meta-data/iam/security-credentials/",T1n="/latest/api/token",Rve="AWS_EC2_METADATA_V1_DISABLED",izt="ec2_metadata_v1_disabled",ozt="x-aws-ec2-metadata-token",I1n=Xn((e={})=>R1n(O1n(e),{logger:e.logger}),"fromInstanceMetadata"),O1n=Xn((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=Ove(e),o=Xn(async(a,c)=>{if(t||c.headers?.[ozt]==null){let u=!1,m=!1,p=await(0,Nve.loadConfig)({environmentVariableSelector:Xn(g=>{let y=g[Rve];if(m=!!y&&y!=="false",y===void 0)throw new Jf.CredentialsProviderError(`${Rve} not set in env, checking config file next.`,{logger:e.logger});return m},"environmentVariableSelector"),configFileSelector:Xn(g=>{let y=g[izt];return u=!!y&&y!=="false",u},"configFileSelector"),default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${izt})`),m&&g.push(`process environment variable (${Rve})`),new g1n(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let d=(await Tve(async()=>{let u;try{u=await D1n(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return u},a)).trim();return Tve(async()=>{let u;try{u=await k1n(d,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return u},a)},"getCredentials");return async()=>{let a=await gzt();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await N1n({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[ozt]:c},timeout:s})}}},"getInstanceMetadataProvider"),N1n=Xn(async e=>wR({...e,path:T1n,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),D1n=Xn(async e=>(await wR({...e,path:hzt})).toString(),"getProfile"),k1n=Xn(async(e,t,r)=>{let n=JSON.parse((await wR({...t,path:hzt+e})).toString());if(!czt(n))throw new Jf.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return lzt(n)},"getCredentialsFromProfile")});var _zt=E(q5=>{"use strict";Object.defineProperty(q5,"__esModule",{value:!0});q5.checkUrl=void 0;var M1n=gc(),L1n="169.254.170.2",U1n="169.254.170.23",F1n="[fd00:ec2::23]",B1n=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===L1n||e.hostname===U1n||e.hostname===F1n)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new M1n.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};q5.checkUrl=B1n});var Szt=E(j5=>{"use strict";Object.defineProperty(j5,"__esModule",{value:!0});j5.createGetRequest=z1n;j5.getCredentials=H1n;var Dve=gc(),q1n=Dn(),j1n=tr(),$1n=Q6();function z1n(e){return new q1n.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function H1n(e,t){let n=await(0,$1n.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Dve.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,j1n.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Dve.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Dve.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var vzt=E($5=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});$5.retryWrapper=void 0;var V1n=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};$5.retryWrapper=V1n});var bzt=E(z5=>{"use strict";Object.defineProperty(z5,"__esModule",{value:!0});z5.fromHttp=void 0;var G1n=(M5(),F(k5)),W1n=(vm(),F(mS)),K1n=XC(),Ezt=gc(),X1n=G1n.__importDefault(require("fs/promises")),J1n=_zt(),Czt=Szt(),Q1n=vzt(),Y1n="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Z1n="http://169.254.170.2",e$n="AWS_CONTAINER_CREDENTIALS_FULL_URI",t$n="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",r$n="AWS_CONTAINER_AUTHORIZATION_TOKEN",n$n=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Y1n],n=e.awsContainerCredentialsFullUri??process.env[e$n],s=e.awsContainerAuthorizationToken??process.env[r$n],i=e.awsContainerAuthorizationTokenFile??process.env[t$n],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Z1n}${r}`;else throw new Ezt.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,J1n.checkUrl)(a,e.logger);let c=K1n.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Q1n.retryWrapper)(async()=>{let l=(0,Czt.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await X1n.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,Czt.getCredentials)(d.response).then(u=>(0,W1n.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new Ezt.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};z5.fromHttp=n$n});var kve=E(H5=>{"use strict";Object.defineProperty(H5,"__esModule",{value:!0});H5.fromHttp=void 0;var s$n=bzt();Object.defineProperty(H5,"fromHttp",{enumerable:!0,get:function(){return s$n.fromHttp}})});var Lve=E(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.resolveHttpAuthSchemeConfig=PS.defaultSSOHttpAuthSchemeProvider=PS.defaultSSOHttpAuthSchemeParametersProvider=void 0;var i$n=(To(),F(Wf)),Mve=Gc(),o$n=async(e,t,r)=>({operation:(0,Mve.getSmithyContext)(t).operation,region:await(0,Mve.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});PS.defaultSSOHttpAuthSchemeParametersProvider=o$n;function a$n(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function V5(e){return{schemeId:"smithy.api#noAuth"}}var c$n=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(V5(e));break}case"ListAccountRoles":{t.push(V5(e));break}case"ListAccounts":{t.push(V5(e));break}case"Logout":{t.push(V5(e));break}default:t.push(a$n(e))}return t};PS.defaultSSOHttpAuthSchemeProvider=c$n;var l$n=e=>{let t=(0,i$n.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Mve.normalizeProvider)(e.authSchemePreference??[])})};PS.resolveHttpAuthSchemeConfig=l$n});var wzt=E((uGs,d$n)=>{d$n.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.891.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var sU=E((mGs,Ozt)=>{"use strict";var W5=Object.defineProperty,u$n=Object.getOwnPropertyDescriptor,m$n=Object.getOwnPropertyNames,f$n=Object.prototype.hasOwnProperty,G5=(e,t)=>W5(e,"name",{value:t,configurable:!0}),p$n=(e,t)=>{for(var r in t)W5(e,r,{get:t[r],enumerable:!0})},g$n=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of m$n(t))!f$n.call(e,s)&&s!==r&&W5(e,s,{get:()=>t[s],enumerable:!(n=u$n(t,s))||n.enumerable});return e},h$n=e=>g$n(W5({},"__esModule",{value:!0}),e),xzt={};p$n(xzt,{NODE_APP_ID_CONFIG_OPTIONS:()=>E$n,UA_APP_ID_ENV_NAME:()=>Tzt,UA_APP_ID_INI_NAME:()=>Izt,createDefaultUserAgentProvider:()=>Rzt,crtAvailability:()=>Pzt,defaultUserAgent:()=>_$n});Ozt.exports=h$n(xzt);var Azt=require("os"),Uve=require("process"),Pzt={isCrtAvailable:!1},y$n=G5(()=>Pzt.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Rzt=G5(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,Azt.platform)()}`,(0,Azt.release)()],["lang/js"],["md/nodejs",`${Uve.versions.node}`]],s=y$n();s&&n.push(s),e&&n.push([`api/${e}`,t]),Uve.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Uve.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),_$n=Rzt,S$n=_R(),Tzt="AWS_SDK_UA_APP_ID",Izt="sdk_ua_app_id",v$n="sdk-ua-app-id",E$n={environmentVariableSelector:G5(e=>e[Tzt],"environmentVariableSelector"),configFileSelector:G5(e=>e[Izt]??e[v$n],"configFileSelector"),default:S$n.DEFAULT_UA_APP_ID}});var iU=E((fGs,Mzt)=>{var K5=Object.defineProperty,C$n=Object.getOwnPropertyDescriptor,b$n=Object.getOwnPropertyNames,w$n=Object.prototype.hasOwnProperty,Dzt=(e,t)=>K5(e,"name",{value:t,configurable:!0}),A$n=(e,t)=>{for(var r in t)K5(e,r,{get:t[r],enumerable:!0})},x$n=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of b$n(t))!w$n.call(e,s)&&s!==r&&K5(e,s,{get:()=>t[s],enumerable:!(n=C$n(t,s))||n.enumerable});return e},P$n=e=>x$n(K5({},"__esModule",{value:!0}),e),kzt={};A$n(kzt,{Hash:()=>I$n});Mzt.exports=P$n(kzt);var Fve=rR(),R$n=ws(),T$n=require("buffer"),Nzt=require("crypto"),I$n=class{static{Dzt(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,R$n.toUint8Array)(Bve(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Nzt.createHmac)(this.algorithmIdentifier,Bve(this.secret)):(0,Nzt.createHash)(this.algorithmIdentifier)}};function Bve(e,t){return T$n.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Fve.fromString)(e,t):ArrayBuffer.isView(e)?(0,Fve.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Fve.fromArrayBuffer)(e)}Dzt(Bve,"castSourceData")});var oU=E((gGs,Fzt)=>{var X5=Object.defineProperty,O$n=Object.getOwnPropertyDescriptor,N$n=Object.getOwnPropertyNames,D$n=Object.prototype.hasOwnProperty,k$n=(e,t)=>X5(e,"name",{value:t,configurable:!0}),M$n=(e,t)=>{for(var r in t)X5(e,r,{get:t[r],enumerable:!0})},L$n=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of N$n(t))!D$n.call(e,s)&&s!==r&&X5(e,s,{get:()=>t[s],enumerable:!(n=O$n(t,s))||n.enumerable});return e},U$n=e=>L$n(X5({},"__esModule",{value:!0}),e),Uzt={};M$n(Uzt,{calculateBodyLength:()=>F$n});Fzt.exports=U$n(Uzt);var Lzt=require("fs"),F$n=k$n(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Lzt.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Lzt.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Zzt=E(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});J5.ruleSet=void 0;var Xzt="required",Tu="fn",Iu="argv",PR="ref",Bzt=!0,qzt="isSet",aU="booleanEquals",AR="error",xR="endpoint",dh="tree",qve="PartitionResult",jve="getAttr",jzt={[Xzt]:!1,type:"String"},$zt={[Xzt]:!0,default:!1,type:"Boolean"},zzt={[PR]:"Endpoint"},Jzt={[Tu]:aU,[Iu]:[{[PR]:"UseFIPS"},!0]},Qzt={[Tu]:aU,[Iu]:[{[PR]:"UseDualStack"},!0]},Ru={},Hzt={[Tu]:jve,[Iu]:[{[PR]:qve},"supportsFIPS"]},Yzt={[PR]:qve},Vzt={[Tu]:aU,[Iu]:[!0,{[Tu]:jve,[Iu]:[Yzt,"supportsDualStack"]}]},Gzt=[Jzt],Wzt=[Qzt],Kzt=[{[PR]:"Region"}],B$n={version:"1.0",parameters:{Region:jzt,UseDualStack:$zt,UseFIPS:$zt,Endpoint:jzt},rules:[{conditions:[{[Tu]:qzt,[Iu]:[zzt]}],rules:[{conditions:Gzt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:AR},{conditions:Wzt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:AR},{endpoint:{url:zzt,properties:Ru,headers:Ru},type:xR}],type:dh},{conditions:[{[Tu]:qzt,[Iu]:Kzt}],rules:[{conditions:[{[Tu]:"aws.partition",[Iu]:Kzt,assign:qve}],rules:[{conditions:[Jzt,Qzt],rules:[{conditions:[{[Tu]:aU,[Iu]:[Bzt,Hzt]},Vzt],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ru,headers:Ru},type:xR}],type:dh},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:AR}],type:dh},{conditions:Gzt,rules:[{conditions:[{[Tu]:aU,[Iu]:[Hzt,Bzt]}],rules:[{conditions:[{[Tu]:"stringEquals",[Iu]:[{[Tu]:jve,[Iu]:[Yzt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ru,headers:Ru},type:xR},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ru,headers:Ru},type:xR}],type:dh},{error:"FIPS is enabled but this partition does not support FIPS",type:AR}],type:dh},{conditions:Wzt,rules:[{conditions:[Vzt],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ru,headers:Ru},type:xR}],type:dh},{error:"DualStack is enabled but this partition does not support DualStack",type:AR}],type:dh},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ru,headers:Ru},type:xR}],type:dh}],type:dh},{error:"Invalid Configuration: Missing Region",type:AR}]};J5.ruleSet=B$n});var eHt=E(Q5=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});Q5.defaultEndpointResolver=void 0;var q$n=lR(),$ve=cR(),j$n=Zzt(),$$n=new $ve.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),z$n=(e,t={})=>$$n.get(e,()=>(0,$ve.resolveEndpoint)(j$n.ruleSet,{endpointParams:e,logger:t.logger}));Q5.defaultEndpointResolver=z$n;$ve.customEndpointFunctions.aws=q$n.awsEndpointFunctions});var nHt=E(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.getRuntimeConfig=void 0;var H$n=(To(),F(Wf)),V$n=(Xc(),F(aR)),G$n=tr(),W$n=lS(),tHt=Xo(),rHt=ws(),K$n=Lve(),X$n=eHt(),J$n=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??tHt.fromBase64,base64Encoder:e?.base64Encoder??tHt.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??X$n.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??K$n.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new H$n.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new V$n.NoAuthSigner}],logger:e?.logger??new G$n.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??W$n.parseUrl,utf8Decoder:e?.utf8Decoder??rHt.fromUtf8,utf8Encoder:e?.utf8Encoder??rHt.toUtf8});Y5.getRuntimeConfig=J$n});var dU=E((SGs,lHt)=>{var Q$n=Object.create,lU=Object.defineProperty,Y$n=Object.getOwnPropertyDescriptor,Z$n=Object.getOwnPropertyNames,ezn=Object.getPrototypeOf,tzn=Object.prototype.hasOwnProperty,cU=(e,t)=>lU(e,"name",{value:t,configurable:!0}),rzn=(e,t)=>{for(var r in t)lU(e,r,{get:t[r],enumerable:!0})},aHt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Z$n(t))!tzn.call(e,s)&&s!==r&&lU(e,s,{get:()=>t[s],enumerable:!(n=Y$n(t,s))||n.enumerable});return e},nzn=(e,t,r)=>(r=e!=null?Q$n(ezn(e)):{},aHt(t||!e||!e.__esModule?lU(r,"default",{value:e,enumerable:!0}):r,e)),szn=e=>aHt(lU({},"__esModule",{value:!0}),e),cHt={};rzn(cHt,{resolveDefaultsModeConfig:()=>pzn});lHt.exports=szn(cHt);var izn=Xf(),sHt=bS(),ozn=gc(),azn="AWS_EXECUTION_ENV",iHt="AWS_REGION",oHt="AWS_DEFAULT_REGION",czn="AWS_EC2_METADATA_DISABLED",lzn=["in-region","cross-region","mobile","standard","legacy"],dzn="/latest/meta-data/placement/region",uzn="AWS_DEFAULTS_MODE",mzn="defaults_mode",fzn={environmentVariableSelector:cU(e=>e[uzn],"environmentVariableSelector"),configFileSelector:cU(e=>e[mzn],"configFileSelector"),default:"legacy"},pzn=cU(({region:e=(0,sHt.loadConfig)(izn.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,sHt.loadConfig)(fzn)}={})=>(0,ozn.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return gzn(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${lzn.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),gzn=cU(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await hzn();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),hzn=cU(async()=>{if(process.env[azn]&&(process.env[iHt]||process.env[oHt]))return process.env[iHt]??process.env[oHt];if(!process.env[czn])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>nzn(nU())),r=await e();return(await t({...r,path:dzn})).toString()}catch{}},"inferPhysicalRegion")});var pHt=E(eX=>{"use strict";Object.defineProperty(eX,"__esModule",{value:!0});eX.getRuntimeConfig=void 0;var yzn=(M5(),F(k5)),_zn=yzn.__importDefault(wzt()),dHt=(To(),F(Wf)),uHt=sU(),Z5=Xf(),Szn=iU(),mHt=lh(),_b=bS(),fHt=XC(),vzn=oU(),Ezn=ER(),Czn=nHt(),bzn=tr(),wzn=dU(),Azn=tr(),xzn=e=>{(0,Azn.emitWarningIfUnsupportedVersion)(process.version);let t=(0,wzn.resolveDefaultsModeConfig)(e),r=()=>t().then(bzn.loadConfigsForDefaultMode),n=(0,Czn.getRuntimeConfig)(e);(0,dHt.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,_b.loadConfig)(dHt.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??vzn.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,uHt.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:_zn.default.version}),maxAttempts:e?.maxAttempts??(0,_b.loadConfig)(mHt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,_b.loadConfig)(Z5.NODE_REGION_CONFIG_OPTIONS,{...Z5.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:fHt.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,_b.loadConfig)({...mHt.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Ezn.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Szn.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??fHt.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,_b.loadConfig)(Z5.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,_b.loadConfig)(Z5.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,_b.loadConfig)(uHt.NODE_APP_ID_CONFIG_OPTIONS,s)}};eX.getRuntimeConfig=xzn});var uU=E((EGs,vHt)=>{"use strict";var tX=Object.defineProperty,Pzn=Object.getOwnPropertyDescriptor,Rzn=Object.getOwnPropertyNames,Tzn=Object.prototype.hasOwnProperty,Qf=(e,t)=>tX(e,"name",{value:t,configurable:!0}),Izn=(e,t)=>{for(var r in t)tX(e,r,{get:t[r],enumerable:!0})},Ozn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rzn(t))!Tzn.call(e,s)&&s!==r&&tX(e,s,{get:()=>t[s],enumerable:!(n=Pzn(t,s))||n.enumerable});return e},Nzn=e=>Ozn(tX({},"__esModule",{value:!0}),e),hHt={};Izn(hHt,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Lzn,NODE_REGION_CONFIG_OPTIONS:()=>Mzn,REGION_ENV_NAME:()=>yHt,REGION_INI_NAME:()=>_Ht,getAwsRegionExtensionConfiguration:()=>Dzn,resolveAwsRegionExtensionConfiguration:()=>kzn,resolveRegionConfig:()=>Uzn});vHt.exports=Nzn(hHt);var Dzn=Qf(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),kzn=Qf(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),yHt="AWS_REGION",_Ht="region",Mzn={environmentVariableSelector:Qf(e=>e[yHt],"environmentVariableSelector"),configFileSelector:Qf(e=>e[_Ht],"configFileSelector"),default:Qf(()=>{throw new Error("Region is missing")},"default")},Lzn={preferredFile:"credentials"},SHt=Qf(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),gHt=Qf(e=>SHt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Uzn=Qf(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Qf(async()=>{if(typeof t=="string")return gHt(t);let n=await t();return gHt(n)},"region"),useFipsEndpoint:Qf(async()=>{let n=typeof t=="string"?t:await t();return SHt(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var ZHt=E((CGs,YHt)=>{"use strict";var rX=Object.defineProperty,Fzn=Object.getOwnPropertyDescriptor,Bzn=Object.getOwnPropertyNames,qzn=Object.prototype.hasOwnProperty,vr=(e,t)=>rX(e,"name",{value:t,configurable:!0}),jzn=(e,t)=>{for(var r in t)rX(e,r,{get:t[r],enumerable:!0})},$zn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bzn(t))!qzn.call(e,s)&&s!==r&&rX(e,s,{get:()=>t[s],enumerable:!(n=Fzn(t,s))||n.enumerable});return e},zzn=e=>$zn(rX({},"__esModule",{value:!0}),e),PHt={};jzn(PHt,{GetRoleCredentialsCommand:()=>XHt,GetRoleCredentialsRequestFilterSensitiveLog:()=>UHt,GetRoleCredentialsResponseFilterSensitiveLog:()=>BHt,InvalidRequestException:()=>THt,ListAccountRolesCommand:()=>zve,ListAccountRolesRequestFilterSensitiveLog:()=>qHt,ListAccountsCommand:()=>Hve,ListAccountsRequestFilterSensitiveLog:()=>jHt,LogoutCommand:()=>JHt,LogoutRequestFilterSensitiveLog:()=>$Ht,ResourceNotFoundException:()=>OHt,RoleCredentialsFilterSensitiveLog:()=>FHt,SSO:()=>QHt,SSOClient:()=>sX,SSOServiceException:()=>RR,TooManyRequestsException:()=>DHt,UnauthorizedException:()=>MHt,__Client:()=>ze.Client,paginateListAccountRoles:()=>gHn,paginateListAccounts:()=>hHn});YHt.exports=zzn(PHt);var EHt=mL(),Hzn=fL(),Vzn=pL(),CHt=_R(),Gzn=Xf(),uh=(Xc(),F(aR)),Wzn=eU(),fU=wS(),bHt=lh(),wHt=Lve(),Kzn=vr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),nX={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Xzn=pHt(),AHt=uU(),xHt=Dn(),ze=tr(),Jzn=vr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Qzn=vr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Yzn=vr((e,t)=>{let r=Object.assign((0,AHt.getAwsRegionExtensionConfiguration)(e),(0,ze.getDefaultExtensionConfiguration)(e),(0,xHt.getHttpHandlerExtensionConfiguration)(e),Jzn(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,AHt.resolveAwsRegionExtensionConfiguration)(r),(0,ze.resolveDefaultRuntimeConfig)(r),(0,xHt.resolveHttpHandlerRuntimeConfig)(r),Qzn(r))},"resolveRuntimeExtensions"),sX=class extends ze.Client{static{vr(this,"SSOClient")}config;constructor(...[e]){let t=(0,Xzn.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Kzn(t),n=(0,CHt.resolveUserAgentConfig)(r),s=(0,bHt.resolveRetryConfig)(n),i=(0,Gzn.resolveRegionConfig)(s),o=(0,EHt.resolveHostHeaderConfig)(i),a=(0,fU.resolveEndpointConfig)(o),c=(0,wHt.resolveHttpAuthSchemeConfig)(a),l=Yzn(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,CHt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,bHt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Wzn.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,EHt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Hzn.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Vzn.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,uh.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:wHt.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:vr(async d=>new uh.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,uh.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},iX=aS(),RR=class RHt extends ze.ServiceException{static{vr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,RHt.prototype)}},THt=class IHt extends RR{static{vr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,IHt.prototype)}},OHt=class NHt extends RR{static{vr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,NHt.prototype)}},DHt=class kHt extends RR{static{vr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,kHt.prototype)}},MHt=class LHt extends RR{static{vr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,LHt.prototype)}},UHt=vr(e=>({...e,...e.accessToken&&{accessToken:ze.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),FHt=vr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:ze.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:ze.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),BHt=vr(e=>({...e,...e.roleCredentials&&{roleCredentials:FHt(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),qHt=vr(e=>({...e,...e.accessToken&&{accessToken:ze.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),jHt=vr(e=>({...e,...e.accessToken&&{accessToken:ze.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),$Ht=vr(e=>({...e,...e.accessToken&&{accessToken:ze.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),mU=(To(),F(Wf)),Zzn=vr(async(e,t)=>{let r=(0,uh.requestBuilder)(e,t),n=(0,ze.map)({},ze.isSerializableHeaderValue,{[cX]:e[aX]});r.bp("/federation/credentials");let s=(0,ze.map)({[fHn]:[,(0,ze.expectNonNull)(e[mHn],"roleName")],[HHt]:[,(0,ze.expectNonNull)(e[zHt],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),eHn=vr(async(e,t)=>{let r=(0,uh.requestBuilder)(e,t),n=(0,ze.map)({},ze.isSerializableHeaderValue,{[cX]:e[aX]});r.bp("/assignment/roles");let s=(0,ze.map)({[KHt]:[,e[WHt]],[GHt]:[()=>e.maxResults!==void 0,()=>e[VHt].toString()],[HHt]:[,(0,ze.expectNonNull)(e[zHt],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),tHn=vr(async(e,t)=>{let r=(0,uh.requestBuilder)(e,t),n=(0,ze.map)({},ze.isSerializableHeaderValue,{[cX]:e[aX]});r.bp("/assignment/accounts");let s=(0,ze.map)({[KHt]:[,e[WHt]],[GHt]:[()=>e.maxResults!==void 0,()=>e[VHt].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),rHn=vr(async(e,t)=>{let r=(0,uh.requestBuilder)(e,t),n=(0,ze.map)({},ze.isSerializableHeaderValue,{[cX]:e[aX]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),nHn=vr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oX(e,t);let r=(0,ze.map)({$metadata:RS(e)}),n=(0,ze.expectNonNull)((0,ze.expectObject)(await(0,mU.parseJsonBody)(e.body,t)),"body"),s=(0,ze.take)(n,{roleCredentials:ze._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),sHn=vr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oX(e,t);let r=(0,ze.map)({$metadata:RS(e)}),n=(0,ze.expectNonNull)((0,ze.expectObject)(await(0,mU.parseJsonBody)(e.body,t)),"body"),s=(0,ze.take)(n,{nextToken:ze.expectString,roleList:ze._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),iHn=vr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oX(e,t);let r=(0,ze.map)({$metadata:RS(e)}),n=(0,ze.expectNonNull)((0,ze.expectObject)(await(0,mU.parseJsonBody)(e.body,t)),"body"),s=(0,ze.take)(n,{accountList:ze._json,nextToken:ze.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),oHn=vr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oX(e,t);let r=(0,ze.map)({$metadata:RS(e)});return await(0,ze.collectBody)(e.body,t),r},"de_LogoutCommand"),oX=vr(async(e,t)=>{let r={...e,body:await(0,mU.parseJsonErrorBody)(e.body,t)},n=(0,mU.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await cHn(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await lHn(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dHn(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await uHn(r,t);default:let s=r.body;return aHn({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),aHn=(0,ze.withBaseException)(RR),cHn=vr(async(e,t)=>{let r=(0,ze.map)({}),n=e.body,s=(0,ze.take)(n,{message:ze.expectString});Object.assign(r,s);let i=new THt({$metadata:RS(e),...r});return(0,ze.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),lHn=vr(async(e,t)=>{let r=(0,ze.map)({}),n=e.body,s=(0,ze.take)(n,{message:ze.expectString});Object.assign(r,s);let i=new OHt({$metadata:RS(e),...r});return(0,ze.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),dHn=vr(async(e,t)=>{let r=(0,ze.map)({}),n=e.body,s=(0,ze.take)(n,{message:ze.expectString});Object.assign(r,s);let i=new DHt({$metadata:RS(e),...r});return(0,ze.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),uHn=vr(async(e,t)=>{let r=(0,ze.map)({}),n=e.body,s=(0,ze.take)(n,{message:ze.expectString});Object.assign(r,s);let i=new MHt({$metadata:RS(e),...r});return(0,ze.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),RS=vr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),zHt="accountId",aX="accessToken",HHt="account_id",VHt="maxResults",GHt="max_result",WHt="nextToken",KHt="next_token",mHn="roleName",fHn="role_name",cX="x-amz-sso_bearer_token",XHt=class extends ze.Command.classBuilder().ep(nX).m(function(e,t,r,n){return[(0,iX.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fU.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(UHt,BHt).ser(Zzn).de(nHn).build(){static{vr(this,"GetRoleCredentialsCommand")}},zve=class extends ze.Command.classBuilder().ep(nX).m(function(e,t,r,n){return[(0,iX.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fU.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(qHt,void 0).ser(eHn).de(sHn).build(){static{vr(this,"ListAccountRolesCommand")}},Hve=class extends ze.Command.classBuilder().ep(nX).m(function(e,t,r,n){return[(0,iX.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fU.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(jHt,void 0).ser(tHn).de(iHn).build(){static{vr(this,"ListAccountsCommand")}},JHt=class extends ze.Command.classBuilder().ep(nX).m(function(e,t,r,n){return[(0,iX.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fU.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f($Ht,void 0).ser(rHn).de(oHn).build(){static{vr(this,"LogoutCommand")}},pHn={GetRoleCredentialsCommand:XHt,ListAccountRolesCommand:zve,ListAccountsCommand:Hve,LogoutCommand:JHt},QHt=class extends sX{static{vr(this,"SSO")}};(0,ze.createAggregatedClient)(pHn,QHt);var gHn=(0,uh.createPaginator)(sX,zve,"nextToken","nextToken","maxResults"),hHn=(0,uh.createPaginator)(sX,Hve,"nextToken","nextToken","maxResults")});function yHn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function _Hn(e){return{schemeId:"smithy.api#noAuth"}}var pU,eVt,tVt,rVt,Vve=_(()=>{To();pU=C(Gc()),eVt=async(e,t,r)=>({operation:(0,pU.getSmithyContext)(t).operation,region:await(0,pU.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tVt=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(_Hn(e));break}default:t.push(yHn(e))}return t},rVt=e=>{let t=lb(e);return Object.assign(t,{authSchemePreference:(0,pU.normalizeProvider)(e.authSchemePreference??[])})}});var nVt,sVt,Gve=_(()=>{nVt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),sVt={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var lX,Wve=_(()=>{lX={name:"@aws-sdk/nested-clients",version:"3.891.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var pVt,Nu,Du,OR,iVt,gU,TR,IR,mh,Kve,Xve,oVt,aVt,cVt,gVt,hVt,Ou,lVt,yVt,dVt,uVt,mVt,fVt,vHn,_Vt,SVt=_(()=>{pVt="required",Nu="fn",Du="argv",OR="ref",iVt="isSet",gU="booleanEquals",TR="error",IR="endpoint",mh="tree",Kve="PartitionResult",Xve="getAttr",oVt={[pVt]:!1,type:"String"},aVt={[pVt]:!0,default:!1,type:"Boolean"},cVt={[OR]:"Endpoint"},gVt={[Nu]:gU,[Du]:[{[OR]:"UseFIPS"},!0]},hVt={[Nu]:gU,[Du]:[{[OR]:"UseDualStack"},!0]},Ou={},lVt={[Nu]:Xve,[Du]:[{[OR]:Kve},"supportsFIPS"]},yVt={[OR]:Kve},dVt={[Nu]:gU,[Du]:[!0,{[Nu]:Xve,[Du]:[yVt,"supportsDualStack"]}]},uVt=[gVt],mVt=[hVt],fVt=[{[OR]:"Region"}],vHn={version:"1.0",parameters:{Region:oVt,UseDualStack:aVt,UseFIPS:aVt,Endpoint:oVt},rules:[{conditions:[{[Nu]:iVt,[Du]:[cVt]}],rules:[{conditions:uVt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:TR},{conditions:mVt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:TR},{endpoint:{url:cVt,properties:Ou,headers:Ou},type:IR}],type:mh},{conditions:[{[Nu]:iVt,[Du]:fVt}],rules:[{conditions:[{[Nu]:"aws.partition",[Du]:fVt,assign:Kve}],rules:[{conditions:[gVt,hVt],rules:[{conditions:[{[Nu]:gU,[Du]:[!0,lVt]},dVt],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ou,headers:Ou},type:IR}],type:mh},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:TR}],type:mh},{conditions:uVt,rules:[{conditions:[{[Nu]:gU,[Du]:[lVt,!0]}],rules:[{conditions:[{[Nu]:"stringEquals",[Du]:[{[Nu]:Xve,[Du]:[yVt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ou,headers:Ou},type:IR},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ou,headers:Ou},type:IR}],type:mh},{error:"FIPS is enabled but this partition does not support FIPS",type:TR}],type:mh},{conditions:mVt,rules:[{conditions:[dVt],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ou,headers:Ou},type:IR}],type:mh},{error:"DualStack is enabled but this partition does not support DualStack",type:TR}],type:mh},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ou,headers:Ou},type:IR}],type:mh}],type:mh},{error:"Invalid Configuration: Missing Region",type:TR}]},_Vt=vHn});var vVt,NR,EHn,EVt,CVt=_(()=>{vVt=C(lR()),NR=C(cR());SVt();EHn=new NR.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),EVt=(e,t={})=>EHn.get(e,()=>(0,NR.resolveEndpoint)(_Vt,{endpointParams:e,logger:t.logger}));NR.customEndpointFunctions.aws=vVt.awsEndpointFunctions});var bVt,wVt,dX,uX,AVt,xVt=_(()=>{To();Xc();bVt=C(tr()),wVt=C(lS()),dX=C(Xo()),uX=C(ws());Vve();CVt();AVt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??dX.fromBase64,base64Encoder:e?.base64Encoder??dX.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??EVt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??tVt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Qc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eh}],logger:e?.logger??new bVt.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??wVt.parseUrl,utf8Decoder:e?.utf8Decoder??uX.fromUtf8,utf8Encoder:e?.utf8Encoder??uX.toUtf8})});var mX,IS,PVt,fX,TS,pX,RVt,TVt,IVt,OVt,NVt,DVt,kVt=_(()=>{Wve();To();mX=C(sU()),IS=C(Xf()),PVt=C(iU()),fX=C(lh()),TS=C(bS()),pX=C(XC()),RVt=C(oU()),TVt=C(ER());xVt();IVt=C(tr()),OVt=C(dU()),NVt=C(tr()),DVt=e=>{(0,NVt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,OVt.resolveDefaultsModeConfig)(e),r=()=>t().then(IVt.loadConfigsForDefaultMode),n=AVt(e);dR(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,TS.loadConfig)(fR,s),bodyLengthChecker:e?.bodyLengthChecker??RVt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,mX.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lX.version}),maxAttempts:e?.maxAttempts??(0,TS.loadConfig)(fX.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,TS.loadConfig)(IS.NODE_REGION_CONFIG_OPTIONS,{...IS.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:pX.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,TS.loadConfig)({...fX.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||TVt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??PVt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??pX.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,TS.loadConfig)(IS.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,TS.loadConfig)(IS.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,TS.loadConfig)(mX.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var MVt,LVt,UVt=_(()=>{MVt=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},LVt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var gX,hX,yX,FVt,BVt=_(()=>{gX=C(uU()),hX=C(Dn()),yX=C(tr());UVt();FVt=(e,t)=>{let r=Object.assign((0,gX.getAwsRegionExtensionConfiguration)(e),(0,yX.getDefaultExtensionConfiguration)(e),(0,hX.getHttpHandlerExtensionConfiguration)(e),MVt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,gX.resolveAwsRegionExtensionConfiguration)(r),(0,yX.resolveDefaultRuntimeConfig)(r),(0,hX.resolveHttpHandlerRuntimeConfig)(r),LVt(r))}});var _X,qVt,jVt,SX,$Vt,zVt,HVt,vX,Jve,hU,Qve=_(()=>{_X=C(mL()),qVt=C(fL()),jVt=C(pL()),SX=C(_R()),$Vt=C(Xf());Xc();zVt=C(eU()),HVt=C(wS()),vX=C(lh()),Jve=C(tr());Vve();Gve();kVt();BVt();hU=class extends Jve.Client{config;constructor(...[t]){let r=DVt(t||{});super(r),this.initConfig=r;let n=nVt(r),s=(0,SX.resolveUserAgentConfig)(n),i=(0,vX.resolveRetryConfig)(s),o=(0,$Vt.resolveRegionConfig)(i),a=(0,_X.resolveHostHeaderConfig)(o),c=(0,HVt.resolveEndpointConfig)(a),l=rVt(c),d=FVt(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,SX.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,vX.getRetryPlugin)(this.config)),this.middlewareStack.use((0,zVt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,_X.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,qVt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,jVt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(kL(this.config,{httpAuthSchemeParametersProvider:eVt,identityProviderConfigProvider:async u=>new ab({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(LL(this.config))}destroy(){super.destroy()}}});var VVt,Io,EX=_(()=>{VVt=C(tr()),Io=class e extends VVt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Sb,yU,_U,Yve,Zve,SU,vU,EU,CU,bU,wU,AU,xU,PU,CX=_(()=>{Sb=C(tr());EX();yU=class e extends Io{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_U=class e extends Io{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Yve=e=>({...e,...e.clientSecret&&{clientSecret:Sb.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Sb.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Sb.SENSITIVE_STRING}}),Zve=e=>({...e,...e.accessToken&&{accessToken:Sb.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Sb.SENSITIVE_STRING},...e.idToken&&{idToken:Sb.SENSITIVE_STRING}}),SU=class e extends Io{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vU=class e extends Io{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},EU=class e extends Io{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},CU=class e extends Io{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bU=class e extends Io{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wU=class e extends Io{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},AU=class e extends Io{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xU=class e extends Io{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},PU=class e extends Io{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var xe,GVt,WVt,CHn,bHn,wHn,AHn,xHn,PHn,RHn,THn,IHn,OHn,NHn,DHn,kHn,ku,KVt=_(()=>{To();Xc();xe=C(tr());CX();EX();GVt=async(e,t)=>{let r=IL(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,xe.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,xe._json)(i)})),r.m("POST").h(n).b(s),r.build()},WVt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return CHn(e,t);let r=(0,xe.map)({$metadata:ku(e)}),n=(0,xe.expectNonNull)((0,xe.expectObject)(await yR(e.body,t)),"body"),s=(0,xe.take)(n,{accessToken:xe.expectString,expiresIn:xe.expectInt32,idToken:xe.expectString,refreshToken:xe.expectString,tokenType:xe.expectString});return Object.assign(r,s),r},CHn=async(e,t)=>{let r={...e,body:await NSe(e.body,t)},n=db(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await wHn(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await AHn(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await xHn(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await PHn(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await RHn(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await THn(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await IHn(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await OHn(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await NHn(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await DHn(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await kHn(r,t);default:let s=r.body;return bHn({output:e,parsedBody:s,errorCode:n})}},bHn=(0,xe.withBaseException)(Io),wHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new yU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},AHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new _U({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},xHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new SU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},PHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new vU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},RHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new EU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},THn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new CU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},IHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new bU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},OHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new wU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},NHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new AU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},DHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new xU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},kHn=async(e,t)=>{let r=(0,xe.map)({}),n=e.body,s=(0,xe.take)(n,{error:xe.expectString,error_description:xe.expectString});Object.assign(r,s);let i=new PU({$metadata:ku(e),...r});return(0,xe.decorateServiceException)(i,e.body)},ku=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var XVt,JVt,eEe,RU,tEe=_(()=>{XVt=C(wS()),JVt=C(aS()),eEe=C(tr());Gve();CX();KVt();RU=class extends eEe.Command.classBuilder().ep(sVt).m(function(t,r,n,s){return[(0,JVt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,XVt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Yve,Zve).ser(GVt).de(WVt).build(){}});var QVt,MHn,bX,YVt=_(()=>{QVt=C(tr());tEe();Qve();MHn={CreateTokenCommand:RU},bX=class extends hU{};(0,QVt.createAggregatedClient)(MHn,bX)});var ZVt=_(()=>{tEe()});var eGt=_(()=>{CX()});var rEe={};ct(rEe,{$Command:()=>eEe.Command,AccessDeniedException:()=>yU,AuthorizationPendingException:()=>_U,CreateTokenCommand:()=>RU,CreateTokenRequestFilterSensitiveLog:()=>Yve,CreateTokenResponseFilterSensitiveLog:()=>Zve,ExpiredTokenException:()=>SU,InternalServerException:()=>vU,InvalidClientException:()=>EU,InvalidGrantException:()=>CU,InvalidRequestException:()=>bU,InvalidScopeException:()=>wU,SSOOIDC:()=>bX,SSOOIDCClient:()=>hU,SSOOIDCServiceException:()=>Io,SlowDownException:()=>AU,UnauthorizedClientException:()=>xU,UnsupportedGrantTypeException:()=>PU,__Client:()=>Jve.Client});var nEe=_(()=>{Qve();YVt();ZVt();eGt();EX()});var cGt=E((w3s,aGt)=>{"use strict";var LHn=Object.create,IU=Object.defineProperty,UHn=Object.getOwnPropertyDescriptor,FHn=Object.getOwnPropertyNames,BHn=Object.getPrototypeOf,qHn=Object.prototype.hasOwnProperty,fh=(e,t)=>IU(e,"name",{value:t,configurable:!0}),jHn=(e,t)=>{for(var r in t)IU(e,r,{get:t[r],enumerable:!0})},nGt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FHn(t))!qHn.call(e,s)&&s!==r&&IU(e,s,{get:()=>t[s],enumerable:!(n=UHn(t,s))||n.enumerable});return e},sGt=(e,t,r)=>(r=e!=null?LHn(BHn(e)):{},nGt(t||!e||!e.__esModule?IU(r,"default",{value:e,enumerable:!0}):r,e)),$Hn=e=>nGt(IU({},"__esModule",{value:!0}),e),iGt={};jHn(iGt,{fromEnvSigningName:()=>VHn,fromSso:()=>oGt,fromStatic:()=>YHn,nodeProvider:()=>ZHn});aGt.exports=$Hn(iGt);var zHn=(vm(),F(mS)),HHn=(fSe(),F(Iqt)),Ul=gc(),VHn=fh(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Ul.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,HHn.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Ul.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,zHn.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),GHn=5*60*1e3,sEe="To refresh this SSO session run 'aws sso login' with the corresponding profile.",WHn=fh(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>sGt((nEe(),F(rEe))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),KHn=fh(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>sGt((nEe(),F(rEe))));return(await WHn(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),tGt=fh(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Ul.TokenProviderError(`Token is expired. ${sEe}`,!1)},"validateTokenExpiry"),vb=fh((e,t,r=!1)=>{if(typeof t>"u")throw new Ul.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${sEe}`,!1)},"validateTokenKey"),TU=ch(),XHn=require("fs"),{writeFile:JHn}=XHn.promises,QHn=fh((e,t)=>{let r=(0,TU.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return JHn(r,n)},"writeSSOTokenToFile"),rGt=new Date(0),oGt=fh((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,TU.parseKnownFiles)(r),s=(0,TU.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new Ul.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Ul.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,TU.loadSsoSessionData)(r))[o];if(!c)throw new Ul.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new Ul.TokenProviderError(`Sso session '${o}' is missing required property '${y}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,TU.getSSOTokenFromFile)(o)}catch{throw new Ul.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${sEe}`,!1)}vb("accessToken",u.accessToken),vb("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:p}=u,g={token:m,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>GHn)return g;if(Date.now()-rGt.getTime()<30*1e3)return tGt(g),g;vb("clientId",u.clientId,!0),vb("clientSecret",u.clientSecret,!0),vb("refreshToken",u.refreshToken,!0);try{rGt.setTime(Date.now());let y=await KHn(u,d,r);vb("accessToken",y.accessToken),vb("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await QHn(o,{...u,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return tGt(g),g}},"fromSso"),YHn=fh(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Ul.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),ZHn=fh((e={})=>(0,Ul.memoize)((0,Ul.chain)(oGt(e),async()=>{throw new Ul.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var oEe=E((A3s,yGt)=>{"use strict";var AX=Object.defineProperty,eVn=Object.getOwnPropertyDescriptor,uGt=Object.getOwnPropertyNames,tVn=Object.prototype.hasOwnProperty,xX=(e,t)=>AX(e,"name",{value:t,configurable:!0}),rVn=(e,t)=>function(){return e&&(t=(0,e[uGt(e)[0]])(e=0)),t},mGt=(e,t)=>{for(var r in t)AX(e,r,{get:t[r],enumerable:!0})},nVn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uGt(t))!tVn.call(e,s)&&s!==r&&AX(e,s,{get:()=>t[s],enumerable:!(n=eVn(t,s))||n.enumerable});return e},sVn=e=>nVn(AX({},"__esModule",{value:!0}),e),fGt={};mGt(fGt,{GetRoleCredentialsCommand:()=>iEe.GetRoleCredentialsCommand,SSOClient:()=>iEe.SSOClient});var iEe,iVn=rVn({"src/loadSso.ts"(){"use strict";iEe=ZHt()}}),pGt={};mGt(pGt,{fromSSO:()=>aVn,isSsoProfile:()=>gGt,validateSsoProfile:()=>hGt});yGt.exports=sVn(pGt);var gGt=xX(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),lGt=(vm(),F(mS)),oVn=cGt(),Cm=gc(),wX=ch(),OU=!1,dGt=xX(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,filepath:l,configFilepath:d,ignoreCache:u,logger:m})=>{let p,g="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Re=await(0,oVn.fromSso)({profile:c,filepath:l,configFilepath:d,ignoreCache:u})();p={accessToken:Re.token,expiresAt:new Date(Re.expiration).toISOString()}}catch(Re){throw new Cm.CredentialsProviderError(Re.message,{tryNextLink:OU,logger:m})}else try{p=await(0,wX.getSSOTokenFromFile)(e)}catch{throw new Cm.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${g}`,{tryNextLink:OU,logger:m})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Cm.CredentialsProviderError(`The SSO session associated with this profile has expired. ${g}`,{tryNextLink:OU,logger:m});let{accessToken:y}=p,{SSOClient:b,GetRoleCredentialsCommand:w}=await Promise.resolve().then(()=>(iVn(),fGt)),A=i||new b(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),O;try{O=await A.send(new w({accountId:r,roleName:s,accessToken:y}))}catch(Re){throw new Cm.CredentialsProviderError(Re,{tryNextLink:OU,logger:m})}let{roleCredentials:{accessKeyId:T,secretAccessKey:k,sessionToken:z,expiration:oe,credentialScope:Q,accountId:_e}={}}=O;if(!T||!k||!z||!oe)throw new Cm.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:OU,logger:m});let ye={accessKeyId:T,secretAccessKey:k,sessionToken:z,expiration:new Date(oe),...Q&&{credentialScope:Q},..._e&&{accountId:_e}};return t?(0,lGt.setCredentialFeature)(ye,"CREDENTIALS_SSO","s"):(0,lGt.setCredentialFeature)(ye,"CREDENTIALS_SSO_LEGACY","u"),ye},"resolveSSOCredentials"),hGt=xX((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Cm.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),aVn=xX((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,wX.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,wX.parseKnownFiles)(e))[c];if(!d)throw new Cm.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!gGt(d))throw new Cm.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let w=(await(0,wX.loadSsoSessionData)(e))[d.sso_session],A=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==w.sso_region)throw new Cm.CredentialsProviderError("Conflicting SSO region"+A,{tryNextLink:!1,logger:e.logger});if(r&&r!==w.sso_start_url)throw new Cm.CredentialsProviderError("Conflicting SSO start_url"+A,{tryNextLink:!1,logger:e.logger});d.sso_region=w.sso_region,d.sso_start_url=w.sso_start_url}let{sso_start_url:u,sso_account_id:m,sso_region:p,sso_role_name:g,sso_session:y}=hGt(d,e.logger);return dGt({ssoStartUrl:u,ssoSession:y,ssoAccountId:m,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new Cm.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return dGt({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}},"fromSSO")});function cVn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function lVn(e){return{schemeId:"smithy.api#noAuth"}}var NU,_Gt,SGt,dVn,vGt,aEe=_(()=>{To();NU=C(Gc());DU();_Gt=async(e,t,r)=>({operation:(0,NU.getSmithyContext)(t).operation,region:await(0,NU.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});SGt=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(lVn(e));break}default:t.push(cVn(e))}return t},dVn=e=>Object.assign(e,{stsClientCtor:Yf}),vGt=e=>{let t=dVn(e),r=lb(t);return Object.assign(r,{authSchemePreference:(0,NU.normalizeProvider)(e.authSchemePreference??[])})}});var EGt,PX,RX=_(()=>{EGt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),PX={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var NGt,Dt,jr,$r,NS,OS,Yo,DGt,kGt,MGt,xs,CGt,Zf,DR,lEe,bGt,cEe,LGt,wGt,Zo,AGt,UGt,FGt,Fa,Fl,xGt,BGt,qGt,PGt,jGt,RGt,TGt,IGt,OGt,uVn,$Gt,zGt=_(()=>{NGt="required",Dt="type",jr="fn",$r="argv",NS="ref",OS="booleanEquals",Yo="stringEquals",DGt="sigv4",kGt="sts",MGt="us-east-1",xs="endpoint",CGt="https://sts.{Region}.{PartitionResult#dnsSuffix}",Zf="tree",DR="error",lEe="getAttr",bGt={[NGt]:!1,[Dt]:"String"},cEe={[NGt]:!0,default:!1,[Dt]:"Boolean"},LGt={[NS]:"Endpoint"},wGt={[jr]:"isSet",[$r]:[{[NS]:"Region"}]},Zo={[NS]:"Region"},AGt={[jr]:"aws.partition",[$r]:[Zo],assign:"PartitionResult"},UGt={[NS]:"UseFIPS"},FGt={[NS]:"UseDualStack"},Fa={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:DGt,signingName:kGt,signingRegion:MGt}]},headers:{}},Fl={},xGt={conditions:[{[jr]:Yo,[$r]:[Zo,"aws-global"]}],[xs]:Fa,[Dt]:xs},BGt={[jr]:OS,[$r]:[UGt,!0]},qGt={[jr]:OS,[$r]:[FGt,!0]},PGt={[jr]:lEe,[$r]:[{[NS]:"PartitionResult"},"supportsFIPS"]},jGt={[NS]:"PartitionResult"},RGt={[jr]:OS,[$r]:[!0,{[jr]:lEe,[$r]:[jGt,"supportsDualStack"]}]},TGt=[{[jr]:"isSet",[$r]:[LGt]}],IGt=[BGt],OGt=[qGt],uVn={version:"1.0",parameters:{Region:bGt,UseDualStack:cEe,UseFIPS:cEe,Endpoint:bGt,UseGlobalEndpoint:cEe},rules:[{conditions:[{[jr]:OS,[$r]:[{[NS]:"UseGlobalEndpoint"},!0]},{[jr]:"not",[$r]:TGt},wGt,AGt,{[jr]:OS,[$r]:[UGt,!1]},{[jr]:OS,[$r]:[FGt,!1]}],rules:[{conditions:[{[jr]:Yo,[$r]:[Zo,"ap-northeast-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"ap-south-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"ap-southeast-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"ap-southeast-2"]}],endpoint:Fa,[Dt]:xs},xGt,{conditions:[{[jr]:Yo,[$r]:[Zo,"ca-central-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"eu-central-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"eu-north-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"eu-west-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"eu-west-2"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"eu-west-3"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"sa-east-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,MGt]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"us-east-2"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"us-west-1"]}],endpoint:Fa,[Dt]:xs},{conditions:[{[jr]:Yo,[$r]:[Zo,"us-west-2"]}],endpoint:Fa,[Dt]:xs},{endpoint:{url:CGt,properties:{authSchemes:[{name:DGt,signingName:kGt,signingRegion:"{Region}"}]},headers:Fl},[Dt]:xs}],[Dt]:Zf},{conditions:TGt,rules:[{conditions:IGt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Dt]:DR},{conditions:OGt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Dt]:DR},{endpoint:{url:LGt,properties:Fl,headers:Fl},[Dt]:xs}],[Dt]:Zf},{conditions:[wGt],rules:[{conditions:[AGt],rules:[{conditions:[BGt,qGt],rules:[{conditions:[{[jr]:OS,[$r]:[!0,PGt]},RGt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fl,headers:Fl},[Dt]:xs}],[Dt]:Zf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Dt]:DR}],[Dt]:Zf},{conditions:IGt,rules:[{conditions:[{[jr]:OS,[$r]:[PGt,!0]}],rules:[{conditions:[{[jr]:Yo,[$r]:[{[jr]:lEe,[$r]:[jGt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Fl,headers:Fl},[Dt]:xs},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Fl,headers:Fl},[Dt]:xs}],[Dt]:Zf},{error:"FIPS is enabled but this partition does not support FIPS",[Dt]:DR}],[Dt]:Zf},{conditions:OGt,rules:[{conditions:[RGt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fl,headers:Fl},[Dt]:xs}],[Dt]:Zf},{error:"DualStack is enabled but this partition does not support DualStack",[Dt]:DR}],[Dt]:Zf},xGt,{endpoint:{url:CGt,properties:Fl,headers:Fl},[Dt]:xs}],[Dt]:Zf}],[Dt]:Zf},{error:"Invalid Configuration: Missing Region",[Dt]:DR}]},$Gt=uVn});var HGt,kR,mVn,VGt,GGt=_(()=>{HGt=C(lR()),kR=C(cR());zGt();mVn=new kR.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),VGt=(e,t={})=>mVn.get(e,()=>(0,kR.resolveEndpoint)($Gt,{endpointParams:e,logger:t.logger}));kR.customEndpointFunctions.aws=HGt.awsEndpointFunctions});var WGt,KGt,TX,IX,XGt,JGt=_(()=>{To();Xc();WGt=C(tr()),KGt=C(lS()),TX=C(Xo()),IX=C(ws());aEe();GGt();XGt=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??TX.fromBase64,base64Encoder:e?.base64Encoder??TX.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??VGt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??SGt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Qc},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eh}],logger:e?.logger??new WGt.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??KGt.parseUrl,utf8Decoder:e?.utf8Decoder??IX.fromUtf8,utf8Encoder:e?.utf8Encoder??IX.toUtf8})});var OX,kS,QGt,NX,DS,DX,YGt,ZGt,e3t,t3t,r3t,n3t,s3t=_(()=>{Wve();To();OX=C(sU()),kS=C(Xf());Xc();QGt=C(iU()),NX=C(lh()),DS=C(bS()),DX=C(XC()),YGt=C(oU()),ZGt=C(ER());JGt();e3t=C(tr()),t3t=C(dU()),r3t=C(tr()),n3t=e=>{(0,r3t.emitWarningIfUnsupportedVersion)(process.version);let t=(0,t3t.resolveDefaultsModeConfig)(e),r=()=>t().then(e3t.loadConfigsForDefaultMode),n=XGt(e);dR(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,DS.loadConfig)(fR,s),bodyLengthChecker:e?.bodyLengthChecker??YGt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,OX.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lX.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Qc},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eh}],maxAttempts:e?.maxAttempts??(0,DS.loadConfig)(NX.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,DS.loadConfig)(kS.NODE_REGION_CONFIG_OPTIONS,{...kS.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:DX.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,DS.loadConfig)({...NX.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||ZGt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??QGt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??DX.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,DS.loadConfig)(kS.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,DS.loadConfig)(kS.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,DS.loadConfig)(OX.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var i3t,o3t,a3t=_(()=>{i3t=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},o3t=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var kX,MX,LX,c3t,l3t=_(()=>{kX=C(uU()),MX=C(Dn()),LX=C(tr());a3t();c3t=(e,t)=>{let r=Object.assign((0,kX.getAwsRegionExtensionConfiguration)(e),(0,LX.getDefaultExtensionConfiguration)(e),(0,MX.getHttpHandlerExtensionConfiguration)(e),i3t(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,kX.resolveAwsRegionExtensionConfiguration)(r),(0,LX.resolveDefaultRuntimeConfig)(r),(0,MX.resolveHttpHandlerRuntimeConfig)(r),o3t(r))}});var UX,d3t,u3t,FX,m3t,f3t,p3t,BX,dEe,Yf,DU=_(()=>{UX=C(mL()),d3t=C(fL()),u3t=C(pL()),FX=C(_R()),m3t=C(Xf());Xc();f3t=C(eU()),p3t=C(wS()),BX=C(lh()),dEe=C(tr());aEe();RX();s3t();l3t();Yf=class extends dEe.Client{config;constructor(...[t]){let r=n3t(t||{});super(r),this.initConfig=r;let n=EGt(r),s=(0,FX.resolveUserAgentConfig)(n),i=(0,BX.resolveRetryConfig)(s),o=(0,m3t.resolveRegionConfig)(i),a=(0,UX.resolveHostHeaderConfig)(o),c=(0,p3t.resolveEndpointConfig)(a),l=vGt(c),d=c3t(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,FX.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,BX.getRetryPlugin)(this.config)),this.middlewareStack.use((0,f3t.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,UX.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,d3t.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,u3t.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(kL(this.config,{httpAuthSchemeParametersProvider:_Gt,identityProviderConfigProvider:async u=>new ab({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(LL(this.config))}destroy(){super.destroy()}}});var g3t,Yc,qX=_(()=>{g3t=C(tr()),Yc=class e extends g3t.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var uEe,mEe,fEe,kU,MU,LU,UU,FU,BU,pEe,gEe,qU,jU=_(()=>{uEe=C(tr());qX();mEe=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:uEe.SENSITIVE_STRING}}),fEe=e=>({...e,...e.Credentials&&{Credentials:mEe(e.Credentials)}}),kU=class e extends Yc{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},MU=class e extends Yc{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},LU=class e extends Yc{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},UU=class e extends Yc{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},FU=class e extends Yc{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},BU=class e extends Yc{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pEe=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:uEe.SENSITIVE_STRING}}),gEe=e=>({...e,...e.Credentials&&{Credentials:mEe(e.Credentials)}}),qU=class e extends Yc{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var h3t,rr,y3t,_3t,S3t,v3t,E3t,fVn,pVn,gVn,hVn,yVn,_Vn,SVn,vVn,EVn,C3t,CVn,bVn,wVn,AVn,xVn,PVn,b3t,RVn,TVn,w3t,IVn,OVn,NVn,DVn,kVn,MVn,LVn,gh,UVn,A3t,x3t,P3t,R3t,hEe,FVn,yEe,MR,BVn,_Ee,SEe,LR,vEe,UR,EEe,CEe,bEe,FR,BR,wEe,AEe,xEe,qR,PEe,jR,$R,REe,TEe,ph,IEe,OEe,NEe,DEe,kEe,T3t,MEe,LEe,UEe,Ti,I3t,qVn,FEe=_(()=>{To();h3t=C(Dn()),rr=C(tr());jU();qX();y3t=async(e,t)=>{let r=x3t,n;return n=I3t({...vVn(e,t),[R3t]:FVn,[T3t]:P3t}),A3t(t,r,"/",void 0,n)},_3t=async(e,t)=>{let r=x3t,n;return n=I3t({...EVn(e,t),[R3t]:BVn,[T3t]:P3t}),A3t(t,r,"/",void 0,n)},S3t=async(e,t)=>{if(e.statusCode>=300)return E3t(e,t);let r=await QL(e.body,t),n={};return n=RVn(r.AssumeRoleResult,t),{$metadata:gh(e),...n}},v3t=async(e,t)=>{if(e.statusCode>=300)return E3t(e,t);let r=await QL(e.body,t),n={};return n=TVn(r.AssumeRoleWithWebIdentityResult,t),{$metadata:gh(e),...n}},E3t=async(e,t)=>{let r={...e,body:await XSe(e.body,t)},n=qVn(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await fVn(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await yVn(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await _Vn(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await SVn(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await pVn(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await gVn(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await hVn(r,t);default:let s=r.body;return UVn({output:e,parsedBody:s.Error,errorCode:n})}},fVn=async(e,t)=>{let r=e.body,n=IVn(r.Error,t),s=new kU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},pVn=async(e,t)=>{let r=e.body,n=OVn(r.Error,t),s=new qU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},gVn=async(e,t)=>{let r=e.body,n=NVn(r.Error,t),s=new FU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},hVn=async(e,t)=>{let r=e.body,n=DVn(r.Error,t),s=new BU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},yVn=async(e,t)=>{let r=e.body,n=kVn(r.Error,t),s=new MU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},_Vn=async(e,t)=>{let r=e.body,n=MVn(r.Error,t),s=new LU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},SVn=async(e,t)=>{let r=e.body,n=LVn(r.Error,t),s=new UU({$metadata:gh(e),...n});return(0,rr.decorateServiceException)(s,r)},vVn=(e,t)=>{let r={};if(e[jR]!=null&&(r[jR]=e[jR]),e[$R]!=null&&(r[$R]=e[$R]),e[BR]!=null){let n=C3t(e[BR],t);e[BR]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[FR]!=null&&(r[FR]=e[FR]),e[UR]!=null&&(r[UR]=e[UR]),e[NEe]!=null){let n=PVn(e[NEe],t);e[NEe]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[kEe]!=null){let n=xVn(e[kEe],t);e[kEe]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[CEe]!=null&&(r[CEe]=e[CEe]),e[IEe]!=null&&(r[IEe]=e[IEe]),e[DEe]!=null&&(r[DEe]=e[DEe]),e[ph]!=null&&(r[ph]=e[ph]),e[AEe]!=null){let n=wVn(e[AEe],t);e[AEe]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},EVn=(e,t)=>{let r={};if(e[jR]!=null&&(r[jR]=e[jR]),e[$R]!=null&&(r[$R]=e[$R]),e[LEe]!=null&&(r[LEe]=e[LEe]),e[xEe]!=null&&(r[xEe]=e[xEe]),e[BR]!=null){let n=C3t(e[BR],t);e[BR]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[FR]!=null&&(r[FR]=e[FR]),e[UR]!=null&&(r[UR]=e[UR]),r},C3t=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=CVn(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},CVn=(e,t)=>{let r={};return e[UEe]!=null&&(r[UEe]=e[UEe]),r},bVn=(e,t)=>{let r={};return e[wEe]!=null&&(r[wEe]=e[wEe]),e[vEe]!=null&&(r[vEe]=e[vEe]),r},wVn=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=bVn(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},AVn=(e,t)=>{let r={};return e[bEe]!=null&&(r[bEe]=e[bEe]),e[MEe]!=null&&(r[MEe]=e[MEe]),r},xVn=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},PVn=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=AVn(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},b3t=(e,t)=>{let r={};return e[yEe]!=null&&(r[yEe]=(0,rr.expectString)(e[yEe])),e[_Ee]!=null&&(r[_Ee]=(0,rr.expectString)(e[_Ee])),r},RVn=(e,t)=>{let r={};return e[LR]!=null&&(r[LR]=w3t(e[LR],t)),e[MR]!=null&&(r[MR]=b3t(e[MR],t)),e[qR]!=null&&(r[qR]=(0,rr.strictParseInt32)(e[qR])),e[ph]!=null&&(r[ph]=(0,rr.expectString)(e[ph])),r},TVn=(e,t)=>{let r={};return e[LR]!=null&&(r[LR]=w3t(e[LR],t)),e[TEe]!=null&&(r[TEe]=(0,rr.expectString)(e[TEe])),e[MR]!=null&&(r[MR]=b3t(e[MR],t)),e[qR]!=null&&(r[qR]=(0,rr.strictParseInt32)(e[qR])),e[PEe]!=null&&(r[PEe]=(0,rr.expectString)(e[PEe])),e[SEe]!=null&&(r[SEe]=(0,rr.expectString)(e[SEe])),e[ph]!=null&&(r[ph]=(0,rr.expectString)(e[ph])),r},w3t=(e,t)=>{let r={};return e[hEe]!=null&&(r[hEe]=(0,rr.expectString)(e[hEe])),e[REe]!=null&&(r[REe]=(0,rr.expectString)(e[REe])),e[OEe]!=null&&(r[OEe]=(0,rr.expectString)(e[OEe])),e[EEe]!=null&&(r[EEe]=(0,rr.expectNonNull)((0,rr.parseRfc3339DateTimeWithOffset)(e[EEe]))),r},IVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},OVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},NVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},DVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},kVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},MVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},LVn=(e,t)=>{let r={};return e[Ti]!=null&&(r[Ti]=(0,rr.expectString)(e[Ti])),r},gh=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),UVn=(0,rr.withBaseException)(Yc),A3t=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new h3t.HttpRequest(l)},x3t={"content-type":"application/x-www-form-urlencoded"},P3t="2011-06-15",R3t="Action",hEe="AccessKeyId",FVn="AssumeRole",yEe="AssumedRoleId",MR="AssumedRoleUser",BVn="AssumeRoleWithWebIdentity",_Ee="Arn",SEe="Audience",LR="Credentials",vEe="ContextAssertion",UR="DurationSeconds",EEe="Expiration",CEe="ExternalId",bEe="Key",FR="Policy",BR="PolicyArns",wEe="ProviderArn",AEe="ProvidedContexts",xEe="ProviderId",qR="PackedPolicySize",PEe="Provider",jR="RoleArn",$R="RoleSessionName",REe="SecretAccessKey",TEe="SubjectFromWebIdentityToken",ph="SourceIdentity",IEe="SerialNumber",OEe="SessionToken",NEe="Tags",DEe="TokenCode",kEe="TransitiveTagKeys",T3t="Version",MEe="Value",LEe="WebIdentityToken",UEe="arn",Ti="message",I3t=e=>Object.entries(e).map(([t,r])=>(0,rr.extendedEncodeURIComponent)(t)+"="+(0,rr.extendedEncodeURIComponent)(r)).join("&"),qVn=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var O3t,N3t,D3t,Eb,jX=_(()=>{O3t=C(wS()),N3t=C(aS()),D3t=C(tr());RX();jU();FEe();Eb=class extends D3t.Command.classBuilder().ep(PX).m(function(t,r,n,s){return[(0,N3t.getSerdePlugin)(n,this.serialize,this.deserialize),(0,O3t.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,fEe).ser(y3t).de(S3t).build(){}});var k3t,M3t,L3t,Cb,$X=_(()=>{k3t=C(wS()),M3t=C(aS()),L3t=C(tr());RX();jU();FEe();Cb=class extends L3t.Command.classBuilder().ep(PX).m(function(t,r,n,s){return[(0,M3t.getSerdePlugin)(n,this.serialize,this.deserialize),(0,k3t.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(pEe,gEe).ser(_3t).de(v3t).build(){}});var U3t,jVn,zX,F3t=_(()=>{U3t=C(tr());jX();$X();DU();jVn={AssumeRoleCommand:Eb,AssumeRoleWithWebIdentityCommand:Cb},zX=class extends Yf{};(0,U3t.createAggregatedClient)(jVn,zX)});var B3t=_(()=>{jX();$X()});var q3t=_(()=>{jU()});var j3t,$3t,z3t,H3t,V3t,G3t,W3t=_(()=>{vm();jX();$X();j3t="us-east-1",$3t=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},z3t=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${j3t} (STS default)`),n??s??j3t},H3t=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await z3t(u,e?.parentClientConfig?.region,p),y=!G3t(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?m:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new Eb(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=$3t(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return uS(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},V3t=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,m=await z3t(l,e?.parentClientConfig?.region,u),p=!G3t(d);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new Cb(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=$3t(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&uS(a,"RESOLVED_ACCOUNT_ID","T"),uS(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},G3t=e=>e?.metadata?.handlerProtocol==="h2"});var K3t,X3t,J3t,$Vn,Q3t=_(()=>{W3t();DU();K3t=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,X3t=(e={},t)=>H3t(e,K3t(Yf,t)),J3t=(e={},t)=>V3t(e,K3t(Yf,t)),$Vn=e=>t=>e({roleAssumer:X3t(t),roleAssumerWithWebIdentity:J3t(t),...t})});var BEe={};ct(BEe,{AssumeRoleCommand:()=>Eb,AssumeRoleResponseFilterSensitiveLog:()=>fEe,AssumeRoleWithWebIdentityCommand:()=>Cb,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>pEe,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>gEe,CredentialsFilterSensitiveLog:()=>mEe,ExpiredTokenException:()=>kU,IDPCommunicationErrorException:()=>qU,IDPRejectedClaimException:()=>FU,InvalidIdentityTokenException:()=>BU,MalformedPolicyDocumentException:()=>MU,PackedPolicyTooLargeException:()=>LU,RegionDisabledException:()=>UU,STS:()=>zX,STSClient:()=>Yf,STSServiceException:()=>Yc,__Client:()=>dEe.Client,decorateDefaultCredentialProvider:()=>$Vn,getDefaultRoleAssumer:()=>X3t,getDefaultRoleAssumerWithWebIdentity:()=>J3t});var qEe=_(()=>{DU();F3t();B3t();q3t();Q3t();qX()});var HEe=E((L2s,Z3t)=>{"use strict";var HX=Object.defineProperty,zVn=Object.getOwnPropertyDescriptor,HVn=Object.getOwnPropertyNames,VVn=Object.prototype.hasOwnProperty,zEe=(e,t)=>HX(e,"name",{value:t,configurable:!0}),GVn=(e,t)=>{for(var r in t)HX(e,r,{get:t[r],enumerable:!0})},WVn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HVn(t))!VVn.call(e,s)&&s!==r&&HX(e,s,{get:()=>t[s],enumerable:!(n=zVn(t,s))||n.enumerable});return e},KVn=e=>WVn(HX({},"__esModule",{value:!0}),e),Y3t={};GVn(Y3t,{fromProcess:()=>eGn});Z3t.exports=KVn(Y3t);var jEe=gc(),$Ee=ch(),XVn=require("child_process"),JVn=require("util"),QVn=(vm(),F(mS)),YVn=zEe((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,QVn.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),ZVn=zEe(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,JVn.promisify)($Ee.externalDataInterceptor?.getTokenRecord?.().exec??XVn.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return YVn(e,a,t)}catch(o){throw new jEe.CredentialsProviderError(o.message,{logger:r})}}else throw new jEe.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new jEe.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),eGn=zEe((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,$Ee.parseKnownFiles)(e);return ZVn((0,$Ee.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var VEe=E(ep=>{"use strict";var tGn=ep&&ep.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rGn=ep&&ep.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nGn=ep&&ep.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&tGn(r,t,n[s]);return rGn(r,t),r}}();Object.defineProperty(ep,"__esModule",{value:!0});ep.fromWebToken=void 0;var sGn=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>nGn((qEe(),F(BEe))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};ep.fromWebToken=sGn});var t2t=E(VX=>{"use strict";Object.defineProperty(VX,"__esModule",{value:!0});VX.fromTokenFile=void 0;var iGn=(vm(),F(mS)),oGn=gc(),aGn=ch(),cGn=require("fs"),lGn=VEe(),e2t="AWS_WEB_IDENTITY_TOKEN_FILE",dGn="AWS_ROLE_ARN",uGn="AWS_ROLE_SESSION_NAME",mGn=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[e2t],r=e?.roleArn??process.env[dGn],n=e?.roleSessionName??process.env[uGn];if(!t||!r)throw new oGn.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,lGn.fromWebToken)({...e,webIdentityToken:aGn.externalDataInterceptor?.getTokenRecord?.()[t]??(0,cGn.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[e2t]&&(0,iGn.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};VX.fromTokenFile=mGn});var KEe=E((B2s,GX)=>{"use strict";var r2t=Object.defineProperty,fGn=Object.getOwnPropertyDescriptor,pGn=Object.getOwnPropertyNames,gGn=Object.prototype.hasOwnProperty,GEe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pGn(t))!gGn.call(e,s)&&s!==r&&r2t(e,s,{get:()=>t[s],enumerable:!(n=fGn(t,s))||n.enumerable});return e},n2t=(e,t,r)=>(GEe(e,t,"default"),r&&GEe(r,t,"default")),hGn=e=>GEe(r2t({},"__esModule",{value:!0}),e),WEe={};GX.exports=hGn(WEe);n2t(WEe,t2t(),GX.exports);n2t(WEe,VEe(),GX.exports)});var u2t=E((q2s,d2t)=>{"use strict";var yGn=Object.create,zU=Object.defineProperty,_Gn=Object.getOwnPropertyDescriptor,SGn=Object.getOwnPropertyNames,vGn=Object.getPrototypeOf,EGn=Object.prototype.hasOwnProperty,Gi=(e,t)=>zU(e,"name",{value:t,configurable:!0}),CGn=(e,t)=>{for(var r in t)zU(e,r,{get:t[r],enumerable:!0})},a2t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of SGn(t))!EGn.call(e,s)&&s!==r&&zU(e,s,{get:()=>t[s],enumerable:!(n=_Gn(t,s))||n.enumerable});return e},MS=(e,t,r)=>(r=e!=null?yGn(vGn(e)):{},a2t(t||!e||!e.__esModule?zU(r,"default",{value:e,enumerable:!0}):r,e)),bGn=e=>a2t(zU({},"__esModule",{value:!0}),e),c2t={};CGn(c2t,{fromIni:()=>MGn});d2t.exports=bGn(c2t);var JEe=ch(),LS=(vm(),F(mS)),$U=gc(),wGn=Gi((e,t,r)=>{let n={EcsContainer:Gi(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>MS(kve())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>MS(nU()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,$U.chain)(i(s??{}),o(s))().then(XEe)},"EcsContainer"),Ec2InstanceMetadata:Gi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>MS(nU()));return async()=>i(s)().then(XEe)},"Ec2InstanceMetadata"),Environment:Gi(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>MS(Pve()));return async()=>i(s)().then(XEe)},"Environment")};if(e in n)return n[e];throw new $U.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),XEe=Gi(e=>(0,LS.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),AGn=Gi((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(xGn(e,{profile:t,logger:r})||PGn(e,{profile:t,logger:r})),"isAssumeRoleProfile"),xGn=Gi((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),PGn=Gi((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),RGn=Gi(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>MS((qEe(),F(BEe))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new $U.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,JEe.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?l2t(i,t,r,{...n,[i]:!0},s2t(t[i]??{})):(await wGn(s.credential_source,e,r.logger)(r))();if(s2t(s))return a.then(c=>(0,LS.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new $U.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,LS.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),s2t=Gi(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),TGn=Gi(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),IGn=Gi(async(e,t)=>Promise.resolve().then(()=>MS(HEe())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,LS.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),OGn=Gi(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>MS(oEe()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,LS.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,LS.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),NGn=Gi(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),i2t=Gi(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),o2t=Gi(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,LS.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),DGn=Gi(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),kGn=Gi(async(e,t)=>Promise.resolve().then(()=>MS(KEe())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,LS.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),l2t=Gi(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&i2t(i))return o2t(i,r);if(s||AGn(i,{profile:e,logger:r.logger}))return RGn(e,t,r,n);if(i2t(i))return o2t(i,r);if(DGn(i))return kGn(i,r);if(TGn(i))return IGn(r,e);if(NGn(i))return await OGn(e,i,r);throw new $U.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),MGn=Gi((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,JEe.parseKnownFiles)(r);return l2t((0,JEe.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var S2t=E((j2s,_2t)=>{"use strict";var LGn=Object.create,HU=Object.defineProperty,UGn=Object.getOwnPropertyDescriptor,FGn=Object.getOwnPropertyNames,BGn=Object.getPrototypeOf,qGn=Object.prototype.hasOwnProperty,WX=(e,t)=>HU(e,"name",{value:t,configurable:!0}),jGn=(e,t)=>{for(var r in t)HU(e,r,{get:t[r],enumerable:!0})},p2t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FGn(t))!qGn.call(e,s)&&s!==r&&HU(e,s,{get:()=>t[s],enumerable:!(n=UGn(t,s))||n.enumerable});return e},zR=(e,t,r)=>(r=e!=null?LGn(BGn(e)):{},p2t(t||!e||!e.__esModule?HU(r,"default",{value:e,enumerable:!0}):r,e)),$Gn=e=>p2t(HU({},"__esModule",{value:!0}),e),g2t={};jGn(g2t,{credentialsTreatedAsExpired:()=>y2t,credentialsWillNeedRefresh:()=>h2t,defaultProvider:()=>VGn});_2t.exports=$Gn(g2t);var QEe=Pve(),zGn=ch(),bb=gc(),m2t="AWS_EC2_METADATA_DISABLED",HGn=WX(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>zR(nU()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>zR(kve()));return(0,bb.chain)(i(e),n(e))}return process.env[m2t]&&process.env[m2t]!=="false"?async()=>{throw new bb.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),f2t=!1,VGn=WX((e={})=>(0,bb.memoize)((0,bb.chain)(async()=>{if(e.profile??process.env[zGn.ENV_PROFILE])throw process.env[QEe.ENV_KEY]&&process.env[QEe.ENV_SECRET]&&(f2t||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),f2t=!0)),new bb.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,QEe.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new bb.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>zR(oEe()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>zR(u2t()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>zR(HEe()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>zR(KEe()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await HGn(e))()),async()=>{throw new bb.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),y2t,h2t),"defaultProvider"),h2t=WX(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),y2t=WX(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var k2t=E(KX=>{"use strict";Object.defineProperty(KX,"__esModule",{value:!0});KX.ruleSet=void 0;var I2t="required",Lu="fn",Uu="argv",GR="ref",v2t=!0,E2t="isSet",VU="booleanEquals",HR="error",VR="endpoint",hh="tree",YEe="PartitionResult",ZEe="getAttr",C2t={[I2t]:!1,type:"String"},b2t={[I2t]:!0,default:!1,type:"Boolean"},w2t={[GR]:"Endpoint"},O2t={[Lu]:VU,[Uu]:[{[GR]:"UseFIPS"},!0]},N2t={[Lu]:VU,[Uu]:[{[GR]:"UseDualStack"},!0]},Mu={},A2t={[Lu]:ZEe,[Uu]:[{[GR]:YEe},"supportsFIPS"]},D2t={[GR]:YEe},x2t={[Lu]:VU,[Uu]:[!0,{[Lu]:ZEe,[Uu]:[D2t,"supportsDualStack"]}]},P2t=[O2t],R2t=[N2t],T2t=[{[GR]:"Region"}],GGn={version:"1.0",parameters:{Region:C2t,UseDualStack:b2t,UseFIPS:b2t,Endpoint:C2t},rules:[{conditions:[{[Lu]:E2t,[Uu]:[w2t]}],rules:[{conditions:P2t,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:HR},{conditions:R2t,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:HR},{endpoint:{url:w2t,properties:Mu,headers:Mu},type:VR}],type:hh},{conditions:[{[Lu]:E2t,[Uu]:T2t}],rules:[{conditions:[{[Lu]:"aws.partition",[Uu]:T2t,assign:YEe}],rules:[{conditions:[O2t,N2t],rules:[{conditions:[{[Lu]:VU,[Uu]:[v2t,A2t]},x2t],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mu,headers:Mu},type:VR}],type:hh},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:HR}],type:hh},{conditions:P2t,rules:[{conditions:[{[Lu]:VU,[Uu]:[A2t,v2t]}],rules:[{conditions:[{[Lu]:"stringEquals",[Uu]:[{[Lu]:ZEe,[Uu]:[D2t,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:Mu,headers:Mu},type:VR},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Mu,headers:Mu},type:VR}],type:hh},{error:"FIPS is enabled but this partition does not support FIPS",type:HR}],type:hh},{conditions:R2t,rules:[{conditions:[x2t],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mu,headers:Mu},type:VR}],type:hh},{error:"DualStack is enabled but this partition does not support DualStack",type:HR}],type:hh},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:Mu,headers:Mu},type:VR}],type:hh}],type:hh},{error:"Invalid Configuration: Missing Region",type:HR}]};KX.ruleSet=GGn});var M2t=E(XX=>{"use strict";Object.defineProperty(XX,"__esModule",{value:!0});XX.defaultEndpointResolver=void 0;var WGn=lR(),eCe=cR(),KGn=k2t(),XGn=new eCe.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),JGn=(e,t={})=>XGn.get(e,()=>(0,eCe.resolveEndpoint)(KGn.ruleSet,{endpointParams:e,logger:t.logger}));XX.defaultEndpointResolver=JGn;eCe.customEndpointFunctions.aws=WGn.awsEndpointFunctions});var F2t=E(JX=>{"use strict";Object.defineProperty(JX,"__esModule",{value:!0});JX.getRuntimeConfig=void 0;var QGn=(To(),F(Wf)),YGn=tr(),ZGn=lS(),L2t=Xo(),U2t=ws(),e3n=bve(),t3n=M2t(),r3n=e=>({apiVersion:"2012-11-05",base64Decoder:e?.base64Decoder??L2t.fromBase64,base64Encoder:e?.base64Encoder??L2t.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??t3n.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??e3n.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new QGn.AwsSdkSigV4Signer}],logger:e?.logger??new YGn.NoOpLogger,serviceId:e?.serviceId??"SQS",urlParser:e?.urlParser??ZGn.parseUrl,utf8Decoder:e?.utf8Decoder??U2t.fromUtf8,utf8Encoder:e?.utf8Encoder??U2t.toUtf8});JX.getRuntimeConfig=r3n});var H2t=E(YX=>{"use strict";Object.defineProperty(YX,"__esModule",{value:!0});YX.getRuntimeConfig=void 0;var n3n=(M5(),F(k5)),s3n=n3n.__importDefault(X$t()),B2t=(To(),F(Wf)),i3n=S2t(),q2t=sU(),QX=Xf(),j2t=iU(),$2t=lh(),wb=bS(),z2t=XC(),o3n=oU(),a3n=ER(),c3n=F2t(),l3n=tr(),d3n=dU(),u3n=tr(),m3n=e=>{(0,u3n.emitWarningIfUnsupportedVersion)(process.version);let t=(0,d3n.resolveDefaultsModeConfig)(e),r=()=>t().then(l3n.loadConfigsForDefaultMode),n=(0,c3n.getRuntimeConfig)(e);(0,B2t.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,wb.loadConfig)(B2t.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??o3n.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??i3n.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,q2t.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:s3n.default.version}),maxAttempts:e?.maxAttempts??(0,wb.loadConfig)($2t.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??j2t.Hash.bind(null,"md5"),region:e?.region??(0,wb.loadConfig)(QX.NODE_REGION_CONFIG_OPTIONS,{...QX.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:z2t.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,wb.loadConfig)({...$2t.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||a3n.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??j2t.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??z2t.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,wb.loadConfig)(QX.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,wb.loadConfig)(QX.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,wb.loadConfig)(q2t.NODE_APP_ID_CONFIG_OPTIONS,s)}};YX.getRuntimeConfig=m3n});var IWt=E((G2s,TWt)=>{"use strict";var ZX=Object.defineProperty,f3n=Object.getOwnPropertyDescriptor,p3n=Object.getOwnPropertyNames,g3n=Object.prototype.hasOwnProperty,L=(e,t)=>ZX(e,"name",{value:t,configurable:!0}),h3n=(e,t)=>{for(var r in t)ZX(e,r,{get:t[r],enumerable:!0})},y3n=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of p3n(t))!g3n.call(e,s)&&s!==r&&ZX(e,s,{get:()=>t[s],enumerable:!(n=f3n(t,s))||n.enumerable});return e},_3n=e=>y3n(ZX({},"__esModule",{value:!0}),e),J2t={};h3n(J2t,{AddPermissionCommand:()=>aWt,BatchEntryIdsNotDistinct:()=>h4t,BatchRequestTooLong:()=>Y4t,CancelMessageMoveTaskCommand:()=>cWt,ChangeMessageVisibilityBatchCommand:()=>lWt,ChangeMessageVisibilityCommand:()=>dWt,CreateQueueCommand:()=>uWt,DeleteMessageBatchCommand:()=>mWt,DeleteMessageCommand:()=>fWt,DeleteQueueCommand:()=>pWt,EmptyBatchRequest:()=>_4t,GetQueueAttributesCommand:()=>gWt,GetQueueUrlCommand:()=>hWt,InvalidAddress:()=>Y2t,InvalidAttributeName:()=>w4t,InvalidAttributeValue:()=>x4t,InvalidBatchEntryId:()=>v4t,InvalidIdFormat:()=>N4t,InvalidMessageContents:()=>J4t,InvalidSecurity:()=>e4t,KmsAccessDenied:()=>L4t,KmsDisabled:()=>F4t,KmsInvalidKeyUsage:()=>q4t,KmsInvalidState:()=>$4t,KmsNotFound:()=>H4t,KmsOptInRequired:()=>G4t,KmsThrottled:()=>K4t,ListDeadLetterSourceQueuesCommand:()=>rCe,ListMessageMoveTasksCommand:()=>yWt,ListQueueTagsCommand:()=>_Wt,ListQueuesCommand:()=>nCe,MessageNotInflight:()=>m4t,MessageSystemAttributeName:()=>T3n,MessageSystemAttributeNameForSends:()=>I3n,OverLimit:()=>r4t,PurgeQueueCommand:()=>SWt,PurgeQueueInProgress:()=>k4t,QueueAttributeName:()=>R3n,QueueDeletedRecently:()=>R4t,QueueDoesNotExist:()=>s4t,QueueNameExists:()=>I4t,ReceiptHandleIsInvalid:()=>p4t,ReceiveMessageCommand:()=>vWt,RemovePermissionCommand:()=>EWt,RequestThrottled:()=>o4t,ResourceNotFoundException:()=>d4t,SQS:()=>RWt,SQSClient:()=>eJ,SQSServiceException:()=>Xr,SendMessageBatchCommand:()=>CWt,SendMessageCommand:()=>bWt,SetQueueAttributesCommand:()=>wWt,StartMessageMoveTaskCommand:()=>AWt,TagQueueCommand:()=>xWt,TooManyEntriesInBatchRequest:()=>C4t,UnsupportedOperation:()=>c4t,UntagQueueCommand:()=>PWt,__Client:()=>W.Client,paginateListDeadLetterSourceQueues:()=>$4n,paginateListQueues:()=>z4n});TWt.exports=_3n(J2t);var V2t=mL(),S3n=fL(),v3n=pL(),WU=gFt(),G2t=_R(),E3n=Xf(),GU=(Xc(),F(aR)),C3n=eU(),Ps=wS(),W2t=lh(),K2t=bve(),b3n=L(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sqs"}),"resolveClientEndpointParameters"),Ys={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},w3n=H2t(),X2t=uU(),tCe=Dn(),W=tr(),A3n=L(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),x3n=L(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),P3n=L((e,t)=>{let r=Object.assign((0,X2t.getAwsRegionExtensionConfiguration)(e),(0,W.getDefaultExtensionConfiguration)(e),(0,tCe.getHttpHandlerExtensionConfiguration)(e),A3n(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,X2t.resolveAwsRegionExtensionConfiguration)(r),(0,W.resolveDefaultRuntimeConfig)(r),(0,tCe.resolveHttpHandlerRuntimeConfig)(r),x3n(r))},"resolveRuntimeExtensions"),eJ=class extends W.Client{static{L(this,"SQSClient")}config;constructor(...[e]){let t=(0,w3n.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=b3n(t),n=(0,G2t.resolveUserAgentConfig)(r),s=(0,W2t.resolveRetryConfig)(n),i=(0,E3n.resolveRegionConfig)(s),o=(0,V2t.resolveHostHeaderConfig)(i),a=(0,Ps.resolveEndpointConfig)(o),c=(0,WU.resolveQueueUrlConfig)(a),l=(0,K2t.resolveHttpAuthSchemeConfig)(c),d=P3n(l,e?.extensions||[]);this.config=d,this.middlewareStack.use((0,G2t.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,W2t.getRetryPlugin)(this.config)),this.middlewareStack.use((0,C3n.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,V2t.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,S3n.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,v3n.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,WU.getQueueUrlPlugin)(this.config)),this.middlewareStack.use((0,GU.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:K2t.defaultSQSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:L(async u=>new GU.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,GU.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Zs=aS(),ve=(To(),F(Wf)),Xr=class Q2t extends W.ServiceException{static{L(this,"SQSServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Q2t.prototype)}},Y2t=class Z2t extends Xr{static{L(this,"InvalidAddress")}name="InvalidAddress";$fault="client";constructor(t){super({name:"InvalidAddress",$fault:"client",...t}),Object.setPrototypeOf(this,Z2t.prototype)}},e4t=class t4t extends Xr{static{L(this,"InvalidSecurity")}name="InvalidSecurity";$fault="client";constructor(t){super({name:"InvalidSecurity",$fault:"client",...t}),Object.setPrototypeOf(this,t4t.prototype)}},r4t=class n4t extends Xr{static{L(this,"OverLimit")}name="OverLimit";$fault="client";constructor(t){super({name:"OverLimit",$fault:"client",...t}),Object.setPrototypeOf(this,n4t.prototype)}},s4t=class i4t extends Xr{static{L(this,"QueueDoesNotExist")}name="QueueDoesNotExist";$fault="client";constructor(t){super({name:"QueueDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,i4t.prototype)}},o4t=class a4t extends Xr{static{L(this,"RequestThrottled")}name="RequestThrottled";$fault="client";constructor(t){super({name:"RequestThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,a4t.prototype)}},c4t=class l4t extends Xr{static{L(this,"UnsupportedOperation")}name="UnsupportedOperation";$fault="client";constructor(t){super({name:"UnsupportedOperation",$fault:"client",...t}),Object.setPrototypeOf(this,l4t.prototype)}},d4t=class u4t extends Xr{static{L(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,u4t.prototype)}},m4t=class f4t extends Xr{static{L(this,"MessageNotInflight")}name="MessageNotInflight";$fault="client";constructor(t){super({name:"MessageNotInflight",$fault:"client",...t}),Object.setPrototypeOf(this,f4t.prototype)}},p4t=class g4t extends Xr{static{L(this,"ReceiptHandleIsInvalid")}name="ReceiptHandleIsInvalid";$fault="client";constructor(t){super({name:"ReceiptHandleIsInvalid",$fault:"client",...t}),Object.setPrototypeOf(this,g4t.prototype)}},h4t=class y4t extends Xr{static{L(this,"BatchEntryIdsNotDistinct")}name="BatchEntryIdsNotDistinct";$fault="client";constructor(t){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...t}),Object.setPrototypeOf(this,y4t.prototype)}},_4t=class S4t extends Xr{static{L(this,"EmptyBatchRequest")}name="EmptyBatchRequest";$fault="client";constructor(t){super({name:"EmptyBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,S4t.prototype)}},v4t=class E4t extends Xr{static{L(this,"InvalidBatchEntryId")}name="InvalidBatchEntryId";$fault="client";constructor(t){super({name:"InvalidBatchEntryId",$fault:"client",...t}),Object.setPrototypeOf(this,E4t.prototype)}},C4t=class b4t extends Xr{static{L(this,"TooManyEntriesInBatchRequest")}name="TooManyEntriesInBatchRequest";$fault="client";constructor(t){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,b4t.prototype)}},R3n={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},w4t=class A4t extends Xr{static{L(this,"InvalidAttributeName")}name="InvalidAttributeName";$fault="client";constructor(t){super({name:"InvalidAttributeName",$fault:"client",...t}),Object.setPrototypeOf(this,A4t.prototype)}},x4t=class P4t extends Xr{static{L(this,"InvalidAttributeValue")}name="InvalidAttributeValue";$fault="client";constructor(t){super({name:"InvalidAttributeValue",$fault:"client",...t}),Object.setPrototypeOf(this,P4t.prototype)}},R4t=class T4t extends Xr{static{L(this,"QueueDeletedRecently")}name="QueueDeletedRecently";$fault="client";constructor(t){super({name:"QueueDeletedRecently",$fault:"client",...t}),Object.setPrototypeOf(this,T4t.prototype)}},I4t=class O4t extends Xr{static{L(this,"QueueNameExists")}name="QueueNameExists";$fault="client";constructor(t){super({name:"QueueNameExists",$fault:"client",...t}),Object.setPrototypeOf(this,O4t.prototype)}},N4t=class D4t extends Xr{static{L(this,"InvalidIdFormat")}name="InvalidIdFormat";$fault="client";constructor(t){super({name:"InvalidIdFormat",$fault:"client",...t}),Object.setPrototypeOf(this,D4t.prototype)}},k4t=class M4t extends Xr{static{L(this,"PurgeQueueInProgress")}name="PurgeQueueInProgress";$fault="client";constructor(t){super({name:"PurgeQueueInProgress",$fault:"client",...t}),Object.setPrototypeOf(this,M4t.prototype)}},L4t=class U4t extends Xr{static{L(this,"KmsAccessDenied")}name="KmsAccessDenied";$fault="client";constructor(t){super({name:"KmsAccessDenied",$fault:"client",...t}),Object.setPrototypeOf(this,U4t.prototype)}},F4t=class B4t extends Xr{static{L(this,"KmsDisabled")}name="KmsDisabled";$fault="client";constructor(t){super({name:"KmsDisabled",$fault:"client",...t}),Object.setPrototypeOf(this,B4t.prototype)}},q4t=class j4t extends Xr{static{L(this,"KmsInvalidKeyUsage")}name="KmsInvalidKeyUsage";$fault="client";constructor(t){super({name:"KmsInvalidKeyUsage",$fault:"client",...t}),Object.setPrototypeOf(this,j4t.prototype)}},$4t=class z4t extends Xr{static{L(this,"KmsInvalidState")}name="KmsInvalidState";$fault="client";constructor(t){super({name:"KmsInvalidState",$fault:"client",...t}),Object.setPrototypeOf(this,z4t.prototype)}},H4t=class V4t extends Xr{static{L(this,"KmsNotFound")}name="KmsNotFound";$fault="client";constructor(t){super({name:"KmsNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,V4t.prototype)}},G4t=class W4t extends Xr{static{L(this,"KmsOptInRequired")}name="KmsOptInRequired";$fault="client";constructor(t){super({name:"KmsOptInRequired",$fault:"client",...t}),Object.setPrototypeOf(this,W4t.prototype)}},K4t=class X4t extends Xr{static{L(this,"KmsThrottled")}name="KmsThrottled";$fault="client";constructor(t){super({name:"KmsThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,X4t.prototype)}},T3n={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},J4t=class Q4t extends Xr{static{L(this,"InvalidMessageContents")}name="InvalidMessageContents";$fault="client";constructor(t){super({name:"InvalidMessageContents",$fault:"client",...t}),Object.setPrototypeOf(this,Q4t.prototype)}},I3n={AWSTraceHeader:"AWSTraceHeader"},Y4t=class Z4t extends Xr{static{L(this,"BatchRequestTooLong")}name="BatchRequestTooLong";$fault="client";constructor(t){super({name:"BatchRequestTooLong",$fault:"client",...t}),Object.setPrototypeOf(this,Z4t.prototype)}},O3n=L(async(e,t)=>{let r=Rs("AddPermission"),n;return n=JSON.stringify(Y2n(e,t)),ti(t,r,"/",void 0,n)},"se_AddPermissionCommand"),N3n=L(async(e,t)=>{let r=Rs("CancelMessageMoveTask"),n;return n=JSON.stringify(e4n(e,t)),ti(t,r,"/",void 0,n)},"se_CancelMessageMoveTaskCommand"),D3n=L(async(e,t)=>{let r=Rs("ChangeMessageVisibility"),n;return n=JSON.stringify(s4n(e,t)),ti(t,r,"/",void 0,n)},"se_ChangeMessageVisibilityCommand"),k3n=L(async(e,t)=>{let r=Rs("ChangeMessageVisibilityBatch"),n;return n=JSON.stringify(t4n(e,t)),ti(t,r,"/",void 0,n)},"se_ChangeMessageVisibilityBatchCommand"),M3n=L(async(e,t)=>{let r=Rs("CreateQueue"),n;return n=JSON.stringify(i4n(e,t)),ti(t,r,"/",void 0,n)},"se_CreateQueueCommand"),L3n=L(async(e,t)=>{let r=Rs("DeleteMessage"),n;return n=JSON.stringify(l4n(e,t)),ti(t,r,"/",void 0,n)},"se_DeleteMessageCommand"),U3n=L(async(e,t)=>{let r=Rs("DeleteMessageBatch"),n;return n=JSON.stringify(o4n(e,t)),ti(t,r,"/",void 0,n)},"se_DeleteMessageBatchCommand"),F3n=L(async(e,t)=>{let r=Rs("DeleteQueue"),n;return n=JSON.stringify(d4n(e,t)),ti(t,r,"/",void 0,n)},"se_DeleteQueueCommand"),B3n=L(async(e,t)=>{let r=Rs("GetQueueAttributes"),n;return n=JSON.stringify(u4n(e,t)),ti(t,r,"/",void 0,n)},"se_GetQueueAttributesCommand"),q3n=L(async(e,t)=>{let r=Rs("GetQueueUrl"),n;return n=JSON.stringify(m4n(e,t)),ti(t,r,"/",void 0,n)},"se_GetQueueUrlCommand"),j3n=L(async(e,t)=>{let r=Rs("ListDeadLetterSourceQueues"),n;return n=JSON.stringify(f4n(e,t)),ti(t,r,"/",void 0,n)},"se_ListDeadLetterSourceQueuesCommand"),$3n=L(async(e,t)=>{let r=Rs("ListMessageMoveTasks"),n;return n=JSON.stringify(p4n(e,t)),ti(t,r,"/",void 0,n)},"se_ListMessageMoveTasksCommand"),z3n=L(async(e,t)=>{let r=Rs("ListQueues"),n;return n=JSON.stringify(g4n(e,t)),ti(t,r,"/",void 0,n)},"se_ListQueuesCommand"),H3n=L(async(e,t)=>{let r=Rs("ListQueueTags"),n;return n=JSON.stringify(h4n(e,t)),ti(t,r,"/",void 0,n)},"se_ListQueueTagsCommand"),V3n=L(async(e,t)=>{let r=Rs("PurgeQueue"),n;return n=JSON.stringify(E4n(e,t)),ti(t,r,"/",void 0,n)},"se_PurgeQueueCommand"),G3n=L(async(e,t)=>{let r=Rs("ReceiveMessage"),n;return n=JSON.stringify(C4n(e,t)),ti(t,r,"/",void 0,n)},"se_ReceiveMessageCommand"),W3n=L(async(e,t)=>{let r=Rs("RemovePermission"),n;return n=JSON.stringify(b4n(e,t)),ti(t,r,"/",void 0,n)},"se_RemovePermissionCommand"),K3n=L(async(e,t)=>{let r=Rs("SendMessage"),n;return n=JSON.stringify(P4n(e,t)),ti(t,r,"/",void 0,n)},"se_SendMessageCommand"),X3n=L(async(e,t)=>{let r=Rs("SendMessageBatch"),n;return n=JSON.stringify(w4n(e,t)),ti(t,r,"/",void 0,n)},"se_SendMessageBatchCommand"),J3n=L(async(e,t)=>{let r=Rs("SetQueueAttributes"),n;return n=JSON.stringify(R4n(e,t)),ti(t,r,"/",void 0,n)},"se_SetQueueAttributesCommand"),Q3n=L(async(e,t)=>{let r=Rs("StartMessageMoveTask"),n;return n=JSON.stringify(T4n(e,t)),ti(t,r,"/",void 0,n)},"se_StartMessageMoveTaskCommand"),Y3n=L(async(e,t)=>{let r=Rs("TagQueue"),n;return n=JSON.stringify(O4n(e,t)),ti(t,r,"/",void 0,n)},"se_TagQueueCommand"),Z3n=L(async(e,t)=>{let r=Rs("UntagQueue"),n;return n=JSON.stringify(N4n(e,t)),ti(t,r,"/",void 0,n)},"se_UntagQueueCommand"),e2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_AddPermissionCommand"),t2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_CancelMessageMoveTaskCommand"),r2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_ChangeMessageVisibilityCommand"),n2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_ChangeMessageVisibilityBatchCommand"),s2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_CreateQueueCommand"),i2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_DeleteMessageCommand"),o2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_DeleteMessageBatchCommand"),a2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_DeleteQueueCommand"),c2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_GetQueueAttributesCommand"),l2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_GetQueueUrlCommand"),d2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_ListDeadLetterSourceQueuesCommand"),u2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_ListMessageMoveTasksCommand"),m2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_ListQueuesCommand"),f2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_ListQueueTagsCommand"),p2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_PurgeQueueCommand"),g2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=F4n(r,t),{$metadata:ot(e),...n}},"de_ReceiveMessageCommand"),h2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_RemovePermissionCommand"),y2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_SendMessageCommand"),_2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_SendMessageBatchCommand"),S2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_SetQueueAttributesCommand"),v2n=L(async(e,t)=>{if(e.statusCode>=300)return ei(e,t);let r=await(0,ve.parseJsonBody)(e.body,t),n={};return n=(0,W._json)(r),{$metadata:ot(e),...n}},"de_StartMessageMoveTaskCommand"),E2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_TagQueueCommand"),C2n=L(async(e,t)=>e.statusCode>=300?ei(e,t):(await(0,W.collectBody)(e.body,t),{$metadata:ot(e)}),"de_UntagQueueCommand"),ei=L(async(e,t)=>{let r={...e,body:await(0,ve.parseJsonErrorBody)(e.body,t)};q4n(r,e.headers);let n=(0,ve.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidAddress":case"com.amazonaws.sqs#InvalidAddress":throw await x2n(r,t);case"InvalidSecurity":case"com.amazonaws.sqs#InvalidSecurity":throw await N2n(r,t);case"OverLimit":case"com.amazonaws.sqs#OverLimit":throw await j2n(r,t);case"QueueDoesNotExist":case"com.amazonaws.sqs#QueueDoesNotExist":case"AWS.SimpleQueueService.NonExistentQueue":throw await H2n(r,t);case"RequestThrottled":case"com.amazonaws.sqs#RequestThrottled":throw await W2n(r,t);case"UnsupportedOperation":case"com.amazonaws.sqs#UnsupportedOperation":case"AWS.SimpleQueueService.UnsupportedOperation":throw await J2n(r,t);case"ResourceNotFoundException":case"com.amazonaws.sqs#ResourceNotFoundException":throw await K2n(r,t);case"MessageNotInflight":case"com.amazonaws.sqs#MessageNotInflight":case"AWS.SimpleQueueService.MessageNotInflight":throw await q2n(r,t);case"ReceiptHandleIsInvalid":case"com.amazonaws.sqs#ReceiptHandleIsInvalid":throw await G2n(r,t);case"BatchEntryIdsNotDistinct":case"com.amazonaws.sqs#BatchEntryIdsNotDistinct":case"AWS.SimpleQueueService.BatchEntryIdsNotDistinct":throw await b2n(r,t);case"EmptyBatchRequest":case"com.amazonaws.sqs#EmptyBatchRequest":case"AWS.SimpleQueueService.EmptyBatchRequest":throw await A2n(r,t);case"InvalidBatchEntryId":case"com.amazonaws.sqs#InvalidBatchEntryId":case"AWS.SimpleQueueService.InvalidBatchEntryId":throw await T2n(r,t);case"TooManyEntriesInBatchRequest":case"com.amazonaws.sqs#TooManyEntriesInBatchRequest":case"AWS.SimpleQueueService.TooManyEntriesInBatchRequest":throw await X2n(r,t);case"InvalidAttributeName":case"com.amazonaws.sqs#InvalidAttributeName":throw await P2n(r,t);case"InvalidAttributeValue":case"com.amazonaws.sqs#InvalidAttributeValue":throw await R2n(r,t);case"QueueDeletedRecently":case"com.amazonaws.sqs#QueueDeletedRecently":case"AWS.SimpleQueueService.QueueDeletedRecently":throw await z2n(r,t);case"QueueNameExists":case"com.amazonaws.sqs#QueueNameExists":case"QueueAlreadyExists":throw await V2n(r,t);case"InvalidIdFormat":case"com.amazonaws.sqs#InvalidIdFormat":throw await I2n(r,t);case"PurgeQueueInProgress":case"com.amazonaws.sqs#PurgeQueueInProgress":case"AWS.SimpleQueueService.PurgeQueueInProgress":throw await $2n(r,t);case"KmsAccessDenied":case"com.amazonaws.sqs#KmsAccessDenied":case"KMS.AccessDeniedException":throw await D2n(r,t);case"KmsDisabled":case"com.amazonaws.sqs#KmsDisabled":case"KMS.DisabledException":throw await k2n(r,t);case"KmsInvalidKeyUsage":case"com.amazonaws.sqs#KmsInvalidKeyUsage":case"KMS.InvalidKeyUsageException":throw await M2n(r,t);case"KmsInvalidState":case"com.amazonaws.sqs#KmsInvalidState":case"KMS.InvalidStateException":throw await L2n(r,t);case"KmsNotFound":case"com.amazonaws.sqs#KmsNotFound":case"KMS.NotFoundException":throw await U2n(r,t);case"KmsOptInRequired":case"com.amazonaws.sqs#KmsOptInRequired":case"KMS.OptInRequired":throw await F2n(r,t);case"KmsThrottled":case"com.amazonaws.sqs#KmsThrottled":case"KMS.ThrottlingException":throw await B2n(r,t);case"InvalidMessageContents":case"com.amazonaws.sqs#InvalidMessageContents":throw await O2n(r,t);case"BatchRequestTooLong":case"com.amazonaws.sqs#BatchRequestTooLong":case"AWS.SimpleQueueService.BatchRequestTooLong":throw await w2n(r,t);default:let s=r.body;return B4n({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),b2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new h4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_BatchEntryIdsNotDistinctRes"),w2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new Y4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_BatchRequestTooLongRes"),A2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new _4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_EmptyBatchRequestRes"),x2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new Y2t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidAddressRes"),P2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new w4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidAttributeNameRes"),R2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new x4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidAttributeValueRes"),T2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new v4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidBatchEntryIdRes"),I2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new N4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidIdFormatRes"),O2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new J4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidMessageContentsRes"),N2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new e4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_InvalidSecurityRes"),D2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new L4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsAccessDeniedRes"),k2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new F4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsDisabledRes"),M2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new q4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsInvalidKeyUsageRes"),L2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new $4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsInvalidStateRes"),U2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new H4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsNotFoundRes"),F2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new G4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsOptInRequiredRes"),B2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new K4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_KmsThrottledRes"),q2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new m4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_MessageNotInflightRes"),j2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new r4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_OverLimitRes"),$2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new k4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_PurgeQueueInProgressRes"),z2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new R4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_QueueDeletedRecentlyRes"),H2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new s4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_QueueDoesNotExistRes"),V2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new I4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_QueueNameExistsRes"),G2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new p4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_ReceiptHandleIsInvalidRes"),W2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new o4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_RequestThrottledRes"),K2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new d4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),X2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new C4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_TooManyEntriesInBatchRequestRes"),J2n=L(async(e,t)=>{let r=e.body,n=(0,W._json)(r),s=new c4t({$metadata:ot(e),...n});return(0,W.decorateServiceException)(s,r)},"de_UnsupportedOperationRes"),Q2n=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_ActionNameList"),Y2n=L((e,t)=>(0,W.take)(e,{AWSAccountIds:L(r=>Z2n(r,t),"AWSAccountIds"),Actions:L(r=>Q2n(r,t),"Actions"),Label:ve._toStr,QueueUrl:ve._toStr}),"se_AddPermissionRequest"),eWt=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_AttributeNameList"),Z2n=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_AWSAccountIdList"),tWt=L((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinaryList"),e4n=L((e,t)=>(0,W.take)(e,{TaskHandle:ve._toStr}),"se_CancelMessageMoveTaskRequest"),t4n=L((e,t)=>(0,W.take)(e,{Entries:L(r=>n4n(r,t),"Entries"),QueueUrl:ve._toStr}),"se_ChangeMessageVisibilityBatchRequest"),r4n=L((e,t)=>(0,W.take)(e,{Id:ve._toStr,ReceiptHandle:ve._toStr,VisibilityTimeout:ve._toNum}),"se_ChangeMessageVisibilityBatchRequestEntry"),n4n=L((e,t)=>e.filter(r=>r!=null).map(r=>r4n(r,t)),"se_ChangeMessageVisibilityBatchRequestEntryList"),s4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr,ReceiptHandle:ve._toStr,VisibilityTimeout:ve._toNum}),"se_ChangeMessageVisibilityRequest"),i4n=L((e,t)=>(0,W.take)(e,{Attributes:L(r=>sWt(r,t),"Attributes"),QueueName:ve._toStr,tags:L(r=>oWt(r,t),"tags")}),"se_CreateQueueRequest"),o4n=L((e,t)=>(0,W.take)(e,{Entries:L(r=>c4n(r,t),"Entries"),QueueUrl:ve._toStr}),"se_DeleteMessageBatchRequest"),a4n=L((e,t)=>(0,W.take)(e,{Id:ve._toStr,ReceiptHandle:ve._toStr}),"se_DeleteMessageBatchRequestEntry"),c4n=L((e,t)=>e.filter(r=>r!=null).map(r=>a4n(r,t)),"se_DeleteMessageBatchRequestEntryList"),l4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr,ReceiptHandle:ve._toStr}),"se_DeleteMessageRequest"),d4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr}),"se_DeleteQueueRequest"),u4n=L((e,t)=>(0,W.take)(e,{AttributeNames:L(r=>eWt(r,t),"AttributeNames"),QueueUrl:ve._toStr}),"se_GetQueueAttributesRequest"),m4n=L((e,t)=>(0,W.take)(e,{QueueName:ve._toStr,QueueOwnerAWSAccountId:ve._toStr}),"se_GetQueueUrlRequest"),f4n=L((e,t)=>(0,W.take)(e,{MaxResults:ve._toNum,NextToken:ve._toStr,QueueUrl:ve._toStr}),"se_ListDeadLetterSourceQueuesRequest"),p4n=L((e,t)=>(0,W.take)(e,{MaxResults:ve._toNum,SourceArn:ve._toStr}),"se_ListMessageMoveTasksRequest"),g4n=L((e,t)=>(0,W.take)(e,{MaxResults:ve._toNum,NextToken:ve._toStr,QueueNamePrefix:ve._toStr}),"se_ListQueuesRequest"),h4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr}),"se_ListQueueTagsRequest"),y4n=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_MessageAttributeNameList"),_4n=L((e,t)=>(0,W.take)(e,{BinaryListValues:L(r=>tWt(r,t),"BinaryListValues"),BinaryValue:t.base64Encoder,DataType:ve._toStr,StringListValues:L(r=>iWt(r,t),"StringListValues"),StringValue:ve._toStr}),"se_MessageAttributeValue"),rWt=L((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=_4n(s,t)),r),{}),"se_MessageBodyAttributeMap"),nWt=L((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=v4n(s,t)),r),{}),"se_MessageBodySystemAttributeMap"),S4n=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_MessageSystemAttributeList"),v4n=L((e,t)=>(0,W.take)(e,{BinaryListValues:L(r=>tWt(r,t),"BinaryListValues"),BinaryValue:t.base64Encoder,DataType:ve._toStr,StringListValues:L(r=>iWt(r,t),"StringListValues"),StringValue:ve._toStr}),"se_MessageSystemAttributeValue"),E4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr}),"se_PurgeQueueRequest"),sWt=L((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,ve._toStr)(s)),r),{}),"se_QueueAttributeMap"),C4n=L((e,t)=>(0,W.take)(e,{AttributeNames:L(r=>eWt(r,t),"AttributeNames"),MaxNumberOfMessages:ve._toNum,MessageAttributeNames:L(r=>y4n(r,t),"MessageAttributeNames"),MessageSystemAttributeNames:L(r=>S4n(r,t),"MessageSystemAttributeNames"),QueueUrl:ve._toStr,ReceiveRequestAttemptId:ve._toStr,VisibilityTimeout:ve._toNum,WaitTimeSeconds:ve._toNum}),"se_ReceiveMessageRequest"),b4n=L((e,t)=>(0,W.take)(e,{Label:ve._toStr,QueueUrl:ve._toStr}),"se_RemovePermissionRequest"),w4n=L((e,t)=>(0,W.take)(e,{Entries:L(r=>x4n(r,t),"Entries"),QueueUrl:ve._toStr}),"se_SendMessageBatchRequest"),A4n=L((e,t)=>(0,W.take)(e,{DelaySeconds:ve._toNum,Id:ve._toStr,MessageAttributes:L(r=>rWt(r,t),"MessageAttributes"),MessageBody:ve._toStr,MessageDeduplicationId:ve._toStr,MessageGroupId:ve._toStr,MessageSystemAttributes:L(r=>nWt(r,t),"MessageSystemAttributes")}),"se_SendMessageBatchRequestEntry"),x4n=L((e,t)=>e.filter(r=>r!=null).map(r=>A4n(r,t)),"se_SendMessageBatchRequestEntryList"),P4n=L((e,t)=>(0,W.take)(e,{DelaySeconds:ve._toNum,MessageAttributes:L(r=>rWt(r,t),"MessageAttributes"),MessageBody:ve._toStr,MessageDeduplicationId:ve._toStr,MessageGroupId:ve._toStr,MessageSystemAttributes:L(r=>nWt(r,t),"MessageSystemAttributes"),QueueUrl:ve._toStr}),"se_SendMessageRequest"),R4n=L((e,t)=>(0,W.take)(e,{Attributes:L(r=>sWt(r,t),"Attributes"),QueueUrl:ve._toStr}),"se_SetQueueAttributesRequest"),T4n=L((e,t)=>(0,W.take)(e,{DestinationArn:ve._toStr,MaxNumberOfMessagesPerSecond:ve._toNum,SourceArn:ve._toStr}),"se_StartMessageMoveTaskRequest"),iWt=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_StringList"),I4n=L((e,t)=>e.filter(r=>r!=null).map(r=>(0,ve._toStr)(r)),"se_TagKeyList"),oWt=L((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,ve._toStr)(s)),r),{}),"se_TagMap"),O4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr,Tags:L(r=>oWt(r,t),"Tags")}),"se_TagQueueRequest"),N4n=L((e,t)=>(0,W.take)(e,{QueueUrl:ve._toStr,TagKeys:L(r=>I4n(r,t),"TagKeys")}),"se_UntagQueueRequest"),D4n=L((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinaryList"),k4n=L((e,t)=>(0,W.take)(e,{Attributes:W._json,Body:W.expectString,MD5OfBody:W.expectString,MD5OfMessageAttributes:W.expectString,MessageAttributes:L(r=>L4n(r,t),"MessageAttributes"),MessageId:W.expectString,ReceiptHandle:W.expectString}),"de_Message"),M4n=L((e,t)=>(0,W.take)(e,{BinaryListValues:L(r=>D4n(r,t),"BinaryListValues"),BinaryValue:t.base64Decoder,DataType:W.expectString,StringListValues:W._json,StringValue:W.expectString}),"de_MessageAttributeValue"),L4n=L((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=M4n(s,t)),r),{}),"de_MessageBodyAttributeMap"),U4n=L((e,t)=>(e||[]).filter(n=>n!=null).map(n=>k4n(n,t)),"de_MessageList"),F4n=L((e,t)=>(0,W.take)(e,{Messages:L(r=>U4n(r,t),"Messages")}),"de_ReceiveMessageResult"),ot=L(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),B4n=(0,W.withBaseException)(Xr),ti=L(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new tCe.HttpRequest(l)},"buildHttpRpcRequest");function Rs(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AmazonSQS.${e}`,"x-amzn-query-mode":"true"}}L(Rs,"sharedHeaders");var q4n=L((e,t)=>{let r=t["x-amzn-query-error"];if(e.body!==void 0&&r!=null){let[n,s]=r.split(";"),i=Object.entries(e.body),o={Type:s,Code:n};Object.assign(e.body,o);for(let[a,c]of i)o[a]=c;delete o.__type,e.body.Error=o}},"populateBodyWithQueryCompatibility"),aWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").f(void 0,void 0).ser(O3n).de(e2n).build(){static{L(this,"AddPermissionCommand")}},cWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").f(void 0,void 0).ser(N3n).de(t2n).build(){static{L(this,"CancelMessageMoveTaskCommand")}},lWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").f(void 0,void 0).ser(k3n).de(n2n).build(){static{L(this,"ChangeMessageVisibilityBatchCommand")}},dWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").f(void 0,void 0).ser(D3n).de(r2n).build(){static{L(this,"ChangeMessageVisibilityCommand")}},uWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").f(void 0,void 0).ser(M3n).de(s2n).build(){static{L(this,"CreateQueueCommand")}},mWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").f(void 0,void 0).ser(U3n).de(o2n).build(){static{L(this,"DeleteMessageBatchCommand")}},fWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").f(void 0,void 0).ser(L3n).de(i2n).build(){static{L(this,"DeleteMessageCommand")}},pWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").f(void 0,void 0).ser(F3n).de(a2n).build(){static{L(this,"DeleteQueueCommand")}},gWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").f(void 0,void 0).ser(B3n).de(c2n).build(){static{L(this,"GetQueueAttributesCommand")}},hWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").f(void 0,void 0).ser(q3n).de(l2n).build(){static{L(this,"GetQueueUrlCommand")}},rCe=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").f(void 0,void 0).ser(j3n).de(d2n).build(){static{L(this,"ListDeadLetterSourceQueuesCommand")}},yWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").f(void 0,void 0).ser($3n).de(u2n).build(){static{L(this,"ListMessageMoveTasksCommand")}},nCe=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").f(void 0,void 0).ser(z3n).de(m2n).build(){static{L(this,"ListQueuesCommand")}},_Wt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").f(void 0,void 0).ser(H3n).de(f2n).build(){static{L(this,"ListQueueTagsCommand")}},SWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").f(void 0,void 0).ser(V3n).de(p2n).build(){static{L(this,"PurgeQueueCommand")}},vWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,WU.getReceiveMessagePlugin)(r)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").f(void 0,void 0).ser(G3n).de(g2n).build(){static{L(this,"ReceiveMessageCommand")}},EWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").f(void 0,void 0).ser(W3n).de(h2n).build(){static{L(this,"RemovePermissionCommand")}},CWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,WU.getSendMessageBatchPlugin)(r)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").f(void 0,void 0).ser(X3n).de(_2n).build(){static{L(this,"SendMessageBatchCommand")}},bWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,WU.getSendMessagePlugin)(r)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").f(void 0,void 0).ser(K3n).de(y2n).build(){static{L(this,"SendMessageCommand")}},wWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").f(void 0,void 0).ser(J3n).de(S2n).build(){static{L(this,"SetQueueAttributesCommand")}},AWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").f(void 0,void 0).ser(Q3n).de(v2n).build(){static{L(this,"StartMessageMoveTaskCommand")}},xWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").f(void 0,void 0).ser(Y3n).de(E2n).build(){static{L(this,"TagQueueCommand")}},PWt=class extends W.Command.classBuilder().ep(Ys).m(function(e,t,r,n){return[(0,Zs.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ps.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").f(void 0,void 0).ser(Z3n).de(C2n).build(){static{L(this,"UntagQueueCommand")}},j4n={AddPermissionCommand:aWt,CancelMessageMoveTaskCommand:cWt,ChangeMessageVisibilityCommand:dWt,ChangeMessageVisibilityBatchCommand:lWt,CreateQueueCommand:uWt,DeleteMessageCommand:fWt,DeleteMessageBatchCommand:mWt,DeleteQueueCommand:pWt,GetQueueAttributesCommand:gWt,GetQueueUrlCommand:hWt,ListDeadLetterSourceQueuesCommand:rCe,ListMessageMoveTasksCommand:yWt,ListQueuesCommand:nCe,ListQueueTagsCommand:_Wt,PurgeQueueCommand:SWt,ReceiveMessageCommand:vWt,RemovePermissionCommand:EWt,SendMessageCommand:bWt,SendMessageBatchCommand:CWt,SetQueueAttributesCommand:wWt,StartMessageMoveTaskCommand:AWt,TagQueueCommand:xWt,UntagQueueCommand:PWt},RWt=class extends eJ{static{L(this,"SQS")}};(0,W.createAggregatedClient)(j4n,RWt);var $4n=(0,GU.createPaginator)(eJ,rCe,"NextToken","NextToken","MaxResults"),z4n=(0,GU.createPaginator)(eJ,nCe,"NextToken","NextToken","MaxResults")});var J4n={};ct(J4n,{handler:()=>X4n});module.exports=F(J4n);var Wi=C(rye());var WR=C(IWt());l8();var li=C(rye()),DWt=new WR.SQSClient({}),tp=process.env.OCR_QUEUE_URL?.trim(),tJ=process.env.STAGE||"production",OWt=process.env.OCR_QUEUE_NAME?.trim(),H4n=`namecard-ocr-queue-${tJ}`,V4n=process.env.IS_OFFLINE==="true"||tJ==="local",yh,NWt=!1;function G4n(e){if(e)try{let t=e.split("/");return t[t.length-1]||void 0}catch(t){li.logger.debug("Failed to extract queue name from URL",{url:e,error:t instanceof Error?t.message:String(t)});return}}async function W4n(){if(yh)return yh;let e=tJ||"staging",t=G4n(tp),r=t?.includes(e);if(tp&&r)return yh=tp,yh;if(tp&&!r&&li.logger.warn("Configured OCR queue URL does not match current stage",{configuredQueueUrl:tp,queueNameFromUrl:t,queueStage:e}),V4n)return li.logger.debug("Skipping OCR queue resolution in offline/local mode",{configuredQueueUrl:tp,stage:e}),tp;if(!NWt){NWt=!0;let n=OWt||H4n;try{let s=await DWt.send(new WR.GetQueueUrlCommand({QueueName:n}));if(s.QueueUrl)return yh=s.QueueUrl,li.logger.info("Resolved OCR queue URL via GetQueueUrl",{queueName:n,resolvedQueueUrl:yh}),yh;li.logger.error("GetQueueUrl returned no URL for OCR queue",void 0,{queueName:n})}catch(s){li.logger.error("Failed to resolve OCR queue URL via GetQueueUrl",s instanceof Error?s:void 0,{queueName:n})}}if(tp)return li.logger.warn("Falling back to configured OCR queue URL despite stage mismatch",{configuredQueueUrl:tp,queueStage:e}),yh=tp,yh;li.logger.debug("No OCR queue URL could be resolved",{queueStage:e,configuredQueueName:OWt})}function K4n(e){switch(e){case"ocr":return"ocr";case"thumbnail":return"thumbnail";case"web":return"web-display";case"original":return"original";default:return"storage"}}function sCe(e,t,r=[]){if(!(!e||!t))return{size:t.processedSize,format:t.outputFormat,dimensions:t.processedDimensions,compressionRatio:t.compressionRatio,processingTime:t.processingTime,optimizations:r,url:e.url,key:e.key}}async function kWt(e){let{buffer:t,fileName:r,mimeType:n,userId:s,validationResult:i}=e,o=li.ImagePreprocessingService.getOptionsForUseCase("storage"),a=await li.ImagePreprocessingService.processImage(t,o),c=await li.ImagePreprocessingService.createVariants(t,[{name:"ocr",options:{purpose:"ocr"}},{name:"thumbnail",options:{purpose:"thumbnail"}},{name:"web",options:{purpose:"web-display"}}]),l=await li.s3Service.uploadFile(t,r,{userId:s,purpose:"original",variant:"raw",contentType:n,originalName:r}),d=await li.s3Service.uploadFile(a.buffer,r,{userId:s,purpose:"storage",variant:"optimized",contentType:li.s3Service.mapFormatToMime(a.metadata.outputFormat),originalName:r}),u={};for(let[m,p]of Object.entries(c)){let g=await li.s3Service.uploadFile(p.buffer,r,{userId:s,purpose:K4n(m),variant:m,contentType:li.s3Service.mapFormatToMime(p.metadata.outputFormat),originalName:r});u[m]={upload:g,metadata:p.metadata,optimizations:p.optimizations,warnings:p.warnings}}return{imageId:Wc(),fileName:r,mimeType:n,fileSize:t.length,userId:s,validation:i,storageResult:a,originalUpload:l,storageUpload:d,variantUploads:u}}function MWt(e){return{id:e.imageId,originalName:e.fileName,size:e.fileSize,mimeType:e.mimeType,uploadedAt:new Date().toISOString(),uploadedBy:e.userId,status:"processed",files:[{id:e.imageId,key:e.storageUpload.key,bucket:e.storageUpload.bucket,url:e.storageUpload.url,originalKey:e.originalUpload.key,variants:{original:e.originalUpload.url,optimized:e.storageUpload.url,ocr:e.variantUploads.ocr?.upload.url||e.storageUpload.url,thumbnail:e.variantUploads.thumbnail?.upload.url||e.storageUpload.url,web:e.variantUploads.web?.upload.url||e.storageUpload.url}}],validation:{isValid:e.validation.isValid,warnings:e.validation.warnings,metadata:e.validation.metadata},processing:{primaryResult:{size:e.storageResult.metadata.processedSize,format:e.storageResult.metadata.outputFormat,dimensions:e.storageResult.metadata.processedDimensions,compressionRatio:e.storageResult.metadata.compressionRatio,processingTime:e.storageResult.metadata.processingTime,optimizations:e.storageResult.optimizations,warnings:e.storageResult.warnings},variants:{ocr:sCe(e.variantUploads.ocr?.upload,e.variantUploads.ocr?.metadata,e.variantUploads.ocr?.optimizations),thumbnail:sCe(e.variantUploads.thumbnail?.upload,e.variantUploads.thumbnail?.metadata,e.variantUploads.thumbnail?.optimizations),web:sCe(e.variantUploads.web?.upload,e.variantUploads.web?.metadata,e.variantUploads.web?.optimizations)}},storage:{original:e.originalUpload,optimized:e.storageUpload,variants:Object.fromEntries(Object.entries(e.variantUploads).map(([t,r])=>[t,r.upload]))}}}function LWt(e,t){return{type:"OCR_REQUEST",version:"2025-01-01",stage:process.env.STAGE||"staging",requestId:t,imageId:e.imageId,userId:e.userId,bucket:e.storageUpload.bucket,originalKey:e.originalUpload.key,optimizedKey:e.storageUpload.key,ocrKey:e.variantUploads.ocr?.upload.key||e.storageUpload.key,mimeType:e.variantUploads.ocr?.upload.contentType||e.mimeType,uploadedAt:new Date().toISOString(),metadata:{validationWarnings:e.validation.warnings}}}async function UWt(e){let t=await W4n();if(!t){li.logger.debug("Skipping OCR queue enqueue: no queue URL available",{stage:tJ});return}try{await DWt.send(new WR.SendMessageCommand({QueueUrl:t,MessageBody:JSON.stringify(e)})),li.logger.debug("OCR job enqueued",{queueUrl:t})}catch(r){li.logger.error("Failed to enqueue OCR job",r instanceof Error?r:void 0,{queueUrl:t})}}var X4n=async(e,t)=>{let r=Date.now(),n=(0,Wi.getRequestId)(e);Wi.logger.logRequest(e.httpMethod,e.path,{requestId:n,functionName:t.functionName});try{let s=e.headers?.authorization||e.headers?.Authorization,i=await(0,Wi.verifyAuthToken)(s);if(!i)return(0,Wi.createErrorResponse)("User not authenticated",401,n);let o;try{o=(0,Wi.parseMultipartFormData)(e)}catch(w){return Wi.logger.warn("Failed to parse multipart form data",{requestId:n,error:w instanceof Error?w.message:String(w)}),{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({success:!1,message:"Invalid multipart form data"})}}let a=o.files.filter(w=>["images","image"].includes(w.fieldName));if(a.length===0)return{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({success:!1,message:"No image files provided"})};let c=Wi.ImageValidationService.getConfigForUseCase("business-card"),l=await Promise.all(a.map(w=>Wi.ImageValidationService.validateImage(w.content,w.filename,c))),d=l.map((w,A)=>({result:w,index:A})).filter(w=>!w.result.isValid).map(w=>({name:a[w.index].filename,errors:w.result.errors}));if(d.length>0){let w=d.map(A=>`${A.name}: ${A.errors.join(", ")}`).join("; ");return{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({success:!1,message:`Batch validation failed for ${d.length} file(s): ${w}`,details:d})}}let u=[];for(let[w,A]of a.entries()){let O=l[w],T=await kWt({buffer:A.content,fileName:A.filename,mimeType:A.contentType,userId:i.id,validationResult:O});u.push(T)}let m=u.map(w=>MWt(w)),p=u.reduce((w,A)=>w+A.fileSize,0),g=u.reduce((w,A)=>w+(A.validation.warnings?.length||0),0);for(let w of u)await UWt(LWt(w,n));Wi.logger.info("Batch image upload completed",{userId:i.id,fileCount:u.length,totalSize:p,warnings:g});let y={success:!0,message:`${u.length} images uploaded, validated, and processed successfully`,data:{files:m,totalFiles:a.length,processedFiles:u.length,totalSize:p,uploadedBy:i.id,validation:{overallValid:!0,warnings:g}}},b=Date.now()-r;return Wi.logger.logResponse(201,b,{requestId:t.awsRequestId,functionName:t.functionName}),{statusCode:201,headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}}catch(s){let i=Date.now()-r;return Wi.logger.error("Multiple images upload failed",s instanceof Error?s:void 0,{requestId:t.awsRequestId}),Wi.logger.logResponse(500,i,{requestId:t.awsRequestId,functionName:t.functionName}),s instanceof Wi.AppError?{statusCode:s.statusCode,headers:{"Content-Type":"application/json"},body:JSON.stringify({success:!1,message:s.message})}:{statusCode:500,headers:{"Content-Type":"application/json"},body:JSON.stringify({success:!1,message:"Multiple images upload failed"})}}};0&&(module.exports={handler});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
