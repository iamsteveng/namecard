"use strict";var Xvt=Object.create;var zO=Object.defineProperty;var Jvt=Object.getOwnPropertyDescriptor;var Yvt=Object.getOwnPropertyNames;var Qvt=Object.getPrototypeOf,Zvt=Object.prototype.hasOwnProperty;var v=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kt=(e,t)=>{for(var r in t)zO(e,r,{get:t[r],enumerable:!0})},gae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Yvt(t))!Zvt.call(e,s)&&s!==r&&zO(e,s,{get:()=>t[s],enumerable:!(n=Jvt(t,s))||n.enumerable});return e};var C=(e,t,r)=>(r=e!=null?Xvt(Qvt(e)):{},gae(t||!e||!e.__esModule?zO(r,"default",{value:e,enumerable:!0}):r,e)),H=e=>gae(zO({},"__esModule",{value:!0}),e);var Qf=E((ZQr,wae)=>{var HO=Object.defineProperty,eEt=Object.getOwnPropertyDescriptor,tEt=Object.getOwnPropertyNames,rEt=Object.prototype.hasOwnProperty,Yf=(e,t)=>HO(e,"name",{value:t,configurable:!0}),nEt=(e,t)=>{for(var r in t)HO(e,r,{get:t[r],enumerable:!0})},sEt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tEt(t))!rEt.call(e,s)&&s!==r&&HO(e,s,{get:()=>t[s],enumerable:!(n=eEt(t,s))||n.enumerable});return e},iEt=e=>sEt(HO({},"__esModule",{value:!0}),e),hae={};nEt(hae,{AlgorithmId:()=>vae,EndpointURLScheme:()=>Sae,FieldPosition:()=>Eae,HttpApiKeyAuthLocation:()=>_ae,HttpAuthLocation:()=>yae,IniSectionType:()=>Cae,RequestHandlerProtocol:()=>bae,SMITHY_CONTEXT_KEY:()=>dEt,getDefaultClientConfiguration:()=>cEt,resolveDefaultRuntimeConfig:()=>lEt});wae.exports=iEt(hae);var yae=(e=>(e.HEADER="header",e.QUERY="query",e))(yae||{}),_ae=(e=>(e.HEADER="header",e.QUERY="query",e))(_ae||{}),Sae=(e=>(e.HTTP="http",e.HTTPS="https",e))(Sae||{}),vae=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(vae||{}),oEt=Yf(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:Yf(()=>"sha256","algorithmId"),checksumConstructor:Yf(()=>e.sha256,"checksumConstructor")}),e.md5!=null&&t.push({algorithmId:Yf(()=>"md5","algorithmId"),checksumConstructor:Yf(()=>e.md5,"checksumConstructor")}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),aEt=Yf(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),cEt=Yf(e=>oEt(e),"getDefaultClientConfiguration"),lEt=Yf(e=>aEt(e),"resolveDefaultRuntimeConfig"),Eae=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Eae||{}),dEt="__smithy_context",Cae=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Cae||{}),bae=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(bae||{})});var Fe=E((eZr,Iae)=>{var GO=Object.defineProperty,uEt=Object.getOwnPropertyDescriptor,mEt=Object.getOwnPropertyNames,fEt=Object.prototype.hasOwnProperty,Zf=(e,t)=>GO(e,"name",{value:t,configurable:!0}),pEt=(e,t)=>{for(var r in t)GO(e,r,{get:t[r],enumerable:!0})},gEt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of mEt(t))!fEt.call(e,s)&&s!==r&&GO(e,s,{get:()=>t[s],enumerable:!(n=uEt(t,s))||n.enumerable});return e},hEt=e=>gEt(GO({},"__esModule",{value:!0}),e),xae={};pEt(xae,{Field:()=>SEt,Fields:()=>vEt,HttpRequest:()=>EEt,HttpResponse:()=>CEt,IHttpRequest:()=>Aae.HttpRequest,getHttpHandlerExtensionConfiguration:()=>yEt,isValidHostname:()=>Rae,resolveHttpHandlerRuntimeConfig:()=>_Et});Iae.exports=hEt(xae);var yEt=Zf(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),_Et=Zf(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Aae=Qf(),SEt=class{static{Zf(this,"Field")}constructor({name:e,kind:t=Aae.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},vEt=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Zf(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},EEt=class u3{static{Zf(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new u3({...t,headers:{...t.headers}});return r.query&&(r.query=Pae(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return u3.clone(this)}};function Pae(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Zf(Pae,"cloneQuery");var CEt=class{static{Zf(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Rae(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Zf(Rae,"isValidHostname")});var b0=E((sZr,kae)=>{"use strict";var WO=Object.defineProperty,bEt=Object.getOwnPropertyDescriptor,wEt=Object.getOwnPropertyNames,xEt=Object.prototype.hasOwnProperty,VO=(e,t)=>WO(e,"name",{value:t,configurable:!0}),AEt=(e,t)=>{for(var r in t)WO(e,r,{get:t[r],enumerable:!0})},PEt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wEt(t))!xEt.call(e,s)&&s!==r&&WO(e,s,{get:()=>t[s],enumerable:!(n=bEt(t,s))||n.enumerable});return e},REt=e=>PEt(WO({},"__esModule",{value:!0}),e),Tae={};AEt(Tae,{getHostHeaderPlugin:()=>TEt,hostHeaderMiddleware:()=>Nae,hostHeaderMiddlewareOptions:()=>Dae,resolveHostHeaderConfig:()=>Oae});kae.exports=REt(Tae);var IEt=Fe();function Oae(e){return e}VO(Oae,"resolveHostHeaderConfig");var Nae=VO(e=>t=>async r=>{if(!IEt.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),Dae={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},TEt=VO(e=>({applyToStack:VO(t=>{t.add(Nae(e),Dae)},"applyToStack")}),"getHostHeaderPlugin")});var w0=E((iZr,Bae)=>{"use strict";var KO=Object.defineProperty,OEt=Object.getOwnPropertyDescriptor,NEt=Object.getOwnPropertyNames,DEt=Object.prototype.hasOwnProperty,m3=(e,t)=>KO(e,"name",{value:t,configurable:!0}),kEt=(e,t)=>{for(var r in t)KO(e,r,{get:t[r],enumerable:!0})},MEt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NEt(t))!DEt.call(e,s)&&s!==r&&KO(e,s,{get:()=>t[s],enumerable:!(n=OEt(t,s))||n.enumerable});return e},LEt=e=>MEt(KO({},"__esModule",{value:!0}),e),Mae={};kEt(Mae,{getLoggerPlugin:()=>UEt,loggerMiddleware:()=>Lae,loggerMiddlewareOptions:()=>Uae});Bae.exports=LEt(Mae);var Lae=m3(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:f}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),Uae={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},UEt=m3(e=>({applyToStack:m3(t=>{t.add(Lae(),Uae)},"applyToStack")}),"getLoggerPlugin")});var x0=E((oZr,$ae)=>{"use strict";var JO=Object.defineProperty,BEt=Object.getOwnPropertyDescriptor,FEt=Object.getOwnPropertyNames,qEt=Object.prototype.hasOwnProperty,XO=(e,t)=>JO(e,"name",{value:t,configurable:!0}),jEt=(e,t)=>{for(var r in t)JO(e,r,{get:t[r],enumerable:!0})},$Et=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FEt(t))!qEt.call(e,s)&&s!==r&&JO(e,s,{get:()=>t[s],enumerable:!(n=BEt(t,s))||n.enumerable});return e},zEt=e=>$Et(JO({},"__esModule",{value:!0}),e),Fae={};jEt(Fae,{addRecursionDetectionMiddlewareOptions:()=>jae,getRecursionDetectionPlugin:()=>WEt,recursionDetectionMiddleware:()=>qae});$ae.exports=zEt(Fae);var HEt=Fe(),f3="X-Amzn-Trace-Id",GEt="AWS_LAMBDA_FUNCTION_NAME",VEt="_X_AMZN_TRACE_ID",qae=XO(e=>t=>async r=>{let{request:n}=r;if(!HEt.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===f3.toLowerCase())??f3;if(n.headers.hasOwnProperty(s))return t(r);let i=process.env[GEt],o=process.env[VEt],a=XO(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(i)&&a(o)&&(n.headers[f3]=o),t({...r,request:n})},"recursionDetectionMiddleware"),jae={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},WEt=XO(e=>({applyToStack:XO(t=>{t.add(qae(e),jae)},"applyToStack")}),"getRecursionDetectionPlugin")});var p3,KEt,zae=v(()=>{p3=C(Qf()),KEt=e=>e[p3.SMITHY_CONTEXT_KEY]||(e[p3.SMITHY_CONTEXT_KEY]={})});var bn=E((cZr,Wae)=>{var YO=Object.defineProperty,XEt=Object.getOwnPropertyDescriptor,JEt=Object.getOwnPropertyNames,YEt=Object.prototype.hasOwnProperty,Gae=(e,t)=>YO(e,"name",{value:t,configurable:!0}),QEt=(e,t)=>{for(var r in t)YO(e,r,{get:t[r],enumerable:!0})},ZEt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of JEt(t))!YEt.call(e,s)&&s!==r&&YO(e,s,{get:()=>t[s],enumerable:!(n=XEt(t,s))||n.enumerable});return e},eCt=e=>ZEt(YO({},"__esModule",{value:!0}),e),Vae={};QEt(Vae,{getSmithyContext:()=>tCt,normalizeProvider:()=>rCt});Wae.exports=eCt(Vae);var Hae=Qf(),tCt=Gae(e=>e[Hae.SMITHY_CONTEXT_KEY]||(e[Hae.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),rCt=Gae(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Kae,Xae=v(()=>{Kae=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function nCt(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Jae,A0,QO=v(()=>{Jae=C(bn());Xae();A0=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=Kae(i,o),c=nCt(e.httpAuthSchemes),l=(0,Jae.getSmithyContext)(n),d=[];for(let u of a){let f=c.get(u.schemeId);if(!f){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let p=f.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:S={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},S),l.selectedHttpAuthScheme={httpAuthOption:u,identity:await p(u.identityProperties),signer:f.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)}});var Yae,$a,Qae=v(()=>{QO();Yae={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},$a=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(A0(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Yae)}})});var pi=E((pZr,ice)=>{var ZO=Object.defineProperty,sCt=Object.getOwnPropertyDescriptor,iCt=Object.getOwnPropertyNames,oCt=Object.prototype.hasOwnProperty,P0=(e,t)=>ZO(e,"name",{value:t,configurable:!0}),aCt=(e,t)=>{for(var r in t)ZO(e,r,{get:t[r],enumerable:!0})},cCt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of iCt(t))!oCt.call(e,s)&&s!==r&&ZO(e,s,{get:()=>t[s],enumerable:!(n=sCt(t,s))||n.enumerable});return e},lCt=e=>cCt(ZO({},"__esModule",{value:!0}),e),Zae={};aCt(Zae,{deserializerMiddleware:()=>ece,deserializerMiddlewareOption:()=>rce,getSerdePlugin:()=>sce,serializerMiddleware:()=>tce,serializerMiddlewareOption:()=>nce});ice.exports=lCt(Zae);var dCt=Fe(),ece=P0((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(dCt.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:g3(/^x-[\w-]+-request-?id$/,l),extendedRequestId:g3(/^x-[\w-]+-id-2$/,l),cfId:g3(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},"deserializerMiddleware"),g3=P0((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),tce=P0((e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},"serializerMiddleware"),rce={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},nce={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function sce(e,t,r){return{applyToStack:P0(n=>{n.add(ece(e,r),rce),n.add(tce(e,t),nce)},"applyToStack")}}P0(sce,"getSerdePlugin")});var oce,ace,uCt,cce=v(()=>{oce=C(pi());QO();ace={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:oce.serializerMiddlewareOption.name},uCt=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(A0(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ace)}})});var lce=v(()=>{QO();Qae();cce()});var dce,uce,mCt,fCt,h3,y3=v(()=>{dce=C(Fe()),uce=C(bn()),mCt=e=>t=>{throw t},fCt=(e,t)=>{},h3=e=>(t,r)=>async n=>{if(!dce.HttpRequest.isInstance(n.request))return t(n);let i=(0,uce.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||mCt)(o));return(c.successHandler||fCt)(l.response,o),l}});var mce,za,fce=v(()=>{y3();mce={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},za=e=>({applyToStack:t=>{t.addRelativeTo(h3(e),mce)}})});var pce=v(()=>{y3();fce()});var Qt,gce=v(()=>{Qt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function hce(e,t,r,n,s){return async function*(o,a,...c){let l=a,d=o.startingToken??l[r],u=!0,f;for(;u;){if(l[r]=d,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)f=await pCt(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield f;let p=d;d=gCt(f,n),u=!!(d&&(!o.stopOnSameToken||d!==p))}return void 0}}var pCt,gCt,yce=v(()=>{pCt=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};gCt=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var R0=E((IZr,Sce)=>{var eN=Object.defineProperty,hCt=Object.getOwnPropertyDescriptor,yCt=Object.getOwnPropertyNames,_Ct=Object.prototype.hasOwnProperty,SCt=(e,t)=>eN(e,"name",{value:t,configurable:!0}),vCt=(e,t)=>{for(var r in t)eN(e,r,{get:t[r],enumerable:!0})},ECt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yCt(t))!_Ct.call(e,s)&&s!==r&&eN(e,s,{get:()=>t[s],enumerable:!(n=hCt(t,s))||n.enumerable});return e},CCt=e=>ECt(eN({},"__esModule",{value:!0}),e),_ce={};vCt(_ce,{isArrayBuffer:()=>bCt});Sce.exports=CCt(_ce);var bCt=SCt(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var HS=E((TZr,Cce)=>{var tN=Object.defineProperty,wCt=Object.getOwnPropertyDescriptor,xCt=Object.getOwnPropertyNames,ACt=Object.prototype.hasOwnProperty,vce=(e,t)=>tN(e,"name",{value:t,configurable:!0}),PCt=(e,t)=>{for(var r in t)tN(e,r,{get:t[r],enumerable:!0})},RCt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xCt(t))!ACt.call(e,s)&&s!==r&&tN(e,s,{get:()=>t[s],enumerable:!(n=wCt(t,s))||n.enumerable});return e},ICt=e=>RCt(tN({},"__esModule",{value:!0}),e),Ece={};PCt(Ece,{fromArrayBuffer:()=>OCt,fromString:()=>NCt});Cce.exports=ICt(Ece);var TCt=R0(),_3=require("buffer"),OCt=vce((e,t=0,r=e.byteLength-t)=>{if(!(0,TCt.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return _3.Buffer.from(e,t,r)},"fromArrayBuffer"),NCt=vce((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?_3.Buffer.from(e,t):_3.Buffer.from(e)},"fromString")});var bce=E(rN=>{"use strict";Object.defineProperty(rN,"__esModule",{value:!0});rN.fromBase64=void 0;var DCt=HS(),kCt=/^[A-Za-z0-9+/]*={0,2}$/,MCt=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!kCt.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,DCt.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};rN.fromBase64=MCt});var Ct=E((NZr,Pce)=>{var nN=Object.defineProperty,LCt=Object.getOwnPropertyDescriptor,UCt=Object.getOwnPropertyNames,BCt=Object.prototype.hasOwnProperty,S3=(e,t)=>nN(e,"name",{value:t,configurable:!0}),FCt=(e,t)=>{for(var r in t)nN(e,r,{get:t[r],enumerable:!0})},qCt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UCt(t))!BCt.call(e,s)&&s!==r&&nN(e,s,{get:()=>t[s],enumerable:!(n=LCt(t,s))||n.enumerable});return e},jCt=e=>qCt(nN({},"__esModule",{value:!0}),e),wce={};FCt(wce,{fromUtf8:()=>Ace,toUint8Array:()=>$Ct,toUtf8:()=>zCt});Pce.exports=jCt(wce);var xce=HS(),Ace=S3(e=>{let t=(0,xce.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),$Ct=S3(e=>typeof e=="string"?Ace(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),zCt=S3(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,xce.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Rce=E(sN=>{"use strict";Object.defineProperty(sN,"__esModule",{value:!0});sN.toBase64=void 0;var HCt=HS(),GCt=Ct(),VCt=e=>{let t;if(typeof e=="string"?t=(0,GCt.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,HCt.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};sN.toBase64=VCt});var bt=E((kZr,iN)=>{var Ice=Object.defineProperty,WCt=Object.getOwnPropertyDescriptor,KCt=Object.getOwnPropertyNames,XCt=Object.prototype.hasOwnProperty,v3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KCt(t))!XCt.call(e,s)&&s!==r&&Ice(e,s,{get:()=>t[s],enumerable:!(n=WCt(t,s))||n.enumerable});return e},Tce=(e,t,r)=>(v3(e,t,"default"),r&&v3(r,t,"default")),JCt=e=>v3(Ice({},"__esModule",{value:!0}),e),E3={};iN.exports=JCt(E3);Tce(E3,bce(),iN.exports);Tce(E3,Rce(),iN.exports)});var b3=E(oN=>{"use strict";Object.defineProperty(oN,"__esModule",{value:!0});oN.ChecksumStream=void 0;var YCt=bt(),QCt=require("stream"),C3=class extends QCt.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=i??YCt.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};oN.ChecksumStream=C3});var ep=E(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.isBlob=GS.isReadableStream=void 0;var ZCt=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};GS.isReadableStream=ZCt;var ebt=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};GS.isBlob=ebt});var Oce=E(aN=>{"use strict";Object.defineProperty(aN,"__esModule",{value:!0});aN.ChecksumStream=void 0;var tbt=typeof ReadableStream=="function"?ReadableStream:function(){},w3=class extends tbt{};aN.ChecksumStream=w3});var Nce=E(cN=>{"use strict";Object.defineProperty(cN,"__esModule",{value:!0});cN.createChecksumStream=void 0;var rbt=bt(),nbt=ep(),sbt=Oce(),ibt=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var i,o;if(!(0,nbt.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=s??rbt.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,u){t.update(d),u.enqueue(d)},async flush(d){let u=await t.digest(),f=a(u);if(e!==f){let p=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);d.error(p)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,sbt.ChecksumStream.prototype),l};cN.createChecksumStream=ibt});var Dce=E(x3=>{"use strict";Object.defineProperty(x3,"__esModule",{value:!0});x3.createChecksumStream=lbt;var obt=ep(),abt=b3(),cbt=Nce();function lbt(e){return typeof ReadableStream=="function"&&(0,obt.isReadableStream)(e.source)?(0,cbt.createChecksumStream)(e):new abt.ChecksumStream(e)}});var P3=E(lN=>{"use strict";Object.defineProperty(lN,"__esModule",{value:!0});lN.ByteArrayCollector=void 0;var A3=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};lN.ByteArrayCollector=A3});var Uce=E(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.createBufferedReadable=void 0;rm.createBufferedReadableStream=kce;rm.merge=Mce;rm.flush=dN;rm.sizeOf=VS;rm.modeOf=Lce;var dbt=P3();function kce(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new dbt.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:u}=await n.read(),f=d;if(u){if(a!==-1){let p=dN(o,a);VS(p)>0&&l.enqueue(p)}l.close()}else{let p=Lce(f,!1);if(a!==p&&(a>=0&&l.enqueue(dN(o,a)),a=p),a===-1){l.enqueue(f);return}let g=VS(f);i+=g;let S=VS(o[a]);if(g>=t&&S===0)l.enqueue(f);else{let b=Mce(o,a,f);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),b>=t?l.enqueue(dN(o,a)):await c(l)}}};return new ReadableStream({pull:c})}rm.createBufferedReadable=kce;function Mce(e,t,r){switch(t){case 0:return e[0]+=r,VS(e[0]);case 1:case 2:return e[t].push(r),VS(e[t])}}function dN(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function VS(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function Lce(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Fce=E(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.createBufferedReadable=fbt;var ubt=require("node:stream"),Bce=P3(),nm=Uce(),mbt=ep();function fbt(e,t,r){if((0,mbt.isReadableStream)(e))return(0,nm.createBufferedReadableStream)(e,t,r);let n=new ubt.Readable({read(){}}),s=!1,i=0,o=["",new Bce.ByteArrayCollector(c=>new Uint8Array(c)),new Bce.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,nm.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,nm.flush)(o,a)),a=l),a===-1){n.push(c);return}let d=(0,nm.sizeOf)(c);i+=d;let u=(0,nm.sizeOf)(o[a]);if(d>=t&&u===0)n.push(c);else{let f=(0,nm.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),f>=t&&n.push((0,nm.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,nm.flush)(o,a);(0,nm.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var qce=E(uN=>{"use strict";Object.defineProperty(uN,"__esModule",{value:!0});uN.getAwsChunkedEncodingStream=void 0;var pbt=require("stream"),gbt=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new pbt.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${i}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};uN.getAwsChunkedEncodingStream=gbt});var jce=E(I3=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.headStream=hbt;async function hbt(e,t){var r;let n=0,s=[],i=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await i.read();if(d&&(s.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;o=l}i.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of s){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var $ce=E(mN=>{"use strict";Object.defineProperty(mN,"__esModule",{value:!0});mN.headStream=void 0;var ybt=require("stream"),_bt=jce(),Sbt=ep(),vbt=(e,t)=>(0,Sbt.isReadableStream)(e)?(0,_bt.headStream)(e,t):new Promise((r,n)=>{let s=new T3;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});mN.headStream=vbt;var T3=class extends ybt.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-i),this.emit("finish")}n()}}});var N3=E((VZr,Gce)=>{var fN=Object.defineProperty,Ebt=Object.getOwnPropertyDescriptor,Cbt=Object.getOwnPropertyNames,bbt=Object.prototype.hasOwnProperty,O3=(e,t)=>fN(e,"name",{value:t,configurable:!0}),wbt=(e,t)=>{for(var r in t)fN(e,r,{get:t[r],enumerable:!0})},xbt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cbt(t))!bbt.call(e,s)&&s!==r&&fN(e,s,{get:()=>t[s],enumerable:!(n=Ebt(t,s))||n.enumerable});return e},Abt=e=>xbt(fN({},"__esModule",{value:!0}),e),zce={};wbt(zce,{escapeUri:()=>Hce,escapeUriPath:()=>Rbt});Gce.exports=Abt(zce);var Hce=O3(e=>encodeURIComponent(e).replace(/[!'()*]/g,Pbt),"escapeUri"),Pbt=O3(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Rbt=O3(e=>e.split("/").map(Hce).join("/"),"escapeUriPath")});var gN=E((WZr,Kce)=>{var pN=Object.defineProperty,Ibt=Object.getOwnPropertyDescriptor,Tbt=Object.getOwnPropertyNames,Obt=Object.prototype.hasOwnProperty,Nbt=(e,t)=>pN(e,"name",{value:t,configurable:!0}),Dbt=(e,t)=>{for(var r in t)pN(e,r,{get:t[r],enumerable:!0})},kbt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Tbt(t))!Obt.call(e,s)&&s!==r&&pN(e,s,{get:()=>t[s],enumerable:!(n=Ibt(t,s))||n.enumerable});return e},Mbt=e=>kbt(pN({},"__esModule",{value:!0}),e),Vce={};Dbt(Vce,{buildQueryString:()=>Wce});Kce.exports=Mbt(Vce);var D3=N3();function Wce(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,D3.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,D3.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,D3.escapeUri)(n)}`),t.push(s)}}return t.join("&")}Nbt(Wce,"buildQueryString")});var Ui=E((KZr,lle)=>{var Lbt=Object.create,I0=Object.defineProperty,Ubt=Object.getOwnPropertyDescriptor,Bbt=Object.getOwnPropertyNames,Fbt=Object.getPrototypeOf,qbt=Object.prototype.hasOwnProperty,Nr=(e,t)=>I0(e,"name",{value:t,configurable:!0}),jbt=(e,t)=>{for(var r in t)I0(e,r,{get:t[r],enumerable:!0})},Zce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bbt(t))!qbt.call(e,s)&&s!==r&&I0(e,s,{get:()=>t[s],enumerable:!(n=Ubt(t,s))||n.enumerable});return e},$bt=(e,t,r)=>(r=e!=null?Lbt(Fbt(e)):{},Zce(t||!e||!e.__esModule?I0(r,"default",{value:e,enumerable:!0}):r,e)),zbt=e=>Zce(I0({},"__esModule",{value:!0}),e),ele={};jbt(ele,{DEFAULT_REQUEST_TIMEOUT:()=>ole,NodeHttp2Handler:()=>Zbt,NodeHttpHandler:()=>Xbt,streamCollector:()=>twt});lle.exports=zbt(ele);var tle=Fe(),rle=gN(),k3=require("http"),M3=require("https"),Hbt=["ECONNRESET","EPIPE","ETIMEDOUT"],nle=Nr(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),pa={setTimeout:Nr((e,t)=>setTimeout(e,t),"setTimeout"),clearTimeout:Nr(e=>clearTimeout(e),"clearTimeout")},Xce=1e3,Gbt=Nr((e,t,r=0)=>{if(!r)return-1;let n=Nr(s=>{let i=pa.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),o=Nr(a=>{a?.connecting?a.on("connect",()=>{pa.clearTimeout(i)}):pa.clearTimeout(i)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):pa.setTimeout(n.bind(null,Xce),Xce)},"setConnectionTimeout"),Vbt=3e3,Wbt=Nr((e,{keepAlive:t,keepAliveMsecs:r},n=Vbt)=>{if(t!==!0)return-1;let s=Nr(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):pa.setTimeout(s,n)},"setSocketKeepAlive"),Jce=3e3,Kbt=Nr((e,t,r=ole)=>{let n=Nr(s=>{let i=r-s,o=Nr(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):pa.setTimeout(n.bind(null,r===0?0:Jce),Jce)},"setSocketTimeout"),sle=require("stream"),Yce=6e3;async function U3(e,t,r=Yce){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(pa.setTimeout(()=>a(!0),Math.max(Yce,r)))}),new Promise(a=>{e.on("continue",()=>{pa.clearTimeout(i),a(!0)}),e.on("response",()=>{pa.clearTimeout(i),a(!1)}),e.on("error",()=>{pa.clearTimeout(i),a(!1)})})])),o&&ile(e,t.body)}Nr(U3,"writeRequestBody");function ile(e,t){if(t instanceof sle.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Nr(ile,"writeBody");var ole=0,Xbt=class L3{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{Nr(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new L3(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,d=i[c]?.length??0;if(l>=o&&d>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:i,httpAgent:o instanceof k3.Agent||typeof o?.destroy=="function"?o:new k3.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof M3.Agent||typeof a?.destroy=="function"?a:new M3.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],c=Nr(async L=>{await o,a.forEach(pa.clearTimeout),s(L)},"resolve"),l=Nr(async L=>{await o,a.forEach(pa.clearTimeout),i(L)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let L=new Error("Request aborted");L.name="AbortError",l(L);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push(pa.setTimeout(()=>{this.socketWarningTimestamp=L3.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let f=(0,rle.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let L=t.username??"",G=t.password??"";p=`${L}:${G}`}let g=t.path;f&&(g+=`?${f}`),t.fragment&&(g+=`#${t.fragment}`);let S=t.hostname??"";S[0]==="["&&S.endsWith("]")?S=t.hostname.slice(1,-1):S=t.hostname;let b={headers:t.headers,host:S,method:t.method,path:g,port:t.port,agent:u,auth:p},P=(d?M3.request:k3.request)(b,L=>{let G=new tle.HttpResponse({statusCode:L.statusCode||-1,reason:L.statusMessage,headers:nle(L.headers),body:L});c({response:G})});if(P.on("error",L=>{Hbt.includes(L.code)?l(Object.assign(L,{name:"TimeoutError"})):l(L)}),r){let L=Nr(()=>{P.destroy();let G=new Error("Request aborted");G.name="AbortError",l(G)},"onAbort");if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",L,{once:!0}),P.once("close",()=>G.removeEventListener("abort",L))}else r.onabort=L}let M=n??this.config.requestTimeout;a.push(Gbt(P,l,this.config.connectionTimeout)),a.push(Kbt(P,l,M));let N=b.agent;typeof N=="object"&&"keepAlive"in N&&a.push(Wbt(P,{keepAlive:N.keepAlive,keepAliveMsecs:N.keepAliveMsecs})),o=U3(P,t,M).catch(L=>(a.forEach(pa.clearTimeout),i(L)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Qce=require("http2"),Jbt=$bt(require("http2")),Ybt=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{Nr(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},Qbt=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{Nr(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=Jbt.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let i=Nr(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,i);let o=this.sessionCache.get(r)||new Ybt;return o.offerLast(s),this.sessionCache.set(r,o),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Zbt=class ale{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Qbt({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{Nr(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new ale(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,d,u=Nr(async xe=>{await d,a(xe)},"resolve"),f=Nr(async xe=>{await d,c(xe)},"reject");if(r?.aborted){l=!0;let xe=new Error("Request aborted");xe.name="AbortError",f(xe);return}let{hostname:p,method:g,port:S,protocol:b,query:A}=t,P="";if(t.username!=null||t.password!=null){let xe=t.username??"",Xe=t.password??"";P=`${xe}:${Xe}@`}let M=`${b}//${P}${p}${S?`:${S}`:""}`,N={destination:new URL(M)},L=this.connectionManager.lease(N,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),G=Nr(xe=>{i&&this.destroySession(L),l=!0,f(xe)},"rejectWithDestroy"),pe=(0,rle.buildQueryString)(A||{}),ne=t.path;pe&&(ne+=`?${pe}`),t.fragment&&(ne+=`#${t.fragment}`);let Ee=L.request({...t.headers,[Qce.constants.HTTP2_HEADER_PATH]:ne,[Qce.constants.HTTP2_HEADER_METHOD]:g});if(L.ref(),Ee.on("response",xe=>{let Xe=new tle.HttpResponse({statusCode:xe[":status"]||-1,headers:nle(xe),body:Ee});l=!0,u({response:Xe}),i&&(L.close(),this.connectionManager.deleteSession(M,L))}),o&&Ee.setTimeout(o,()=>{Ee.close();let xe=new Error(`Stream timed out because of no activity for ${o} ms`);xe.name="TimeoutError",G(xe)}),r){let xe=Nr(()=>{Ee.close();let Xe=new Error("Request aborted");Xe.name="AbortError",G(Xe)},"onAbort");if(typeof r.addEventListener=="function"){let Xe=r;Xe.addEventListener("abort",xe,{once:!0}),Ee.once("close",()=>Xe.removeEventListener("abort",xe))}else r.onabort=xe}Ee.on("frameError",(xe,Xe,Ln)=>{G(new Error(`Frame type id ${xe} in stream id ${Ln} has failed with code ${Xe}.`))}),Ee.on("error",G),Ee.on("aborted",()=>{G(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Ee.rstCode}.`))}),Ee.on("close",()=>{L.unref(),i&&L.destroy(),l||G(new Error("Unexpected error: http2 request did not get a response"))}),d=U3(Ee,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},ewt=class extends sle.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{Nr(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},twt=Nr(e=>rwt(e)?cle(e):new Promise((t,r)=>{let n=new ewt;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),rwt=Nr(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function cle(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Nr(cle,"collectReadableStream")});var _le=E((QZr,yle)=>{var yN=Object.defineProperty,nwt=Object.getOwnPropertyDescriptor,swt=Object.getOwnPropertyNames,iwt=Object.prototype.hasOwnProperty,qd=(e,t)=>yN(e,"name",{value:t,configurable:!0}),owt=(e,t)=>{for(var r in t)yN(e,r,{get:t[r],enumerable:!0})},awt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of swt(t))!iwt.call(e,s)&&s!==r&&yN(e,s,{get:()=>t[s],enumerable:!(n=nwt(t,s))||n.enumerable});return e},cwt=e=>awt(yN({},"__esModule",{value:!0}),e),ule={};owt(ule,{FetchHttpHandler:()=>dwt,keepAliveSupport:()=>hN,streamCollector:()=>mwt});yle.exports=cwt(ule);var dle=Fe(),lwt=gN();function B3(e,t){return new Request(e,t)}qd(B3,"createRequest");function mle(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}qd(mle,"requestTimeout");var hN={supported:void 0},dwt=class fle{static{qd(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new fle(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),hN.supported===void 0&&(hN.supported=typeof Request<"u"&&"keepalive"in B3("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let P=new Error("Request aborted");return P.name="AbortError",Promise.reject(P)}let a=t.path,c=(0,lwt.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let P=t.username??"",M=t.password??"";l=`${P}:${M}@`}let{port:d,method:u}=t,f=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,p=u==="GET"||u==="HEAD"?void 0:t.body,g={body:p,headers:new Headers(t.headers),method:u,credentials:o};this.config?.cache&&(g.cache=this.config.cache),p&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),hN.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let S=qd(()=>{},"removeSignalEventListener"),b=B3(f,g),A=[fetch(b).then(P=>{let M=P.headers,N={};for(let G of M.entries())N[G[0]]=G[1];return P.body!=null?{response:new dle.HttpResponse({headers:N,reason:P.statusText,statusCode:P.status,body:P.body})}:P.blob().then(G=>({response:new dle.HttpResponse({headers:N,reason:P.statusText,statusCode:P.status,body:G})}))}),mle(s)];return r&&A.push(new Promise((P,M)=>{let N=qd(()=>{let L=new Error("Request aborted");L.name="AbortError",M(L)},"onAbort");if(typeof r.addEventListener=="function"){let L=r;L.addEventListener("abort",N,{once:!0}),S=qd(()=>L.removeEventListener("abort",N),"removeSignalEventListener")}else r.onabort=N})),Promise.race(A).finally(S)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},uwt=bt(),mwt=qd(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):ple(e):gle(e),"streamCollector");async function ple(e){let t=await hle(e),r=(0,uwt.fromBase64)(t);return new Uint8Array(r)}qd(ple,"collectBlob");async function gle(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}qd(gle,"collectStream");function hle(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}qd(hle,"readToBase64")});var SN=E((ZZr,wle)=>{var _N=Object.defineProperty,fwt=Object.getOwnPropertyDescriptor,pwt=Object.getOwnPropertyNames,gwt=Object.prototype.hasOwnProperty,Sle=(e,t)=>_N(e,"name",{value:t,configurable:!0}),hwt=(e,t)=>{for(var r in t)_N(e,r,{get:t[r],enumerable:!0})},ywt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pwt(t))!gwt.call(e,s)&&s!==r&&_N(e,s,{get:()=>t[s],enumerable:!(n=fwt(t,s))||n.enumerable});return e},_wt=e=>ywt(_N({},"__esModule",{value:!0}),e),vle={};hwt(vle,{fromHex:()=>Cle,toHex:()=>ble});wle.exports=_wt(vle);var Ele={},F3={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Ele[e]=t,F3[t]=e}function Cle(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in F3)t[r/2]=F3[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Sle(Cle,"fromHex");function ble(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Ele[e[r]];return t}Sle(ble,"toHex")});var Rle=E(vN=>{"use strict";Object.defineProperty(vN,"__esModule",{value:!0});vN.sdkStreamMixin=void 0;var Swt=_le(),vwt=bt(),Ewt=SN(),Cwt=Ct(),xle=ep(),Ale="The stream has already been transformed.",bwt=e=>{var t,r;if(!Ple(e)&&!(0,xle.isReadableStream)(e)){let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(Ale);return n=!0,await(0,Swt.streamCollector)(e)},i=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();if(o==="base64")return(0,vwt.toBase64)(a);if(o==="hex")return(0,Ewt.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,Cwt.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Ale);if(n=!0,Ple(e))return i(e);if((0,xle.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};vN.sdkStreamMixin=bwt;var Ple=e=>typeof Blob=="function"&&e instanceof Blob});var Tle=E(EN=>{"use strict";Object.defineProperty(EN,"__esModule",{value:!0});EN.sdkStreamMixin=void 0;var wwt=Ui(),xwt=HS(),q3=require("stream"),Awt=Rle(),Ile="The stream has already been transformed.",Pwt=e=>{var t,r;if(!(e instanceof q3.Readable))try{return(0,Awt.sdkStreamMixin)(e)}catch{let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(Ile);return n=!0,await(0,wwt.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let o=await s();return i===void 0||Buffer.isEncoding(i)?(0,xwt.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(n)throw new Error(Ile);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof q3.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,q3.Readable.toWeb(e)}})};EN.sdkStreamMixin=Pwt});var Ole=E(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.splitStream=Rwt;async function Rwt(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var kle=E($3=>{"use strict";Object.defineProperty($3,"__esModule",{value:!0});$3.splitStream=Twt;var Nle=require("stream"),Iwt=Ole(),Dle=ep();async function Twt(e){if((0,Dle.isReadableStream)(e)||(0,Dle.isBlob)(e))return(0,Iwt.splitStream)(e);let t=new Nle.PassThrough,r=new Nle.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var sm=E((sen,$d)=>{var CN=Object.defineProperty,Owt=Object.getOwnPropertyDescriptor,Nwt=Object.getOwnPropertyNames,Dwt=Object.prototype.hasOwnProperty,G3=(e,t)=>CN(e,"name",{value:t,configurable:!0}),kwt=(e,t)=>{for(var r in t)CN(e,r,{get:t[r],enumerable:!0})},z3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Nwt(t))!Dwt.call(e,s)&&s!==r&&CN(e,s,{get:()=>t[s],enumerable:!(n=Owt(t,s))||n.enumerable});return e},tp=(e,t,r)=>(z3(e,t,"default"),r&&z3(r,t,"default")),Mwt=e=>z3(CN({},"__esModule",{value:!0}),e),jd={};kwt(jd,{Uint8ArrayBlobAdapter:()=>H3});$d.exports=Mwt(jd);var Mle=bt(),Lle=Ct();function Ule(e,t="utf-8"){return t==="base64"?(0,Mle.toBase64)(e):(0,Lle.toUtf8)(e)}G3(Ule,"transformToString");function Ble(e,t){return t==="base64"?H3.mutate((0,Mle.fromBase64)(e)):H3.mutate((0,Lle.fromUtf8)(e))}G3(Ble,"transformFromString");var H3=class Fle extends Uint8Array{static{G3(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Ble(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Fle.prototype),t}transformToString(t="utf-8"){return Ule(this,t)}};tp(jd,b3(),$d.exports);tp(jd,Dce(),$d.exports);tp(jd,Fce(),$d.exports);tp(jd,qce(),$d.exports);tp(jd,$ce(),$d.exports);tp(jd,Tle(),$d.exports);tp(jd,kle(),$d.exports);tp(jd,ep(),$d.exports)});var bN,Qn,wN=v(()=>{bN=C(sm()),Qn=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return bN.Uint8ArrayBlobAdapter.mutate(e);if(!e)return bN.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return bN.Uint8ArrayBlobAdapter.mutate(await r)}});function _s(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var xN=v(()=>{});var zr,V3=v(()=>{zr=e=>typeof e=="function"?e():e});var qle,jle,$le,W3,zle=v(()=>{qle=C(Fe()),jle=C(bn()),$le=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,jle.getSmithyContext)(r);try{let o=await e.protocol.deserializeResponse(i,{...e,...r},s);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(qle.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);o.$metadata={httpStatusCode:s.statusCode,requestId:W3(/^x-[\w-]+-request-?id$/,l),extendedRequestId:W3(/^x-[\w-]+-id-2$/,l),cfId:W3(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},W3=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Hle,Gle,Vle=v(()=>{Hle=C(bn()),Gle=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,Hle.getSmithyContext)(r),i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,o=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:i});return t({...n,request:o})}});function Lwt(e){return{applyToStack:t=>{t.add(Gle(e),Kle),t.add($le(e),Wle),e.protocol.setSerdeContext(e)}}}var Wle,Kle,Xle=v(()=>{zle();Vle();Wle={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Kle={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Un,K3=v(()=>{Un=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Un.registries=new Map});var Zn,im=v(()=>{K3();Zn=class{static assign(t,r){let n=Object.assign(t,r);return Un.for(n.namespace).register(n.name,n),n}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var kh,Uwt,X3=v(()=>{im();kh=class e extends Zn{constructor(){super(...arguments),this.symbol=e.symbol}};kh.symbol=Symbol.for("@smithy/lis");Uwt=(e,t,r,n)=>Zn.assign(new kh,{name:t,namespace:e,traits:r,valueSchema:n})});var Mh,Bwt,J3=v(()=>{im();Mh=class e extends Zn{constructor(){super(...arguments),this.symbol=e.symbol}};Mh.symbol=Symbol.for("@smithy/map");Bwt=(e,t,r,n,s)=>Zn.assign(new Mh,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var T0,Fwt,Jle=v(()=>{im();T0=class e extends Zn{constructor(){super(...arguments),this.symbol=e.symbol}};T0.symbol=Symbol.for("@smithy/ope");Fwt=(e,t,r,n,s)=>Zn.assign(new T0,{name:t,namespace:e,traits:r,input:n,output:s})});var om,qwt,AN=v(()=>{im();om=class e extends Zn{constructor(){super(...arguments),this.symbol=e.symbol}};om.symbol=Symbol.for("@smithy/str");qwt=(e,t,r,n,s)=>Zn.assign(new om,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var O0,jwt,Yle=v(()=>{im();AN();O0=class e extends om{constructor(){super(...arguments),this.symbol=e.symbol}};O0.symbol=Symbol.for("@smithy/err");jwt=(e,t,r,n,s,i)=>Zn.assign(new O0,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:i})});var F,Y3=v(()=>{F={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Lh,$wt,Q3=v(()=>{im();Lh=class e extends Zn{constructor(){super(...arguments),this.symbol=e.symbol}};Lh.symbol=Symbol.for("@smithy/sim");$wt=(e,t,r,n)=>Zn.assign(new Lh,{name:t,namespace:e,traits:n,schemaRef:r})});var U,Qle=v(()=>{V3();X3();J3();im();Y3();Q3();AN();U=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=zr(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(i instanceof e){Object.assign(this,i),this.memberTraits=Object.assign({},i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=zr(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof Zn?this.schema.getName?.():void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){return Zn[Symbol.hasInstance].bind(this)(t)}static of(t){if(t instanceof e)return t;if(Array.isArray(t)){let[r,n]=t;if(r instanceof e)return Object.assign(r.getMergedTraits(),e.translateTraits(n)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(t)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={},n=0;for(let s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(r[s]=1);return r}getSchema(){return this.schema instanceof e?(Object.assign(this,{schema:this.schema.getSchema()}),this.schema):this.schema instanceof Lh?zr(this.schema.schemaRef):zr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=F.LIST_MODIFIER&&t<F.MAP_MODIFIER:t instanceof kh}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=F.MAP_MODIFIER&&t<=255:t instanceof Mh}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof om}isBlobSchema(){return this.getSchema()===F.BLOB||this.getSchema()===F.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=F.TIMESTAMP_DEFAULT&&t<=F.TIMESTAMP_EPOCH_SECONDS}isDocumentSchema(){return this.getSchema()===F.DOCUMENT}isStringSchema(){return this.getSchema()===F.STRING}isBooleanSchema(){return this.getSchema()===F.BOOLEAN}isNumericSchema(){return this.getSchema()===F.NUMERIC}isBigIntegerSchema(){return this.getSchema()===F.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===F.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===F.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return this.memberFrom([F.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?this.memberFrom([63&t,0],"key"):this.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return this.memberFrom([63&t,0],"value");if(this.isListSchema())return this.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`may not getValueSchema() on structure ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return this.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return this.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return this.memberFrom([F.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}hasMemberSchema(t){return this.isStructSchema()?this.getSchema().memberNames.includes(t):!1}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!r.memberNames.includes(t))throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no member=${t}.`);let n=r.memberNames.indexOf(t),s=r.memberList[n];return this.memberFrom(Array.isArray(s)?s:[s,0],t)}if(this.isDocumentSchema())return this.memberFrom([F.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no members.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],this.memberFrom([t.memberList[r],0],t.memberNames[r])]}memberFrom(t,r){return t instanceof e?Object.assign(t,{memberName:r,_isMemberSchema:!0}):new e(t,r)}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(F).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case F.MAP_MODIFIER:return`${s}Map`;case F.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};U.symbol=Symbol.for("@smithy/nor")});var Zle={};Kt(Zle,{ErrorSchema:()=>O0,ListSchema:()=>kh,MapSchema:()=>Mh,NormalizedSchema:()=>U,OperationSchema:()=>T0,SCHEMA:()=>F,Schema:()=>Zn,SimpleSchema:()=>Lh,StructureSchema:()=>om,TypeRegistry:()=>Un,deref:()=>zr,deserializerMiddlewareOption:()=>Wle,error:()=>jwt,getSchemaSerdePlugin:()=>Lwt,list:()=>Uwt,map:()=>Bwt,op:()=>Fwt,serializerMiddlewareOption:()=>Kle,sim:()=>$wt,struct:()=>qwt});var Ie=v(()=>{V3();Xle();X3();J3();Jle();Yle();Qle();im();Q3();AN();Y3();K3()});var zwt,ede=v(()=>{zwt=(e,t,r=n=>n)=>e});var Hwt,Gwt,N0,Vwt,PN,D0,Wwt,Z3,eV,tV,rV,Kwt,Xwt,tde,Jwt,Ywt,IN,Qwt,nV,Zwt,WS,sV,e0t,t0t,r0t,rde,nde,n0t,s0t,Uh,iV,RN,k0,oV=v(()=>{Hwt=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Gwt=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&k0.warn(RN(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&k0.warn(RN(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},N0=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&k0.warn(RN(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Vwt=Math.ceil(34028234663852886e22),PN=e=>{let t=N0(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Vwt)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},D0=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Wwt=D0,Z3=e=>rV(e,32),eV=e=>rV(e,16),tV=e=>rV(e,8),rV=(e,t)=>{let r=D0(e);if(r!==void 0&&Kwt(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Kwt=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Xwt=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},tde=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Jwt=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return k0.warn(RN(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Ywt=e=>{if(e==null)return;let t=tde(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},IN=e=>N0(typeof e=="string"?WS(e):e),Qwt=IN,nV=e=>PN(typeof e=="string"?WS(e):e),Zwt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,WS=e=>{let t=e.match(Zwt);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},sV=e=>typeof e=="string"?rde(e):N0(e),e0t=sV,t0t=sV,r0t=e=>typeof e=="string"?rde(e):PN(e),rde=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},nde=e=>D0(typeof e=="string"?WS(e):e),n0t=nde,s0t=e=>Z3(typeof e=="string"?WS(e):e),Uh=e=>eV(typeof e=="string"?WS(e):e),iV=e=>tV(typeof e=="string"?WS(e):e),RN=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),k0={warn:console.warn}});function Ha(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,d=o<10?`0${o}`:`${o}`,u=a<10?`0${a}`:`${a}`;return`${i0t[n]}, ${c} ${cV[r]} ${t} ${l}:${d}:${u} GMT`}var i0t,cV,o0t,a0t,c0t,Ga,l0t,d0t,u0t,Va,jo,M0,m0t,f0t,p0t,aV,g0t,h0t,y0t,zd,_0t,S0t,KS,sde=v(()=>{oV();i0t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];o0t=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),a0t=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=o0t.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,d=Uh(KS(n)),u=zd(s,"month",1,12),f=zd(i,"day",1,31);return M0(d,u,f,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},c0t=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ga=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=c0t.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,d]=t,u=Uh(KS(n)),f=zd(s,"month",1,12),p=zd(i,"day",1,31),g=M0(u,f,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&g.setTime(g.getTime()-S0t(d)),g},l0t=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),d0t=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),u0t=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Va=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=l0t.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return M0(Uh(KS(i)),aV(s),zd(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=d0t.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return p0t(M0(m0t(i),aV(s),zd(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=u0t.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return M0(Uh(KS(l)),aV(n),zd(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},jo=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=IN(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},M0=(e,t,r,n)=>{let s=t-1;return h0t(e,s,r),new Date(Date.UTC(e,s,r,zd(n.hours,"hour",0,23),zd(n.minutes,"minute",0,59),zd(n.seconds,"seconds",0,60),_0t(n.fractionalMilliseconds)))},m0t=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Uh(KS(e));return r<t?r+100:r},f0t=50*365*24*60*60*1e3,p0t=e=>e.getTime()-new Date().getTime()>f0t?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,aV=e=>{let t=cV.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},g0t=[31,28,31,30,31,30,31,31,30,31,30,31],h0t=(e,t,r)=>{let n=g0t[t];if(t===1&&y0t(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${cV[t]} in ${e}: ${r}`)},y0t=e=>e%4===0&&(e%100!==0||e%400===0),zd=(e,t,r,n)=>{let s=iV(KS(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},_0t=e=>e==null?0:nV("0."+e)*1e3,S0t=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},KS=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function L0(){return TN>ON.length-16&&(ide.default.randomFillSync(ON),TN=0),ON.slice(TN,TN+=16)}var ide,ON,TN,lV=v(()=>{ide=C(require("crypto")),ON=new Uint8Array(256),TN=ON.length});var ode,ade=v(()=>{ode=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function v0t(e){return typeof e=="string"&&ode.test(e)}var rp,U0=v(()=>{ade();rp=v0t});function Bh(e,t=0){return Bi[e[t+0]]+Bi[e[t+1]]+Bi[e[t+2]]+Bi[e[t+3]]+"-"+Bi[e[t+4]]+Bi[e[t+5]]+"-"+Bi[e[t+6]]+Bi[e[t+7]]+"-"+Bi[e[t+8]]+Bi[e[t+9]]+"-"+Bi[e[t+10]]+Bi[e[t+11]]+Bi[e[t+12]]+Bi[e[t+13]]+Bi[e[t+14]]+Bi[e[t+15]]}function E0t(e,t=0){let r=Bh(e,t);if(!rp(r))throw TypeError("Stringified UUID is invalid");return r}var Bi,cde,B0=v(()=>{U0();Bi=[];for(let e=0;e<256;++e)Bi.push((e+256).toString(16).slice(1));cde=E0t});function C0t(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||lde,o=e.clockseq!==void 0?e.clockseq:dV;if(i==null||o==null){let f=e.random||(e.rng||L0)();i==null&&(i=lde=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=dV=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:mV+1,l=a-uV+(c-mV)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>uV)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");uV=a,mV=c,dV=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=u&255,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let f=0;f<6;++f)s[n+f]=i[f];return t||Bh(s)}var lde,dV,uV,mV,dde,ude=v(()=>{lV();B0();uV=0,mV=0;dde=C0t});function b0t(e){if(!rp(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var NN,fV=v(()=>{U0();NN=b0t});function w0t(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function F0(e,t,r){function n(s,i,o,a){var c;if(typeof s=="string"&&(s=w0t(s)),typeof i=="string"&&(i=NN(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return Bh(l)}try{n.name=e}catch{}return n.DNS=x0t,n.URL=A0t,n}var x0t,A0t,pV=v(()=>{B0();fV();x0t="6ba7b810-9dad-11d1-80b4-00c04fd430c8",A0t="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function P0t(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),mde.default.createHash("md5").update(e).digest()}var mde,fde,pde=v(()=>{mde=C(require("crypto"));fde=P0t});var R0t,gde,hde=v(()=>{pV();pde();R0t=F0("v3",48,fde),gde=R0t});var yde,gV,_de=v(()=>{yde=C(require("crypto")),gV={randomUUID:yde.default.randomUUID}});function I0t(e,t,r){if(gV.randomUUID&&!t&&!e)return gV.randomUUID();e=e||{};let n=e.random||(e.rng||L0)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return Bh(n)}var Zt,Sde=v(()=>{_de();lV();B0();Zt=I0t});function T0t(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),vde.default.createHash("sha1").update(e).digest()}var vde,Ede,Cde=v(()=>{vde=C(require("crypto"));Ede=T0t});var O0t,bde,wde=v(()=>{pV();Cde();O0t=F0("v5",80,Ede),bde=O0t});var xde,Ade=v(()=>{xde="00000000-0000-0000-0000-000000000000"});function N0t(e){if(!rp(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Pde,Rde=v(()=>{U0();Pde=N0t});var DN={};Kt(DN,{NIL:()=>xde,parse:()=>NN,stringify:()=>cde,v1:()=>dde,v3:()=>gde,v4:()=>Zt,v5:()=>bde,validate:()=>rp,version:()=>Pde});var q0=v(()=>{ude();hde();Sde();wde();Ade();Rde();U0();B0();fV()});var Ide=v(()=>{q0()});var xr,Tde=v(()=>{xr=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};xr.from=e=>e&&typeof e=="object"&&(e instanceof xr||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?xr(String(e)):xr(JSON.stringify(e));xr.fromObject=xr.from});function hV(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Ode=v(()=>{});function yV(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var Nde=v(()=>{});var j0,Dde=v(()=>{j0=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function _V(e){return new he(String(e),"bigDecimal")}var he,kde=v(()=>{he=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let i=t.charCodeAt(s);if(!(s===0&&i===45)){if(i===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name?.endsWith("NumericValue")?!0:n)}}});var Mde={};Kt(Mde,{LazyJsonString:()=>xr,NumericValue:()=>he,copyDocumentWithTransform:()=>zwt,dateToUtcString:()=>Ha,expectBoolean:()=>Gwt,expectByte:()=>tV,expectFloat32:()=>PN,expectInt:()=>Wwt,expectInt32:()=>Z3,expectLong:()=>D0,expectNonNull:()=>Xwt,expectNumber:()=>N0,expectObject:()=>tde,expectShort:()=>eV,expectString:()=>Jwt,expectUnion:()=>Ywt,generateIdempotencyToken:()=>Zt,handleFloat:()=>e0t,limitedParseDouble:()=>sV,limitedParseFloat:()=>t0t,limitedParseFloat32:()=>r0t,logger:()=>k0,nv:()=>_V,parseBoolean:()=>Hwt,parseEpochTimestamp:()=>jo,parseRfc3339DateTime:()=>a0t,parseRfc3339DateTimeWithOffset:()=>Ga,parseRfc7231DateTime:()=>Va,quoteHeader:()=>hV,splitEvery:()=>yV,splitHeader:()=>j0,strictParseByte:()=>iV,strictParseDouble:()=>IN,strictParseFloat:()=>Qwt,strictParseFloat32:()=>nV,strictParseInt:()=>n0t,strictParseInt32:()=>s0t,strictParseLong:()=>nde,strictParseShort:()=>Uh});var zt=v(()=>{ede();sde();Ide();Tde();oV();Ode();Nde();Dde();kde()});var Lde,SV,Ude=v(()=>{Ie();Lde=C(Ct()),SV=class{constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=o.getMemberSchemas(),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(r,n);let p=c.flush();yield{[d]:!0,headers:f,body:p}}for await(let f of t)yield f}};return s.serialize(u,f=>{if(f[d])return{headers:f.headers,body:f.body};let p=Object.keys(f).find(M=>M!=="__type")??"",{additionalHeaders:g,body:S,eventType:b,explicitPayloadContentType:A}=this.writeEventBody(p,o,f);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??l},...g},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async f=>{let p=Object.keys(f).find(g=>g!=="__type")??"";if(p==="initial-response"){let g=await this.deserializer.read(r,f[p].body);return delete g[i],{[c]:!0,...g}}else if(p in a){let g=a[p];return{[p]:await this.deserializer.read(g,f[p].body)}}else return{$unknown:f}}),d=l[Symbol.asyncIterator](),u=await d.next();if(u.done)return l;if(u.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[f,p]of Object.entries(u.value))n[f]=p}return{async*[Symbol.asyncIterator](){for(u?.value?.[c]||(yield u.value);;){let{done:f,value:p}=await d.next();if(f)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.hasMemberSchema(t),l={};if(c){let f=r.getMemberSchema(t);if(f.isStructSchema()){for(let[p,g]of f.structIterator()){let{eventHeader:S,eventPayload:b}=g.getMergedTraits();if(b){o=p;break}else if(S){let A=n[t][p],P="binary";g.isNumericSchema()?(-2)**31<=A&&A<=2**31-1?P="integer":P="long":g.isTimestampSchema()?P="timestamp":g.isStringSchema()?P="string":g.isBooleanSchema()&&(P="boolean"),A!=null&&(l[p]={type:P,value:A},delete n[t][p])}}if(o!==null){let p=f.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][o])}else s.write(f,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[f,p]=n[t];i=f,s.write(F.DOCUMENT,p)}let d=s.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??Lde.fromUtf8)(d):d,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var Bde={};Kt(Bde,{EventStreamSerde:()=>SV});var Fde=v(()=>{Ude()});var kN,Fh,MN=v(()=>{Ie();kN=C(Fe()),Fh=class{constructor(t){this.options=t}getRequestType(){return kN.HttpRequest}getResponseType(){return kN.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=U.of(r),i=U.of(r.input);if(s.getMergedTraits().endpoint){let o=s.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(Fde(),Bde));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var qde,jde,es,$de=v(()=>{Ie();zt();qde=C(Fe()),jde=C(sm());wN();xN();MN();es=class extends Fh{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=U.of(t?.input),d=l.getSchema(),u=!1,f,p=new qde.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let g=U.translateTraits(t.traits);if(g.http){p.method=g.http[0];let[S,b]=g.http[1].split("?");p.path=="/"?p.path=S:p.path+=S;let A=new URLSearchParams(b??"");Object.assign(o,Object.fromEntries(A))}}for(let[g,S]of l.structIterator()){let b=S.getMergedTraits()??{},A=s[g];if(A!=null)if(b.httpPayload)S.isStreaming()?S.isStructSchema()?s[g]&&(f=await this.serializeEventStream({eventStream:s[g],requestSchema:l})):f=A:(i.write(S,A),f=i.flush()),delete s[g];else if(b.httpLabel){i.write(S,A);let P=i.flush();p.path.includes(`{${g}+}`)?p.path=p.path.replace(`{${g}+}`,P.split("/").map(_s).join("/")):p.path.includes(`{${g}}`)&&(p.path=p.path.replace(`{${g}}`,_s(P))),delete s[g]}else if(b.httpHeader)i.write(S,A),a[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof b.httpPrefixHeaders=="string"){for(let[P,M]of Object.entries(A)){let N=b.httpPrefixHeaders+P;i.write([S.getValueSchema(),{httpHeader:N}],M),a[N.toLowerCase()]=i.flush()}delete s[g]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(S,A,o),delete s[g]):u=!0}return u&&s&&(i.write(d,s),f=i.flush()),p.headers=a,p.query=o,p.body=f,p}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let c=await Qn(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await Qn(n.body,r);if(c.byteLength>0){let l=await s.read(i,c);for(let d of a)o[d]=l[d]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=U.of(t),l=[];for(let[d,u]of c.structIterator()){let f=u.getMemberTraits();if(f.httpPayload){if(u.isStreaming())u.isStructSchema()?o[d]=await this.deserializeEventStream({response:n,responseSchema:c}):o[d]=(0,jde.sdkStreamMixin)(n.body);else if(n.body){let g=await Qn(n.body,r);g.byteLength>0&&(o[d]=await a.read(u,g))}}else if(f.httpHeader){let p=String(f.httpHeader).toLowerCase(),g=n.headers[p];if(g!=null)if(u.isListSchema()){let S=u.getValueSchema();S.getMergedTraits().httpHeader=p;let b;S.isTimestampSchema()&&S.getSchema()===F.TIMESTAMP_DEFAULT?b=yV(g,",",2):b=j0(g);let A=[];for(let P of b)A.push(await a.read(S,P.trim()));o[d]=A}else o[d]=await a.read(u,g)}else if(f.httpPrefixHeaders!==void 0){o[d]={};for(let[p,g]of Object.entries(n.headers))if(p.startsWith(f.httpPrefixHeaders)){let S=u.getValueSchema();S.getMergedTraits().httpHeader=p,o[d][p.slice(f.httpPrefixHeaders.length)]=await a.read(S,g)}}else f.httpResponseCode?o[d]=n.statusCode:l.push(d)}return l}}});var zde,wn,Hde=v(()=>{Ie();zde=C(Fe());wN();MN();wn=class extends Fh{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=U.of(t?.input),l=c.getSchema(),d,u=new zde.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let f={...r};if(r){let p=c.getEventStreamMember();if(p){if(f[p]){let g={};for(let[S,b]of c.structIterator())S!==p&&f[S]&&(s.write(b,f[S]),g[S]=s.flush());d=await this.serializeEventStream({eventStream:f[p],requestSchema:c,initialRequest:g})}}else s.write(l,f),d=s.flush()}return u.headers=o,u.query=i,u.body=d,u.method="POST",u}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let c=await Qn(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await Qn(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var vV,EV=v(()=>{xN();vV=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>_s(a)).join("/"):_s(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function am(e,t){return new LN(e,t)}var Gde,LN,Vde=v(()=>{Gde=C(Fe());EV();LN=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new Gde.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=vV(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Pt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===F.TIMESTAMP_DATE_TIME||e.getSchema()===F.TIMESTAMP_HTTP_DATE||e.getSchema()===F.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?F.TIMESTAMP_HTTP_DATE:i||r?F.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var UN=v(()=>{Ie()});var CV,Wde,$o,bV=v(()=>{Ie();zt();CV=C(bt()),Wde=C(Ct());UN();$o=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=U.of(t);if(n.isListSchema())return j0(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??CV.fromBase64)(r);if(n.isTimestampSchema())switch(Pt(n,this.settings)){case F.TIMESTAMP_DATE_TIME:return Ga(r);case F.TIMESTAMP_HTTP_DATE:return Va(r);case F.TIMESTAMP_EPOCH_SECONDS:return jo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=xr.from(i)),i}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new he(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Wde.toUtf8)((this.serdeContext?.base64Decoder??CV.fromBase64)(t))}}});var BN,ts,Kde=v(()=>{Ie();BN=C(Ct());bV();ts=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new $o(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=U.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??BN.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??BN.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var wV,$0,xV=v(()=>{Ie();zt();wV=C(bt());UN();$0=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=U.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Pt(n,this.settings)){case F.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case F.TIMESTAMP_HTTP_DATE:this.stringBuffer=Ha(r);break;case F.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??wV.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:hV(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=xr.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??wV.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var rs,Xde=v(()=>{Ie();xV();rs=class{constructor(t,r,n=new $0(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=U.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var Jde={};Kt(Jde,{FromStringShapeDeserializer:()=>$o,HttpBindingProtocol:()=>es,HttpInterceptingShapeDeserializer:()=>ts,HttpInterceptingShapeSerializer:()=>rs,HttpProtocol:()=>Fh,RequestBuilder:()=>LN,RpcProtocol:()=>wn,ToStringShapeSerializer:()=>$0,collectBody:()=>Qn,determineTimestampFormat:()=>Pt,extendedEncodeURIComponent:()=>_s,requestBuilder:()=>am,resolvedPath:()=>vV});var nt=v(()=>{wN();xN();$de();MN();Hde();Vde();EV();bV();Kde();Xde();xV();UN()});var Yde=v(()=>{nt()});function D0t(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var Qde=v(()=>{});var zo,Zde=v(()=>{zo=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var eue,AV,PV,tue=v(()=>{eue=C(Fe()),AV=C(Qf()),PV=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=eue.HttpRequest.clone(t);if(n.in===AV.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===AV.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var rue,RV,nue=v(()=>{rue=C(Fe()),RV=class{async sign(t,r,n){let s=rue.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var xs,sue=v(()=>{xs=class{async sign(t,r,n){return t}}});var iue=v(()=>{tue();nue();sue()});var oue,k0t,id,vc,od,aue=v(()=>{oue=e=>t=>vc(t)&&t.expiration.getTime()-Date.now()<e,k0t=3e5,id=oue(3e5),vc=e=>e.expiration!==void 0,od=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var cue=v(()=>{Zde();iue();aue()});var As={};Kt(As,{DefaultIdentityProviderConfig:()=>zo,EXPIRATION_MS:()=>k0t,HttpApiKeyAuthSigner:()=>PV,HttpBearerAuthSigner:()=>RV,NoAuthSigner:()=>xs,createIsIdentityExpiredFunction:()=>oue,createPaginator:()=>hce,doesIdentityRequireRefresh:()=>vc,getHttpAuthSchemeEndpointRuleSetPlugin:()=>$a,getHttpAuthSchemePlugin:()=>uCt,getHttpSigningPlugin:()=>za,getSmithyContext:()=>KEt,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Yae,httpAuthSchemeMiddleware:()=>A0,httpAuthSchemeMiddlewareOptions:()=>ace,httpSigningMiddleware:()=>h3,httpSigningMiddlewareOptions:()=>mce,isIdentityExpired:()=>id,memoizeIdentityProvider:()=>od,normalizeProvider:()=>Qt,requestBuilder:()=>am,setFeature:()=>D0t});var Ze=v(()=>{zae();lce();pce();gce();yce();Yde();Qde();cue()});var no=E((_nn,yue)=>{var FN=Object.defineProperty,M0t=Object.getOwnPropertyDescriptor,L0t=Object.getOwnPropertyNames,U0t=Object.prototype.hasOwnProperty,Dr=(e,t)=>FN(e,"name",{value:t,configurable:!0}),B0t=(e,t)=>{for(var r in t)FN(e,r,{get:t[r],enumerable:!0})},F0t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of L0t(t))!U0t.call(e,s)&&s!==r&&FN(e,s,{get:()=>t[s],enumerable:!(n=M0t(t,s))||n.enumerable});return e},q0t=e=>F0t(FN({},"__esModule",{value:!0}),e),lue={};B0t(lue,{EndpointCache:()=>j0t,EndpointError:()=>ga,customEndpointFunctions:()=>TV,isIpAddress:()=>due,isValidHostLabel:()=>NV,resolveEndpoint:()=>oxt});yue.exports=q0t(lue);var j0t=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Dr(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:o}=n.next();if(this.data.delete(i),o||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},$0t=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),due=Dr(e=>$0t.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),z0t=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),NV=Dr((e,t=!1)=>{if(!t)return z0t.test(e);let r=e.split(".");for(let n of r)if(!NV(n))return!1;return!0},"isValidHostLabel"),TV={},z0="endpoints";function cm(e){return typeof e!="object"||e==null?e:"ref"in e?`$${cm(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(cm).join(", ")})`:JSON.stringify(e,null,2)}Dr(cm,"toDebugString");var ga=class extends Error{static{Dr(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},H0t=Dr((e,t)=>e===t,"booleanEquals"),G0t=Dr(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new ga(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new ga(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),uue=Dr((e,t)=>G0t(t).reduce((r,n)=>{if(typeof r!="object")throw new ga(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),V0t=Dr(e=>e!=null,"isSet"),W0t=Dr(e=>!e,"not"),OV=Qf(),IV={[OV.EndpointURLScheme.HTTP]:80,[OV.EndpointURLScheme.HTTPS]:443},K0t=Dr(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:p,protocol:g="",path:S="",query:b={}}=e,A=new URL(`${g}//${f}${p?`:${p}`:""}${S}`);return A.search=Object.entries(b).map(([P,M])=>`${P}=${M}`).join("&"),A}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(OV.EndpointURLScheme).includes(c))return null;let l=due(s),d=r.includes(`${n}:${IV[c]}`)||typeof e=="string"&&e.includes(`${n}:${IV[c]}`),u=`${n}${d?`:${IV[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),X0t=Dr((e,t)=>e===t,"stringEquals"),J0t=Dr((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),Y0t=Dr(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Q0t={booleanEquals:H0t,getAttr:uue,isSet:V0t,isValidHostLabel:NV,not:W0t,parseURL:K0t,stringEquals:X0t,substring:J0t,uriEncode:Y0t},mue=Dr((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(uue(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},"evaluateTemplate"),Z0t=Dr(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),qN=Dr((e,t,r)=>{if(typeof e=="string")return mue(e,r);if(e.fn)return fue(e,r);if(e.ref)return Z0t(e,r);throw new ga(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),fue=Dr(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:qN(i,"arg",r)),s=e.split(".");return s[0]in TV&&s[1]!=null?TV[s[0]][s[1]](...n):Q0t[e](...n)},"callFunction"),ext=Dr(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new ga(`'${e}' is already defined in Reference Record.`);let n=fue(t,r);return r.logger?.debug?.(`${z0} evaluateCondition: ${cm(t)} = ${cm(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),DV=Dr((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=ext(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${z0} assign: ${i.name} := ${cm(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),txt=Dr((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=qN(i,"Header value entry",t);if(typeof o!="string")throw new ga(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),pue=Dr((e,t)=>{if(Array.isArray(e))return e.map(r=>pue(r,t));switch(typeof e){case"string":return mue(e,t);case"object":if(e===null)throw new ga(`Unexpected endpoint property: ${e}`);return gue(e,t);case"boolean":return e;default:throw new ga(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),gue=Dr((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:pue(s,t)}),{}),"getEndpointProperties"),rxt=Dr((e,t)=>{let r=qN(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ga(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),nxt=Dr((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=DV(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${z0} Resolving endpoint from template: ${cm(n)}`),{...l!=null&&{headers:txt(l,o)},...c!=null&&{properties:gue(c,o)},url:rxt(a,o)}},"evaluateEndpointRule"),sxt=Dr((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=DV(r,t);if(s)throw new ga(qN(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),ixt=Dr((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=DV(r,t);if(s)return hue(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),hue=Dr((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=nxt(r,t);if(n)return n}else if(r.type==="error")sxt(r,t);else if(r.type==="tree"){let n=ixt(r,t);if(n)return n}else throw new ga(`Unknown endpoint rule: ${r}`);throw new ga("Rules evaluation failed")},"evaluateRules"),oxt=Dr((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${z0} Initial EndpointParams: ${cm(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(o.length>0)for(let[l,d]of o)r[l]=r[l]??d;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new ga(`Missing required parameter: '${l}'`);let c=hue(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${z0} Resolved endpoint: ${cm(c)}`),c},"resolveEndpoint")});var Eue=E((Enn,vue)=>{var jN=Object.defineProperty,axt=Object.getOwnPropertyDescriptor,cxt=Object.getOwnPropertyNames,lxt=Object.prototype.hasOwnProperty,dxt=(e,t)=>jN(e,"name",{value:t,configurable:!0}),uxt=(e,t)=>{for(var r in t)jN(e,r,{get:t[r],enumerable:!0})},mxt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cxt(t))!lxt.call(e,s)&&s!==r&&jN(e,s,{get:()=>t[s],enumerable:!(n=axt(t,s))||n.enumerable});return e},fxt=e=>mxt(jN({},"__esModule",{value:!0}),e),_ue={};uxt(_ue,{parseQueryString:()=>Sue});vue.exports=fxt(_ue);function Sue(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}dxt(Sue,"parseQueryString")});var gi=E((Cnn,wue)=>{var $N=Object.defineProperty,pxt=Object.getOwnPropertyDescriptor,gxt=Object.getOwnPropertyNames,hxt=Object.prototype.hasOwnProperty,yxt=(e,t)=>$N(e,"name",{value:t,configurable:!0}),_xt=(e,t)=>{for(var r in t)$N(e,r,{get:t[r],enumerable:!0})},Sxt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gxt(t))!hxt.call(e,s)&&s!==r&&$N(e,s,{get:()=>t[s],enumerable:!(n=pxt(t,s))||n.enumerable});return e},vxt=e=>Sxt($N({},"__esModule",{value:!0}),e),Cue={};_xt(Cue,{parseUrl:()=>bue});wue.exports=vxt(Cue);var Ext=Eue(),bue=yxt(e=>{if(typeof e=="string")return bue(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,Ext.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},"parseUrl")});var XS=E((bnn,Mue)=>{"use strict";var zN=Object.defineProperty,Cxt=Object.getOwnPropertyDescriptor,bxt=Object.getOwnPropertyNames,wxt=Object.prototype.hasOwnProperty,np=(e,t)=>zN(e,"name",{value:t,configurable:!0}),xxt=(e,t)=>{for(var r in t)zN(e,r,{get:t[r],enumerable:!0})},Axt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bxt(t))!wxt.call(e,s)&&s!==r&&zN(e,s,{get:()=>t[s],enumerable:!(n=Cxt(t,s))||n.enumerable});return e},Pxt=e=>Axt(zN({},"__esModule",{value:!0}),e),Aue={};xxt(Aue,{ConditionObject:()=>dn.ConditionObject,DeprecatedObject:()=>dn.DeprecatedObject,EndpointError:()=>dn.EndpointError,EndpointObject:()=>dn.EndpointObject,EndpointObjectHeaders:()=>dn.EndpointObjectHeaders,EndpointObjectProperties:()=>dn.EndpointObjectProperties,EndpointParams:()=>dn.EndpointParams,EndpointResolverOptions:()=>dn.EndpointResolverOptions,EndpointRuleObject:()=>dn.EndpointRuleObject,ErrorRuleObject:()=>dn.ErrorRuleObject,EvaluateOptions:()=>dn.EvaluateOptions,Expression:()=>dn.Expression,FunctionArgv:()=>dn.FunctionArgv,FunctionObject:()=>dn.FunctionObject,FunctionReturn:()=>dn.FunctionReturn,ParameterObject:()=>dn.ParameterObject,ReferenceObject:()=>dn.ReferenceObject,ReferenceRecord:()=>dn.ReferenceRecord,RuleSetObject:()=>dn.RuleSetObject,RuleSetRules:()=>dn.RuleSetRules,TreeRuleObject:()=>dn.TreeRuleObject,awsEndpointFunctions:()=>Due,getUserAgentPrefix:()=>Oxt,isIpAddress:()=>dn.isIpAddress,partition:()=>Oue,resolveDefaultAwsRegionalEndpointsConfig:()=>Dxt,resolveEndpoint:()=>dn.resolveEndpoint,setPartitionInfo:()=>Nue,toEndpointV1:()=>kue,useDefaultPartitionInfo:()=>Txt});Mue.exports=Pxt(Aue);var dn=no(),Pue=np((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Pue(r))return!1;return!0}return!(!(0,dn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,dn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),xue=":",Rxt="/",Ixt=np(e=>{let t=e.split(xue);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(xue)==="")return null;let c=a.map(l=>l.split(Rxt)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),Rue={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},Iue=Rue,Tue="",Oue=np(e=>{let{partitions:t}=Iue;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Nue=np((e,t="")=>{Iue=e,Tue=t},"setPartitionInfo"),Txt=np(()=>{Nue(Rue,"")},"useDefaultPartitionInfo"),Oxt=np(()=>Tue,"getUserAgentPrefix"),Due={isVirtualHostableS3Bucket:Pue,parseArn:Ixt,partition:Oue};dn.customEndpointFunctions.aws=Due;var Nxt=gi(),Dxt=np(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>kue(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),kue=np(e=>(0,Nxt.parseUrl)(e.url),"toEndpointV1")});var HN,JS,Lue=v(()=>{HN={warningEmitted:!1},JS=e=>{e&&!HN.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(HN.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function sp(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Uue=v(()=>{});function Bue(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Fue=v(()=>{});function que(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var jue=v(()=>{});var ip={};Kt(ip,{emitWarningIfUnsupportedVersion:()=>JS,setCredentialFeature:()=>sp,setFeature:()=>Bue,setTokenFeature:()=>que,state:()=>HN});var ad=v(()=>{Lue();Uue();Fue();jue()});var $ue,kV,zue=v(()=>{$ue=C(Fe()),kV=e=>$ue.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var YS,MV=v(()=>{YS=e=>new Date(Date.now()+e)});var Hue,Gue=v(()=>{MV();Hue=(e,t)=>Math.abs(YS(t).getTime()-e)>=3e5});var LV,Vue=v(()=>{Gue();LV=(e,t)=>{let r=Date.parse(e);return Hue(r,t)?r-Date.now():t}});var UV=v(()=>{zue();MV();Vue()});var Wue,H0,QS,ha,BV,FV=v(()=>{Wue=C(Fe());UV();H0=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},QS=async e=>{let t=H0("context",e.context),r=H0("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await H0("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},ha=class{async sign(t,r,n){if(!Wue.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await QS(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,f]=l.authSchemes;u?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(t,{signingDate:YS(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??kV(r.$response);if(n){let s=H0("config",t.config),i=s.systemClockOffset;s.systemClockOffset=LV(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=kV(t);if(n){let s=H0("config",r.config);s.systemClockOffset=LV(n,s.systemClockOffset)}}},BV=ha});var Kue,G0,Xue=v(()=>{Kue=C(Fe());UV();FV();G0=class extends ha{async sign(t,r,n){if(!Kue.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await QS(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:YS(s.systemClockOffset),signingRegion:d,signingService:c})}}});var qV,Jue=v(()=>{qV=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var GN,jV=v(()=>{GN=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Yue,Que,ZS,Zue=v(()=>{Jue();jV();Yue="AWS_AUTH_SCHEME_PREFERENCE",Que="auth_scheme_preference",ZS={environmentVariableSelector:(e,t)=>{if(t?.signingName&&GN(t.signingName)in e)return["httpBearerAuth"];if(Yue in e)return qV(e[Yue])},configFileSelector:e=>{if(Que in e)return qV(e[Que])},default:[]}});var Rt=E((Qnn,sme)=>{var VN=Object.defineProperty,kxt=Object.getOwnPropertyDescriptor,Mxt=Object.getOwnPropertyNames,Lxt=Object.prototype.hasOwnProperty,qh=(e,t)=>VN(e,"name",{value:t,configurable:!0}),Uxt=(e,t)=>{for(var r in t)VN(e,r,{get:t[r],enumerable:!0})},Bxt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Mxt(t))!Lxt.call(e,s)&&s!==r&&VN(e,s,{get:()=>t[s],enumerable:!(n=kxt(t,s))||n.enumerable});return e},Fxt=e=>Bxt(VN({},"__esModule",{value:!0}),e),eme={};Uxt(eme,{CredentialsProviderError:()=>qxt,ProviderError:()=>WN,TokenProviderError:()=>jxt,chain:()=>$xt,fromStatic:()=>zxt,memoize:()=>Hxt});sme.exports=Fxt(eme);var WN=class tme extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,tme.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{qh(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},qxt=class rme extends WN{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,rme.prototype)}static{qh(this,"CredentialsProviderError")}},jxt=class nme extends WN{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,nme.prototype)}static{qh(this,"TokenProviderError")}},$xt=qh((...e)=>async()=>{if(e.length===0)throw new WN("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),zxt=qh(e=>()=>Promise.resolve(e),"fromStatic"),Hxt=qh((e,t,r)=>{let n,s,i,o=!1,a=qh(async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var $V,ime,ome,ame=v(()=>{Ze();$V=C(Rt()),ime=e=>(e.sigv4aSigningRegionSet=Qt(e.sigv4aSigningRegionSet),e),ome={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new $V.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new $V.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var ap=E((tsn,Mme)=>{var eD=Object.defineProperty,Gxt=Object.getOwnPropertyDescriptor,Vxt=Object.getOwnPropertyNames,Wxt=Object.prototype.hasOwnProperty,Fi=(e,t)=>eD(e,"name",{value:t,configurable:!0}),Kxt=(e,t)=>{for(var r in t)eD(e,r,{get:t[r],enumerable:!0})},Xxt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vxt(t))!Wxt.call(e,s)&&s!==r&&eD(e,s,{get:()=>t[s],enumerable:!(n=Gxt(t,s))||n.enumerable});return e},Jxt=e=>Xxt(eD({},"__esModule",{value:!0}),e),mme={};Kxt(mme,{ALGORITHM_IDENTIFIER:()=>KN,ALGORITHM_IDENTIFIER_V4A:()=>eAt,ALGORITHM_QUERY_PARAM:()=>fme,ALWAYS_UNSIGNABLE_HEADERS:()=>Eme,AMZ_DATE_HEADER:()=>JV,AMZ_DATE_QUERY_PARAM:()=>VV,AUTH_HEADER:()=>XV,CREDENTIAL_QUERY_PARAM:()=>pme,DATE_HEADER:()=>yme,EVENT_ALGORITHM_IDENTIFIER:()=>wme,EXPIRES_QUERY_PARAM:()=>hme,GENERATED_HEADERS:()=>_me,HOST_HEADER:()=>Qxt,KEY_TYPE_IDENTIFIER:()=>YV,MAX_CACHE_SIZE:()=>Ame,MAX_PRESIGNED_TTL:()=>Pme,PROXY_HEADER_PATTERN:()=>Cme,REGION_SET_PARAM:()=>Yxt,SEC_HEADER_PATTERN:()=>bme,SHA256_HEADER:()=>ZN,SIGNATURE_HEADER:()=>Sme,SIGNATURE_QUERY_PARAM:()=>WV,SIGNED_HEADERS_QUERY_PARAM:()=>gme,SignatureV4:()=>uAt,SignatureV4Base:()=>kme,TOKEN_HEADER:()=>vme,TOKEN_QUERY_PARAM:()=>KV,UNSIGNABLE_PATTERNS:()=>Zxt,UNSIGNED_PAYLOAD:()=>xme,clearCredentialCache:()=>rAt,createScope:()=>JN,getCanonicalHeaders:()=>zV,getCanonicalQuery:()=>Dme,getPayloadHash:()=>YN,getSigningKey:()=>Rme,hasHeader:()=>Tme,moveHeadersToQuery:()=>Nme,prepareRequest:()=>GV,signatureV4aContainer:()=>mAt});Mme.exports=Jxt(mme);var cme=Ct(),fme="X-Amz-Algorithm",pme="X-Amz-Credential",VV="X-Amz-Date",gme="X-Amz-SignedHeaders",hme="X-Amz-Expires",WV="X-Amz-Signature",KV="X-Amz-Security-Token",Yxt="X-Amz-Region-Set",XV="authorization",JV=VV.toLowerCase(),yme="date",_me=[XV,JV,yme],Sme=WV.toLowerCase(),ZN="x-amz-content-sha256",vme=KV.toLowerCase(),Qxt="host",Eme={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Cme=/^proxy-/,bme=/^sec-/,Zxt=[/^proxy-/i,/^sec-/i],KN="AWS4-HMAC-SHA256",eAt="AWS4-ECDSA-P256-SHA256",wme="AWS4-HMAC-SHA256-PAYLOAD",xme="UNSIGNED-PAYLOAD",Ame=50,YV="aws4_request",Pme=60*60*24*7,op=SN(),tAt=Ct(),ev={},XN=[],JN=Fi((e,t,r)=>`${e}/${t}/${r}/${YV}`,"createScope"),Rme=Fi(async(e,t,r,n,s)=>{let i=await lme(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,op.toHex)(i)}:${t.sessionToken}`;if(o in ev)return ev[o];for(XN.push(o);XN.length>Ame;)delete ev[XN.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,YV])a=await lme(e,a,c);return ev[o]=a},"getSigningKey"),rAt=Fi(()=>{XN.length=0,Object.keys(ev).forEach(e=>{delete ev[e]})},"clearCredentialCache"),lme=Fi((e,t,r)=>{let n=new e(t);return n.update((0,tAt.toUint8Array)(r)),n.digest()},"hmac"),zV=Fi(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in Eme||t?.has(i)||Cme.test(i)||bme.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),nAt=R0(),sAt=Ct(),YN=Fi(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ZN)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,nAt.isArrayBuffer)(t)){let n=new r;return n.update((0,sAt.toUint8Array)(t)),(0,op.toHex)(await n.digest())}return xme},"getPayloadHash"),dme=Ct(),iAt=class{static{Fi(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let i=(0,dme.fromUtf8)(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=(0,dme.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(aAt.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!oAt.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,op.fromHex)(e.value.replace(/\-/g,"")),1),d}}},oAt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,aAt=class Ime{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Fi(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&HV(r),new Ime(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&HV(t),parseInt((0,op.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function HV(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Fi(HV,"negate");var Tme=Fi((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Ome=Fe(),Nme=Fi((e,t={})=>{let{headers:r,query:n={}}=Ome.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),GV=Fi(e=>{e=Ome.HttpRequest.clone(e);for(let t of Object.keys(e.headers))_me.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),ume=bn(),cAt=Ct(),QN=N3(),Dme=Fi(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Sme)continue;let s=(0,QN.escapeUri)(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${(0,QN.escapeUri)(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${(0,QN.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),lAt=Fi(e=>dAt(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),dAt=Fi(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),kme=class{static{Fi(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,ume.normalizeProvider)(r),this.credentialProvider=(0,ume.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Dme(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,cAt.toUint8Array)(r));let i=await s.digest();return`${n}
${e}
${t}
${(0,op.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,QN.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=lAt(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},uAt=class extends kme{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i}),this.headerFormatter=new iAt}static{Fi(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:f,shortDate:p}=this.formatDate(r);if(n>Pme)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=JN(p,u,l??this.service),S=Nme(GV(e),{unhoistableHeaders:i,hoistableHeaders:a});d.sessionToken&&(S.query[KV]=d.sessionToken),S.query[fme]=KN,S.query[pme]=`${d.accessKeyId}/${g}`,S.query[VV]=f,S.query[hme]=n.toString(10);let b=zV(S,s,o);return S.query[gme]=this.getCanonicalHeaderList(b),S.query[WV]=await this.getSignature(f,g,this.getSigningKey(d,u,p,l),this.createCanonicalRequest(S,b,await YN(e,this.sha256))),S}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:i}){let o=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=JN(a,o,i??this.service),d=await YN({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let f=(0,op.toHex)(await u.digest()),p=[wme,c,l,n,f,d].join(`
`);return this.signString(p,{signingDate:r,signingRegion:o,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=r??await this.regionProvider(),{shortDate:o}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,i,o,n));return a.update((0,cme.toUint8Array)(e)),(0,op.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=s??await this.regionProvider(),c=GV(e),{longDate:l,shortDate:d}=this.formatDate(t),u=JN(d,a,i??this.service);c.headers[JV]=l,o.sessionToken&&(c.headers[vme]=o.sessionToken);let f=await YN(c,this.sha256);!Tme(ZN,c.headers)&&this.applyChecksum&&(c.headers[ZN]=f);let p=zV(c,n,r),g=await this.getSignature(l,u,this.getSigningKey(o,a,d,i),this.createCanonicalRequest(c,p,f));return c.headers[XV]=`${KN} Credential=${o.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${g}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,KN),i=new this.sha256(await r);return i.update((0,cme.toUint8Array)(s)),(0,op.toHex)(await i.digest())}getSigningKey(e,t,r,n){return Rme(this.sha256,e,r,t,n||this.service)}},mAt={SignatureV4a:null}});function fAt(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=od(t,id,vc):r?n=Qt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function pAt(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var QV,jh,Lme,Ume=v(()=>{ad();Ze();QV=C(ap()),jh=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=fAt(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=pAt(e,d);r&&!u.attributed?(n=async f=>u(f).then(p=>sp(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Qt(e.signer):e.regionInfoProvider?a=()=>Qt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:f}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||QV.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Qt(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||QV.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},Lme=jh});var Bme=v(()=>{FV();Xue();Zue();ame();Ume()});var Fme={};Kt(Fme,{AWSSDKSigV4Signer:()=>BV,AwsSdkSigV4ASigner:()=>G0,AwsSdkSigV4Signer:()=>ha,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ZS,NODE_SIGV4A_CONFIG_OPTIONS:()=>ome,getBearerTokenEnvKey:()=>GN,resolveAWSSDKSigV4Config:()=>Lme,resolveAwsSdkSigV4AConfig:()=>ime,resolveAwsSdkSigV4Config:()=>jh,validateSigningProperties:()=>QS});var ZV=v(()=>{Bme();jV()});function cp(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function tD(e){return e[e2]=!0,e}var e2,rD=v(()=>{e2=Symbol("@smithy/core/cbor::tagSymbol")});function $me(e){Hr=e,dm=new DataView(Hr.buffer,Hr.byteOffset,Hr.byteLength)}function Hd(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Hr[e]&224)>>5,n=Hr[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=Hme[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let c=e+1;o===1?s=Hr[c]:o===2?s=dm.getUint16(c):o===4?s=dm.getUint32(c):s=dm.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return Ht=i,t2(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,Ht=i,t2(o)}else if(n===2||n===3){let o=X0(e+i,t),a=BigInt(0),c=e+i+Ht;for(let l=c;l<c+o;++l)a=a<<BigInt(8)|BigInt(Hr[l]);return Ht=i+Ht+o,n===3?-a-BigInt(1):a}else if(n===4){let o=Hd(e+i,t),[a,c]=o,l=c<0?-1:1,d="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),u,f=c<0?"-":"";return u=a===0?d:d.slice(0,d.length+a)+"."+d.slice(a),u=u.replace(/^0+/g,""),u===""&&(u="0"),u[0]==="."&&(u="0"+u),u=f+u,Ht=i+Ht,_V(u)}else{let o=Hd(e+i,t);return Ht=i+Ht,tD({tag:t2(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return EAt(e,t);case 5:return AAt(e,t);case 4:return wAt(e,t);case 2:return CAt(e,t)}else switch(r){case 3:return vAt(e,t);case 5:return xAt(e,t);case 4:return bAt(e,t);case 2:return a2(e,t)}default:return PAt(e,t)}}function zme(e,t,r){return yAt&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):qme?qme.decode(e.subarray(t,r)):(0,jme.toUtf8)(e.subarray(t,r))}function _At(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function SAt(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function X0(e,t){let r=Hr[e]&31;if(r<24)return Ht=1,r;if(r===24||r===25||r===26||r===27){let n=Hme[r];if(Ht=n+1,t-e<Ht)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?Hr[s]:n===2?dm.getUint16(s):n===4?dm.getUint32(s):_At(dm.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function vAt(e,t){let r=X0(e,t),n=Ht;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=zme(Hr,e,e+r);return Ht=n+r,s}function EAt(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Hr[e]===255){let c=cp(r.length);return c.set(r,0),Ht=e-n+2,zme(c,0,c.length)}let s=(Hr[e]&224)>>5,i=Hr[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=a2(e,t);e+=Ht;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function a2(e,t){let r=X0(e,t),n=Ht;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=Hr.subarray(e,e+r);return Ht=n+r,s}function CAt(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Hr[e]===255){let c=cp(r.length);return c.set(r,0),Ht=e-n+2,c}let s=(Hr[e]&224)>>5,i=Hr[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=a2(e,t);e+=Ht;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function bAt(e,t){let r=X0(e,t),n=Ht;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=Hd(e,t),c=Ht;i[o]=a,e+=c}return Ht=n+(e-s),i}function wAt(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Hr[e]===255)return Ht=e-n+2,r;let s=Hd(e,t);e+=Ht,r.push(s)}throw new Error("expected break marker.")}function xAt(e,t){let r=X0(e,t),n=Ht;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Hr[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Hd(e,t);e+=Ht;let l=Hd(e,t);e+=Ht,i[c]=l}return Ht=n+(e-s),i}function AAt(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Hr[e]===255)return Ht=e-r+2,n;let s=(Hr[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=Hd(e,t);e+=Ht;let o=Hd(e,t);e+=Ht,n[i]=o}throw new Error("expected break marker.")}function PAt(e,t){let r=Hr[e]&31;switch(r){case 21:case 20:return Ht=1,r===21;case 22:return Ht=1,null;case 23:return Ht=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Ht=3,SAt(Hr[e+1],Hr[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Ht=5,dm.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Ht=9,dm.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function t2(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var jme,hAt,yAt,Hr,dm,qme,Ht,Hme,Gme=v(()=>{zt();jme=C(Ct());rD();hAt=typeof TextDecoder<"u",yAt=typeof Buffer<"u",Hr=cp(0),dm=new DataView(Hr.buffer,Hr.byteOffset,Hr.byteLength),qme=hAt?new TextDecoder:null,Ht=0;Hme={[24]:1,[25]:2,[26]:4,[27]:8}});function l2(e){st.byteLength-ze<e&&(ze<16e6?sD(Math.max(st.byteLength*4,st.byteLength+e)):sD(st.byteLength+e+16e6))}function d2(){let e=cp(ze);return e.set(st.subarray(0,ze),0),ze=0,e}function sD(e){let t=st;st=cp(e),t&&(t.copy?t.copy(st,0,0,t.byteLength):st.set(t,0)),fm=new DataView(st.buffer,st.byteOffset,st.byteLength)}function mm(e,t){t<24?st[ze++]=e<<5|t:t<256?(st[ze++]=e<<5|24,st[ze++]=t):t<65536?(st[ze++]=e<<5|25,fm.setUint16(ze,t),ze+=2):t<2**32?(st[ze++]=e<<5|26,fm.setUint32(ze,t),ze+=4):(st[ze++]=e<<5|27,fm.setBigUint64(ze,typeof t=="bigint"?t:BigInt(t)),ze+=8)}function Kme(e){let t=[e];for(;t.length;){let r=t.pop();if(l2(typeof r=="string"?r.length*4:64),typeof r=="string"){if(Vme)mm(3,Buffer.byteLength(r)),ze+=st.write(r,ze);else{let n=(0,Wme.fromUtf8)(r);mm(3,n.byteLength),st.set(n,ze),ze+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?st[ze++]=s<<5|i:i<256?(st[ze++]=s<<5|24,st[ze++]=i):i<65536?(st[ze++]=s<<5|25,st[ze++]=i>>8,st[ze++]=i):i<4294967296?(st[ze++]=s<<5|26,fm.setUint32(ze,i),ze+=4):(st[ze++]=s<<5|27,fm.setBigUint64(ze,BigInt(i)),ze+=8);continue}st[ze++]=251,fm.setFloat64(ze,r),ze+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),o=Number(i);if(o<24)st[ze++]=s<<5|o;else if(o<256)st[ze++]=s<<5|24,st[ze++]=o;else if(o<65536)st[ze++]=s<<5|25,st[ze++]=o>>8,st[ze++]=o&255;else if(o<4294967296)st[ze++]=s<<5|26,fm.setUint32(ze,o),ze+=4;else if(i<BigInt("18446744073709551616"))st[ze++]=s<<5|27,fm.setBigUint64(ze,i),ze+=8;else{let a=i.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=i,d=0;for(;c.byteLength-++d>=0;)c[c.byteLength-d]=Number(l&BigInt(255)),l>>=BigInt(8);l2(c.byteLength*2),st[ze++]=n?194:195,Vme?mm(2,Buffer.byteLength(c)):mm(2,c.byteLength),st.set(c,ze),ze+=c.byteLength}continue}else if(r===null){st[ze++]=246;continue}else if(typeof r=="boolean"){st[ze++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);mm(4,r.length);continue}else if(typeof r.byteLength=="number"){l2(r.length*2),mm(2,r.length),st.set(r,ze),ze+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof he){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,o=BigInt(r.string.replace(".",""));st[ze++]=196,t.push(o),t.push(i),mm(4,2);continue}if(r[e2])if("tag"in r&&"value"in r){t.push(r.value),mm(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];t.push(r[i]),t.push(i)}mm(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var Wme,Vme,RAt,st,fm,ze,Xme=v(()=>{zt();Wme=C(Ct());rD();Vme=typeof Buffer<"u",RAt=2048,st=cp(RAt),fm=new DataView(st.buffer,st.byteOffset,st.byteLength),ze=0});var u2,Jme=v(()=>{Gme();Xme();u2={deserialize(e){return $me(e),Hd(0,e.length)},serialize(e){try{return Kme(e),d2()}catch(t){throw d2(),t}},resizeEncodingBuffer(e){sD(e)}}});var rv=E((Asn,Zme)=>{var iD=Object.defineProperty,IAt=Object.getOwnPropertyDescriptor,TAt=Object.getOwnPropertyNames,OAt=Object.prototype.hasOwnProperty,NAt=(e,t)=>iD(e,"name",{value:t,configurable:!0}),DAt=(e,t)=>{for(var r in t)iD(e,r,{get:t[r],enumerable:!0})},kAt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of TAt(t))!OAt.call(e,s)&&s!==r&&iD(e,s,{get:()=>t[s],enumerable:!(n=IAt(t,s))||n.enumerable});return e},MAt=e=>kAt(iD({},"__esModule",{value:!0}),e),Qme={};DAt(Qme,{calculateBodyLength:()=>LAt});Zme.exports=MAt(Qme);var Yme=typeof TextEncoder=="function"?new TextEncoder:null,LAt=NAt(e=>{if(typeof e=="string"){if(Yme)return Yme.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var oD,Ec,aD=v(()=>{rD();oD=e=>tD({tag:1,value:e.getTime()/1e3}),Ec=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var p2,cD,m2,f2,g2=v(()=>{Ie();zt();p2=C(bt());Jme();aD();cD=class{createSerializer(){let t=new m2;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new f2;return t.setSerdeContext(this.serdeContext),t}setSerdeContext(t){this.serdeContext=t}},m2=class{setSerdeContext(t){this.serdeContext=t}write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=U.of(t);if(r==null)return n.isIdempotencyToken()?Zt():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??p2.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?oD(new Date(Number(r)/1e3|0)):oD(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let o=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of s){let d=this.serialize(n.getValueSchema(),l);(d!=null||o)&&(a[c++]=d)}return a}if(s instanceof Date)return oD(s);let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||o)&&(i[a]=c)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator()){let c=this.serialize(a,s[o]);c!=null&&(i[o]=c)}else if(n.isDocumentSchema())for(let o of Object.keys(s))i[o]=this.serialize(n.getValueSchema(),s[o]);return i}return r}flush(){let t=u2.serialize(this.value);return this.value=void 0,t}},f2=class{setSerdeContext(t){this.serdeContext=t}read(t,r){let n=u2.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=U.of(t);if(n.isTimestampSchema()&&typeof r=="number")return jo(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??p2.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(o,c);(l!=null||a)&&i.push(l)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(o,r[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema())for(let[i,o]of n.structIterator())s[i]=this.readValue(o,r[i]);return s}else return r}}});var efe,Cc,tfe=v(()=>{nt();Ie();efe=C(bn());g2();aD();Cc=class extends wn{constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new cD,this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),zr(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,efe.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Ec(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let c={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},l=Un.for(a),d;try{d=l.getSchema(o)}catch{s.Message&&(s.message=s.Message);let b=Un.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let A=b.ctor;throw Object.assign(new A({name:o}),c,s)}throw Object.assign(new Error(o),c,s)}let u=U.of(d),f=s.message??s.Message??"Unknown",p=new d.ctor(f),g={};for(let[S,b]of u.structIterator())g[S]=this.deserializer.readValue(b,s[S]);throw Object.assign(p,c,{$fault:u.getMergedTraits().error,message:f},g)}getDefaultContentType(){return"application/cbor"}}});var sv=v(()=>{aD();tfe();g2()});var rfe,bc,iv=v(()=>{Ie();rfe=C(rv()),bc=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??rfe.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=Un.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let f=Un.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(f){let p=f.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var h2,nfe=v(()=>{sv();Ie();iv();h2=class extends Cc{awsQueryCompatible;mixin=new bc;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Ec(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator())f[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var UAt,BAt,FAt,sfe=v(()=>{UAt=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},BAt=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},FAt=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var so,mp=v(()=>{so=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function ife(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new he(n,"bigDecimal"):BigInt(n)}return t}var ofe=v(()=>{zt()});var ufe=E((Zsn,dfe)=>{var lD=Object.defineProperty,qAt=Object.getOwnPropertyDescriptor,jAt=Object.getOwnPropertyNames,$At=Object.prototype.hasOwnProperty,Ps=(e,t)=>lD(e,"name",{value:t,configurable:!0}),zAt=(e,t)=>{for(var r in t)lD(e,r,{get:t[r],enumerable:!0})},HAt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jAt(t))!$At.call(e,s)&&s!==r&&lD(e,s,{get:()=>t[s],enumerable:!(n=qAt(t,s))||n.enumerable});return e},GAt=e=>HAt(lD({},"__esModule",{value:!0}),e),lfe={};zAt(lfe,{constructStack:()=>y2});dfe.exports=GAt(lfe);var $h=Ps((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),fp=Ps((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),y2=Ps(()=>{let e=[],t=[],r=!1,n=new Set,s=Ps(u=>u.sort((f,p)=>afe[p.step]-afe[f.step]||cfe[p.priority||"normal"]-cfe[f.priority||"normal"]),"sort"),i=Ps(u=>{let f=!1,p=Ps(g=>{let S=$h(g.name,g.aliases);if(S.includes(u)){f=!0;for(let b of S)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByName"),o=Ps(u=>{let f=!1,p=Ps(g=>{if(g.middleware===u){f=!0;for(let S of $h(g.name,g.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByReference"),a=Ps(u=>(e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),u.identifyOnResolve?.(d.identifyOnResolve()),u),"cloneTo"),c=Ps(u=>{let f=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...c(p))}),f.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...c(p))}),f},"expandRelativeMiddlewareList"),l=Ps((u=!1)=>{let f=[],p=[],g={};return e.forEach(b=>{let A={...b,before:[],after:[]};for(let P of $h(A.name,A.aliases))g[P]=A;f.push(A)}),t.forEach(b=>{let A={...b,before:[],after:[]};for(let P of $h(A.name,A.aliases))g[P]=A;p.push(A)}),p.forEach(b=>{if(b.toMiddleware){let A=g[b.toMiddleware];if(A===void 0){if(u)return;throw new Error(`${b.toMiddleware} is not found when adding ${fp(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&A.after.push(b),b.relation==="before"&&A.before.push(b)}}),s(f).map(c).reduce((b,A)=>(b.push(...A),b),[])},"getMiddlewareList"),d={add:Ps((u,f={})=>{let{name:p,override:g,aliases:S}=f,b={step:"initialize",priority:"normal",middleware:u,...f},A=$h(p,S);if(A.length>0){if(A.some(P=>n.has(P))){if(!g)throw new Error(`Duplicate middleware name '${fp(p,S)}'`);for(let P of A){let M=e.findIndex(L=>L.name===P||L.aliases?.some(G=>G===P));if(M===-1)continue;let N=e[M];if(N.step!==b.step||b.priority!==N.priority)throw new Error(`"${fp(N.name,N.aliases)}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by "${fp(p,S)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice(M,1)}}for(let P of A)n.add(P)}e.push(b)},"add"),addRelativeTo:Ps((u,f)=>{let{name:p,override:g,aliases:S}=f,b={middleware:u,...f},A=$h(p,S);if(A.length>0){if(A.some(P=>n.has(P))){if(!g)throw new Error(`Duplicate middleware name '${fp(p,S)}'`);for(let P of A){let M=t.findIndex(L=>L.name===P||L.aliases?.some(G=>G===P));if(M===-1)continue;let N=t[M];if(N.toMiddleware!==b.toMiddleware||N.relation!==b.relation)throw new Error(`"${fp(N.name,N.aliases)}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by "${fp(p,S)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(M,1)}}for(let P of A)n.add(P)}t.push(b)},"addRelativeTo"),clone:Ps(()=>a(y2()),"clone"),use:Ps(u=>{u.applyToStack(d)},"use"),remove:Ps(u=>typeof u=="string"?i(u):o(u),"remove"),removeByTag:Ps(u=>{let f=!1,p=Ps(g=>{let{tags:S,name:b,aliases:A}=g;if(S&&S.includes(u)){let P=$h(b,A);for(let M of P)n.delete(M);return f=!0,!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByTag"),concat:Ps(u=>{let f=a(y2());return f.use(u),f.identifyOnResolve(r||f.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),f},"concat"),applyToStack:a,identify:Ps(()=>l(!0).map(u=>{let f=u.step??u.relation+" "+u.toMiddleware;return fp(u.name,u.aliases)+" - "+f}),"identify"),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:Ps((u,f)=>{for(let p of l().map(g=>g.middleware).reverse())u=p(u,f);return r&&console.log(d.identify()),u},"resolve")};return d},"constructStack"),afe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},cfe={high:3,normal:2,low:1}});var V=E((ein,x2)=>{var uD=Object.defineProperty,VAt=Object.getOwnPropertyDescriptor,WAt=Object.getOwnPropertyNames,KAt=Object.prototype.hasOwnProperty,Gt=(e,t)=>uD(e,"name",{value:t,configurable:!0}),XAt=(e,t)=>{for(var r in t)uD(e,r,{get:t[r],enumerable:!0})},v2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of WAt(t))!KAt.call(e,s)&&s!==r&&uD(e,s,{get:()=>t[s],enumerable:!(n=VAt(t,s))||n.enumerable});return e},JAt=(e,t,r)=>(v2(e,t,"default"),r&&v2(r,t,"default")),YAt=e=>v2(uD({},"__esModule",{value:!0}),e),b2={};XAt(b2,{Client:()=>QAt,Command:()=>pfe,NoOpLogger:()=>hPt,SENSITIVE_STRING:()=>tPt,ServiceException:()=>nPt,_json:()=>C2,collectBody:()=>_2.collectBody,convertMap:()=>yPt,createAggregatedClient:()=>rPt,decorateServiceException:()=>gfe,emitWarningIfUnsupportedVersion:()=>aPt,extendedEncodeURIComponent:()=>_2.extendedEncodeURIComponent,getArrayIfSingleItem:()=>pPt,getDefaultClientConfiguration:()=>mPt,getDefaultExtensionConfiguration:()=>yfe,getValueFromTextNode:()=>_fe,isSerializableHeaderValue:()=>gPt,loadConfigsForDefaultMode:()=>oPt,map:()=>w2,resolveDefaultRuntimeConfig:()=>fPt,resolvedPath:()=>_2.resolvedPath,serializeDateTime:()=>bPt,serializeFloat:()=>CPt,take:()=>_Pt,throwDefaultError:()=>hfe,withBaseException:()=>sPt});x2.exports=YAt(b2);var ffe=ufe(),QAt=class{constructor(e){this.config=e,this.middlewareStack=(0,ffe.constructStack)()}static{Gt(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,i=n===void 0&&this.config.cacheMiddleware===!0,o;if(i){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?o=a.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},_2=(nt(),H(Jde)),E2=Qf(),ZAt=(Ie(),H(Zle)),S2="***SensitiveInformation***";function dD(e,t){if(t==null)return t;let r=ZAt.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return S2;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return S2}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return S2}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=dD(o,n[i]));return s}return t}Gt(dD,"schemaLogFilter");var pfe=class{constructor(){this.middlewareStack=(0,ffe.constructStack)()}static{Gt(this,"Command")}static classBuilder(){return new ePt}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let S of n.bind(this)(d,e,t,r))this.middlewareStack.use(S);let u=e.concat(this.middlewareStack),{logger:f}=t,p={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[E2.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return u.resolve(S=>g.handle(S.request,r||{}),p)}},ePt=class{constructor(){this._init=Gt(()=>{},"_init"),this._ep={},this._middlewareFn=Gt(()=>[],"_middlewareFn"),this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=void 0,this._outputFilterSensitiveLog=void 0,this._serializer=null,this._deserializer=null}static{Gt(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends pfe{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{Gt(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(e._operationSchema?dD.bind(null,e._operationSchema.input):i=>i),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(e._operationSchema?dD.bind(null,e._operationSchema.output):i=>i),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},tPt="***SensitiveInformation***",rPt=Gt((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=Gt(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},"createAggregatedClient"),nPt=class J0 extends Error{static{Gt(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return J0.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===J0?J0.isInstance(t):J0.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},gfe=Gt((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),hfe=Gt(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=iPt(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw gfe(o,t)},"throwDefaultError"),sPt=Gt(e=>({output:t,parsedBody:r,errorCode:n})=>{hfe({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),iPt=Gt(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),oPt=Gt(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),mfe=!1,aPt=Gt(e=>{e&&!mfe&&parseInt(e.substring(1,e.indexOf(".")))<16&&(mfe=!0)},"emitWarningIfUnsupportedVersion"),cPt=Gt(e=>{let t=[];for(let r in E2.AlgorithmId){let n=E2.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:Gt(()=>n,"algorithmId"),checksumConstructor:Gt(()=>e[n],"checksumConstructor")})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),lPt=Gt(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),dPt=Gt(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),uPt=Gt(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),yfe=Gt(e=>Object.assign(cPt(e),dPt(e)),"getDefaultExtensionConfiguration"),mPt=yfe,fPt=Gt(e=>Object.assign(lPt(e),uPt(e)),"resolveDefaultRuntimeConfig"),pPt=Gt(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),_fe=Gt(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=_fe(e[r]));return e},"getValueFromTextNode"),gPt=Gt(e=>e!=null,"isSerializableHeaderValue"),hPt=class{static{Gt(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function w2(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,SPt(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}Sfe(n,null,i,o)}return n}Gt(w2,"map");var yPt=Gt(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),_Pt=Gt((e,t)=>{let r={};for(let n in t)Sfe(r,e,t,n);return r},"take"),SPt=Gt((e,t,r)=>w2(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),Sfe=Gt((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=vPt,c=EPt,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},"applyInstruction"),vPt=Gt(e=>e!=null,"nonNullish"),EPt=Gt(e=>e,"pass"),CPt=Gt(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),bPt=Gt(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),C2=Gt(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(C2);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=C2(e[r]));return t}return e},"_json");JAt(b2,(zt(),H(Mde)),x2.exports)});var vfe,Efe,mD,A2=v(()=>{vfe=C(V()),Efe=C(Ct()),mD=(e,t)=>(0,vfe.collectBody)(e,t).then(r=>(t?.utf8Encoder??Efe.toUtf8)(r))});var ov,P2,zh,Y0=v(()=>{A2();ov=(e,t)=>mD(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),P2=async(e,t)=>{let r=await ov(e,t);return r.message=r.message??r.Message,r},zh=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var Cfe,Q0,R2=v(()=>{Ie();zt();Cfe=C(bt());mp();ofe();Y0();Q0=class extends so{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,ife):await ov(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=U.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,Cfe.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return xr.from(r);if(s.isTimestampSchema()){let o=this.settings.timestampFormat;switch(o.useTrait?s.getSchema()===F.TIMESTAMP_DEFAULT?o.default:s.getSchema()??o.default:o.default){case F.TIMESTAMP_DATE_TIME:return Ga(r);case F.TIMESTAMP_HTTP_DATE:return Va(r);case F.TIMESTAMP_EPOCH_SECONDS:return jo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof he?r:new he(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var bfe,fD,wfe=v(()=>{zt();bfe="\u039D",fD=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof he){let n=`${bfe+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${bfe+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Z0,I2=v(()=>{Ie();zt();mp();wfe();Z0=class extends so{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=U.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new fD;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=U.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(i===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(i.isTimestampSchema()&&r instanceof Date){let o=this.settings.timestampFormat;switch(o.useTrait?i.getSchema()===F.TIMESTAMP_DEFAULT?o.default:i.getSchema()??o.default:o.default){case F.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case F.TIMESTAMP_HTTP_DATE:return Ha(r);case F.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return Zt();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return xr.from(r)}return r}}}});var Hh,pD=v(()=>{mp();R2();I2();Hh=class extends so{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Z0(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Q0(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Gh,gD=v(()=>{nt();Ie();iv();pD();Y0();Gh=class extends wn{serializer;deserializer;serviceTarget;codec;mixin=new bc;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Hh({timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${U.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(zr(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=zh(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var T2,xfe=v(()=>{gD();T2=class extends Gh{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var O2,Afe=v(()=>{gD();O2=class extends Gh{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var N2,Pfe=v(()=>{nt();Ie();iv();pD();Y0();N2=class extends es{serializer;deserializer;codec;mixin=new bc;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Hh(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=zh(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/json"}}});var Rfe,wPt,Ife=v(()=>{Rfe=C(V()),wPt=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Rfe.expectUnion)(e)}});function hD(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r}function Ofe(e){return typeof e<"u"}var Tfe,xPt,APt,PPt,ex,yD=v(()=>{"use strict";Tfe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",xPt=Tfe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",APt="["+Tfe+"]["+xPt+"]*",PPt=new RegExp("^"+APt+"$");ex=function(e){let t=PPt.exec(e);return!(t===null||typeof t>"u")}});function Lfe(e,t){t=Object.assign({},RPt,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=Dfe(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=kfe(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!LPt(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",Rs("InvalidTag",u,Ho(e,i))}let l=OPt(e,i);if(l===!1)return Rs("InvalidAttr","Attributes for '"+c+"' have open quote.",Ho(e,i));let d=l.value;if(i=l.index,d[d.length-1]==="/"){let u=i-d.length;d=d.substring(0,d.length-1);let f=Mfe(d,t);if(f===!0)n=!0;else return Rs(f.err.code,f.err.msg,Ho(e,u+f.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return Rs("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ho(e,o));if(r.length===0)return Rs("InvalidTag","Closing tag '"+c+"' has not been opened.",Ho(e,o));{let u=r.pop();if(c!==u.tagName){let f=Ho(e,u.tagStartPos);return Rs("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Ho(e,o))}r.length==0&&(s=!0)}}else return Rs("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ho(e,i));else{let u=Mfe(d,t);if(u!==!0)return Rs(u.err.code,u.err.msg,Ho(e,i-d.length+u.err.line));if(s===!0)return Rs("InvalidXml","Multiple possible root nodes found.",Ho(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=kfe(e,i);continue}else if(e[i+1]==="?"){if(i=Dfe(e,++i),i.err)return i}else break;else if(e[i]==="&"){let u=kPt(e,i);if(u==-1)return Rs("InvalidChar","char '&' is not expected.",Ho(e,i));i=u}else if(s===!0&&!Nfe(e[i]))return Rs("InvalidXml","Extra text at the end",Ho(e,i));e[i]==="<"&&i--}}else{if(Nfe(e[i]))continue;return Rs("InvalidChar","char '"+e[i]+"' is not expected.",Ho(e,i))}if(n){if(r.length==1)return Rs("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ho(e,r[0].tagStartPos));if(r.length>0)return Rs("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Rs("InvalidXml","Start tag expected.",1);return!0}function Nfe(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Dfe(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Rs("InvalidXml","XML declaration allowed only at the start of the document.",Ho(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function kfe(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function OPt(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===IPt||e[t]===TPt)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}function Mfe(e,t){let r=hD(e,NPt),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return Rs("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",tx(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return Rs("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",tx(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return Rs("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",tx(r[s]));let i=r[s][2];if(!MPt(i))return Rs("InvalidAttr","Attribute '"+i+"' is an invalid name.",tx(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return Rs("InvalidAttr","Attribute '"+i+"' is repeated.",tx(r[s]))}return!0}function DPt(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function kPt(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,DPt(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Rs(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function MPt(e){return ex(e)}function LPt(e){return ex(e)}function Ho(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function tx(e){return e.startIndex+e[1].length}var RPt,IPt,TPt,NPt,Ufe=v(()=>{"use strict";yD();RPt={allowBooleanAttributes:!1,unpairedTags:[]};IPt='"',TPt="'";NPt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var UPt,Bfe,Ffe=v(()=>{UPt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},Bfe=function(e){return Object.assign({},UPt,e)}});var _D,Wa,SD=v(()=>{"use strict";typeof Symbol!="function"?_D="@@xmlMetadata":_D=Symbol("XML Node Metadata");Wa=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][_D]={startIndex:r})}static getMetaDataSymbol(){return _D}}});function D2(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&Vh(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=BPt(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(s&&Vh(e,"!ELEMENT",t)){t+=8;let{index:a}=qPt(e,t+1);t=a}else if(s&&Vh(e,"!ATTLIST",t))t+=8;else if(s&&Vh(e,"!NOTATION",t)){t+=9;let{index:a}=FPt(e,t+1);t=a}else if(Vh(e,"!--",t))i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function BPt(e,t){t=pp(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(k2(r),t=pp(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=vD(e,t,"entity"),t--,[r,n,t]}function FPt(e,t){t=pp(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;k2(r),t=pp(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=pp(e,t);let s=null,i=null;if(n==="PUBLIC")[t,s]=vD(e,t,"publicIdentifier"),t=pp(e,t),(e[t]==='"'||e[t]==="'")&&([t,i]=vD(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,i]=vD(e,t,"systemIdentifier"),!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:i,index:--t}}function vD(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function qPt(e,t){t=pp(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!k2(r))throw new Error(`Invalid element name: "${r}"`);t=pp(e,t);let n="";if(e[t]==="E"&&Vh(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Vh(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Vh(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function k2(e){if(ex(e))return e;throw new Error(`Invalid entity name ${e}`)}var pp,qfe=v(()=>{yD();pp=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function M2(e,t={}){if(t=Object.assign({},zPt,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&jPt.test(r))return WPt(r,16);if(r.search(/.+[eE].+/)!==-1)return GPt(e,r,t);{let n=$Pt.exec(r);if(n){let s=n[1]||"",i=n[2],o=VPt(n[3]),a=s?e[i.length+1]===".":e[i.length]===".";if(!t.leadingZeros&&(i.length>1||i.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===o||l===`${s}${o}`?c:e;let d=i?o:r;return i?d===l||s+d===l?c:e:d===l||d===s+l?c:e}}else return e}}function GPt(e,t,r){if(!r.eNotation)return e;let n=t.match(HPt);if(n){let s=n[1]||"",i=n[3].indexOf("e")===-1?"E":"e",o=n[2],a=s?e[o.length+1]===i:e[o.length]===i;return o.length>1&&a?e:o.length===1&&(n[3].startsWith(`.${i}`)||n[3][0]===i)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function VPt(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function WPt(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var jPt,$Pt,zPt,HPt,jfe=v(()=>{jPt=/^[-+]?0x[a-fA-F0-9]+$/,$Pt=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,zPt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};HPt=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function L2(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var $fe=v(()=>{});function KPt(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function XPt(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?B2(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?B2(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function JPt(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function QPt(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=hD(e,YPt),s=n.length,i={};for(let o=0;o<s;o++){let a=this.resolveNameSpace(n[o][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?i[l]=c:typeof d!=typeof c||d!==c?i[l]=d:i[l]=B2(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=i,o}return i}}function eRt(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}function rRt(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function nRt(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function sRt(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function Wh(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function U2(e,t,r,n=">"){let s=sRt(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let d=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),l=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:d}}function iRt(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Wh(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Wh(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Wh(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Wh(e,"]]>",r,"StopNode is not closed.")-2;else{let i=U2(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function B2(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:M2(e,r)}else return Ofe(e)?e:""}var rx,YPt,ZPt,tRt,zfe=v(()=>{"use strict";yD();SD();qfe();jfe();$fe();rx=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=KPt,this.parseXml=ZPt,this.parseTextData=XPt,this.resolveNameSpace=JPt,this.buildAttributesMap=QPt,this.isItStopNode=nRt,this.replaceEntitiesValue=tRt,this.readStopNodeData=iRt,this.saveTextToParentTag=rRt,this.addChild=eRt,this.ignoreAttributesFn=L2(this.options.ignoreAttributes)}};YPt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");ZPt=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Wa("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=Wh(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=U2(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Wa(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s,i)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=Wh(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=D2(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=Wh(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),i=a+2}else{let a=U2(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,u=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c);let g=i;if(this.isItStopNode(this.options.stopNodes,s,c)){let S="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let A=this.readStopNodeData(e,l,f+1);if(!A)throw new Error(`Unexpected end of ${l}`);i=A.i,S=A.tagContent}let b=new Wa(c);c!==d&&u&&(b[":@"]=this.buildAttributesMap(d,s,c)),S&&(S=this.parseTextData(S,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),b.add(this.options.textNodeName,S),this.addChild(r,b,s,g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let S=new Wa(c);c!==d&&u&&(S[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,S,s,g),s=s.substr(0,s.lastIndexOf("."))}else{let S=new Wa(c);this.tagsNodeStack.push(r),c!==d&&u&&(S[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,S,s,g),r=S}n="",i=f}}else n+=e[i];return t.child};tRt=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function q2(e,t){return Hfe(e,t)}function Hfe(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=oRt(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=Hfe(o[a],t,c),d=cRt(l,t);o[F2]!==void 0&&(l[F2]=o[F2]),o[":@"]?aRt(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):t.isArray(a,c,d)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function oRt(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function aRt(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function cRt(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var F2,Gfe=v(()=>{"use strict";SD();F2=Wa.getMetaDataSymbol()});var Bn,Vfe=v(()=>{Ffe();zfe();Gfe();Ufe();SD();Bn=class{constructor(t){this.externalEntities={},this.options=Bfe(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Lfe(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new rx(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:q2(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Wa.getMetaDataSymbol()}}});var cd=v(()=>{"use strict";Vfe()});var Wfe,Kfe,Kh,ED=v(()=>{nt();Ie();Wfe=C(V()),Kfe=C(Ct());cd();mp();Kh=class extends so{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $o(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=U.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??Kfe.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=U.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],f=Array.isArray(u)?u:[u];for(let p of f)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",f=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],S=p[f];(S!=null||i)&&(a[g]=this.readSchema(l,S))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Wfe.getValueFromTextNode)(o)}return{}}}});var Xfe,Jfe,CD,Yfe=v(()=>{nt();Ie();zt();Xfe=C(V()),Jfe=C(bt());mp();CD=class extends so{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=U.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Jfe.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Zt()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof he?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case F.TIMESTAMP_HTTP_DATE:this.writeValue((0,Xfe.dateToUtcString)(r));break;case F.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),f=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,f),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${_s(t)}=`}writeValue(t){this.buffer+=_s(t)}}});var nx,j2=v(()=>{nt();Ie();iv();ED();Yfe();nx=class extends wn{options;serializer;deserializer;mixin=new bc;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new CD(r),this.deserializer=new Kh(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(zr(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let u=await Qn(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let f=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=f}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Qn(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,S)=>g.find(b=>U.of(b).getMergedTraits().awsQueryError?.[0]===S)),d=U.of(c),u=this.loadQueryErrorMessage(s),f=new c.ctor(u),p={};for(let[g,S]of d.structIterator()){let b=S.getMergedTraits().xmlName??g,A=a[b]??s[b];p[g]=this.deserializer.readSchema(S,A)}throw Object.assign(f,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var $2,Qfe=v(()=>{j2();$2=class extends nx{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Zfe,sx,z2,H2,G2=v(()=>{Zfe=C(V());cd();A2();sx=(e,t)=>mD(e,t).then(r=>{if(r.length){let n=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,Zfe.getValueFromTextNode)(a)}return{}}),z2=async(e,t)=>{let r=await sx(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},H2=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var ipe=E((Mon,spe)=>{"use strict";var wD=Object.defineProperty,lRt=Object.getOwnPropertyDescriptor,dRt=Object.getOwnPropertyNames,uRt=Object.prototype.hasOwnProperty,xD=(e,t)=>wD(e,"name",{value:t,configurable:!0}),mRt=(e,t)=>{for(var r in t)wD(e,r,{get:t[r],enumerable:!0})},fRt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dRt(t))!uRt.call(e,s)&&s!==r&&wD(e,s,{get:()=>t[s],enumerable:!(n=lRt(t,s))||n.enumerable});return e},pRt=e=>fRt(wD({},"__esModule",{value:!0}),e),epe={};mRt(epe,{XmlNode:()=>gRt,XmlText:()=>npe});spe.exports=pRt(epe);function tpe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}xD(tpe,"escapeAttribute");function rpe(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}xD(rpe,"escapeElement");var npe=class{constructor(e){this.value=e}static{xD(this,"XmlText")}toString(){return rpe(""+this.value)}},gRt=class bD{constructor(t,r=[]){this.name=t,this.children=r}static{xD(this,"XmlNode")}attributes={};static of(t,r,n){let s=new bD(t);return r!==void 0&&s.addChildNode(new npe(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=bD.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new bD(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${tpe(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var wc,V2,AD,ix,W2=v(()=>{wc=C(ipe());Ie();zt();V2=C(V()),AD=C(bt());mp();ix=class extends so{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=U.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??AD.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=wc.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let f=wc.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,f,c),o.addChildNode(f)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),f=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let S=this.writeStruct(o,g,u);p.addChildNode(S.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=wc.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,S,u),p.addChildNode(S)}};if(l)for(let p of r)(c||p!=null)&&f(n,p);else{let p=wc.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&f(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),f=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[S,b]=this.getXmlnsAttribute(t,s),A=(P,M,N)=>{let L=wc.XmlNode.of(l,M),[G,pe]=this.getXmlnsAttribute(a,b);pe&&L.addAttribute(G,pe),P.addChildNode(L);let ne=wc.XmlNode.of(f);d.isListSchema()?this.writeList(d,N,ne,b):d.isMapSchema()?this.writeMap(d,N,ne,b,!0):d.isStructSchema()?ne=this.writeStruct(d,N,b):this.writeSimpleInto(d,N,ne,b),P.addChildNode(ne)};if(g){for(let[P,M]of Object.entries(r))if(p||M!=null){let N=wc.XmlNode.of(o.xmlName??t.getMemberName());A(N,P,M),n.addChildNode(N)}}else{let P;i||(P=wc.XmlNode.of(o.xmlName??t.getMemberName()),b&&P.addAttribute(S,b),n.addChildNode(P));for(let[M,N]of Object.entries(r))if(p||N!=null){let L=wc.XmlNode.of("entry");A(L,M,N),(i?n:P).addChildNode(L)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=U.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??AD.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?n.getSchema()===F.TIMESTAMP_DEFAULT?i.default:n.getSchema()??i.default:i.default){case F.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case F.TIMESTAMP_HTTP_DATE:s=(0,V2.dateToUtcString)(r);break;case F.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,V2.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof he?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=Zt():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=U.of(t),a=new wc.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var ox,K2=v(()=>{mp();ED();W2();ox=class extends so{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ix(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Kh(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var X2,ope=v(()=>{nt();Ie();iv();G2();K2();X2=class extends es{codec;serializer;deserializer;mixin=new bc;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ox(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=H2(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().xmlName??p,b=s.Error?.[S]??s[S];f[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/xml"}}});var ape=v(()=>{nfe();sfe();xfe();Afe();gD();Pfe();pD();R2();I2();Ife();Y0();Qfe();j2();ope();K2();ED();W2();G2()});var Gd={};Kt(Gd,{AWSSDKSigV4Signer:()=>BV,AwsEc2QueryProtocol:()=>$2,AwsJson1_0Protocol:()=>T2,AwsJson1_1Protocol:()=>O2,AwsJsonRpcProtocol:()=>Gh,AwsQueryProtocol:()=>nx,AwsRestJsonProtocol:()=>N2,AwsRestXmlProtocol:()=>X2,AwsSdkSigV4ASigner:()=>G0,AwsSdkSigV4Signer:()=>ha,AwsSmithyRpcV2CborProtocol:()=>h2,JsonCodec:()=>Hh,JsonShapeDeserializer:()=>Q0,JsonShapeSerializer:()=>Z0,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ZS,NODE_SIGV4A_CONFIG_OPTIONS:()=>ome,XmlCodec:()=>ox,XmlShapeDeserializer:()=>Kh,XmlShapeSerializer:()=>ix,_toBool:()=>BAt,_toNum:()=>FAt,_toStr:()=>UAt,awsExpectUnion:()=>wPt,emitWarningIfUnsupportedVersion:()=>JS,getBearerTokenEnvKey:()=>GN,loadRestJsonErrorCode:()=>zh,loadRestXmlErrorCode:()=>H2,parseJsonBody:()=>ov,parseJsonErrorBody:()=>P2,parseXmlBody:()=>sx,parseXmlErrorBody:()=>z2,resolveAWSSDKSigV4Config:()=>Lme,resolveAwsSdkSigV4AConfig:()=>ime,resolveAwsSdkSigV4Config:()=>jh,setCredentialFeature:()=>sp,setFeature:()=>Bue,setTokenFeature:()=>que,state:()=>HN,validateSigningProperties:()=>QS});var hi=v(()=>{ad();ZV();ape()});var av=E((San,Spe)=>{"use strict";var RD=Object.defineProperty,hRt=Object.getOwnPropertyDescriptor,yRt=Object.getOwnPropertyNames,_Rt=Object.prototype.hasOwnProperty,pm=(e,t)=>RD(e,"name",{value:t,configurable:!0}),SRt=(e,t)=>{for(var r in t)RD(e,r,{get:t[r],enumerable:!0})},vRt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yRt(t))!_Rt.call(e,s)&&s!==r&&RD(e,s,{get:()=>t[s],enumerable:!(n=hRt(t,s))||n.enumerable});return e},ERt=e=>vRt(RD({},"__esModule",{value:!0}),e),upe={};SRt(upe,{DEFAULT_UA_APP_ID:()=>mpe,getUserAgentMiddlewareOptions:()=>_pe,getUserAgentPlugin:()=>IRt,resolveUserAgentConfig:()=>ppe,userAgentMiddleware:()=>ype});Spe.exports=ERt(upe);var CRt=(Ze(),H(As)),mpe=void 0;function fpe(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}pm(fpe,"isValidUserAgentAppId");function ppe(e){let t=(0,CRt.normalizeProvider)(e.userAgentAppId??mpe),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:pm(async()=>{let n=await t();if(!fpe(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}pm(ppe,"resolveUserAgentConfig");var bRt=XS(),wRt=Fe(),Vd=(hi(),H(Gd)),xRt=/\d{12}\.ddb/;async function gpe(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Vd.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,Vd.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Vd.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Vd.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(xRt)&&(0,Vd.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Vd.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Vd.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Vd.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,Vd.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,Vd.setFeature)(e,o,a)}}pm(gpe,"checkFeatures");var cpe="user-agent",J2="x-amz-user-agent",lpe=" ",Y2="/",ARt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,PRt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,dpe="-",RRt=1024;function hpe(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=RRt){t.length?t+=","+n:t+=n;continue}break}return t}pm(hpe,"encodeFeatures");var ype=pm(e=>(t,r)=>async n=>{let{request:s}=n;if(!wRt.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(PD)||[],a=(await e.defaultUserAgentProvider()).map(PD);await gpe(r,e,n);let c=r;a.push(`m/${hpe(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(PD)||[],d=await e.userAgentAppId();d&&a.push(PD([`app/${d}`]));let u=(0,bRt.getUserAgentPrefix)(),f=(u?[u]:[]).concat([...a,...o,...l]).join(lpe),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(lpe);return e.runtime!=="browser"?(p&&(i[J2]=i[J2]?`${i[cpe]} ${p}`:p),i[cpe]=f):i[J2]=f,t({...n,request:s})},"userAgentMiddleware"),PD=pm(e=>{let t=e[0].split(Y2).map(o=>o.replace(ARt,dpe)).join(Y2),r=e[1]?.replace(PRt,dpe),n=t.indexOf(Y2),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),_pe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},IRt=pm(e=>({applyToStack:pm(t=>{t.add(ype(e),_pe)},"applyToStack")}),"getUserAgentPlugin")});var ax=E((van,bpe)=>{var ID=Object.defineProperty,TRt=Object.getOwnPropertyDescriptor,ORt=Object.getOwnPropertyNames,NRt=Object.prototype.hasOwnProperty,vpe=(e,t)=>ID(e,"name",{value:t,configurable:!0}),DRt=(e,t)=>{for(var r in t)ID(e,r,{get:t[r],enumerable:!0})},kRt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ORt(t))!NRt.call(e,s)&&s!==r&&ID(e,s,{get:()=>t[s],enumerable:!(n=TRt(t,s))||n.enumerable});return e},MRt=e=>kRt(ID({},"__esModule",{value:!0}),e),Epe={};DRt(Epe,{SelectorType:()=>Cpe,booleanSelector:()=>LRt,numberSelector:()=>URt});bpe.exports=MRt(Epe);var LRt=vpe((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),URt=vpe((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),Cpe=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(Cpe||{})});var un=E((Ean,kpe)=>{var OD=Object.defineProperty,BRt=Object.getOwnPropertyDescriptor,FRt=Object.getOwnPropertyNames,qRt=Object.prototype.hasOwnProperty,$s=(e,t)=>OD(e,"name",{value:t,configurable:!0}),jRt=(e,t)=>{for(var r in t)OD(e,r,{get:t[r],enumerable:!0})},$Rt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FRt(t))!qRt.call(e,s)&&s!==r&&OD(e,s,{get:()=>t[s],enumerable:!(n=BRt(t,s))||n.enumerable});return e},zRt=e=>$Rt(OD({},"__esModule",{value:!0}),e),Ape={};jRt(Ape,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Rpe,CONFIG_USE_FIPS_ENDPOINT:()=>Tpe,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>HRt,DEFAULT_USE_FIPS_ENDPOINT:()=>VRt,ENV_USE_DUALSTACK_ENDPOINT:()=>Ppe,ENV_USE_FIPS_ENDPOINT:()=>Ipe,NODE_REGION_CONFIG_FILE_OPTIONS:()=>QRt,NODE_REGION_CONFIG_OPTIONS:()=>YRt,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>GRt,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>WRt,REGION_ENV_NAME:()=>Ope,REGION_INI_NAME:()=>Npe,getRegionInfo:()=>nIt,resolveCustomEndpointsConfig:()=>KRt,resolveEndpointsConfig:()=>JRt,resolveRegionConfig:()=>ZRt});kpe.exports=zRt(Ape);var gp=ax(),Ppe="AWS_USE_DUALSTACK_ENDPOINT",Rpe="use_dualstack_endpoint",HRt=!1,GRt={environmentVariableSelector:$s(e=>(0,gp.booleanSelector)(e,Ppe,gp.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:$s(e=>(0,gp.booleanSelector)(e,Rpe,gp.SelectorType.CONFIG),"configFileSelector"),default:!1},Ipe="AWS_USE_FIPS_ENDPOINT",Tpe="use_fips_endpoint",VRt=!1,WRt={environmentVariableSelector:$s(e=>(0,gp.booleanSelector)(e,Ipe,gp.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:$s(e=>(0,gp.booleanSelector)(e,Tpe,gp.SelectorType.CONFIG),"configFileSelector"),default:!1},TD=bn(),KRt=$s(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,TD.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,TD.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),XRt=$s(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),JRt=$s(e=>{let t=(0,TD.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?(0,TD.normalizeProvider)(typeof r=="string"?s(r):r):()=>XRt({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),Ope="AWS_REGION",Npe="region",YRt={environmentVariableSelector:$s(e=>e[Ope],"environmentVariableSelector"),configFileSelector:$s(e=>e[Npe],"configFileSelector"),default:$s(()=>{throw new Error("Region is missing")},"default")},QRt={preferredFile:"credentials"},Dpe=$s(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),wpe=$s(e=>Dpe(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),ZRt=$s(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:$s(async()=>{if(typeof t=="string")return wpe(t);let n=await t();return wpe(n)},"region"),useFipsEndpoint:$s(async()=>{let n=typeof t=="string"?t:await t();return Dpe(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig"),xpe=$s((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),eIt=$s((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),tIt=$s((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),rIt=$s((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),nIt=$s((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=tIt(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=xpe(s[a]?.variants,c),d=xpe(i[o]?.variants,c),u=eIt(a,{regionHostname:l,partitionHostname:d});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let f=rIt(u,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:u,...f&&{signingRegion:f},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var Ka=E((Can,Bpe)=>{var ND=Object.defineProperty,sIt=Object.getOwnPropertyDescriptor,iIt=Object.getOwnPropertyNames,oIt=Object.prototype.hasOwnProperty,Q2=(e,t)=>ND(e,"name",{value:t,configurable:!0}),aIt=(e,t)=>{for(var r in t)ND(e,r,{get:t[r],enumerable:!0})},cIt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of iIt(t))!oIt.call(e,s)&&s!==r&&ND(e,s,{get:()=>t[s],enumerable:!(n=sIt(t,s))||n.enumerable});return e},lIt=e=>cIt(ND({},"__esModule",{value:!0}),e),Lpe={};aIt(Lpe,{contentLengthMiddleware:()=>Z2,contentLengthMiddlewareOptions:()=>Upe,getContentLengthPlugin:()=>uIt});Bpe.exports=lIt(Lpe);var dIt=Fe(),Mpe="content-length";function Z2(e){return t=>async r=>{let n=r.request;if(dIt.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(Mpe)===-1)try{let o=e(s);n.headers={...n.headers,[Mpe]:String(o)}}catch{}}return t({...r,request:n})}}Q2(Z2,"contentLengthMiddleware");var Upe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},uIt=Q2(e=>({applyToStack:Q2(t=>{t.add(Z2(e.bodyLengthChecker),Upe)},"applyToStack")}),"getContentLengthPlugin")});var cv=E(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});DD.getHomeDir=void 0;var mIt=require("os"),fIt=require("path"),e4={},pIt=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",gIt=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${fIt.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=pIt();return e4[s]||(e4[s]=(0,mIt.homedir)()),e4[s]};DD.getHomeDir=gIt});var t4=E(kD=>{"use strict";Object.defineProperty(kD,"__esModule",{value:!0});kD.getSSOTokenFilepath=void 0;var hIt=require("crypto"),yIt=require("path"),_It=cv(),SIt=e=>{let r=(0,hIt.createHash)("sha1").update(e).digest("hex");return(0,yIt.join)((0,_It.getHomeDir)(),".aws","sso","cache",`${r}.json`)};kD.getSSOTokenFilepath=SIt});var r4=E(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.getSSOTokenFromFile=hp.tokenIntercept=void 0;var vIt=require("fs"),EIt=t4(),{readFile:CIt}=vIt.promises;hp.tokenIntercept={};var bIt=async e=>{if(hp.tokenIntercept[e])return hp.tokenIntercept[e];let t=(0,EIt.getSSOTokenFilepath)(e),r=await CIt(t,"utf8");return JSON.parse(r)};hp.getSSOTokenFromFile=bIt});var MD=E(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.slurpFile=Xa.fileIntercept=Xa.filePromisesHash=void 0;var wIt=require("fs"),{readFile:xIt}=wIt.promises;Xa.filePromisesHash={};Xa.fileIntercept={};var AIt=(e,t)=>Xa.fileIntercept[e]!==void 0?Xa.fileIntercept[e]:((!Xa.filePromisesHash[e]||t?.ignoreCache)&&(Xa.filePromisesHash[e]=xIt(e,"utf8")),Xa.filePromisesHash[e]);Xa.slurpFile=AIt});var ni=E((Pan,qD)=>{var BD=Object.defineProperty,PIt=Object.getOwnPropertyDescriptor,RIt=Object.getOwnPropertyNames,IIt=Object.prototype.hasOwnProperty,xc=(e,t)=>BD(e,"name",{value:t,configurable:!0}),TIt=(e,t)=>{for(var r in t)BD(e,r,{get:t[r],enumerable:!0})},n4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RIt(t))!IIt.call(e,s)&&s!==r&&BD(e,s,{get:()=>t[s],enumerable:!(n=PIt(t,s))||n.enumerable});return e},Hpe=(e,t,r)=>(n4(e,t,"default"),r&&n4(r,t,"default")),OIt=e=>n4(BD({},"__esModule",{value:!0}),e),FD={};TIt(FD,{CONFIG_PREFIX_SEPARATOR:()=>Xh,DEFAULT_PROFILE:()=>Vpe,ENV_PROFILE:()=>Gpe,SSOToken:()=>Fpe.SSOToken,externalDataInterceptor:()=>KIt,getProfileName:()=>NIt,getSSOTokenFromFile:()=>Fpe.getSSOTokenFromFile,loadSharedConfigFiles:()=>Kpe,loadSsoSessionData:()=>GIt,parseKnownFiles:()=>WIt});qD.exports=OIt(FD);Hpe(FD,cv(),qD.exports);var Gpe="AWS_PROFILE",Vpe="default",NIt=xc(e=>e.profile||process.env[Gpe]||Vpe,"getProfileName");Hpe(FD,t4(),qD.exports);var Fpe=r4(),LD=Qf(),DIt=xc(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Xh);return r===-1?!1:Object.values(LD.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Xh),i=r.substring(0,s)===LD.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),UD=require("path"),kIt=cv(),MIt="AWS_CONFIG_FILE",Wpe=xc(()=>process.env[MIt]||(0,UD.join)((0,kIt.getHomeDir)(),".aws","config"),"getConfigFilepath"),LIt=cv(),UIt="AWS_SHARED_CREDENTIALS_FILE",BIt=xc(()=>process.env[UIt]||(0,UD.join)((0,LIt.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),FIt=cv(),qIt=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,jIt=["__proto__","profile __proto__"],s4=xc(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=qIt.exec(a);if(c){let[,l,,d]=c;Object.values(LD.IniSectionType).includes(l)&&(r=[l,d].join(Xh))}else r=a;if(jIt.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(Xh):c;t[r][d]=l}}}}return t},"parseIni"),qpe=MD(),jpe=xc(()=>({}),"swallowError"),Xh=".",Kpe=xc(async(e={})=>{let{filepath:t=BIt(),configFilepath:r=Wpe()}=e,n=(0,FIt.getHomeDir)(),s="~/",i=t;t.startsWith(s)&&(i=(0,UD.join)(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=(0,UD.join)(n,r.slice(2)));let a=await Promise.all([(0,qpe.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(s4).then(DIt).catch(jpe),(0,qpe.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(s4).catch(jpe)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),$It=xc(e=>Object.entries(e).filter(([t])=>t.startsWith(LD.IniSectionType.SSO_SESSION+Xh)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Xh)+1)]:n}),{}),"getSsoSessionData"),zIt=MD(),HIt=xc(()=>({}),"swallowError"),GIt=xc(async(e={})=>(0,zIt.slurpFile)(e.configFilepath??Wpe()).then(s4).then($It).catch(HIt),"loadSsoSessionData"),VIt=xc((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),WIt=xc(async e=>{let t=await Kpe(e);return VIt(t.configFile,t.credentialsFile)},"parseKnownFiles"),$pe=r4(),zpe=MD(),KIt={getFileRecord(){return zpe.fileIntercept},interceptFile(e,t){zpe.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return $pe.tokenIntercept},interceptToken(e,t){$pe.tokenIntercept[e]=t}}});var io=E((Ran,Ype)=>{var jD=Object.defineProperty,XIt=Object.getOwnPropertyDescriptor,JIt=Object.getOwnPropertyNames,YIt=Object.prototype.hasOwnProperty,lv=(e,t)=>jD(e,"name",{value:t,configurable:!0}),QIt=(e,t)=>{for(var r in t)jD(e,r,{get:t[r],enumerable:!0})},ZIt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of JIt(t))!YIt.call(e,s)&&s!==r&&jD(e,s,{get:()=>t[s],enumerable:!(n=XIt(t,s))||n.enumerable});return e},eTt=e=>ZIt(jD({},"__esModule",{value:!0}),e),Jpe={};QIt(Jpe,{loadConfig:()=>iTt});Ype.exports=eTt(Jpe);var cx=Rt();function i4(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}lv(i4,"getSelectorName");var tTt=lv((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new cx.CredentialsProviderError(r.message||`Not found in ENV: ${i4(e.toString())}`,{logger:t?.logger})}},"fromEnv"),Xpe=ni(),rTt=lv((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Xpe.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,Xpe.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c,t==="config"?s:i);if(d===void 0)throw new Error;return d}catch(l){throw new cx.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${i4(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),nTt=lv(e=>typeof e=="function","isFunction"),sTt=lv(e=>nTt(e)?async()=>await e():(0,cx.fromStatic)(e),"fromStatic"),iTt=lv(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return(0,cx.memoize)((0,cx.chain)(tTt(e,o),rTt(t,n),sTt(r)))},"loadConfig")});var tge=E($D=>{"use strict";Object.defineProperty($D,"__esModule",{value:!0});$D.getEndpointUrlConfig=void 0;var Qpe=ni(),Zpe="AWS_ENDPOINT_URL",ege="endpoint_url",oTt=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[Zpe,...r].join("_")];if(n)return n;let s=t[Zpe];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(Qpe.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),ege].join(Qpe.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[ege];if(n)return n},default:void 0});$D.getEndpointUrlConfig=oTt});var o4=E(zD=>{"use strict";Object.defineProperty(zD,"__esModule",{value:!0});zD.getEndpointFromConfig=void 0;var aTt=io(),cTt=tge(),lTt=async e=>(0,aTt.loadConfig)((0,cTt.getEndpointUrlConfig)(e??""))();zD.getEndpointFromConfig=lTt});var Fn=E((Oan,cge)=>{var GD=Object.defineProperty,dTt=Object.getOwnPropertyDescriptor,uTt=Object.getOwnPropertyNames,mTt=Object.prototype.hasOwnProperty,Ja=(e,t)=>GD(e,"name",{value:t,configurable:!0}),fTt=(e,t)=>{for(var r in t)GD(e,r,{get:t[r],enumerable:!0})},pTt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uTt(t))!mTt.call(e,s)&&s!==r&&GD(e,s,{get:()=>t[s],enumerable:!(n=dTt(t,s))||n.enumerable});return e},gTt=e=>pTt(GD({},"__esModule",{value:!0}),e),nge={};fTt(nge,{endpointMiddleware:()=>oge,endpointMiddlewareOptions:()=>age,getEndpointFromInstructions:()=>sge,getEndpointPlugin:()=>ATt,resolveEndpointConfig:()=>RTt,resolveEndpointRequiredConfig:()=>ITt,resolveParams:()=>ige,toEndpointV1:()=>a4});cge.exports=gTt(nge);var hTt=Ja(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ETt(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!vTt(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),yTt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,_Tt=/(\d+\.){3}\d+/,STt=/\.\./,vTt=Ja(e=>yTt.test(e)&&!_Tt.test(e)&&!STt.test(e),"isDnsCompatibleBucketName"),ETt=Ja(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),CTt=Ja((e,t,r)=>{let n=Ja(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),bTt=o4(),rge=gi(),a4=Ja(e=>typeof e=="object"?"url"in e?(0,rge.parseUrl)(e.url):e:(0,rge.parseUrl)(e),"toEndpointV1"),sge=Ja(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,bTt.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(a4(o)),r.isCustomEndpoint=!0)}let s=await ige(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),ige=Ja(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await CTt(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await hTt(n),n},"resolveParams"),wTt=(Ze(),H(As)),HD=bn(),oge=Ja(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,wTt.setFeature)(n,"ENDPOINT_OVERRIDE","N");let i=await sge(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,HD.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},"endpointMiddleware"),xTt=pi(),age={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:xTt.serializerMiddlewareOption.name},ATt=Ja((e,t)=>({applyToStack:Ja(r=>{r.addRelativeTo(oge({config:e,instructions:t}),age)},"applyToStack")}),"getEndpointPlugin"),PTt=o4(),RTt=Ja(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>a4(await(0,HD.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,HD.normalizeProvider)(n??!1),useFipsEndpoint:(0,HD.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,PTt.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),ITt=Ja(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var l4=E((Nan,fge)=>{var VD=Object.defineProperty,TTt=Object.getOwnPropertyDescriptor,OTt=Object.getOwnPropertyNames,NTt=Object.prototype.hasOwnProperty,Jh=(e,t)=>VD(e,"name",{value:t,configurable:!0}),DTt=(e,t)=>{for(var r in t)VD(e,r,{get:t[r],enumerable:!0})},kTt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OTt(t))!NTt.call(e,s)&&s!==r&&VD(e,s,{get:()=>t[s],enumerable:!(n=TTt(t,s))||n.enumerable});return e},MTt=e=>kTt(VD({},"__esModule",{value:!0}),e),lge={};DTt(lge,{isBrowserNetworkError:()=>mge,isClockSkewCorrectedError:()=>uge,isClockSkewError:()=>$Tt,isRetryableByTrait:()=>dge,isServerError:()=>HTt,isThrottlingError:()=>zTt,isTransientError:()=>c4});fge.exports=MTt(lge);var LTt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],UTt=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],BTt=["TimeoutError","RequestTimeout","RequestTimeoutException"],FTt=[500,502,503,504],qTt=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],jTt=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],dge=Jh(e=>e?.$retryable!==void 0,"isRetryableByTrait"),$Tt=Jh(e=>LTt.includes(e.name),"isClockSkewError"),uge=Jh(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),mge=Jh(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),zTt=Jh(e=>e.$metadata?.httpStatusCode===429||UTt.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),c4=Jh((e,t=0)=>dge(e)||uge(e)||BTt.includes(e.name)||qTt.includes(e?.code||"")||jTt.includes(e?.code||"")||FTt.includes(e.$metadata?.httpStatusCode||0)||mge(e)||e.cause!==void 0&&t<=10&&c4(e.cause,t+1),"isTransientError"),HTt=Jh(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!c4(e)}return!1},"isServerError")});var ya=E((Dan,bge)=>{var WD=Object.defineProperty,GTt=Object.getOwnPropertyDescriptor,VTt=Object.getOwnPropertyNames,WTt=Object.prototype.hasOwnProperty,ld=(e,t)=>WD(e,"name",{value:t,configurable:!0}),KTt=(e,t)=>{for(var r in t)WD(e,r,{get:t[r],enumerable:!0})},XTt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of VTt(t))!WTt.call(e,s)&&s!==r&&WD(e,s,{get:()=>t[s],enumerable:!(n=GTt(t,s))||n.enumerable});return e},JTt=e=>XTt(WD({},"__esModule",{value:!0}),e),gge={};KTt(gge,{AdaptiveRetryStrategy:()=>rOt,ConfiguredRetryStrategy:()=>nOt,DEFAULT_MAX_ATTEMPTS:()=>d4,DEFAULT_RETRY_DELAY_BASE:()=>lx,DEFAULT_RETRY_MODE:()=>YTt,DefaultRateLimiter:()=>yge,INITIAL_RETRY_TOKENS:()=>u4,INVOCATION_ID_HEADER:()=>ZTt,MAXIMUM_RETRY_DELAY:()=>m4,NO_RETRY_INCREMENT:()=>Cge,REQUEST_HEADER:()=>eOt,RETRY_COST:()=>vge,RETRY_MODES:()=>hge,StandardRetryStrategy:()=>f4,THROTTLING_RETRY_DELAY_BASE:()=>Sge,TIMEOUT_RETRY_COST:()=>Ege});bge.exports=JTt(gge);var hge=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(hge||{}),d4=3,YTt="standard",QTt=l4(),yge=class _ge{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{ld(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>_ge.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,QTt.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},lx=100,m4=20*1e3,Sge=500,u4=500,vge=5,Ege=10,Cge=1,ZTt="amz-sdk-invocation-id",eOt="amz-sdk-request",tOt=ld(()=>{let e=lx;return{computeNextBackoffDelay:ld(n=>Math.floor(Math.min(m4,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:ld(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),pge=ld(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:ld(()=>t,"getRetryCount"),getRetryDelay:ld(()=>Math.min(m4,e),"getRetryDelay"),getRetryCost:ld(()=>r,"getRetryCost")}),"createDefaultRetryToken"),f4=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=u4,this.retryBackoffStrategy=tOt(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{ld(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return pge({retryDelay:lx,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?Sge:lx);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(n);return this.capacity-=o,pge({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(u4,this.capacity+(e.getRetryCost()??Cge))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${d4}`),d4}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Ege:vge}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},rOt=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new yge,this.standardRetryStrategy=new f4(e)}static{ld(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},nOt=class extends f4{static{ld(this,"ConfiguredRetryStrategy")}constructor(e,t=lx){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var wge=E(KD=>{"use strict";Object.defineProperty(KD,"__esModule",{value:!0});KD.isStreamingPayload=void 0;var sOt=require("stream"),iOt=e=>e?.body instanceof sOt.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;KD.isStreamingPayload=iOt});var xn=E((Ban,Fge)=>{var XD=Object.defineProperty,oOt=Object.getOwnPropertyDescriptor,aOt=Object.getOwnPropertyNames,cOt=Object.prototype.hasOwnProperty,kr=(e,t)=>XD(e,"name",{value:t,configurable:!0}),lOt=(e,t)=>{for(var r in t)XD(e,r,{get:t[r],enumerable:!0})},dOt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of aOt(t))!cOt.call(e,s)&&s!==r&&XD(e,s,{get:()=>t[s],enumerable:!(n=oOt(t,s))||n.enumerable});return e},uOt=e=>dOt(XD({},"__esModule",{value:!0}),e),Age={};lOt(Age,{AdaptiveRetryStrategy:()=>pOt,CONFIG_MAX_ATTEMPTS:()=>g4,CONFIG_RETRY_MODE:()=>Dge,ENV_MAX_ATTEMPTS:()=>p4,ENV_RETRY_MODE:()=>Nge,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>gOt,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>yOt,StandardRetryStrategy:()=>Oge,defaultDelayDecider:()=>Rge,defaultRetryDecider:()=>Ige,getOmitRetryHeadersPlugin:()=>_Ot,getRetryAfterHint:()=>Bge,getRetryPlugin:()=>wOt,omitRetryHeadersMiddleware:()=>kge,omitRetryHeadersMiddlewareOptions:()=>Mge,resolveRetryConfig:()=>hOt,retryMiddleware:()=>Lge,retryMiddlewareOptions:()=>Uge});Fge.exports=uOt(Age);var dv=Fe(),Pge=(q0(),H(DN)),ns=ya(),mOt=kr((e,t)=>{let r=e,n=t?.noRetryIncrement??ns.NO_RETRY_INCREMENT,s=t?.retryCost??ns.RETRY_COST,i=t?.timeoutRetryCost??ns.TIMEOUT_RETRY_COST,o=e,a=kr(u=>u.name==="TimeoutError"?i:s,"getCapacityAmount"),c=kr(u=>a(u)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:kr(u=>{if(!c(u))throw new Error("No retry token available");let f=a(u);return o-=f,f},"retrieveRetryTokens"),releaseRetryTokens:kr(u=>{o+=u??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Rge=kr((e,t)=>Math.floor(Math.min(ns.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),yp=l4(),Ige=kr(e=>e?(0,yp.isRetryableByTrait)(e)||(0,yp.isClockSkewError)(e)||(0,yp.isThrottlingError)(e)||(0,yp.isTransientError)(e):!1,"defaultRetryDecider"),Tge=kr(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Oge=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ns.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??Ige,this.delayDecider=t?.delayDecider??Rge,this.retryQuota=t?.retryQuota??mOt(ns.INITIAL_RETRY_TOKENS)}static{kr(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ns.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,i=0,o=await this.getMaxAttempts(),{request:a}=t;for(dv.HttpRequest.isInstance(a)&&(a.headers[ns.INVOCATION_ID_HEADER]=(0,Pge.v4)());;)try{dv.HttpRequest.isInstance(a)&&(a.headers[ns.REQUEST_HEADER]=`attempt=${s+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:c,output:l}}catch(c){let l=Tge(c);if(s++,this.shouldRetry(l,s,o)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,yp.isThrottlingError)(l)?ns.THROTTLING_RETRY_DELAY_BASE:ns.DEFAULT_RETRY_DELAY_BASE,s),u=fOt(l.$response),f=Math.max(u||0,d);i+=f,await new Promise(p=>setTimeout(p,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},fOt=kr(e=>{if(!dv.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),pOt=class extends Oge{static{kr(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ns.DefaultRateLimiter,this.mode=ns.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:kr(async()=>this.rateLimiter.getSendToken(),"beforeRequest"),afterRequest:kr(r=>{this.rateLimiter.updateClientSendingRate(r)},"afterRequest")})}},xge=bn(),p4="AWS_MAX_ATTEMPTS",g4="max_attempts",gOt={environmentVariableSelector:kr(e=>{let t=e[p4];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${p4} mast be a number, got "${t}"`);return r},"environmentVariableSelector"),configFileSelector:kr(e=>{let t=e[g4];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${g4} mast be a number, got "${t}"`);return r},"configFileSelector"),default:ns.DEFAULT_MAX_ATTEMPTS},hOt=kr(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,xge.normalizeProvider)(n??ns.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:kr(async()=>t||(await(0,xge.normalizeProvider)(r)()===ns.RETRY_MODES.ADAPTIVE?new ns.AdaptiveRetryStrategy(s):new ns.StandardRetryStrategy(s)),"retryStrategy")})},"resolveRetryConfig"),Nge="AWS_RETRY_MODE",Dge="retry_mode",yOt={environmentVariableSelector:kr(e=>e[Nge],"environmentVariableSelector"),configFileSelector:kr(e=>e[Dge],"configFileSelector"),default:ns.DEFAULT_RETRY_MODE},kge=kr(()=>e=>async t=>{let{request:r}=t;return dv.HttpRequest.isInstance(r)&&(delete r.headers[ns.INVOCATION_ID_HEADER],delete r.headers[ns.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Mge={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},_Ot=kr(e=>({applyToStack:kr(t=>{t.addRelativeTo(kge(),Mge)},"applyToStack")}),"getOmitRetryHeadersPlugin"),SOt=V(),vOt=wge(),Lge=kr(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(EOt(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,u=dv.HttpRequest.isInstance(d);for(u&&(d.headers[ns.INVOCATION_ID_HEADER]=(0,Pge.v4)());;)try{u&&(d.headers[ns.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:f,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:f,output:p}}catch(f){let p=COt(f);if(a=Tge(f),u&&(0,vOt.isStreamingPayload)(d))throw(r.logger instanceof SOt.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let g=o.getRetryDelay();l+=g,await new Promise(S=>setTimeout(S,g))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),EOt=kr(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),COt=kr(e=>{let t={error:e,errorType:bOt(e)},r=Bge(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),bOt=kr(e=>(0,yp.isThrottlingError)(e)?"THROTTLING":(0,yp.isTransientError)(e)?"TRANSIENT":(0,yp.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Uge={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wOt=kr(e=>({applyToStack:kr(t=>{t.add(Lge(e),Uge)},"applyToStack")}),"getRetryPlugin"),Bge=kr(e=>{if(!dv.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var y4=E(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.resolveHttpAuthSchemeConfig=_p.defaultSecretsManagerHttpAuthSchemeProvider=_p.defaultSecretsManagerHttpAuthSchemeParametersProvider=void 0;var xOt=(hi(),H(Gd)),h4=bn(),AOt=async(e,t,r)=>({operation:(0,h4.getSmithyContext)(t).operation,region:await(0,h4.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});_p.defaultSecretsManagerHttpAuthSchemeParametersProvider=AOt;function POt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var ROt=e=>{let t=[];switch(e.operation){default:t.push(POt(e))}return t};_p.defaultSecretsManagerHttpAuthSchemeProvider=ROt;var IOt=e=>{let t=(0,xOt.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,h4.normalizeProvider)(e.authSchemePreference??[])})};_p.resolveHttpAuthSchemeConfig=IOt});var Go={};Kt(Go,{__addDisposableResource:()=>dhe,__assign:()=>JD,__asyncDelegator:()=>rhe,__asyncGenerator:()=>the,__asyncValues:()=>nhe,__await:()=>uv,__awaiter:()=>Xge,__classPrivateFieldGet:()=>ahe,__classPrivateFieldIn:()=>lhe,__classPrivateFieldSet:()=>che,__createBinding:()=>QD,__decorate:()=>$ge,__disposeResources:()=>uhe,__esDecorate:()=>Hge,__exportStar:()=>Yge,__extends:()=>qge,__generator:()=>Jge,__importDefault:()=>ohe,__importStar:()=>ihe,__makeTemplateObject:()=>she,__metadata:()=>Kge,__param:()=>zge,__propKey:()=>Vge,__read:()=>v4,__rest:()=>jge,__rewriteRelativeImportExtension:()=>mhe,__runInitializers:()=>Gge,__setFunctionName:()=>Wge,__spread:()=>Qge,__spreadArray:()=>ehe,__spreadArrays:()=>Zge,__values:()=>YD,default:()=>NOt});function qge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function jge(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function $ge(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function zge(e,t){return function(r,n){t(r,n,e)}}function Hge(e,t,r,n,s,i){function o(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,f=!1,p=r.length-1;p>=0;p--){var g={};for(var S in n)g[S]=S==="access"?{}:n[S];for(var S in n.access)g.access[S]=n.access[S];g.addInitializer=function(A){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(A||null))};var b=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(u=o(b.get))&&(d.get=u),(u=o(b.set))&&(d.set=u),(u=o(b.init))&&s.unshift(u)}else(u=o(b))&&(a==="field"?s.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),f=!0}function Gge(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Vge(e){return typeof e=="symbol"?e:"".concat(e)}function Wge(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Kge(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xge(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{l(n.next(d))}catch(u){o(u)}}function c(d){try{l(n.throw(d))}catch(u){o(u)}}function l(d){d.done?i(d.value):s(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function Jge(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Yge(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QD(t,e,r)}function YD(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v4(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Qge(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v4(arguments[t]));return e}function Zge(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ehe(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function uv(e){return this instanceof uv?(this.v=e,this):new uv(e)}function the(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,u)}}function a(p,g){n[p]&&(s[p]=function(S){return new Promise(function(b,A){i.push([p,S,b,A])>1||c(p,S)})},g&&(s[p]=g(s[p])))}function c(p,g){try{l(n[p](g))}catch(S){f(i[0][3],S)}}function l(p){p.value instanceof uv?Promise.resolve(p.value.v).then(d,u):f(i[0][2],p)}function d(p){c("next",p)}function u(p){c("throw",p)}function f(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function rhe(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:uv(e[s](o)),done:!1}:i?i(o):o}:i}}function nhe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof YD=="function"?YD(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function she(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ihe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=S4(e),n=0;n<r.length;n++)r[n]!=="default"&&QD(t,e,r[n]);return TOt(t,e),t}function ohe(e){return e&&e.__esModule?e:{default:e}}function ahe(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function che(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function lhe(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function dhe(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function uhe(e){function t(i){e.error=e.hasError?new OOt(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function mhe(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var _4,JD,QD,TOt,S4,OOt,NOt,Vo=v(()=>{_4=function(e,t){return _4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},_4(e,t)};JD=function(){return JD=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},JD.apply(this,arguments)};QD=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};TOt=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},S4=function(e){return S4=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},S4(e)};OOt=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};NOt={__extends:qge,__assign:JD,__rest:jge,__decorate:$ge,__param:zge,__esDecorate:Hge,__runInitializers:Gge,__propKey:Vge,__setFunctionName:Wge,__metadata:Kge,__awaiter:Xge,__generator:Jge,__createBinding:QD,__exportStar:Yge,__values:YD,__read:v4,__spread:Qge,__spreadArrays:Zge,__spreadArray:ehe,__await:uv,__asyncGenerator:the,__asyncDelegator:rhe,__asyncValues:nhe,__makeTemplateObject:she,__importStar:ihe,__importDefault:ohe,__classPrivateFieldGet:ahe,__classPrivateFieldSet:che,__classPrivateFieldIn:lhe,__addDisposableResource:dhe,__disposeResources:uhe,__rewriteRelativeImportExtension:mhe}});var fhe=E(($an,DOt)=>{DOt.exports={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.883.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.883.0","@aws-sdk/credential-provider-node":"3.883.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.876.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.883.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.879.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.883.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.9.2","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.21","@smithy/middleware-retry":"^4.1.22","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.5.2","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.29","@smithy/util-defaults-mode-node":"^4.0.29","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var E4=E((zan,Ehe)=>{"use strict";var ZD=Object.defineProperty,kOt=Object.getOwnPropertyDescriptor,MOt=Object.getOwnPropertyNames,LOt=Object.prototype.hasOwnProperty,UOt=(e,t)=>ZD(e,"name",{value:t,configurable:!0}),BOt=(e,t)=>{for(var r in t)ZD(e,r,{get:t[r],enumerable:!0})},FOt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MOt(t))!LOt.call(e,s)&&s!==r&&ZD(e,s,{get:()=>t[s],enumerable:!(n=kOt(t,s))||n.enumerable});return e},qOt=e=>FOt(ZD({},"__esModule",{value:!0}),e),phe={};BOt(phe,{ENV_ACCOUNT_ID:()=>vhe,ENV_CREDENTIAL_SCOPE:()=>She,ENV_EXPIRATION:()=>_he,ENV_KEY:()=>ghe,ENV_SECRET:()=>hhe,ENV_SESSION:()=>yhe,fromEnv:()=>zOt});Ehe.exports=qOt(phe);var jOt=(ad(),H(ip)),$Ot=Rt(),ghe="AWS_ACCESS_KEY_ID",hhe="AWS_SECRET_ACCESS_KEY",yhe="AWS_SESSION_TOKEN",_he="AWS_CREDENTIAL_EXPIRATION",She="AWS_CREDENTIAL_SCOPE",vhe="AWS_ACCOUNT_ID",zOt=UOt(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[ghe],r=process.env[hhe],n=process.env[yhe],s=process.env[_he],i=process.env[She],o=process.env[vhe];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,jOt.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new $Ot.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var dd=E((Han,Mhe)=>{var rk=Object.defineProperty,HOt=Object.getOwnPropertyDescriptor,GOt=Object.getOwnPropertyNames,VOt=Object.prototype.hasOwnProperty,mn=(e,t)=>rk(e,"name",{value:t,configurable:!0}),WOt=(e,t)=>{for(var r in t)rk(e,r,{get:t[r],enumerable:!0})},KOt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GOt(t))!VOt.call(e,s)&&s!==r&&rk(e,s,{get:()=>t[s],enumerable:!(n=HOt(t,s))||n.enumerable});return e},XOt=e=>KOt(rk({},"__esModule",{value:!0}),e),xhe={};WOt(xhe,{DEFAULT_MAX_RETRIES:()=>Ihe,DEFAULT_TIMEOUT:()=>Rhe,ENV_CMDS_AUTH_TOKEN:()=>w4,ENV_CMDS_FULL_URI:()=>ek,ENV_CMDS_RELATIVE_URI:()=>tk,Endpoint:()=>Ohe,fromContainerMetadata:()=>ZOt,fromInstanceMetadata:()=>vNt,getInstanceMetadataEndpoint:()=>Dhe,httpRequest:()=>mv,providerConfigFromInit:()=>x4});Mhe.exports=XOt(xhe);var JOt=require("url"),Wd=Rt(),YOt=require("buffer"),QOt=require("http");function mv(e){return new Promise((t,r)=>{let n=(0,QOt.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Wd.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Wd.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Wd.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(YOt.Buffer.concat(o)),n.destroy()})}),n.end()})}mn(mv,"httpRequest");var Ahe=mn(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Phe=mn(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),Rhe=1e3,Ihe=0,x4=mn(({maxRetries:e=Ihe,timeout:t=Rhe})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),b4=mn((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),ek="AWS_CONTAINER_CREDENTIALS_FULL_URI",tk="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",w4="AWS_CONTAINER_AUTHORIZATION_TOKEN",ZOt=mn((e={})=>{let{timeout:t,maxRetries:r}=x4(e);return()=>b4(async()=>{let n=await sNt({logger:e.logger}),s=JSON.parse(await eNt(t,n));if(!Ahe(s))throw new Wd.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Phe(s)},r)},"fromContainerMetadata"),eNt=mn(async(e,t)=>(process.env[w4]&&(t.headers={...t.headers,Authorization:process.env[w4]}),(await mv({...t,timeout:e})).toString()),"requestFromEcsImds"),tNt="169.254.170.2",rNt={localhost:!0,"127.0.0.1":!0},nNt={"http:":!0,"https:":!0},sNt=mn(async({logger:e})=>{if(process.env[tk])return{hostname:tNt,path:process.env[tk]};if(process.env[ek]){let t=(0,JOt.parse)(process.env[ek]);if(!t.hostname||!(t.hostname in rNt))throw new Wd.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in nNt))throw new Wd.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Wd.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${tk} or ${ek} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),iNt=class The extends Wd.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,The.prototype)}static{mn(this,"InstanceMetadataV1FallbackError")}},A4=io(),oNt=gi(),Ohe=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(Ohe||{}),aNt="AWS_EC2_METADATA_SERVICE_ENDPOINT",cNt="ec2_metadata_service_endpoint",lNt={environmentVariableSelector:mn(e=>e[aNt],"environmentVariableSelector"),configFileSelector:mn(e=>e[cNt],"configFileSelector"),default:void 0},Nhe=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(Nhe||{}),dNt="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",uNt="ec2_metadata_service_endpoint_mode",mNt={environmentVariableSelector:mn(e=>e[dNt],"environmentVariableSelector"),configFileSelector:mn(e=>e[uNt],"configFileSelector"),default:"IPv4"},Dhe=mn(async()=>(0,oNt.parseUrl)(await fNt()||await pNt()),"getInstanceMetadataEndpoint"),fNt=mn(async()=>(0,A4.loadConfig)(lNt)(),"getFromEndpointConfig"),pNt=mn(async()=>{let e=await(0,A4.loadConfig)(mNt)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Nhe)}`)}},"getFromEndpointModeConfig"),gNt=5*60,hNt=5*60,yNt="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Che=mn((e,t)=>{let r=gNt+Math.floor(Math.random()*hNt),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+yNt);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),_Nt=mn((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Che(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=Che(n,r);else throw i}return n=s,s}},"staticStabilityProvider"),khe="/latest/meta-data/iam/security-credentials/",SNt="/latest/api/token",C4="AWS_EC2_METADATA_V1_DISABLED",bhe="ec2_metadata_v1_disabled",whe="x-aws-ec2-metadata-token",vNt=mn((e={})=>_Nt(ENt(e),{logger:e.logger}),"fromInstanceMetadata"),ENt=mn((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=x4(e),o=mn(async(a,c)=>{if(t||c.headers?.[whe]==null){let u=!1,f=!1,p=await(0,A4.loadConfig)({environmentVariableSelector:mn(g=>{let S=g[C4];if(f=!!S&&S!=="false",S===void 0)throw new Wd.CredentialsProviderError(`${C4} not set in env, checking config file next.`,{logger:e.logger});return f},"environmentVariableSelector"),configFileSelector:mn(g=>{let S=g[bhe];return u=!!S&&S!=="false",u},"configFileSelector"),default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${bhe})`),f&&g.push(`process environment variable (${C4})`),new iNt(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let d=(await b4(async()=>{let u;try{u=await bNt(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return u},a)).trim();return b4(async()=>{let u;try{u=await wNt(d,c,e)}catch(f){throw f.statusCode===401&&(t=!1),f}return u},a)},"getCredentials");return async()=>{let a=await Dhe();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await CNt({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[whe]:c},timeout:s})}}},"getInstanceMetadataProvider"),CNt=mn(async e=>mv({...e,path:SNt,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),bNt=mn(async e=>(await mv({...e,path:khe})).toString(),"getProfile"),wNt=mn(async(e,t,r)=>{let n=JSON.parse((await mv({...t,path:khe+e})).toString());if(!Ahe(n))throw new Wd.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Phe(n)},"getCredentialsFromProfile")});var Lhe=E(nk=>{"use strict";Object.defineProperty(nk,"__esModule",{value:!0});nk.checkUrl=void 0;var xNt=Rt(),ANt="169.254.170.2",PNt="169.254.170.23",RNt="[fd00:ec2::23]",INt=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===ANt||e.hostname===PNt||e.hostname===RNt)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new xNt.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};nk.checkUrl=INt});var Uhe=E(sk=>{"use strict";Object.defineProperty(sk,"__esModule",{value:!0});sk.createGetRequest=DNt;sk.getCredentials=kNt;var P4=Rt(),TNt=Fe(),ONt=V(),NNt=sm();function DNt(e){return new TNt.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function kNt(e,t){let n=await(0,NNt.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new P4.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,ONt.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new P4.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new P4.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var Bhe=E(ik=>{"use strict";Object.defineProperty(ik,"__esModule",{value:!0});ik.retryWrapper=void 0;var MNt=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};ik.retryWrapper=MNt});var jhe=E(ok=>{"use strict";Object.defineProperty(ok,"__esModule",{value:!0});ok.fromHttp=void 0;var LNt=(Vo(),H(Go)),UNt=(ad(),H(ip)),BNt=Ui(),Fhe=Rt(),FNt=LNt.__importDefault(require("fs/promises")),qNt=Lhe(),qhe=Uhe(),jNt=Bhe(),$Nt="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zNt="http://169.254.170.2",HNt="AWS_CONTAINER_CREDENTIALS_FULL_URI",GNt="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",VNt="AWS_CONTAINER_AUTHORIZATION_TOKEN",WNt=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[$Nt],n=e.awsContainerCredentialsFullUri??process.env[HNt],s=e.awsContainerAuthorizationToken??process.env[VNt],i=e.awsContainerAuthorizationTokenFile??process.env[GNt],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${zNt}${r}`;else throw new Fhe.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,qNt.checkUrl)(a,e.logger);let c=new BNt.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,jNt.retryWrapper)(async()=>{let l=(0,qhe.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await FNt.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,qhe.getCredentials)(d.response).then(u=>(0,UNt.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new Fhe.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ok.fromHttp=WNt});var R4=E(ak=>{"use strict";Object.defineProperty(ak,"__esModule",{value:!0});ak.fromHttp=void 0;var KNt=jhe();Object.defineProperty(ak,"fromHttp",{enumerable:!0,get:function(){return KNt.fromHttp}})});var T4=E(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.resolveHttpAuthSchemeConfig=Sp.defaultSSOHttpAuthSchemeProvider=Sp.defaultSSOHttpAuthSchemeParametersProvider=void 0;var XNt=(hi(),H(Gd)),I4=bn(),JNt=async(e,t,r)=>({operation:(0,I4.getSmithyContext)(t).operation,region:await(0,I4.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Sp.defaultSSOHttpAuthSchemeParametersProvider=JNt;function YNt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ck(e){return{schemeId:"smithy.api#noAuth"}}var QNt=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ck(e));break}case"ListAccountRoles":{t.push(ck(e));break}case"ListAccounts":{t.push(ck(e));break}case"Logout":{t.push(ck(e));break}default:t.push(YNt(e))}return t};Sp.defaultSSOHttpAuthSchemeProvider=QNt;var ZNt=e=>{let t=(0,XNt.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,I4.normalizeProvider)(e.authSchemePreference??[])})};Sp.resolveHttpAuthSchemeConfig=ZNt});var $he=E((Yan,eDt)=>{eDt.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.883.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.883.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.876.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.883.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.879.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.883.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.9.2","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.21","@smithy/middleware-retry":"^4.1.22","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.5.2","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.29","@smithy/util-defaults-mode-node":"^4.0.29","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var dx=E((Qan,Xhe)=>{"use strict";var dk=Object.defineProperty,tDt=Object.getOwnPropertyDescriptor,rDt=Object.getOwnPropertyNames,nDt=Object.prototype.hasOwnProperty,lk=(e,t)=>dk(e,"name",{value:t,configurable:!0}),sDt=(e,t)=>{for(var r in t)dk(e,r,{get:t[r],enumerable:!0})},iDt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rDt(t))!nDt.call(e,s)&&s!==r&&dk(e,s,{get:()=>t[s],enumerable:!(n=tDt(t,s))||n.enumerable});return e},oDt=e=>iDt(dk({},"__esModule",{value:!0}),e),Hhe={};sDt(Hhe,{NODE_APP_ID_CONFIG_OPTIONS:()=>uDt,UA_APP_ID_ENV_NAME:()=>Whe,UA_APP_ID_INI_NAME:()=>Khe,createDefaultUserAgentProvider:()=>Vhe,crtAvailability:()=>Ghe,defaultUserAgent:()=>cDt});Xhe.exports=oDt(Hhe);var zhe=require("os"),O4=require("process"),Ghe={isCrtAvailable:!1},aDt=lk(()=>Ghe.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Vhe=lk(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,zhe.platform)()}`,(0,zhe.release)()],["lang/js"],["md/nodejs",`${O4.versions.node}`]],s=aDt();s&&n.push(s),e&&n.push([`api/${e}`,t]),O4.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${O4.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),cDt=Vhe,lDt=av(),Whe="AWS_SDK_UA_APP_ID",Khe="sdk_ua_app_id",dDt="sdk-ua-app-id",uDt={environmentVariableSelector:lk(e=>e[Whe],"environmentVariableSelector"),configFileSelector:lk(e=>e[Khe]??e[dDt],"configFileSelector"),default:lDt.DEFAULT_UA_APP_ID}});var Ya=E((Zan,Zhe)=>{var uk=Object.defineProperty,mDt=Object.getOwnPropertyDescriptor,fDt=Object.getOwnPropertyNames,pDt=Object.prototype.hasOwnProperty,Yhe=(e,t)=>uk(e,"name",{value:t,configurable:!0}),gDt=(e,t)=>{for(var r in t)uk(e,r,{get:t[r],enumerable:!0})},hDt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fDt(t))!pDt.call(e,s)&&s!==r&&uk(e,s,{get:()=>t[s],enumerable:!(n=mDt(t,s))||n.enumerable});return e},yDt=e=>hDt(uk({},"__esModule",{value:!0}),e),Qhe={};gDt(Qhe,{Hash:()=>vDt});Zhe.exports=yDt(Qhe);var N4=HS(),_Dt=Ct(),SDt=require("buffer"),Jhe=require("crypto"),vDt=class{static{Yhe(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,_Dt.toUint8Array)(D4(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Jhe.createHmac)(this.algorithmIdentifier,D4(this.secret)):(0,Jhe.createHash)(this.algorithmIdentifier)}};function D4(e,t){return SDt.Buffer.isBuffer(e)?e:typeof e=="string"?(0,N4.fromString)(e,t):ArrayBuffer.isView(e)?(0,N4.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,N4.fromArrayBuffer)(e)}Yhe(D4,"castSourceData")});var Qa=E((tcn,rye)=>{var mk=Object.defineProperty,EDt=Object.getOwnPropertyDescriptor,CDt=Object.getOwnPropertyNames,bDt=Object.prototype.hasOwnProperty,wDt=(e,t)=>mk(e,"name",{value:t,configurable:!0}),xDt=(e,t)=>{for(var r in t)mk(e,r,{get:t[r],enumerable:!0})},ADt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of CDt(t))!bDt.call(e,s)&&s!==r&&mk(e,s,{get:()=>t[s],enumerable:!(n=EDt(t,s))||n.enumerable});return e},PDt=e=>ADt(mk({},"__esModule",{value:!0}),e),tye={};xDt(tye,{calculateBodyLength:()=>RDt});rye.exports=PDt(tye);var eye=require("fs"),RDt=wDt(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,eye.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,eye.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var yye=E(fk=>{"use strict";Object.defineProperty(fk,"__esModule",{value:!0});fk.ruleSet=void 0;var fye="required",Pc="fn",Rc="argv",gv="ref",nye=!0,sye="isSet",ux="booleanEquals",fv="error",pv="endpoint",gm="tree",k4="PartitionResult",M4="getAttr",iye={[fye]:!1,type:"String"},oye={[fye]:!0,default:!1,type:"Boolean"},aye={[gv]:"Endpoint"},pye={[Pc]:ux,[Rc]:[{[gv]:"UseFIPS"},!0]},gye={[Pc]:ux,[Rc]:[{[gv]:"UseDualStack"},!0]},Ac={},cye={[Pc]:M4,[Rc]:[{[gv]:k4},"supportsFIPS"]},hye={[gv]:k4},lye={[Pc]:ux,[Rc]:[!0,{[Pc]:M4,[Rc]:[hye,"supportsDualStack"]}]},dye=[pye],uye=[gye],mye=[{[gv]:"Region"}],IDt={version:"1.0",parameters:{Region:iye,UseDualStack:oye,UseFIPS:oye,Endpoint:iye},rules:[{conditions:[{[Pc]:sye,[Rc]:[aye]}],rules:[{conditions:dye,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:fv},{conditions:uye,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:fv},{endpoint:{url:aye,properties:Ac,headers:Ac},type:pv}],type:gm},{conditions:[{[Pc]:sye,[Rc]:mye}],rules:[{conditions:[{[Pc]:"aws.partition",[Rc]:mye,assign:k4}],rules:[{conditions:[pye,gye],rules:[{conditions:[{[Pc]:ux,[Rc]:[nye,cye]},lye],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ac,headers:Ac},type:pv}],type:gm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:fv}],type:gm},{conditions:dye,rules:[{conditions:[{[Pc]:ux,[Rc]:[cye,nye]}],rules:[{conditions:[{[Pc]:"stringEquals",[Rc]:[{[Pc]:M4,[Rc]:[hye,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ac,headers:Ac},type:pv},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ac,headers:Ac},type:pv}],type:gm},{error:"FIPS is enabled but this partition does not support FIPS",type:fv}],type:gm},{conditions:uye,rules:[{conditions:[lye],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ac,headers:Ac},type:pv}],type:gm},{error:"DualStack is enabled but this partition does not support DualStack",type:fv}],type:gm},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ac,headers:Ac},type:pv}],type:gm}],type:gm},{error:"Invalid Configuration: Missing Region",type:fv}]};fk.ruleSet=IDt});var _ye=E(pk=>{"use strict";Object.defineProperty(pk,"__esModule",{value:!0});pk.defaultEndpointResolver=void 0;var TDt=XS(),L4=no(),ODt=yye(),NDt=new L4.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),DDt=(e,t={})=>NDt.get(e,()=>(0,L4.resolveEndpoint)(ODt.ruleSet,{endpointParams:e,logger:t.logger}));pk.defaultEndpointResolver=DDt;L4.customEndpointFunctions.aws=TDt.awsEndpointFunctions});var Eye=E(gk=>{"use strict";Object.defineProperty(gk,"__esModule",{value:!0});gk.getRuntimeConfig=void 0;var kDt=(hi(),H(Gd)),MDt=(Ze(),H(As)),LDt=V(),UDt=gi(),Sye=bt(),vye=Ct(),BDt=T4(),FDt=_ye(),qDt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Sye.fromBase64,base64Encoder:e?.base64Encoder??Sye.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??FDt.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??BDt.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new kDt.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new MDt.NoAuthSigner}],logger:e?.logger??new LDt.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??UDt.parseUrl,utf8Decoder:e?.utf8Decoder??vye.fromUtf8,utf8Encoder:e?.utf8Encoder??vye.toUtf8});gk.getRuntimeConfig=qDt});var Za=E((icn,Pye)=>{var jDt=Object.create,fx=Object.defineProperty,$Dt=Object.getOwnPropertyDescriptor,zDt=Object.getOwnPropertyNames,HDt=Object.getPrototypeOf,GDt=Object.prototype.hasOwnProperty,mx=(e,t)=>fx(e,"name",{value:t,configurable:!0}),VDt=(e,t)=>{for(var r in t)fx(e,r,{get:t[r],enumerable:!0})},xye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zDt(t))!GDt.call(e,s)&&s!==r&&fx(e,s,{get:()=>t[s],enumerable:!(n=$Dt(t,s))||n.enumerable});return e},WDt=(e,t,r)=>(r=e!=null?jDt(HDt(e)):{},xye(t||!e||!e.__esModule?fx(r,"default",{value:e,enumerable:!0}):r,e)),KDt=e=>xye(fx({},"__esModule",{value:!0}),e),Aye={};VDt(Aye,{resolveDefaultsModeConfig:()=>skt});Pye.exports=KDt(Aye);var XDt=un(),Cye=io(),JDt=Rt(),YDt="AWS_EXECUTION_ENV",bye="AWS_REGION",wye="AWS_DEFAULT_REGION",QDt="AWS_EC2_METADATA_DISABLED",ZDt=["in-region","cross-region","mobile","standard","legacy"],ekt="/latest/meta-data/placement/region",tkt="AWS_DEFAULTS_MODE",rkt="defaults_mode",nkt={environmentVariableSelector:mx(e=>e[tkt],"environmentVariableSelector"),configFileSelector:mx(e=>e[rkt],"configFileSelector"),default:"legacy"},skt=mx(({region:e=(0,Cye.loadConfig)(XDt.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Cye.loadConfig)(nkt)}={})=>(0,JDt.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return ikt(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${ZDt.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),ikt=mx(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await okt();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),okt=mx(async()=>{if(process.env[YDt]&&(process.env[bye]||process.env[wye]))return process.env[bye]??process.env[wye];if(!process.env[QDt])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>WDt(dd())),r=await e();return(await t({...r,path:ekt})).toString()}catch{}},"inferPhysicalRegion")});var Nye=E(yk=>{"use strict";Object.defineProperty(yk,"__esModule",{value:!0});yk.getRuntimeConfig=void 0;var akt=(Vo(),H(Go)),ckt=akt.__importDefault($he()),Rye=(hi(),H(Gd)),Iye=dx(),hk=un(),lkt=Ya(),Tye=xn(),Yh=io(),Oye=Ui(),dkt=Qa(),ukt=ya(),mkt=Eye(),fkt=V(),pkt=Za(),gkt=V(),hkt=e=>{(0,gkt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,pkt.resolveDefaultsModeConfig)(e),r=()=>t().then(fkt.loadConfigsForDefaultMode),n=(0,mkt.getRuntimeConfig)(e);(0,Rye.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Yh.loadConfig)(Rye.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??dkt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Iye.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ckt.default.version}),maxAttempts:e?.maxAttempts??(0,Yh.loadConfig)(Tye.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Yh.loadConfig)(hk.NODE_REGION_CONFIG_OPTIONS,{...hk.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Oye.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Yh.loadConfig)({...Tye.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||ukt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??lkt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Oye.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Yh.loadConfig)(hk.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Yh.loadConfig)(hk.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Yh.loadConfig)(Iye.NODE_APP_ID_CONFIG_OPTIONS,s)}};yk.getRuntimeConfig=hkt});var px=E((acn,Bye)=>{"use strict";var _k=Object.defineProperty,ykt=Object.getOwnPropertyDescriptor,_kt=Object.getOwnPropertyNames,Skt=Object.prototype.hasOwnProperty,Kd=(e,t)=>_k(e,"name",{value:t,configurable:!0}),vkt=(e,t)=>{for(var r in t)_k(e,r,{get:t[r],enumerable:!0})},Ekt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _kt(t))!Skt.call(e,s)&&s!==r&&_k(e,s,{get:()=>t[s],enumerable:!(n=ykt(t,s))||n.enumerable});return e},Ckt=e=>Ekt(_k({},"__esModule",{value:!0}),e),kye={};vkt(kye,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Akt,NODE_REGION_CONFIG_OPTIONS:()=>xkt,REGION_ENV_NAME:()=>Mye,REGION_INI_NAME:()=>Lye,getAwsRegionExtensionConfiguration:()=>bkt,resolveAwsRegionExtensionConfiguration:()=>wkt,resolveRegionConfig:()=>Pkt});Bye.exports=Ckt(kye);var bkt=Kd(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),wkt=Kd(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Mye="AWS_REGION",Lye="region",xkt={environmentVariableSelector:Kd(e=>e[Mye],"environmentVariableSelector"),configFileSelector:Kd(e=>e[Lye],"configFileSelector"),default:Kd(()=>{throw new Error("Region is missing")},"default")},Akt={preferredFile:"credentials"},Uye=Kd(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Dye=Kd(e=>Uye(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Pkt=Kd(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Kd(async()=>{if(typeof t=="string")return Dye(t);let n=await t();return Dye(n)},"region"),useFipsEndpoint:Kd(async()=>{let n=typeof t=="string"?t:await t();return Uye(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var y_e=E((ccn,h_e)=>{"use strict";var Sk=Object.defineProperty,Rkt=Object.getOwnPropertyDescriptor,Ikt=Object.getOwnPropertyNames,Tkt=Object.prototype.hasOwnProperty,er=(e,t)=>Sk(e,"name",{value:t,configurable:!0}),Okt=(e,t)=>{for(var r in t)Sk(e,r,{get:t[r],enumerable:!0})},Nkt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ikt(t))!Tkt.call(e,s)&&s!==r&&Sk(e,s,{get:()=>t[s],enumerable:!(n=Rkt(t,s))||n.enumerable});return e},Dkt=e=>Nkt(Sk({},"__esModule",{value:!0}),e),Gye={};Okt(Gye,{GetRoleCredentialsCommand:()=>f_e,GetRoleCredentialsRequestFilterSensitiveLog:()=>t_e,GetRoleCredentialsResponseFilterSensitiveLog:()=>n_e,InvalidRequestException:()=>Wye,ListAccountRolesCommand:()=>U4,ListAccountRolesRequestFilterSensitiveLog:()=>s_e,ListAccountsCommand:()=>B4,ListAccountsRequestFilterSensitiveLog:()=>i_e,LogoutCommand:()=>p_e,LogoutRequestFilterSensitiveLog:()=>o_e,ResourceNotFoundException:()=>Xye,RoleCredentialsFilterSensitiveLog:()=>r_e,SSO:()=>g_e,SSOClient:()=>Ek,SSOServiceException:()=>hv,TooManyRequestsException:()=>Yye,UnauthorizedException:()=>Zye,__Client:()=>De.Client,paginateListAccountRoles:()=>iMt,paginateListAccounts:()=>oMt});h_e.exports=Dkt(Gye);var Fye=b0(),kkt=w0(),Mkt=x0(),qye=av(),Lkt=un(),hm=(Ze(),H(As)),Ukt=Ka(),hx=Fn(),jye=xn(),$ye=T4(),Bkt=er(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),vk={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Fkt=Nye(),zye=px(),Hye=Fe(),De=V(),qkt=er(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),jkt=er(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),$kt=er((e,t)=>{let r=Object.assign((0,zye.getAwsRegionExtensionConfiguration)(e),(0,De.getDefaultExtensionConfiguration)(e),(0,Hye.getHttpHandlerExtensionConfiguration)(e),qkt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,zye.resolveAwsRegionExtensionConfiguration)(r),(0,De.resolveDefaultRuntimeConfig)(r),(0,Hye.resolveHttpHandlerRuntimeConfig)(r),jkt(r))},"resolveRuntimeExtensions"),Ek=class extends De.Client{static{er(this,"SSOClient")}config;constructor(...[e]){let t=(0,Fkt.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Bkt(t),n=(0,qye.resolveUserAgentConfig)(r),s=(0,jye.resolveRetryConfig)(n),i=(0,Lkt.resolveRegionConfig)(s),o=(0,Fye.resolveHostHeaderConfig)(i),a=(0,hx.resolveEndpointConfig)(o),c=(0,$ye.resolveHttpAuthSchemeConfig)(a),l=$kt(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,qye.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jye.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Ukt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fye.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,kkt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Mkt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,hm.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:$ye.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:er(async d=>new hm.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,hm.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Ck=pi(),hv=class Vye extends De.ServiceException{static{er(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Vye.prototype)}},Wye=class Kye extends hv{static{er(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,Kye.prototype)}},Xye=class Jye extends hv{static{er(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Jye.prototype)}},Yye=class Qye extends hv{static{er(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,Qye.prototype)}},Zye=class e_e extends hv{static{er(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e_e.prototype)}},t_e=er(e=>({...e,...e.accessToken&&{accessToken:De.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),r_e=er(e=>({...e,...e.secretAccessKey&&{secretAccessKey:De.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:De.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),n_e=er(e=>({...e,...e.roleCredentials&&{roleCredentials:r_e(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),s_e=er(e=>({...e,...e.accessToken&&{accessToken:De.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),i_e=er(e=>({...e,...e.accessToken&&{accessToken:De.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),o_e=er(e=>({...e,...e.accessToken&&{accessToken:De.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),gx=(hi(),H(Gd)),zkt=er(async(e,t)=>{let r=(0,hm.requestBuilder)(e,t),n=(0,De.map)({},De.isSerializableHeaderValue,{[xk]:e[wk]});r.bp("/federation/credentials");let s=(0,De.map)({[nMt]:[,(0,De.expectNonNull)(e[rMt],"roleName")],[c_e]:[,(0,De.expectNonNull)(e[a_e],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Hkt=er(async(e,t)=>{let r=(0,hm.requestBuilder)(e,t),n=(0,De.map)({},De.isSerializableHeaderValue,{[xk]:e[wk]});r.bp("/assignment/roles");let s=(0,De.map)({[m_e]:[,e[u_e]],[d_e]:[()=>e.maxResults!==void 0,()=>e[l_e].toString()],[c_e]:[,(0,De.expectNonNull)(e[a_e],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),Gkt=er(async(e,t)=>{let r=(0,hm.requestBuilder)(e,t),n=(0,De.map)({},De.isSerializableHeaderValue,{[xk]:e[wk]});r.bp("/assignment/accounts");let s=(0,De.map)({[m_e]:[,e[u_e]],[d_e]:[()=>e.maxResults!==void 0,()=>e[l_e].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),Vkt=er(async(e,t)=>{let r=(0,hm.requestBuilder)(e,t),n=(0,De.map)({},De.isSerializableHeaderValue,{[xk]:e[wk]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Wkt=er(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bk(e,t);let r=(0,De.map)({$metadata:vp(e)}),n=(0,De.expectNonNull)((0,De.expectObject)(await(0,gx.parseJsonBody)(e.body,t)),"body"),s=(0,De.take)(n,{roleCredentials:De._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),Kkt=er(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bk(e,t);let r=(0,De.map)({$metadata:vp(e)}),n=(0,De.expectNonNull)((0,De.expectObject)(await(0,gx.parseJsonBody)(e.body,t)),"body"),s=(0,De.take)(n,{nextToken:De.expectString,roleList:De._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),Xkt=er(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bk(e,t);let r=(0,De.map)({$metadata:vp(e)}),n=(0,De.expectNonNull)((0,De.expectObject)(await(0,gx.parseJsonBody)(e.body,t)),"body"),s=(0,De.take)(n,{accountList:De._json,nextToken:De.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),Jkt=er(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bk(e,t);let r=(0,De.map)({$metadata:vp(e)});return await(0,De.collectBody)(e.body,t),r},"de_LogoutCommand"),bk=er(async(e,t)=>{let r={...e,body:await(0,gx.parseJsonErrorBody)(e.body,t)},n=(0,gx.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Qkt(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Zkt(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await eMt(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await tMt(r,t);default:let s=r.body;return Ykt({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),Ykt=(0,De.withBaseException)(hv),Qkt=er(async(e,t)=>{let r=(0,De.map)({}),n=e.body,s=(0,De.take)(n,{message:De.expectString});Object.assign(r,s);let i=new Wye({$metadata:vp(e),...r});return(0,De.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),Zkt=er(async(e,t)=>{let r=(0,De.map)({}),n=e.body,s=(0,De.take)(n,{message:De.expectString});Object.assign(r,s);let i=new Xye({$metadata:vp(e),...r});return(0,De.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),eMt=er(async(e,t)=>{let r=(0,De.map)({}),n=e.body,s=(0,De.take)(n,{message:De.expectString});Object.assign(r,s);let i=new Yye({$metadata:vp(e),...r});return(0,De.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),tMt=er(async(e,t)=>{let r=(0,De.map)({}),n=e.body,s=(0,De.take)(n,{message:De.expectString});Object.assign(r,s);let i=new Zye({$metadata:vp(e),...r});return(0,De.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),vp=er(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),a_e="accountId",wk="accessToken",c_e="account_id",l_e="maxResults",d_e="max_result",u_e="nextToken",m_e="next_token",rMt="roleName",nMt="role_name",xk="x-amz-sso_bearer_token",f_e=class extends De.Command.classBuilder().ep(vk).m(function(e,t,r,n){return[(0,Ck.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hx.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(t_e,n_e).ser(zkt).de(Wkt).build(){static{er(this,"GetRoleCredentialsCommand")}},U4=class extends De.Command.classBuilder().ep(vk).m(function(e,t,r,n){return[(0,Ck.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hx.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(s_e,void 0).ser(Hkt).de(Kkt).build(){static{er(this,"ListAccountRolesCommand")}},B4=class extends De.Command.classBuilder().ep(vk).m(function(e,t,r,n){return[(0,Ck.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hx.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(i_e,void 0).ser(Gkt).de(Xkt).build(){static{er(this,"ListAccountsCommand")}},p_e=class extends De.Command.classBuilder().ep(vk).m(function(e,t,r,n){return[(0,Ck.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hx.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(o_e,void 0).ser(Vkt).de(Jkt).build(){static{er(this,"LogoutCommand")}},sMt={GetRoleCredentialsCommand:f_e,ListAccountRolesCommand:U4,ListAccountsCommand:B4,LogoutCommand:p_e},g_e=class extends Ek{static{er(this,"SSO")}};(0,De.createAggregatedClient)(sMt,g_e);var iMt=(0,hm.createPaginator)(Ek,U4,"nextToken","nextToken","maxResults"),oMt=(0,hm.createPaginator)(Ek,B4,"nextToken","nextToken","maxResults")});function aMt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function cMt(e){return{schemeId:"smithy.api#noAuth"}}var yx,__e,S_e,v_e,F4=v(()=>{hi();yx=C(bn()),__e=async(e,t,r)=>({operation:(0,yx.getSmithyContext)(t).operation,region:await(0,yx.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});S_e=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(cMt(e));break}default:t.push(aMt(e))}return t},v_e=e=>{let t=jh(e);return Object.assign(t,{authSchemePreference:(0,yx.normalizeProvider)(e.authSchemePreference??[])})}});var E_e,C_e,q4=v(()=>{E_e=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),C_e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Ak,j4=v(()=>{Ak={name:"@aws-sdk/nested-clients",version:"3.883.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.883.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.876.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.883.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.879.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.883.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.9.2","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.21","@smithy/middleware-retry":"^4.1.22","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.5.2","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.29","@smithy/util-defaults-mode-node":"^4.0.29","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var N_e,Tc,Oc,Sv,b_e,_x,yv,_v,ym,$4,z4,w_e,x_e,A_e,D_e,k_e,Ic,P_e,M_e,R_e,I_e,T_e,O_e,dMt,L_e,U_e=v(()=>{N_e="required",Tc="fn",Oc="argv",Sv="ref",b_e="isSet",_x="booleanEquals",yv="error",_v="endpoint",ym="tree",$4="PartitionResult",z4="getAttr",w_e={[N_e]:!1,type:"String"},x_e={[N_e]:!0,default:!1,type:"Boolean"},A_e={[Sv]:"Endpoint"},D_e={[Tc]:_x,[Oc]:[{[Sv]:"UseFIPS"},!0]},k_e={[Tc]:_x,[Oc]:[{[Sv]:"UseDualStack"},!0]},Ic={},P_e={[Tc]:z4,[Oc]:[{[Sv]:$4},"supportsFIPS"]},M_e={[Sv]:$4},R_e={[Tc]:_x,[Oc]:[!0,{[Tc]:z4,[Oc]:[M_e,"supportsDualStack"]}]},I_e=[D_e],T_e=[k_e],O_e=[{[Sv]:"Region"}],dMt={version:"1.0",parameters:{Region:w_e,UseDualStack:x_e,UseFIPS:x_e,Endpoint:w_e},rules:[{conditions:[{[Tc]:b_e,[Oc]:[A_e]}],rules:[{conditions:I_e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:yv},{conditions:T_e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:yv},{endpoint:{url:A_e,properties:Ic,headers:Ic},type:_v}],type:ym},{conditions:[{[Tc]:b_e,[Oc]:O_e}],rules:[{conditions:[{[Tc]:"aws.partition",[Oc]:O_e,assign:$4}],rules:[{conditions:[D_e,k_e],rules:[{conditions:[{[Tc]:_x,[Oc]:[!0,P_e]},R_e],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ic,headers:Ic},type:_v}],type:ym},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:yv}],type:ym},{conditions:I_e,rules:[{conditions:[{[Tc]:_x,[Oc]:[P_e,!0]}],rules:[{conditions:[{[Tc]:"stringEquals",[Oc]:[{[Tc]:z4,[Oc]:[M_e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ic,headers:Ic},type:_v},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ic,headers:Ic},type:_v}],type:ym},{error:"FIPS is enabled but this partition does not support FIPS",type:yv}],type:ym},{conditions:T_e,rules:[{conditions:[R_e],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ic,headers:Ic},type:_v}],type:ym},{error:"DualStack is enabled but this partition does not support DualStack",type:yv}],type:ym},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ic,headers:Ic},type:_v}],type:ym}],type:ym},{error:"Invalid Configuration: Missing Region",type:yv}]},L_e=dMt});var B_e,vv,uMt,F_e,q_e=v(()=>{B_e=C(XS()),vv=C(no());U_e();uMt=new vv.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),F_e=(e,t={})=>uMt.get(e,()=>(0,vv.resolveEndpoint)(L_e,{endpointParams:e,logger:t.logger}));vv.customEndpointFunctions.aws=B_e.awsEndpointFunctions});var j_e,$_e,Pk,Rk,z_e,H_e=v(()=>{hi();Ze();j_e=C(V()),$_e=C(gi()),Pk=C(bt()),Rk=C(Ct());F4();q_e();z_e=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Pk.fromBase64,base64Encoder:e?.base64Encoder??Pk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??F_e,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??S_e,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ha},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],logger:e?.logger??new j_e.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??$_e.parseUrl,utf8Decoder:e?.utf8Decoder??Rk.fromUtf8,utf8Encoder:e?.utf8Encoder??Rk.toUtf8})});var Ik,Cp,G_e,Tk,Ep,Ok,V_e,W_e,K_e,X_e,J_e,Y_e,Q_e=v(()=>{j4();hi();Ik=C(dx()),Cp=C(un()),G_e=C(Ya()),Tk=C(xn()),Ep=C(io()),Ok=C(Ui()),V_e=C(Qa()),W_e=C(ya());H_e();K_e=C(V()),X_e=C(Za()),J_e=C(V()),Y_e=e=>{(0,J_e.emitWarningIfUnsupportedVersion)(process.version);let t=(0,X_e.resolveDefaultsModeConfig)(e),r=()=>t().then(K_e.loadConfigsForDefaultMode),n=z_e(e);JS(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Ep.loadConfig)(ZS,s),bodyLengthChecker:e?.bodyLengthChecker??V_e.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ik.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ak.version}),maxAttempts:e?.maxAttempts??(0,Ep.loadConfig)(Tk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ep.loadConfig)(Cp.NODE_REGION_CONFIG_OPTIONS,{...Cp.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Ok.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Ep.loadConfig)({...Tk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||W_e.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??G_e.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ok.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ep.loadConfig)(Cp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ep.loadConfig)(Cp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ep.loadConfig)(Ik.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Z_e,eSe,tSe=v(()=>{Z_e=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},eSe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Nk,Dk,kk,rSe,nSe=v(()=>{Nk=C(px()),Dk=C(Fe()),kk=C(V());tSe();rSe=(e,t)=>{let r=Object.assign((0,Nk.getAwsRegionExtensionConfiguration)(e),(0,kk.getDefaultExtensionConfiguration)(e),(0,Dk.getHttpHandlerExtensionConfiguration)(e),Z_e(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Nk.resolveAwsRegionExtensionConfiguration)(r),(0,kk.resolveDefaultRuntimeConfig)(r),(0,Dk.resolveHttpHandlerRuntimeConfig)(r),eSe(r))}});var Mk,sSe,iSe,Lk,oSe,aSe,cSe,Uk,H4,Sx,G4=v(()=>{Mk=C(b0()),sSe=C(w0()),iSe=C(x0()),Lk=C(av()),oSe=C(un());Ze();aSe=C(Ka()),cSe=C(Fn()),Uk=C(xn()),H4=C(V());F4();q4();Q_e();nSe();Sx=class extends H4.Client{config;constructor(...[t]){let r=Y_e(t||{});super(r),this.initConfig=r;let n=E_e(r),s=(0,Lk.resolveUserAgentConfig)(n),i=(0,Uk.resolveRetryConfig)(s),o=(0,oSe.resolveRegionConfig)(i),a=(0,Mk.resolveHostHeaderConfig)(o),c=(0,cSe.resolveEndpointConfig)(a),l=v_e(c),d=rSe(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Lk.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Uk.getRetryPlugin)(this.config)),this.middlewareStack.use((0,aSe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Mk.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sSe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iSe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use($a(this.config,{httpAuthSchemeParametersProvider:__e,identityProviderConfigProvider:async u=>new zo({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(za(this.config))}destroy(){super.destroy()}}});var lSe,yi,Bk=v(()=>{lSe=C(V()),yi=class e extends lSe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Qh,vx,Ex,V4,W4,Cx,bx,wx,xx,Ax,Px,Rx,Ix,Tx,Fk=v(()=>{Qh=C(V());Bk();vx=class e extends yi{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ex=class e extends yi{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},V4=e=>({...e,...e.clientSecret&&{clientSecret:Qh.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Qh.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Qh.SENSITIVE_STRING}}),W4=e=>({...e,...e.accessToken&&{accessToken:Qh.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Qh.SENSITIVE_STRING},...e.idToken&&{idToken:Qh.SENSITIVE_STRING}}),Cx=class e extends yi{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bx=class e extends yi{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wx=class e extends yi{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xx=class e extends yi{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ax=class e extends yi{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Px=class e extends yi{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Rx=class e extends yi{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ix=class e extends yi{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Tx=class e extends yi{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var ye,dSe,uSe,mMt,fMt,pMt,gMt,hMt,yMt,_Mt,SMt,vMt,EMt,CMt,bMt,wMt,Nc,mSe=v(()=>{hi();Ze();ye=C(V());Fk();Bk();dSe=async(e,t)=>{let r=am(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,ye.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,ye._json)(i)})),r.m("POST").h(n).b(s),r.build()},uSe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return mMt(e,t);let r=(0,ye.map)({$metadata:Nc(e)}),n=(0,ye.expectNonNull)((0,ye.expectObject)(await ov(e.body,t)),"body"),s=(0,ye.take)(n,{accessToken:ye.expectString,expiresIn:ye.expectInt32,idToken:ye.expectString,refreshToken:ye.expectString,tokenType:ye.expectString});return Object.assign(r,s),r},mMt=async(e,t)=>{let r={...e,body:await P2(e.body,t)},n=zh(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await pMt(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await gMt(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await hMt(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await yMt(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await _Mt(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await SMt(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await vMt(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await EMt(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await CMt(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await bMt(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await wMt(r,t);default:let s=r.body;return fMt({output:e,parsedBody:s,errorCode:n})}},fMt=(0,ye.withBaseException)(yi),pMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new vx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},gMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Ex({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},hMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Cx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},yMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new bx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},_Mt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new wx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},SMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new xx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},vMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Ax({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},EMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Px({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},CMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Rx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},bMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Ix({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},wMt=async(e,t)=>{let r=(0,ye.map)({}),n=e.body,s=(0,ye.take)(n,{error:ye.expectString,error_description:ye.expectString});Object.assign(r,s);let i=new Tx({$metadata:Nc(e),...r});return(0,ye.decorateServiceException)(i,e.body)},Nc=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var fSe,pSe,K4,Ox,X4=v(()=>{fSe=C(Fn()),pSe=C(pi()),K4=C(V());q4();Fk();mSe();Ox=class extends K4.Command.classBuilder().ep(C_e).m(function(t,r,n,s){return[(0,pSe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,fSe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(V4,W4).ser(dSe).de(uSe).build(){}});var gSe,xMt,qk,hSe=v(()=>{gSe=C(V());X4();G4();xMt={CreateTokenCommand:Ox},qk=class extends Sx{};(0,gSe.createAggregatedClient)(xMt,qk)});var ySe=v(()=>{X4()});var _Se=v(()=>{Fk()});var J4={};Kt(J4,{$Command:()=>K4.Command,AccessDeniedException:()=>vx,AuthorizationPendingException:()=>Ex,CreateTokenCommand:()=>Ox,CreateTokenRequestFilterSensitiveLog:()=>V4,CreateTokenResponseFilterSensitiveLog:()=>W4,ExpiredTokenException:()=>Cx,InternalServerException:()=>bx,InvalidClientException:()=>wx,InvalidGrantException:()=>xx,InvalidRequestException:()=>Ax,InvalidScopeException:()=>Px,SSOOIDC:()=>qk,SSOOIDCClient:()=>Sx,SSOOIDCServiceException:()=>yi,SlowDownException:()=>Rx,UnauthorizedClientException:()=>Ix,UnsupportedGrantTypeException:()=>Tx,__Client:()=>H4.Client});var Y4=v(()=>{G4();hSe();ySe();_Se();Bk()});var ASe=E((dln,xSe)=>{"use strict";var AMt=Object.create,Dx=Object.defineProperty,PMt=Object.getOwnPropertyDescriptor,RMt=Object.getOwnPropertyNames,IMt=Object.getPrototypeOf,TMt=Object.prototype.hasOwnProperty,_m=(e,t)=>Dx(e,"name",{value:t,configurable:!0}),OMt=(e,t)=>{for(var r in t)Dx(e,r,{get:t[r],enumerable:!0})},ESe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RMt(t))!TMt.call(e,s)&&s!==r&&Dx(e,s,{get:()=>t[s],enumerable:!(n=PMt(t,s))||n.enumerable});return e},CSe=(e,t,r)=>(r=e!=null?AMt(IMt(e)):{},ESe(t||!e||!e.__esModule?Dx(r,"default",{value:e,enumerable:!0}):r,e)),NMt=e=>ESe(Dx({},"__esModule",{value:!0}),e),bSe={};OMt(bSe,{fromEnvSigningName:()=>MMt,fromSso:()=>wSe,fromStatic:()=>$Mt,nodeProvider:()=>zMt});xSe.exports=NMt(bSe);var DMt=(ad(),H(ip)),kMt=(ZV(),H(Fme)),ec=Rt(),MMt=_m(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new ec.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,kMt.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new ec.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,DMt.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),LMt=5*60*1e3,Q4="To refresh this SSO session run 'aws sso login' with the corresponding profile.",UMt=_m(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>CSe((Y4(),H(J4))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),BMt=_m(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>CSe((Y4(),H(J4))));return(await UMt(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),SSe=_m(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new ec.TokenProviderError(`Token is expired. ${Q4}`,!1)},"validateTokenExpiry"),Zh=_m((e,t,r=!1)=>{if(typeof t>"u")throw new ec.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Q4}`,!1)},"validateTokenKey"),Nx=ni(),FMt=require("fs"),{writeFile:qMt}=FMt.promises,jMt=_m((e,t)=>{let r=(0,Nx.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return qMt(r,n)},"writeSSOTokenToFile"),vSe=new Date(0),wSe=_m((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Nx.parseKnownFiles)(r),s=(0,Nx.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new ec.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new ec.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,Nx.loadSsoSessionData)(r))[o];if(!c)throw new ec.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!c[S])throw new ec.TokenProviderError(`Sso session '${o}' is missing required property '${S}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,Nx.getSSOTokenFromFile)(o)}catch{throw new ec.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Q4}`,!1)}Zh("accessToken",u.accessToken),Zh("expiresAt",u.expiresAt);let{accessToken:f,expiresAt:p}=u,g={token:f,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>LMt)return g;if(Date.now()-vSe.getTime()<30*1e3)return SSe(g),g;Zh("clientId",u.clientId,!0),Zh("clientSecret",u.clientSecret,!0),Zh("refreshToken",u.refreshToken,!0);try{vSe.setTime(Date.now());let S=await BMt(u,d,r);Zh("accessToken",S.accessToken),Zh("expiresIn",S.expiresIn);let b=new Date(Date.now()+S.expiresIn*1e3);try{await jMt(o,{...u,accessToken:S.accessToken,expiresAt:b.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:b}}catch{return SSe(g),g}},"fromSso"),$Mt=_m(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new ec.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),zMt=_m((e={})=>(0,ec.memoize)((0,ec.chain)(wSe(e),async()=>{throw new ec.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var eW=E((uln,MSe)=>{"use strict";var $k=Object.defineProperty,HMt=Object.getOwnPropertyDescriptor,ISe=Object.getOwnPropertyNames,GMt=Object.prototype.hasOwnProperty,zk=(e,t)=>$k(e,"name",{value:t,configurable:!0}),VMt=(e,t)=>function(){return e&&(t=(0,e[ISe(e)[0]])(e=0)),t},TSe=(e,t)=>{for(var r in t)$k(e,r,{get:t[r],enumerable:!0})},WMt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ISe(t))!GMt.call(e,s)&&s!==r&&$k(e,s,{get:()=>t[s],enumerable:!(n=HMt(t,s))||n.enumerable});return e},KMt=e=>WMt($k({},"__esModule",{value:!0}),e),OSe={};TSe(OSe,{GetRoleCredentialsCommand:()=>Z4.GetRoleCredentialsCommand,SSOClient:()=>Z4.SSOClient});var Z4,XMt=VMt({"src/loadSso.ts"(){"use strict";Z4=y_e()}}),NSe={};TSe(NSe,{fromSSO:()=>YMt,isSsoProfile:()=>DSe,validateSsoProfile:()=>kSe});MSe.exports=KMt(NSe);var DSe=zk(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),PSe=(ad(),H(ip)),JMt=ASe(),ud=Rt(),jk=ni(),kx=!1,RSe=zk(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ne=await(0,JMt.fromSso)({profile:c})();d={accessToken:ne.token,expiresAt:new Date(ne.expiration).toISOString()}}catch(ne){throw new ud.CredentialsProviderError(ne.message,{tryNextLink:kx,logger:l})}else try{d=await(0,jk.getSSOTokenFromFile)(e)}catch{throw new ud.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:kx,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new ud.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:kx,logger:l});let{accessToken:f}=d,{SSOClient:p,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(XMt(),OSe)),S=i||new p(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),b;try{b=await S.send(new g({accountId:r,roleName:s,accessToken:f}))}catch(ne){throw new ud.CredentialsProviderError(ne,{tryNextLink:kx,logger:l})}let{roleCredentials:{accessKeyId:A,secretAccessKey:P,sessionToken:M,expiration:N,credentialScope:L,accountId:G}={}}=b;if(!A||!P||!M||!N)throw new ud.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:kx,logger:l});let pe={accessKeyId:A,secretAccessKey:P,sessionToken:M,expiration:new Date(N),...L&&{credentialScope:L},...G&&{accountId:G}};return t?(0,PSe.setCredentialFeature)(pe,"CREDENTIALS_SSO","s"):(0,PSe.setCredentialFeature)(pe,"CREDENTIALS_SSO_LEGACY","u"),pe},"resolveSSOCredentials"),kSe=zk((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new ud.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),YMt=zk((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,jk.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,jk.parseKnownFiles)(e))[c];if(!d)throw new ud.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!DSe(d))throw new ud.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let A=(await(0,jk.loadSsoSessionData)(e))[d.sso_session],P=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==A.sso_region)throw new ud.CredentialsProviderError("Conflicting SSO region"+P,{tryNextLink:!1,logger:e.logger});if(r&&r!==A.sso_start_url)throw new ud.CredentialsProviderError("Conflicting SSO start_url"+P,{tryNextLink:!1,logger:e.logger});d.sso_region=A.sso_region,d.sso_start_url=A.sso_start_url}let{sso_start_url:u,sso_account_id:f,sso_region:p,sso_role_name:g,sso_session:S}=kSe(d,e.logger);return RSe({ssoStartUrl:u,ssoSession:S,ssoAccountId:f,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new ud.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return RSe({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function QMt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ZMt(e){return{schemeId:"smithy.api#noAuth"}}var Mx,LSe,USe,eLt,BSe,tW=v(()=>{hi();Mx=C(bn());Lx();LSe=async(e,t,r)=>({operation:(0,Mx.getSmithyContext)(t).operation,region:await(0,Mx.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});USe=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(ZMt(e));break}default:t.push(QMt(e))}return t},eLt=e=>Object.assign(e,{stsClientCtor:Xd}),BSe=e=>{let t=eLt(e),r=jh(t);return Object.assign(r,{authSchemePreference:(0,Mx.normalizeProvider)(e.authSchemePreference??[])})}});var FSe,Hk,Gk=v(()=>{FSe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Hk={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var JSe,gt,pr,gr,wp,bp,qi,YSe,QSe,ZSe,qn,qSe,Jd,Ev,nW,jSe,rW,eve,$Se,ji,zSe,tve,rve,oo,tc,HSe,nve,sve,GSe,ive,VSe,WSe,KSe,XSe,tLt,ove,ave=v(()=>{JSe="required",gt="type",pr="fn",gr="argv",wp="ref",bp="booleanEquals",qi="stringEquals",YSe="sigv4",QSe="sts",ZSe="us-east-1",qn="endpoint",qSe="https://sts.{Region}.{PartitionResult#dnsSuffix}",Jd="tree",Ev="error",nW="getAttr",jSe={[JSe]:!1,[gt]:"String"},rW={[JSe]:!0,default:!1,[gt]:"Boolean"},eve={[wp]:"Endpoint"},$Se={[pr]:"isSet",[gr]:[{[wp]:"Region"}]},ji={[wp]:"Region"},zSe={[pr]:"aws.partition",[gr]:[ji],assign:"PartitionResult"},tve={[wp]:"UseFIPS"},rve={[wp]:"UseDualStack"},oo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:YSe,signingName:QSe,signingRegion:ZSe}]},headers:{}},tc={},HSe={conditions:[{[pr]:qi,[gr]:[ji,"aws-global"]}],[qn]:oo,[gt]:qn},nve={[pr]:bp,[gr]:[tve,!0]},sve={[pr]:bp,[gr]:[rve,!0]},GSe={[pr]:nW,[gr]:[{[wp]:"PartitionResult"},"supportsFIPS"]},ive={[wp]:"PartitionResult"},VSe={[pr]:bp,[gr]:[!0,{[pr]:nW,[gr]:[ive,"supportsDualStack"]}]},WSe=[{[pr]:"isSet",[gr]:[eve]}],KSe=[nve],XSe=[sve],tLt={version:"1.0",parameters:{Region:jSe,UseDualStack:rW,UseFIPS:rW,Endpoint:jSe,UseGlobalEndpoint:rW},rules:[{conditions:[{[pr]:bp,[gr]:[{[wp]:"UseGlobalEndpoint"},!0]},{[pr]:"not",[gr]:WSe},$Se,zSe,{[pr]:bp,[gr]:[tve,!1]},{[pr]:bp,[gr]:[rve,!1]}],rules:[{conditions:[{[pr]:qi,[gr]:[ji,"ap-northeast-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"ap-south-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"ap-southeast-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"ap-southeast-2"]}],endpoint:oo,[gt]:qn},HSe,{conditions:[{[pr]:qi,[gr]:[ji,"ca-central-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"eu-central-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"eu-north-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"eu-west-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"eu-west-2"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"eu-west-3"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"sa-east-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,ZSe]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"us-east-2"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"us-west-1"]}],endpoint:oo,[gt]:qn},{conditions:[{[pr]:qi,[gr]:[ji,"us-west-2"]}],endpoint:oo,[gt]:qn},{endpoint:{url:qSe,properties:{authSchemes:[{name:YSe,signingName:QSe,signingRegion:"{Region}"}]},headers:tc},[gt]:qn}],[gt]:Jd},{conditions:WSe,rules:[{conditions:KSe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[gt]:Ev},{conditions:XSe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[gt]:Ev},{endpoint:{url:eve,properties:tc,headers:tc},[gt]:qn}],[gt]:Jd},{conditions:[$Se],rules:[{conditions:[zSe],rules:[{conditions:[nve,sve],rules:[{conditions:[{[pr]:bp,[gr]:[!0,GSe]},VSe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tc,headers:tc},[gt]:qn}],[gt]:Jd},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[gt]:Ev}],[gt]:Jd},{conditions:KSe,rules:[{conditions:[{[pr]:bp,[gr]:[GSe,!0]}],rules:[{conditions:[{[pr]:qi,[gr]:[{[pr]:nW,[gr]:[ive,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:tc,headers:tc},[gt]:qn},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tc,headers:tc},[gt]:qn}],[gt]:Jd},{error:"FIPS is enabled but this partition does not support FIPS",[gt]:Ev}],[gt]:Jd},{conditions:XSe,rules:[{conditions:[VSe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tc,headers:tc},[gt]:qn}],[gt]:Jd},{error:"DualStack is enabled but this partition does not support DualStack",[gt]:Ev}],[gt]:Jd},HSe,{endpoint:{url:qSe,properties:tc,headers:tc},[gt]:qn}],[gt]:Jd}],[gt]:Jd},{error:"Invalid Configuration: Missing Region",[gt]:Ev}]},ove=tLt});var cve,Cv,rLt,lve,dve=v(()=>{cve=C(XS()),Cv=C(no());ave();rLt=new Cv.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),lve=(e,t={})=>rLt.get(e,()=>(0,Cv.resolveEndpoint)(ove,{endpointParams:e,logger:t.logger}));Cv.customEndpointFunctions.aws=cve.awsEndpointFunctions});var uve,mve,Vk,Wk,fve,pve=v(()=>{hi();Ze();uve=C(V()),mve=C(gi()),Vk=C(bt()),Wk=C(Ct());tW();dve();fve=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Vk.fromBase64,base64Encoder:e?.base64Encoder??Vk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lve,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??USe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ha},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],logger:e?.logger??new uve.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??mve.parseUrl,utf8Decoder:e?.utf8Decoder??Wk.fromUtf8,utf8Encoder:e?.utf8Encoder??Wk.toUtf8})});var Kk,Ap,gve,Xk,xp,Jk,hve,yve,_ve,Sve,vve,Eve,Cve=v(()=>{j4();hi();Kk=C(dx()),Ap=C(un());Ze();gve=C(Ya()),Xk=C(xn()),xp=C(io()),Jk=C(Ui()),hve=C(Qa()),yve=C(ya());pve();_ve=C(V()),Sve=C(Za()),vve=C(V()),Eve=e=>{(0,vve.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Sve.resolveDefaultsModeConfig)(e),r=()=>t().then(_ve.loadConfigsForDefaultMode),n=fve(e);JS(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xp.loadConfig)(ZS,s),bodyLengthChecker:e?.bodyLengthChecker??hve.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Kk.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ak.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new ha},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],maxAttempts:e?.maxAttempts??(0,xp.loadConfig)(Xk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xp.loadConfig)(Ap.NODE_REGION_CONFIG_OPTIONS,{...Ap.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Jk.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xp.loadConfig)({...Xk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||yve.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??gve.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Jk.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xp.loadConfig)(Ap.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xp.loadConfig)(Ap.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xp.loadConfig)(Kk.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var bve,wve,xve=v(()=>{bve=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},wve=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Yk,Qk,Zk,Ave,Pve=v(()=>{Yk=C(px()),Qk=C(Fe()),Zk=C(V());xve();Ave=(e,t)=>{let r=Object.assign((0,Yk.getAwsRegionExtensionConfiguration)(e),(0,Zk.getDefaultExtensionConfiguration)(e),(0,Qk.getHttpHandlerExtensionConfiguration)(e),bve(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Yk.resolveAwsRegionExtensionConfiguration)(r),(0,Zk.resolveDefaultRuntimeConfig)(r),(0,Qk.resolveHttpHandlerRuntimeConfig)(r),wve(r))}});var eM,Rve,Ive,tM,Tve,Ove,Nve,rM,sW,Xd,Lx=v(()=>{eM=C(b0()),Rve=C(w0()),Ive=C(x0()),tM=C(av()),Tve=C(un());Ze();Ove=C(Ka()),Nve=C(Fn()),rM=C(xn()),sW=C(V());tW();Gk();Cve();Pve();Xd=class extends sW.Client{config;constructor(...[t]){let r=Eve(t||{});super(r),this.initConfig=r;let n=FSe(r),s=(0,tM.resolveUserAgentConfig)(n),i=(0,rM.resolveRetryConfig)(s),o=(0,Tve.resolveRegionConfig)(i),a=(0,eM.resolveHostHeaderConfig)(o),c=(0,Nve.resolveEndpointConfig)(a),l=BSe(c),d=Ave(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,tM.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,rM.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Ove.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,eM.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Rve.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Ive.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use($a(this.config,{httpAuthSchemeParametersProvider:LSe,identityProviderConfigProvider:async u=>new zo({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(za(this.config))}destroy(){super.destroy()}}});var Dve,_a,nM=v(()=>{Dve=C(V()),_a=class e extends Dve.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var iW,oW,aW,Ux,Bx,Fx,qx,jx,$x,cW,lW,zx,Hx=v(()=>{iW=C(V());nM();oW=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:iW.SENSITIVE_STRING}}),aW=e=>({...e,...e.Credentials&&{Credentials:oW(e.Credentials)}}),Ux=class e extends _a{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bx=class e extends _a{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fx=class e extends _a{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qx=class e extends _a{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jx=class e extends _a{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$x=class e extends _a{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cW=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:iW.SENSITIVE_STRING}}),lW=e=>({...e,...e.Credentials&&{Credentials:oW(e.Credentials)}}),zx=class e extends _a{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var kve,It,Mve,Lve,Uve,Bve,Fve,nLt,sLt,iLt,oLt,aLt,cLt,lLt,dLt,uLt,qve,mLt,fLt,pLt,gLt,hLt,yLt,jve,_Lt,SLt,$ve,vLt,ELt,CLt,bLt,wLt,xLt,ALt,vm,PLt,zve,Hve,Gve,Vve,dW,RLt,uW,bv,ILt,mW,fW,wv,pW,xv,gW,hW,yW,Av,Pv,_W,SW,vW,Rv,EW,Iv,Tv,CW,bW,Sm,wW,xW,AW,PW,RW,Wve,IW,TW,OW,Is,Kve,TLt,NW=v(()=>{hi();kve=C(Fe()),It=C(V());Hx();nM();Mve=async(e,t)=>{let r=Hve,n;return n=Kve({...dLt(e,t),[Vve]:RLt,[Wve]:Gve}),zve(t,r,"/",void 0,n)},Lve=async(e,t)=>{let r=Hve,n;return n=Kve({...uLt(e,t),[Vve]:ILt,[Wve]:Gve}),zve(t,r,"/",void 0,n)},Uve=async(e,t)=>{if(e.statusCode>=300)return Fve(e,t);let r=await sx(e.body,t),n={};return n=_Lt(r.AssumeRoleResult,t),{$metadata:vm(e),...n}},Bve=async(e,t)=>{if(e.statusCode>=300)return Fve(e,t);let r=await sx(e.body,t),n={};return n=SLt(r.AssumeRoleWithWebIdentityResult,t),{$metadata:vm(e),...n}},Fve=async(e,t)=>{let r={...e,body:await z2(e.body,t)},n=TLt(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await nLt(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await aLt(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await cLt(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await lLt(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await sLt(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await iLt(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await oLt(r,t);default:let s=r.body;return PLt({output:e,parsedBody:s.Error,errorCode:n})}},nLt=async(e,t)=>{let r=e.body,n=vLt(r.Error,t),s=new Ux({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},sLt=async(e,t)=>{let r=e.body,n=ELt(r.Error,t),s=new zx({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},iLt=async(e,t)=>{let r=e.body,n=CLt(r.Error,t),s=new jx({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},oLt=async(e,t)=>{let r=e.body,n=bLt(r.Error,t),s=new $x({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},aLt=async(e,t)=>{let r=e.body,n=wLt(r.Error,t),s=new Bx({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},cLt=async(e,t)=>{let r=e.body,n=xLt(r.Error,t),s=new Fx({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},lLt=async(e,t)=>{let r=e.body,n=ALt(r.Error,t),s=new qx({$metadata:vm(e),...n});return(0,It.decorateServiceException)(s,r)},dLt=(e,t)=>{let r={};if(e[Iv]!=null&&(r[Iv]=e[Iv]),e[Tv]!=null&&(r[Tv]=e[Tv]),e[Pv]!=null){let n=qve(e[Pv],t);e[Pv]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[Av]!=null&&(r[Av]=e[Av]),e[xv]!=null&&(r[xv]=e[xv]),e[AW]!=null){let n=yLt(e[AW],t);e[AW]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[RW]!=null){let n=hLt(e[RW],t);e[RW]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[hW]!=null&&(r[hW]=e[hW]),e[wW]!=null&&(r[wW]=e[wW]),e[PW]!=null&&(r[PW]=e[PW]),e[Sm]!=null&&(r[Sm]=e[Sm]),e[SW]!=null){let n=pLt(e[SW],t);e[SW]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},uLt=(e,t)=>{let r={};if(e[Iv]!=null&&(r[Iv]=e[Iv]),e[Tv]!=null&&(r[Tv]=e[Tv]),e[TW]!=null&&(r[TW]=e[TW]),e[vW]!=null&&(r[vW]=e[vW]),e[Pv]!=null){let n=qve(e[Pv],t);e[Pv]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[Av]!=null&&(r[Av]=e[Av]),e[xv]!=null&&(r[xv]=e[xv]),r},qve=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=mLt(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},mLt=(e,t)=>{let r={};return e[OW]!=null&&(r[OW]=e[OW]),r},fLt=(e,t)=>{let r={};return e[_W]!=null&&(r[_W]=e[_W]),e[pW]!=null&&(r[pW]=e[pW]),r},pLt=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=fLt(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},gLt=(e,t)=>{let r={};return e[yW]!=null&&(r[yW]=e[yW]),e[IW]!=null&&(r[IW]=e[IW]),r},hLt=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},yLt=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=gLt(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},jve=(e,t)=>{let r={};return e[uW]!=null&&(r[uW]=(0,It.expectString)(e[uW])),e[mW]!=null&&(r[mW]=(0,It.expectString)(e[mW])),r},_Lt=(e,t)=>{let r={};return e[wv]!=null&&(r[wv]=$ve(e[wv],t)),e[bv]!=null&&(r[bv]=jve(e[bv],t)),e[Rv]!=null&&(r[Rv]=(0,It.strictParseInt32)(e[Rv])),e[Sm]!=null&&(r[Sm]=(0,It.expectString)(e[Sm])),r},SLt=(e,t)=>{let r={};return e[wv]!=null&&(r[wv]=$ve(e[wv],t)),e[bW]!=null&&(r[bW]=(0,It.expectString)(e[bW])),e[bv]!=null&&(r[bv]=jve(e[bv],t)),e[Rv]!=null&&(r[Rv]=(0,It.strictParseInt32)(e[Rv])),e[EW]!=null&&(r[EW]=(0,It.expectString)(e[EW])),e[fW]!=null&&(r[fW]=(0,It.expectString)(e[fW])),e[Sm]!=null&&(r[Sm]=(0,It.expectString)(e[Sm])),r},$ve=(e,t)=>{let r={};return e[dW]!=null&&(r[dW]=(0,It.expectString)(e[dW])),e[CW]!=null&&(r[CW]=(0,It.expectString)(e[CW])),e[xW]!=null&&(r[xW]=(0,It.expectString)(e[xW])),e[gW]!=null&&(r[gW]=(0,It.expectNonNull)((0,It.parseRfc3339DateTimeWithOffset)(e[gW]))),r},vLt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},ELt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},CLt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},bLt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},wLt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},xLt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},ALt=(e,t)=>{let r={};return e[Is]!=null&&(r[Is]=(0,It.expectString)(e[Is])),r},vm=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),PLt=(0,It.withBaseException)(_a),zve=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new kve.HttpRequest(l)},Hve={"content-type":"application/x-www-form-urlencoded"},Gve="2011-06-15",Vve="Action",dW="AccessKeyId",RLt="AssumeRole",uW="AssumedRoleId",bv="AssumedRoleUser",ILt="AssumeRoleWithWebIdentity",mW="Arn",fW="Audience",wv="Credentials",pW="ContextAssertion",xv="DurationSeconds",gW="Expiration",hW="ExternalId",yW="Key",Av="Policy",Pv="PolicyArns",_W="ProviderArn",SW="ProvidedContexts",vW="ProviderId",Rv="PackedPolicySize",EW="Provider",Iv="RoleArn",Tv="RoleSessionName",CW="SecretAccessKey",bW="SubjectFromWebIdentityToken",Sm="SourceIdentity",wW="SerialNumber",xW="SessionToken",AW="Tags",PW="TokenCode",RW="TransitiveTagKeys",Wve="Version",IW="Value",TW="WebIdentityToken",OW="arn",Is="message",Kve=e=>Object.entries(e).map(([t,r])=>(0,It.extendedEncodeURIComponent)(t)+"="+(0,It.extendedEncodeURIComponent)(r)).join("&"),TLt=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Xve,Jve,Yve,ey,sM=v(()=>{Xve=C(Fn()),Jve=C(pi()),Yve=C(V());Gk();Hx();NW();ey=class extends Yve.Command.classBuilder().ep(Hk).m(function(t,r,n,s){return[(0,Jve.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Xve.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,aW).ser(Mve).de(Uve).build(){}});var Qve,Zve,eEe,ty,iM=v(()=>{Qve=C(Fn()),Zve=C(pi()),eEe=C(V());Gk();Hx();NW();ty=class extends eEe.Command.classBuilder().ep(Hk).m(function(t,r,n,s){return[(0,Zve.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qve.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(cW,lW).ser(Lve).de(Bve).build(){}});var tEe,OLt,oM,rEe=v(()=>{tEe=C(V());sM();iM();Lx();OLt={AssumeRoleCommand:ey,AssumeRoleWithWebIdentityCommand:ty},oM=class extends Xd{};(0,tEe.createAggregatedClient)(OLt,oM)});var nEe=v(()=>{sM();iM()});var sEe=v(()=>{Hx()});var iEe,oEe,aEe,cEe,lEe,dEe,uEe=v(()=>{ad();sM();iM();iEe="us-east-1",oEe=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},aEe=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${iEe} (STS default)`),n??s??iEe},cEe=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await aEe(u,e?.parentClientConfig?.region,p),S=!dEe(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:S?f:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new ey(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=oEe(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return sp(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},lEe=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,f=await aEe(l,e?.parentClientConfig?.region,u),p=!dEe(d);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new ty(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=oEe(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&sp(a,"RESOLVED_ACCOUNT_ID","T"),sp(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},dEe=e=>e?.metadata?.handlerProtocol==="h2"});var mEe,fEe,pEe,NLt,gEe=v(()=>{uEe();Lx();mEe=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,fEe=(e={},t)=>cEe(e,mEe(Xd,t)),pEe=(e={},t)=>lEe(e,mEe(Xd,t)),NLt=e=>t=>e({roleAssumer:fEe(t),roleAssumerWithWebIdentity:pEe(t),...t})});var DW={};Kt(DW,{AssumeRoleCommand:()=>ey,AssumeRoleResponseFilterSensitiveLog:()=>aW,AssumeRoleWithWebIdentityCommand:()=>ty,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>cW,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>lW,CredentialsFilterSensitiveLog:()=>oW,ExpiredTokenException:()=>Ux,IDPCommunicationErrorException:()=>zx,IDPRejectedClaimException:()=>jx,InvalidIdentityTokenException:()=>$x,MalformedPolicyDocumentException:()=>Bx,PackedPolicyTooLargeException:()=>Fx,RegionDisabledException:()=>qx,STS:()=>oM,STSClient:()=>Xd,STSServiceException:()=>_a,__Client:()=>sW.Client,decorateDefaultCredentialProvider:()=>NLt,getDefaultRoleAssumer:()=>fEe,getDefaultRoleAssumerWithWebIdentity:()=>pEe});var kW=v(()=>{Lx();rEe();nEe();sEe();gEe();nM()});var UW=E((Cdn,_Ee)=>{"use strict";var aM=Object.defineProperty,DLt=Object.getOwnPropertyDescriptor,kLt=Object.getOwnPropertyNames,MLt=Object.prototype.hasOwnProperty,LW=(e,t)=>aM(e,"name",{value:t,configurable:!0}),LLt=(e,t)=>{for(var r in t)aM(e,r,{get:t[r],enumerable:!0})},ULt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kLt(t))!MLt.call(e,s)&&s!==r&&aM(e,s,{get:()=>t[s],enumerable:!(n=DLt(t,s))||n.enumerable});return e},BLt=e=>ULt(aM({},"__esModule",{value:!0}),e),yEe={};LLt(yEe,{fromProcess:()=>HLt});_Ee.exports=BLt(yEe);var hEe=ni(),MW=Rt(),FLt=require("child_process"),qLt=require("util"),jLt=(ad(),H(ip)),$Lt=LW((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,jLt.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),zLt=LW(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,qLt.promisify)(FLt.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return $Lt(e,a,t)}catch(o){throw new MW.CredentialsProviderError(o.message,{logger:r})}}else throw new MW.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new MW.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),HLt=LW((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,hEe.parseKnownFiles)(e);return zLt((0,hEe.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var BW=E(Yd=>{"use strict";var GLt=Yd&&Yd.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VLt=Yd&&Yd.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WLt=Yd&&Yd.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&GLt(r,t,n[s]);return VLt(r,t),r}}();Object.defineProperty(Yd,"__esModule",{value:!0});Yd.fromWebToken=void 0;var KLt=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>WLt((kW(),H(DW))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Yd.fromWebToken=KLt});var vEe=E(cM=>{"use strict";Object.defineProperty(cM,"__esModule",{value:!0});cM.fromTokenFile=void 0;var XLt=(ad(),H(ip)),JLt=Rt(),YLt=require("fs"),QLt=BW(),SEe="AWS_WEB_IDENTITY_TOKEN_FILE",ZLt="AWS_ROLE_ARN",eUt="AWS_ROLE_SESSION_NAME",tUt=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[SEe],r=e?.roleArn??process.env[ZLt],n=e?.roleSessionName??process.env[eUt];if(!t||!r)throw new JLt.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,QLt.fromWebToken)({...e,webIdentityToken:(0,YLt.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[SEe]&&(0,XLt.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};cM.fromTokenFile=tUt});var jW=E((xdn,lM)=>{"use strict";var EEe=Object.defineProperty,rUt=Object.getOwnPropertyDescriptor,nUt=Object.getOwnPropertyNames,sUt=Object.prototype.hasOwnProperty,FW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of nUt(t))!sUt.call(e,s)&&s!==r&&EEe(e,s,{get:()=>t[s],enumerable:!(n=rUt(t,s))||n.enumerable});return e},CEe=(e,t,r)=>(FW(e,t,"default"),r&&FW(r,t,"default")),iUt=e=>FW(EEe({},"__esModule",{value:!0}),e),qW={};lM.exports=iUt(qW);CEe(qW,vEe(),lM.exports);CEe(qW,BW(),lM.exports)});var TEe=E((Adn,IEe)=>{"use strict";var oUt=Object.create,Vx=Object.defineProperty,aUt=Object.getOwnPropertyDescriptor,cUt=Object.getOwnPropertyNames,lUt=Object.getPrototypeOf,dUt=Object.prototype.hasOwnProperty,zs=(e,t)=>Vx(e,"name",{value:t,configurable:!0}),uUt=(e,t)=>{for(var r in t)Vx(e,r,{get:t[r],enumerable:!0})},AEe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cUt(t))!dUt.call(e,s)&&s!==r&&Vx(e,s,{get:()=>t[s],enumerable:!(n=aUt(t,s))||n.enumerable});return e},Pp=(e,t,r)=>(r=e!=null?oUt(lUt(e)):{},AEe(t||!e||!e.__esModule?Vx(r,"default",{value:e,enumerable:!0}):r,e)),mUt=e=>AEe(Vx({},"__esModule",{value:!0}),e),PEe={};uUt(PEe,{fromIni:()=>wUt});IEe.exports=mUt(PEe);var zW=ni(),Rp=(ad(),H(ip)),Gx=Rt(),fUt=zs((e,t,r)=>{let n={EcsContainer:zs(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>Pp(R4())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>Pp(dd()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Gx.chain)(i(s??{}),o(s))().then($W)},"EcsContainer"),Ec2InstanceMetadata:zs(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Pp(dd()));return async()=>i(s)().then($W)},"Ec2InstanceMetadata"),Environment:zs(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Pp(E4()));return async()=>i(s)().then($W)},"Environment")};if(e in n)return n[e];throw new Gx.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),$W=zs(e=>(0,Rp.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),pUt=zs((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(gUt(e,{profile:t,logger:r})||hUt(e,{profile:t,logger:r})),"isAssumeRoleProfile"),gUt=zs((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),hUt=zs((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),yUt=zs(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Pp((kW(),H(DW))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new Gx.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,zW.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?REe(i,t,r,{...n,[i]:!0},bEe(t[i]??{})):(await fUt(s.credential_source,e,r.logger)(r))();if(bEe(s))return a.then(c=>(0,Rp.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new Gx.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,Rp.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),bEe=zs(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),_Ut=zs(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),SUt=zs(async(e,t)=>Promise.resolve().then(()=>Pp(UW())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Rp.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),vUt=zs(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Pp(eW()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Rp.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Rp.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),EUt=zs(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),wEe=zs(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),xEe=zs(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Rp.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),CUt=zs(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),bUt=zs(async(e,t)=>Promise.resolve().then(()=>Pp(jW())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Rp.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),REe=zs(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&wEe(i))return xEe(i,r);if(s||pUt(i,{profile:e,logger:r.logger}))return yUt(e,t,r,n);if(wEe(i))return xEe(i,r);if(CUt(i))return bUt(i,r);if(_Ut(i))return SUt(r,e);if(EUt(i))return await vUt(e,i,r);throw new Gx.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),wUt=zs((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,zW.parseKnownFiles)(r);return REe((0,zW.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var BEe=E((Pdn,UEe)=>{"use strict";var xUt=Object.create,Wx=Object.defineProperty,AUt=Object.getOwnPropertyDescriptor,PUt=Object.getOwnPropertyNames,RUt=Object.getPrototypeOf,IUt=Object.prototype.hasOwnProperty,dM=(e,t)=>Wx(e,"name",{value:t,configurable:!0}),TUt=(e,t)=>{for(var r in t)Wx(e,r,{get:t[r],enumerable:!0})},DEe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of PUt(t))!IUt.call(e,s)&&s!==r&&Wx(e,s,{get:()=>t[s],enumerable:!(n=AUt(t,s))||n.enumerable});return e},Ov=(e,t,r)=>(r=e!=null?xUt(RUt(e)):{},DEe(t||!e||!e.__esModule?Wx(r,"default",{value:e,enumerable:!0}):r,e)),OUt=e=>DEe(Wx({},"__esModule",{value:!0}),e),kEe={};TUt(kEe,{credentialsTreatedAsExpired:()=>LEe,credentialsWillNeedRefresh:()=>MEe,defaultProvider:()=>kUt});UEe.exports=OUt(kEe);var HW=E4(),NUt=ni(),ry=Rt(),OEe="AWS_EC2_METADATA_DISABLED",DUt=dM(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Ov(dd()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>Ov(R4()));return(0,ry.chain)(i(e),n(e))}return process.env[OEe]&&process.env[OEe]!=="false"?async()=>{throw new ry.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),NEe=!1,kUt=dM((e={})=>(0,ry.memoize)((0,ry.chain)(async()=>{if(e.profile??process.env[NUt.ENV_PROFILE])throw process.env[HW.ENV_KEY]&&process.env[HW.ENV_SECRET]&&(NEe||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),NEe=!0)),new ry.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,HW.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new ry.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>Ov(eW()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Ov(TEe()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Ov(UW()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Ov(jW()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await DUt(e))()),async()=>{throw new ry.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),LEe,MEe),"defaultProvider"),MEe=dM(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),LEe=dM(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var rCe=E(mM=>{"use strict";Object.defineProperty(mM,"__esModule",{value:!0});mM.ruleSet=void 0;var ZEe="required",Sa="fn",va="argv",ny="ref",Ip="properties",Tp="headers",FEe=!0,qEe="isSet",Kx="booleanEquals",Nv="error",Qd="endpoint",Em="tree",uM="PartitionResult",GW="stringEquals",jEe={[ZEe]:!1,type:"String"},$Ee={[ZEe]:!0,default:!1,type:"Boolean"},zEe={[ny]:"Endpoint"},eCe={[Sa]:Kx,[va]:[{[ny]:"UseFIPS"},!0]},tCe={[Sa]:Kx,[va]:[{[ny]:"UseDualStack"},!0]},Dc={},HEe={[Sa]:"getAttr",[va]:[{[ny]:uM},"supportsFIPS"]},GEe={[Sa]:Kx,[va]:[!0,{[Sa]:"getAttr",[va]:[{[ny]:uM},"supportsDualStack"]}]},VW={[Sa]:"getAttr",[va]:[{[ny]:uM},"name"]},VEe={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[Ip]:{},[Tp]:{}},WEe={url:"https://secretsmanager.{Region}.amazonaws.com",[Ip]:{},[Tp]:{}},KEe=[eCe],XEe=[tCe],JEe=[{[ny]:"Region"}],YEe=[{[Sa]:GW,[va]:["aws",VW]}],QEe=[{[Sa]:GW,[va]:["aws-us-gov",VW]}],MUt={version:"1.0",parameters:{Region:jEe,UseDualStack:$Ee,UseFIPS:$Ee,Endpoint:jEe},rules:[{conditions:[{[Sa]:qEe,[va]:[zEe]}],rules:[{conditions:KEe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Nv},{conditions:XEe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Nv},{endpoint:{url:zEe,[Ip]:Dc,[Tp]:Dc},type:Qd}],type:Em},{conditions:[{[Sa]:qEe,[va]:JEe}],rules:[{conditions:[{[Sa]:"aws.partition",[va]:JEe,assign:uM}],rules:[{conditions:[eCe,tCe],rules:[{conditions:[{[Sa]:Kx,[va]:[FEe,HEe]},GEe],rules:[{conditions:YEe,endpoint:VEe,type:Qd},{conditions:QEe,endpoint:VEe,type:Qd},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ip]:Dc,[Tp]:Dc},type:Qd}],type:Em},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Nv}],type:Em},{conditions:KEe,rules:[{conditions:[{[Sa]:Kx,[va]:[HEe,FEe]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[Ip]:Dc,[Tp]:Dc},type:Qd}],type:Em},{error:"FIPS is enabled but this partition does not support FIPS",type:Nv}],type:Em},{conditions:XEe,rules:[{conditions:[GEe],rules:[{conditions:YEe,endpoint:WEe,type:Qd},{conditions:[{[Sa]:GW,[va]:["aws-cn",VW]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[Ip]:Dc,[Tp]:Dc},type:Qd},{conditions:QEe,endpoint:WEe,type:Qd},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ip]:Dc,[Tp]:Dc},type:Qd}],type:Em},{error:"DualStack is enabled but this partition does not support DualStack",type:Nv}],type:Em},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[Ip]:Dc,[Tp]:Dc},type:Qd}],type:Em}],type:Em},{error:"Invalid Configuration: Missing Region",type:Nv}]};mM.ruleSet=MUt});var nCe=E(fM=>{"use strict";Object.defineProperty(fM,"__esModule",{value:!0});fM.defaultEndpointResolver=void 0;var LUt=XS(),WW=no(),UUt=rCe(),BUt=new WW.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),FUt=(e,t={})=>BUt.get(e,()=>(0,WW.resolveEndpoint)(UUt.ruleSet,{endpointParams:e,logger:t.logger}));fM.defaultEndpointResolver=FUt;WW.customEndpointFunctions.aws=LUt.awsEndpointFunctions});var oCe=E(pM=>{"use strict";Object.defineProperty(pM,"__esModule",{value:!0});pM.getRuntimeConfig=void 0;var qUt=(hi(),H(Gd)),jUt=V(),$Ut=gi(),sCe=bt(),iCe=Ct(),zUt=y4(),HUt=nCe(),GUt=e=>({apiVersion:"2017-10-17",base64Decoder:e?.base64Decoder??sCe.fromBase64,base64Encoder:e?.base64Encoder??sCe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??HUt.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??zUt.defaultSecretsManagerHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new qUt.AwsSdkSigV4Signer}],logger:e?.logger??new jUt.NoOpLogger,serviceId:e?.serviceId??"Secrets Manager",urlParser:e?.urlParser??$Ut.parseUrl,utf8Decoder:e?.utf8Decoder??iCe.fromUtf8,utf8Encoder:e?.utf8Encoder??iCe.toUtf8});pM.getRuntimeConfig=GUt});var uCe=E(hM=>{"use strict";Object.defineProperty(hM,"__esModule",{value:!0});hM.getRuntimeConfig=void 0;var VUt=(Vo(),H(Go)),WUt=VUt.__importDefault(fhe()),aCe=(hi(),H(Gd)),KUt=BEe(),cCe=dx(),gM=un(),XUt=Ya(),lCe=xn(),sy=io(),dCe=Ui(),JUt=Qa(),YUt=ya(),QUt=oCe(),ZUt=V(),eBt=Za(),tBt=V(),rBt=e=>{(0,tBt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,eBt.resolveDefaultsModeConfig)(e),r=()=>t().then(ZUt.loadConfigsForDefaultMode),n=(0,QUt.getRuntimeConfig)(e);(0,aCe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,sy.loadConfig)(aCe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??JUt.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??KUt.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cCe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:WUt.default.version}),maxAttempts:e?.maxAttempts??(0,sy.loadConfig)(lCe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,sy.loadConfig)(gM.NODE_REGION_CONFIG_OPTIONS,{...gM.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:dCe.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,sy.loadConfig)({...lCe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||YUt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??XUt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??dCe.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,sy.loadConfig)(gM.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,sy.loadConfig)(gM.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,sy.loadConfig)(cCe.NODE_APP_ID_CONFIG_OPTIONS,s)}};hM.getRuntimeConfig=rBt});var _be=E((Ndn,ybe)=>{"use strict";var yM=Object.defineProperty,nBt=Object.getOwnPropertyDescriptor,sBt=Object.getOwnPropertyNames,iBt=Object.prototype.hasOwnProperty,j=(e,t)=>yM(e,"name",{value:t,configurable:!0}),oBt=(e,t)=>{for(var r in t)yM(e,r,{get:t[r],enumerable:!0})},aBt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sBt(t))!iBt.call(e,s)&&s!==r&&yM(e,s,{get:()=>t[s],enumerable:!(n=nBt(t,s))||n.enumerable});return e},cBt=e=>aBt(yM({},"__esModule",{value:!0}),e),yCe={};oBt(yCe,{BatchGetSecretValueCommand:()=>XW,BatchGetSecretValueResponseFilterSensitiveLog:()=>HCe,CancelRotateSecretCommand:()=>JCe,CreateSecretCommand:()=>YCe,CreateSecretRequestFilterSensitiveLog:()=>GCe,DecryptionFailure:()=>SCe,DeleteResourcePolicyCommand:()=>QCe,DeleteSecretCommand:()=>ZCe,DescribeSecretCommand:()=>ebe,EncryptionFailure:()=>OCe,FilterNameStringType:()=>_Bt,GetRandomPasswordCommand:()=>tbe,GetRandomPasswordResponseFilterSensitiveLog:()=>VCe,GetResourcePolicyCommand:()=>rbe,GetSecretValueCommand:()=>nbe,GetSecretValueResponseFilterSensitiveLog:()=>WCe,InternalServiceError:()=>ECe,InvalidNextTokenException:()=>bCe,InvalidParameterException:()=>xCe,InvalidRequestException:()=>PCe,LimitExceededException:()=>DCe,ListSecretVersionIdsCommand:()=>YW,ListSecretsCommand:()=>JW,MalformedPolicyDocumentException:()=>MCe,PreconditionNotMetException:()=>UCe,PublicPolicyException:()=>jCe,PutResourcePolicyCommand:()=>sbe,PutSecretValueCommand:()=>ibe,PutSecretValueRequestFilterSensitiveLog:()=>KCe,RemoveRegionsFromReplicationCommand:()=>obe,ReplicateSecretToRegionsCommand:()=>abe,ResourceExistsException:()=>FCe,ResourceNotFoundException:()=>ICe,RestoreSecretCommand:()=>cbe,RotateSecretCommand:()=>lbe,SecretValueEntryFilterSensitiveLog:()=>zCe,SecretsManager:()=>hbe,SecretsManagerClient:()=>Xx,SecretsManagerServiceException:()=>Ea,SortOrderType:()=>vBt,StatusType:()=>SBt,StopReplicationToReplicaCommand:()=>dbe,TagResourceCommand:()=>ube,UntagResourceCommand:()=>mbe,UpdateSecretCommand:()=>fbe,UpdateSecretRequestFilterSensitiveLog:()=>XCe,UpdateSecretVersionStageCommand:()=>pbe,ValidateResourcePolicyCommand:()=>gbe,__Client:()=>D.Client,paginateBatchGetSecretValue:()=>WFt,paginateListSecretVersionIds:()=>KFt,paginateListSecrets:()=>XFt});ybe.exports=cBt(yCe);var mCe=b0(),lBt=w0(),dBt=x0(),fCe=av(),uBt=un(),Dv=(Ze(),H(As)),mBt=Ka(),jn=Fn(),pCe=xn(),gCe=y4(),fBt=j(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),"resolveClientEndpointParameters"),is={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},pBt=uCe(),hCe=px(),KW=Fe(),D=V(),gBt=j(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),hBt=j(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),yBt=j((e,t)=>{let r=Object.assign((0,hCe.getAwsRegionExtensionConfiguration)(e),(0,D.getDefaultExtensionConfiguration)(e),(0,KW.getHttpHandlerExtensionConfiguration)(e),gBt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,hCe.resolveAwsRegionExtensionConfiguration)(r),(0,D.resolveDefaultRuntimeConfig)(r),(0,KW.resolveHttpHandlerRuntimeConfig)(r),hBt(r))},"resolveRuntimeExtensions"),Xx=class extends D.Client{static{j(this,"SecretsManagerClient")}config;constructor(...[e]){let t=(0,pBt.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=fBt(t),n=(0,fCe.resolveUserAgentConfig)(r),s=(0,pCe.resolveRetryConfig)(n),i=(0,uBt.resolveRegionConfig)(s),o=(0,mCe.resolveHostHeaderConfig)(i),a=(0,jn.resolveEndpointConfig)(o),c=(0,gCe.resolveHttpAuthSchemeConfig)(a),l=yBt(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,fCe.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,pCe.getRetryPlugin)(this.config)),this.middlewareStack.use((0,mBt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mCe.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,lBt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,dBt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Dv.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:gCe.defaultSecretsManagerHttpAuthSchemeParametersProvider,identityProviderConfigProvider:j(async d=>new Dv.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Dv.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},os=pi(),Ea=class _Ce extends D.ServiceException{static{j(this,"SecretsManagerServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,_Ce.prototype)}},_Bt={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},SCe=class vCe extends Ea{static{j(this,"DecryptionFailure")}name="DecryptionFailure";$fault="client";Message;constructor(t){super({name:"DecryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,vCe.prototype),this.Message=t.Message}},ECe=class CCe extends Ea{static{j(this,"InternalServiceError")}name="InternalServiceError";$fault="server";Message;constructor(t){super({name:"InternalServiceError",$fault:"server",...t}),Object.setPrototypeOf(this,CCe.prototype),this.Message=t.Message}},bCe=class wCe extends Ea{static{j(this,"InvalidNextTokenException")}name="InvalidNextTokenException";$fault="client";Message;constructor(t){super({name:"InvalidNextTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,wCe.prototype),this.Message=t.Message}},xCe=class ACe extends Ea{static{j(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";Message;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,ACe.prototype),this.Message=t.Message}},PCe=class RCe extends Ea{static{j(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";Message;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,RCe.prototype),this.Message=t.Message}},ICe=class TCe extends Ea{static{j(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,TCe.prototype),this.Message=t.Message}},SBt={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},OCe=class NCe extends Ea{static{j(this,"EncryptionFailure")}name="EncryptionFailure";$fault="client";Message;constructor(t){super({name:"EncryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,NCe.prototype),this.Message=t.Message}},DCe=class kCe extends Ea{static{j(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,kCe.prototype),this.Message=t.Message}},MCe=class LCe extends Ea{static{j(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";Message;constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,LCe.prototype),this.Message=t.Message}},UCe=class BCe extends Ea{static{j(this,"PreconditionNotMetException")}name="PreconditionNotMetException";$fault="client";Message;constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,BCe.prototype),this.Message=t.Message}},FCe=class qCe extends Ea{static{j(this,"ResourceExistsException")}name="ResourceExistsException";$fault="client";Message;constructor(t){super({name:"ResourceExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,qCe.prototype),this.Message=t.Message}},vBt={asc:"asc",desc:"desc"},jCe=class $Ce extends Ea{static{j(this,"PublicPolicyException")}name="PublicPolicyException";$fault="client";Message;constructor(t){super({name:"PublicPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,$Ce.prototype),this.Message=t.Message}},zCe=j(e=>({...e,...e.SecretBinary&&{SecretBinary:D.SENSITIVE_STRING},...e.SecretString&&{SecretString:D.SENSITIVE_STRING}}),"SecretValueEntryFilterSensitiveLog"),HCe=j(e=>({...e,...e.SecretValues&&{SecretValues:e.SecretValues.map(t=>zCe(t))}}),"BatchGetSecretValueResponseFilterSensitiveLog"),GCe=j(e=>({...e,...e.SecretBinary&&{SecretBinary:D.SENSITIVE_STRING},...e.SecretString&&{SecretString:D.SENSITIVE_STRING}}),"CreateSecretRequestFilterSensitiveLog"),VCe=j(e=>({...e,...e.RandomPassword&&{RandomPassword:D.SENSITIVE_STRING}}),"GetRandomPasswordResponseFilterSensitiveLog"),WCe=j(e=>({...e,...e.SecretBinary&&{SecretBinary:D.SENSITIVE_STRING},...e.SecretString&&{SecretString:D.SENSITIVE_STRING}}),"GetSecretValueResponseFilterSensitiveLog"),KCe=j(e=>({...e,...e.SecretBinary&&{SecretBinary:D.SENSITIVE_STRING},...e.SecretString&&{SecretString:D.SENSITIVE_STRING},...e.RotationToken&&{RotationToken:D.SENSITIVE_STRING}}),"PutSecretValueRequestFilterSensitiveLog"),XCe=j(e=>({...e,...e.SecretBinary&&{SecretBinary:D.SENSITIVE_STRING},...e.SecretString&&{SecretString:D.SENSITIVE_STRING}}),"UpdateSecretRequestFilterSensitiveLog"),ss=(hi(),H(Gd)),_M=(q0(),H(DN)),EBt=j(async(e,t)=>{let r=$n("BatchGetSecretValue"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_BatchGetSecretValueCommand"),CBt=j(async(e,t)=>{let r=$n("CancelRotateSecret"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_CancelRotateSecretCommand"),bBt=j(async(e,t)=>{let r=$n("CreateSecret"),n;return n=JSON.stringify(xFt(e,t)),cs(t,r,"/",void 0,n)},"se_CreateSecretCommand"),wBt=j(async(e,t)=>{let r=$n("DeleteResourcePolicy"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),xBt=j(async(e,t)=>{let r=$n("DeleteSecret"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_DeleteSecretCommand"),ABt=j(async(e,t)=>{let r=$n("DescribeSecret"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_DescribeSecretCommand"),PBt=j(async(e,t)=>{let r=$n("GetRandomPassword"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_GetRandomPasswordCommand"),RBt=j(async(e,t)=>{let r=$n("GetResourcePolicy"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),IBt=j(async(e,t)=>{let r=$n("GetSecretValue"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_GetSecretValueCommand"),TBt=j(async(e,t)=>{let r=$n("ListSecrets"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_ListSecretsCommand"),OBt=j(async(e,t)=>{let r=$n("ListSecretVersionIds"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_ListSecretVersionIdsCommand"),NBt=j(async(e,t)=>{let r=$n("PutResourcePolicy"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),DBt=j(async(e,t)=>{let r=$n("PutSecretValue"),n;return n=JSON.stringify(AFt(e,t)),cs(t,r,"/",void 0,n)},"se_PutSecretValueCommand"),kBt=j(async(e,t)=>{let r=$n("RemoveRegionsFromReplication"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_RemoveRegionsFromReplicationCommand"),MBt=j(async(e,t)=>{let r=$n("ReplicateSecretToRegions"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_ReplicateSecretToRegionsCommand"),LBt=j(async(e,t)=>{let r=$n("RestoreSecret"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_RestoreSecretCommand"),UBt=j(async(e,t)=>{let r=$n("RotateSecret"),n;return n=JSON.stringify(PFt(e,t)),cs(t,r,"/",void 0,n)},"se_RotateSecretCommand"),BBt=j(async(e,t)=>{let r=$n("StopReplicationToReplica"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_StopReplicationToReplicaCommand"),FBt=j(async(e,t)=>{let r=$n("TagResource"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_TagResourceCommand"),qBt=j(async(e,t)=>{let r=$n("UntagResource"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_UntagResourceCommand"),jBt=j(async(e,t)=>{let r=$n("UpdateSecret"),n;return n=JSON.stringify(RFt(e,t)),cs(t,r,"/",void 0,n)},"se_UpdateSecretCommand"),$Bt=j(async(e,t)=>{let r=$n("UpdateSecretVersionStage"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_UpdateSecretVersionStageCommand"),zBt=j(async(e,t)=>{let r=$n("ValidateResourcePolicy"),n;return n=JSON.stringify((0,D._json)(e)),cs(t,r,"/",void 0,n)},"se_ValidateResourcePolicyCommand"),HBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=IFt(r,t),{$metadata:ir(e),...n}},"de_BatchGetSecretValueCommand"),GBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_CancelRotateSecretCommand"),VBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=TFt(r,t),{$metadata:ir(e),...n}},"de_CreateSecretCommand"),WBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_DeleteResourcePolicyCommand"),KBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=OFt(r,t),{$metadata:ir(e),...n}},"de_DeleteSecretCommand"),XBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=NFt(r,t),{$metadata:ir(e),...n}},"de_DescribeSecretCommand"),JBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_GetRandomPasswordCommand"),YBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_GetResourcePolicyCommand"),QBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=DFt(r,t),{$metadata:ir(e),...n}},"de_GetSecretValueCommand"),ZBt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=kFt(r,t),{$metadata:ir(e),...n}},"de_ListSecretsCommand"),eFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=MFt(r,t),{$metadata:ir(e),...n}},"de_ListSecretVersionIdsCommand"),tFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_PutResourcePolicyCommand"),rFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_PutSecretValueCommand"),nFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=LFt(r,t),{$metadata:ir(e),...n}},"de_RemoveRegionsFromReplicationCommand"),sFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=UFt(r,t),{$metadata:ir(e),...n}},"de_ReplicateSecretToRegionsCommand"),iFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_RestoreSecretCommand"),oFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_RotateSecretCommand"),aFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_StopReplicationToReplicaCommand"),cFt=j(async(e,t)=>e.statusCode>=300?as(e,t):(await(0,D.collectBody)(e.body,t),{$metadata:ir(e)}),"de_TagResourceCommand"),lFt=j(async(e,t)=>e.statusCode>=300?as(e,t):(await(0,D.collectBody)(e.body,t),{$metadata:ir(e)}),"de_UntagResourceCommand"),dFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_UpdateSecretCommand"),uFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_UpdateSecretVersionStageCommand"),mFt=j(async(e,t)=>{if(e.statusCode>=300)return as(e,t);let r=await(0,ss.parseJsonBody)(e.body,t),n={};return n=(0,D._json)(r),{$metadata:ir(e),...n}},"de_ValidateResourcePolicyCommand"),as=j(async(e,t)=>{let r={...e,body:await(0,ss.parseJsonErrorBody)(e.body,t)},n=(0,ss.loadRestJsonErrorCode)(e,r.body);switch(n){case"DecryptionFailure":case"com.amazonaws.secretsmanager#DecryptionFailure":throw await fFt(r,t);case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":throw await gFt(r,t);case"InvalidNextTokenException":case"com.amazonaws.secretsmanager#InvalidNextTokenException":throw await hFt(r,t);case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":throw await yFt(r,t);case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":throw await _Ft(r,t);case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":throw await wFt(r,t);case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":throw await pFt(r,t);case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":throw await SFt(r,t);case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":throw await vFt(r,t);case"PreconditionNotMetException":case"com.amazonaws.secretsmanager#PreconditionNotMetException":throw await EFt(r,t);case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":throw await bFt(r,t);case"PublicPolicyException":case"com.amazonaws.secretsmanager#PublicPolicyException":throw await CFt(r,t);default:let s=r.body;return GFt({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),fFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new SCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_DecryptionFailureRes"),pFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new OCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_EncryptionFailureRes"),gFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new ECe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_InternalServiceErrorRes"),hFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new bCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_InvalidNextTokenExceptionRes"),yFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new xCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),_Ft=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new PCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_InvalidRequestExceptionRes"),SFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new DCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),vFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new MCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_MalformedPolicyDocumentExceptionRes"),EFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new UCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_PreconditionNotMetExceptionRes"),CFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new jCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_PublicPolicyExceptionRes"),bFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new FCe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_ResourceExistsExceptionRes"),wFt=j(async(e,t)=>{let r=e.body,n=(0,D._json)(r),s=new ICe({$metadata:ir(e),...n});return(0,D.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),xFt=j((e,t)=>(0,D.take)(e,{AddReplicaRegions:D._json,ClientRequestToken:[!0,r=>r??(0,_M.v4)()],Description:[],ForceOverwriteReplicaSecret:[],KmsKeyId:[],Name:[],SecretBinary:t.base64Encoder,SecretString:[],Tags:D._json}),"se_CreateSecretRequest"),AFt=j((e,t)=>(0,D.take)(e,{ClientRequestToken:[!0,r=>r??(0,_M.v4)()],RotationToken:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[],VersionStages:D._json}),"se_PutSecretValueRequest"),PFt=j((e,t)=>(0,D.take)(e,{ClientRequestToken:[!0,r=>r??(0,_M.v4)()],RotateImmediately:[],RotationLambdaARN:[],RotationRules:D._json,SecretId:[]}),"se_RotateSecretRequest"),RFt=j((e,t)=>(0,D.take)(e,{ClientRequestToken:[!0,r=>r??(0,_M.v4)()],Description:[],KmsKeyId:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[]}),"se_UpdateSecretRequest"),IFt=j((e,t)=>(0,D.take)(e,{Errors:D._json,NextToken:D.expectString,SecretValues:j(r=>$Ft(r,t),"SecretValues")}),"de_BatchGetSecretValueResponse"),TFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,Name:D.expectString,ReplicationStatus:j(r=>SM(r,t),"ReplicationStatus"),VersionId:D.expectString}),"de_CreateSecretResponse"),OFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,DeletionDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"DeletionDate"),Name:D.expectString}),"de_DeleteSecretResponse"),NFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,CreatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"CreatedDate"),DeletedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"DeletedDate"),Description:D.expectString,KmsKeyId:D.expectString,LastAccessedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastRotatedDate"),Name:D.expectString,NextRotationDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"NextRotationDate"),OwningService:D.expectString,PrimaryRegion:D.expectString,ReplicationStatus:j(r=>SM(r,t),"ReplicationStatus"),RotationEnabled:D.expectBoolean,RotationLambdaARN:D.expectString,RotationRules:D._json,Tags:D._json,VersionIdsToStages:D._json}),"de_DescribeSecretResponse"),DFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,CreatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"CreatedDate"),Name:D.expectString,SecretBinary:t.base64Decoder,SecretString:D.expectString,VersionId:D.expectString,VersionStages:D._json}),"de_GetSecretValueResponse"),kFt=j((e,t)=>(0,D.take)(e,{NextToken:D.expectString,SecretList:j(r=>qFt(r,t),"SecretList")}),"de_ListSecretsResponse"),MFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,Name:D.expectString,NextToken:D.expectString,Versions:j(r=>HFt(r,t),"Versions")}),"de_ListSecretVersionIdsResponse"),LFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,ReplicationStatus:j(r=>SM(r,t),"ReplicationStatus")}),"de_RemoveRegionsFromReplicationResponse"),UFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,ReplicationStatus:j(r=>SM(r,t),"ReplicationStatus")}),"de_ReplicateSecretToRegionsResponse"),SM=j((e,t)=>(e||[]).filter(n=>n!=null).map(n=>BFt(n,t)),"de_ReplicationStatusListType"),BFt=j((e,t)=>(0,D.take)(e,{KmsKeyId:D.expectString,LastAccessedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastAccessedDate"),Region:D.expectString,Status:D.expectString,StatusMessage:D.expectString}),"de_ReplicationStatusType"),FFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,CreatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"CreatedDate"),DeletedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"DeletedDate"),Description:D.expectString,KmsKeyId:D.expectString,LastAccessedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastRotatedDate"),Name:D.expectString,NextRotationDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"NextRotationDate"),OwningService:D.expectString,PrimaryRegion:D.expectString,RotationEnabled:D.expectBoolean,RotationLambdaARN:D.expectString,RotationRules:D._json,SecretVersionsToStages:D._json,Tags:D._json}),"de_SecretListEntry"),qFt=j((e,t)=>(e||[]).filter(n=>n!=null).map(n=>FFt(n,t)),"de_SecretListType"),jFt=j((e,t)=>(0,D.take)(e,{ARN:D.expectString,CreatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"CreatedDate"),Name:D.expectString,SecretBinary:t.base64Decoder,SecretString:D.expectString,VersionId:D.expectString,VersionStages:D._json}),"de_SecretValueEntry"),$Ft=j((e,t)=>(e||[]).filter(n=>n!=null).map(n=>jFt(n,t)),"de_SecretValuesType"),zFt=j((e,t)=>(0,D.take)(e,{CreatedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"CreatedDate"),KmsKeyIds:D._json,LastAccessedDate:j(r=>(0,D.expectNonNull)((0,D.parseEpochTimestamp)((0,D.expectNumber)(r))),"LastAccessedDate"),VersionId:D.expectString,VersionStages:D._json}),"de_SecretVersionsListEntry"),HFt=j((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zFt(n,t)),"de_SecretVersionsListType"),ir=j(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),GFt=(0,D.withBaseException)(Ea),cs=j(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new KW.HttpRequest(l)},"buildHttpRpcRequest");function $n(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`secretsmanager.${e}`}}j($n,"sharedHeaders");var XW=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").f(void 0,HCe).ser(EBt).de(HBt).build(){static{j(this,"BatchGetSecretValueCommand")}},JCe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").f(void 0,void 0).ser(CBt).de(GBt).build(){static{j(this,"CancelRotateSecretCommand")}},YCe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").f(GCe,void 0).ser(bBt).de(VBt).build(){static{j(this,"CreateSecretCommand")}},QCe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(wBt).de(WBt).build(){static{j(this,"DeleteResourcePolicyCommand")}},ZCe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").f(void 0,void 0).ser(xBt).de(KBt).build(){static{j(this,"DeleteSecretCommand")}},ebe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").f(void 0,void 0).ser(ABt).de(XBt).build(){static{j(this,"DescribeSecretCommand")}},tbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").f(void 0,VCe).ser(PBt).de(JBt).build(){static{j(this,"GetRandomPasswordCommand")}},rbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").f(void 0,void 0).ser(RBt).de(YBt).build(){static{j(this,"GetResourcePolicyCommand")}},nbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").f(void 0,WCe).ser(IBt).de(QBt).build(){static{j(this,"GetSecretValueCommand")}},JW=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").f(void 0,void 0).ser(TBt).de(ZBt).build(){static{j(this,"ListSecretsCommand")}},YW=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").f(void 0,void 0).ser(OBt).de(eFt).build(){static{j(this,"ListSecretVersionIdsCommand")}},sbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").f(void 0,void 0).ser(NBt).de(tFt).build(){static{j(this,"PutResourcePolicyCommand")}},ibe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").f(KCe,void 0).ser(DBt).de(rFt).build(){static{j(this,"PutSecretValueCommand")}},obe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").f(void 0,void 0).ser(kBt).de(nFt).build(){static{j(this,"RemoveRegionsFromReplicationCommand")}},abe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").f(void 0,void 0).ser(MBt).de(sFt).build(){static{j(this,"ReplicateSecretToRegionsCommand")}},cbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").f(void 0,void 0).ser(LBt).de(iFt).build(){static{j(this,"RestoreSecretCommand")}},lbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").f(void 0,void 0).ser(UBt).de(oFt).build(){static{j(this,"RotateSecretCommand")}},dbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").f(void 0,void 0).ser(BBt).de(aFt).build(){static{j(this,"StopReplicationToReplicaCommand")}},ube=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").f(void 0,void 0).ser(FBt).de(cFt).build(){static{j(this,"TagResourceCommand")}},mbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").f(void 0,void 0).ser(qBt).de(lFt).build(){static{j(this,"UntagResourceCommand")}},fbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").f(XCe,void 0).ser(jBt).de(dFt).build(){static{j(this,"UpdateSecretCommand")}},pbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").f(void 0,void 0).ser($Bt).de(uFt).build(){static{j(this,"UpdateSecretVersionStageCommand")}},gbe=class extends D.Command.classBuilder().ep(is).m(function(e,t,r,n){return[(0,os.getSerdePlugin)(r,this.serialize,this.deserialize),(0,jn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").f(void 0,void 0).ser(zBt).de(mFt).build(){static{j(this,"ValidateResourcePolicyCommand")}},VFt={BatchGetSecretValueCommand:XW,CancelRotateSecretCommand:JCe,CreateSecretCommand:YCe,DeleteResourcePolicyCommand:QCe,DeleteSecretCommand:ZCe,DescribeSecretCommand:ebe,GetRandomPasswordCommand:tbe,GetResourcePolicyCommand:rbe,GetSecretValueCommand:nbe,ListSecretsCommand:JW,ListSecretVersionIdsCommand:YW,PutResourcePolicyCommand:sbe,PutSecretValueCommand:ibe,RemoveRegionsFromReplicationCommand:obe,ReplicateSecretToRegionsCommand:abe,RestoreSecretCommand:cbe,RotateSecretCommand:lbe,StopReplicationToReplicaCommand:dbe,TagResourceCommand:ube,UntagResourceCommand:mbe,UpdateSecretCommand:fbe,UpdateSecretVersionStageCommand:pbe,ValidateResourcePolicyCommand:gbe},hbe=class extends Xx{static{j(this,"SecretsManager")}};(0,D.createAggregatedClient)(VFt,hbe);var WFt=(0,Dv.createPaginator)(Xx,XW,"NextToken","NextToken","MaxResults"),KFt=(0,Dv.createPaginator)(Xx,YW,"NextToken","NextToken","MaxResults"),XFt=(0,Dv.createPaginator)(Xx,JW,"NextToken","NextToken","MaxResults")});var ZW=E(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.secretsService=void 0;var Sbe=_be(),QW=class{client;cache=new Map;cacheExpiry=new Map;CACHE_TTL=5*60*1e3;constructor(){this.client=new Sbe.SecretsManagerClient({region:process.env.AWS_REGION||"ap-southeast-1"})}async getSecret(t){let r=Date.now();if(this.cache.has(t)&&this.cacheExpiry.get(t)>r)return this.cache.get(t);try{let n=new Sbe.GetSecretValueCommand({SecretId:t}),s=await this.client.send(n);if(!s.SecretString)throw new Error(`Secret ${t} has no SecretString value`);let i=JSON.parse(s.SecretString);return this.cache.set(t,i),this.cacheExpiry.set(t,r+this.CACHE_TTL),i}catch(n){throw console.error(`Failed to retrieve secret ${t}:`,n),new Error(`Failed to retrieve secret: ${n instanceof Error?n.message:"Unknown error"}`)}}async getDatabaseConfig(){let t=process.env.DATABASE_SECRET_ARN;if(!t)throw new Error("DATABASE_SECRET_ARN environment variable is not set");let r=await this.getSecret(t),n={host:r.host,port:parseInt(r.port)||5432,username:r.username,password:r.password,dbname:r.dbname};return{url:`postgresql://${n.username}:${n.password}@${n.host}:${n.port}/${n.dbname}?schema=public&sslmode=require`,config:n}}async getAPIConfig(){let t=process.env.API_SECRET_ARN;if(!t)throw new Error("API_SECRET_ARN environment variable is not set");let r=await this.getSecret(t);return{jwtSecret:r.jwtSecret||r.JWT_SECRET,perplexityApiKey:r.perplexityApiKey||r.PERPLEXITY_API_KEY,redisUrl:r.redisUrl||r.REDIS_URL}}async getJWTSecret(){return(await this.getAPIConfig()).jwtSecret}clearCache(){this.cache.clear(),this.cacheExpiry.clear()}};kv.secretsService=new QW;kv.default=kv.secretsService});var eK=E(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.getPrismaClient=vbe;Mv.disconnectPrisma=Ebe;Mv.setupLambdaCleanup=Cbe;var JFt=require("@prisma/client"),YFt=ZW(),kc=null,Jx=null,vM=null;async function QFt(){if(!vM){let{url:e}=await YFt.secretsService.getDatabaseConfig();vM=e}return vM}function ZFt(e){let t=new JFt.PrismaClient({datasourceUrl:e,log:[{emit:"event",level:"error"},{emit:"event",level:"warn"}],errorFormat:"minimal"});return t.$on("error",r=>{console.error("Prisma client error:",r)}),t}async function eqt(){if(!kc){let e=await QFt();kc=ZFt(e)}try{await kc.$connect(),console.log("Lambda: Database connection established successfully")}catch(e){throw console.error("Lambda: Failed to connect to database:",e),e}}async function vbe(){if(kc)try{return await kc.$queryRaw`SELECT 1`,kc}catch(e){console.warn("Lambda: Existing connection failed, creating new one:",e),kc=null,Jx=null}if(Jx||(Jx=eqt()),await Jx,!kc)throw new Error("Lambda: Failed to establish database connection");return kc}async function Ebe(){kc&&(await kc.$disconnect(),kc=null,Jx=null,vM=null,console.log("Lambda: Database connection closed"))}function Cbe(){process.on("SIGTERM",async()=>{await Ebe()})}Cbe();Mv.default=vbe});var bbe=E((oun,tqt)=>{tqt.exports={name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var Rbe=E((aun,Cm)=>{var tK=require("fs"),EM=require("path"),rqt=require("os"),nqt=require("crypto"),sqt=bbe(),rK=sqt.version,iqt=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function oqt(e){let t={},r=e.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=iqt.exec(r))!=null;){let s=n[1],i=n[2]||"";i=i.trim();let o=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),t[s]=i}return t}function aqt(e){e=e||{};let t=Pbe(e);e.path=t;let r=si.configDotenv(e);if(!r.parsed){let o=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw o.code="MISSING_DATA",o}let n=Abe(e).split(","),s=n.length,i;for(let o=0;o<s;o++)try{let a=n[o].trim(),c=lqt(r,a);i=si.decrypt(c.ciphertext,c.key);break}catch(a){if(o+1>=s)throw a}return si.parse(i)}function cqt(e){console.log(`[dotenv@${rK}][WARN] ${e}`)}function Yx(e){console.log(`[dotenv@${rK}][DEBUG] ${e}`)}function xbe(e){console.log(`[dotenv@${rK}] ${e}`)}function Abe(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function lqt(e,t){let r;try{r=new URL(t)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let n=r.password;if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let s=r.searchParams.get("environment");if(!s){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let i=`DOTENV_VAULT_${s.toUpperCase()}`,o=e.parsed[i];if(!o){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:o,key:n}}function Pbe(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)tK.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=EM.resolve(process.cwd(),".env.vault");return tK.existsSync(t)?t:null}function wbe(e){return e[0]==="~"?EM.join(rqt.homedir(),e.slice(1)):e}function dqt(e){let t=!!(e&&e.debug),r=e&&"quiet"in e?e.quiet:!0;(t||!r)&&xbe("Loading env from encrypted .env.vault");let n=si._parseVault(e),s=process.env;return e&&e.processEnv!=null&&(s=e.processEnv),si.populate(s,n,e),{parsed:n}}function uqt(e){let t=EM.resolve(process.cwd(),".env"),r="utf8",n=!!(e&&e.debug),s=e&&"quiet"in e?e.quiet:!0;e&&e.encoding?r=e.encoding:n&&Yx("No encoding is specified. UTF-8 is used by default");let i=[t];if(e&&e.path)if(!Array.isArray(e.path))i=[wbe(e.path)];else{i=[];for(let l of e.path)i.push(wbe(l))}let o,a={};for(let l of i)try{let d=si.parse(tK.readFileSync(l,{encoding:r}));si.populate(a,d,e)}catch(d){n&&Yx(`Failed to load ${l} ${d.message}`),o=d}let c=process.env;if(e&&e.processEnv!=null&&(c=e.processEnv),si.populate(c,a,e),n||!s){let l=Object.keys(a).length,d=[];for(let u of i)try{let f=EM.relative(process.cwd(),u);d.push(f)}catch(f){n&&Yx(`Failed to load ${u} ${f.message}`),o=f}xbe(`injecting env (${l}) from ${d.join(",")}`)}return o?{parsed:a,error:o}:{parsed:a}}function mqt(e){if(Abe(e).length===0)return si.configDotenv(e);let t=Pbe(e);return t?si._configVault(e):(cqt(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),si.configDotenv(e))}function fqt(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),s=n.subarray(0,12),i=n.subarray(-16);n=n.subarray(12,-16);try{let o=nqt.createDecipheriv("aes-256-gcm",r,s);return o.setAuthTag(i),`${o.update(n)}${o.final()}`}catch(o){let a=o instanceof RangeError,c=o.message==="Invalid key length",l=o.message==="Unsupported state or unable to authenticate data";if(a||c){let d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(l){let d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw o}}function pqt(e,t,r={}){let n=!!(r&&r.debug),s=!!(r&&r.override);if(typeof t!="object"){let i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(let i of Object.keys(t))Object.prototype.hasOwnProperty.call(e,i)?(s===!0&&(e[i]=t[i]),n&&Yx(s===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):e[i]=t[i]}var si={configDotenv:uqt,_configVault:dqt,_parseVault:aqt,config:mqt,decrypt:fqt,parse:oqt,populate:pqt};Cm.exports.configDotenv=si.configDotenv;Cm.exports._configVault=si._configVault;Cm.exports._parseVault=si._parseVault;Cm.exports.config=si.config;Cm.exports.decrypt=si.decrypt;Cm.exports.parse=si.parse;Cm.exports.populate=si.populate;Cm.exports=si});var Tbe=E((cun,Ibe)=>{"use strict";Ibe.exports=function(...e){try{return JSON.stringify(...e)}catch(t){return"[Cannot display object: "+t.message+"]"}}});var nK=E((Obe,Nbe)=>{"use strict";var gqt=Tbe();Nbe.exports=class extends Error{constructor(e){let t=e.filter(r=>r!=="").map(r=>typeof r=="string"?r:r instanceof Error?r.message:gqt(r));super(t.join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Obe.assert)}}});var hr=E((dun,Dbe)=>{"use strict";var hqt=nK();Dbe.exports=function(e,...t){if(!e)throw t.length===1&&t[0]instanceof Error?t[0]:new hqt(t)}});var iy=E((uun,Mbe)=>{"use strict";var sK=hr(),kbe={};Mbe.exports=function(e,t,r){if(t===!1||t===null||t===void 0)return e;r=r||{},typeof r=="string"&&(r={separator:r});let n=Array.isArray(t);sK(!n||!r.separator,"Separator option is not valid for array-based chain");let s=n?t:t.split(r.separator||"."),i=e;for(let o=0;o<s.length;++o){let a=s[o],c=r.iterables&&kbe.iterables(i);if(Array.isArray(i)||c==="set"){let l=Number(a);Number.isInteger(l)&&(a=l<0?i.length+l:l)}if(!i||typeof i=="function"&&r.functions===!1||!c&&i[a]===void 0){sK(!r.strict||o+1===s.length,"Missing segment",a,"in reach path ",t),sK(typeof i=="object"||r.functions===!0||typeof i!="function","Invalid segment",a,"in reach path ",t),i=r.default;break}c?c==="set"?i=[...i][a]:i=i.get(a):i=i[a]}return i};kbe.iterables=function(e){if(e instanceof Set)return"set";if(e instanceof Map)return"map"}});var iK=E((Wo,Ube)=>{"use strict";var Lbe={};Wo=Ube.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype};Lbe.typeMap=new Map([["[object Error]",Wo.error],["[object Map]",Wo.map],["[object Promise]",Wo.promise],["[object Set]",Wo.set],["[object WeakMap]",Wo.weakMap],["[object WeakSet]",Wo.weakSet]]);Wo.getInternalProto=function(e){if(Array.isArray(e))return Wo.array;if(Buffer&&e instanceof Buffer)return Wo.buffer;if(e instanceof Date)return Wo.date;if(e instanceof RegExp)return Wo.regex;if(e instanceof Error)return Wo.error;let t=Object.prototype.toString.call(e);return Lbe.typeMap.get(t)||Wo.generic}});var oK=E(Bbe=>{"use strict";Bbe.keys=function(e,t={}){return t.symbols!==!1?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}});var Ko=E((fun,Fbe)=>{"use strict";var yqt=iy(),rc=iK(),_qt=oK(),bm={needsProtoHack:new Set([rc.set,rc.map,rc.weakSet,rc.weakMap])};Fbe.exports=bm.clone=function(e,t={},r=null){if(typeof e!="object"||e===null)return e;let n=bm.clone,s=r;if(t.shallow){if(t.shallow!==!0)return bm.cloneWithShallow(e,t);n=c=>c}else if(s){let c=s.get(e);if(c)return c}else s=new Map;let i=rc.getInternalProto(e);if(i===rc.buffer)return Buffer&&Buffer.from(e);if(i===rc.date)return new Date(e.getTime());if(i===rc.regex)return new RegExp(e);let o=bm.base(e,i,t);if(o===e)return e;if(s&&s.set(e,o),i===rc.set)for(let c of e)o.add(n(c,t,s));else if(i===rc.map)for(let[c,l]of e)o.set(c,n(l,t,s));let a=_qt.keys(e,t);for(let c of a){if(c==="__proto__")continue;if(i===rc.array&&c==="length"){o.length=e.length;continue}let l=Object.getOwnPropertyDescriptor(e,c);l?l.get||l.set?Object.defineProperty(o,c,l):l.enumerable?o[c]=n(e[c],t,s):Object.defineProperty(o,c,{enumerable:!1,writable:!0,configurable:!0,value:n(e[c],t,s)}):Object.defineProperty(o,c,{enumerable:!0,writable:!0,configurable:!0,value:n(e[c],t,s)})}return o};bm.cloneWithShallow=function(e,t){let r=t.shallow;t=Object.assign({},t),t.shallow=!1;let n=new Map;for(let s of r){let i=yqt(e,s);(typeof i=="object"||typeof i=="function")&&n.set(i,i)}return bm.clone(e,t,n)};bm.base=function(e,t,r){if(r.prototype===!1)return bm.needsProtoHack.has(t)?new t.constructor:t===rc.array?[]:{};let n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===rc.array){let s=[];return n!==t&&Object.setPrototypeOf(s,n),s}if(bm.needsProtoHack.has(t)){let s=new n.constructor;return n!==t&&Object.setPrototypeOf(s,n),s}return Object.create(n)}});var qbe=E((pun,Sqt)=>{Sqt.exports={name:"joi",description:"Object schema validation",version:"17.13.3",repository:"git://github.com/hapijs/joi",main:"lib/index.js",types:"lib/index.d.ts",browser:"dist/joi-browser.min.js",files:["lib/**/*","dist/*"],keywords:["schema","validation"],dependencies:{"@hapi/hoek":"^9.3.0","@hapi/topo":"^5.1.0","@sideway/address":"^4.1.5","@sideway/formula":"^3.0.1","@sideway/pinpoint":"^2.0.0"},devDependencies:{"@hapi/bourne":"2.x.x","@hapi/code":"8.x.x","@hapi/joi-legacy-test":"npm:@hapi/joi@15.x.x","@hapi/lab":"^25.1.3","@types/node":"^14.18.63",typescript:"4.3.x"},scripts:{prepublishOnly:"cd browser && npm install && npm run build",test:"lab -t 100 -a @hapi/code -L -Y","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"}});var CM=E(Qx=>{"use strict";var B=aK(),ot={};ot.wrap=B.string().min(1).max(2).allow(!1);Qx.preferences=B.object({allowUnknown:B.boolean(),abortEarly:B.boolean(),artifacts:B.boolean(),cache:B.boolean(),context:B.object(),convert:B.boolean(),dateFormat:B.valid("date","iso","string","time","utc"),debug:B.boolean(),errors:{escapeHtml:B.boolean(),label:B.valid("path","key",!1),language:[B.string(),B.object().ref()],render:B.boolean(),stack:B.boolean(),wrap:{label:ot.wrap,array:ot.wrap,string:ot.wrap}},externals:B.boolean(),messages:B.object(),noDefaults:B.boolean(),nonEnumerables:B.boolean(),presence:B.valid("required","optional","forbidden"),skipFunctions:B.boolean(),stripUnknown:B.object({arrays:B.boolean(),objects:B.boolean()}).or("arrays","objects").allow(!0,!1),warnings:B.boolean()}).strict();ot.nameRx=/^[a-zA-Z0-9]\w*$/;ot.rule=B.object({alias:B.array().items(B.string().pattern(ot.nameRx)).single(),args:B.array().items(B.string(),B.object({name:B.string().pattern(ot.nameRx).required(),ref:B.boolean(),assert:B.alternatives([B.function(),B.object().schema()]).conditional("ref",{is:!0,then:B.required()}),normalize:B.function(),message:B.string().when("assert",{is:B.function(),then:B.required()})})),convert:B.boolean(),manifest:B.boolean(),method:B.function().allow(!1),multi:B.boolean(),validate:B.function()});Qx.extension=B.object({type:B.alternatives([B.string(),B.object().regex()]).required(),args:B.function(),cast:B.object().pattern(ot.nameRx,B.object({from:B.function().maxArity(1).required(),to:B.function().minArity(1).maxArity(2).required()})),base:B.object().schema().when("type",{is:B.object().regex(),then:B.forbidden()}),coerce:[B.function().maxArity(3),B.object({method:B.function().maxArity(3).required(),from:B.array().items(B.string()).single()})],flags:B.object().pattern(ot.nameRx,B.object({setter:B.string(),default:B.any()})),manifest:{build:B.function().arity(2)},messages:[B.object(),B.string()],modifiers:B.object().pattern(ot.nameRx,B.function().minArity(1).maxArity(2)),overrides:B.object().pattern(ot.nameRx,B.function()),prepare:B.function().maxArity(3),rebuild:B.function().arity(1),rules:B.object().pattern(ot.nameRx,ot.rule),terms:B.object().pattern(ot.nameRx,B.object({init:B.array().allow(null).required(),manifest:B.object().pattern(/.+/,[B.valid("schema","single"),B.object({mapped:B.object({from:B.string().required(),to:B.string().required()}).required()})])})),validate:B.function().maxArity(3)}).strict();Qx.extensions=B.array().items(B.object(),B.function().arity(1)).strict();ot.desc={buffer:B.object({buffer:B.string()}),func:B.object({function:B.function().required(),options:{literal:!0}}),override:B.object({override:!0}),ref:B.object({ref:B.object({type:B.valid("value","global","local"),path:B.array().required(),separator:B.string().length(1).allow(!1),ancestor:B.number().min(0).integer().allow("root"),map:B.array().items(B.array().length(2)).min(1),adjust:B.function(),iterables:B.boolean(),in:B.boolean(),render:B.boolean()}).required()}),regex:B.object({regex:B.string().min(3)}),special:B.object({special:B.valid("deep").required()}),template:B.object({template:B.string().required(),options:B.object()}),value:B.object({value:B.alternatives([B.object(),B.array()]).required()})};ot.desc.entity=B.alternatives([B.array().items(B.link("...")),B.boolean(),B.function(),B.number(),B.string(),ot.desc.buffer,ot.desc.func,ot.desc.ref,ot.desc.regex,ot.desc.special,ot.desc.template,ot.desc.value,B.link("/")]);ot.desc.values=B.array().items(null,B.boolean(),B.function(),B.number().allow(1/0,-1/0),B.string().allow(""),B.symbol(),ot.desc.buffer,ot.desc.func,ot.desc.override,ot.desc.ref,ot.desc.regex,ot.desc.template,ot.desc.value);ot.desc.messages=B.object().pattern(/.+/,[B.string(),ot.desc.template,B.object().pattern(/.+/,[B.string(),ot.desc.template])]);Qx.description=B.object({type:B.string().required(),flags:B.object({cast:B.string(),default:B.any(),description:B.string(),empty:B.link("/"),failover:ot.desc.entity,id:B.string(),label:B.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:B.boolean(),unit:B.string()}).unknown(),preferences:{allowUnknown:B.boolean(),abortEarly:B.boolean(),artifacts:B.boolean(),cache:B.boolean(),convert:B.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:B.boolean(),label:["path","key"],language:[B.string(),ot.desc.ref],wrap:{label:ot.wrap,array:ot.wrap}},externals:B.boolean(),messages:ot.desc.messages,noDefaults:B.boolean(),nonEnumerables:B.boolean(),presence:["required","optional","forbidden"],skipFunctions:B.boolean(),stripUnknown:B.object({arrays:B.boolean(),objects:B.boolean()}).or("arrays","objects").allow(!0,!1),warnings:B.boolean()},allow:ot.desc.values,invalid:ot.desc.values,rules:B.array().min(1).items({name:B.string().required(),args:B.object().min(1),keep:B.boolean(),message:[B.string(),ot.desc.messages],warn:B.boolean()}),keys:B.object().pattern(/.*/,B.link("/")),link:ot.desc.ref}).pattern(/^[a-z]\w*$/,B.any())});var $be=E((hun,jbe)=>{"use strict";var Op={};jbe.exports=function(e){if(!e)return"";let t="";for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);Op.isSafe(n)?t+=e[r]:t+=Op.escapeHtmlChar(n)}return t};Op.escapeHtmlChar=function(e){let t=Op.namedHtml.get(e);return t||(e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`)};Op.isSafe=function(e){return Op.safeCharCodes.has(e)};Op.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]);Op.safeCharCodes=function(){let e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||t===32||t===46||t===44||t===45||t===58||t===95)&&e.add(t);return e}()});var zbe=E(Zx=>{"use strict";var dr={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};Zx.Parser=class{constructor(e,t={}){if(!t[dr.settings]&&t.constants)for(let r in t.constants){let n=t.constants[r];if(n!==null&&!["boolean","number","string"].includes(typeof n))throw new Error(`Formula constant ${r} contains invalid ${typeof n} value type`)}this.settings=t[dr.settings]?t:Object.assign({[dr.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let t=[],r="",n=0,s=!1,i=a=>{if(n)throw new Error("Formula missing closing parenthesis");let c=t.length?t[t.length-1]:null;if(!(!s&&!r&&!a)){if(c&&c.type==="reference"&&a===")"){c.type="function",c.value=this._subFormula(r,c.value),r="";return}if(a===")"){let l=new Zx.Parser(r,this.settings);t.push({type:"segment",value:l})}else if(s){if(s==="]"){t.push({type:"reference",value:r}),r="";return}t.push({type:"literal",value:r})}else if(dr.operatorCharacters.includes(r))c&&c.type==="operator"&&dr.operators.includes(c.value+r)?c.value+=r:t.push({type:"operator",value:r});else if(r.match(dr.numberRx))t.push({type:"constant",value:parseFloat(r)});else if(this.settings.constants[r]!==void 0)t.push({type:"constant",value:this.settings.constants[r]});else{if(!r.match(dr.tokenRx))throw new Error(`Formula contains invalid token: ${r}`);t.push({type:"reference",value:r})}r=""}};for(let a of e)s?a===s?(i(),s=!1):r+=a:n?a==="("?(r+=a,++n):a===")"?(--n,n?r+=a:i(a)):r+=a:a in dr.literals?s=dr.literals[a]:a==="("?(i(),++n):dr.operatorCharacters.includes(a)?(i(),r=a,i()):a!==" "?r+=a:i();i(),t=t.map((a,c)=>a.type!=="operator"||a.value!=="-"||c&&t[c-1].type!=="operator"?a:{type:"operator",value:"n"});let o=!1;for(let a of t){if(a.type==="operator"){if(dr.operatorsPrefix.includes(a.value))continue;if(!o)throw new Error("Formula contains an operator in invalid position");if(!dr.operators.includes(a.value))throw new Error(`Formula contains an unknown operator ${a.value}`)}else if(o)throw new Error("Formula missing expected operator");o=!o}if(!o)throw new Error("Formula contains invalid trailing operator");t.length===1&&["reference","literal","constant"].includes(t[0].type)&&(this.single={type:t[0].type==="reference"?"reference":"value",value:t[0].value}),this._parts=t.map(a=>{if(a.type==="operator")return dr.operatorsPrefix.includes(a.value)?a:a.value;if(a.type!=="reference")return a.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(a.value))throw new Error(`Formula contains invalid reference ${a.value}`);return this.settings.reference?this.settings.reference(a.value):dr.reference(a.value)})}_subFormula(e,t){let r=this.settings.functions[t];if(typeof r!="function")throw new Error(`Formula contains unknown function ${t}`);let n=[];if(e){let s="",i=0,o=!1,a=()=>{if(!s)throw new Error(`Formula contains function ${t} with invalid arguments ${e}`);n.push(s),s=""};for(let c=0;c<e.length;++c){let l=e[c];o?(s+=l,l===o&&(o=!1)):l in dr.literals&&!i?(s+=l,o=dr.literals[l]):l===","&&!i?a():(s+=l,l==="("?++i:l===")"&&--i)}a()}return n=n.map(s=>new Zx.Parser(s,this.settings)),function(s){let i=[];for(let o of n)i.push(o.evaluate(s));return r.call(s,...i)}}evaluate(e){let t=this._parts.slice();for(let r=t.length-2;r>=0;--r){let n=t[r];if(n&&n.type==="operator"){let s=t[r+1];t.splice(r+1,1);let i=dr.evaluate(s,e);t[r]=dr.single(n.value,i)}}return dr.operatorsOrder.forEach(r=>{for(let n=1;n<t.length-1;)if(r.includes(t[n])){let s=t[n],i=dr.evaluate(t[n-1],e),o=dr.evaluate(t[n+1],e);t.splice(n,2);let a=dr.calculate(s,i,o);t[n-1]=a===0?0:a}else n+=2}),dr.evaluate(t[0],e)}};Zx.Parser.prototype[dr.symbol]=!0;dr.reference=function(e){return function(t){return t&&t[e]!==void 0?t[e]:null}};dr.evaluate=function(e,t){return e===null?null:typeof e=="function"?e(t):e[dr.symbol]?e.evaluate(t):e};dr.single=function(e,t){if(e==="!")return!t;let r=-t;return r===0?0:r};dr.calculate=function(e,t,r){if(e==="??")return dr.exists(t)?t:r;if(typeof t=="string"||typeof r=="string"){if(e==="+")return t=dr.exists(t)?t:"",r=dr.exists(r)?r:"",t+r}else switch(e){case"^":return Math.pow(t,r);case"*":return t*r;case"/":return t/r;case"%":return t%r;case"+":return t+r;case"-":return t-r}switch(e){case"<":return t<r;case"<=":return t<=r;case">":return t>r;case">=":return t>=r;case"==":return t===r;case"!=":return t!==r;case"&&":return t&&r;case"||":return t||r}return null};dr.exists=function(e){return e!=null}});var Gbe=E(Hbe=>{"use strict";var vqt=Ko(),Eqt=An(),oy={annotations:Symbol("annotations")};Hbe.error=function(e){if(!this._original||typeof this._original!="object")return this.details[0].message;let t=e?"":"\x1B[31m",r=e?"":"\x1B[41m",n=e?"":"\x1B[0m",s=vqt(this._original);for(let a=this.details.length-1;a>=0;--a){let c=a+1,l=this.details[a],d=l.path,u=s;for(let f=0;;++f){let p=d[f];if(Eqt.isSchema(u)&&(u=u.clone()),f+1<d.length&&typeof u[p]!="string")u=u[p];else{let g=u[oy.annotations]||{errors:{},missing:{}};u[oy.annotations]=g;let S=p||l.context.key;u[p]!==void 0?(g.errors[S]=g.errors[S]||[],g.errors[S].push(c)):g.missing[S]=c;break}}}let i={key:/_\$key\$_([, \d]+)_\$end\$_"/g,missing:/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,arrayIndex:/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g},o=oy.safeStringify(s,2).replace(i.key,(a,c)=>`" ${t}[${c}]${n}`).replace(i.missing,(a,c,l)=>`${r}"${c}"${n}${t} [${l}]: -- missing --${n}`).replace(i.arrayIndex,(a,c,l)=>`
${l} ${t}[${c}]${n}`).replace(i.specials,(a,c)=>c);o=`${o}
${t}`;for(let a=0;a<this.details.length;++a){let c=a+1;o=`${o}
[${c}] ${this.details[a].message}`}return o=o+n,o};oy.safeStringify=function(e,t){return JSON.stringify(e,oy.serializer(),t)};oy.serializer=function(){let e=[],t=[],r=(n,s)=>t[0]===s?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(s)).join(".")+"]";return function(n,s){if(t.length>0){let i=t.indexOf(this);~i?(t.length=i+1,e.length=i+1,e[i]=n):(t.push(this),e.push(n)),~t.indexOf(s)&&(s=r.call(this,n,s))}else t.push(s);if(s){let i=s[oy.annotations];if(i){if(Array.isArray(s)){let o=[];for(let a=0;a<s.length;++a)i.errors[a]&&o.push(`_$idx$_${i.errors[a].sort().join(", ")}_$end$_`),o.push(s[a]);s=o}else{for(let o in i.errors)s[`${o}_$key$_${i.errors[o].sort().join(", ")}_$end$_`]=s[o],s[o]=void 0;for(let o in i.missing)s[`_$miss$_${o}|${i.missing[o]}_$end$_`]="__missing__"}return s}}return s===1/0||s===-1/0||Number.isNaN(s)||typeof s=="function"||typeof s=="symbol"?"["+s.toString()+"]":s}}});var wm=E(Hs=>{"use strict";var Cqt=Gbe(),bqt=An(),wqt=Np();Hs.Report=class{constructor(e,t,r,n,s,i,o){if(this.code=e,this.flags=n,this.messages=s,this.path=i.path,this.prefs=o,this.state=i,this.value=t,this.message=null,this.template=null,this.local=r||{},this.local.label=Hs.label(this.flags,this.state,this.prefs,this.messages),this.value!==void 0&&!this.local.hasOwnProperty("value")&&(this.local.value=this.value),this.path.length){let a=this.path[this.path.length-1];typeof a!="object"&&(this.local.key=a)}}_setTemplate(e){if(this.template=e,!this.flags.label&&this.path.length===0){let t=this._template(this.template,"root");t&&(this.local.label=t)}}toString(){if(this.message)return this.message;let e=this.code;if(!this.prefs.errors.render)return this.code;let t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return t===void 0?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,t){return Hs.template(this.value,e,t||this.code,this.state,this.prefs)}};Hs.path=function(e){let t="";for(let r of e)typeof r!="object"&&(typeof r=="string"?(t&&(t+="."),t+=r):t+=`[${r}]`);return t};Hs.template=function(e,t,r,n,s){if(!t)return;if(wqt.isTemplate(t))return r!=="root"?t:null;let i=s.errors.language;if(bqt.isResolvable(i)&&(i=i.resolve(e,n,s)),i&&t[i]){if(t[i][r]!==void 0)return t[i][r];if(t[i]["*"]!==void 0)return t[i]["*"]}return t[r]?t[r]:t["*"]};Hs.label=function(e,t,r,n){if(!r.errors.label)return"";if(e.label)return e.label;let s=t.path;r.errors.label==="key"&&t.path.length>1&&(s=t.path.slice(-1));let i=Hs.path(s);return i||Hs.template(null,r.messages,"root",t,r)||n&&Hs.template(null,n,"root",t,r)||"value"};Hs.process=function(e,t,r){if(!e)return null;let{override:n,message:s,details:i}=Hs.details(e);if(n)return n;if(r.errors.stack)return new Hs.ValidationError(s,i,t);let o=Error.stackTraceLimit;Error.stackTraceLimit=0;let a=new Hs.ValidationError(s,i,t);return Error.stackTraceLimit=o,a};Hs.details=function(e,t={}){let r=[],n=[];for(let s of e){if(s instanceof Error){if(t.override!==!1)return{override:s};let o=s.toString();r.push(o),n.push({message:o,type:"override",context:{error:s}});continue}let i=s.toString();r.push(i),n.push({message:i,path:s.path.filter(o=>typeof o!="object"),type:s.code,context:s.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:n}};Hs.ValidationError=class extends Error{constructor(e,t,r){super(e),this._original=r,this.details=t}static isError(e){return e instanceof Hs.ValidationError}};Hs.ValidationError.prototype.isJoi=!0;Hs.ValidationError.prototype.name="ValidationError";Hs.ValidationError.prototype.annotate=Cqt.error});var xm=E(Uc=>{"use strict";var Mc=hr(),xqt=Ko(),Aqt=iy(),eA=An(),cK,Lc={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};Uc.create=function(e,t={}){Mc(typeof e=="string","Invalid reference key:",e),eA.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),Mc(!t.prefix||typeof t.prefix=="object","options.prefix must be of type object");let r=Object.assign({},Lc.defaults,t);delete r.prefix;let n=r.separator,s=Lc.context(e,n,t.prefix);if(r.type=s.type,e=s.key,r.type==="value")if(s.root&&(Mc(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(r.ancestor!==void 0)Mc(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{let[i,o]=Lc.ancestor(e,n);o&&(e=e.slice(o),e===""&&(e=null)),r.ancestor=i}return r.path=n?e===null?[]:e.split(n):[e],new Lc.Ref(r)};Uc.in=function(e,t={}){return Uc.create(e,{...t,in:!0})};Uc.isRef=function(e){return e?!!e[eA.symbols.ref]:!1};Lc.Ref=class{constructor(e){Mc(typeof e=="object","Invalid reference construction"),eA.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),Mc([!1,void 0].includes(e.separator)||typeof e.separator=="string"&&e.separator.length===1,"Invalid separator"),Mc(!e.adjust||typeof e.adjust=="function","options.adjust must be a function"),Mc(!e.map||Array.isArray(e.map),"options.map must be an array"),Mc(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,Lc.defaults,e),Mc(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,n,s={}){return Mc(!this.in||s.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(r.context,t,s):this.type==="local"?this._resolve(n,t,s):this.ancestor?this.ancestor==="root"?this._resolve(t.ancestors[t.ancestors.length-1],t,s):(Mc(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,s)):this._resolve(e,t,s)}_resolve(e,t,r){let n;if(this.type==="value"&&t.mainstay.shadow&&r.shadow!==!1&&(n=t.mainstay.shadow.get(this.absolute(t))),n===void 0&&(n=Aqt(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){let s=this.map.get(n);s!==void 0&&(n=s)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new Lc.Ref(this)}describe(){let e={path:this.path};this.type!=="value"&&(e.type=this.type),this.separator!=="."&&(e.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(let t of["adjust","iterables","render"])this[t]!==null&&this[t]!==void 0&&(e[t]=this[t]);return this.in!==!1&&(e.in=!0),{ref:e}}updateDisplay(){let e=this.key!==null?this.key:"";if(this.type!=="value"){this.display=`ref:${this.type}:${e}`;return}if(!this.separator){this.display=`ref:${e}`;return}if(!this.ancestor){this.display=`ref:${this.separator}${e}`;return}if(this.ancestor==="root"){this.display=`ref:root:${e}`;return}if(this.ancestor===1){this.display=`ref:${e||".."}`;return}let t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}};Lc.Ref.prototype[eA.symbols.ref]=!0;Uc.build=function(e){return e=Object.assign({},Lc.defaults,e),e.type==="value"&&e.ancestor===void 0&&(e.ancestor=1),new Lc.Ref(e)};Lc.context=function(e,t,r={}){if(e=e.trim(),r){let n=r.global===void 0?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};let s=r.local===void 0?"#":r.local;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"local"};let i=r.root===void 0?"/":r.root;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"value",root:!0}}return{key:e,type:"value"}};Lc.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]};Uc.toSibling=0;Uc.toParent=1;Uc.Manager=class{constructor(){this.refs=[]}register(e,t){if(e){if(t=t===void 0?Uc.toParent:t,Array.isArray(e)){for(let r of e)this.register(r,t);return}if(eA.isSchema(e)){for(let r of e._refs.refs)r.ancestor-t>=0&&this.refs.push({ancestor:r.ancestor-t,root:r.root});return}Uc.isRef(e)&&e.type==="value"&&e.ancestor-t>=0&&this.refs.push({ancestor:e.ancestor-t,root:e.root}),cK=cK||Np(),cK.isTemplate(e)&&this.register(e.refs(),t)}}get length(){return this.refs.length}clone(){let e=new Uc.Manager;return e.refs=xqt(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}});var Np=E((Xbe,Jbe)=>{"use strict";var bM=hr(),Pqt=Ko(),Rqt=$be(),Iqt=zbe(),Wbe=An(),Vbe=wm(),Kbe=xm(),Mr={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};Jbe.exports=Xbe=Mr.Template=class{constructor(e,t){if(bM(typeof e=="string","Template source must be a string"),bM(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,t){let{functions:r,...n}=t;this._settings=Object.keys(n).length?Pqt(n):void 0,this._functions=r,this._functions&&(bM(Object.keys(this._functions).every(s=>typeof s=="string"),"Functions keys must be strings"),bM(Object.values(this._functions).every(s=>typeof s=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;let e=Mr.encode(this.source),t=Mr.split(e),r=!1,n=[],s=t.shift();s&&n.push(s);for(let i of t){let o=i[0]!=="{",a=o?"}":"}}",c=i.indexOf(a);if(c===-1||i[1]==="{"){n.push(`{${Mr.decode(i)}`);continue}let l=i.slice(o?0:1,c),d=l[0]===":";d&&(l=l.slice(1));let u=this._ref(Mr.decode(l),{raw:o,wrapped:d});n.push(u),typeof u!="string"&&(r=!0);let f=i.slice(c+a.length);f&&n.push(Mr.decode(f))}if(!r){this.rendered=n.join("");return}this._template=n}static date(e,t){return Mr.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;let t={template:this.source};return this._settings&&(t.options=this._settings),this._functions&&(t.functions=this._functions),t}static build(e){return new Mr.Template(e.template,e.options||e.functions?{...e.options,functions:e.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(e){return e?!!e[Wbe.symbols.template]:!1}refs(){if(!this._template)return;let e=[];for(let t of this._template)typeof t!="string"&&e.push(...t.refs);return e}resolve(e,t,r,n){return this._template&&this._template.length===1?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,r,n,s={}){if(!this.isDynamic())return this.rendered;let i=[];for(let o of this._template)if(typeof o=="string")i.push(o);else{let a=this._part(o,e,t,r,n,s),c=Mr.stringify(a,e,t,r,n,s);if(c!==void 0){let l=o.raw||(s.errors&&s.errors.escapeHtml)===!1?c:Rqt(c);i.push(Mr.wrap(l,o.wrapped&&r.errors.wrap.label))}}return i.join("")}_ref(e,{raw:t,wrapped:r}){let n=[],s=o=>{let a=Kbe.create(o,this._settings);return n.push(a),c=>{let l=a.resolve(...c);return l!==void 0?l:null}};try{let o=this._functions?{...Mr.functions,...this._functions}:Mr.functions;var i=new Iqt.Parser(e,{reference:s,functions:o,constants:Mr.constants})}catch(o){throw o.message=`Invalid template variable "${e}" fails due to: ${o.message}`,o}if(i.single){if(i.single.type==="reference"){let o=n[0];return{ref:o,raw:t,refs:n,wrapped:r||o.type==="local"&&o.key==="label"}}return Mr.stringify(i.single.value)}return{formula:i,raw:t,refs:n}}toString(){return this.source}};Mr.Template.prototype[Wbe.symbols.template]=!0;Mr.Template.prototype.isImmutable=!0;Mr.encode=function(e){return e.replace(/\\(\{+)/g,(t,r)=>Mr.opens.slice(0,r.length)).replace(/\\(\}+)/g,(t,r)=>Mr.closes.slice(0,r.length))};Mr.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")};Mr.split=function(e){let t=[],r="";for(let n=0;n<e.length;++n){let s=e[n];if(s==="{"){let i="";for(;n+1<e.length&&e[n+1]==="{";)i+="{",++n;t.push(r),r=i}else r+=s}return t.push(r),t};Mr.wrap=function(e,t){return t?t.length===1?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e};Mr.stringify=function(e,t,r,n,s,i={}){let o=typeof e,a=n&&n.errors&&n.errors.wrap||{},c=!1;if(Kbe.isRef(e)&&e.render&&(c=e.in,e=e.resolve(t,r,n,s,{in:e.in,...i})),e===null)return"null";if(o==="string")return Mr.wrap(e,i.arrayItems&&a.string);if(o==="number"||o==="function"||o==="symbol")return e.toString();if(o!=="object")return JSON.stringify(e);if(e instanceof Date)return Mr.Template.date(e,n);if(e instanceof Map){let d=[];for(let[u,f]of e.entries())d.push(`${u.toString()} -> ${f.toString()}`);e=d}if(!Array.isArray(e))return e.toString();let l=[];for(let d of e)l.push(Mr.stringify(d,t,r,n,s,{arrayItems:!0,...i}));return Mr.wrap(l.join(", "),!c&&a.array)};Mr.constants={true:!0,false:!1,null:null,second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3};Mr.functions={if(e,t,r){return e?t:r},length(e){return typeof e=="string"?e.length:!e||typeof e!="object"?null:Array.isArray(e)?e.length:Object.keys(e).length},msg(e){let[t,r,n,s,i]=this,o=i.messages;if(!o)return"";let a=Vbe.template(t,o[0],e,r,n)||Vbe.template(t,o[1],e,r,n);return a?a.render(t,r,n,s,i):""},number(e){return typeof e=="number"?e:typeof e=="string"?parseFloat(e):typeof e=="boolean"?e?1:0:e instanceof Date?e.getTime():null}}});var Lv=E(tA=>{"use strict";var ay=hr(),Ybe=Ko(),nc=Np();tA.compile=function(e,t){if(typeof e=="string")return ay(!t,"Cannot set single message string"),new nc(e);if(nc.isTemplate(e))return ay(!t,"Cannot set single message template"),e;ay(typeof e=="object"&&!Array.isArray(e),"Invalid message options"),t=t?Ybe(t):{};for(let r in e){let n=e[r];if(r==="root"||nc.isTemplate(n)){t[r]=n;continue}if(typeof n=="string"){t[r]=new nc(n);continue}ay(typeof n=="object"&&!Array.isArray(n),"Invalid message for",r);let s=r;t[s]=t[s]||{};for(r in n){let i=n[r];if(r==="root"||nc.isTemplate(i)){t[s][r]=i;continue}ay(typeof i=="string","Invalid message for",r,"in",s),t[s][r]=new nc(i)}}return t};tA.decompile=function(e){let t={};for(let r in e){let n=e[r];if(r==="root"){t.root=n;continue}if(nc.isTemplate(n)){t[r]=n.describe({compact:!0});continue}let s=r;t[s]={};for(r in n){let i=n[r];if(r==="root"){t[s].root=i;continue}t[s][r]=i.describe({compact:!0})}}return t};tA.merge=function(e,t){if(!e)return tA.compile(t);if(!t)return e;if(typeof t=="string")return new nc(t);if(nc.isTemplate(t))return t;let r=Ybe(e);for(let n in t){let s=t[n];if(n==="root"||nc.isTemplate(s)){r[n]=s;continue}if(typeof s=="string"){r[n]=new nc(s);continue}ay(typeof s=="object"&&!Array.isArray(s),"Invalid message for",n);let i=n;r[i]=r[i]||{};for(n in s){let o=s[n];if(n==="root"||nc.isTemplate(o)){r[i][n]=o;continue}ay(typeof o=="string","Invalid message for",n,"in",i),r[i][n]=new nc(o)}}return r}});var An=E(Pn=>{"use strict";var wM=hr(),Tqt=nK(),Oqt=qbe(),lK,dK,Nqt={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};Pn.version=Oqt.version;Pn.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1};Pn.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")};Pn.assertOptions=function(e,t,r="Options"){wM(e&&typeof e=="object"&&!Array.isArray(e),"Options must be of type object");let n=Object.keys(e).filter(s=>!t.includes(s));wM(n.length===0,`${r} contain unknown keys: ${n}`)};Pn.checkPreferences=function(e){dK=dK||CM();let t=dK.preferences.validate(e);if(t.error)throw new Tqt([t.error.details[0].message])};Pn.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}};Pn.default=function(e,t){return e===void 0?t:e};Pn.isIsoDate=function(e){return Nqt.isoDate.test(e)};Pn.isNumber=function(e){return typeof e=="number"&&!isNaN(e)};Pn.isResolvable=function(e){return e?e[Pn.symbols.ref]||e[Pn.symbols.template]:!1};Pn.isSchema=function(e,t={}){let r=e&&e[Pn.symbols.any];return r?(wM(t.legacy||r.version===Pn.version,"Cannot mix different versions of joi schemas"),!0):!1};Pn.isValues=function(e){return e[Pn.symbols.values]};Pn.limit=function(e){return Number.isSafeInteger(e)&&e>=0};Pn.preferences=function(e,t){lK=lK||Lv(),e=e||{},t=t||{};let r=Object.assign({},e,t);return t.errors&&e.errors&&(r.errors=Object.assign({},e.errors,t.errors),r.errors.wrap=Object.assign({},e.errors.wrap,t.errors.wrap)),t.messages&&(r.messages=lK.compile(t.messages,e.messages)),delete r[Pn.symbols.prefs],r};Pn.tryWithPath=function(e,t,r={}){try{return e()}catch(n){throw n.path!==void 0?n.path=t+"."+n.path:n.path=t,r.append&&(n.message=`${n.message} (${n.path})`),n}};Pn.validateArg=function(e,t,{assert:r,message:n}){if(Pn.isSchema(r)){let s=r.validate(e);return s.error?s.error.message:void 0}else if(!r(e))return t?`${t} ${n}`:n};Pn.verifyFlat=function(e,t){for(let r of e)wM(!Array.isArray(r),"Method no longer accepts array arguments:",t)}});var uK=E(Qbe=>{"use strict";var Dqt=hr(),kqt=Ko(),Mqt=An(),Uv={max:1e3,supported:new Set(["undefined","boolean","number","string"])};Qbe.provider={provision(e){return new Uv.Cache(e)}};Uv.Cache=class{constructor(e={}){Mqt.assertOptions(e,["max"]),Dqt(e.max===void 0||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||Uv.max,this._map=new Map,this._list=new Uv.List}get length(){return this._map.size}set(e,t){if(e!==null&&!Uv.supported.has(typeof e))return;let r=this._map.get(e);if(r){r.value=t,this._list.first(r);return}r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){let t=this._map.get(e);if(t)return this._list.first(t),kqt(t.value)}_compact(){if(this._map.size>this._max){let e=this._list.pop();this._map.delete(e.key)}}};Uv.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){let{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}});var cy=E(Am=>{"use strict";var Ss=hr(),sc=An(),Bv=xm(),Bc={};Am.schema=function(e,t,r={}){sc.assertOptions(r,["appendPath","override"]);try{return Bc.schema(e,t,r)}catch(n){throw r.appendPath&&n.path!==void 0&&(n.message=`${n.message} (${n.path})`),n}};Bc.schema=function(e,t,r){Ss(t!==void 0,"Invalid undefined schema"),Array.isArray(t)&&(Ss(t.length,"Invalid empty array schema"),t.length===1&&(t=t[0]));let n=(s,...i)=>r.override!==!1?s.valid(e.override,...i):s.valid(...i);if(Bc.simple(t))return n(e,t);if(typeof t=="function")return e.custom(t);if(Ss(typeof t=="object","Invalid schema content:",typeof t),sc.isResolvable(t))return n(e,t);if(sc.isSchema(t))return t;if(Array.isArray(t)){for(let s of t)if(!Bc.simple(s))return e.alternatives().try(...t);return n(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?n(e.date(),t):(Ss(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))};Am.ref=function(e,t){return Bv.isRef(e)?e:Bv.create(e,t)};Am.compile=function(e,t,r={}){sc.assertOptions(r,["legacy"]);let n=t&&t[sc.symbols.any];if(n)return Ss(r.legacy||n.version===sc.version,"Cannot mix different versions of joi schemas:",n.version,sc.version),t;if(typeof t!="object"||!r.legacy)return Am.schema(e,t,{appendPath:!0});let s=Bc.walk(t);return s?s.compile(s.root,t):Am.schema(e,t,{appendPath:!0})};Bc.walk=function(e){if(typeof e!="object")return null;if(Array.isArray(e)){for(let r of e){let n=Bc.walk(r);if(n)return n}return null}let t=e[sc.symbols.any];if(t)return{root:e[t.root],compile:t.compile};Ss(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(let r in e){let n=Bc.walk(e[r]);if(n)return n}return null};Bc.simple=function(e){return e===null||["boolean","string","number"].includes(typeof e)};Am.when=function(e,t,r){if(r===void 0&&(Ss(t&&typeof t=="object","Missing options"),r=t,t=Bv.create(".")),Array.isArray(r)&&(r={switch:r}),sc.assertOptions(r,["is","not","then","otherwise","switch","break"]),sc.isSchema(t))return Ss(r.is===void 0,'"is" can not be used with a schema condition'),Ss(r.not===void 0,'"not" can not be used with a schema condition'),Ss(r.switch===void 0,'"switch" can not be used with a schema condition'),Bc.condition(e,{is:t,then:r.then,otherwise:r.otherwise,break:r.break});if(Ss(Bv.isRef(t)||typeof t=="string","Invalid condition:",t),Ss(r.not===void 0||r.is===void 0,'Cannot combine "is" with "not"'),r.switch===void 0){let s=r;r.not!==void 0&&(s={is:r.not,then:r.otherwise,otherwise:r.then,break:r.break});let i=s.is!==void 0?e.$_compile(s.is):e.$_root.invalid(null,!1,0,"").required();return Ss(s.then!==void 0||s.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),Ss(s.break===void 0||s.then===void 0||s.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),r.is!==void 0&&!Bv.isRef(r.is)&&!sc.isSchema(r.is)&&(i=i.required()),Bc.condition(e,{ref:Am.ref(t),is:i,then:s.then,otherwise:s.otherwise,break:s.break})}Ss(Array.isArray(r.switch),'"switch" must be an array'),Ss(r.is===void 0,'Cannot combine "switch" with "is"'),Ss(r.not===void 0,'Cannot combine "switch" with "not"'),Ss(r.then===void 0,'Cannot combine "switch" with "then"');let n={ref:Am.ref(t),switch:[],break:r.break};for(let s=0;s<r.switch.length;++s){let i=r.switch[s],o=s===r.switch.length-1;sc.assertOptions(i,o?["is","then","otherwise"]:["is","then"]),Ss(i.is!==void 0,'Switch statement missing "is"'),Ss(i.then!==void 0,'Switch statement missing "then"');let a={is:e.$_compile(i.is),then:e.$_compile(i.then)};if(!Bv.isRef(i.is)&&!sc.isSchema(i.is)&&(a.is=a.is.required()),o){Ss(r.otherwise===void 0||i.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let c=r.otherwise!==void 0?r.otherwise:i.otherwise;c!==void 0&&(Ss(n.break===void 0,"Cannot specify both otherwise and break"),a.otherwise=e.$_compile(c))}n.switch.push(a)}return n};Bc.condition=function(e,t){for(let r of["then","otherwise"])t[r]===void 0?delete t[r]:t[r]=e.$_compile(t[r]);return t}});var mK=E(ewe=>{"use strict";var Dp=hr(),Lqt=Ko(),Zbe=An(),Uqt=Lv(),Zd={};ewe.type=function(e,t){let r=Object.getPrototypeOf(e),n=Lqt(r),s=e._assign(Object.create(n)),i=Object.assign({},t);delete i.base,n._definition=i;let o=r._definition||{};i.messages=Uqt.merge(o.messages,i.messages),i.properties=Object.assign({},o.properties,i.properties),s.type=i.type,i.flags=Object.assign({},o.flags,i.flags);let a=Object.assign({},o.terms);if(i.terms)for(let u in i.terms){let f=i.terms[u];Dp(s.$_terms[u]===void 0,"Invalid term override for",i.type,u),s.$_terms[u]=f.init,a[u]=f}i.terms=a,i.args||(i.args=o.args),i.prepare=Zd.prepare(i.prepare,o.prepare),i.coerce&&(typeof i.coerce=="function"&&(i.coerce={method:i.coerce}),i.coerce.from&&!Array.isArray(i.coerce.from)&&(i.coerce={method:i.coerce.method,from:[].concat(i.coerce.from)})),i.coerce=Zd.coerce(i.coerce,o.coerce),i.validate=Zd.validate(i.validate,o.validate);let c=Object.assign({},o.rules);if(i.rules)for(let u in i.rules){let f=i.rules[u];Dp(typeof f=="object","Invalid rule definition for",i.type,u);let p=f.method;if(p===void 0&&(p=function(){return this.$_addRule(u)}),p&&(Dp(!n[u],"Rule conflict in",i.type,u),n[u]=p),Dp(!c[u],"Rule conflict in",i.type,u),c[u]=f,f.alias){let g=[].concat(f.alias);for(let S of g)n[S]=f.method}f.args&&(f.argsByName=new Map,f.args=f.args.map(g=>(typeof g=="string"&&(g={name:g}),Dp(!f.argsByName.has(g.name),"Duplicated argument name",g.name),Zbe.isSchema(g.assert)&&(g.assert=g.assert.strict().label(g.name)),f.argsByName.set(g.name,g),g)))}i.rules=c;let l=Object.assign({},o.modifiers);if(i.modifiers)for(let u in i.modifiers){Dp(!n[u],"Rule conflict in",i.type,u);let f=i.modifiers[u];Dp(typeof f=="function","Invalid modifier definition for",i.type,u);let p=function(g){return this.rule({[u]:g})};n[u]=p,l[u]=f}if(i.modifiers=l,i.overrides){n._super=r,s.$_super={};for(let u in i.overrides)Dp(r[u],"Cannot override missing",u),i.overrides[u][Zbe.symbols.parent]=r[u],s.$_super[u]=r[u].bind(s);Object.assign(n,i.overrides)}i.cast=Object.assign({},o.cast,i.cast);let d=Object.assign({},o.manifest,i.manifest);return d.build=Zd.build(i.manifest&&i.manifest.build,o.manifest&&o.manifest.build),i.manifest=d,i.rebuild=Zd.rebuild(i.rebuild,o.rebuild),s};Zd.build=function(e,t){return!e||!t?e||t:function(r,n){return t(e(r,n),n)}};Zd.coerce=function(e,t){return!e||!t?e||t:{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,n){let s;if((!t.from||t.from.includes(typeof r))&&(s=t.method(r,n),s)){if(s.errors||s.value===void 0)return s;r=s.value}if(!e.from||e.from.includes(typeof r)){let i=e.method(r,n);if(i)return i}return s}}};Zd.prepare=function(e,t){return!e||!t?e||t:function(r,n){let s=e(r,n);if(s){if(s.errors||s.value===void 0)return s;r=s.value}return t(r,n)||s}};Zd.rebuild=function(e,t){return!e||!t?e||t:function(r){t(r),e(r)}};Zd.validate=function(e,t){return!e||!t?e||t:function(r,n){let s=t(r,n);if(s){if(s.errors&&(!Array.isArray(s.errors)||s.errors.length))return s;r=s.value}return e(r,n)||s}}});var gK=E(pK=>{"use strict";var eu=hr(),xM=Ko(),ly=An(),Bqt=Lv(),twe=xm(),Fqt=Np(),fK,Xo={};pK.describe=function(e){let t=e._definition,r={type:e.type,flags:{},rules:[]};for(let n in e._flags)n[0]!=="_"&&(r.flags[n]=Xo.describe(e._flags[n]));Object.keys(r.flags).length||delete r.flags,e._preferences&&(r.preferences=xM(e._preferences,{shallow:["messages"]}),delete r.preferences[ly.symbols.prefs],r.preferences.messages&&(r.preferences.messages=Bqt.decompile(r.preferences.messages))),e._valids&&(r.allow=e._valids.describe()),e._invalids&&(r.invalid=e._invalids.describe());for(let n of e._rules){if(t.rules[n.name].manifest===!1)continue;let i={name:n.name};for(let o in t.modifiers)n[o]!==void 0&&(i[o]=Xo.describe(n[o]));if(n.args){i.args={};for(let o in n.args){let a=n.args[o];o==="options"&&!Object.keys(a).length||(i.args[o]=Xo.describe(a,{assign:o}))}Object.keys(i.args).length||delete i.args}r.rules.push(i)}r.rules.length||delete r.rules;for(let n in e.$_terms){if(n[0]==="_")continue;eu(!r[n],"Cannot describe schema due to internal name conflict with",n);let s=e.$_terms[n];if(!s)continue;if(s instanceof Map){s.size&&(r[n]=[...s.entries()]);continue}if(ly.isValues(s)){r[n]=s.describe();continue}eu(t.terms[n],"Term",n,"missing configuration");let i=t.terms[n].manifest,o=typeof i=="object";if(!s.length&&!o)continue;let a=[];for(let c of s)a.push(Xo.describe(c));if(o){let{from:c,to:l}=i.mapped;r[n]={};for(let d of a)r[n][d[l]]=d[c];continue}if(i==="single"){eu(a.length===1,"Term",n,"contains more than one item"),r[n]=a[0];continue}r[n]=a}return Xo.validate(e.$_root,r),r};Xo.describe=function(e,t={}){if(Array.isArray(e))return e.map(Xo.describe);if(e===ly.symbols.deepDefault)return{special:"deep"};if(typeof e!="object"||e===null)return e;if(t.assign==="options")return xM(e);if(Buffer&&Buffer.isBuffer(e))return{buffer:e.toString("binary")};if(e instanceof Date)return e.toISOString();if(e instanceof Error)return e;if(e instanceof RegExp)return t.assign==="regex"?e.toString():{regex:e.toString()};if(e[ly.symbols.literal])return{function:e.literal};if(typeof e.describe=="function")return t.assign==="ref"?e.describe().ref:e.describe();let r={};for(let n in e){let s=e[n];s!==void 0&&(r[n]=Xo.describe(s,{assign:n}))}return r};pK.build=function(e,t){return new Xo.Builder(e).parse(t)};Xo.Builder=class{constructor(e){this.joi=e}parse(e){Xo.validate(this.joi,e);let t=this.joi[e.type]()._bare(),r=t._definition;if(e.flags)for(let s in e.flags){let i=r.flags[s]&&r.flags[s].setter||s;eu(typeof t[i]=="function","Invalid flag",s,"for type",e.type),t=t[i](this.build(e.flags[s]))}if(e.preferences&&(t=t.preferences(this.build(e.preferences))),e.allow&&(t=t.allow(...this.build(e.allow))),e.invalid&&(t=t.invalid(...this.build(e.invalid))),e.rules)for(let s of e.rules){eu(typeof t[s.name]=="function","Invalid rule",s.name,"for type",e.type);let i=[];if(s.args){let a={};for(let d in s.args)a[d]=this.build(s.args[d],{assign:d});let c=Object.keys(a),l=r.rules[s.name].args;if(l){eu(c.length<=l.length,"Invalid number of arguments for",e.type,s.name,"(expected up to",l.length,", found",c.length,")");for(let{name:d}of l)i.push(a[d])}else eu(c.length===1,"Invalid number of arguments for",e.type,s.name,"(expected up to 1, found",c.length,")"),i.push(a[c[0]])}t=t[s.name](...i);let o={};for(let a in r.modifiers)s[a]!==void 0&&(o[a]=this.build(s[a]));Object.keys(o).length&&(t=t.rule(o))}let n={};for(let s in e){if(["allow","flags","invalid","whens","preferences","rules","type"].includes(s))continue;eu(r.terms[s],"Term",s,"missing configuration");let i=r.terms[s].manifest;if(i==="schema"){n[s]=e[s].map(o=>this.parse(o));continue}if(i==="values"){n[s]=e[s].map(o=>this.build(o));continue}if(i==="single"){n[s]=this.build(e[s]);continue}if(typeof i=="object"){n[s]={};for(let o in e[s]){let a=e[s][o];n[s][o]=this.parse(a)}continue}n[s]=this.build(e[s])}return e.whens&&(n.whens=e.whens.map(s=>this.build(s))),t=r.manifest.build(t,n),t.$_temp.ruleset=!1,t}build(e,t={}){if(e===null)return null;if(Array.isArray(e))return e.map(n=>this.build(n));if(e instanceof Error)return e;if(t.assign==="options")return xM(e);if(t.assign==="regex")return Xo.regex(e);if(t.assign==="ref")return twe.build(e);if(typeof e!="object")return e;if(Object.keys(e).length===1){if(e.buffer)return eu(Buffer,"Buffers are not supported"),Buffer&&Buffer.from(e.buffer,"binary");if(e.function)return{[ly.symbols.literal]:!0,literal:e.function};if(e.override)return ly.symbols.override;if(e.ref)return twe.build(e.ref);if(e.regex)return Xo.regex(e.regex);if(e.special)return eu(["deep"].includes(e.special),"Unknown special value",e.special),ly.symbols.deepDefault;if(e.value)return xM(e.value)}if(e.type)return this.parse(e);if(e.template)return Fqt.build(e);let r={};for(let n in e)r[n]=this.build(e[n],{assign:n});return r}};Xo.regex=function(e){let t=e.lastIndexOf("/"),r=e.slice(1,t),n=e.slice(t+1);return new RegExp(r,n)};Xo.validate=function(e,t){fK=fK||CM(),e.assert(t,fK.description)}});var rA=E((Lun,rwe)=>{"use strict";var tu=iK(),ao={mismatched:null};rwe.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!ao.isDeepEqual(e,t,r,[])};ao.isDeepEqual=function(e,t,r,n){if(e===t)return e!==0||1/e===1/t;let s=typeof e;if(s!==typeof t||e===null||t===null)return!1;if(s==="function"){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if(s!=="object")return e!==e&&t!==t;let i=ao.getSharedType(e,t,!!r.prototype);switch(i){case tu.buffer:return Buffer&&Buffer.prototype.equals.call(e,t);case tu.promise:return e===t;case tu.regex:return e.toString()===t.toString();case ao.mismatched:return!1}for(let o=n.length-1;o>=0;--o)if(n[o].isSame(e,t))return!0;n.push(new ao.SeenEntry(e,t));try{return!!ao.isDeepEqualObj(i,e,t,r,n)}finally{n.pop()}};ao.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?ao.mismatched:tu.getInternalProto(e);let n=tu.getInternalProto(e);return n!==tu.getInternalProto(t)?ao.mismatched:n};ao.valueOf=function(e){let t=e.valueOf;if(t===void 0)return e;try{return t.call(e)}catch(r){return r}};ao.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)};ao.isSetSimpleEqual=function(e,t){for(let r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0};ao.isDeepEqualObj=function(e,t,r,n,s){let{isDeepEqual:i,valueOf:o,hasOwnEnumerableProperty:a}=ao,{keys:c,getOwnPropertySymbols:l}=Object;if(e===tu.array)if(n.part){for(let g of t)for(let S of r)if(i(g,S,n,s))return!0}else{if(t.length!==r.length)return!1;for(let g=0;g<t.length;++g)if(!i(t[g],r[g],n,s))return!1;return!0}else if(e===tu.set){if(t.size!==r.size)return!1;if(!ao.isSetSimpleEqual(t,r)){let g=new Set(Set.prototype.values.call(r));for(let S of Set.prototype.values.call(t)){if(g.delete(S))continue;let b=!1;for(let A of g)if(i(S,A,n,s)){g.delete(A),b=!0;break}if(!b)return!1}}}else if(e===tu.map){if(t.size!==r.size)return!1;for(let[g,S]of Map.prototype.entries.call(t))if(S===void 0&&!Map.prototype.has.call(r,g)||!i(S,Map.prototype.get.call(r,g),n,s))return!1}else if(e===tu.error&&(t.name!==r.name||t.message!==r.message))return!1;let d=o(t),u=o(r);if((t!==d||r!==u)&&!i(d,u,n,s))return!1;let f=c(t);if(!n.part&&f.length!==c(r).length&&!n.skip)return!1;let p=0;for(let g of f){if(n.skip&&n.skip.includes(g)){r[g]===void 0&&++p;continue}if(!a(r,g)||!i(t[g],r[g],n,s))return!1}if(!n.part&&f.length-p!==c(r).length)return!1;if(n.symbols!==!1){let g=l(t),S=new Set(l(r));for(let b of g){if(!n.skip||!n.skip.includes(b)){if(a(t,b)){if(!a(r,b)||!i(t[b],r[b],n,s))return!1}else if(a(r,b))return!1}S.delete(b)}for(let b of S)if(a(r,b))return!1}return!0};ao.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}});var swe=E(nwe=>{"use strict";nwe.location=function(e=0){let t=Error.prepareStackTrace;Error.prepareStackTrace=(s,i)=>i;let r={};Error.captureStackTrace(r,this);let n=r.stack[e+1];return Error.prepareStackTrace=t,{filename:n.getFileName(),line:n.getLineNumber()}}});var yK=E(hK=>{"use strict";var iwe=rA(),owe=swe(),qqt=wm(),co={codes:{error:1,pass:2,full:3},labels:{0:"never used",1:"always error",2:"always pass"}};hK.setup=function(e){let t=function(){return e._tracer=e._tracer||new co.Tracer,e._tracer};e.trace=t,e[Symbol.for("@hapi/lab/coverage/initialize")]=t,e.untrace=()=>{e._tracer=null}};hK.location=function(e){return e.$_setFlag("_tracerLocation",owe.location(2))};co.Tracer=class{constructor(){this.name="Joi",this._schemas=new Map}_register(e){let t=this._schemas.get(e);if(t)return t.store;let r=new co.Store(e),{filename:n,line:s}=e._flags._tracerLocation||owe.location(5);return this._schemas.set(e,{filename:n,line:s,store:r}),r}_combine(e,t){for(let{store:r}of this._schemas.values())r._combine(e,t)}report(e){let t=[];for(let{filename:r,line:n,store:s}of this._schemas.values()){if(e&&e!==r)continue;let i=[],o=[];for(let[a,c]of s._sources.entries()){if(co.sub(c.paths,o))continue;if(!c.entry){i.push({status:"never reached",paths:[...c.paths]}),o.push(...c.paths);continue}for(let d of["valid","invalid"]){let u=a[`_${d}s`];if(!u)continue;let f=new Set(u._values),p=new Set(u._refs);for(let{value:g,ref:S}of c[d])f.delete(g),p.delete(S);(f.size||p.size)&&i.push({status:[...f,...[...p].map(g=>g.display)],rule:`${d}s`})}let l=a._rules.map(d=>d.name);for(let d of["default","failover"])a._flags[d]!==void 0&&l.push(d);for(let d of l){let u=co.labels[c.rule[d]||0];if(u){let f={rule:d,status:u};c.paths.size&&(f.paths=[...c.paths]),i.push(f)}}}i.length&&t.push({filename:r,line:n,missing:i,severity:"error",message:`Schema missing tests for ${i.map(co.message).join(", ")}`})}return t.length?t:null}};co.Store=class{constructor(e){this.active=!0,this._sources=new Map,this._combos=new Map,this._scan(e)}debug(e,t,r,n){e.mainstay.debug&&e.mainstay.debug.push({type:t,name:r,result:n,path:e.path})}entry(e,t){co.debug(t,{type:"entry"}),this._record(e,r=>{r.entry=!0})}filter(e,t,r,n){co.debug(t,{type:r,...n}),this._record(e,s=>{s[r].add(n)})}log(e,t,r,n,s){co.debug(t,{type:r,name:n,result:s==="full"?"pass":s}),this._record(e,i=>{i[r][n]=i[r][n]||0,i[r][n]|=co.codes[s]})}resolve(e,t,r){if(!e.mainstay.debug)return;let n={type:"resolve",ref:t.display,to:r,path:e.path};e.mainstay.debug.push(n)}value(e,t,r,n,s){if(!e.mainstay.debug||iwe(r,n))return;let i={type:"value",by:t,from:r,to:n,path:e.path};s&&(i.name=s),e.mainstay.debug.push(i)}_record(e,t){let r=this._sources.get(e);if(r){t(r);return}let n=this._combos.get(e);for(let s of n)this._record(s,t)}_scan(e,t){let r=t||[],n=this._sources.get(e);n||(n={paths:new Set,entry:!1,rule:{},valid:new Set,invalid:new Set},this._sources.set(e,n)),r.length&&n.paths.add(r);let s=(i,o)=>{let a=co.id(i,o);this._scan(i,r.concat(a))};e.$_modify({each:s,ref:!1})}_combine(e,t){this._combos.set(e,t)}};co.message=function(e){return`${e.paths?qqt.path(e.paths[0])+(e.rule?":":""):""}${e.rule||""} (${e.status})`};co.id=function(e,{source:t,name:r,path:n,key:s}){return e._flags.id?e._flags.id:s||(r=`@${r}`,t==="terms"?[r,n[Math.min(n.length-1,1)]]:r)};co.sub=function(e,t){for(let r of e)for(let n of t)if(iwe(r.slice(0,n.length),n))return!0;return!1};co.debug=function(e,t){e.mainstay.debug&&(t.path=e.debug?[...e.path,e.debug]:e.path,e.mainstay.debug.push(t))}});var AM=E(($un,lwe)=>{"use strict";var _K=hr(),awe=Ko(),jqt=oK(),cwe={};lwe.exports=cwe.merge=function(e,t,r){if(_K(e&&typeof e=="object","Invalid target value: must be an object"),_K(t==null||typeof t=="object","Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){_K(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let s=0;s<t.length;++s)e.push(awe(t[s],{symbols:r.symbols}));return e}let n=jqt.keys(t,r);for(let s=0;s<n.length;++s){let i=n[s];if(i==="__proto__"||!Object.prototype.propertyIsEnumerable.call(t,i))continue;let o=t[i];if(o&&typeof o=="object"){if(e[i]===o)continue;!e[i]||typeof e[i]!="object"||Array.isArray(e[i])!==Array.isArray(o)||o instanceof Date||Buffer&&Buffer.isBuffer(o)||o instanceof RegExp?e[i]=awe(o,{symbols:r.symbols}):cwe.merge(e[i],o,r)}else(o!=null||r.nullOverride)&&(e[i]=o)}return e}});var dwe=E(PM=>{"use strict";var Pm=hr(),SK=An(),$qt=xm(),ru={};PM.Ids=ru.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let e=new ru.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(let[t,r]of e._byId.entries())Pm(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(let[t,r]of e._byKey.entries())Pm(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){let n=this._collect(e);n.push({schema:r});let s=n.shift(),i={id:s.id,schema:t(s.schema)};Pm(SK.isSchema(i.schema),"adjuster function failed to return a joi schema type");for(let o of n)i={id:o.id,schema:ru.fork(o.schema,i.id,i.schema)};return i.schema}labels(e,t=[]){let r=e[0],n=this._get(r);if(!n)return[...t,...e].join(".");let s=e.slice(1);return t=[...t,n.schema._flags.label||r],s.length?n.schema._ids.labels(s,t):t.join(".")}reach(e,t=[]){let r=e[0],n=this._get(r);Pm(n,"Schema does not contain path",[...t,...e].join("."));let s=e.slice(1);return s.length?n.schema._ids.reach(s,[...t,r]):n.schema}register(e,{key:t}={}){if(!e||!SK.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);let r=e._flags.id;if(r){let n=this._byId.get(r);Pm(!n||n.schema===e,"Cannot add different schemas with the same id:",r),Pm(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(Pm(!this._byKey.has(t),"Schema already contains key:",t),Pm(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],r=[]){let n=e[0],s=this._get(n);Pm(s,"Schema does not contain path",[...t,...e].join(".")),r=[s,...r];let i=e.slice(1);return i.length?s.schema._ids._collect(i,[...t,n],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}};ru.fork=function(e,t,r){let n=(i,{key:o})=>{if(t===(i._flags.id||o))return r},s=PM.schema(e,{each:n,ref:!1});return s?s.$_mutateRebuild():e};PM.schema=function(e,t){let r;for(let n in e._flags){if(n[0]==="_")continue;let s=ru.scan(e._flags[n],{source:"flags",name:n},t);s!==void 0&&(r=r||e.clone(),r._flags[n]=s)}for(let n=0;n<e._rules.length;++n){let s=e._rules[n],i=ru.scan(s.args,{source:"rules",name:s.name},t);if(i!==void 0){r=r||e.clone();let o=Object.assign({},s);o.args=i,r._rules[n]=o,r._singleRules.get(s.name)===s&&r._singleRules.set(s.name,o)}}for(let n in e.$_terms){if(n[0]==="_")continue;let s=ru.scan(e.$_terms[n],{source:"terms",name:n},t);s!==void 0&&(r=r||e.clone(),r.$_terms[n]=s)}return r};ru.scan=function(e,t,r,n,s){let i=n||[];if(e===null||typeof e!="object")return;let o;if(Array.isArray(e)){for(let a=0;a<e.length;++a){let c=t.source==="terms"&&t.name==="keys"&&e[a].key,l=ru.scan(e[a],t,r,[a,...i],c);l!==void 0&&(o=o||e.slice(),o[a]=l)}return o}if(r.schema!==!1&&SK.isSchema(e)||r.ref!==!1&&$qt.isRef(e)){let a=r.each(e,{...t,path:i,key:s});return a===e?void 0:a}for(let a in e){if(a[0]==="_")continue;let c=ru.scan(e[a],t,r,[a,...i],s);c!==void 0&&(o=o||Object.assign({},e),o[a]=c)}return o}});var mwe=E((Gun,uwe)=>{"use strict";uwe.exports=function(){}});var gwe=E((Vun,pwe)=>{"use strict";var zqt=Ko(),fwe=iy(),Hqt=An(),nu={value:Symbol("value")};pwe.exports=nu.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e,t=null,r=null){let n=new nu.State(e,t,this);return r&&n.schemas&&(n.schemas=[nu.schemas(r),...n.schemas]),n}nest(e,t){let r=new nu.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[nu.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new nu.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=zqt(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}};nu.schemas=function(e){return Hqt.isSchema(e)?{schema:e}:e};nu.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length||r==="strip"&&typeof e[e.length-1]=="number")return;this._values=this._values||new Map;let n=this._values;for(let s=0;s<e.length;++s){let i=e[s],o=n.get(i);o||(o=new Map,n.set(i,o)),n=o}n[nu.value]=t}get(e){let t=this.node(e);if(t)return t[nu.value]}node(e){if(this._values)return fwe(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;let r=e.slice(0,-1),n=e[e.length-1],s=fwe(this._values,r,{iterables:!0});if(t){s.set(n,t);return}s&&s.delete(n)}}});var ywe=E(sA=>{"use strict";var nA=hr(),hwe=Ko(),Fv=mwe(),Gqt=iy(),ii=An(),kp=wm(),Vqt=gwe(),ht={result:Symbol("result")};sA.entry=function(e,t,r){let n=ii.defaults;r&&(nA(r.warnings===void 0,"Cannot override warnings preference in synchronous validation"),nA(r.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),n=ii.preferences(ii.defaults,r));let s=ht.entry(e,t,n);nA(!s.mainstay.externals.length,"Schema with external rules must use validateAsync()");let i={value:s.value};return s.error&&(i.error=s.error),s.mainstay.warnings.length&&(i.warning=kp.details(s.mainstay.warnings)),s.mainstay.debug&&(i.debug=s.mainstay.debug),s.mainstay.artifacts&&(i.artifacts=s.mainstay.artifacts),i};sA.entryAsync=async function(e,t,r){let n=ii.defaults;r&&(n=ii.preferences(ii.defaults,r));let s=ht.entry(e,t,n),i=s.mainstay;if(s.error)throw i.debug&&(s.error.debug=i.debug),s.error;if(i.externals.length){let a=s.value,c=[];for(let l of i.externals){let d=l.state.path,u=l.schema.type==="link"?i.links.get(l.schema):null,f=a,p,g,S=d.length?[a]:[],b=d.length?Gqt(e,d):e;if(d.length){p=d[d.length-1];let A=a;for(let P of d.slice(0,-1))A=A[P],S.unshift(A);g=S[0],f=g[p]}try{let A=(M,N)=>(u||l.schema).$_createError(M,f,N,l.state,n),P=await l.method(f,{schema:l.schema,linked:u,state:l.state,prefs:r,original:b,error:A,errorsArray:ht.errorsArray,warn:(M,N)=>i.warnings.push((u||l.schema).$_createError(M,f,N,l.state,n)),message:(M,N)=>(u||l.schema).$_createError("external",f,N,l.state,n,{messages:M})});if(P===void 0||P===f)continue;if(P instanceof kp.Report){if(i.tracer.log(l.schema,l.state,"rule","external","error"),c.push(P),n.abortEarly)break;continue}if(Array.isArray(P)&&P[ii.symbols.errors]){if(i.tracer.log(l.schema,l.state,"rule","external","error"),c.push(...P),n.abortEarly)break;continue}g?(i.tracer.value(l.state,"rule",f,P,"external"),g[p]=P):(i.tracer.value(l.state,"rule",a,P,"external"),a=P)}catch(A){throw n.errors.label&&(A.message+=` (${l.label})`),A}}if(s.value=a,c.length)throw s.error=kp.process(c,e,n),i.debug&&(s.error.debug=i.debug),s.error}if(!n.warnings&&!n.debug&&!n.artifacts)return s.value;let o={value:s.value};return i.warnings.length&&(o.warning=kp.details(i.warnings)),i.debug&&(o.debug=i.debug),i.artifacts&&(o.artifacts=i.artifacts),o};ht.Mainstay=class{constructor(e,t,r){this.externals=[],this.warnings=[],this.tracer=e,this.debug=t,this.links=r,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){let e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}};ht.entry=function(e,t,r){let{tracer:n,cleanup:s}=ht.tracer(t,r),i=r.debug?[]:null,o=t._ids._schemaChain?new Map:null,a=new ht.Mainstay(n,i,o),c=t._ids._schemaChain?[{schema:t}]:null,l=new Vqt([],[],{mainstay:a,schemas:c}),d=sA.validate(e,t,l,r);s&&t.$_root.untrace();let u=kp.process(d.errors,e,r);return{value:d.value,error:u,mainstay:a}};ht.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(nA(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:ht.ignore}};sA.validate=function(e,t,r,n,s={}){if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=ht.prefs(t,n)),t._cache&&n.cache){let u=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!u),u)return u}let i=(u,f,p)=>t.$_createError(u,e,f,p||r,n),o={original:e,prefs:n,schema:t,state:r,error:i,errorsArray:ht.errorsArray,warn:(u,f,p)=>r.mainstay.warnings.push(i(u,f,p)),message:(u,f)=>t.$_createError("custom",e,f,r,n,{messages:u})};r.mainstay.tracer.entry(t,r);let a=t._definition;if(a.prepare&&e!==void 0&&n.convert){let u=a.prepare(e,o);if(u){if(r.mainstay.tracer.value(r,"prepare",e,u.value),u.errors)return ht.finalize(u.value,[].concat(u.errors),o);e=u.value}}if(a.coerce&&e!==void 0&&n.convert&&(!a.coerce.from||a.coerce.from.includes(typeof e))){let u=a.coerce.method(e,o);if(u){if(r.mainstay.tracer.value(r,"coerced",e,u.value),u.errors)return ht.finalize(u.value,[].concat(u.errors),o);e=u.value}}let c=t._flags.empty;c&&c.$_match(ht.trim(e,t),r.nest(c),ii.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);let l=s.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(e===void 0){if(l==="forbidden")return ht.finalize(e,null,o);if(l==="required")return ht.finalize(e,[t.$_createError("any.required",e,null,r,n)],o);if(l==="optional"){if(t._flags.default!==ii.symbols.deepDefault)return ht.finalize(e,null,o);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if(l==="forbidden")return ht.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],o);let d=[];if(t._valids){let u=t._valids.get(e,r,n,t._flags.insensitive);if(u)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,u.value),e=u.value),r.mainstay.tracer.filter(t,r,"valid",u),ht.finalize(e,null,o);if(t._flags.only){let f=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return ht.finalize(e,[f],o);d.push(f)}}if(t._invalids){let u=t._invalids.get(e,r,n,t._flags.insensitive);if(u){r.mainstay.tracer.filter(t,r,"invalid",u);let f=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return ht.finalize(e,[f],o);d.push(f)}}if(a.validate){let u=a.validate(e,o);if(u&&(r.mainstay.tracer.value(r,"base",e,u.value),e=u.value,u.errors)){if(!Array.isArray(u.errors))return d.push(u.errors),ht.finalize(e,d,o);if(u.errors.length)return d.push(...u.errors),ht.finalize(e,d,o)}}return t._rules.length?ht.rules(e,d,o):ht.finalize(e,d,o)};ht.rules=function(e,t,r){let{schema:n,state:s,prefs:i}=r;for(let o of n._rules){let a=n._definition.rules[o.method];if(a.convert&&i.convert){s.mainstay.tracer.log(n,s,"rule",o.name,"full");continue}let c,l=o.args;if(o._resolve.length){l=Object.assign({},l);for(let u of o._resolve){let f=a.argsByName.get(u),p=l[u].resolve(e,s,i),g=f.normalize?f.normalize(p):p,S=ii.validateArg(g,null,f);if(S){c=n.$_createError("any.ref",p,{arg:u,ref:l[u],reason:S},s,i);break}l[u]=g}}c=c||a.validate(e,r,l,o);let d=ht.rule(c,o);if(d.errors){if(s.mainstay.tracer.log(n,s,"rule",o.name,"error"),o.warn){s.mainstay.warnings.push(...d.errors);continue}if(i.abortEarly)return ht.finalize(e,d.errors,r);t.push(...d.errors)}else s.mainstay.tracer.log(n,s,"rule",o.name,"pass"),s.mainstay.tracer.value(s,"rule",e,d.value,o.name),e=d.value}return ht.finalize(e,t,r)};ht.rule=function(e,t){return e instanceof kp.Report?(ht.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[ii.symbols.errors]?(e.forEach(r=>ht.error(r,t)),{errors:e,value:null}):{errors:null,value:e}};ht.error=function(e,t){return t.message&&e._setTemplate(t.message),e};ht.finalize=function(e,t,r){t=t||[];let{schema:n,state:s,prefs:i}=r;if(t.length){let a=ht.default("failover",void 0,t,r);a!==void 0&&(s.mainstay.tracer.value(s,"failover",e,a),e=a,t=[])}if(t.length&&n._flags.error)if(typeof n._flags.error=="function"){t=n._flags.error(t),Array.isArray(t)||(t=[t]);for(let a of t)nA(a instanceof Error||a instanceof kp.Report,"error() must return an Error object")}else t=[n._flags.error];if(e===void 0){let a=ht.default("default",e,t,r);s.mainstay.tracer.value(s,"default",e,a),e=a}if(n._flags.cast&&e!==void 0){let a=n._definition.cast[n._flags.cast];if(a.from(e)){let c=a.to(e,r);s.mainstay.tracer.value(s,"cast",e,c,n._flags.cast),e=c}}if(n.$_terms.externals&&i.externals&&i._externals!==!1)for(let{method:a}of n.$_terms.externals)s.mainstay.externals.push({method:a,schema:n,state:s,label:kp.label(n._flags,s,i)});let o={value:e,errors:t.length?t:null};return n._flags.result&&(o.value=n._flags.result==="strip"?void 0:r.original,s.mainstay.tracer.value(s,n._flags.result,e,o.value),s.shadow(e,n._flags.result)),n._cache&&i.cache!==!1&&!n._refs.length&&n._cache.set(r.original,o),e!==void 0&&!o.errors&&n._flags.artifact!==void 0&&(s.mainstay.artifacts=s.mainstay.artifacts||new Map,s.mainstay.artifacts.has(n._flags.artifact)||s.mainstay.artifacts.set(n._flags.artifact,[]),s.mainstay.artifacts.get(n._flags.artifact).push(s.path)),o};ht.prefs=function(e,t){let r=t===ii.defaults;return r&&e._preferences[ii.symbols.prefs]?e._preferences[ii.symbols.prefs]:(t=ii.preferences(t,e._preferences),r&&(e._preferences[ii.symbols.prefs]=t),t)};ht.default=function(e,t,r,n){let{schema:s,state:i,prefs:o}=n,a=s._flags[e];if(o.noDefaults||a===void 0)return t;if(i.mainstay.tracer.log(s,i,"rule",e,"full"),!a)return a;if(typeof a=="function"){let c=a.length?[hwe(i.ancestors[0]),n]:[];try{return a(...c)}catch(l){r.push(s.$_createError(`any.${e}`,null,{error:l},i,o));return}}return typeof a!="object"?a:a[ii.symbols.literal]?a.literal:ii.isResolvable(a)?a.resolve(t,i,o):hwe(a)};ht.trim=function(e,t){if(typeof e!="string")return e;let r=t.$_getRule("trim");return!r||!r.args.enabled?e:e.trim()};ht.ignore={active:!1,debug:Fv,entry:Fv,filter:Fv,log:Fv,resolve:Fv,value:Fv};ht.errorsArray=function(){let e=[];return e[ii.symbols.errors]=!0,e}});var EK=E((Yun,Swe)=>{"use strict";var Wqt=hr(),_we=rA(),vK=An(),Rm={};Swe.exports=Rm.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=Rm.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){if(vK.isResolvable(e)){this._refs.has(e)||(this._refs.add(e),t&&t.register(e));return}this.has(e,null,null,!1)||(this._values.add(e),typeof e=="string"&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new Rm.Values,t){if(t._override)return t.clone();for(let n of[...t._values,...t._refs])e.add(n)}if(r)for(let n of[...r._values,...r._refs])e.remove(n);return e.length?e:null}remove(e){if(vK.isResolvable(e)){this._refs.delete(e);return}this._values.delete(e),typeof e=="string"&&this._lowercase.delete(e.toLowerCase())}has(e,t,r,n){return!!this.get(e,t,r,n)}get(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if(typeof e=="string"&&e&&n){let s=this._lowercase.get(e.toLowerCase());if(s)return{value:s}}if(!this._refs.size&&typeof e!="object")return!1;if(typeof e=="object"){for(let s of this._values)if(_we(s,e))return{value:s}}if(t)for(let s of this._refs){let i=s.resolve(e,t,r,null,{in:!0});if(i===void 0)continue;let o=!s.in||typeof i!="object"?[i]:Array.isArray(i)?i:Object.keys(i);for(let a of o)if(typeof a==typeof e){if(n&&e&&typeof e=="string"){if(a.toLowerCase()===e.toLowerCase())return{value:a,ref:s}}else if(_we(a,e))return{value:a,ref:s}}}return!1}override(){this._override=!0}values(e){if(e&&e.display){let t=[];for(let r of[...this._values,...this._refs])r!==void 0&&t.push(r);return t}return Array.from([...this._values,...this._refs])}clone(){let e=new Rm.Values(this._values,this._refs);return e._override=this._override,e}concat(e){Wqt(!e._override,"Cannot concat override set of values");let t=new Rm.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){let e=[];this._override&&e.push({override:!0});for(let t of this._values.values())e.push(t&&typeof t=="object"?{value:t}:t);for(let t of this._refs.values())e.push(t.describe());return e}};Rm.Values.prototype[vK.symbols.values]=!0;Rm.Values.prototype.slice=Rm.Values.prototype.clone;Rm.lowercases=function(e){let t=new Map;if(e)for(let r of e)typeof r=="string"&&t.set(r.toLowerCase(),r);return t}});var Pwe=E((Zun,Awe)=>{"use strict";var qe=hr(),vwe=Ko(),Ewe=rA(),CK=AM(),Kqt=uK(),Ts=An(),bK=cy(),Xqt=wm(),Jqt=mK(),Cwe=gK(),Yqt=Lv(),bwe=dwe(),wwe=xm(),xwe=yK(),RM=ywe(),IM=EK(),_i={};_i.Base=class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new bwe.Ids,this._preferences=null,this._refs=new wwe.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return qe(typeof Cwe.describe=="function","Manifest functionality disabled"),Cwe.describe(this)}allow(...e){return Ts.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){qe(e&&typeof e=="object"&&!Array.isArray(e),"Invalid targets argument"),qe(!this._inRuleset(),"Cannot set alterations inside a ruleset");let t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(let r in e){let n=e[r];qe(typeof n=="function","Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:n})}return t.$_temp.ruleset=!1,t}artifact(e){return qe(e!==void 0,"Artifact cannot be undefined"),qe(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return qe(e===!1||typeof e=="string","Invalid to value"),qe(e===!1||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",e===!1?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return qe(e&&typeof e=="string","Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){let t=this.clone();return e!==void 0&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return qe(e,"Missing error"),qe(e instanceof Error||typeof e=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return qe(e!==void 0,"Missing example"),Ts.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return typeof e=="object"&&(qe(!t,"Cannot combine options with description"),t=e.description,e=e.method),qe(typeof e=="function","Method must be a function"),qe(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(qe(typeof e=="string","id must be a non-empty string"),qe(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return qe(e&&typeof e=="string","Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return qe(e!==void 0,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){qe(e.length,"Missing notes");for(let t of e)qe(t&&typeof t=="string","Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return qe(typeof e=="boolean","Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){qe(e,"Missing preferences"),qe(e.context===void 0,"Cannot override context"),qe(e.externals===void 0,"Cannot override externals"),qe(e.warnings===void 0,"Cannot override warnings"),qe(e.debug===void 0,"Cannot override debug"),Ts.checkPreferences(e);let t=this.clone();return t._preferences=Ts.preferences(t._preferences,e),t}presence(e){return qe(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return qe(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){let t=this.clone(),r=e===void 0?!1:!e;return t._preferences=Ts.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){qe(e.length,"Missing tags");for(let t of e)qe(t&&typeof t=="string","Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return qe(e&&typeof e=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){Ts.verifyFlat(e,"valid");let t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){let r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);let n=bK.when(r,e,t);if(!["any","link"].includes(r.type)){let s=n.is?[n]:n.switch;for(let i of s)qe(!i.then||i.then.type==="any"||i.then.type===r.type,"Cannot combine",r.type,"with",i.then&&i.then.type),qe(!i.otherwise||i.otherwise.type==="any"||i.otherwise.type===r.type,"Cannot combine",r.type,"with",i.otherwise&&i.otherwise.type)}return r.$_terms.whens.push(n),r.$_mutateRebuild()}cache(e){qe(!this._inRuleset(),"Cannot set caching inside a ruleset"),qe(!this._cache,"Cannot override schema cache"),qe(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");let t=this.clone();return t._cache=e||Kqt.provider.provision(),t.$_temp.ruleset=!1,t}clone(){let e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){qe(Ts.isSchema(e),"Invalid schema object"),qe(this.type==="any"||e.type==="any"||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),qe(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),qe(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if(this.type==="any"&&e.type!=="any"){let r=e.clone();for(let n of Object.keys(t))n!=="type"&&(r[n]=t[n]);t=r}t._ids.concat(e._ids),t._refs.register(e,wwe.toSibling),t._preferences=t._preferences?Ts.preferences(t._preferences,e._preferences):e._preferences,t._valids=IM.merge(t._valids,e._valids,e._invalids),t._invalids=IM.merge(t._invalids,e._invalids,e._valids);for(let r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter(n=>n.keep||n.name!==r),t._singleRules.delete(r));for(let r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);let r=Object.assign({},e._flags);delete r.empty,CK(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;let r=Object.assign({},e._flags);delete r.empty,CK(t._flags,r)}else CK(t._flags,e._flags);for(let r in e.$_terms){let n=e.$_terms[r];if(!n){t.$_terms[r]||(t.$_terms[r]=n);continue}if(!t.$_terms[r]){t.$_terms[r]=n.slice();continue}t.$_terms[r]=t.$_terms[r].concat(n)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return qe(!e.base,"Cannot extend type with another base"),Jqt.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){qe(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let n of[].concat(e))n=Array.isArray(n)?n:n.split("."),r=r._ids.fork(n,t,r);return r.$_temp.ruleset=!1,r}rule(e){let t=this._definition;Ts.assertOptions(e,Object.keys(t.modifiers)),qe(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");let r=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;qe(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");let n=this.clone();for(let s=r;s<n._rules.length;++s){let i=n._rules[s],o=vwe(i);for(let a in e)t.modifiers[a](o,e[a]),qe(o.name===i.name,"Cannot change rule name");n._rules[s]=o,n._singleRules.get(o.name)===i&&n._singleRules.set(o.name,o)}return n.$_temp.ruleset=!1,n.$_mutateRebuild()}get ruleset(){qe(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");let e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),qe(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(let{target:r,adjuster:n}of this.$_terms.alterations)e.includes(r)&&(t=n(t),qe(Ts.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:r=>r.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return xwe.location?xwe.location(this):this}validate(e,t){return RM.entry(e,this,t)}validateAsync(e,t){return RM.entryAsync(e,this,t)}$_addRule(e){typeof e=="string"&&(e={name:e}),qe(e&&typeof e=="object","Invalid options"),qe(e.name&&typeof e.name=="string","Invalid rule name");for(let i in e)qe(i[0]!=="_","Cannot set private rule properties");let t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;let r=this._definition.rules[t.method],n=t.args;qe(r,"Unknown rule",t.method);let s=this.clone();if(n){qe(Object.keys(n).length===1||Object.keys(n).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(let i in n){let o=n[i];if(r.argsByName){let a=r.argsByName.get(i);if(a.ref&&Ts.isResolvable(o))t._resolve.push(i),s.$_mutateRegister(o);else if(a.normalize&&(o=a.normalize(o),n[i]=o),a.assert){let c=Ts.validateArg(o,i,a);qe(!c,c,"or reference")}}if(o===void 0){delete n[i];continue}n[i]=o}}return r.multi||(s._ruleRemove(t.name,{clone:!1}),s._singleRules.set(t.name,t)),s.$_temp.ruleset===!1&&(s.$_temp.ruleset=null),r.priority?s._rules.unshift(t):s._rules.push(t),s}$_compile(e,t){return bK.schema(this.$_root,e,t)}$_createError(e,t,r,n,s,i={}){let o=i.flags!==!1?this._flags:{},a=i.messages?Yqt.merge(this._definition.messages,i.messages):this._definition.messages;return new Xqt.Report(e,t,r,o,a,n,s)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,n){r=Object.assign({},r),r.abortEarly=!0,r._externals=!1,t.snapshot();let s=!RM.validate(e,this,t,r,n).errors;return t.restore(),s}$_modify(e){return Ts.assertOptions(e,["each","once","ref","schema"]),bwe.schema(this,e)||this}$_mutateRebuild(){qe(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset();let e=(t,{source:r,name:n,path:s,key:i})=>{let o=this._definition[r][n]&&this._definition[r][n].register;o!==!1&&this.$_mutateRegister(t,{family:o,key:i})};return this.$_modify({each:e}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){qe(e[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");let n=this._definition.flags[e]||{};if(Ewe(t,n.default)&&(t=void 0),Ewe(t,this._flags[e]))return this;let s=r.clone!==!1?this.clone():this;return t!==void 0?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],e[0]!=="_"&&(s.$_temp.ruleset=!1),s}$_parent(e,...t){return this[e][Ts.symbols.parent].call(this,...t)}$_validate(e,t,r){return RM.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=vwe(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(let t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(let t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){let e=this.clone();e._reset();let t=e._definition.terms;for(let r in t){let n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}_default(e,t,r={}){return Ts.assertOptions(r,"literal"),qe(t!==void 0,"Missing",e,"value"),qe(typeof t=="function"||!r.literal,"Only function value supports literal option"),typeof t=="function"&&r.literal&&(t={[Ts.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};let n=[],s=[];for(let a=0;a<this.$_terms.whens.length;++a){let c=this.$_terms.whens[a];if(c.concat){n.push(c.concat),s.push(`${a}.concat`);continue}let l=c.ref?c.ref.resolve(e,t,r):e,d=c.is?[c]:c.switch,u=s.length;for(let f=0;f<d.length;++f){let{is:p,then:g,otherwise:S}=d[f],b=`${a}${c.switch?"."+f:""}`;if(p.$_match(l,t.nest(p,`${b}.is`),r)){if(g){let A=t.localize([...t.path,`${b}.then`],t.ancestors,t.schemas),{schema:P,id:M}=g._generate(e,A,r);n.push(P),s.push(`${b}.then${M?`(${M})`:""}`);break}}else if(S){let A=t.localize([...t.path,`${b}.otherwise`],t.ancestors,t.schemas),{schema:P,id:M}=S._generate(e,A,r);n.push(P),s.push(`${b}.otherwise${M?`(${M})`:""}`);break}}if(c.break&&s.length>u)break}let i=s.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",i),!i)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[i])return{schema:this.$_temp.whens[i],id:i};let o=this;this._definition.generate&&(o=this._definition.generate(this,e,t,r));for(let a of n)o=o.concat(a);return this.$_root._tracer&&this.$_root._tracer._combine(o,[this,...n]),this.$_temp.whens[i]=o,{schema:o,id:i}}_inner(e,t,r={}){qe(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);let n=this.clone();return(!n.$_terms[e]||r.override)&&(n.$_terms[e]=[]),r.single?n.$_terms[e].push(t):n.$_terms[e].push(...t),n.$_temp.ruleset=!1,n}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;let r=t.clone!==!1?this.clone():this;r._singleRules.delete(e);let n=[];for(let s=0;s<r._rules.length;++s){let i=r._rules[s];if(i.name===e&&!i.keep){r._inRuleset()&&s<r.$_temp.ruleset&&--r.$_temp.ruleset;continue}n.push(i)}return r._rules=n,r}_values(e,t){Ts.verifyFlat(e,t.slice(1,-1));let r=this.clone(),n=e[0]===Ts.symbols.override;if(n&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new IM:n&&(r[t]=e.length?new IM:null,r.$_mutateRebuild()),!r[t])return r;n&&r[t].override();for(let s of e){qe(s!==void 0,"Cannot call allow/valid/invalid with undefined"),qe(s!==Ts.symbols.override,"Override must be the first value");let i=t==="_invalids"?"_valids":"_invalids";r[i]&&(r[i].remove(s),r[i].length||(qe(t==="_valids"||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[i]=null)),r[t].add(s,r._refs)}return r}};_i.Base.prototype[Ts.symbols.any]={version:Ts.version,compile:bK.compile,root:"$_root"};_i.Base.prototype.isImmutable=!0;_i.Base.prototype.deny=_i.Base.prototype.invalid;_i.Base.prototype.disallow=_i.Base.prototype.invalid;_i.Base.prototype.equal=_i.Base.prototype.valid;_i.Base.prototype.exist=_i.Base.prototype.required;_i.Base.prototype.not=_i.Base.prototype.invalid;_i.Base.prototype.options=_i.Base.prototype.prefs;_i.Base.prototype.preferences=_i.Base.prototype.prefs;Awe.exports=new _i.Base});var Fc=E((tmn,Rwe)=>{"use strict";var TM=hr(),Qqt=Pwe(),Zqt=An(),ejt=Lv();Rwe.exports=Qqt.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return TM(typeof e=="function","Method must be a function"),TM(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(n){return t.error("any.custom",{error:n})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){TM(Zqt.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");let t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return TM(e&&typeof e=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate(e,t,{code:r,local:n}){return t.error(r,n)},args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=ejt.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(let r in t){let n=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){for(let s of n)e=e[r.slice(0,-1)](s);continue}if(r==="alterations"){let s={};for(let{target:i,adjuster:o}of n)s[i]=o;e=e.alter(s);continue}if(r==="whens"){for(let s of n){let{ref:i,is:o,not:a,then:c,otherwise:l,concat:d}=s;d?e=e.concat(d):i?e=e.when(i,{is:o,not:a,then:c,otherwise:l,switch:s.switch,break:s.break}):e=e.when(o,{then:c,otherwise:l,break:s.break})}continue}if(r==="shared")for(let s of n)e=e.shared(s)}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})});var Owe=E((rmn,Twe)=>{"use strict";var dy=hr(),tjt=AM(),rjt=Fc(),Iwe=An(),njt=cy(),OM=wm(),sjt=xm(),qv={};Twe.exports=rjt.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:sjt.toSibling}},args(e,...t){return t.length===1&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t)},validate(e,t){let{schema:r,error:n,state:s,prefs:i}=t;if(r._flags.match){let a=[],c=[];for(let d=0;d<r.$_terms.matches.length;++d){let u=r.$_terms.matches[d],f=s.nest(u.schema,`match.${d}`);f.snapshot();let p=u.schema.$_validate(e,f,i);p.errors?(c.push(p.errors),f.restore()):(a.push(p.value),f.commit())}if(a.length===0){let d={details:c.map(u=>OM.details(u,{override:!1}))};return{errors:n("alternatives.any",d)}}if(r._flags.match==="one")return a.length===1?{value:a[0]}:{errors:n("alternatives.one")};if(a.length!==r.$_terms.matches.length){let d={details:c.map(u=>OM.details(u,{override:!1}))};return{errors:n("alternatives.all",d)}}let l=d=>d.$_terms.matches.some(u=>u.schema.type==="object"||u.schema.type==="alternatives"&&l(u.schema));return l(r)?{value:a.reduce((d,u)=>tjt(d,u,{mergeArrays:!1}))}:{value:a[a.length-1]}}let o=[];for(let a=0;a<r.$_terms.matches.length;++a){let c=r.$_terms.matches[a];if(c.schema){let u=s.nest(c.schema,`match.${a}`);u.snapshot();let f=c.schema.$_validate(e,u,i);if(!f.errors)return u.commit(),f;u.restore(),o.push({schema:c.schema,reports:f.errors});continue}let l=c.ref?c.ref.resolve(e,s,i):e,d=c.is?[c]:c.switch;for(let u=0;u<d.length;++u){let f=d[u],{is:p,then:g,otherwise:S}=f,b=`match.${a}${c.switch?"."+u:""}`;if(p.$_match(l,s.nest(p,`${b}.is`),i)){if(g)return g.$_validate(e,s.nest(g,`${b}.then`),i)}else if(S)return S.$_validate(e,s.nest(S,`${b}.otherwise`),i)}}return qv.errors(o,t)},rules:{conditional:{method(e,t){dy(!this._flags._endedSwitch,"Unreachable condition"),dy(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),dy(t.break===void 0,"Cannot use break option with alternatives conditional");let r=this.clone(),n=njt.when(r,e,t),s=n.is?[n]:n.switch;for(let i of s)if(i.then&&i.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(n),r.$_mutateRebuild()}},match:{method(e){if(dy(["any","one","all"].includes(e),"Invalid alternatives match mode",e),e!=="any")for(let t of this.$_terms.matches)dy(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){dy(e.length,"Missing alternative schemas"),Iwe.verifyFlat(e,"try"),dy(!this._flags._endedSwitch,"Unreachable condition");let t=this.clone();for(let r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},overrides:{label(e){let t=this.$_parent("label",e),r=(n,s)=>s.path[0]!=="is"&&typeof n._flags.label!="string"?n.label(e):void 0;return t.$_modify({each:r,ref:!1})}},rebuild(e){let t=r=>{Iwe.isSchema(r)&&r.type==="array"&&e.$_setFlag("_arrayItems",!0,{clone:!1})};e.$_modify({each:t})},manifest:{build(e,t){if(t.matches)for(let r of t.matches){let{schema:n,ref:s,is:i,not:o,then:a,otherwise:c}=r;n?e=e.try(n):s?e=e.conditional(s,{is:i,then:a,not:o,otherwise:c,switch:r.switch}):e=e.conditional(i,{then:a,otherwise:c})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}});qv.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(e.length===1)return{errors:e[0].reports};let n=new Set,s=[];for(let{reports:i,schema:o}of e){if(i.length>1)return qv.unmatched(e,t);let a=i[0];if(!(a instanceof OM.Report))return qv.unmatched(e,t);if(a.state.path.length!==r.path.length){s.push({type:o.type,report:a});continue}if(a.code==="any.only"){for(let d of a.local.valids)n.add(d);continue}let[c,l]=a.code.split(".");l!=="base"?s.push({type:o.type,report:a}):a.code==="object.base"?n.add(a.local.type):n.add(c)}return s.length?s.length===1?{errors:s[0].report}:qv.unmatched(e,t):{errors:t("alternatives.types",{types:[...n]})}};qv.unmatched=function(e,t){let r=[];for(let n of e)r.push(...n.reports);return{errors:t("alternatives.match",OM.details(r,{override:!1}))}}});var Dwe=E((nmn,Nwe)=>{"use strict";var iA=hr(),ijt=rA(),ojt=iy(),ajt=Fc(),qc=An(),cjt=cy(),ls={};Nwe.exports=ajt.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:n}){if(!Array.isArray(e))return;let s=t.$_getRule("sort");if(s)return ls.sort(t,e,s.args.options,r,n)}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){let n=[e];return n[qc.symbols.arraySingle]=!0,{value:n}}return{errors:r("array.base")}}if(!(!t.$_getRule("items")&&!t.$_terms.externals))return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});let t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:n},{schema:s}){let i=[e,...t.ancestors];for(let a=0;a<e.length;++a){let c=t.localize([...t.path,a],i,s);if(s.$_match(e[a],c,r))return e}let o=s._flags.label;return o?n("array.hasKnown",{patternLabel:o}):n("array.hasUnknown",null)},multi:!0},items:{method(...e){qc.verifyFlat(e,"items");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let n=qc.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});t.$_terms.items.push(n)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:n,prefs:s,errorsArray:i}){let o=t.$_terms._requireds.slice(),a=t.$_terms.ordered.slice(),c=[...t.$_terms._inclusions,...o],l=!e[qc.symbols.arraySingle];delete e[qc.symbols.arraySingle];let d=i(),u=e.length;for(let f=0;f<u;++f){let p=e[f],g=!1,S=!1,b=l?f:new Number(f),A=[...n.path,b];if(!t._flags.sparse&&p===void 0){if(d.push(r("array.sparse",{key:b,path:A,pos:f,value:void 0},n.localize(A))),s.abortEarly)return d;a.shift();continue}let P=[e,...n.ancestors];for(let G of t.$_terms._exclusions)if(G.$_match(p,n.localize(A,P,G),s,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:f,value:p},n.localize(A))),s.abortEarly)return d;g=!0,a.shift();break}if(g)continue;if(t.$_terms.ordered.length){if(a.length){let G=a.shift(),pe=G.$_validate(p,n.localize(A,P,G),s);if(pe.errors){if(d.push(...pe.errors),s.abortEarly)return d}else if(G._flags.result==="strip")ls.fastSplice(e,f),--f,--u;else if(!t._flags.sparse&&pe.value===void 0){if(d.push(r("array.sparse",{key:b,path:A,pos:f,value:void 0},n.localize(A))),s.abortEarly)return d;continue}else e[f]=pe.value;continue}else if(!t.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:f,limit:t.$_terms.ordered.length})),s.abortEarly)return d;break}}let M=[],N=o.length;for(let G=0;G<N;++G){let pe=n.localize(A,P,o[G]);pe.snapshot();let ne=o[G].$_validate(p,pe,s);if(M[G]=ne,!ne.errors){if(pe.commit(),e[f]=ne.value,S=!0,ls.fastSplice(o,G),--G,--N,!t._flags.sparse&&ne.value===void 0&&(d.push(r("array.sparse",{key:b,path:A,pos:f,value:void 0},n.localize(A))),s.abortEarly))return d;break}pe.restore()}if(S)continue;let L=s.stripUnknown&&!!s.stripUnknown.arrays||!1;N=c.length;for(let G of c){let pe,ne=o.indexOf(G);if(ne!==-1)pe=M[ne];else{let Ee=n.localize(A,P,G);if(Ee.snapshot(),pe=G.$_validate(p,Ee,s),!pe.errors){Ee.commit(),G._flags.result==="strip"?(ls.fastSplice(e,f),--f,--u):!t._flags.sparse&&pe.value===void 0?(d.push(r("array.sparse",{key:b,path:A,pos:f,value:void 0},n.localize(A))),g=!0):e[f]=pe.value,S=!0;break}Ee.restore()}if(N===1){if(L){ls.fastSplice(e,f),--f,--u,S=!0;break}if(d.push(...pe.errors),s.abortEarly)return d;g=!0;break}}if(!g&&(t.$_terms._inclusions.length||t.$_terms._requireds.length)&&!S){if(L){ls.fastSplice(e,f),--f,--u;continue}if(d.push(r("array.includes",{pos:f,value:p},n.localize(A))),s.abortEarly)return d}}return o.length&&ls.fillMissedErrors(t,d,o,e,n,s),a.length&&(ls.fillOrderedErrors(t,d,a,e,n,s),d.length||ls.fillDefault(a,e,n,s)),d.length?d:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:n,operator:s,args:i}){return qc.compare(e.length,r,s)?e:t.error("array."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:qc.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){qc.verifyFlat(e,"ordered");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let n=qc.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});ls.validateSingle(n,t),t.$_mutateRegister(n),t.$_terms.ordered.push(n)}return t.$_mutateRebuild()}},single:{method(e){let t=e===void 0?!0:!!e;return iA(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){qc.assertOptions(e,["by","order"]);let t={order:e.order||"ascending"};return e.by&&(t.by=cjt.ref(e.by,{ancestor:0}),iA(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:n,schema:s},{options:i}){let{value:o,errors:a}=ls.sort(s,e,i,r,n);if(a)return a;for(let c=0;c<e.length;++c)if(e[c]!==o[c])return t("array.sort",{order:i.order,by:i.by?i.by.key:"value"});return e},convert:!0},sparse:{method(e){let t=e===void 0?!0:!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){iA(!e||typeof e=="function"||typeof e=="string","comparator must be a function or a string"),qc.assertOptions(t,["ignoreUndefined","separator"]);let r={name:"unique",args:{options:t,comparator:e}};if(e)if(typeof e=="string"){let n=qc.default(t.separator,".");r.path=n?e.split(n):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:n},{comparator:s,options:i},{comparator:o,path:a}){let c={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},l=o||ijt,d=i.ignoreUndefined;for(let u=0;u<e.length;++u){let f=a?ojt(e[u],a):e[u],p=o?c.custom:c[typeof f];if(iA(p,"Failed to find unique map container for type",typeof f),p instanceof Map){let g=p.entries(),S;for(;!(S=g.next()).done;)if(l(S.value[0],f)){let b=t.localize([...t.path,u],[e,...t.ancestors]),A={pos:u,value:e[u],dupePos:S.value[1],dupeValue:e[S.value[1]]};return a&&(A.path=s),r("array.unique",A,b)}p.set(f,u)}else{if((!d||f!==void 0)&&p[f]!==void 0){let g={pos:u,value:e[u],dupePos:p[f],dupeValue:e[p[f]]};a&&(g.path=s);let S=t.localize([...t.path,u],[e,...t.ancestors]);return r("array.unique",g,S)}p[f]=u}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to(e,t){return new Set(e)}}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(let t of e.$_terms.items)ls.validateSingle(t,e),t._flags.presence==="required"?e.$_terms._requireds.push(t):t._flags.presence==="forbidden"?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(let t of e.$_terms.ordered)ls.validateSingle(t,e)},manifest:{build(e,t){return t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}});ls.fillMissedErrors=function(e,t,r,n,s,i){let o=[],a=0;for(let c of r){let l=c._flags.label;l?o.push(l):++a}o.length?a?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:o,unknownMisses:a},s,i)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:o},s,i)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:a},s,i))};ls.fillOrderedErrors=function(e,t,r,n,s,i){let o=[];for(let a of r)a._flags.presence==="required"&&o.push(a);o.length&&ls.fillMissedErrors(e,t,o,n,s,i)};ls.fillDefault=function(e,t,r,n){let s=[],i=!0;for(let o=e.length-1;o>=0;--o){let a=e[o],c=[t,...r.ancestors],l=a.$_validate(void 0,r.localize(r.path,c,a),n).value;if(i){if(l===void 0)continue;i=!1}s.unshift(l)}s.length&&t.push(...s)};ls.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length};ls.validateSingle=function(e,t){(e.type==="array"||e._flags._arrayItems)&&(iA(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))};ls.sort=function(e,t,r,n,s){let i=r.order==="ascending"?1:-1,o=-1*i,a=i,c=(l,d)=>{let u=ls.compare(l,d,o,a);if(u!==null||(r.by&&(l=r.by.resolve(l,n,s),d=r.by.resolve(d,n,s)),u=ls.compare(l,d,o,a),u!==null))return u;let f=typeof l;if(f!==typeof d)throw e.$_createError("array.sort.mismatching",t,null,n,s);if(f!=="number"&&f!=="string")throw e.$_createError("array.sort.unsupported",t,{type:f},n,s);return f==="number"?(l-d)*i:l<d?o:a};try{return{value:t.slice().sort(c)}}catch(l){return{errors:l}}};ls.compare=function(e,t,r,n){return e===t?0:e===void 0?1:t===void 0?-1:e===null?n:t===null?r:null}});var Bwe=E((smn,Uwe)=>{"use strict";var kwe=hr(),ljt=Fc(),Mwe=An(),Lwe=EK(),wK={};wK.isBool=function(e){return typeof e=="boolean"};Uwe.exports=ljt.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if(typeof e!="boolean"){if(typeof e=="string"){let r=t._flags.sensitive?e:e.toLowerCase();e=r==="true"?!0:r==="false"?!1:e}return typeof e!="boolean"&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(t.$_terms.falsy&&t.$_terms.falsy.has(e,null,null,!t._flags.sensitive)?!1:e)),{value:e}}},validate(e,{error:t}){if(typeof e!="boolean")return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){Mwe.verifyFlat(e,"truthy");let t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new Lwe;for(let r=0;r<e.length;++r){let n=e[r];kwe(n!==void 0,"Cannot call truthy with undefined"),t.$_terms.truthy.add(n)}return t}},falsy:{method(...e){Mwe.verifyFlat(e,"falsy");let t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new Lwe;for(let r=0;r<e.length;++r){let n=e[r];kwe(n!==void 0,"Cannot call falsy with undefined"),t.$_terms.falsy.add(n)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:wK.isBool,to(e,t){return e?1:0}},string:{from:wK.isBool,to(e,t){return e?"true":"false"}}},manifest:{build(e,t){return t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})});var $we=E((imn,jwe)=>{"use strict";var Fwe=hr(),djt=Fc(),qwe=An(),ujt=Np(),md={};md.isDate=function(e){return e instanceof Date};jwe.exports=djt.extend({type:"date",coerce:{from:["number","string"],method(e,{schema:t}){return{value:md.parse(e,t._flags.format)||e}}},validate(e,{schema:t,error:r,prefs:n}){if(e instanceof Date&&!isNaN(e.getTime()))return;let s=t._flags.format;return!n.convert||!s||typeof e!="string"?{value:e,errors:r("date.base")}:{value:e,errors:r("date.format",{format:s})}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:n,operator:s,args:i}){let o=r==="now"?Date.now():r.getTime();return qwe.compare(e.getTime(),o,s)?e:t.error("date."+n,{limit:i.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>e==="now"?e:md.parse(e),assert:e=>e!==null,message:"must have a valid date format"}]},format:{method(e){return Fwe(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return Fwe(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:md.isDate,to(e,t){return e.getTime()}},string:{from:md.isDate,to(e,{prefs:t}){return ujt.date(e,t)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}});md.parse=function(e,t){if(e instanceof Date)return e;if(typeof e!="string"&&(isNaN(e)||!isFinite(e))||/^\s*$/.test(e))return null;if(t==="iso")return qwe.isIsoDate(e)?md.date(e.toString()):null;let r=e;if(typeof e=="string"&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if(t==="javascript")return md.date(1*e);if(t==="unix")return md.date(1e3*e);if(typeof r=="string")return null}return md.date(e)};md.date=function(e){let t=new Date(e);return isNaN(t.getTime())?null:t}});var Wwe=E((omn,Vwe)=>{"use strict";var NM=hr(),Hwe=Ko(),Gwe=AM(),zwe=iy(),DM={};Vwe.exports=function(e,t,r={}){if(NM(e&&typeof e=="object","Invalid defaults value: must be an object"),NM(!t||t===!0||typeof t=="object","Invalid source value: must be true, falsy or an object"),NM(typeof r=="object","Invalid options: must be an object"),!t)return null;if(r.shallow)return DM.applyToDefaultsWithShallow(e,t,r);let n=Hwe(e);if(t===!0)return n;let s=r.nullOverride!==void 0?r.nullOverride:!1;return Gwe(n,t,{nullOverride:s,mergeArrays:!1})};DM.applyToDefaultsWithShallow=function(e,t,r){let n=r.shallow;NM(Array.isArray(n),"Invalid keys");let s=new Map,i=t===!0?null:new Set;for(let c of n){c=Array.isArray(c)?c:c.split(".");let l=zwe(e,c);l&&typeof l=="object"?s.set(l,i&&zwe(t,c)||l):i&&i.add(c)}let o=Hwe(e,{},s);if(!i)return o;for(let c of i)DM.reachCopy(o,t,c);let a=r.nullOverride!==void 0?r.nullOverride:!1;return Gwe(o,t,{nullOverride:a,mergeArrays:!1})};DM.reachCopy=function(e,t,r){for(let i of r){if(!(i in t))return;let o=t[i];if(typeof o!="object"||o===null)return;t=o}let n=t,s=e;for(let i=0;i<r.length-1;++i){let o=r[i];typeof s[o]!="object"&&(s[o]={}),s=s[o]}s[r[r.length-1]]=n}});var Jwe=E(Xwe=>{"use strict";var uy=hr(),Kwe={};Xwe.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){t=t||{};let r=[].concat(t.before||[]),n=[].concat(t.after||[]),s=t.group||"?",i=t.sort||0;uy(!r.includes(s),`Item cannot come before itself: ${s}`),uy(!r.includes("?"),"Item cannot come before unassociated items"),uy(!n.includes(s),`Item cannot come after itself: ${s}`),uy(!n.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(let o of e){let a={seq:this._items.length,sort:i,before:r,after:n,group:s,node:o};this._items.push(a)}if(!t.manual){let o=this._sort();uy(o,"item",s!=="?"?`added into group ${s}`:"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(let r of e)if(r)for(let n of r._items)this._items.push(Object.assign({},n));this._items.sort(Kwe.mergeSort);for(let r=0;r<this._items.length;++r)this._items[r].seq=r;let t=this._sort();return uy(t,"merge created a dependencies error"),this.nodes}sort(){let e=this._sort();return uy(e,"sort created a dependencies error"),this.nodes}_sort(){let e={},t=Object.create(null),r=Object.create(null);for(let a of this._items){let c=a.seq,l=a.group;r[l]=r[l]||[],r[l].push(c),e[c]=a.before;for(let d of a.after)t[d]=t[d]||[],t[d].push(c)}for(let a in e){let c=[];for(let l in e[a]){let d=e[a][l];r[d]=r[d]||[],c.push(...r[d])}e[a]=c}for(let a in t)if(r[a])for(let c of r[a])e[c].push(...t[a]);let n={};for(let a in e){let c=e[a];for(let l of c)n[l]=n[l]||[],n[l].push(a)}let s={},i=[];for(let a=0;a<this._items.length;++a){let c=a;if(n[a]){c=null;for(let l=0;l<this._items.length;++l){if(s[l]===!0)continue;n[l]||(n[l]=[]);let d=n[l].length,u=0;for(let f=0;f<d;++f)s[n[l][f]]&&++u;if(u===d){c=l;break}}}c!==null&&(s[c]=!0,i.push(c))}if(i.length!==this._items.length)return!1;let o={};for(let a of this._items)o[a.seq]=a;this._items=[],this.nodes=[];for(let a of i){let c=o[a];this.nodes.push(c.node),this._items.push(c)}return!0}};Kwe.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1});var AK=E((lmn,Zwe)=>{"use strict";var mjt=Wwe(),jc=hr(),Ywe=Ko(),fjt=Jwe(),pjt=Fc(),lo=An(),xK=cy(),gjt=wm(),Qwe=xm(),kM=Np(),tt={renameDefaults:{alias:!1,multiple:!1,override:!1}};Zwe.exports=pjt.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args(e,t){return e.keys(t)},validate(e,{schema:t,error:r,state:n,prefs:s}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!t.$_terms.renames&&!t.$_terms.dependencies&&!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.externals)return;e=tt.clone(e,s);let i=[];if(t.$_terms.renames&&!tt.rename(t,e,n,s,i))return{value:e,errors:i};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:i};let o=new Set(Object.keys(e));if(t.$_terms.keys){let a=[e,...n.ancestors];for(let c of t.$_terms.keys){let l=c.key,d=e[l];o.delete(l);let u=n.localize([...n.path,l],a,c),f=c.schema.$_validate(d,u,s);if(f.errors){if(s.abortEarly)return{value:e,errors:f.errors};f.value!==void 0&&(e[l]=f.value),i.push(...f.errors)}else c.schema._flags.result==="strip"||f.value===void 0&&d!==void 0?delete e[l]:f.value!==void 0&&(e[l]=f.value)}}if(o.size||t._flags._hasPatternMatch){let a=tt.unknown(t,e,o,i,n,s);if(a)return a}if(t.$_terms.dependencies)for(let a of t.$_terms.dependencies){if(a.key!==null&&tt.isPresent(a.options)(a.key.resolve(e,n,s,null,{shadow:!1}))===!1)continue;let c=tt.dependencies[a.rel](t,a,e,n,s);if(c){let l=t.$_createError(c.code,e,c.context,n,s);if(s.abortEarly)return{value:e,errors:l};i.push(l)}}return{value:e,errors:i}},rules:{and:{method(...e){return lo.verifyFlat(e,"and"),tt.dependency(this,"and",null,e)}},append:{method(e){return e==null||Object.keys(e).length===0?this:this.keys(e)}},assert:{method(e,t,r){kM.isTemplate(e)||(e=xK.ref(e)),jc(r===void 0||typeof r=="string","Message must be a string"),t=this.$_compile(t,{appendPath:!0});let n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate(e,{error:t,prefs:r,state:n},{subject:s,schema:i,message:o}){let a=s.resolve(e,n,r),c=Qwe.isRef(s)?s.absolute(n):[];return i.$_match(a,n.localize(c,[e,...n.ancestors],i),r)?e:t("object.assert",{subject:s,message:o})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return jc(typeof e=="function","constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate(e,t,{constructor:r,name:n}){return e instanceof r?e:t.error("object.instance",{type:n,value:e})},args:["constructor","name"]},keys:{method(e){jc(e===void 0||typeof e=="object","Object schema must be a valid object"),jc(!lo.isSchema(e),"Object schema cannot be a joi schema");let t=this.clone();if(!e)t.$_terms.keys=null;else if(!Object.keys(e).length)t.$_terms.keys=new tt.Keys;else{t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(r=>!e.hasOwnProperty(r.key)):new tt.Keys;for(let r in e)lo.tryWithPath(()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])}),r)}return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:n,operator:s,args:i}){return lo.compare(Object.keys(e).length,r,s)?e:t.error("object."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:lo.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return lo.verifyFlat(e,"nand"),tt.dependency(this,"nand",null,e)}},or:{method(...e){return lo.verifyFlat(e,"or"),tt.dependency(this,"or",null,e)}},oxor:{method(...e){return tt.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){let n=e instanceof RegExp;n||(e=this.$_compile(e,{appendPath:!0})),jc(t!==void 0,"Invalid rule"),lo.assertOptions(r,["fallthrough","matches"]),n&&jc(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});let s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];let i={[n?"regex":"schema"]:e,rule:t};return r.matches&&(i.matches=this.$_compile(r.matches),i.matches.type!=="array"&&(i.matches=i.matches.$_root.array().items(i.matches)),s.$_mutateRegister(i.matches),s.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(i.fallthrough=!0),s.$_terms.patterns.push(i),s.$_mutateRegister(t),s}},ref:{method(){return this.$_addRule("ref")},validate(e,t){return Qwe.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method(){return this.$_addRule("regex")},validate(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method(e,t,r={}){jc(typeof e=="string"||e instanceof RegExp,"Rename missing the from argument"),jc(typeof t=="string"||t instanceof kM,"Invalid rename to argument"),jc(t!==e,"Cannot rename key to same name:",e),lo.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);let n=this.clone();n.$_terms.renames=n.$_terms.renames||[];for(let s of n.$_terms.renames)jc(s.from!==e,"Cannot rename the same key multiple times");return t instanceof kM&&n.$_mutateRegister(t),n.$_terms.renames.push({from:e,to:t,options:mjt(tt.renameDefaults,r)}),n}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate(e,t,{type:r}){return lo.isSchema(e)&&(r==="any"||e.type===r)?e:t.error("object.schema",{type:r})}},unknown:{method(e){return this.$_setFlag("unknown",e!==!1)}},with:{method(e,t,r={}){return tt.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return tt.dependency(this,"without",e,t,r)}},xor:{method(...e){return lo.verifyFlat(e,"xor"),tt.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return e===void 0&&(e=lo.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){let t=new fjt.Sorter;for(let r of e.$_terms.keys)lo.tryWithPath(()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key}),r.key);e.$_terms.keys=new tt.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(let{rel:r,key:n=null,peers:s,options:i}of t.dependencies)e=tt.dependency(e,r,n,s,i);if(t.patterns)for(let{regex:r,schema:n,rule:s,fallthrough:i,matches:o}of t.patterns)e=e.pattern(r||n,s,{fallthrough:i,matches:o});if(t.renames)for(let{from:r,to:n,options:s}of t.renames)e=e.rename(r,n,s);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}});tt.clone=function(e,t){if(typeof e=="object"){if(t.nonEnumerables)return Ywe(e,{shallow:!0});let n=Object.create(Object.getPrototypeOf(e));return Object.assign(n,e),n}let r=function(...n){return e.apply(this,n)};return r.prototype=Ywe(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r};tt.dependency=function(e,t,r,n,s){jc(r===null||typeof r=="string",t,"key must be a strings"),s||(s=n.length>1&&typeof n[n.length-1]=="object"?n.pop():{}),lo.assertOptions(s,["separator","isPresent"]),n=[].concat(n);let i=lo.default(s.separator,"."),o=[];for(let c of n)jc(typeof c=="string",t,"peers must be strings"),o.push(xK.ref(c,{separator:i,ancestor:0,prefix:!1}));r!==null&&(r=xK.ref(r,{separator:i,ancestor:0,prefix:!1}));let a=e.clone();return a.$_terms.dependencies=a.$_terms.dependencies||[],a.$_terms.dependencies.push(new tt.Dependency(t,r,o,n,s)),a};tt.dependencies={and(e,t,r,n,s){let i=[],o=[],a=t.peers.length,c=tt.isPresent(t.options);for(let l of t.peers)c(l.resolve(r,n,s,null,{shadow:!1}))===!1?i.push(l.key):o.push(l.key);if(i.length!==a&&o.length!==a)return{code:"object.and",context:{present:o,presentWithLabels:tt.keysToLabels(e,o),missing:i,missingWithLabels:tt.keysToLabels(e,i)}}},nand(e,t,r,n,s){let i=[],o=tt.isPresent(t.options);for(let l of t.peers)o(l.resolve(r,n,s,null,{shadow:!1}))&&i.push(l.key);if(i.length!==t.peers.length)return;let a=t.paths[0],c=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:tt.keysToLabels(e,a),peers:c,peersWithLabels:tt.keysToLabels(e,c)}}},or(e,t,r,n,s){let i=tt.isPresent(t.options);for(let o of t.peers)if(i(o.resolve(r,n,s,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:tt.keysToLabels(e,t.paths)}}},oxor(e,t,r,n,s){let i=[],o=tt.isPresent(t.options);for(let c of t.peers)o(c.resolve(r,n,s,null,{shadow:!1}))&&i.push(c.key);if(!i.length||i.length===1)return;let a={peers:t.paths,peersWithLabels:tt.keysToLabels(e,t.paths)};return a.present=i,a.presentWithLabels=tt.keysToLabels(e,i),{code:"object.oxor",context:a}},with(e,t,r,n,s){let i=tt.isPresent(t.options);for(let o of t.peers)if(i(o.resolve(r,n,s,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:t.key.key,mainWithLabel:tt.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:tt.keysToLabels(e,o.key)}}},without(e,t,r,n,s){let i=tt.isPresent(t.options);for(let o of t.peers)if(i(o.resolve(r,n,s,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:tt.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:tt.keysToLabels(e,o.key)}}},xor(e,t,r,n,s){let i=[],o=tt.isPresent(t.options);for(let c of t.peers)o(c.resolve(r,n,s,null,{shadow:!1}))&&i.push(c.key);if(i.length===1)return;let a={peers:t.paths,peersWithLabels:tt.keysToLabels(e,t.paths)};return i.length===0?{code:"object.missing",context:a}:(a.present=i,a.presentWithLabels=tt.keysToLabels(e,i),{code:"object.xor",context:a})}};tt.keysToLabels=function(e,t){return Array.isArray(t)?t.map(r=>e.$_mapLabels(r)):e.$_mapLabels(t)};tt.isPresent=function(e){return typeof e.isPresent=="function"?e.isPresent:t=>t!==void 0};tt.rename=function(e,t,r,n,s){let i={};for(let o of e.$_terms.renames){let a=[],c=typeof o.from!="string";if(!c)Object.prototype.hasOwnProperty.call(t,o.from)&&(t[o.from]!==void 0||!o.options.ignoreUndefined)&&a.push(o);else for(let l in t){if(t[l]===void 0&&o.options.ignoreUndefined||l===o.to)continue;let d=o.from.exec(l);d&&a.push({from:l,to:o.to,match:d})}for(let l of a){let d=l.from,u=l.to;if(u instanceof kM&&(u=u.render(t,r,n,l.match)),d!==u){if(!o.options.multiple&&i[u]&&(s.push(e.$_createError("object.rename.multiple",t,{from:d,to:u,pattern:c},r,n)),n.abortEarly)||Object.prototype.hasOwnProperty.call(t,u)&&!o.options.override&&!i[u]&&(s.push(e.$_createError("object.rename.override",t,{from:d,to:u,pattern:c},r,n)),n.abortEarly))return!1;t[d]===void 0?delete t[u]:t[u]=t[d],i[u]=!0,o.options.alias||delete t[d]}}}return!0};tt.unknown=function(e,t,r,n,s,i){if(e.$_terms.patterns){let a=!1,c=e.$_terms.patterns.map(d=>{if(d.matches)return a=!0,[]}),l=[t,...s.ancestors];for(let d of r){let u=t[d],f=[...s.path,d];for(let p=0;p<e.$_terms.patterns.length;++p){let g=e.$_terms.patterns[p];if(g.regex){let A=g.regex.test(d);if(s.mainstay.tracer.debug(s,"rule",`pattern.${p}`,A?"pass":"error"),!A)continue}else if(!g.schema.$_match(d,s.nest(g.schema,`pattern.${p}`),i))continue;r.delete(d);let S=s.localize(f,l,{schema:g.rule,key:d}),b=g.rule.$_validate(u,S,i);if(b.errors){if(i.abortEarly)return{value:t,errors:b.errors};n.push(...b.errors)}if(g.matches&&c[p].push(d),t[d]=b.value,!g.fallthrough)break}}if(a)for(let d=0;d<c.length;++d){let u=c[d];if(!u)continue;let f=e.$_terms.patterns[d].matches,p=s.localize(s.path,l,f),g=f.$_validate(u,p,i);if(g.errors){let S=gjt.details(g.errors,{override:!1});S.matches=u;let b=e.$_createError("object.pattern.match",t,S,s,i);if(i.abortEarly)return{value:t,errors:b};n.push(b)}}}if(!r.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(i.stripUnknown&&typeof e._flags.unknown>"u"||i.skipFunctions){let a=i.stripUnknown?i.stripUnknown===!0?!0:!!i.stripUnknown.objects:!1;for(let c of r)a?(delete t[c],r.delete(c)):typeof t[c]=="function"&&r.delete(c)}if(!lo.default(e._flags.unknown,i.allowUnknown))for(let a of r){let c=s.localize([...s.path,a],[]),l=e.$_createError("object.unknown",t[a],{child:a},c,i,{flags:!1});if(i.abortEarly)return{value:t,errors:l};n.push(l)}};tt.Dependency=class{constructor(e,t,r,n,s){this.rel=e,this.key=t,this.peers=r,this.paths=n,this.options=s}describe(){let e={rel:this.rel,peers:this.paths};return this.key!==null&&(e.key=this.key.key),this.peers[0].separator!=="."&&(e.options={...e.options,separator:this.peers[0].separator}),this.options.isPresent&&(e.options={...e.options,isPresent:this.options.isPresent}),e}};tt.Keys=class extends Array{concat(e){let t=this.slice(),r=new Map;for(let n=0;n<t.length;++n)r.set(t[n].key,n);for(let n of e){let s=n.key,i=r.get(s);i!==void 0?t[i]={key:s,schema:t[i].schema.concat(n.schema)}:t.push(n)}return t}}});var t0e=E((mmn,e0e)=>{"use strict";var PK=hr(),hjt=AK();e0e.exports=hjt.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return PK(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate(e,t,{n:r}){return e.length===r?e:t.error("function.arity",{n:r})}},class:{method(){return this.$_addRule("class")},validate(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method(e){return PK(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate(e,t,{n:r}){return e.length>=r?e:t.error("function.minArity",{n:r})}},maxArity:{method(e){return PK(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate(e,t,{n:r}){return e.length<=r?e:t.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})});var n0e=E((fmn,r0e)=>{"use strict";var Im=hr(),yjt=Fc(),_jt=An(),Sjt=cy(),vjt=wm(),Tm={};r0e.exports=yjt.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args(e,t){return e.ref(t)},validate(e,{schema:t,state:r,prefs:n}){Im(t.$_terms.link,"Uninitialized link schema");let s=Tm.generate(t,e,r,n),i=t.$_terms.link[0].ref;return s.$_validate(e,r.nest(s,`link:${i.display}:${s.type}`),n)},generate(e,t,r,n){return Tm.generate(e,t,r,n)},rules:{ref:{method(e){Im(!this.$_terms.link,"Cannot reinitialize schema"),e=Sjt.ref(e),Im(e.type==="value"||e.type==="local","Invalid reference type:",e.type),Im(e.type==="local"||e.ancestor==="root"||e.ancestor>0,"Link cannot reference itself");let t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){Im(this.$_terms.link,"Uninitialized link schema"),Im(_jt.isSchema(e),"Invalid schema object"),Im(e.type!=="link","Cannot merge type link with another link");let t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build(e,t){return Im(t.link,"Invalid link description missing link"),e.ref(t.link)}}});Tm.generate=function(e,t,r,n){let s=r.mainstay.links.get(e);if(s)return s._generate(t,r,n).schema;let i=e.$_terms.link[0].ref,{perspective:o,path:a}=Tm.perspective(i,r);Tm.assert(o,"which is outside of schema boundaries",i,e,r,n);try{s=a.length?o.$_reach(a):o}catch{Tm.assert(!1,"to non-existing schema",i,e,r,n)}return Tm.assert(s.type!=="link","which is another link",i,e,r,n),e._flags.relative||r.mainstay.links.set(e,s),s._generate(t,r,n).schema};Tm.perspective=function(e,t){if(e.type==="local"){for(let{schema:r,key:n}of t.schemas){if((r._flags.id||n)===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared){for(let i of r.$_terms.shared)if(i._flags.id===e.path[0])return{perspective:i,path:e.path.slice(1)}}}return{perspective:null,path:null}}return e.ancestor==="root"?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}};Tm.assert=function(e,t,r,n,s,i){e||Im(!1,`"${vjt.label(n._flags,s,i)}" contains link reference "${r.display}" ${t}`)}});var i0e=E((pmn,s0e)=>{"use strict";var RK=hr(),Ejt=Fc(),IK=An(),ic={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(e){let t=e.toString(),r=t.indexOf("."),n=t.indexOf("e");return(r<0?0:(n<0?t.length:n)-r-1)+(n<0?0:Math.max(0,-parseInt(t.slice(n+1))))}};s0e.exports=Ejt.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){if(!e.match(ic.numberRx))return;e=e.trim();let s={value:parseFloat(e)};if(s.value===0&&(s.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(ic.extractSignificantDigits(e)!==ic.extractSignificantDigits(String(s.value)))return s.errors=r("number.unsafe"),s}else{let i=s.value.toString();if(i.match(/e/i))return s;if(i!==ic.normalizeDecimal(e))return s.errors=r("number.unsafe"),s}return s}},validate(e,{schema:t,error:r,prefs:n}){if(e===1/0||e===-1/0)return{value:e,errors:r("number.infinity")};if(!IK.isNumber(e))return{value:e,errors:r("number.base")};let s={value:e};if(n.convert){let i=t.$_getRule("precision");if(i){let o=Math.pow(10,i.args.limit);s.value=Math.round(s.value*o)/o}}return s.value===0&&(s.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate(e,t,{limit:r},{name:n,operator:s,args:i}){return IK.compare(e,r,s)?e:t.error("number."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:IK.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate(e,t){return Math.trunc(e)-e===0?e:t.error("number.integer")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){let t=typeof e=="number"?ic.decimalPlaces(e):null,r=Math.pow(10,t);return this.$_addRule({name:"multiple",args:{base:e,baseDecimalPlace:t,pfactor:r}})},validate(e,t,{base:r,baseDecimalPlace:n,pfactor:s},i){return ic.decimalPlaces(e)>n?t.error("number.multiple",{multiple:i.args.base,value:e}):Math.round(s*e)%Math.round(s*r)===0?e:t.error("number.multiple",{multiple:i.args.base,value:e})},args:[{name:"base",ref:!0,assert:e=>typeof e=="number"&&isFinite(e)&&e>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method(){return this.sign("positive")}},precision:{method(e){return RK(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){let n=e.toString().match(ic.precisionRx);return Math.max((n[1]?n[1].length:0)-(n[2]?parseInt(n[2],10):0),0)<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return RK(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate(e,t,{sign:r}){return r==="negative"&&e<0||r==="positive"&&e>0?e:t.error(`number.${r}`)}},unsafe:{method(e=!0){return RK(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>typeof e=="number",to(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}});ic.extractSignificantDigits=function(e){return e.replace(ic.exponentialPartRegex,"").replace(ic.dotRegex,"").replace(ic.trailingZerosRegex,"").replace(ic.leadingSignAndZerosRegex,"")};ic.normalizeDecimal=function(e){return e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2"),e.includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e==="-0"?"0":e}});var a0e=E((gmn,o0e)=>{"use strict";var Cjt=AK();o0e.exports=Cjt.extend({type:"object",cast:{map:{from:e=>e&&typeof e=="object",to(e,t){return new Map(Object.entries(e))}}}})});var TK=E(MM=>{"use strict";MM.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"};MM.code=function(e){return{code:e,error:MM.codes[e]}}});var OK=E(LM=>{"use strict";var bjt=require("url"),fd=TK(),Mp={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:bjt.URL||URL};LM.analyze=function(e,t={}){if(!e)return fd.code("DOMAIN_NON_EMPTY_STRING");if(typeof e!="string")throw new Error("Invalid input: domain must be a string");if(e.length>256)return fd.code("DOMAIN_TOO_LONG");if(!!Mp.nonAsciiRx.test(e)){if(t.allowUnicode===!1)return fd.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(Mp.domainControlRx.test(e))return fd.code("DOMAIN_INVALID_CHARS");e=Mp.punycode(e),t.allowFullyQualified&&e[e.length-1]==="."&&(e=e.slice(0,-1));let n=t.minDomainSegments||Mp.minDomainSegments,s=e.split(".");if(s.length<n)return fd.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&s.length>t.maxDomainSegments)return fd.code("DOMAIN_SEGMENTS_COUNT_MAX");let i=t.tlds;if(i){let o=s[s.length-1].toLowerCase();if(i.deny&&i.deny.has(o)||i.allow&&!i.allow.has(o))return fd.code("DOMAIN_FORBIDDEN_TLDS")}for(let o=0;o<s.length;++o){let a=s[o];if(!a.length)return fd.code("DOMAIN_EMPTY_SEGMENT");if(a.length>63)return fd.code("DOMAIN_LONG_SEGMENT");if(o<s.length-1){if(!Mp.domainSegmentRx.test(a))return fd.code("DOMAIN_INVALID_CHARS")}else if(!Mp.tldSegmentRx.test(a))return fd.code("DOMAIN_INVALID_TLDS_CHARS")}return null};LM.isValid=function(e,t){return!LM.analyze(e,t)};Mp.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new Mp.URL(`http://${e}`).host}catch{return e}}});var c0e=E(NK=>{"use strict";var wjt=require("util"),xjt=OK(),su=TK(),Jo={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(wjt.TextEncoder||TextEncoder)};NK.analyze=function(e,t){return Jo.email(e,t)};NK.isValid=function(e,t){return!Jo.email(e,t)};Jo.email=function(e,t={}){if(typeof e!="string")throw new Error("Invalid input: email must be a string");if(!e)return su.code("EMPTY_STRING");let r=!Jo.nonAsciiRx.test(e);if(!r){if(t.allowUnicode===!1)return su.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}let n=e.split("@");if(n.length!==2)return n.length>2?su.code("MULTIPLE_AT_CHAR"):su.code("MISSING_AT_CHAR");let[s,i]=n;if(!s)return su.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return su.code("ADDRESS_TOO_LONG");if(Jo.encoder.encode(s).length>64)return su.code("LOCAL_TOO_LONG")}return Jo.local(s,r)||xjt.analyze(i,t)};Jo.local=function(e,t){let r=e.split(".");for(let n of r){if(!n.length)return su.code("EMPTY_LOCAL_SEGMENT");if(t){if(!Jo.atextRx.test(n))return su.code("INVALID_LOCAL_CHARS");continue}for(let s of n){if(Jo.atextRx.test(s))continue;let i=Jo.binary(s);if(!Jo.atomRx.test(i))return su.code("INVALID_LOCAL_CHARS")}}};Jo.binary=function(e){return Array.from(Jo.encoder.encode(e)).map(t=>String.fromCharCode(t)).join("")};Jo.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/;Jo.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))});var DK=E((Smn,l0e)=>{"use strict";l0e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}});var MK=E(kK=>{"use strict";var UM=hr(),Ajt=DK(),$i={};$i.generate=function(){let e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",s="!\\$&'\\(\\)\\*\\+,;=",i="%"+t,o=n+i+s+":@",a="["+o+"]",c="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+c+"\\.){3}"+c;let l=r+"{1,4}",d="(?:"+l+":"+l+"|"+e.ipv4address+")",u="(?:"+l+":){6}"+d,f="::(?:"+l+":){5}"+d,p="(?:"+l+")?::(?:"+l+":){4}"+d,g="(?:(?:"+l+":){0,1}"+l+")?::(?:"+l+":){3}"+d,S="(?:(?:"+l+":){0,2}"+l+")?::(?:"+l+":){2}"+d,b="(?:(?:"+l+":){0,3}"+l+")?::"+l+":"+d,A="(?:(?:"+l+":){0,4}"+l+")?::"+d,P="(?:(?:"+l+":){0,5}"+l+")?::"+l,M="(?:(?:"+l+":){0,6}"+l+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+u+"|"+f+"|"+p+"|"+g+"|"+S+"|"+b+"|"+A+"|"+P+"|"+M+")",e.ipvFuture="v"+r+"+\\.["+n+s+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);let N="["+n+i+s+":]*",L="\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]",G="["+n+i+s+"]{1,255}",pe="(?:"+L+"|"+e.ipv4address+"|"+G+")",ne="\\d*",Ee="(?:"+N+"@)?"+pe+"(?::"+ne+")?",xe="(?:"+N+"@)?("+pe+")(?::"+ne+")?",Xe=a+"*",Ln=a+"+",Fo="["+n+i+s+"@]+",to="",qo="(?:\\/"+Xe+")*",re="\\/(?:"+Ln+qo+")?",Be=Ln+qo,Or=Fo+qo,ro="(?:\\/\\/\\/"+Xe+qo+")";return e.hierPart="(?:(?:\\/\\/"+Ee+qo+")|"+re+"|"+Be+"|"+ro+")",e.hierPartCapture="(?:(?:\\/\\/"+xe+qo+")|"+re+"|"+Be+")",e.relativeRef="(?:(?:\\/\\/"+Ee+qo+")|"+re+"|"+Or+"|"+to+")",e.relativeRefCapture="(?:(?:\\/\\/"+xe+qo+")|"+re+"|"+Or+"|"+to+")",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e};$i.rfc3986=$i.generate();kK.ip={v4Cidr:$i.rfc3986.ipv4Cidr,v6Cidr:$i.rfc3986.ipv6Cidr,ipv4:$i.rfc3986.ipv4address,ipv6:$i.rfc3986.ipv6address,ipvfuture:$i.rfc3986.ipvFuture};$i.createRegex=function(e){let t=$i.rfc3986,n="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return $i.wrap(s+n);let i="";if(e.scheme){UM(e.scheme instanceof RegExp||typeof e.scheme=="string"||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");let l=[].concat(e.scheme);UM(l.length>=1,"scheme must have at least 1 scheme specified");let d=[];for(let u=0;u<l.length;++u){let f=l[u];UM(f instanceof RegExp||typeof f=="string","scheme at position "+u+" must be a RegExp or String"),f instanceof RegExp?d.push(f.source.toString()):(UM(t.schemeRegex.test(f),"scheme at position "+u+" must be a valid scheme"),d.push(Ajt(f)))}i=d.join("|")}let a="(?:"+(i?"(?:"+i+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",c=e.allowRelative?"(?:"+a+"|"+s+")":a;return $i.wrap(c+n,i)};$i.wrap=function(e,t){return e=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${e}`,{raw:e,regex:new RegExp(`^${e}$`),scheme:t}};$i.uriRegex=$i.createRegex({});kK.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?$i.createRegex(e):$i.uriRegex}});var u0e=E(d0e=>{"use strict";var jv=hr(),oA=MK();d0e.regex=function(e={}){jv(e.cidr===void 0||typeof e.cidr=="string","options.cidr must be a string");let t=e.cidr?e.cidr.toLowerCase():"optional";jv(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),jv(e.version===void 0||typeof e.version=="string"||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),jv(r.length>=1,"options.version must have at least 1 version specified");for(let o=0;o<r.length;++o)jv(typeof r[o]=="string","options.version must only contain strings"),r[o]=r[o].toLowerCase(),jv(["ipv4","ipv6","ipvfuture"].includes(r[o]),"options.version contains unknown version "+r[o]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));let s=`(?:${r.map(o=>{if(t==="forbidden")return oA.ip[o];let a=`\\/${o==="ipv4"?oA.ip.v4Cidr:oA.ip.v6Cidr}`;return t==="required"?`${oA.ip[o]}${a}`:`${oA.ip[o]}(?:${a})?`}).join("|")})`,i=new RegExp(`^${s}$`);return{cidr:t,versions:r,regex:i,raw:s}}});var p0e=E((Cmn,f0e)=>{"use strict";var m0e={};m0e.tlds=["AAA","AARP","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMAZON","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CASA","CASE","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CC","CD","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CPA","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ET","EU","EUROVISION","EUS","EVENTS","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTIER","FTR","FUJITSU","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","JAGUAR","JAVA","JCB","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIDS","KIM","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LAMBORGHINI","LAMER","LANCASTER","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINK","LIPSY","LIVE","LIVING","LK","LLC","LLP","LOAN","LOANS","LOCKER","LOCUS","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUXE","LUXURY","LV","LY","MA","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUSIC","MV","MW","MX","MY","MZ","NA","NAB","NAGOYA","NAME","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","RACING","RADIO","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIL","RIO","RIP","RO","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPA","SPACE","SPORT","SPOT","SR","SRL","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWISS","SX","SY","SYDNEY","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","WALES","WALMART","WALTER","WANG","WANGGOU","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4DBRK0CE","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CCKWCXETD","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ480N2RG","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBCPQ6GPA1A","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PGBS0DH","XN--PSSY2U","XN--Q7CE6A","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"];f0e.exports=new Set(m0e.tlds.map(e=>e.toLowerCase()))});var S0e=E((bmn,_0e)=>{"use strict";var Lr=hr(),BM=OK(),Pjt=c0e(),y0e=u0e(),g0e=DK(),h0e=p0e(),Rjt=MK(),Ijt=Fc(),Yo=An(),ur={tlds:h0e instanceof Set?{tlds:{allow:h0e,deny:null}}:!1,base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:y0e.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};_0e.exports=Ijt.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:n}){let s=t.$_getRule("normalize");s&&(e=e.normalize(s.args.form));let i=t.$_getRule("case");i&&(e=i.args.direction==="upper"?e.toLocaleUpperCase():e.toLocaleLowerCase());let o=t.$_getRule("trim");if(o&&o.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(let c of t.$_terms.replacements)e=e.replace(c.pattern,c.replacement);let a=t.$_getRule("hex");if(a&&a.args.options.byteAligned&&e.length%2!==0&&(e=`0${e}`),t.$_getRule("isoDate")){let c=ur.isoDate(e);c&&(e=c)}if(t._flags.truncate){let c=t.$_getRule("max");if(c){let l=c.args.limit;if(Yo.isResolvable(l)&&(l=l.resolve(e,r,n),!Yo.limit(l)))return{value:e,errors:t.$_createError("any.ref",l,{ref:c.args.limit,arg:"limit",reason:"must be a positive integer"},r,n)};e=e.slice(0,l)}}return{value:e}}},validate(e,{schema:t,error:r}){if(typeof e!="string")return{value:e,errors:r("string.base")};if(e===""){let n=t.$_getRule("min");return n&&n.args.limit===0?void 0:{value:e,errors:r("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method(e={}){return Yo.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},Lr(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),Lr(typeof e.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate(e,t,{options:r}){return ur.base64Regex[r.paddingRequired][r.urlSafe].test(e)?e:t.error("string.base64")}},case:{method(e){return Lr(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate(e,t,{direction:r}){return r==="lower"&&e===e.toLocaleLowerCase()||r==="upper"&&e===e.toLocaleUpperCase()?e:t.error(`string.${r}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,n=0,s=1;for(;r--;){let i=e.charAt(r)*s;n=n+(i-(i>9)*9),s=s^3}return n>0&&n%10===0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return Yo.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},Lr(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){let n=e.match(ur.dataUriRegex);return n&&(!n[2]||n[2]!=="base64"||ur.base64Regex[r.paddingRequired].false.test(n[3]))?e:t.error("string.dataUri")}},domain:{method(e){e&&Yo.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let t=ur.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate(e,t,r,{address:n}){return BM.isValid(e,n)?e:t.error("string.domain")}},email:{method(e={}){Yo.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),Lr(e.multiple===void 0||typeof e.multiple=="boolean","multiple option must be an boolean");let t=ur.addressOptions(e),r=new RegExp(`\\s*[${e.separator?g0e(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,{options:r},{regex:n,address:s}){let i=r.multiple?e.split(n):[e],o=[];for(let a of i)Pjt.isValid(a,s)||o.push(a);return o.length?t.error("string.email",{value:e,invalids:o}):e}},guid:{alias:"uuid",method(e={}){Yo.assertOptions(e,["version","separator"]);let t="";if(e.version){let s=[].concat(e.version);Lr(s.length>=1,"version must have at least 1 valid version specified");let i=new Set;for(let o=0;o<s.length;++o){let a=s[o];Lr(typeof a=="string","version at position "+o+" must be a string");let c=ur.guidVersions[a.toLowerCase()];Lr(c,"version at position "+o+" must be one of "+Object.keys(ur.guidVersions).join(", ")),Lr(!i.has(c),"version at position "+o+" must not be a duplicate"),t+=c,i.add(c)}}Lr(ur.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');let r=e.separator===void 0?"[:-]?":e.separator===!0?"[:-]":e.separator===!1?"[]?":`\\${e.separator}`,n=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${r})[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:n})},validate(e,t,r,{regex:n}){let s=n.exec(e);return!s||ur.guidBrackets[s[1]]!==s[s.length-1]?t.error("string.guid"):e}},hex:{method(e={}){return Yo.assertOptions(e,["byteAligned","prefix"]),e={byteAligned:!1,prefix:!1,...e},Lr(typeof e.byteAligned=="boolean","byteAligned must be boolean"),Lr(typeof e.prefix=="boolean"||e.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:e}})},validate(e,t,{options:r}){return(r.prefix==="optional"?ur.hexRegex.withOptionalPrefix:r.prefix===!0?ur.hexRegex.withPrefix:ur.hexRegex.withoutPrefix).test(e)?r.byteAligned&&e.length%2!==0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate(e,t){return BM.isValid(e,{minDomainSegments:1})||ur.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){Yo.assertOptions(e,["cidr","version"]);let{cidr:t,versions:r,regex:n}=y0e.regex(e),s=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:s}},regex:n})},validate(e,t,{options:r},{regex:n}){return n.test(e)?e:r.version?t.error("string.ipVersion",{value:e,cidr:r.cidr,version:r.version}):t.error("string.ip",{value:e,cidr:r.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(e,{error:t}){return ur.isoDate(e)?e:t("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate(e,t){return ur.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method(e,t){return ur.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:n},{name:s,operator:i,args:o}){let a=n?Buffer&&Buffer.byteLength(e,n):e.length;return Yo.compare(a,r,i)?e:t.error("string."+s,{limit:o.limit,value:e,encoding:n})},args:[{name:"limit",ref:!0,assert:Yo.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return ur.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return ur.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return Lr(ur.normalizationForms.includes(e),"normalization form must be one of "+ur.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate(e,{error:t},{form:r}){return e===e.normalize(r)?e:t("string.normalize",{value:e,form:r})},convert:!0},pattern:{alias:"regex",method(e,t={}){Lr(e instanceof RegExp,"regex must be a RegExp"),Lr(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),typeof t=="string"&&(t={name:t}),Yo.assertOptions(t,["invert","name"]);let r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate(e,t,{regex:r,options:n},{errorCode:s}){return r.test(e)^n.invert?e:t.error(s,{name:n.name,regex:r,value:e})},args:["regex","options"],multi:!0},replace:{method(e,t){typeof e=="string"&&(e=new RegExp(g0e(e),"g")),Lr(e instanceof RegExp,"pattern must be a RegExp"),Lr(typeof t=="string","replacement must be a String");let r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method(e=!0){return Lr(typeof e=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate(e,t,{enabled:r}){return!r||e===e.trim()?e:t.error("string.trim")},convert:!0},truncate:{method(e=!0){return Lr(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){Yo.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),e.domain&&Yo.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let{regex:t,scheme:r}=Rjt.regex(e),n=e.domain?ur.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:n,scheme:r})},validate(e,t,{options:r},{regex:n,domain:s,scheme:i}){if(["http:/","https:/"].includes(e))return t.error("string.uri");let o=n.exec(e);if(!o&&t.prefs.convert&&r.encodeUri){let a=encodeURI(e);o=n.exec(a),o&&(e=a)}if(o){let a=o[1]||o[2];return s&&(!r.allowRelative||a)&&!BM.isValid(a,s)?t.error("string.domain",{value:a}):e}return r.relativeOnly?t.error("string.uriRelativeOnly"):r.scheme?t.error("string.uriCustomScheme",{scheme:i,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(let{pattern:r,replacement:n}of t.replacements)e=e.replace(r,n);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}});ur.addressOptions=function(e){if(!e)return ur.tlds||e;if(Lr(e.minDomainSegments===void 0||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),Lr(e.maxDomainSegments===void 0||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),e.tlds===!1)return e;if(e.tlds===!0||e.tlds===void 0)return Lr(ur.tlds,"Built-in TLD list disabled"),Object.assign({},e,ur.tlds);Lr(typeof e.tlds=="object","tlds must be true, false, or an object");let t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),Lr(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),Lr(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),ur.validateTlds(e.tlds.deny,"tlds.deny"),e;let r=e.tlds.allow;return r?r===!0?(Lr(ur.tlds,"Built-in TLD list disabled"),Object.assign({},e,ur.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),Lr(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),ur.validateTlds(e.tlds.allow,"tlds.allow"),e):e};ur.validateTlds=function(e,t){for(let r of e)Lr(BM.isValid(r,{minDomainSegments:1,maxDomainSegments:1}),`${t} must contain valid top level domain names`)};ur.isoDate=function(e){if(!Yo.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()};ur.length=function(e,t,r,n,s){return Lr(!s||Buffer&&Buffer.isEncoding(s),"Invalid encoding:",s),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:s},operator:n})}});var E0e=E((wmn,v0e)=>{"use strict";var FM=hr(),Tjt=Fc(),LK={};LK.Map=class extends Map{slice(){return new LK.Map(this)}};v0e.exports=Tjt.extend({type:"symbol",terms:{map:{init:new LK.Map}},coerce:{method(e,{schema:t,error:r}){let n=t.$_terms.map.get(e);return n&&(e=n),!t._flags.only||typeof e=="symbol"?{value:e}:{value:e,errors:r("symbol.map",{map:t.$_terms.map})}}},validate(e,{error:t}){if(typeof e!="symbol")return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&typeof e=="object"&&(e=Object.entries(e)),FM(e&&e[Symbol.iterator],"Iterable must be an iterable or object");let t=this.clone(),r=[];for(let n of e){FM(n&&n[Symbol.iterator],"Entry must be an iterable");let[s,i]=n;FM(typeof s!="object"&&typeof s!="function"&&typeof s!="symbol","Key must not be of type object, function, or Symbol"),FM(typeof i=="symbol","Value must be a Symbol"),t.$_terms.map.set(s,i),r.push(i)}return t.valid(...r)}}},manifest:{build(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})});var w0e=E((Amn,b0e)=>{"use strict";var Ojt=hr(),Njt=Fc(),C0e=An();b0e.exports=Njt.extend({type:"binary",coerce:{from:["string","object"],method(e,{schema:t}){if(typeof e=="string"||e!==null&&e.type==="Buffer")try{return{value:Buffer.from(e,t._flags.encoding)}}catch{}}},validate(e,{error:t}){if(!Buffer.isBuffer(e))return{value:e,errors:t("binary.base")}},rules:{encoding:{method(e){return Ojt(Buffer.isEncoding(e),"Invalid encoding:",e),this.$_setFlag("encoding",e)}},length:{method(e){return this.$_addRule({name:"length",method:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:n,operator:s,args:i}){return C0e.compare(e.length,r,s)?e:t.error("binary."+n,{limit:i.limit,value:e})},args:[{name:"limit",ref:!0,assert:C0e.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}}},cast:{string:{from:e=>Buffer.isBuffer(e),to(e,t){return e.toString()}}},messages:{"binary.base":"{{#label}} must be a buffer or a string","binary.length":"{{#label}} must be {{#limit}} bytes","binary.max":"{{#label}} must be less than or equal to {{#limit}} bytes","binary.min":"{{#label}} must be at least {{#limit}} bytes"}})});var aK=E((Pmn,R0e)=>{"use strict";var fy=hr(),Djt=Ko(),kjt=uK(),my=An(),Mjt=cy(),BK=wm(),Ljt=mK(),x0e=gK(),UK=xm(),A0e=Np(),P0e=yK(),qM,oi={types:{alternatives:Owe(),any:Fc(),array:Dwe(),boolean:Bwe(),date:$we(),function:t0e(),link:n0e(),number:i0e(),object:a0e(),string:S0e(),symbol:E0e()},aliases:{alt:"alternatives",bool:"boolean",func:"function"}};Buffer&&(oi.types.binary=w0e());oi.root=function(){let e={_types:new Set(Object.keys(oi.types))};for(let t of e._types)e[t]=function(...r){return fy(!r.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),oi.generate(this,oi.types[t],r)};for(let t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...r){return this.any()[t](...r)};Object.assign(e,oi.methods);for(let t in oi.aliases){let r=oi.aliases[t];e[t]=e[r]}return e.x=e.expression,P0e.setup&&P0e.setup(e),e};oi.methods={ValidationError:BK.ValidationError,version:my.version,cache:kjt.provider,assert(e,t,...r){oi.assert(e,t,!0,r)},attempt(e,t,...r){return oi.assert(e,t,!1,r)},build(e){return fy(typeof x0e.build=="function","Manifest functionality disabled"),x0e.build(this,e)},checkPreferences(e){my.checkPreferences(e)},compile(e,t){return Mjt.compile(this,e,t)},defaults(e){fy(typeof e=="function","modifier must be a function");let t=Object.assign({},this);for(let r of t._types){let n=e(t[r]());fy(my.isSchema(n),"modifier must return a valid schema object"),t[r]=function(...s){return oi.generate(this,n,s)}}return t},expression(...e){return new A0e(...e)},extend(...e){my.verifyFlat(e,"extend"),qM=qM||CM(),fy(e.length,"You need to provide at least one extension"),this.assert(e,qM.extensions);let t=Object.assign({},this);t._types=new Set(t._types);for(let r of e){typeof r=="function"&&(r=r(t)),this.assert(r,qM.extension);let n=oi.expandExtension(r,t);for(let s of n){fy(t[s.type]===void 0||t._types.has(s.type),"Cannot override name",s.type);let i=s.base||this.any(),o=Ljt.type(i,s);t._types.add(s.type),t[s.type]=function(...a){return oi.generate(this,o,a)}}}return t},isError:BK.ValidationError.isError,isExpression:A0e.isTemplate,isRef:UK.isRef,isSchema:my.isSchema,in(...e){return UK.in(...e)},override:my.symbols.override,ref(...e){return UK.create(...e)},types(){let e={};for(let t of this._types)e[t]=this[t]();for(let t in oi.aliases)e[t]=this[t]();return e}};oi.assert=function(e,t,r,n){let s=n[0]instanceof Error||typeof n[0]=="string"?n[0]:null,i=s!==null?n[1]:n[0],o=t.validate(e,my.preferences({errors:{stack:!0}},i||{})),a=o.error;if(!a)return o.value;if(s instanceof Error)throw s;let c=r&&typeof a.annotate=="function"?a.annotate():a.message;throw a instanceof BK.ValidationError||(a=Djt(a)),a.message=s?`${s} ${c}`:c,a};oi.generate=function(e,t,r){return fy(e,"Must be invoked on a Joi instance."),t.$_root=e,!t._definition.args||!r.length?t:t._definition.args(t,...r)};oi.expandExtension=function(e,t){if(typeof e.type=="string")return[e];let r=[];for(let n of t._types)if(e.type.test(n)){let s=Object.assign({},e);s.type=n,s.base=t[n](),r.push(s)}return r};R0e.exports=oi.root()});var aA=E(Lp=>{"use strict";var Ujt=Lp&&Lp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.env=void 0;var T0e=Rbe(),Rn=Ujt(aK()),Bjt="production",FK=require("path"),O0e=FK.resolve(__dirname,"../../../");(0,T0e.config)({path:FK.join(O0e,`.env.${Bjt}`)});(0,T0e.config)({path:FK.join(O0e,".env")});var Fjt=Rn.default.object({NODE_ENV:Rn.default.string().valid("development","test","production","local").default("development"),DATABASE_URL:Rn.default.string().optional(),DB_HOST:Rn.default.string().optional(),DB_PORT:Rn.default.string().optional(),DB_NAME:Rn.default.string().optional(),DB_USER:Rn.default.string().optional(),DB_PASS:Rn.default.string().optional(),JWT_SECRET:Rn.default.string().optional(),JWT_EXPIRES_IN:Rn.default.string().default("7d"),JWT_REFRESH_EXPIRES_IN:Rn.default.string().default("30d"),AWS_REGION:Rn.default.string().default("us-east-1"),S3_BUCKET_NAME:Rn.default.string().optional(),S3_REGION:Rn.default.string().default("us-east-1"),S3_CDN_DOMAIN:Rn.default.string().allow(""),COGNITO_USER_POOL_ID:Rn.default.string().required(),COGNITO_CLIENT_ID:Rn.default.string().required(),COGNITO_REGION:Rn.default.string().default("us-east-1"),REDIS_URL:Rn.default.string().default("redis://localhost:6379"),REDIS_PASSWORD:Rn.default.string().allow(""),CLEARBIT_API_KEY:Rn.default.string().allow(""),NEWS_API_KEY:Rn.default.string().allow(""),PERPLEXITY_API_KEY:Rn.default.string().allow(""),MAX_FILE_SIZE:Rn.default.number().default(10*1024*1024),ALLOWED_FILE_TYPES:Rn.default.string().default("image/jpeg,image/png,image/heic,image/webp")}).unknown(),{error:I0e,value:yr}=Fjt.validate(process.env);if(I0e)throw new Error(`Serverless config validation error: ${I0e.message}`);var jM=yr.DATABASE_URL;if(!jM&&yr.DB_HOST&&yr.DB_PORT&&yr.DB_NAME&&yr.DB_USER&&yr.DB_PASS){let e=encodeURIComponent(yr.DB_PASS);jM=`postgresql://${yr.DB_USER}:${e}@${yr.DB_HOST}:${yr.DB_PORT}/${yr.DB_NAME}`}var qjt=process.env.STAGE!==void 0||process.env.AWS_LAMBDA_FUNCTION_NAME!==void 0;if(!jM&&!qjt)throw new Error("Database configuration error: Either DATABASE_URL or individual DB_* components (DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASS) must be provided");Lp.env={node:yr.NODE_ENV,isDevelopment:yr.NODE_ENV==="development",isProduction:yr.NODE_ENV==="production",isTest:yr.NODE_ENV==="test",database:{url:jM||void 0},jwt:{secret:yr.JWT_SECRET,expiresIn:yr.JWT_EXPIRES_IN,refreshExpiresIn:yr.JWT_REFRESH_EXPIRES_IN},aws:{region:yr.AWS_REGION},s3:{bucketName:yr.S3_BUCKET_NAME,region:yr.S3_REGION,cdnDomain:yr.S3_CDN_DOMAIN},cognito:{userPoolId:yr.COGNITO_USER_POOL_ID,clientId:yr.COGNITO_CLIENT_ID,region:yr.COGNITO_REGION},redis:{url:yr.REDIS_URL,password:yr.REDIS_PASSWORD},externalApis:{clearbitApiKey:yr.CLEARBIT_API_KEY,newsApiKey:yr.NEWS_API_KEY,perplexityApiKey:yr.PERPLEXITY_API_KEY},upload:{maxFileSize:yr.MAX_FILE_SIZE,allowedTypes:yr.ALLOWED_FILE_TYPES.split(",")}};Lp.default=Lp.env});var Nm=E(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.logExternalApiCall=ai.logDatabaseOperation=ai.logResponse=ai.logRequest=ai.debug=ai.error=ai.warn=ai.info=void 0;var jjt=aA(),qK=class{serviceName;constructor(t="namecard-serverless"){this.serviceName=t}formatMessage(t,r,n){let i={timestamp:new Date().toISOString(),level:t.toUpperCase(),service:this.serviceName,message:r,...n};return JSON.stringify(i)}info(t,r){console.log(this.formatMessage("info",t,r))}warn(t,r){console.warn(this.formatMessage("warn",t,r))}error(t,r,n){let s=r?{...n,error:{message:r.message,stack:r.stack,name:r.name}}:n;console.error(this.formatMessage("error",t,s))}debug(t,r){jjt.env.isProduction||console.debug(this.formatMessage("debug",t,r))}logRequest(t,r,n){this.info("Lambda request started",{method:t,path:r,requestId:n?.requestId,functionName:n?.functionName})}logResponse(t,r,n){let s=t>=400?"warn":"info",i=t>=400?"Lambda request failed":"Lambda request completed";s==="warn"?this.warn(i,{statusCode:t,duration:`${r}ms`,...n}):this.info(i,{statusCode:t,duration:`${r}ms`,...n})}logDatabaseOperation(t,r,n,s){this.info(`Database ${t}`,{operation:t,table:r,duration:`${n}ms`,...s})}logExternalApiCall(t,r,n,s,i){let o=s>=400?"warn":"info",a=`External API call: ${t}`;o==="warn"?this.warn(a,{service:t,endpoint:r,statusCode:s,duration:`${n}ms`,...i}):this.info(a,{service:t,endpoint:r,statusCode:s,duration:`${n}ms`,...i})}},Om=new qK;ai.default=Om;ai.info=Om.info,ai.warn=Om.warn,ai.error=Om.error,ai.debug=Om.debug,ai.logRequest=Om.logRequest,ai.logResponse=Om.logResponse,ai.logDatabaseOperation=Om.logDatabaseOperation,ai.logExternalApiCall=Om.logExternalApiCall});var N0e=E(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.createSuccessResponse=$jt;Qo.createErrorResponse=$M;Qo.createValidationErrorResponse=zjt;Qo.createNotFoundResponse=Hjt;Qo.createUnauthorizedResponse=Gjt;Qo.createForbiddenResponse=Vjt;Qo.generateRequestId=Up;Qo.getRequestId=Wjt;Qo.parseJsonBody=Kjt;Qo.getUserIdFromPath=Xjt;Qo.getIdFromPath=Jjt;Qo.getQueryParameter=jK;Qo.getPaginationParams=Yjt;var $K={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Methods":"GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS","Content-Type":"application/json"};function $jt(e,t=200,r,n=Up()){let s={success:!0,data:e,timestamp:new Date().toISOString(),requestId:n,...r&&{message:r}};return{statusCode:t,headers:$K,body:JSON.stringify(s)}}function $M(e,t=500,r=Up()){let n=e instanceof Error?e.message:e,s={success:!1,error:n,timestamp:new Date().toISOString(),requestId:r};return console.error("API Error:",{error:n,statusCode:t,requestId:r,timestamp:s.timestamp}),{statusCode:t,headers:$K,body:JSON.stringify(s)}}function zjt(e,t=Up()){let r={success:!1,error:"Validation failed",data:{errors:e},timestamp:new Date().toISOString(),requestId:t};return{statusCode:400,headers:$K,body:JSON.stringify(r)}}function Hjt(e="Resource",t=Up()){return $M(`${e} not found`,404,t)}function Gjt(e="Unauthorized",t=Up()){return $M(e,401,t)}function Vjt(e="Forbidden",t=Up()){return $M(e,403,t)}function Up(){return`req_${Date.now()}_${Math.random().toString(36).substring(2,15)}`}function Wjt(e){return e.requestContext?.requestId||Up()}function Kjt(e){if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error("Failed to parse JSON body:",t),null}}function Xjt(e){return e.pathParameters?.userId||null}function Jjt(e){return e.pathParameters?.id||null}function jK(e,t,r){return(e.queryStringParameters||{})[t]||r}function Yjt(e){let t=Math.min(parseInt(jK(e,"limit","20")||"20"),100),r=Math.max(parseInt(jK(e,"offset","0")||"0"),0);return{limit:t,offset:r}}});var Ca=E((Omn,D0e)=>{"use strict";var zK=class e extends Error{constructor(t){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${t.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,e)}};D0e.exports=e=>{if(e.length>2)throw new zK(e);function t(n={}){this.options=n}t.prototype.transform=e;function r(n){return new t(n)}return r.Format=t,r}});var U0e=E((Nmn,L0e)=>{var M0e={};L0e.exports=M0e;var k0e={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(k0e).forEach(function(e){var t=k0e[e],r=M0e[e]=[];r.open="\x1B["+t[0]+"m",r.close="\x1B["+t[1]+"m"})});var F0e=E((Dmn,B0e)=>{"use strict";B0e.exports=function(e,t){t=t||process.argv||[];var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",s=t.indexOf(n+e);return s!==-1&&(r===-1?!0:s<r)}});var j0e=E((kmn,q0e)=>{"use strict";var Qjt=require("os"),pd=F0e(),Zo=process.env,$v=void 0;pd("no-color")||pd("no-colors")||pd("color=false")?$v=!1:(pd("color")||pd("colors")||pd("color=true")||pd("color=always"))&&($v=!0);"FORCE_COLOR"in Zo&&($v=Zo.FORCE_COLOR.length===0||parseInt(Zo.FORCE_COLOR,10)!==0);function Zjt(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function e1t(e){if($v===!1)return 0;if(pd("color=16m")||pd("color=full")||pd("color=truecolor"))return 3;if(pd("color=256"))return 2;if(e&&!e.isTTY&&$v!==!0)return 0;var t=$v?1:0;if(process.platform==="win32"){var r=Qjt.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Zo)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(s){return s in Zo})||Zo.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Zo)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Zo.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Zo){var n=parseInt((Zo.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Zo.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Zo.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Zo.TERM)||"COLORTERM"in Zo?1:(Zo.TERM==="dumb",t)}function HK(e){var t=e1t(e);return Zjt(t)}q0e.exports={supportsColor:HK,stdout:HK(process.stdout),stderr:HK(process.stderr)}});var z0e=E((Mmn,$0e)=>{$0e.exports=function(t,r){var n="";t=t||"Run the trap, drop the bass",t=t.split("");var s={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return t.forEach(function(i){i=i.toLowerCase();var o=s[i]||[" "],a=Math.floor(Math.random()*o.length);typeof s[i]<"u"?n+=s[i][a]:n+=i}),n}});var G0e=E((Lmn,H0e)=>{H0e.exports=function(t,r){t=t||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},s=[].concat(n.up,n.down,n.mid);function i(c){var l=Math.floor(Math.random()*c);return l}function o(c){var l=!1;return s.filter(function(d){l=d===c}),l}function a(c,l){var d="",u,f;l=l||{},l.up=typeof l.up<"u"?l.up:!0,l.mid=typeof l.mid<"u"?l.mid:!0,l.down=typeof l.down<"u"?l.down:!0,l.size=typeof l.size<"u"?l.size:"maxi",c=c.split("");for(f in c)if(!o(f)){switch(d=d+c[f],u={up:0,down:0,mid:0},l.size){case"mini":u.up=i(8),u.mid=i(2),u.down=i(8);break;case"maxi":u.up=i(16)+3,u.mid=i(4)+1,u.down=i(64)+3;break;default:u.up=i(8)+1,u.mid=i(6)/2,u.down=i(8)+1;break}var p=["up","mid","down"];for(var g in p)for(var S=p[g],b=0;b<=u[S];b++)l[S]&&(d=d+n[S][i(n[S].length)])}return d}return a(t,r)}});var W0e=E((Umn,V0e)=>{V0e.exports=function(e){return function(t,r,n){if(t===" ")return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}});var X0e=E((Bmn,K0e)=>{K0e.exports=function(e){return function(t,r,n){return r%2===0?t:e.inverse(t)}}});var Y0e=E((Fmn,J0e)=>{J0e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,s){return r===" "?r:e[t[n++%t.length]](r)}}});var Z0e=E((qmn,Q0e)=>{Q0e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,s){return r===" "?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}});var ixe=E(($mn,sxe)=>{var Xt={};sxe.exports=Xt;Xt.themes={};var t1t=require("util"),py=Xt.styles=U0e(),txe=Object.defineProperties,r1t=new RegExp(/[\r\n]+/g);Xt.supportsColor=j0e().supportsColor;typeof Xt.enabled>"u"&&(Xt.enabled=Xt.supportsColor()!==!1);Xt.enable=function(){Xt.enabled=!0};Xt.disable=function(){Xt.enabled=!1};Xt.stripColors=Xt.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var jmn=Xt.stylize=function(t,r){if(!Xt.enabled)return t+"";var n=py[r];return!n&&r in Xt?Xt[r](t):n.open+t+n.close},n1t=/[|\\{}()[\]^$+*?.]/g,s1t=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(n1t,"\\$&")};function rxe(e){var t=function r(){return o1t.apply(r,arguments)};return t._styles=e,t.__proto__=i1t,t}var nxe=function(){var e={};return py.grey=py.gray,Object.keys(py).forEach(function(t){py[t].closeRe=new RegExp(s1t(py[t].close),"g"),e[t]={get:function(){return rxe(this._styles.concat(t))}}}),e}(),i1t=txe(function(){},nxe);function o1t(){var e=Array.prototype.slice.call(arguments),t=e.map(function(o){return o!=null&&o.constructor===String?o:t1t.inspect(o)}).join(" ");if(!Xt.enabled||!t)return t;for(var r=t.indexOf(`
`)!=-1,n=this._styles,s=n.length;s--;){var i=py[n[s]];t=i.open+t.replace(i.closeRe,i.open)+i.close,r&&(t=t.replace(r1t,function(o){return i.close+o+i.open}))}return t}Xt.setTheme=function(e){if(typeof e=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var t in e)(function(r){Xt[r]=function(n){if(typeof e[r]=="object"){var s=n;for(var i in e[r])s=Xt[e[r][i]](s);return s}return Xt[e[r]](n)}})(t)};function a1t(){var e={};return Object.keys(nxe).forEach(function(t){e[t]={get:function(){return rxe([t])}}}),e}var c1t=function(t,r){var n=r.split("");return n=n.map(t),n.join("")};Xt.trap=z0e();Xt.zalgo=G0e();Xt.maps={};Xt.maps.america=W0e()(Xt);Xt.maps.zebra=X0e()(Xt);Xt.maps.rainbow=Y0e()(Xt);Xt.maps.random=Z0e()(Xt);for(exe in Xt.maps)(function(e){Xt[e]=function(t){return c1t(Xt.maps[e],t)}})(exe);var exe;txe(Xt,a1t())});var GK=E((zmn,oxe)=>{var l1t=ixe();oxe.exports=l1t});var axe=E(VK=>{"use strict";VK.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};VK.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var cxe=E(WK=>{"use strict";WK.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};WK.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var lxe=E(KK=>{"use strict";KK.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};KK.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var dxe=E(zM=>{"use strict";Object.defineProperty(zM,"cli",{value:axe()});Object.defineProperty(zM,"npm",{value:cxe()});Object.defineProperty(zM,"syslog",{value:lxe()})});var Gs=E(cA=>{"use strict";Object.defineProperty(cA,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(cA,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(cA,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(cA,"configs",{value:dxe()})});var VM=E((Xmn,GM)=>{"use strict";var YK=GK(),{LEVEL:XK,MESSAGE:JK}=Gs();YK.enabled=!0;var uxe=/\s+/,HM=class e{constructor(t={}){t.colors&&this.addColors(t.colors),this.options=t}static addColors(t){let r=Object.keys(t).reduce((n,s)=>(n[s]=uxe.test(t[s])?t[s].split(uxe):t[s],n),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}addColors(t){return e.addColors(t)}colorize(t,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(e.allColors[t]))return YK[e.allColors[t]](n);for(let s=0,i=e.allColors[t].length;s<i;s++)n=YK[e.allColors[t][s]](n);return n}transform(t,r){return r.all&&typeof t[JK]=="string"&&(t[JK]=this.colorize(t[XK],t.level,t[JK])),(r.level||r.all||!r.message)&&(t.level=this.colorize(t[XK],t.level)),(r.all||r.message)&&(t.message=this.colorize(t[XK],t.level,t.message)),t}};GM.exports=e=>new HM(e);GM.exports.Colorizer=GM.exports.Format=HM});var fxe=E((Jmn,mxe)=>{"use strict";var{Colorizer:d1t}=VM();mxe.exports=e=>(d1t.addColors(e.colors||e),e)});var gxe=E((Ymn,pxe)=>{"use strict";var u1t=Ca();pxe.exports=u1t(e=>(e.message=`	${e.message}`,e))});var _xe=E((Qmn,yxe)=>{"use strict";var m1t=Ca(),{LEVEL:hxe,MESSAGE:QK}=Gs();yxe.exports=m1t((e,{stack:t,cause:r})=>{if(e instanceof Error){let s=Object.assign({},e,{level:e.level,[hxe]:e[hxe]||e.level,message:e.message,[QK]:e[QK]||e.message});return t&&(s.stack=e.stack),r&&(s.cause=e.cause),s}if(!(e.message instanceof Error))return e;let n=e.message;return Object.assign(e,n),e.message=n.message,e[QK]=n.message,t&&(e.stack=n.stack),r&&(e.cause=n.cause),e})});var e6=E((Zmn,KM)=>{"use strict";var{configs:f1t,LEVEL:Sxe,MESSAGE:ZK}=Gs(),WM=class e{constructor(t={levels:f1t.npm.levels}){this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}static getLongestLevel(t){let r=Object.keys(t).map(n=>n.length);return Math.max(...r)}static paddingForLevel(t,r,n){let s=n+1-t.length,i=Math.floor(s/r.length);return`${r}${r.repeat(i)}`.slice(0,s)}static paddingForLevels(t,r=" "){let n=e.getLongestLevel(t);return Object.keys(t).reduce((s,i)=>(s[i]=e.paddingForLevel(i,r,n),s),{})}transform(t,r){return t.message=`${this.paddings[t[Sxe]]}${t.message}`,t[ZK]&&(t[ZK]=`${this.paddings[t[Sxe]]}${t[ZK]}`),t}};KM.exports=e=>new WM(e);KM.exports.Padder=KM.exports.Format=WM});var vxe=E((efn,t6)=>{"use strict";var{Colorizer:p1t}=VM(),{Padder:g1t}=e6(),{configs:h1t,MESSAGE:y1t}=Gs(),XM=class{constructor(t={}){t.levels||(t.levels=h1t.cli.levels),this.colorizer=new p1t(t),this.padder=new g1t(t),this.options=t}transform(t,r){return this.colorizer.transform(this.padder.transform(t,r),r),t[y1t]=`${t.level}:${t.message}`,t}};t6.exports=e=>new XM(e);t6.exports.Format=XM});var Cxe=E((tfn,r6)=>{"use strict";var _1t=Ca();function Exe(e){if(e.every(S1t))return t=>{let r=t;for(let n=0;n<e.length;n++)if(r=e[n].transform(r,e[n].options),!r)return!1;return r}}function S1t(e){if(typeof e.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}r6.exports=(...e)=>{let t=_1t(Exe(e)),r=t();return r.Format=t.Format,r};r6.exports.cascade=Exe});var dA=E((o6,xxe)=>{"use strict";var{hasOwnProperty:lA}=Object.prototype,hy=i6();hy.configure=i6;hy.stringify=hy;hy.default=hy;o6.stringify=hy;o6.configure=i6;xxe.exports=hy;var v1t=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function Bp(e){return e.length<5e3&&!v1t.test(e)?`"${e}"`:JSON.stringify(e)}function n6(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],s=r;for(;s!==0&&e[s-1]>n;)e[s]=e[s-1],s--;e[s]=n}return e}var E1t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function s6(e){return E1t.call(e)!==void 0&&e.length!==0}function bxe(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",s=`"0":${n}${e[0]}`;for(let i=1;i<r;i++)s+=`${t}"${i}":${n}${e[i]}`;return s}function C1t(e){if(lA.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function b1t(e){let t;if(lA.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function w1t(e,t){let r;if(lA.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function wxe(e,t){let r;if(lA.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function gy(e){return e===1?"1 item":`${e} items`}function x1t(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function A1t(e){if(lA.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function i6(e){e={...e};let t=A1t(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=C1t(e),n=w1t(e,"bigint"),s=b1t(e),i=typeof s=="function"?s:void 0,o=wxe(e,"maximumDepth"),a=wxe(e,"maximumBreadth");function c(p,g,S,b,A,P){let M=g[p];switch(typeof M=="object"&&M!==null&&typeof M.toJSON=="function"&&(M=M.toJSON(p)),M=b.call(g,p,M),typeof M){case"string":return Bp(M);case"object":{if(M===null)return"null";if(S.indexOf(M)!==-1)return r;let N="",L=",",G=P;if(Array.isArray(M)){if(M.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(M),A!==""&&(P+=A,N+=`
${P}`,L=`,
${P}`);let Ln=Math.min(M.length,a),Fo=0;for(;Fo<Ln-1;Fo++){let qo=c(String(Fo),M,S,b,A,P);N+=qo!==void 0?qo:"null",N+=L}let to=c(String(Fo),M,S,b,A,P);if(N+=to!==void 0?to:"null",M.length-1>a){let qo=M.length-a-1;N+=`${L}"... ${gy(qo)} not stringified"`}return A!==""&&(N+=`
${G}`),S.pop(),`[${N}]`}let pe=Object.keys(M),ne=pe.length;if(ne===0)return"{}";if(o<S.length+1)return'"[Object]"';let Ee="",xe="";A!==""&&(P+=A,L=`,
${P}`,Ee=" ");let Xe=Math.min(ne,a);s&&!s6(M)&&(pe=n6(pe,i)),S.push(M);for(let Ln=0;Ln<Xe;Ln++){let Fo=pe[Ln],to=c(Fo,M,S,b,A,P);to!==void 0&&(N+=`${xe}${Bp(Fo)}:${Ee}${to}`,xe=L)}if(ne>a){let Ln=ne-a;N+=`${xe}"...":${Ee}"${gy(Ln)} not stringified"`,xe=L}return A!==""&&xe.length>1&&(N=`
${P}${N}
${G}`),S.pop(),`{${N}}`}case"number":return isFinite(M)?String(M):t?t(M):"null";case"boolean":return M===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(M);default:return t?t(M):void 0}}function l(p,g,S,b,A,P){switch(typeof g=="object"&&g!==null&&typeof g.toJSON=="function"&&(g=g.toJSON(p)),typeof g){case"string":return Bp(g);case"object":{if(g===null)return"null";if(S.indexOf(g)!==-1)return r;let M=P,N="",L=",";if(Array.isArray(g)){if(g.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(g),A!==""&&(P+=A,N+=`
${P}`,L=`,
${P}`);let ne=Math.min(g.length,a),Ee=0;for(;Ee<ne-1;Ee++){let Xe=l(String(Ee),g[Ee],S,b,A,P);N+=Xe!==void 0?Xe:"null",N+=L}let xe=l(String(Ee),g[Ee],S,b,A,P);if(N+=xe!==void 0?xe:"null",g.length-1>a){let Xe=g.length-a-1;N+=`${L}"... ${gy(Xe)} not stringified"`}return A!==""&&(N+=`
${M}`),S.pop(),`[${N}]`}S.push(g);let G="";A!==""&&(P+=A,L=`,
${P}`,G=" ");let pe="";for(let ne of b){let Ee=l(ne,g[ne],S,b,A,P);Ee!==void 0&&(N+=`${pe}${Bp(ne)}:${G}${Ee}`,pe=L)}return A!==""&&pe.length>1&&(N=`
${P}${N}
${M}`),S.pop(),`{${N}}`}case"number":return isFinite(g)?String(g):t?t(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return t?t(g):void 0}}function d(p,g,S,b,A){switch(typeof g){case"string":return Bp(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(p),typeof g!="object")return d(p,g,S,b,A);if(g===null)return"null"}if(S.indexOf(g)!==-1)return r;let P=A;if(Array.isArray(g)){if(g.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(g),A+=b;let Ee=`
${A}`,xe=`,
${A}`,Xe=Math.min(g.length,a),Ln=0;for(;Ln<Xe-1;Ln++){let to=d(String(Ln),g[Ln],S,b,A);Ee+=to!==void 0?to:"null",Ee+=xe}let Fo=d(String(Ln),g[Ln],S,b,A);if(Ee+=Fo!==void 0?Fo:"null",g.length-1>a){let to=g.length-a-1;Ee+=`${xe}"... ${gy(to)} not stringified"`}return Ee+=`
${P}`,S.pop(),`[${Ee}]`}let M=Object.keys(g),N=M.length;if(N===0)return"{}";if(o<S.length+1)return'"[Object]"';A+=b;let L=`,
${A}`,G="",pe="",ne=Math.min(N,a);s6(g)&&(G+=bxe(g,L,a),M=M.slice(g.length),ne-=g.length,pe=L),s&&(M=n6(M,i)),S.push(g);for(let Ee=0;Ee<ne;Ee++){let xe=M[Ee],Xe=d(xe,g[xe],S,b,A);Xe!==void 0&&(G+=`${pe}${Bp(xe)}: ${Xe}`,pe=L)}if(N>a){let Ee=N-a;G+=`${pe}"...": "${gy(Ee)} not stringified"`,pe=L}return pe!==""&&(G=`
${A}${G}
${P}`),S.pop(),`{${G}}`}case"number":return isFinite(g)?String(g):t?t(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return t?t(g):void 0}}function u(p,g,S){switch(typeof g){case"string":return Bp(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(p),typeof g!="object")return u(p,g,S);if(g===null)return"null"}if(S.indexOf(g)!==-1)return r;let b="",A=g.length!==void 0;if(A&&Array.isArray(g)){if(g.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(g);let G=Math.min(g.length,a),pe=0;for(;pe<G-1;pe++){let Ee=u(String(pe),g[pe],S);b+=Ee!==void 0?Ee:"null",b+=","}let ne=u(String(pe),g[pe],S);if(b+=ne!==void 0?ne:"null",g.length-1>a){let Ee=g.length-a-1;b+=`,"... ${gy(Ee)} not stringified"`}return S.pop(),`[${b}]`}let P=Object.keys(g),M=P.length;if(M===0)return"{}";if(o<S.length+1)return'"[Object]"';let N="",L=Math.min(M,a);A&&s6(g)&&(b+=bxe(g,",",a),P=P.slice(g.length),L-=g.length,N=","),s&&(P=n6(P,i)),S.push(g);for(let G=0;G<L;G++){let pe=P[G],ne=u(pe,g[pe],S);ne!==void 0&&(b+=`${N}${Bp(pe)}:${ne}`,N=",")}if(M>a){let G=M-a;b+=`${N}"...":"${gy(G)} not stringified"`}return S.pop(),`{${b}}`}case"number":return isFinite(g)?String(g):t?t(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return t?t(g):void 0}}function f(p,g,S){if(arguments.length>1){let b="";if(typeof S=="number"?b=" ".repeat(Math.min(S,10)):typeof S=="string"&&(b=S.slice(0,10)),g!=null){if(typeof g=="function")return c("",{"":p},[],g,b,"");if(Array.isArray(g))return l("",p,[],x1t(g),b,"")}if(b.length!==0)return d("",p,[],b,"")}return u("",p,[])}return f}});var a6=E((rfn,Axe)=>{"use strict";var P1t=Ca(),{MESSAGE:R1t}=Gs(),I1t=dA();function T1t(e,t){return typeof t=="bigint"?t.toString():t}Axe.exports=P1t((e,t)=>{let r=I1t.configure(t);return e[R1t]=r(e,t.replacer||T1t,t.space),e})});var Rxe=E((nfn,Pxe)=>{"use strict";var O1t=Ca();Pxe.exports=O1t((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))});var Txe=E((sfn,Ixe)=>{"use strict";var N1t=Ca(),{MESSAGE:D1t}=Gs(),k1t=dA();Ixe.exports=N1t(e=>{let t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[D1t]=k1t(t),e})});var Nxe=E((ifn,Oxe)=>{"use strict";var M1t=Ca();function L1t(e,t,r){let n=t.reduce((i,o)=>(i[o]=e[o],delete e[o],i),{}),s=Object.keys(e).reduce((i,o)=>(i[o]=e[o],delete e[o],i),{});return Object.assign(e,n,{[r]:s}),e}function U1t(e,t,r){return e[r]=t.reduce((n,s)=>(n[s]=e[s],delete e[s],n),{}),e}Oxe.exports=M1t((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return!t.fillExcept&&!t.fillWith&&(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?L1t(e,n,r):t.fillWith?U1t(e,t.fillWith,r):e})});var kxe=E((ofn,Dxe)=>{var zv=1e3,Hv=zv*60,Gv=Hv*60,yy=Gv*24,B1t=yy*7,F1t=yy*365.25;Dxe.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return q1t(e);if(r==="number"&&isFinite(e))return t.long?$1t(e):j1t(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function q1t(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*F1t;case"weeks":case"week":case"w":return r*B1t;case"days":case"day":case"d":return r*yy;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Gv;case"minutes":case"minute":case"mins":case"min":case"m":return r*Hv;case"seconds":case"second":case"secs":case"sec":case"s":return r*zv;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function j1t(e){var t=Math.abs(e);return t>=yy?Math.round(e/yy)+"d":t>=Gv?Math.round(e/Gv)+"h":t>=Hv?Math.round(e/Hv)+"m":t>=zv?Math.round(e/zv)+"s":e+"ms"}function $1t(e){var t=Math.abs(e);return t>=yy?JM(e,t,yy,"day"):t>=Gv?JM(e,t,Gv,"hour"):t>=Hv?JM(e,t,Hv,"minute"):t>=zv?JM(e,t,zv,"second"):e+" ms"}function JM(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var Lxe=E((uA,Mxe)=>{"use strict";var z1t=Ca(),H1t=kxe();Mxe.exports=z1t(e=>{let t=+new Date;return uA.diff=t-(uA.prevTime||t),uA.prevTime=t,e.ms=`+${H1t(uA.diff)}`,e})});var Fxe=E((afn,Bxe)=>{"use strict";var G1t=require("util").inspect,V1t=Ca(),{LEVEL:W1t,MESSAGE:Uxe,SPLAT:K1t}=Gs();Bxe.exports=V1t((e,t={})=>{let r=Object.assign({},e);return delete r[W1t],delete r[Uxe],delete r[K1t],e[Uxe]=G1t(r,!1,t.depth||null,t.colorize),e})});var qxe=E((cfn,QM)=>{"use strict";var{MESSAGE:X1t}=Gs(),YM=class{constructor(t){this.template=t}transform(t){return t[X1t]=this.template(t),t}};QM.exports=e=>new YM(e);QM.exports.Printf=QM.exports.Format=YM});var zxe=E((lfn,$xe)=>{"use strict";var J1t=Ca(),{MESSAGE:jxe}=Gs(),Y1t=dA();$xe.exports=J1t(e=>{let t=Y1t(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return t!=="{}"?e[jxe]=`${e.level}:${r} ${e.message} ${t}`:e[jxe]=`${e.level}:${r} ${e.message}`,e})});var Vxe=E((dfn,Gxe)=>{"use strict";var Q1t=require("util"),{SPLAT:Hxe}=Gs(),Z1t=/%[scdjifoO%]/g,e$t=/%%/g,c6=class{constructor(t){this.options=t}_splat(t,r){let n=t.message,s=t[Hxe]||t.splat||[],i=n.match(e$t),o=i&&i.length||0,c=r.length-o-s.length,l=c<0?s.splice(c,-1*c):[],d=l.length;if(d)for(let u=0;u<d;u++)Object.assign(t,l[u]);return t.message=Q1t.format(n,...s),t}transform(t){let r=t.message,n=t[Hxe]||t.splat;if(!n||!n.length)return t;let s=r&&r.match&&r.match(Z1t);if(!s&&(n||n.length)){let i=n.length>1?n.splice(0):n,o=i.length;if(o)for(let a=0;a<o;a++)Object.assign(t,i[a]);return t}return s?this._splat(t,s):t}};Gxe.exports=e=>new c6(e)});var Kxe=E((ZM,Wxe)=>{(function(e,t){typeof ZM=="object"&&typeof Wxe<"u"?t(ZM):typeof define=="function"&&define.amd?define(["exports"],t):t(e.fecha={})})(ZM,function(e){"use strict";var t=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",s="\\d{3}",i="\\d{4}",o="[^\\s]+",a=/\[([^]*?)\]/gm;function c(re,Be){for(var Or=[],ro=0,rt=re.length;ro<rt;ro++)Or.push(re[ro].substr(0,Be));return Or}var l=function(re){return function(Be,Or){var ro=Or[re].map(function(Fd){return Fd.toLowerCase()}),rt=ro.indexOf(Be.toLowerCase());return rt>-1?rt:null}};function d(re){for(var Be=[],Or=1;Or<arguments.length;Or++)Be[Or-1]=arguments[Or];for(var ro=0,rt=Be;ro<rt.length;ro++){var Fd=rt[ro];for(var Dh in Fd)re[Dh]=Fd[Dh]}return re}var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],p=c(f,3),g=c(u,3),S={dayNamesShort:g,dayNames:u,monthNamesShort:p,monthNames:f,amPm:["am","pm"],DoFn:function(re){return re+["th","st","nd","rd"][re%10>3?0:(re-re%10!==10?1:0)*re%10]}},b=d({},S),A=function(re){return b=d(b,re)},P=function(re){return re.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},M=function(re,Be){for(Be===void 0&&(Be=2),re=String(re);re.length<Be;)re="0"+re;return re},N={D:function(re){return String(re.getDate())},DD:function(re){return M(re.getDate())},Do:function(re,Be){return Be.DoFn(re.getDate())},d:function(re){return String(re.getDay())},dd:function(re){return M(re.getDay())},ddd:function(re,Be){return Be.dayNamesShort[re.getDay()]},dddd:function(re,Be){return Be.dayNames[re.getDay()]},M:function(re){return String(re.getMonth()+1)},MM:function(re){return M(re.getMonth()+1)},MMM:function(re,Be){return Be.monthNamesShort[re.getMonth()]},MMMM:function(re,Be){return Be.monthNames[re.getMonth()]},YY:function(re){return M(String(re.getFullYear()),4).substr(2)},YYYY:function(re){return M(re.getFullYear(),4)},h:function(re){return String(re.getHours()%12||12)},hh:function(re){return M(re.getHours()%12||12)},H:function(re){return String(re.getHours())},HH:function(re){return M(re.getHours())},m:function(re){return String(re.getMinutes())},mm:function(re){return M(re.getMinutes())},s:function(re){return String(re.getSeconds())},ss:function(re){return M(re.getSeconds())},S:function(re){return String(Math.round(re.getMilliseconds()/100))},SS:function(re){return M(Math.round(re.getMilliseconds()/10),2)},SSS:function(re){return M(re.getMilliseconds(),3)},a:function(re,Be){return re.getHours()<12?Be.amPm[0]:Be.amPm[1]},A:function(re,Be){return re.getHours()<12?Be.amPm[0].toUpperCase():Be.amPm[1].toUpperCase()},ZZ:function(re){var Be=re.getTimezoneOffset();return(Be>0?"-":"+")+M(Math.floor(Math.abs(Be)/60)*100+Math.abs(Be)%60,4)},Z:function(re){var Be=re.getTimezoneOffset();return(Be>0?"-":"+")+M(Math.floor(Math.abs(Be)/60),2)+":"+M(Math.abs(Be)%60,2)}},L=function(re){return+re-1},G=[null,r],pe=[null,o],ne=["isPm",o,function(re,Be){var Or=re.toLowerCase();return Or===Be.amPm[0]?0:Or===Be.amPm[1]?1:null}],Ee=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(re){var Be=(re+"").match(/([+-]|\d\d)/gi);if(Be){var Or=+Be[1]*60+parseInt(Be[2],10);return Be[0]==="+"?Or:-Or}return 0}],xe={D:["day",r],DD:["day",n],Do:["day",r+o,function(re){return parseInt(re,10)}],M:["month",r,L],MM:["month",n,L],YY:["year",n,function(re){var Be=new Date,Or=+(""+Be.getFullYear()).substr(0,2);return+(""+(+re>68?Or-1:Or)+re)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",i],S:["millisecond","\\d",function(re){return+re*100}],SS:["millisecond",n,function(re){return+re*10}],SSS:["millisecond",s],d:G,dd:G,ddd:pe,dddd:pe,MMM:["month",o,l("monthNamesShort")],MMMM:["month",o,l("monthNames")],a:ne,A:ne,ZZ:Ee,Z:Ee},Xe={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ln=function(re){return d(Xe,re)},Fo=function(re,Be,Or){if(Be===void 0&&(Be=Xe.default),Or===void 0&&(Or={}),typeof re=="number"&&(re=new Date(re)),Object.prototype.toString.call(re)!=="[object Date]"||isNaN(re.getTime()))throw new Error("Invalid Date pass to format");Be=Xe[Be]||Be;var ro=[];Be=Be.replace(a,function(Fd,Dh){return ro.push(Dh),"@@@"});var rt=d(d({},b),Or);return Be=Be.replace(t,function(Fd){return N[Fd](re,rt)}),Be.replace(/@@@/g,function(){return ro.shift()})};function to(re,Be,Or){if(Or===void 0&&(Or={}),typeof Be!="string")throw new Error("Invalid format in fecha parse");if(Be=Xe[Be]||Be,re.length>1e3)return null;var ro=new Date,rt={year:ro.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Fd=[],Dh=[],E0=Be.replace(a,function(C0,zS){return Dh.push(P(zS)),"@@@"}),FO={},dae={};E0=P(E0).replace(t,function(C0){var zS=xe[C0],d3=zS[0],Kvt=zS[1],pae=zS[3];if(FO[d3])throw new Error("Invalid format. "+d3+" specified twice in format");return FO[d3]=!0,pae&&(dae[pae]=!0),Fd.push(zS),"("+Kvt+")"}),Object.keys(dae).forEach(function(C0){if(!FO[C0])throw new Error("Invalid format. "+C0+" is required in specified format")}),E0=E0.replace(/@@@/g,function(){return Dh.shift()});var qO=re.match(new RegExp(E0,"i"));if(!qO)return null;for(var Gvt=d(d({},b),Or),sd=1;sd<qO.length;sd++){var uae=Fd[sd-1],Vvt=uae[0],mae=uae[2],fae=mae?mae(qO[sd],Gvt):+qO[sd];if(fae==null)return null;rt[Vvt]=fae}rt.isPm===1&&rt.hour!=null&&+rt.hour!=12?rt.hour=+rt.hour+12:rt.isPm===0&&+rt.hour==12&&(rt.hour=0);var jO;if(rt.timezoneOffset==null){jO=new Date(rt.year,rt.month,rt.day,rt.hour,rt.minute,rt.second,rt.millisecond);for(var $O=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],sd=0,Wvt=$O.length;sd<Wvt;sd++)if(FO[$O[sd][0]]&&rt[$O[sd][0]]!==jO[$O[sd][1]]())return null}else if(jO=new Date(Date.UTC(rt.year,rt.month,rt.day,rt.hour,rt.minute-rt.timezoneOffset,rt.second,rt.millisecond)),rt.month>11||rt.month<0||rt.day>31||rt.day<1||rt.hour>23||rt.hour<0||rt.minute>59||rt.minute<0||rt.second>59||rt.second<0)return null;return jO}var qo={format:Fo,parse:to,defaultI18n:S,setGlobalDateI18n:A,setGlobalDateMasks:Ln};e.assign=d,e.default=qo,e.format=Fo,e.parse=to,e.defaultI18n=S,e.setGlobalDateI18n=A,e.setGlobalDateMasks=Ln,Object.defineProperty(e,"__esModule",{value:!0})})});var Jxe=E((ufn,Xxe)=>{"use strict";var t$t=Kxe(),r$t=Ca();Xxe.exports=r$t((e,t={})=>(t.format&&(e.timestamp=typeof t.format=="function"?t.format():t$t.format(new Date,t.format)),e.timestamp||(e.timestamp=new Date().toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))});var Qxe=E((mfn,Yxe)=>{"use strict";var l6=GK(),n$t=Ca(),{MESSAGE:d6}=Gs();Yxe.exports=n$t((e,t)=>(t.level!==!1&&(e.level=l6.strip(e.level)),t.message!==!1&&(e.message=l6.strip(String(e.message))),t.raw!==!1&&e[d6]&&(e[d6]=l6.strip(String(e[d6]))),e))});var m6=E(u6=>{"use strict";var s$t=u6.format=Ca();u6.levels=fxe();function zi(e,t){Object.defineProperty(s$t,e,{get(){return t()},configurable:!0})}zi("align",function(){return gxe()});zi("errors",function(){return _xe()});zi("cli",function(){return vxe()});zi("combine",function(){return Cxe()});zi("colorize",function(){return VM()});zi("json",function(){return a6()});zi("label",function(){return Rxe()});zi("logstash",function(){return Txe()});zi("metadata",function(){return Nxe()});zi("ms",function(){return Lxe()});zi("padLevels",function(){return e6()});zi("prettyPrint",function(){return Fxe()});zi("printf",function(){return qxe()});zi("simple",function(){return zxe()});zi("splat",function(){return Vxe()});zi("timestamp",function(){return Jxe()});zi("uncolorize",function(){return Qxe()})});var f6=E(eL=>{"use strict";var{format:Zxe}=require("util");eL.warn={deprecated(e){return()=>{throw new Error(Zxe("{ %s } was removed in winston@3.0.0.",e))}},useFormat(e){return()=>{throw new Error([Zxe("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(e,t,r){r.forEach(n=>{e[n]=eL.warn[t](n)})},forProperties(e,t,r){r.forEach(n=>{let s=eL.warn[t](n);Object.defineProperty(e,n,{get:s,set:s})})}}});var eAe=E((gfn,i$t)=>{i$t.exports={name:"winston",description:"A logger for just about everything.",version:"3.17.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var rAe=E((hfn,tAe)=>{tAe.exports=require("util").deprecate});var p6=E((yfn,nAe)=>{nAe.exports=require("stream")});var h6=E((_fn,iAe)=>{"use strict";function o$t(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(g6,this,e)):process.nextTick(g6,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?process.nextTick(tL,r):(r._writableState.errorEmitted=!0,process.nextTick(sAe,r,i)):process.nextTick(sAe,r,i):t?(process.nextTick(tL,r),t(i)):process.nextTick(tL,r)}),this)}function sAe(e,t){g6(e,t),tL(e)}function tL(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a$t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g6(e,t){e.emit("error",t)}function c$t(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}iAe.exports={destroy:o$t,undestroy:a$t,errorOrDestroy:c$t}});var Fp=E((Sfn,cAe)=>{"use strict";var aAe={};function $c(e,t,r){r||(r=Error);function n(i,o,a){return typeof t=="string"?t:t(i,o,a)}class s extends r{constructor(o,a,c){super(n(o,a,c))}}s.prototype.name=r.name,s.prototype.code=e,aAe[e]=s}function oAe(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function l$t(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function d$t(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function u$t(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}$c("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);$c("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&l$t(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let s;if(d$t(e," argument"))s=`The ${e} ${n} ${oAe(t,"type")}`;else{let i=u$t(e,".")?"property":"argument";s=`The "${e}" ${i} ${n} ${oAe(t,"type")}`}return s+=`. Received type ${typeof r}`,s},TypeError);$c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$c("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});$c("ERR_STREAM_PREMATURE_CLOSE","Premature close");$c("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});$c("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$c("ERR_STREAM_WRITE_AFTER_END","write after end");$c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$c("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);$c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");cAe.exports.codes=aAe});var y6=E((vfn,lAe)=>{"use strict";var m$t=Fp().codes.ERR_INVALID_OPT_VALUE;function f$t(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function p$t(e,t,r,n){var s=f$t(t,n,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var i=n?r:"highWaterMark";throw new m$t(i,s)}return Math.floor(s)}return e.objectMode?16:16*1024}lAe.exports={getHighWaterMark:p$t}});var dAe=E((Efn,_6)=>{typeof Object.create=="function"?_6.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:_6.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Vv=E((Cfn,v6)=>{try{if(S6=require("util"),typeof S6.inherits!="function")throw"";v6.exports=S6.inherits}catch{v6.exports=dAe()}var S6});var hAe=E((bfn,gAe)=>{"use strict";function uAe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uAe(Object(r),!0).forEach(function(n){g$t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uAe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g$t(e,t,r){return t=pAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pAe(n.key),n)}}function y$t(e,t,r){return t&&fAe(e.prototype,t),r&&fAe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e){var t=_$t(e,"string");return typeof t=="symbol"?t:String(t)}function _$t(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S$t=require("buffer"),rL=S$t.Buffer,v$t=require("util"),E6=v$t.inspect,E$t=E6&&E6.custom||"inspect";function C$t(e,t,r){rL.prototype.copy.call(e,t,r)}gAe.exports=function(){function e(){h$t(this,e),this.head=null,this.tail=null,this.length=0}return y$t(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,s=""+n.data;n=n.next;)s+=r+n.data;return s}},{key:"concat",value:function(r){if(this.length===0)return rL.alloc(0);for(var n=rL.allocUnsafe(r>>>0),s=this.head,i=0;s;)C$t(s.data,n,i),i+=s.data.length,s=s.next;return n}},{key:"consume",value:function(r,n){var s;return r<this.head.data.length?(s=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?s=this.shift():s=n?this._getString(r):this._getBuffer(r),s}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,s=1,i=n.data;for(r-=i.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?i+=o:i+=o.slice(0,r),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:"_getBuffer",value:function(r){var n=rL.allocUnsafe(r),s=this.head,i=1;for(s.data.copy(n),r-=s.data.length;s=s.next;){var o=s.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++i,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=o.slice(a));break}++i}return this.length-=i,n}},{key:E$t,value:function(r,n){return E6(this,mAe(mAe({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var SAe=E((C6,_Ae)=>{var nL=require("buffer"),iu=nL.Buffer;function yAe(e,t){for(var r in e)t[r]=e[r]}iu.from&&iu.alloc&&iu.allocUnsafe&&iu.allocUnsafeSlow?_Ae.exports=nL:(yAe(nL,C6),C6.Buffer=_y);function _y(e,t,r){return iu(e,t,r)}_y.prototype=Object.create(iu.prototype);yAe(iu,_y);_y.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return iu(e,t,r)};_y.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=iu(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};_y.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return iu(e)};_y.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return nL.SlowBuffer(e)}});var x6=E(EAe=>{"use strict";var w6=SAe().Buffer,vAe=w6.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b$t(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function w$t(e){var t=b$t(e);if(typeof t!="string"&&(w6.isEncoding===vAe||!vAe(e)))throw new Error("Unknown encoding: "+e);return t||e}EAe.StringDecoder=mA;function mA(e){this.encoding=w$t(e);var t;switch(this.encoding){case"utf16le":this.text=T$t,this.end=O$t,t=4;break;case"utf8":this.fillLast=P$t,t=4;break;case"base64":this.text=N$t,this.end=D$t,t=3;break;default:this.write=k$t,this.end=M$t;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=w6.allocUnsafe(t)}mA.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};mA.prototype.end=I$t;mA.prototype.text=R$t;mA.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function b6(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function x$t(e,t,r){var n=t.length-1;if(n<r)return 0;var s=b6(t[n]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--n<r||s===-2?0:(s=b6(t[n]),s>=0?(s>0&&(e.lastNeed=s-2),s):--n<r||s===-2?0:(s=b6(t[n]),s>=0?(s>0&&(s===2?s=0:e.lastNeed=s-3),s):0))}function A$t(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function P$t(e){var t=this.lastTotal-this.lastNeed,r=A$t(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function R$t(e,t){var r=x$t(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function I$t(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function T$t(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function O$t(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function N$t(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function D$t(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function k$t(e){return e.toString(this.encoding)}function M$t(e){return e&&e.length?this.write(e):""}});var sL=E((xfn,wAe)=>{"use strict";var CAe=Fp().codes.ERR_STREAM_PREMATURE_CLOSE;function L$t(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];e.apply(this,n)}}}function U$t(){}function B$t(e){return e.setHeader&&typeof e.abort=="function"}function bAe(e,t,r){if(typeof t=="function")return bAe(e,null,t);t||(t={}),r=L$t(r||U$t);var n=t.readable||t.readable!==!1&&e.readable,s=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||a()},o=e._writableState&&e._writableState.finished,a=function(){s=!1,o=!0,n||r.call(e)},c=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,c=!0,s||r.call(e)},d=function(g){r.call(e,g)},u=function(){var g;if(n&&!c)return(!e._readableState||!e._readableState.ended)&&(g=new CAe),r.call(e,g);if(s&&!o)return(!e._writableState||!e._writableState.ended)&&(g=new CAe),r.call(e,g)},f=function(){e.req.on("finish",a)};return B$t(e)?(e.on("complete",a),e.on("abort",u),e.req?f():e.on("request",f)):s&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",l),e.on("finish",a),t.error!==!1&&e.on("error",d),e.on("close",u),function(){e.removeListener("complete",a),e.removeListener("abort",u),e.removeListener("request",f),e.req&&e.req.removeListener("finish",a),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",d),e.removeListener("close",u)}}wAe.exports=bAe});var AAe=E((Afn,xAe)=>{"use strict";var iL;function qp(e,t,r){return t=F$t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F$t(e){var t=q$t(e,"string");return typeof t=="symbol"?t:String(t)}function q$t(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j$t=sL(),jp=Symbol("lastResolve"),Sy=Symbol("lastReject"),fA=Symbol("error"),oL=Symbol("ended"),vy=Symbol("lastPromise"),A6=Symbol("handlePromise"),Ey=Symbol("stream");function $p(e,t){return{value:e,done:t}}function $$t(e){var t=e[jp];if(t!==null){var r=e[Ey].read();r!==null&&(e[vy]=null,e[jp]=null,e[Sy]=null,t($p(r,!1)))}}function z$t(e){process.nextTick($$t,e)}function H$t(e,t){return function(r,n){e.then(function(){if(t[oL]){r($p(void 0,!0));return}t[A6](r,n)},n)}}var G$t=Object.getPrototypeOf(function(){}),V$t=Object.setPrototypeOf((iL={get stream(){return this[Ey]},next:function(){var t=this,r=this[fA];if(r!==null)return Promise.reject(r);if(this[oL])return Promise.resolve($p(void 0,!0));if(this[Ey].destroyed)return new Promise(function(o,a){process.nextTick(function(){t[fA]?a(t[fA]):o($p(void 0,!0))})});var n=this[vy],s;if(n)s=new Promise(H$t(n,this));else{var i=this[Ey].read();if(i!==null)return Promise.resolve($p(i,!1));s=new Promise(this[A6])}return this[vy]=s,s}},qp(iL,Symbol.asyncIterator,function(){return this}),qp(iL,"return",function(){var t=this;return new Promise(function(r,n){t[Ey].destroy(null,function(s){if(s){n(s);return}r($p(void 0,!0))})})}),iL),G$t),W$t=function(t){var r,n=Object.create(V$t,(r={},qp(r,Ey,{value:t,writable:!0}),qp(r,jp,{value:null,writable:!0}),qp(r,Sy,{value:null,writable:!0}),qp(r,fA,{value:null,writable:!0}),qp(r,oL,{value:t._readableState.endEmitted,writable:!0}),qp(r,A6,{value:function(i,o){var a=n[Ey].read();a?(n[vy]=null,n[jp]=null,n[Sy]=null,i($p(a,!1))):(n[jp]=i,n[Sy]=o)},writable:!0}),r));return n[vy]=null,j$t(t,function(s){if(s&&s.code!=="ERR_STREAM_PREMATURE_CLOSE"){var i=n[Sy];i!==null&&(n[vy]=null,n[jp]=null,n[Sy]=null,i(s)),n[fA]=s;return}var o=n[jp];o!==null&&(n[vy]=null,n[jp]=null,n[Sy]=null,o($p(void 0,!0))),n[oL]=!0}),t.on("readable",z$t.bind(null,n)),n};xAe.exports=W$t});var TAe=E((Pfn,IAe)=>{"use strict";function PAe(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(l){r(l);return}a.done?t(c):Promise.resolve(c).then(n,s)}function K$t(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(c){PAe(i,n,s,o,a,"next",c)}function a(c){PAe(i,n,s,o,a,"throw",c)}o(void 0)})}}function RAe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X$t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RAe(Object(r),!0).forEach(function(n){J$t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RAe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J$t(e,t,r){return t=Y$t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$t(e){var t=Q$t(e,"string");return typeof t=="symbol"?t:String(t)}function Q$t(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z$t=Fp().codes.ERR_INVALID_ARG_TYPE;function ezt(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new Z$t("iterable",["Iterable"],t);var s=new e(X$t({objectMode:!0},r)),i=!1;s._read=function(){i||(i=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=K$t(function*(){try{var c=yield n.next(),l=c.value,d=c.done;d?s.push(null):s.push(yield l)?o():i=!1}catch(u){s.destroy(u)}}),a.apply(this,arguments)}return s}IAe.exports=ezt});var L6=E((Ifn,qAe)=>{"use strict";qAe.exports=mr;var Wv;mr.ReadableState=kAe;var Rfn=require("events").EventEmitter,DAe=function(t,r){return t.listeners(r).length},gA=p6(),aL=require("buffer").Buffer,tzt=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rzt(e){return aL.from(e)}function nzt(e){return aL.isBuffer(e)||e instanceof tzt}var P6=require("util"),Vt;P6&&P6.debuglog?Vt=P6.debuglog("stream"):Vt=function(){};var szt=hAe(),k6=h6(),izt=y6(),ozt=izt.getHighWaterMark,cL=Fp().codes,azt=cL.ERR_INVALID_ARG_TYPE,czt=cL.ERR_STREAM_PUSH_AFTER_EOF,lzt=cL.ERR_METHOD_NOT_IMPLEMENTED,dzt=cL.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Kv,R6,I6;Vv()(mr,gA);var pA=k6.errorOrDestroy,T6=["error","close","destroy","pause","resume"];function uzt(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function kAe(e,t,r){Wv=Wv||Cy(),e=e||{},typeof r!="boolean"&&(r=t instanceof Wv),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=ozt(this,e,"readableHighWaterMark",r),this.buffer=new szt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Kv||(Kv=x6().StringDecoder),this.decoder=new Kv(e.encoding),this.encoding=e.encoding)}function mr(e){if(Wv=Wv||Cy(),!(this instanceof mr))return new mr(e);var t=this instanceof Wv;this._readableState=new kAe(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),gA.call(this)}Object.defineProperty(mr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});mr.prototype.destroy=k6.destroy;mr.prototype._undestroy=k6.undestroy;mr.prototype._destroy=function(e,t){t(e)};mr.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=aL.from(e,t),t=""),n=!0),MAe(this,e,t,!1,n)};mr.prototype.unshift=function(e){return MAe(this,e,null,!0,!1)};function MAe(e,t,r,n,s){Vt("readableAddChunk",t);var i=e._readableState;if(t===null)i.reading=!1,pzt(e,i);else{var o;if(s||(o=mzt(i,t)),o)pA(e,o);else if(i.objectMode||t&&t.length>0)if(typeof t!="string"&&!i.objectMode&&Object.getPrototypeOf(t)!==aL.prototype&&(t=rzt(t)),n)i.endEmitted?pA(e,new dzt):O6(e,i,t,!0);else if(i.ended)pA(e,new czt);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?O6(e,i,t,!1):D6(e,i)):O6(e,i,t,!1)}else n||(i.reading=!1,D6(e,i))}return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function O6(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&lL(e)),D6(e,t)}function mzt(e,t){var r;return!nzt(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new azt("chunk",["string","Buffer","Uint8Array"],t)),r}mr.prototype.isPaused=function(){return this._readableState.flowing===!1};mr.prototype.setEncoding=function(e){Kv||(Kv=x6().StringDecoder);var t=new Kv(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var OAe=1073741824;function fzt(e){return e>=OAe?e=OAe:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function NAe(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=fzt(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}mr.prototype.read=function(e){Vt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return Vt("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?N6(this):lL(this),null;if(e=NAe(e,t),e===0&&t.ended)return t.length===0&&N6(this),null;var n=t.needReadable;Vt("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Vt("length less than watermark",n)),t.ended||t.reading?(n=!1,Vt("reading or ended",n)):n&&(Vt("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=NAe(r,t)));var s;return e>0?s=BAe(e,t):s=null,s===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N6(this)),s!==null&&this.emit("data",s),s};function pzt(e,t){if(Vt("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?lL(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,LAe(e)))}}function lL(e){var t=e._readableState;Vt("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(Vt("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(LAe,e))}function LAe(e){var t=e._readableState;Vt("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M6(e)}function D6(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(gzt,e,t))}function gzt(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(Vt("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}mr.prototype._read=function(e){pA(this,new lzt("_read()"))};mr.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Vt("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,i=s?a:S;n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);function o(b,A){Vt("onunpipe"),b===r&&A&&A.hasUnpiped===!1&&(A.hasUnpiped=!0,d())}function a(){Vt("onend"),e.end()}var c=hzt(r);e.on("drain",c);var l=!1;function d(){Vt("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",u),l=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}r.on("data",u);function u(b){Vt("ondata");var A=e.write(b);Vt("dest.write",A),A===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&FAe(n.pipes,e)!==-1)&&!l&&(Vt("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(b){Vt("onerror",b),S(),e.removeListener("error",f),DAe(e,"error")===0&&pA(e,b)}uzt(e,"error",f);function p(){e.removeListener("finish",g),S()}e.once("close",p);function g(){Vt("onfinish"),e.removeListener("close",p),S()}e.once("finish",g);function S(){Vt("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(Vt("pipe resume"),r.resume()),e};function hzt(e){return function(){var r=e._readableState;Vt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&DAe(e,"data")&&(r.flowing=!0,M6(e))}}mr.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<s;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var o=FAe(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};mr.prototype.on=function(e,t){var r=gA.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Vt("on readable",n.length,n.reading),n.length?lL(this):n.reading||process.nextTick(yzt,this)),r};mr.prototype.addListener=mr.prototype.on;mr.prototype.removeListener=function(e,t){var r=gA.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(UAe,this),r};mr.prototype.removeAllListeners=function(e){var t=gA.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(UAe,this),t};function UAe(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function yzt(e){Vt("readable nexttick read 0"),e.read(0)}mr.prototype.resume=function(){var e=this._readableState;return e.flowing||(Vt("resume"),e.flowing=!e.readableListening,_zt(this,e)),e.paused=!1,this};function _zt(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(Szt,e,t))}function Szt(e,t){Vt("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M6(e),t.flowing&&!t.reading&&e.read(0)}mr.prototype.pause=function(){return Vt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Vt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M6(e){var t=e._readableState;for(Vt("flow",t.flowing);t.flowing&&e.read()!==null;);}mr.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Vt("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(Vt("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=t.push(o);a||(n=!0,e.pause())}});for(var s in e)this[s]===void 0&&typeof e[s]=="function"&&(this[s]=function(a){return function(){return e[a].apply(e,arguments)}}(s));for(var i=0;i<T6.length;i++)e.on(T6[i],this.emit.bind(this,T6[i]));return this._read=function(o){Vt("wrapped _read",o),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(mr.prototype[Symbol.asyncIterator]=function(){return R6===void 0&&(R6=AAe()),R6(this)});Object.defineProperty(mr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(mr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(mr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});mr._fromList=BAe;Object.defineProperty(mr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function BAe(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function N6(e){var t=e._readableState;Vt("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(vzt,t,e))}function vzt(e,t){if(Vt("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(mr.from=function(e,t){return I6===void 0&&(I6=TAe()),I6(mr,e,t)});function FAe(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Cy=E((Tfn,$Ae)=>{"use strict";var Ezt=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};$Ae.exports=ou;var jAe=L6(),B6=mL();Vv()(ou,jAe);for(U6=Ezt(B6.prototype),dL=0;dL<U6.length;dL++)uL=U6[dL],ou.prototype[uL]||(ou.prototype[uL]=B6.prototype[uL]);var U6,uL,dL;function ou(e){if(!(this instanceof ou))return new ou(e);jAe.call(this,e),B6.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Czt)))}Object.defineProperty(ou.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ou.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ou.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Czt(){this._writableState.ended||process.nextTick(bzt,this)}function bzt(e){e.end()}Object.defineProperty(ou.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var mL=E((Ofn,KAe)=>{"use strict";KAe.exports=vs;function HAe(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Jzt(t,e)}}var Xv;vs.WritableState=yA;var wzt={deprecate:rAe()},GAe=p6(),pL=require("buffer").Buffer,xzt=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Azt(e){return pL.from(e)}function Pzt(e){return pL.isBuffer(e)||e instanceof xzt}var q6=h6(),Rzt=y6(),Izt=Rzt.getHighWaterMark,zp=Fp().codes,Tzt=zp.ERR_INVALID_ARG_TYPE,Ozt=zp.ERR_METHOD_NOT_IMPLEMENTED,Nzt=zp.ERR_MULTIPLE_CALLBACK,Dzt=zp.ERR_STREAM_CANNOT_PIPE,kzt=zp.ERR_STREAM_DESTROYED,Mzt=zp.ERR_STREAM_NULL_VALUES,Lzt=zp.ERR_STREAM_WRITE_AFTER_END,Uzt=zp.ERR_UNKNOWN_ENCODING,Jv=q6.errorOrDestroy;Vv()(vs,GAe);function Bzt(){}function yA(e,t,r){Xv=Xv||Cy(),e=e||{},typeof r!="boolean"&&(r=t instanceof Xv),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=Izt(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){Gzt(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new HAe(this)}yA.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(yA.prototype,"buffer",{get:wzt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var fL;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fL=Function.prototype[Symbol.hasInstance],Object.defineProperty(vs,Symbol.hasInstance,{value:function(t){return fL.call(this,t)?!0:this!==vs?!1:t&&t._writableState instanceof yA}})):fL=function(t){return t instanceof this};function vs(e){Xv=Xv||Cy();var t=this instanceof Xv;if(!t&&!fL.call(vs,this))return new vs(e);this._writableState=new yA(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),GAe.call(this)}vs.prototype.pipe=function(){Jv(this,new Dzt)};function Fzt(e,t){var r=new Lzt;Jv(e,r),process.nextTick(t,r)}function qzt(e,t,r,n){var s;return r===null?s=new Mzt:typeof r!="string"&&!t.objectMode&&(s=new Tzt("chunk",["string","Buffer"],r)),s?(Jv(e,s),process.nextTick(n,s),!1):!0}vs.prototype.write=function(e,t,r){var n=this._writableState,s=!1,i=!n.objectMode&&Pzt(e);return i&&!pL.isBuffer(e)&&(e=Azt(e)),typeof t=="function"&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Bzt),n.ending?Fzt(this,r):(i||qzt(this,n,e,r))&&(n.pendingcb++,s=$zt(this,n,i,e,t,r)),s};vs.prototype.cork=function(){this._writableState.corked++};vs.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&VAe(this,e))};vs.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Uzt(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(vs.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function jzt(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=pL.from(t,r)),t}Object.defineProperty(vs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $zt(e,t,r,n,s,i){if(!r){var o=jzt(t,n,s);n!==o&&(r=!0,s="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:s,isBuf:r,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else F6(e,t,!1,a,n,s,i);return c}function F6(e,t,r,n,s,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new kzt("write")):r?e._writev(s,t.onwrite):e._write(s,i,t.onwrite),t.sync=!1}function zzt(e,t,r,n,s){--t.pendingcb,r?(process.nextTick(s,n),process.nextTick(hA,e,t),e._writableState.errorEmitted=!0,Jv(e,n)):(s(n),e._writableState.errorEmitted=!0,Jv(e,n),hA(e,t))}function Hzt(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Gzt(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if(typeof s!="function")throw new Nzt;if(Hzt(r),t)zzt(e,r,n,t,s);else{var i=WAe(r)||e.destroyed;!i&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&VAe(e,r),n?process.nextTick(zAe,e,r,i,s):zAe(e,r,i,s)}}function zAe(e,t,r,n){r||Vzt(e,t),t.pendingcb--,n(),hA(e,t)}function Vzt(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function VAe(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var o=0,a=!0;r;)s[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;s.allBuffers=a,F6(e,t,!0,t.length,s,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new HAe(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback,u=t.objectMode?1:c.length;if(F6(e,t,!1,u,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}vs.prototype._write=function(e,t,r){r(new Ozt("_write()"))};vs.prototype._writev=null;vs.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Xzt(this,n,r),this};Object.defineProperty(vs.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function WAe(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Wzt(e,t){e._final(function(r){t.pendingcb--,r&&Jv(e,r),t.prefinished=!0,e.emit("prefinish"),hA(e,t)})}function Kzt(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(Wzt,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function hA(e,t){var r=WAe(t);if(r&&(Kzt(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function Xzt(e,t,r){t.ending=!0,hA(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Jzt(e,t,r){var n=e.entry;for(e.entry=null;n;){var s=n.callback;t.pendingcb--,s(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(vs.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});vs.prototype.destroy=q6.destroy;vs.prototype._undestroy=q6.undestroy;vs.prototype._destroy=function(e,t){t(e)}});var j6=E((Nfn,YAe)=>{"use strict";var Yzt=require("util"),XAe=mL(),{LEVEL:JAe}=Gs(),_A=YAe.exports=function(t={}){XAe.call(this,{objectMode:!0,highWaterMark:t.highWaterMark}),this.format=t.format,this.level=t.level,this.handleExceptions=t.handleExceptions,this.handleRejections=t.handleRejections,this.silent=t.silent,t.log&&(this.log=t.log),t.logv&&(this.logv=t.logv),t.close&&(this.close=t.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};Yzt.inherits(_A,XAe);_A.prototype._write=function(t,r,n){if(this.silent||t.exception===!0&&!this.handleExceptions)return n(null);let s=this.level||this.parent&&this.parent.level;if(!s||this.levels[s]>=this.levels[t[JAe]]){if(t&&!this.format)return this.log(t,n);let i,o;try{o=this.format.transform(Object.assign({},t),this.format.options)}catch(a){i=a}if(i||!o){if(n(),i)throw i;return}return this.log(o,n)}return this._writableState.sync=!1,n(null)};_A.prototype._writev=function(t,r){if(this.logv){let n=t.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<t.length;n++){if(!this._accept(t[n]))continue;if(t[n].chunk&&!this.format){this.log(t[n].chunk,t[n].callback);continue}let s,i;try{i=this.format.transform(Object.assign({},t[n].chunk),this.format.options)}catch(o){s=o}if(s||!i){if(t[n].callback(),s)throw r(null),s}else this.log(i,t[n].callback)}return r(null)};_A.prototype._accept=function(t){let r=t.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[JAe]])&&(this.handleExceptions||r.exception!==!0))};_A.prototype._nop=function(){}});var z6=E((Dfn,ZAe)=>{"use strict";var Qzt=require("util"),{LEVEL:$6}=Gs(),QAe=j6(),SA=ZAe.exports=function(t={}){if(QAe.call(this,t),!t.transport||typeof t.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=t.transport,this.level=this.level||t.transport.level,this.handleExceptions=this.handleExceptions||t.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};Qzt.inherits(SA,QAe);SA.prototype._write=function(t,r,n){if(this.silent||t.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[t[$6]])&&this.transport.log(t[$6],t.message,t,this._nop),n(null)};SA.prototype._writev=function(t,r){for(let n=0;n<t.length;n++)this._accept(t[n])&&(this.transport.log(t[n].chunk[$6],t[n].chunk.message,t[n].chunk,this._nop),t[n].callback());return r(null)};SA.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};SA.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var Yv=E((kfn,H6)=>{"use strict";H6.exports=j6();H6.exports.LegacyTransportStream=z6()});var rPe=E((Lfn,tPe)=>{"use strict";var Zzt=require("os"),{LEVEL:ePe,MESSAGE:Qv}=Gs(),eHt=Yv();tPe.exports=class extends eHt{constructor(t={}){super(t),this.name=t.name||"console",this.stderrLevels=this._stringArrayToSet(t.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(t.consoleWarnLevels),this.eol=typeof t.eol=="string"?t.eol:Zzt.EOL,this.forceConsole=t.forceConsole||!1,this._consoleLog=console.log.bind(console),this._consoleWarn=console.warn.bind(console),this._consoleError=console.error.bind(console),this.setMaxListeners(30)}log(t,r){if(setImmediate(()=>this.emit("logged",t)),this.stderrLevels[t[ePe]]){console._stderr&&!this.forceConsole?console._stderr.write(`${t[Qv]}${this.eol}`):this._consoleError(t[Qv]),r&&r();return}else if(this.consoleWarnLevels[t[ePe]]){console._stderr&&!this.forceConsole?console._stderr.write(`${t[Qv]}${this.eol}`):this._consoleWarn(t[Qv]),r&&r();return}console._stdout&&!this.forceConsole?console._stdout.write(`${t[Qv]}${this.eol}`):this._consoleLog(t[Qv]),r&&r()}_stringArrayToSet(t,r){if(!t)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(t))throw new Error(r);return t.reduce((n,s)=>{if(typeof s!="string")throw new Error(r);return n[s]=!0,n},{})}}});var hL=E((gL,nPe)=>{"use strict";Object.defineProperty(gL,"__esModule",{value:!0});gL.default=tHt;function tHt(e){return e&&typeof e.length=="number"&&e.length>=0&&e.length%1===0}nPe.exports=gL.default});var iPe=E((yL,sPe)=>{"use strict";Object.defineProperty(yL,"__esModule",{value:!0});yL.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}};sPe.exports=yL.default});var cPe=E(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.fallback=oPe;Hp.wrap=aPe;var rHt=Hp.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,nHt=Hp.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,sHt=Hp.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function oPe(e){setTimeout(e,0)}function aPe(e){return(t,...r)=>e(()=>t(...r))}var vA;rHt?vA=queueMicrotask:nHt?vA=setImmediate:sHt?vA=process.nextTick:vA=oPe;Hp.default=aPe(vA)});var fPe=E((_L,mPe)=>{"use strict";Object.defineProperty(_L,"__esModule",{value:!0});_L.default=dHt;var iHt=iPe(),oHt=uPe(iHt),aHt=cPe(),cHt=uPe(aHt),lHt=by();function uPe(e){return e&&e.__esModule?e:{default:e}}function dHt(e){return(0,lHt.isAsync)(e)?function(...t){let r=t.pop(),n=e.apply(this,t);return lPe(n,r)}:(0,oHt.default)(function(t,r){var n;try{n=e.apply(this,t)}catch(s){return r(s)}if(n&&typeof n.then=="function")return lPe(n,r);r(null,n)})}function lPe(e,t){return e.then(r=>{dPe(t,null,r)},r=>{dPe(t,r&&(r instanceof Error||r.message)?r:new Error(r))})}function dPe(e,t,r){try{e(t,r)}catch(n){(0,cHt.default)(s=>{throw s},n)}}mPe.exports=_L.default});var by=E(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.isAsyncIterable=Dm.isAsyncGenerator=Dm.isAsync=void 0;var uHt=fPe(),mHt=fHt(uHt);function fHt(e){return e&&e.__esModule?e:{default:e}}function pPe(e){return e[Symbol.toStringTag]==="AsyncFunction"}function pHt(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function gHt(e){return typeof e[Symbol.asyncIterator]=="function"}function hHt(e){if(typeof e!="function")throw new Error("expected a function");return pPe(e)?(0,mHt.default)(e):e}Dm.default=hHt;Dm.isAsync=pPe;Dm.isAsyncGenerator=pHt;Dm.isAsyncIterable=gHt});var Zv=E((SL,gPe)=>{"use strict";Object.defineProperty(SL,"__esModule",{value:!0});SL.default=yHt;function yHt(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");function r(...n){return typeof n[t-1]=="function"?e.apply(this,n):new Promise((s,i)=>{n[t-1]=(o,...a)=>{if(o)return i(o);s(a.length>1?a:a[0])},e.apply(this,n)})}return r}gPe.exports=SL.default});var yPe=E((vL,hPe)=>{"use strict";Object.defineProperty(vL,"__esModule",{value:!0});var _Ht=hL(),SHt=G6(_Ht),vHt=by(),EHt=G6(vHt),CHt=Zv(),bHt=G6(CHt);function G6(e){return e&&e.__esModule?e:{default:e}}vL.default=(0,bHt.default)((e,t,r)=>{var n=(0,SHt.default)(t)?[]:{};e(t,(s,i,o)=>{(0,EHt.default)(s)((a,...c)=>{c.length<2&&([c]=c),n[i]=c,o(a)})},s=>r(s,n))},3);hPe.exports=vL.default});var V6=E((EL,_Pe)=>{"use strict";Object.defineProperty(EL,"__esModule",{value:!0});EL.default=wHt;function wHt(e){function t(...r){if(e!==null){var n=e;e=null,n.apply(this,r)}}return Object.assign(t,e),t}_Pe.exports=EL.default});var vPe=E((CL,SPe)=>{"use strict";Object.defineProperty(CL,"__esModule",{value:!0});CL.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()};SPe.exports=CL.default});var bPe=E((bL,CPe)=>{"use strict";Object.defineProperty(bL,"__esModule",{value:!0});bL.default=NHt;var xHt=hL(),AHt=EPe(xHt),PHt=vPe(),RHt=EPe(PHt);function EPe(e){return e&&e.__esModule?e:{default:e}}function IHt(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function THt(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function OHt(e){var t=e?Object.keys(e):[],r=-1,n=t.length;return function s(){var i=t[++r];return i==="__proto__"?s():r<n?{value:e[i],key:i}:null}}function NHt(e){if((0,AHt.default)(e))return IHt(e);var t=(0,RHt.default)(e);return t?THt(t):OHt(e)}CPe.exports=bL.default});var W6=E((wL,wPe)=>{"use strict";Object.defineProperty(wL,"__esModule",{value:!0});wL.default=DHt;function DHt(e){return function(...t){if(e===null)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}wPe.exports=wL.default});var AL=E((xL,xPe)=>{"use strict";Object.defineProperty(xL,"__esModule",{value:!0});var kHt={};xL.default=kHt;xPe.exports=xL.default});var PPe=E((PL,APe)=>{"use strict";Object.defineProperty(PL,"__esModule",{value:!0});PL.default=BHt;var MHt=AL(),LHt=UHt(MHt);function UHt(e){return e&&e.__esModule?e:{default:e}}function BHt(e,t,r,n){let s=!1,i=!1,o=!1,a=0,c=0;function l(){a>=t||o||s||(o=!0,e.next().then(({value:f,done:p})=>{if(!(i||s)){if(o=!1,p){s=!0,a<=0&&n(null);return}a++,r(f,c,d),c++,l()}}).catch(u))}function d(f,p){if(a-=1,!i){if(f)return u(f);if(f===!1){s=!0,i=!0;return}if(p===LHt.default||s&&a<=0)return s=!0,n(null);l()}}function u(f){i||(o=!1,s=!0,n(f))}l()}APe.exports=PL.default});var OPe=E((RL,TPe)=>{"use strict";Object.defineProperty(RL,"__esModule",{value:!0});var FHt=V6(),qHt=EA(FHt),jHt=bPe(),$Ht=EA(jHt),zHt=W6(),HHt=EA(zHt),RPe=by(),GHt=PPe(),IPe=EA(GHt),VHt=AL(),WHt=EA(VHt);function EA(e){return e&&e.__esModule?e:{default:e}}RL.default=e=>(t,r,n)=>{if(n=(0,qHt.default)(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if((0,RPe.isAsyncGenerator)(t))return(0,IPe.default)(t,e,r,n);if((0,RPe.isAsyncIterable)(t))return(0,IPe.default)(t[Symbol.asyncIterator](),e,r,n);var s=(0,$Ht.default)(t),i=!1,o=!1,a=0,c=!1;function l(u,f){if(!o)if(a-=1,u)i=!0,n(u);else if(u===!1)i=!0,o=!0;else{if(f===WHt.default||i&&a<=0)return i=!0,n(null);c||d()}}function d(){for(c=!0;a<e&&!i;){var u=s();if(u===null){i=!0,a<=0&&n(null);return}a+=1,r(u.value,u.key,(0,HHt.default)(l))}c=!1}d()};TPe.exports=RL.default});var X6=E((IL,NPe)=>{"use strict";Object.defineProperty(IL,"__esModule",{value:!0});var KHt=OPe(),XHt=K6(KHt),JHt=by(),YHt=K6(JHt),QHt=Zv(),ZHt=K6(QHt);function K6(e){return e&&e.__esModule?e:{default:e}}function eGt(e,t,r,n){return(0,XHt.default)(t)(e,(0,YHt.default)(r),n)}IL.default=(0,ZHt.default)(eGt,4);NPe.exports=IL.default});var MPe=E((TL,kPe)=>{"use strict";Object.defineProperty(TL,"__esModule",{value:!0});var tGt=X6(),rGt=DPe(tGt),nGt=Zv(),sGt=DPe(nGt);function DPe(e){return e&&e.__esModule?e:{default:e}}function iGt(e,t,r){return(0,rGt.default)(e,1,t,r)}TL.default=(0,sGt.default)(iGt,3);kPe.exports=TL.default});var BPe=E((OL,UPe)=>{"use strict";Object.defineProperty(OL,"__esModule",{value:!0});OL.default=dGt;var oGt=yPe(),aGt=LPe(oGt),cGt=MPe(),lGt=LPe(cGt);function LPe(e){return e&&e.__esModule?e:{default:e}}function dGt(e,t){return(0,aGt.default)(lGt.default,e,t)}UPe.exports=OL.default});var J6=E((Ffn,qPe)=>{"use strict";qPe.exports=km;var NL=Fp().codes,uGt=NL.ERR_METHOD_NOT_IMPLEMENTED,mGt=NL.ERR_MULTIPLE_CALLBACK,fGt=NL.ERR_TRANSFORM_ALREADY_TRANSFORMING,pGt=NL.ERR_TRANSFORM_WITH_LENGTH_0,DL=Cy();Vv()(km,DL);function gGt(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new mGt);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function km(e){if(!(this instanceof km))return new km(e);DL.call(this,e),this._transformState={afterTransform:gGt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",hGt)}function hGt(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){FPe(e,t,r)}):FPe(this,null,null)}km.prototype.push=function(e,t){return this._transformState.needTransform=!1,DL.prototype.push.call(this,e,t)};km.prototype._transform=function(e,t,r){r(new uGt("_transform()"))};km.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};km.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};km.prototype._destroy=function(e,t){DL.prototype._destroy.call(this,e,function(r){t(r)})};function FPe(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new pGt;if(e._transformState.transforming)throw new fGt;return e.push(null)}});var zPe=E((qfn,$Pe)=>{"use strict";$Pe.exports=CA;var jPe=J6();Vv()(CA,jPe);function CA(e){if(!(this instanceof CA))return new CA(e);jPe.call(this,e)}CA.prototype._transform=function(e,t,r){r(null,e)}});var KPe=E((jfn,WPe)=>{"use strict";var Y6;function yGt(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var VPe=Fp().codes,_Gt=VPe.ERR_MISSING_ARGS,SGt=VPe.ERR_STREAM_DESTROYED;function HPe(e){if(e)throw e}function vGt(e){return e.setHeader&&typeof e.abort=="function"}function EGt(e,t,r,n){n=yGt(n);var s=!1;e.on("close",function(){s=!0}),Y6===void 0&&(Y6=sL()),Y6(e,{readable:t,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,vGt(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new SGt("pipe"))}}}function GPe(e){e()}function CGt(e,t){return e.pipe(t)}function bGt(e){return!e.length||typeof e[e.length-1]!="function"?HPe:e.pop()}function wGt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=bGt(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new _Gt("streams");var s,i=t.map(function(o,a){var c=a<t.length-1,l=a>0;return EGt(o,c,l,function(d){s||(s=d),d&&i.forEach(GPe),!c&&(i.forEach(GPe),n(s))})});return t.reduce(CGt)}WPe.exports=wGt});var wy=E((zc,wA)=>{var bA=require("stream");process.env.READABLE_STREAM==="disable"&&bA?(wA.exports=bA.Readable,Object.assign(wA.exports,bA),wA.exports.Stream=bA):(zc=wA.exports=L6(),zc.Stream=bA||zc,zc.Readable=zc,zc.Writable=mL(),zc.Duplex=Cy(),zc.Transform=J6(),zc.PassThrough=zPe(),zc.finished=sL(),zc.pipeline=KPe())});var YPe=E(($fn,JPe)=>{var eE=[],xA=[],Q6=function(){};function e8(e){return~eE.indexOf(e)?!1:(eE.push(e),!0)}function t8(e){Q6=e}function xGt(e){for(var t=[],r=0;r<eE.length;r++){if(eE[r].async){t.push(eE[r]);continue}if(eE[r](e))return!0}return t.length?new Promise(function(s){Promise.all(t.map(function(o){return o(e)})).then(function(o){s(o.some(Boolean))})}):!1}function r8(e){return~xA.indexOf(e)?!1:(xA.push(e),!0)}function Z6(){Q6.apply(Q6,arguments)}function XPe(e){for(var t=0;t<xA.length;t++)e=xA[t].apply(xA[t],arguments);return e}function n8(e,t){var r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}function AGt(e){return e.enabled=!1,e.modify=r8,e.set=t8,e.use=e8,n8(function(){return!1},e)}function PGt(e){function t(){var r=Array.prototype.slice.call(arguments,0);return Z6.call(Z6,e,XPe(r,e)),!0}return e.enabled=!0,e.modify=r8,e.set=t8,e.use=e8,n8(t,e)}JPe.exports=function(t){return t.introduce=n8,t.enabled=xGt,t.process=XPe,t.modify=r8,t.write=Z6,t.nope=AGt,t.yep=PGt,t.set=t8,t.use=e8,t}});var ZPe=E((zfn,QPe)=>{var RGt=YPe(),IGt=RGt(function e(t,r){return r=r||{},r.namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)});QPe.exports=IGt});var AA=E((Hfn,eRe)=>{eRe.exports=ZPe()});var rRe=E((Gfn,tRe)=>{"use strict";var s8=require("fs"),{StringDecoder:TGt}=require("string_decoder"),{Stream:OGt}=wy();function NGt(){}tRe.exports=(e,t)=>{let r=Buffer.alloc(65536),n=new TGt("utf8"),s=new OGt,i="",o=0,a=0;return e.start===-1&&delete e.start,s.readable=!0,s.destroy=()=>{s.destroyed=!0,s.emit("end"),s.emit("close")},s8.open(e.file,"a+","0644",(c,l)=>{if(c){t?t(c):s.emit("error",c),s.destroy();return}(function d(){if(s.destroyed){s8.close(l,NGt);return}return s8.read(l,r,0,r.length,o,(u,f)=>{if(u){t?t(u):s.emit("error",u),s.destroy();return}if(!f)return i&&((e.start==null||a>e.start)&&(t?t(null,i):s.emit("line",i)),a++,i=""),setTimeout(d,1e3);let p=n.write(r.slice(0,f));t||s.emit("data",p),p=(i+p).split(/\n+/);let g=p.length-1,S=0;for(;S<g;S++)(e.start==null||a>e.start)&&(t?t(null,p[S]):s.emit("line",p[S])),a++;return i=p[g],o+=f,d()})})()}),t?s.destroy:s}});var oRe=E((Wfn,iRe)=>{"use strict";var ba=require("fs"),Si=require("path"),nRe=BPe(),DGt=require("zlib"),{MESSAGE:kGt}=Gs(),{Stream:MGt,PassThrough:sRe}=wy(),LGt=Yv(),gd=AA()("winston:file"),UGt=require("os"),BGt=rRe();iRe.exports=class extends LGt{constructor(t={}){super(t),this.name=t.name||"file";function r(n,...s){s.slice(1).forEach(i=>{if(t[i])throw new Error(`Cannot set ${i} and ${n} together`)})}if(this._stream=new sRe,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),t.filename||t.dirname)r("filename or dirname","stream"),this._basename=this.filename=t.filename?Si.basename(t.filename):"winston.log",this.dirname=t.dirname||Si.dirname(t.filename),this.options=t.options||{flags:"a"};else if(t.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(t.stream)),this.dirname=Si.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=t.maxsize||null,this.rotationFormat=t.rotationFormat||!1,this.zippedArchive=t.zippedArchive||!1,this.maxFiles=t.maxFiles||null,this.eol=typeof t.eol=="string"?t.eol:UGt.EOL,this.tailable=t.tailable||!1,this.lazy=t.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(t,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(t,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(t,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(t,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(t,r)})});return}}let n=`${t[kGt]}${this.eol}`,s=Buffer.byteLength(n);function i(){if(this._size+=s,this._pendingSize-=s,gd("logged %s %s",this._size,n),this.emit("logged",t),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=s,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let o=this._stream.write(n,i.bind(this));return o?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),gd("written",o,this._drain),this.finishIfEnding(),o}query(t,r){typeof t=="function"&&(r=t,t={}),t=u(t);let n=Si.join(this.dirname,this.filename),s="",i=[],o=0,a=ba.createReadStream(n,{encoding:"utf8"});a.on("error",f=>{if(a.readable&&a.destroy(),!!r)return f.code!=="ENOENT"?r(f):r(null,i)}),a.on("data",f=>{f=(s+f).split(/\n+/);let p=f.length-1,g=0;for(;g<p;g++)(!t.start||o>=t.start)&&c(f[g]),o++;s=f[p]}),a.on("close",()=>{s&&c(s,!0),t.order==="desc"&&(i=i.reverse()),r&&r(null,i)});function c(f,p){try{let g=JSON.parse(f);d(g)&&l(g)}catch(g){p||a.emit("error",g)}}function l(f){if(t.rows&&i.length>=t.rows&&t.order!=="desc"){a.readable&&a.destroy();return}t.fields&&(f=t.fields.reduce((p,g)=>(p[g]=f[g],p),{})),t.order==="desc"&&i.length>=t.rows&&i.shift(),i.push(f)}function d(f){if(!f||typeof f!="object")return;let p=new Date(f.timestamp);if(!(t.from&&p<t.from||t.until&&p>t.until||t.level&&t.level!==f.level))return!0}function u(f){return f=f||{},f.rows=f.rows||f.limit||10,f.start=f.start||0,f.until=f.until||new Date,typeof f.until!="object"&&(f.until=new Date(f.until)),f.from=f.from||f.until-24*60*60*1e3,typeof f.from!="object"&&(f.from=new Date(f.from)),f.order=f.order||"desc",f}}stream(t={}){let r=Si.join(this.dirname,this.filename),n=new MGt,s={file:r,start:t.start};return n.destroy=BGt(s,(i,o)=>{if(i)return n.emit("error",i);try{n.emit("data",o),o=JSON.parse(o),n.emit("log",o)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((t,r)=>{if(t)return this.emit("error",t);gd("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.emit("rotate")||(this._rotate=!1)})})))}stat(t){let r=this._getFile(),n=Si.join(this.dirname,r);ba.stat(n,(s,i)=>{if(s&&s.code==="ENOENT")return gd("ENOENT\xA0ok",n),this.filename=r,t(null,0);if(s)return gd(`err ${s.code} ${n}`),t(s);if(!i||this._needsNewFile(i.size))return this._incFile(()=>this.stat(t));this.filename=r,t(null,i.size)})}close(t){this._stream&&this._stream.end(()=>{t&&t(),this.emit("flush"),this.emit("closed")})}_needsNewFile(t){return t=t||this._size,this.maxsize&&t>=this.maxsize}_onError(t){this.emit("error",t)}_setupStream(t){return t.on("error",this._onError),t}_cleanupStream(t){return t.removeListener("error",this._onError),t.destroy(),t}_rotateFile(){this._incFile(()=>this.open())}_endStream(t=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),t()})):t()}_createStream(t){let r=Si.join(this.dirname,this.filename);gd("create stream start",r,this.options);let n=ba.createWriteStream(r,this.options).on("error",s=>gd(s)).on("close",()=>gd("close",n.path,n.bytesWritten)).on("open",()=>{gd("file open ok",r),this.emit("open",r),t.pipe(n),this.rotatedWhileOpening&&(this._stream=new sRe,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),t.end())});return gd("create stream ok",r),n}_incFile(t){gd("_incFile",this.filename);let r=Si.extname(this._basename),n=Si.basename(this._basename,r),s=[];this.zippedArchive&&s.push(function(i){let o=this._created>0&&!this.tailable?this._created:"";this._compressFile(Si.join(this.dirname,`${n}${o}${r}`),Si.join(this.dirname,`${n}${o}${r}.gz`),i)}.bind(this)),s.push(function(i){this.tailable?this._checkMaxFilesTailable(r,n,i):(this._created+=1,this._checkMaxFilesIncrementing(r,n,i))}.bind(this)),nRe(s,t)}_getFile(){let t=Si.extname(this._basename),r=Si.basename(this._basename,t),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${t}`:`${r}${t}`}_checkMaxFilesIncrementing(t,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let s=this._created-this.maxFiles,i=s!==0?s:"",o=this.zippedArchive?".gz":"",a=`${r}${i}${t}${o}`,c=Si.join(this.dirname,a);ba.unlink(c,n)}_checkMaxFilesTailable(t,r,n){let s=[];if(!this.maxFiles)return;let i=this.zippedArchive?".gz":"";for(let o=this.maxFiles-1;o>1;o--)s.push(function(a,c){let l=`${r}${a-1}${t}${i}`,d=Si.join(this.dirname,l);ba.exists(d,u=>{if(!u)return c(null);l=`${r}${a}${t}${i}`,ba.rename(d,Si.join(this.dirname,l),c)})}.bind(this,o));nRe(s,()=>{ba.rename(Si.join(this.dirname,`${r}${t}${i}`),Si.join(this.dirname,`${r}1${t}${i}`),n)})}_compressFile(t,r,n){ba.access(t,ba.F_OK,s=>{if(s)return n();var i=DGt.createGzip(),o=ba.createReadStream(t),a=ba.createWriteStream(r);a.on("finish",()=>{ba.unlink(t,n)}),o.pipe(i).pipe(a)})}_createLogDirIfNotExist(t){ba.existsSync(t)||ba.mkdirSync(t,{recursive:!0})}}});var cRe=E((Xfn,aRe)=>{"use strict";var FGt=require("http"),qGt=require("https"),{Stream:jGt}=wy(),$Gt=Yv(),{configure:zGt}=dA();aRe.exports=class extends $Gt{constructor(t={}){super(t),this.options=t,this.name=t.name||"http",this.ssl=!!t.ssl,this.host=t.host||"localhost",this.port=t.port,this.auth=t.auth,this.path=t.path||"",this.maximumDepth=t.maximumDepth,this.agent=t.agent,this.headers=t.headers||{},this.headers["content-type"]="application/json",this.batch=t.batch||!1,this.batchInterval=t.batchInterval||5e3,this.batchCount=t.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(t,r){this._request(t,null,null,(n,s)=>{s&&s.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),n?this.emit("warn",n):this.emit("logged",t)}),r&&setImmediate(r)}query(t,r){typeof t=="function"&&(r=t,t={}),t={method:"query",params:this.normalizeQuery(t)};let n=t.params.auth||null;delete t.params.auth;let s=t.params.path||null;delete t.params.path,this._request(t,n,s,(i,o,a)=>{if(o&&o.statusCode!==200&&(i=new Error(`Invalid HTTP Status Code: ${o.statusCode}`)),i)return r(i);if(typeof a=="string")try{a=JSON.parse(a)}catch(c){return r(c)}r(null,a)})}stream(t={}){let r=new jGt;t={method:"stream",params:t};let n=t.params.path||null;delete t.params.path;let s=t.params.auth||null;delete t.params.auth;let i="",o=this._request(t,s,n);return r.destroy=()=>o.destroy(),o.on("data",a=>{a=(i+a).split(/\n+/);let c=a.length-1,l=0;for(;l<c;l++)try{r.emit("log",JSON.parse(a[l]))}catch(d){r.emit("error",d)}i=a[c]}),o.on("error",a=>r.emit("error",a)),r}_request(t,r,n,s){t=t||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(t,s,r,n):this._doRequest(t,s,r,n)}_doBatch(t,r,n,s){if(this.batchOptions.push(t),this.batchOptions.length===1){let i=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){i.batchTimeoutID=-1,i._doBatchRequest(i.batchCallback,n,s)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,s)}_doBatchRequest(t,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let s=this.batchOptions.slice();this.batchOptions=[],this._doRequest(s,t,r,n)}_doRequest(t,r,n,s){let i=Object.assign({},this.headers);n&&n.bearer&&(i.Authorization=`Bearer ${n.bearer}`);let o=(this.ssl?qGt:FGt).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${s.replace(/^\//,"")}`,headers:i,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});o.on("error",r),o.on("response",c=>c.on("end",()=>r(null,c)).resume());let a=zGt({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});o.end(Buffer.from(a(t,this.options.replacer),"utf8"))}}});var i8=E((Jfn,lRe)=>{"use strict";var au=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";au.writable=e=>au(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";au.readable=e=>au(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";au.duplex=e=>au.writable(e)&&au.readable(e);au.transform=e=>au.duplex(e)&&typeof e._transform=="function";lRe.exports=au});var uRe=E((Qfn,dRe)=>{"use strict";var HGt=i8(),{MESSAGE:GGt}=Gs(),VGt=require("os"),WGt=Yv();dRe.exports=class extends WGt{constructor(t={}){if(super(t),!t.stream||!HGt(t.stream))throw new Error("options.stream is required.");this._stream=t.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=t.stream._writableState.objectMode,this.eol=typeof t.eol=="string"?t.eol:VGt.EOL}log(t,r){if(setImmediate(()=>this.emit("logged",t)),this.isObjectMode){this._stream.write(t),r&&r();return}this._stream.write(`${t[GGt]}${this.eol}`),r&&r()}}});var mRe=E(PA=>{"use strict";Object.defineProperty(PA,"Console",{configurable:!0,enumerable:!0,get(){return rPe()}});Object.defineProperty(PA,"File",{configurable:!0,enumerable:!0,get(){return oRe()}});Object.defineProperty(PA,"Http",{configurable:!0,enumerable:!0,get(){return cRe()}});Object.defineProperty(PA,"Stream",{configurable:!0,enumerable:!0,get(){return uRe()}})});var ML=E(RA=>{"use strict";var kL=m6(),{configs:o8}=Gs();RA.cli=kL.levels(o8.cli);RA.npm=kL.levels(o8.npm);RA.syslog=kL.levels(o8.syslog);RA.addColors=kL.levels});var pRe=E((LL,fRe)=>{"use strict";Object.defineProperty(LL,"__esModule",{value:!0});var KGt=hL(),XGt=xy(KGt),JGt=AL(),YGt=xy(JGt),QGt=X6(),ZGt=xy(QGt),e3t=V6(),t3t=xy(e3t),r3t=W6(),n3t=xy(r3t),s3t=by(),i3t=xy(s3t),o3t=Zv(),a3t=xy(o3t);function xy(e){return e&&e.__esModule?e:{default:e}}function c3t(e,t,r){r=(0,t3t.default)(r);var n=0,s=0,{length:i}=e,o=!1;i===0&&r(null);function a(c,l){c===!1&&(o=!0),o!==!0&&(c?r(c):(++s===i||l===YGt.default)&&r(null))}for(;n<i;n++)t(e[n],n,(0,n3t.default)(a))}function l3t(e,t,r){return(0,ZGt.default)(e,1/0,t,r)}function d3t(e,t,r){var n=(0,XGt.default)(e)?c3t:l3t;return n(e,(0,i3t.default)(t),r)}LL.default=(0,a3t.default)(d3t,3);fRe.exports=LL.default});var hRe=E((UL,gRe)=>{"use strict";Object.defineProperty(UL,"__esModule",{value:!0});UL.default=u3t;function u3t(e){return(t,r,n)=>e(t,n)}gRe.exports=UL.default});var qL=E((FL,yRe)=>{"use strict";Object.defineProperty(FL,"__esModule",{value:!0});var m3t=pRe(),f3t=BL(m3t),p3t=hRe(),g3t=BL(p3t),h3t=by(),y3t=BL(h3t),_3t=Zv(),S3t=BL(_3t);function BL(e){return e&&e.__esModule?e:{default:e}}function v3t(e,t,r){return(0,f3t.default)(e,(0,g3t.default)((0,y3t.default)(t)),r)}FL.default=(0,S3t.default)(v3t,3);yRe.exports=FL.default});var SRe=E((tpn,_Re)=>{"use strict";var E3t=Object.prototype.toString;_Re.exports=function(t){if(typeof t.displayName=="string"&&t.constructor.name)return t.displayName;if(typeof t.name=="string"&&t.name)return t.name;if(typeof t=="object"&&t.constructor&&typeof t.constructor.name=="string")return t.constructor.name;var r=t.toString(),n=E3t.call(t).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var a8=E((rpn,vRe)=>{"use strict";var C3t=SRe();vRe.exports=function(t){var r=0,n;function s(){return r||(r=1,n=t.apply(this,arguments),t=null),n}return s.displayName=C3t(t),s}});var c8=E(TA=>{TA.get=function(e){var t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,o){return o},Error.captureStackTrace(r,e||TA.get);var s=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=t,s};TA.parse=function(e){if(!e.stack)return[];var t=this,r=e.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var s=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(s){var i=null,o=null,a=null,c=null,l=null,d=s[5]==="native";if(s[1]){a=s[1];var u=a.lastIndexOf(".");if(a[u-1]=="."&&u--,u>0){i=a.substr(0,u),o=a.substr(u+1);var f=i.indexOf(".Module");f>0&&(a=a.substr(f+1),i=i.substr(0,f))}c=null}o&&(c=i,l=o),o==="<anonymous>"&&(l=null,a=null);var p={fileName:s[2]||null,lineNumber:parseInt(s[3],10)||null,functionName:a,typeName:c,methodName:l,columnNumber:parseInt(s[4],10)||null,native:d};return t._createParsedCallSite(p)}}).filter(function(n){return!!n})};function IA(e){for(var t in e)this[t]=e[t]}var b3t=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],w3t=["topLevel","eval","native","constructor"];b3t.forEach(function(e){IA.prototype[e]=null,IA.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}});w3t.forEach(function(e){IA.prototype[e]=!1,IA.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}});TA._createParsedCallSite=function(e){return new IA(e)}});var CRe=E((ipn,ERe)=>{"use strict";var{Writable:x3t}=wy();ERe.exports=class extends x3t{constructor(t){if(super({objectMode:!0}),!t)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=t}_write(t,r,n){return t.exception?this.transport.log(t,n):(n(),!0)}}});var d8=E((apn,xRe)=>{"use strict";var bRe=require("os"),A3t=qL(),l8=AA()("winston:exception"),P3t=a8(),wRe=c8(),R3t=CRe();xRe.exports=class{constructor(t){if(!t)throw new Error("Logger is required to handle exceptions");this.logger=t,this.handlers=new Map}handle(...t){t.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(t=>this.logger.unpipe(t)))}getAllInfo(t){let r=null;return t&&(r=typeof t=="string"?t:t.message),{error:t,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,t&&t.stack||"  No stack trace"].join(`
`),stack:t&&t.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(t)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:bRe.loadavg(),uptime:bRe.uptime()}}getTrace(t){return(t?wRe.parse(t):wRe.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(t){if(!this.handlers.has(t)){t.handleExceptions=!0;let r=new R3t(t);this.handlers.set(t,r),this.logger.pipe(r)}}_uncaughtException(t){let r=this.getAllInfo(t),n=this._getExceptionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(t):this.logger.exitOnError,i;!n.length&&s&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),s=!1);function o(){l8("doExit",s),l8("process._exiting",process._exiting),s&&!process._exiting&&(i&&clearTimeout(i),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);A3t(n,(a,c)=>{let l=P3t(c),d=a.transport||a;function u(f){return()=>{l8(f),l()}}d._ending=!0,d.once("finish",u("finished")),d.once("error",u("error"))},()=>s&&o()),this.logger.log(r),s&&(i=setTimeout(o,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(t=>(t.transport||t).handleExceptions)}}});var PRe=E((lpn,ARe)=>{"use strict";var{Writable:I3t}=wy();ARe.exports=class extends I3t{constructor(t){if(super({objectMode:!0}),!t)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=t}_write(t,r,n){return t.rejection?this.transport.log(t,n):(n(),!0)}}});var m8=E((upn,TRe)=>{"use strict";var RRe=require("os"),T3t=qL(),u8=AA()("winston:rejection"),O3t=a8(),IRe=c8(),N3t=PRe();TRe.exports=class{constructor(t){if(!t)throw new Error("Logger is required to handle rejections");this.logger=t,this.handlers=new Map}handle(...t){t.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(t=>this.logger.unpipe(t)))}getAllInfo(t){let r=null;return t&&(r=typeof t=="string"?t:t.message),{error:t,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,t&&t.stack||"  No stack trace"].join(`
`),stack:t&&t.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(t)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:RRe.loadavg(),uptime:RRe.uptime()}}getTrace(t){return(t?IRe.parse(t):IRe.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(t){if(!this.handlers.has(t)){t.handleRejections=!0;let r=new N3t(t);this.handlers.set(t,r),this.logger.pipe(r)}}_unhandledRejection(t){let r=this.getAllInfo(t),n=this._getRejectionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(t):this.logger.exitOnError,i;!n.length&&s&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),s=!1);function o(){u8("doExit",s),u8("process._exiting",process._exiting),s&&!process._exiting&&(i&&clearTimeout(i),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);T3t(n,(a,c)=>{let l=O3t(c),d=a.transport||a;function u(f){return()=>{u8(f),l()}}d._ending=!0,d.once("finish",u("finished")),d.once("error",u("error"))},()=>s&&o()),this.logger.log(r),s&&(i=setTimeout(o,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(t=>(t.transport||t).handleRejections)}}});var NRe=E((mpn,ORe)=>{"use strict";var f8=class{constructor(t){let r=jL();if(typeof t!="object"||Array.isArray(t)||!(t instanceof r))throw new Error("Logger is required for profiling");this.logger=t,this.start=Date.now()}done(...t){typeof t[t.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());let r=typeof t[t.length-1]=="object"?t.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};ORe.exports=f8});var jL=E((fpn,LRe)=>{"use strict";var{Stream:D3t,Transform:k3t}=wy(),DRe=qL(),{LEVEL:cu,SPLAT:kRe}=Gs(),MRe=i8(),M3t=d8(),L3t=m8(),U3t=z6(),B3t=NRe(),{warn:F3t}=f6(),q3t=ML(),j3t=/%[scdjifoO%]/g,$L=class extends k3t{constructor(t){super({objectMode:!0}),this.configure(t)}child(t){let r=this;return Object.create(r,{write:{value:function(n){let s=Object.assign({},t,n);n instanceof Error&&(s.stack=n.stack,s.message=n.message),r.write(s)}}})}configure({silent:t,format:r,defaultMeta:n,levels:s,level:i="info",exitOnError:o=!0,transports:a,colors:c,emitErrs:l,formatters:d,padLevels:u,rewriters:f,stripColors:p,exceptionHandlers:g,rejectionHandlers:S}={}){if(this.transports.length&&this.clear(),this.silent=t,this.format=r||this.format||a6()(),this.defaultMeta=n||null,this.levels=s||this.levels||q3t.npm.levels,this.level=i,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new M3t(this),this.rejections=new L3t(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a],a.forEach(b=>this.add(b))),c||l||d||u||f||p)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));g&&this.exceptions.handle(g),S&&this.rejections.handle(S)}isLevelEnabled(t){let r=p8(this.levels,t);if(r===null)return!1;let n=p8(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(i=>{let o=p8(this.levels,i.level);return o===null&&(o=n),o>=r})!==-1}log(t,r,...n){if(arguments.length===1)return t[cu]=t.level,this._addDefaultMeta(t),this.write(t),this;if(arguments.length===2)return r&&typeof r=="object"?(r[cu]=r.level=t,this._addDefaultMeta(r),this.write(r),this):(r={[cu]:t,level:t,message:r},this._addDefaultMeta(r),this.write(r),this);let[s]=n;if(typeof s=="object"&&s!==null&&!(r&&r.match&&r.match(j3t))){let o=Object.assign({},this.defaultMeta,s,{[cu]:t,[kRe]:n,level:t,message:r});return s.message&&(o.message=`${o.message} ${s.message}`),s.stack&&(o.stack=s.stack),s.cause&&(o.cause=s.cause),this.write(o),this}return this.write(Object.assign({},this.defaultMeta,{[cu]:t,[kRe]:n,level:t,message:r})),this}_transform(t,r,n){if(this.silent)return n();t[cu]||(t[cu]=t.level),!this.levels[t[cu]]&&this.levels[t[cu]]!==0&&console.error("[winston] Unknown logger level: %s",t[cu]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",t);try{this.push(this.format.transform(t,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(t){let r=this.transports.slice();DRe(r,(n,s)=>{if(!n||n.finished)return setImmediate(s);n.once("finish",s),n.end()},t)}add(t){let r=!MRe(t)||t.log.length>2?new U3t({transport:t}):t;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),t.handleExceptions&&this.exceptions.handle(),t.handleRejections&&this.rejections.handle(),this}remove(t){if(!t)return this;let r=t;return(!MRe(t)||t.log.length>2)&&(r=this.transports.filter(n=>n.transport===t)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){F3t.deprecated("setLevels")}query(t,r){typeof t=="function"&&(r=t,t={}),t=t||{};let n={},s=Object.assign({},t.query||{});function i(a,c){t.query&&typeof a.formatQuery=="function"&&(t.query=a.formatQuery(s)),a.query(t,(l,d)=>{if(l)return c(l);typeof a.formatResults=="function"&&(d=a.formatResults(d,t.format)),c(null,d)})}function o(a,c){i(a,(l,d)=>{c&&(d=l||d,d&&(n[a.name]=d),c()),c=null})}DRe(this.transports.filter(a=>!!a.query),o,()=>r(null,n))}stream(t={}){let r=new D3t,n=[];return r._streams=n,r.destroy=()=>{let s=n.length;for(;s--;)n[s].destroy()},this.transports.filter(s=>!!s.stream).forEach(s=>{let i=s.stream(t);i&&(n.push(i),i.on("log",o=>{o.transport=o.transport||[],o.transport.push(s.name),r.emit("log",o)}),i.on("error",o=>{o.transport=o.transport||[],o.transport.push(s.name),r.emit("error",o)}))}),r}startTimer(){return new B3t(this)}profile(t,...r){let n=Date.now();if(this.profilers[t]){let s=this.profilers[t];delete this.profilers[t],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let i=typeof r[r.length-1]=="object"?r.pop():{};return i.level=i.level||"info",i.durationMs=n-s,i.message=i.message||t,this.write(i)}return this.profilers[t]=n,this}handleExceptions(...t){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...t)}unhandleExceptions(...t){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...t)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(t,r){function n(s){t==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(t,s,r)}r["__winston"+t]||(r["__winston"+t]=n.bind(this),r.on(t,r["__winston"+t]))}_addDefaultMeta(t){this.defaultMeta&&Object.assign(t,this.defaultMeta)}};function p8(e,t){let r=e[t];return!r&&r!==0?null:r}Object.defineProperty($L.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}});LRe.exports=$L});var g8=E((ppn,URe)=>{"use strict";var{LEVEL:$3t}=Gs(),z3t=ML(),H3t=jL(),G3t=AA()("winston:create-logger");function V3t(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}URe.exports=function(e={}){e.levels=e.levels||z3t.npm.levels;class t extends H3t{constructor(s){super(s)}}let r=new t(e);return Object.keys(e.levels).forEach(function(n){if(G3t('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}t.prototype[n]=function(...s){let i=this||r;if(s.length===1){let[o]=s,a=o&&o.message&&o||{message:o};return a.level=a[$3t]=n,i._addDefaultMeta(a),i.write(a),this||r}return s.length===0?(i.log(n,""),i):i.log(n,...s)},t.prototype[V3t(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var FRe=E((hpn,BRe)=>{"use strict";var W3t=g8();BRe.exports=class{constructor(t={}){this.loggers=new Map,this.options=t}add(t,r){if(!this.loggers.has(t)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let s=W3t(r);s.on("close",()=>this._delete(t)),this.loggers.set(t,s)}return this.loggers.get(t)}get(t,r){return this.add(t,r)}has(t){return!!this.loggers.has(t)}close(t){if(t)return this._removeLogger(t);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(t){if(!this.loggers.has(t))return;this.loggers.get(t).close(),this._delete(t)}_delete(t){this.loggers.delete(t)}}});var jRe=E(Xr=>{"use strict";var qRe=m6(),{warn:OA}=f6();Xr.version=eAe().version;Xr.transports=mRe();Xr.config=ML();Xr.addColors=qRe.levels;Xr.format=qRe.format;Xr.createLogger=g8();Xr.Logger=jL();Xr.ExceptionHandler=d8();Xr.RejectionHandler=m8();Xr.Container=FRe();Xr.Transport=Yv();Xr.loggers=new Xr.Container;var lu=Xr.createLogger();Object.keys(Xr.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(e=>Xr[e]=(...t)=>lu[e](...t));Object.defineProperty(Xr,"level",{get(){return lu.level},set(e){lu.level=e}});Object.defineProperty(Xr,"exceptions",{get(){return lu.exceptions}});Object.defineProperty(Xr,"rejections",{get(){return lu.rejections}});["exitOnError"].forEach(e=>{Object.defineProperty(Xr,e,{get(){return lu[e]},set(t){lu[e]=t}})});Object.defineProperty(Xr,"default",{get(){return{exceptionHandlers:lu.exceptionHandlers,rejectionHandlers:lu.rejectionHandlers,transports:lu.transports}}});OA.deprecated(Xr,"setLevels");OA.forFunctions(Xr,"useFormat",["cli"]);OA.forProperties(Xr,"useFormat",["padLevels","stripColors"]);OA.forFunctions(Xr,"deprecated",["addRewriter","addFilter","clone","extend"]);OA.forProperties(Xr,"deprecated",["emitErrs","levelLength"])});var $Re=E(wa=>{"use strict";var K3t=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});wa.logInfo=tE;wa.logError=X3t;wa.logWarn=J3t;wa.logDebug=Y3t;wa.logPerformance=Q3t;wa.logRequest=Z3t;wa.logResponse=eVt;wa.logDatabaseOperation=tVt;wa.logExternalApiCall=rVt;var Mm=K3t(jRe()),NA=Mm.default.createLogger({level:process.env.LOG_LEVEL||"info",format:Mm.default.format.combine(Mm.default.format.timestamp(),Mm.default.format.errors({stack:!0}),Mm.default.format.json()),defaultMeta:{service:process.env.AWS_LAMBDA_FUNCTION_NAME||"namecard-service",stage:process.env.STAGE||"local"},transports:[new Mm.default.transports.Console({format:Mm.default.format.combine(Mm.default.format.colorize(),Mm.default.format.simple())})]});function tE(e,t={}){NA.info(e,t)}function X3t(e,t,r={}){NA.error(e,{...r,error:t instanceof Error?{message:t.message,stack:t.stack,name:t.name}:t})}function J3t(e,t={}){NA.warn(e,t)}function Y3t(e,t={}){NA.debug(e,t)}function Q3t(e,t,r={}){tE(`Performance: ${e}`,{...r,operation:e,duration:t,durationMs:`${t}ms`})}function Z3t(e,t,r={}){tE("Incoming request",{...r,method:e,path:t,timestamp:new Date().toISOString()})}function eVt(e,t,r={}){tE("Request completed",{...r,statusCode:e,duration:t,durationMs:`${t}ms`})}function tVt(e,t,r,n={}){tE(`Database ${e}`,{...n,operation:e,table:t,duration:r,durationMs:`${r}ms`})}function rVt(e,t,r,n,s={}){tE(`External API call: ${e}`,{...s,service:e,endpoint:t,statusCode:n,duration:r,durationMs:`${r}ms`})}wa.default=NA});var VRe=E((Spn,GRe)=>{"use strict";function h8(e){return typeof e=="function"}var ea=console.error.bind(console);function DA(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function kA(e){e&&e.logger&&(h8(e.logger)?ea=e.logger:ea("new logger isn't a function, not replacing"))}function zRe(e,t,r){if(!e||!e[t]){ea("no original function "+t+" to wrap");return}if(!r){ea("no wrapper function"),ea(new Error().stack);return}if(!h8(e[t])||!h8(r)){ea("original object and wrapper must be functions");return}var n=e[t],s=r(n,t);return DA(s,"__original",n),DA(s,"__unwrap",function(){e[t]===s&&DA(e,t,n)}),DA(s,"__wrapped",!0),DA(e,t,s),s}function nVt(e,t,r){if(e)Array.isArray(e)||(e=[e]);else{ea("must provide one or more modules to patch"),ea(new Error().stack);return}if(!(t&&Array.isArray(t))){ea("must provide one or more functions to wrap on modules");return}e.forEach(function(n){t.forEach(function(s){zRe(n,s,r)})})}function HRe(e,t){if(!e||!e[t]){ea("no function to unwrap."),ea(new Error().stack);return}if(!e[t].__unwrap)ea("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function sVt(e,t){if(e)Array.isArray(e)||(e=[e]);else{ea("must provide one or more modules to patch"),ea(new Error().stack);return}if(!(t&&Array.isArray(t))){ea("must provide one or more functions to unwrap on modules");return}e.forEach(function(r){t.forEach(function(n){HRe(r,n)})})}kA.wrap=zRe;kA.massWrap=nVt;kA.unwrap=HRe;kA.massUnwrap=sVt;GRe.exports=kA});var YRe=E((vpn,JRe)=>{"use strict";var KRe=VRe(),rE=KRe.wrap,zL=KRe.unwrap,Lm="wrap@before";function HL(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function iVt(e,t){for(var r=t.length,n=0;n<r;n++){var s=t[n],i=e[Lm];if(typeof i=="function")i(s);else if(Array.isArray(i))for(var o=i.length,a=0;a<o;a++)i[a](s)}}function XRe(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r?r=[r]:r=[]),r}function oVt(e,t,r){var n=XRe(e,t),s=n.filter(function(i){return r.indexOf(i)===-1});s.length>0&&iVt(e,s)}function WRe(e,t){if(e){var r=e;if(typeof e=="function")r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}JRe.exports=function(t,r,n){if(!t||!t.on||!t.addListener||!t.removeListener||!t.emit)throw new Error("can only wrap real EEs");if(!r)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function s(o){return function(c,l){var d=XRe(this,c).slice();try{var u=o.call(this,c,l);return oVt(this,c,d),u}finally{this.on.__wrapped||rE(this,"on",s),this.addListener.__wrapped||rE(this,"addListener",s)}}}function i(o){return function(c){if(!this._events||!this._events[c])return o.apply(this,arguments);var l=this._events[c];function d(u){return function(){this._events[c]=l;try{return u.apply(this,arguments)}finally{l=this._events[c],this._events[c]=WRe(l,n)}}}rE(this,"removeListener",d);try{return this._events[c]=WRe(l,n),o.apply(this,arguments)}finally{zL(this,"removeListener"),this._events[c]=l}}}t[Lm]?typeof t[Lm]=="function"?HL(t,Lm,[t[Lm],r]):Array.isArray(t[Lm])&&t[Lm].push(r):HL(t,Lm,r),t.__wrapped||(rE(t,"addListener",s),rE(t,"on",s),rE(t,"emit",i),HL(t,"__unwrap",function(){zL(t,"addListener"),zL(t,"on"),zL(t,"emit"),delete t[Lm],delete t.__wrapped}),HL(t,"__wrapped",!0))}});var tIe=E((Epn,eIe)=>{"use strict";var Pr=require("util"),Um=require("assert"),aVt=YRe(),In=require("async_hooks"),MA="cls@contexts",LA="error@context",ds=process.env.DEBUG_CLS_HOOKED,Ar=-1;eIe.exports={getNamespace:QRe,createNamespace:cVt,destroyNamespace:ZRe,reset:lVt,ERROR_SYMBOL:LA};function Hc(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}Hc.prototype.set=function(t,r){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[t]=r,ds){let n=" ".repeat(this._indent<0?0:this._indent);zn(n+"CONTEXT-SET KEY:"+t+"="+r+" in ns:"+this.name+" currentUid:"+Ar+" active:"+Pr.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return r};Hc.prototype.get=function(t){if(!this.active){if(ds){let r=In.currentId(),n=In.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);zn(`${s}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${t}=undefined currentUid:${Ar} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length}`)}return}if(ds){let r=In.executionAsyncId(),n=In.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);zn(s+"CONTEXT-GETTING KEY:"+t+"="+this.active[t]+" ("+this.name+") currentUid:"+Ar+" active:"+Pr.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),zn(`${s}CONTEXT-GETTING KEY: (${this.name}) ${t}=${this.active[t]} currentUid:${Ar} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} active:${Pr.inspect(this.active)}`)}return this.active[t]};Hc.prototype.createContext=function(){let t=Object.create(this.active?this.active:Object.prototype);if(t._ns_name=this.name,t.id=Ar,ds){let r=In.executionAsyncId(),n=In.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);zn(`${s}CONTEXT-CREATED Context: (${this.name}) currentUid:${Ar} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} context:${Pr.inspect(t,{showHidden:!0,depth:2,colors:!0})}`)}return t};Hc.prototype.run=function(t){let r=this.createContext();this.enter(r);try{if(ds){let n=In.triggerAsyncId(),s=In.executionAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zn(`${i}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${Ar} triggerId:${n} asyncHooksCurrentId:${s} len:${this._set.length} context:${Pr.inspect(r)}`)}return t(r),r}catch(n){throw n&&(n[LA]=r),n}finally{if(ds){let n=In.triggerAsyncId(),s=In.executionAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zn(`${i}CONTEXT-RUN END: (${this.name}) currentUid:${Ar} triggerId:${n} asyncHooksCurrentId:${s} len:${this._set.length} ${Pr.inspect(r)}`)}this.exit(r)}};Hc.prototype.runAndReturn=function(t){let r;return this.run(function(n){r=t(n)}),r};Hc.prototype.runPromise=function(t){let r=this.createContext();this.enter(r);let n=t(r);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return ds&&zn("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+Ar+" len:"+this._set.length+" "+Pr.inspect(r)),n.then(s=>(ds&&zn("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+Ar+" len:"+this._set.length+" "+Pr.inspect(r)),this.exit(r),s)).catch(s=>{throw s[LA]=r,ds&&zn("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+Ar+" len:"+this._set.length+" "+Pr.inspect(r)),this.exit(r),s})};Hc.prototype.bind=function(t,r){r||(this.active?r=this.active:r=this.createContext());let n=this;return function(){n.enter(r);try{return t.apply(this,arguments)}catch(i){throw i&&(i[LA]=r),i}finally{n.exit(r)}}};Hc.prototype.enter=function(t){if(Um.ok(t,"context must be provided for entering"),ds){let r=In.executionAsyncId(),n=In.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);zn(`${s}CONTEXT-ENTER: (${this.name}) currentUid:${Ar} triggerId:${n} asyncHooksCurrentId:${r} len:${this._set.length} ${Pr.inspect(t)}`)}this._set.push(this.active),this.active=t};Hc.prototype.exit=function(t){if(Um.ok(t,"context must be provided for exiting"),ds){let n=In.executionAsyncId(),s=In.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zn(`${i}CONTEXT-EXIT: (${this.name}) currentUid:${Ar} triggerId:${s} asyncHooksCurrentId:${n} len:${this._set.length} ${Pr.inspect(t)}`)}if(this.active===t){Um.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let r=this._set.lastIndexOf(t);r<0?(ds&&zn("??ERROR?? context exiting but not entered - ignoring: "+Pr.inspect(t)),Um.ok(r>=0,`context not currently entered; can't exit. 
`+Pr.inspect(this)+`
`+Pr.inspect(t))):(Um.ok(r,"can't remove top context"),this._set.splice(r,1))};Hc.prototype.bindEmitter=function(t){Um.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let r=this,n="context@"+this.name;function s(o){o&&(o[MA]||(o[MA]=Object.create(null)),o[MA][n]={namespace:r,context:r.active})}function i(o){if(!(o&&o[MA]))return o;let a=o,c=o[MA];return Object.keys(c).forEach(function(l){let d=c[l];a=d.namespace.bind(a,d.context)}),a}aVt(t,s,i)};Hc.prototype.fromException=function(t){return t[LA]};function QRe(e){return process.namespaces[e]}function cVt(e){Um.ok(e,"namespace must be given a name."),ds&&zn(`NS-CREATING NAMESPACE (${e})`);let t=new Hc(e);return t.id=Ar,In.createHook({init(n,s,i,o){if(Ar=In.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),ds){let a=" ".repeat(t._indent<0?0:t._indent);zn(`${a}INIT [${s}] (${e}) asyncId:${n} currentUid:${Ar} triggerId:${i} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}}else if(Ar===0){let a=In.triggerAsyncId(),c=t._contexts.get(a);if(c){if(t._contexts.set(n,c),ds){let l=" ".repeat(t._indent<0?0:t._indent);zn(`${l}INIT USING CONTEXT FROM TRIGGERID [${s}] (${e}) asyncId:${n} currentUid:${Ar} triggerId:${a} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}}else if(ds){let l=" ".repeat(t._indent<0?0:t._indent);zn(`${l}INIT MISSING CONTEXT [${s}] (${e}) asyncId:${n} currentUid:${Ar} triggerId:${a} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}}if(ds&&s==="PROMISE"){zn(Pr.inspect(o,{showHidden:!0}));let a=o.parentId,c=" ".repeat(t._indent<0?0:t._indent);zn(`${c}INIT RESOURCE-PROMISE [${s}] (${e}) parentId:${a} asyncId:${n} currentUid:${Ar} triggerId:${i} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${o}`)}},before(n){Ar=In.executionAsyncId();let s;if(s=t._contexts.get(n)||t._contexts.get(Ar),s){if(ds){let i=In.triggerAsyncId(),o=" ".repeat(t._indent<0?0:t._indent);zn(`${o}BEFORE (${e}) asyncId:${n} currentUid:${Ar} triggerId:${i} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(s)}`),t._indent+=2}t.enter(s)}else if(ds){let i=In.triggerAsyncId(),o=" ".repeat(t._indent<0?0:t._indent);zn(`${o}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${Ar} triggerId:${i} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${Pr.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){Ar=In.executionAsyncId();let s;if(s=t._contexts.get(n)||t._contexts.get(Ar),s){if(ds){let i=In.triggerAsyncId();t._indent-=2;let o=" ".repeat(t._indent<0?0:t._indent);zn(`${o}AFTER (${e}) asyncId:${n} currentUid:${Ar} triggerId:${i} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(s)}`)}t.exit(s)}else if(ds){let i=In.triggerAsyncId();t._indent-=2;let o=" ".repeat(t._indent<0?0:t._indent);zn(`${o}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${Ar} triggerId:${i} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(s)}`)}},destroy(n){if(Ar=In.executionAsyncId(),ds){let s=In.triggerAsyncId(),i=" ".repeat(t._indent<0?0:t._indent);zn(`${i}DESTROY (${e}) currentUid:${Ar} asyncId:${n} triggerId:${s} active:${Pr.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(t._contexts.get(Ar))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t}function ZRe(e){let t=QRe(e);Um.ok(t,`can't delete nonexistent namespace! "`+e+'"'),Um.ok(t.id,"don't assign to process.namespaces directly! "+Pr.inspect(t)),process.namespaces[e]=null}function lVt(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){ZRe(e)}),process.namespaces=Object.create(null)}process.namespaces={};function zn(...e){ds&&process._rawDebug(`${Pr.format(...e)}`)}});var Hn=E((Cpn,sIe)=>{"use strict";var y8=["debug","info","warn","error","silent"],rIe=y8.indexOf("error"),dVt=uVt(process.env.AWS_XRAY_DEBUG_MODE?"debug":process.env.AWS_XRAY_LOG_LEVEL),nIe={error:GL("error"),info:GL("info"),warn:GL("warn"),debug:GL("debug")};function GL(e){var t=y8.indexOf(e),r=console[e]||console.log||(()=>{});return t>=dVt?(n,s)=>{(n||s)&&r(pVt(e,n,s))}:()=>{}}function uVt(e){if(e){var t=e.toLowerCase(),r=y8.indexOf(t);return r>=0?r:rIe}return rIe}function mVt(e){var t=-e.getTimezoneOffset(),r=t>=0?"+":"-",n=function(s){var i=Math.floor(Math.abs(s));return(i<10?"0":"")+i};return new Date(e.getTime()+t*60*1e3).toISOString().replace(/T/," ").replace(/Z/," ")+r+n(t/60)+":"+n(t%60)}function fVt(){return process.env.LAMBDA_TASK_ROOT!==void 0}function pVt(e,t,r){var n=[];fVt()||(n.push(mVt(new Date)),n.push(`[${e.toUpperCase()}]`)),t&&n.push(t);var s=n.join(" "),i=gVt(r);return[s,i].filter(o=>o.length>0).join(`
  `)}function gVt(e){return e?typeof e=="string"?e:JSON.stringify(e):""}var hVt={setLogger:function(t){nIe=t},getLogger:function(){return nIe}};sIe.exports=hVt});var _8=E((bpn,oIe)=>{"use strict";var yVt=require("crypto");function iIe(e,t){this.init(e,t)}iIe.prototype.init=function(t,r){var n=typeof t=="string"||t instanceof String?{message:t,name:""}:t;if(this.message=n.message,this.type=n.name,this.stack=[],this.remote=!!r,this.id=yVt.randomBytes(8).toString("hex"),n.stack){var s=n.stack.split(`
`);s.shift(),s.forEach(i=>{var o=i.trim().replace(/\(|\)/g,"");o=o.substring(o.indexOf(" ")+1);var a=o.lastIndexOf(" ")>=0?o.slice(0,o.lastIndexOf(" ")):null,c=Array.isArray(a)&&!a.length?o:o.slice(o.lastIndexOf(" ")+1);c=c.split(":");var l={path:c[0],line:parseInt(c[1]),label:a||"anonymous"};this.stack.push(l)},this)}};oIe.exports=iIe});var cIe=E((wpn,aIe)=>{aIe.exports=_Vt;function _Vt(e){var t=!1,r=null,n=null,s=null;return o;function i(a){s&&EVt(s,a),t=!1,s=n;var c=r;if(r=null,n=null,!c||!c.length){if(!s||!s.length){s=null;return}c||(c=[])}t=!0,e(c,i)}function o(a,c){t?(r||(r=[],n=[]),SVt(r,a),c&&n.push(c)):(c&&(s=[c]),t=!0,e(Array.isArray(a)?a:[a],i))}}function SVt(e,t){Array.isArray(t)?vVt(e,t):e.push(t)}function vVt(e,t){for(var r=0;r<t.length;r++)e.push(t[r])}function EVt(e,t){for(var r=0;r<e.length;r++)e[r](t)}});var VL=E((xpn,uIe)=>{"use strict";var lIe=Hn(),hd={udp_ip:"127.0.0.1",udp_port:2e3,tcp_ip:"127.0.0.1",tcp_port:2e3,setDaemonAddress:function(t){process.env.AWS_XRAY_DAEMON_ADDRESS?lIe.getLogger().warn("Ignoring call to setDaemonAddress as AWS_XRAY_DAEMON_ADDRESS is set. The current daemon address will not be changed."):(dIe(t),lIe.getLogger().info("Configured daemon address to "+t+"."))}},dIe=function(t){if(t.indexOf(":")===-1)throw new Error("Invalid Daemon Address. You must specify an ip and port.");var r=t.split(" ");if(r.length===1){if(t.indexOf("udp")>-1||t.indexOf("tcp")>-1)throw new Error("Invalid Daemon Address. You must specify both tcp and udp addresses.");var n=t.split(":");if(!n[0])throw new Error("Invalid Daemon Address. You must specify an ip.");hd.udp_ip=n[0],hd.tcp_ip=n[0],hd.udp_port=n[1],hd.tcp_port=n[1]}else if(r.length===2){var s=r[0].split(":"),i=r[1].split(":"),o={};if(o[s[0]]=s,o[i[0]]=i,hd.udp_ip=o.udp[1],hd.udp_port=parseInt(o.udp[2]),hd.tcp_ip=o.tcp[1],hd.tcp_port=parseInt(o.tcp[2]),!hd.udp_port||!hd.tcp_port)throw new Error("Invalid Daemon Address. You must specify port number.")}};process.env.AWS_XRAY_DAEMON_ADDRESS&&dIe(process.env.AWS_XRAY_DAEMON_ADDRESS);uIe.exports=hd});var KL=E((Apn,yIe)=>{"use strict";var pIe=require("dgram"),CVt=cIe(),WL=Hn(),mIe='{"format":"json","version":1}',fIe=`
`;function bVt(e,t){var r=pIe.createSocket("udp4");gIe(r,e,0,function(){try{r.close()}finally{t()}})}function gIe(e,t,r,n){if(r>=t.length){n();return}wVt(e,t[r],function(){gIe(e,t,r+1,n)})}function wVt(e,t,r){var n=t.msg,s=t.offset,i=t.length,o=t.port,a=t.address,c=t.callback;e.send(n,s,i,o,a,function(l){try{c(l)}finally{r()}})}function hIe(){this.batchSend=CVt(bVt)}hIe.prototype.send=function(e,t,r,n,s,i){var o={msg:e,offset:t,length:r,port:n,address:s,callback:i};this.batchSend(o)};var xVt={daemonConfig:VL(),format:function(t){return mIe+fIe+t.toString()},send:function(t){this.socket||(this.useBatchingTemporarySocket?this.socket=new hIe:this.socket=pIe.createSocket("udp4").unref());var r=this.socket,n=t.format(),s=mIe+fIe+n,i=Buffer.from(s),o='{"trace_id:"'+t.trace_id+'","id":"'+t.id+'"}',a=t.type==="subsegment"?"Subsegment":"Segment";r.send(i,0,i.length,this.daemonConfig.udp_port,this.daemonConfig.udp_ip,function(c){c?c.code==="EMSGSIZE"?WL.getLogger().error(a+" too large to send: "+o+" ("+i.length+" bytes)."):WL.getLogger().error("Error occured sending segment: ",c):(WL.getLogger().debug(a+' sent: {"trace_id:"'+t.trace_id+'","id":"'+t.id+'"}'),WL.getLogger().debug("UDP message sent: "+t))})},setDaemonAddress:function(t){this.daemonConfig.setDaemonAddress(t)},getIp:function(){return this.daemonConfig.udp_ip},getPort:function(){return this.daemonConfig.udp_port},disableReusableSocket:function(){this.useBatchingTemporarySocket=!0}};yIe.exports=xVt});var JL=E((Ppn,_Ie)=>{"use strict";var AVt=require("crypto"),XL=Hn(),S8=class e{constructor(t,r){this.version=1,this.timestamp=t||Math.round(new Date().getTime()/1e3).toString(16),this.id=r||AVt.randomBytes(12).toString("hex")}static Invalid(){return new e("00000000","000000000000000000000000")}static FromString(t){let r="-";var n=new e,s,i;if(!t||typeof t!="string")return XL.getLogger().error("Empty or non-string trace ID provided"),n;let o=t.trim().split(r);return o.length!==3?(XL.getLogger().error("Unrecognized trace ID format"),n):(s=parseInt(o[0]),isNaN(s)||s<1?(XL.getLogger().error("Trace ID version must be positive integer"),n):(i=parseInt(o[1],16).toString(16),i==="NaN"?(XL.getLogger().error("Trace ID timestamp must be a hex-encoded value"),n):(i=i.padStart(8,"0"),n.version=s,n.timestamp=i,n.id=o[2],n)))}toString(){return`${this.version.toString()}-${this.timestamp}-${this.id}`}};_Ie.exports=S8});var uo=E((Rpn,SIe)=>{"use strict";var PVt=require("crypto"),UA=Hn(),RVt=JL(),v8={getCauseTypeFromHttpStatus:function(t){var r=t.toString();if(r.match(/^[4][0-9]{2}$/)!==null)return"error";if(r.match(/^[5][0-9]{2}$/)!==null)return"fault"},stripQueryStringFromPath:function(t){return t?t.split("?")[0]:""},wildcardMatch:function(t,r){if(t===void 0||r===void 0)return!1;if(t.length===1&&t.charAt(0)==="*")return!0;var n=t.length,s=r.length,i=t.indexOf("*");if(t=t.toLowerCase(),r=r.toLowerCase(),i===-1||i===n-1){var o=function(){for(var f=0,p=0;p<n;p++){var g=t.charAt(p);if(g==="*")return!0;if(g==="?"){if(f===s)return!1;f++}else{if(f>=s||g!=r.charAt(f))return!1;f++}}return f===s};return o()}var a=[];a[0]=!0;for(var c=0;c<n;c++){var l,d=t.charAt(c);if(d!="*")for(l=s-1;l>=0;l--)a[l+1]=!!a[l]&&(d==="?"||d===r.charAt(l));else{for(l=0;l<=s&&!a[l];)l++;for(l;l<=s;l++)a[l]=!0}a[0]=a[0]&&d==="*"}return a[s]},LambdaUtils:{validTraceData:function(e){var t=!1;if(e){var r=v8.processTraceData(e);t=!!(r&&r.root&&r.parent&&r.sampled)}return t},populateTraceData:function(e,t){UA.getLogger().debug("Lambda trace data found: "+t);let r=v8.processTraceData(t);var n=!1;return r?r.root&&!r.parent&&!r.sampled?(e.noOp=!0,n=!0):!r.root||!r.parent||!r.sampled?UA.getLogger().error("_X_AMZN_TRACE_ID is missing required information"):n=!0:(r={},UA.getLogger().error("_X_AMZN_TRACE_ID is empty or has an invalid format")),e.trace_id=RVt.FromString(r.root).toString(),e.id=r.parent||PVt.randomBytes(8).toString("hex"),r.root&&e.trace_id!==r.root&&(UA.getLogger().error("_X_AMZN_TRACE_ID contains invalid trace ID"),n=!1),parseInt(r.sampled)?delete e.notTraced:e.notTraced=!0,r.data&&(e.additionalTraceData=r.data),UA.getLogger().debug("Segment started: "+JSON.stringify(r)),n}},processTraceData:function(t){var r={},n={},s=["root","parent","sampled","self"],i=256;return typeof t=="string"&&t&&(t.split(";").forEach(function(o){if(o){var a=o.split("=");if(a[0]&&a[1]){let c=a[0].trim(),l=a[1].trim(),d=c.toLowerCase(),u=s.indexOf(d)!==-1;u?r[d]=l:!u&&i-(d.length+l.length)>=0&&(n[c]=l,i-=c.length+l.length)}}}),r.data=n),r},objectWithoutProperties:function(t,r,n){r=Array.isArray(r)?r:[],n=typeof n=="boolean"?n:!1;var s=n?Object.create(Object.getPrototypeOf(t)):{};for(var i in t)r.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i]);return s},safeParseInt:e=>!e||isNaN(e)?0:parseInt(e)};SIe.exports=v8});var Gp=E((Ipn,CIe)=>{"use strict";var{safeParseInt:vIe}=uo(),EIe=Hn(),IVt=100,E8={streamingThreshold:IVt,getCurrentTime:function(){return Date.now()/1e3},setOrigin:function(t){this.origin=t},setPluginData:function(t){this.pluginData=t},setSDKData:function(t){this.sdkData=t},setServiceData:function(t){this.serviceData=t},setStreamingThreshold:function(t){isFinite(t)&&t>=0?(E8.streamingThreshold=t,EIe.getLogger().debug("Subsegment streaming threshold set to: "+t)):EIe.getLogger().error("Invalid threshold: "+t+". Must be a whole number >= 0.")},getStreamingThreshold:function(){return E8.streamingThreshold},getHttpResponseData:e=>{let t={};if(!e)return t;let r=vIe(e.statusCode);return r!==0&&(t.status=r),e.headers&&e.headers["content-length"]&&(t.content_length=vIe(e.headers["content-length"])),t},getJsonStringifyReplacer:()=>(e,t)=>typeof t=="bigint"?t.toString():t};CIe.exports=E8});var xIe=E((Tpn,wIe)=>{"use strict";var{getHttpResponseData:TVt}=Gp(),{stripQueryStringFromPath:OVt}=uo();function bIe(e,t,r){this.init(e,t,r)}bIe.prototype.init=function(t,r,n){this.request={url:t.agent&&t.agent.protocol?t.agent.protocol+"//"+(t.host||t.getHeader("host"))+OVt(t.path):"",method:t.method||""},n&&(this.request.traced=!0),r&&(this.response=TVt(r))};wIe.exports=bIe});var BA=E((Opn,AIe)=>{"use strict";var NVt=require("crypto"),DVt=_8(),kVt=xIe(),MVt=KL(),YL=Gp(),LVt=uo(),Bm=Hn();function Rr(e){this.init(e)}Rr.prototype.init=function(t){if(typeof t!="string")throw new Error("Subsegment name must be of type string.");this.id=NVt.randomBytes(8).toString("hex"),this.name=t,this.start_time=YL.getCurrentTime(),this.in_progress=!0,this.counter=0,this.notTraced=!1};Rr.prototype.addNewSubsegment=function(t){let r=new Rr(t);return this.addSubsegment(r),r};Rr.prototype.addSubsegmentWithoutSampling=function(t){this.addSubsegment(t),t.notTraced=!0};Rr.prototype.addNewSubsegmentWithoutSampling=function(t){let r=new Rr(t);return this.addSubsegment(r),r.notTraced=!0,r};Rr.prototype.addSubsegment=function(e){if(!(e instanceof Rr))throw new Error("Failed to add subsegment:"+e+' to subsegment "'+this.name+'".  Not a subsegment.');this.subsegments===void 0&&(this.subsegments=[]),e.segment=this.segment,e.parent=this,e.notTraced=e.parent.notTraced,e.noOp=e.parent.noOp,e.end_time===void 0&&this.incrementCounter(e.counter),this.subsegments.push(e)};Rr.prototype.removeSubsegment=function(t){if(!(t instanceof Rr))throw new Error("Failed to remove subsegment:"+t+' from subsegment "'+this.name+'".  Not a subsegment.');if(this.subsegments!==void 0){var r=this.subsegments.indexOf(t);r>=0&&this.subsegments.splice(r,1)}};Rr.prototype.addAttribute=function(t,r){this[t]=r};Rr.prototype.addPrecursorId=function(e){typeof e!="string"&&Bm.getLogger().error("Failed to add id:"+e+" to subsegment "+this.name+".  Precursor Ids must be of type string."),this.precursor_ids===void 0&&(this.precursor_ids=[]),this.precursor_ids.push(e)};Rr.prototype.addAnnotation=function(e,t){if(typeof t!="boolean"&&typeof t!="string"&&!isFinite(t)){Bm.getLogger().error("Failed to add annotation key: "+e+" value: "+t+" to subsegment "+this.name+". Value must be of type string, number or boolean.");return}if(typeof e!="string"){Bm.getLogger().error("Failed to add annotation key: "+e+" value: "+t+" to subsegment "+this.name+". Key must be of type string.");return}this.annotations===void 0&&(this.annotations={}),this.annotations[e]=t};Rr.prototype.addMetadata=function(e,t,r){if(typeof e!="string"){Bm.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to subsegment "+this.name+". Key must be of type string.");return}if(r&&typeof r!="string"){Bm.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to subsegment "+this.name+". Namespace must be of type string.");return}var n=r||"default";this.metadata||(this.metadata={}),this.metadata[n]||(this.metadata[n]={}),n!=="__proto__"&&(this.metadata[n][e]=t??"")};Rr.prototype.addSqlData=function(t){this.sql=t};Rr.prototype.addError=function(t,r){if(t==null||typeof t!="object"&&typeof t!="string"){Bm.getLogger().error("Failed to add error:"+t+' to subsegment "'+this.name+'".  Not an object or string literal.');return}if(this.addFaultFlag(),this.segment&&this.segment.exception){if(t===this.segment.exception.ex){this.fault=!0,this.cause={id:this.segment.exception.cause,exceptions:[]};return}delete this.segment.exception}this.segment&&(this.segment.exception={ex:t,cause:this.id}),this.cause===void 0&&(this.cause={working_directory:process.cwd(),exceptions:[]}),this.cause.exceptions.unshift(new DVt(t,r))};Rr.prototype.addRemoteRequestData=function(t,r,n){this.http=new kVt(t,r,n),"traced"in this.http.request&&(this.traced=this.http.request.traced,delete this.http.request.traced)};Rr.prototype.addFaultFlag=function(){this.fault=!0};Rr.prototype.addErrorFlag=function(){this.error=!0};Rr.prototype.addThrottleFlag=function(){this.throttle=!0};Rr.prototype.close=function(t,r){var n=this.segment;this.end_time=YL.getCurrentTime(),delete this.in_progress,t&&this.addError(t,r),this.parent&&this.parent.decrementCounter(),n&&n.counter>YL.getStreamingThreshold()&&this.streamSubsegments()&&this.parent&&this.parent.removeSubsegment(this)};Rr.prototype.incrementCounter=function(t){this.counter=t?this.counter+t+1:this.counter+1,this.parent&&this.parent.incrementCounter(t)};Rr.prototype.decrementCounter=function(){this.counter--,this.parent&&this.parent.decrementCounter()};Rr.prototype.isClosed=function(){return!this.in_progress};Rr.prototype.flush=function(){if(!this.parent||!this.segment){Bm.getLogger().error("Failed to flush subsegment: "+this.name+". Subsegment must be added to a segment chain to flush.");return}this.segment.trace_id?this.segment.notTraced!==!0&&!this.notTraced?MVt.send(this):Bm.getLogger().debug("Ignoring flush on subsegment "+this.id+". Associated segment is marked as not sampled."):Bm.getLogger().debug("Ignoring flush on subsegment "+this.id+". Associated segment is missing a trace ID.")};Rr.prototype.streamSubsegments=function(){if(this.isClosed()&&this.counter<=0)return this.flush(),!0;if(this.subsegments&&this.subsegments.length>0){var t=[];this.subsegments.forEach(function(r){r.streamSubsegments()||t.push(r)}),this.subsegments=t}};Rr.prototype.format=function(){return this.type="subsegment",this.parent&&(this.parent_id=this.parent.id),this.segment&&(this.trace_id=this.segment.trace_id),this.serialize()};Rr.prototype.toString=function(){return this.serialize()};Rr.prototype.toJSON=function(){var t=["segment","parent","counter"];(this.subsegments==null||this.subsegments.length===0)&&t.push("subsegments");var r=LVt.objectWithoutProperties(this,t,!1);return r};Rr.prototype.serialize=function(t){return JSON.stringify(t??this,YL.getJsonStringifyReplacer())};AIe.exports=Rr});var FA=E((Npn,IIe)=>{"use strict";var UVt=require("crypto"),BVt=_8(),FVt=KL(),Gc=Gp(),QL=BA(),PIe=JL(),RIe=uo(),Vp=Hn();function Jr(e,t,r){this.init(e,t,r)}Jr.prototype.init=function(t,r,n){if(typeof t!="string")throw new Error("Segment name must be of type string.");var s;r&&typeof r=="string"?s=PIe.FromString(r):s=new PIe;var i=UVt.randomBytes(8).toString("hex"),o=Gc.getCurrentTime();this.trace_id=s.toString(),this.id=i,this.start_time=o,this.name=t||"",this.in_progress=!0,this.counter=0,n&&(this.parent_id=n),Gc.serviceData&&this.setServiceData(Gc.serviceData),Gc.pluginData&&this.addPluginData(Gc.pluginData),Gc.origin&&(this.origin=Gc.origin),Gc.sdkData&&this.setSDKData(Gc.sdkData)};Jr.prototype.addIncomingRequestData=function(t){this.http=t};Jr.prototype.addAnnotation=function(t,r){if(typeof r!="boolean"&&typeof r!="string"&&!isFinite(r)){Vp.getLogger().error("Failed to add annotation key: "+t+" value: "+r+" to subsegment "+this.name+". Value must be of type string, number or boolean.");return}if(typeof t!="string"){Vp.getLogger().error("Failed to add annotation key: "+t+" value: "+r+" to subsegment "+this.name+". Key must be of type string.");return}this.annotations===void 0&&(this.annotations={}),this.annotations[t]=r};Jr.prototype.setUser=function(e){typeof e!="string"&&Vp.getLogger().error("Set user: "+e+" failed. User IDs must be of type string."),this.user=e};Jr.prototype.addMetadata=function(e,t,r){if(typeof e!="string"){Vp.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to segment "+this.name+". Key must be of type string.");return}if(r&&typeof r!="string"){Vp.getLogger().error("Failed to add metadata key: "+e+" value: "+t+" to segment "+this.name+". Namespace must be of type string.");return}var n=r||"default";this.metadata||(this.metadata={}),this.metadata[n]||(this.metadata[n]={}),n!=="__proto__"&&(this.metadata[n][e]=t??"")};Jr.prototype.setSDKData=function(t){if(!t){Vp.getLogger().error("Add SDK data: "+t+" failed.Must not be empty.");return}this.aws||(this.aws={}),this.aws.xray=t};Jr.prototype.setMatchedSamplingRule=function(t){this.aws&&(this.aws=JSON.parse(JSON.stringify(this.aws))),this.aws&&this.aws.xray?this.aws.xray.rule_name=t:this.aws={xray:{rule_name:t}}};Jr.prototype.setServiceData=function(t){if(!t){Vp.getLogger().error("Add service data: "+t+" failed.Must not be empty.");return}this.service=t};Jr.prototype.addPluginData=function(t){this.aws===void 0&&(this.aws={}),Object.assign(this.aws,t)};Jr.prototype.addNewSubsegment=function(t){var r=new QL(t);return this.addSubsegment(r),r};Jr.prototype.addSubsegmentWithoutSampling=function(t){this.addSubsegment(t),t.notTraced=!0};Jr.prototype.addNewSubsegmentWithoutSampling=function(t){let r=new QL(t);return this.addSubsegment(r),r.notTraced=!0,r};Jr.prototype.addSubsegment=function(t){if(!(t instanceof QL))throw new Error("Cannot add subsegment: "+t+". Not a subsegment.");this.subsegments===void 0&&(this.subsegments=[]),t.segment=this,t.parent=this,t.notTraced=t.parent.notTraced,t.noOp=t.parent.noOp,this.subsegments.push(t),t.end_time||this.incrementCounter(t.counter)};Jr.prototype.removeSubsegment=function(t){if(!(t instanceof QL))throw new Error("Failed to remove subsegment:"+t+' from subsegment "'+this.name+'".  Not a subsegment.');if(this.subsegments!==void 0){var r=this.subsegments.indexOf(t);r>=0&&this.subsegments.splice(r,1)}};Jr.prototype.addError=function(t,r){if(t==null||typeof t!="object"&&typeof t!="string"){Vp.getLogger().error("Failed to add error:"+t+' to subsegment "'+this.name+'".  Not an object or string literal.');return}if(this.addFaultFlag(),this.exception){if(t===this.exception.ex){this.cause={id:this.exception.cause},delete this.exception;return}delete this.exception}this.cause===void 0&&(this.cause={working_directory:process.cwd(),exceptions:[]}),this.cause.exceptions.push(new BVt(t,r))};Jr.prototype.addFaultFlag=function(){this.fault=!0};Jr.prototype.addErrorFlag=function(){this.error=!0};Jr.prototype.addThrottleFlag=function(){this.throttle=!0};Jr.prototype.isClosed=function(){return!this.in_progress};Jr.prototype.incrementCounter=function(t){if(this.counter=t?this.counter+t+1:this.counter+1,this.counter>Gc.streamingThreshold&&this.subsegments&&this.subsegments.length>0){var r=[];this.subsegments.forEach(function(n){n.streamSubsegments()||r.push(n)}),this.subsegments=r}};Jr.prototype.decrementCounter=function(){this.counter--,this.counter<=0&&this.isClosed()&&this.flush()};Jr.prototype.close=function(e,t){this.end_time||(this.end_time=Gc.getCurrentTime()),e!==void 0&&this.addError(e,t),delete this.in_progress,delete this.exception,this.counter<=0&&this.flush()};Jr.prototype.flush=function(){if(this.notTraced!==!0){delete this.exception;var t=RIe.objectWithoutProperties(this,["counter","notTraced"],!0);FVt.send(t)}};Jr.prototype.format=function(){var t=["segment","parent","counter"];(this.subsegments==null||this.subsegments.length===0)&&t.push("subsegments");var r=RIe.objectWithoutProperties(this,t,!1);return this.serialize(r)};Jr.prototype.toString=function(){return this.serialize()};Jr.prototype.serialize=function(t){return JSON.stringify(t??this,Gc.getJsonStringifyReplacer())};IIe.exports=Jr});var Kp=E((Dpn,DIe)=>{"use strict";var qA=tIe(),yd=Hn(),C8=FA(),TIe=BA(),Fm=!0,Wp="AWSXRay",OIe="segment",NIe=!1,mo={CONTEXT_MISSING_STRATEGY:{RUNTIME_ERROR:{contextMissing:function(t){throw new Error(t)}},LOG_ERROR:{contextMissing:function(t){var r=new Error(t);yd.getLogger().error(r.stack)}},IGNORE_ERROR:{contextMissing:function(){}}},contextMissingStrategy:{},resolveManualSegmentParams:function(t){if(t&&!mo.isAutomaticMode()){var r=t.XRaySegment||t.XraySegment,n=t.Segment,s=null;return r&&(r instanceof C8||r instanceof TIe)?(s=r,delete t.XRaySegment,delete t.XraySegment):n&&(n instanceof C8||n instanceof TIe)&&(s=n,delete t.Segment),s}},getNamespace:function(){return qA.getNamespace(Wp)||qA.createNamespace(Wp)},resolveSegment:function(t){if(Fm)return this.getSegment();if(t&&!Fm)return t;!t&&!Fm&&mo.contextMissingStrategy.contextMissing("No sub/segment specified. A sub/segment must be provided for manual mode.")},getSegment:function(){if(Fm){var t=mo.getNamespace(Wp).get(OIe);return t?t instanceof C8&&process.env.LAMBDA_TASK_ROOT&&t.facade==!0&&t.resolveLambdaTraceData():mo.contextMissingStrategy.contextMissing("Failed to get the current sub/segment from the context."),t}else mo.contextMissingStrategy.contextMissing("Cannot get sub/segment from context. Not supported in manual mode.")},setSegment:function(t){Fm?mo.getNamespace(Wp).set(OIe,t)||yd.getLogger().warn("Failed to set the current sub/segment on the context."):mo.contextMissingStrategy.contextMissing("Cannot set sub/segment on context. Not supported in manual mode.")},isAutomaticMode:function(){return Fm},enableAutomaticMode:function(){Fm=!0,mo.getNamespace(Wp),yd.getLogger().debug("Overriding AWS X-Ray SDK mode. Set to automatic mode.")},enableManualMode:function(){Fm=!1,qA.getNamespace(Wp)&&qA.destroyNamespace(Wp),yd.getLogger().debug("Overriding AWS X-Ray SDK mode. Set to manual mode.")},setContextMissingStrategy:function(t){if(NIe)yd.getLogger().warn("Ignoring call to setContextMissingStrategy as AWS_XRAY_CONTEXT_MISSING is set. The current context missing strategy will not be changed.");else if(typeof t=="string"){var r=mo.CONTEXT_MISSING_STRATEGY[t.toUpperCase()];if(r)mo.contextMissingStrategy.contextMissing=r.contextMissing,process.env.AWS_XRAY_CONTEXT_MISSING?yd.getLogger().debug("AWS_XRAY_CONTEXT_MISSING is set. Configured context missing strategy to "+process.env.AWS_XRAY_CONTEXT_MISSING+"."):yd.getLogger().debug("Configured context missing strategy to: "+t);else throw new Error("Invalid context missing strategy: "+t+". Valid values are "+Object.keys(mo.CONTEXT_MISSING_STRATEGY)+".")}else if(typeof t=="function")mo.contextMissingStrategy.contextMissing=t,yd.getLogger().info("Configured custom context missing strategy to function: "+t.name);else throw new Error("Context missing strategy must be either a string or a custom function.")}};process.env.AWS_XRAY_MANUAL_MODE?(Fm=!1,yd.getLogger().debug("Starting the AWS X-Ray SDK in manual mode.")):(qA.createNamespace(Wp),yd.getLogger().debug("Starting the AWS X-Ray SDK in automatic mode (default)."));process.env.AWS_XRAY_CONTEXT_MISSING?(mo.setContextMissingStrategy(process.env.AWS_XRAY_CONTEXT_MISSING),NIe=!0):(mo.contextMissingStrategy.contextMissing=mo.CONTEXT_MISSING_STRATEGY.LOG_ERROR.contextMissing,yd.getLogger().debug("Using default context missing strategy: LOG_ERROR"));DIe.exports=mo});var w8=E((kpn,kIe)=>{"use strict";var{getHttpResponseData:qVt}=Gp();function b8(e){this.init(e)}b8.prototype.init=function(t){var r=!!t.headers["x-forwarded-for"],n;t.connection&&(n=(t.connection.secure||t.connection.encrypted?"https://":"http://")+((t.headers.host||"")+(t.url||""))),this.request={method:t.method||"",user_agent:t.headers["user-agent"]||"",client_ip:jVt(t)||"",url:n||""},r&&(this.request.x_forwarded_for=r)};var jVt=function(t){var r;return t.headers["x-forwarded-for"]?r=(t.headers["x-forwarded-for"]||"").split(",")[0]:t.connection&&t.connection.remoteAddress?r=t.connection.remoteAddress:t.socket&&t.socket.remoteAddress?r=t.socket.remoteAddress:t.connection&&t.connection.socket&&t.connection.socket.remoteAddress&&(r=t.connection.socket.remoteAddress),r};b8.prototype.close=function(t){this.response=qVt(t)};kIe.exports=b8});var LIe=E((Mpn,MIe)=>{"use strict";function x8(e,t){this.init(e,t)}x8.prototype.init=function(t,r){if(this.usedThisSecond=0,typeof t=="number"&&t%1===0&&t>=0)this.fixedTarget=t;else throw new Error('Error in sampling file. Rule attribute "fixed_target" must be a non-negative integer.');if(typeof r=="number"&&r>=0&&r<=1)this.fallbackRate=r;else throw new Error('Error in sampling file. Rule attribute "rate" must be a number between 0 and 1 inclusive.')};x8.prototype.isSampled=function(){var t=Math.round(new Date().getTime()/1e3);return t!==this.thisSecond&&(this.usedThisSecond=0,this.thisSecond=t),this.usedThisSecond>=this.fixedTarget?Math.random()<this.fallbackRate:(this.usedThisSecond++,!0)};MIe.exports=x8});var UIe=E((Lpn,$Vt)=>{$Vt.exports={default:{fixed_target:1,rate:.05},version:2}});var P8=E((Upn,$Ie)=>{"use strict";var zVt=require("fs"),BIe=LIe(),A8=uo(),HVt=UIe(),ZL=Hn(),qIe={shouldSample:function(t){var r=t.host,n=t.httpMethod,s=t.urlPath,i="{ http_method: "+n+", host: "+r+", url_path: "+s+" }",o;return this.rules.some(function(a){if(a.default||r==null||A8.wildcardMatch(a.host,r)&&(n==null||A8.wildcardMatch(a.http_method,n))&&(s==null||A8.wildcardMatch(a.url_path,s)))return o=a.reservoir,ZL.getLogger().debug("Local sampling rule match found for "+i+". Matched "+(a.default?"default":"{ http_method: "+a.http_method+", host: "+a.host+", url_path: "+a.url_path+" }")+". Using fixed_target: "+o.fixedTarget+" and rate: "+o.fallbackRate+"."),!0}),o?o.isSampled():(ZL.getLogger().debug("No sampling rule matched for "+i),!1)},setLocalRules:function(t){t?typeof t=="string"?(ZL.getLogger().info("Using custom sampling rules file: "+t),this.rules=FIe(JSON.parse(zVt.readFileSync(t,"utf8")))):(ZL.getLogger().info("Using custom sampling rules source."),this.rules=FIe(t)):this.rules=jIe(HVt)}},FIe=function(t){if(!t.version)throw new Error('Error in sampling file. Missing "version" attribute.');if(t.version===1||t.version===2)return jIe(t);throw new Error('Error in sampling file. Unknown version "'+t.version+'".')},jIe=function(t){var r,n=[];if(t.default){var s=[];for(var i in t.default){if(i!=="fixed_target"&&i!=="rate")throw new Error("Error in sampling file. Invalid attribute for default: "+i+'. Valid attributes for default are "fixed_target" and "rate".');if(typeof t.default[i]!="number")throw new Error("Error in sampling file. Default "+i+" must be a number.")}if(typeof t.default.fixed_target>"u"&&s.push("fixed_target"),typeof t.default.rate>"u"&&s.push("rate"),s.length!==0)throw new Error("Error in sampling file. Missing required attributes for default: "+s+".");r={default:!0,reservoir:new BIe(t.default.fixed_target,t.default.rate)}}else throw new Error('Error in sampling file. Expecting "default" object to be defined with attributes "fixed_target" and "rate".');return Array.isArray(t.rules)&&t.rules.forEach(function(o){var a={},c;t.version===2&&(c={host:1,http_method:1,url_path:1,fixed_target:1,rate:1}),t.version===1&&(c={service_name:1,http_method:1,url_path:1,fixed_target:1,rate:1});for(var l in o){var d=o[l];if(!c[l]&&l!="description")throw new Error("Error in sampling file. Rule "+JSON.stringify(o)+" has invalid attribute: "+l+".");if(l!="description"&&!d&&d!==0)throw new Error("Error in sampling file. Rule "+JSON.stringify(o)+' attribute "'+l+'" has invalid value: '+d+".");t.version===2&&(a[l]=d),t.version===1&&l==="service_name"?a.host=d:a[l]=d,delete c[l]}if(Object.keys(c).length!==0&&c.constructor===Object)throw new Error("Error in sampling file. Rule "+JSON.stringify(o)+" is missing required attributes: "+Object.keys(c)+".");var u=a;u.reservoir=new BIe(o.fixed_target,o.rate),n.push(u)}),n.push(r),n};qIe.setLocalRules();$Ie.exports=qIe});var HIe=E((Bpn,zIe)=>{"use strict";function nE(){this.init()}nE.prototype.init=function(){this.quota=null,this.TTL=null,this.takenThisSec=0,this.borrowedThisSec=0,this.reportInterval=1,this.reportElapsed=0};nE.prototype.borrowOrTake=function(t,r){if(this.adjustThisSec(t),this.quota>=0&&this.TTL>=t)return this.takenThisSec>=this.quota?!1:(this.takenThisSec++,"take");if(r)return this.borrowedThisSec>=1?!1:(this.borrowedThisSec++,"borrow")};nE.prototype.adjustThisSec=function(t){t!==this.thisSec&&(this.takenThisSec=0,this.borrowedThisSec=0,this.thisSec=t)};nE.prototype.loadNewQuota=function(t,r,n){t&&(this.quota=t),r&&(this.TTL=r),n&&(this.reportInterval=n/10)};nE.prototype.timeToReport=function(){return this.reportElapsed+1>=this.reportInterval?(this.reportElapsed=0,!0):(this.reportElapsed+=1,!1)};zIe.exports=nE});var VIe=E((Fpn,GIe)=>{"use strict";var jA=uo(),GVt=HIe();function vi(e,t,r,n,s,i,o,a,c){this.init(e,t,r,n,s,i,o,a,c)}vi.prototype.init=function(t,r,n,s,i,o,a,c,l){this.name=t,this.priority=r,this.rate=n,this.host=i,this.httpMethod=o,this.urlPath=a,this.serviceName=c,this.serviceType=l,this.reservoir=new GVt,this.borrow=!!s,this.resetStatistics()};vi.prototype.match=function(t){var r=t.host,n=t.httpMethod,s=t.serviceName,i=t.urlPath,o=t.serviceType;return this.isDefault()||(!r||jA.wildcardMatch(this.host,r))&&(!n||jA.wildcardMatch(this.httpMethod,n))&&(!s||jA.wildcardMatch(this.serviceName,s))&&(!i||jA.wildcardMatch(this.urlPath,i))&&(!o||jA.wildcardMatch(this.serviceType,o))};vi.prototype.snapshotStatistics=function(){var t={requestCount:this.requestCount,borrowCount:this.borrowCount,sampledCount:this.sampledCount};return this.resetStatistics(),t};vi.prototype.merge=function(t){this.reservoir=t.reservoir,this.requestCount=t.requestCount,this.borrowCount=t.borrowCount,this.sampledCount=t.sampledCount,t=null};vi.prototype.isDefault=function(){return this.name==="Default"};vi.prototype.incrementRequestCount=function(){this.requestCount++};vi.prototype.incrementBorrowCount=function(){this.borrowCount++};vi.prototype.incrementSampledCount=function(){this.sampledCount++};vi.prototype.setRate=function(t){this.rate=t};vi.prototype.getRate=function(){return this.rate};vi.prototype.getName=function(){return this.name};vi.prototype.getPriority=function(){return this.priority};vi.prototype.getReservoir=function(){return this.reservoir};vi.prototype.resetStatistics=function(){this.requestCount=0,this.borrowCount=0,this.sampledCount=0};vi.prototype.canBorrow=function(){return this.borrow};vi.prototype.everMatched=function(){return this.requestCount>0};vi.prototype.timeToReport=function(){return this.reservoir.timeToReport()};GIe.exports=vi});var R8=E((qpn,JIe)=>{"use strict";var VVt=require("crypto"),WVt=Hn(),KVt=VIe(),eU=VL(),XVt=require("util"),JVt=require("http"),KIe={clientId:VVt.randomBytes(12).toString("hex"),samplingRulesPath:"/GetSamplingRules",samplingTargetsPath:"/SamplingTargets",logger:WVt,httpClient:JVt,fetchSamplingRules:function(t){let r="{}",n=WIe(this.samplingRulesPath,r.length),i=(this.httpClient.__request?this.httpClient.__request:this.httpClient.request)(n,o=>{var a="";o.on("data",c=>{a+=c}),o.on("error",c=>{t(c)}),o.on("end",()=>{var c;try{c=JSON.parse(a)}catch(d){t(d);return}if(!c){t(new Error("AWS X-Ray GetSamplingRules API returned empty response"));return}var l=QVt(c);t(null,l)})});i.on("error",()=>{t(new Error(`Failed to connect to X-Ray daemon at ${n.hostname}:${n.port} to get sampling rules.`))}),i.write(r),i.end()},fetchTargets:function(t,r){let n=JSON.stringify(YVt(t)),s=WIe(this.samplingTargetsPath,n.length),o=(this.httpClient.__request?this.httpClient.__request:this.httpClient.request)(s,a=>{var c="";a.on("data",l=>{c+=l}),a.on("error",l=>{r(l)}),a.on("end",()=>{var l;try{l=JSON.parse(c)}catch(f){r(f);return}if(!l||typeof l.LastRuleModification!="number"){r(new Error("AWS X-Ray SamplingTargets API returned invalid response"));return}var d=ZVt(l),u=XIe(l.LastRuleModification);r(null,d,u)})});o.on("error",()=>{r(new Error(`Failed to connect to X-Ray daemon at ${s.hostname}:${s.port} to get sampling targets.`))}),o.write(n),o.end()}},YVt=function(t){var r=[],n=Math.floor(new Date().getTime()/1e3);return t.forEach(function(s){var i=s.snapshotStatistics(),o={RuleName:s.getName(),ClientID:KIe.clientId,RequestCount:i.requestCount,BorrowCount:i.borrowCount,SampledCount:i.sampledCount,Timestamp:n};r.push(o)}),{SamplingStatisticsDocuments:r}},QVt=function(t){var r=[],n=t.SamplingRuleRecords||[];return n.forEach(function(s){if(s=s.SamplingRule,e2t(s)){var i=new KVt(s.RuleName,s.Priority,s.FixedRate,s.ReservoirSize,s.Host,s.HTTPMethod,s.URLPath,s.ServiceName,s.ServiceType);r.push(i)}}),r},ZVt=function(t){var r=t.SamplingTargetDocuments||[],n={};return r.forEach(function(s){var i={rate:s.FixedRate,quota:s.ReservoirQuota,TTL:XIe(s.ReservoirQuotaTTL),interval:s.Interval};n[s.RuleName]=i}),n},e2t=function(t){return t.Version===1&&t.ResourceARN==="*"&&t.Attributes&&Object.keys(t.Attributes).length===0&&t.ServiceType&&t.RuleName&&t.Priority&&typeof t.FixedRate=="number"},XIe=function(t){return new Date(t).getTime()/1e3},WIe=function(t,r){return{hostname:eU.tcp_ip,port:eU.tcp_port,method:"POST",path:t,headers:{"Content-Type":"application/json","Content-Length":r,Host:XVt.format("%s:%d",eU.tcp_ip,eU.tcp_port)}}};JIe.exports=KIe});var tU=E((jpn,YIe)=>{"use strict";var t2t=3600,I8={rules:[],lastUpdated:null,getMatchedRule:function(t,r){if(r2t(r))return null;var n;return this.rules.forEach(function(s){!n&&s.match(t)&&(n=s),s.isDefault()&&!n&&(n=s)}),n},loadRules:function(t){var r={};this.rules.forEach(function(n){r[n.getName()]=n}),this.rules=t,this.rules.forEach(function(n){var s=r[n.getName()];s&&n.merge(s)}),this.rules.sort(function(n,s){var i=n.getPriority()-s.getPriority();return i!==0?i:n.getName()>s.getName()?1:-1})},loadTargets:function(t){this.rules.forEach(function(r){var n=t[r.getName()];n&&(r.getReservoir().loadNewQuota(n.quota,n.TTL,n.interval),r.setRate(n.rate))})},getRules:function(){return this.rules},timestamp:function(t){this.lastUpdated=t},getLastUpdated:function(){return this.lastUpdated}},r2t=function(t){return I8.getLastUpdated()?t>I8.getLastUpdated()+t2t:!0};YIe.exports=I8});var O8=E(($pn,tTe)=>{"use strict";var T8=Hn(),n2t=R8(),QIe=tU(),s2t=5*60*1e3,i2t={start:function(){this.poller&&clearInterval(this.poller),ZIe(!1),this.poller=setInterval(ZIe,s2t),this.poller.unref()}},ZIe=function(t){if(t=typeof t>"u"?!0:t,t){var r=a2t();setTimeout(eTe,r)}else eTe()},eTe=function(){try{o2t()}catch(t){T8.getLogger().warn("Encountered unexpected exception when fetching sampling rules: "+t)}},o2t=function(){var t=Math.floor(new Date().getTime()/1e3);n2t.fetchSamplingRules(function(r,n){r?T8.getLogger().warn("Failed to retrieve sampling rules from X-Ray service:",r):n.length!==0&&(QIe.loadRules(n),QIe.timestamp(t),T8.getLogger().info("Successfully refreshed centralized sampling rule cache."))})},a2t=function(){return Math.random()*5};tTe.exports=i2t});var iTe=E((zpn,sTe)=>{"use strict";var c2t=O8(),l2t=R8(),N8=tU(),rU=Hn(),rTe=10*1e3,nTe={interval:rTe,start:function(){this.poller=setInterval(d2t,rTe+f2t()),this.poller.unref()}},d2t=function(){try{u2t()}catch(t){rU.getLogger().warn("Encountered unexpected exception when fetching sampling targets: "+t)}},u2t=function(){var t=m2t();t&&t.length>0&&l2t.fetchTargets(t,function(r,n,s){if(r){rU.getLogger().warn("Failed to retrieve sampling targets from X-Ray service:",r);return}N8.loadTargets(n),s>N8.getLastUpdated()&&(rU.getLogger().info("Performing out-of-band sampling rule polling to fetch updated rules."),c2t.start()),rU.getLogger().info("Successfully reported rule statistics to get new sampling quota.")})},m2t=function(){var t=N8.getRules(),r=[];return t.forEach(function(n){n.everMatched()&&n.timeToReport()&&r.push(n)}),r},f2t=function(){return Math.random()/nTe.interval};sTe.exports=nTe});var aTe=E((Hpn,oTe)=>{"use strict";var D8=Hn(),p2t=require("util"),g2t=Gp(),h2t={localSampler:P8(),rulePoller:O8(),targetPoller:iTe(),ruleCache:tU(),started:!1,shouldSample:function(t){try{this.started||this.start(),t.serviceType||(t.serviceType=g2t.origin);var r=Math.floor(new Date().getTime()/1e3),n=this.ruleCache.getMatchedRule(t,r);return n?(D8.getLogger().debug(p2t.format("Rule %s is matched.",n.getName())),y2t(n,r)):(D8.getLogger().info("No effective centralized sampling rule match. Fallback to local rules."),this.localSampler.shouldSample(t))}catch(s){D8.getLogger().error("Unhandled exception by the SDK during making sampling decisions: "+s)}},setLocalRules:function(t){this.localSampler.setLocalRules(t)},start:function(){this.started||(this.rulePoller.start(),this.targetPoller.start(),this.started=!0)}},y2t=function(t,r){t.incrementRequestCount();var n=t.getReservoir(),s=!0,i=n.borrowOrTake(r,t.canBorrow());return i==="borrow"?t.incrementBorrowCount():i==="take"||Math.random()<=t.getRate()?t.incrementSampledCount():s=!1,s?t.getName():!1};oTe.exports=h2t});var M8=E((Gpn,cTe)=>{"use strict";var _2t=FA(),S2t=w8(),v2t=Hn(),E2t=uo(),C2t=uo().wildcardMatch,b2t=uo().processTraceData,k8="x-amzn-trace-id",w2t=!!process.env.AWS_XRAY_TRACING_NAME,x2t={defaultName:process.env.AWS_XRAY_TRACING_NAME,dynamicNaming:!1,hostPattern:null,sampler:aTe(),enableDynamicNaming:function(e){if(this.dynamicNaming=!0,e&&typeof e!="string")throw new Error("Host pattern must be a string.");this.hostPattern=e||null},processHeaders:function(t){var r={};return t&&t.headers&&t.headers[k8]&&(r=b2t(t.headers[k8])),r},resolveName:function(t){var r;return this.dynamicNaming&&t?r=this.hostPattern?C2t(this.hostPattern,t)?t:this.defaultName:t:r=this.defaultName,r},resolveSampling:function(t,r,n){var s;if(t.sampled==="1")s=!0;else if(t.sampled==="0")s=!1;else{var i={host:n.req.headers.host,httpMethod:n.req.method,urlPath:n.req.url,serviceName:r.name};s=this.sampler.shouldSample(i),(s instanceof String||typeof s=="string")&&(r.setMatchedSamplingRule(s),s=!0)}t.sampled==="?"&&n.header&&n.header(k8,"Root="+t.root+";Sampled="+(s?"1":"0")),s||(r.notTraced=!0)},setDefaultName:function(t){w2t||(this.defaultName=t)},disableCentralizedSampling:function(){this.sampler=P8()},setSamplingRules:function(t){if(!t||t instanceof String||!(typeof t=="string"||t instanceof Object))throw new Error("Please specify a path to the local sampling rules file, or supply an object containing the rules.");this.sampler.setLocalRules(t)},middlewareLog:function(t,r,n){v2t.getLogger().debug(t+": { url: "+r+", name: "+n.name+", trace_id: "+n.trace_id+", id: "+n.id+", sampled: "+!n.notTraced+" }")},traceRequestResponseCycle:function(t,r){var n=this.processHeaders(t),s=this.resolveName(t.headers.host),i=new _2t(s,n.root,n.parent);r.req||(r.req=t),this.resolveSampling(n,i,r),i.addIncomingRequestData(new S2t(t)),this.middlewareLog("Starting middleware segment",t.url,i);var o=this.middlewareLog,a=!1,c=function(){if(a)return;a=!0,r.statusCode===429&&i.addThrottleFlag();let l=E2t.getCauseTypeFromHttpStatus(r.statusCode);l&&(i[l]=!0),i.http.close(r),i.close(),o("Closed middleware segment successfully",t.url,i)};return r.on("finish",c),r.on("close",c),i}};cTe.exports=x2t});var uTe=E((Vpn,dTe)=>{"use strict";var nU=Kp(),A2t=M8(),L8=uo().LambdaUtils,P2t=FA(),R2t=KL(),I2t=Gp(),B8=Hn(),lTe=JL(),U8=null;dTe.exports.init=function(){nU.enableManualMode=function(){B8.getLogger().warn("AWS Lambda does not support AWS X-Ray manual mode.")},R2t.disableReusableSocket(),I2t.setStreamingThreshold(0),B8.getLogger().info("Disabling centralized sampling in Lambda environment."),A2t.disableCentralizedSampling();var t=nU.getNamespace();t.enter(t.createContext()),nU.setSegment(T2t())};var T2t=function(){var t=new P2t("facade"),r=["addNewSubsegment","addSubsegment","removeSubsegment","toString","addSubsegmentWithoutSampling","addNewSubsegmentWithoutSampling"],n=["incrementCounter","decrementCounter","isClosed","close","format","flush"],s=process.env._X_AMZN_TRACE_ID;for(var i in t)typeof t[i]=="function"&&r.indexOf(i)===-1&&(n.indexOf(i)===-1?t[i]=function(){var o=i;return function(){B8.getLogger().warn('Function "'+o+'" cannot be called on an AWS Lambda segment. Please use a subsegment to record data.')}}():t[i]=function(){});return t.trace_id=lTe.Invalid().toString(),t.isClosed=function(){return!0},t.in_progress=!1,t.counter=1,t.notTraced=!0,t.facade=!0,t.reset=function(){this.trace_id=lTe.Invalid().toString(),this.id="00000000",delete this.subsegments,this.notTraced=!0},t.resolveLambdaTraceData=function(){var a=process.env._X_AMZN_TRACE_ID;a?a!=U8&&(this.reset(),L8.populateTraceData(t,a)&&(U8=a)):(this.reset(),nU.contextMissingStrategy.contextMissing("Missing AWS Lambda trace data for X-Ray. Ensure Active Tracing is enabled and no subsegments are created outside the function handler."))},L8.validTraceData(s)&&L8.populateTraceData(t,s)&&(U8=s),t}});var mTe=E((Wpn,O2t)=>{O2t.exports={name:"aws-xray-sdk-core",version:"3.10.3",description:"AWS X-Ray SDK for Javascript",author:"Amazon Web Services",contributors:["Sandra McMullen <mcmuls@amazon.com>","William Armiros <armiros@amazon.com>","Moritz Onken <onken@netcubed.de>"],files:["dist/lib/**/*","LICENSE","README.md"],main:"dist/lib/index.js",types:"dist/lib/index.d.ts",engines:{node:">= 14.x"},directories:{test:"test"},"//":"@types/cls-hooked is exposed in API so must be in dependencies, not devDependencies",dependencies:{"@aws-sdk/types":"^3.4.1","@smithy/service-error-classification":"^2.0.4","@types/cls-hooked":"^4.3.3","atomic-batcher":"^1.0.2","cls-hooked":"^4.2.2",semver:"^7.5.3"},scripts:{prepare:"npm run compile",compile:"tsc && npm run copy-lib && npm run copy-test","copy-lib":"find lib -type f \\( -name '*.d.ts' -o -name '*.json' \\) | xargs -I % ../../scripts/cp-with-structure.sh % dist","copy-test":"find test -name '*.json' | xargs -I % ../../scripts/cp-with-structure.sh % dist",lint:"eslint .","lint:fix":"eslint . --fix",test:"npm run compile && mocha --recursive ./dist/test/ -R spec && tsd && mocha --recursive ./dist/test_async/ -R spec","test-d":"tsd","test-async":"npm run compile && mocha --recursive ./dist/test_async/ -R spec",clean:"rm -rf dist && rm -rf node_modules",testcov:"nyc npm run test",reportcov:"nyc report --reporter=text-lcov > coverage.lcov"},keywords:["amazon","api","aws","core","xray","x-ray","x ray"],license:"Apache-2.0",repository:"https://github.com/aws/aws-xray-sdk-node/tree/master/packages/core",gitHead:"f838200543af28912291e2bf309991366cd9abea"}});var gTe=E((Kpn,pTe)=>{"use strict";var F8=require("http"),fTe={METADATA_TIMEOUT:1e3,getPluginMetadata:function(e,t){var s=5,i=function(){var o=F8.__request?F8.__request:F8.request,a=o(e,function(c){var l="";c.on("data",function(d){l+=d}),c.on("end",function(){if(this.statusCode===200||this.statusCode===300){try{l=JSON.parse(l)}catch(d){t(d);return}t(null,l)}else s>0&&Math.floor(this.statusCode/100)===5?(s--,setTimeout(i,250)):t(new Error(`Failed to retrieve metadata with options: ${e}`))})});a.on("error",function(c){t(c)}),a.on("timeout",function(){a.abort()}),a.setTimeout(fTe.METADATA_TIMEOUT),a.end()};i()}};pTe.exports=fTe});var vTe=E((Xpn,STe)=>{"use strict";var yTe=gTe(),hTe=Hn(),q8=require("http"),N2t={getData:function(e){let t="/latest/dynamic/instance-identity/document";function r(n){let s=_Te(t,"GET",n?{"X-aws-ec2-metadata-token":n}:{});yTe.getPluginMetadata(s,function(i,o){if(i||!o){hTe.getLogger().error("Error loading EC2 plugin metadata: ",i?i.toString():"Could not retrieve data from IMDS."),e();return}let a={ec2:{instance_id:o.instanceId,availability_zone:o.availabilityZone,instance_size:o.instanceType,ami_id:o.imageId}};e(a)})}D2t(function(n){n===null&&hTe.getLogger().debug("EC2Plugin failed to get token from IMDSv2. Falling back to IMDSv1."),r(n)})},originName:"AWS::EC2::Instance"};function D2t(e){let t=q8.__request?q8.__request:q8.request,s=_Te("/latest/api/token","PUT",{"X-aws-ec2-metadata-token-ttl-seconds":60}),i=t(s,function(o){let a="";o.on("data",function(c){a+=c}),o.on("end",function(){this.statusCode===200||this.statusCode===300?e(a):e(null)})});i.on("error",function(){e(null)}),i.on("timeout",function(){i.abort(),e(null)}),i.setTimeout(yTe.METADATA_TIMEOUT),i.end()}function _Te(e,t,r){return t||(t="GET"),r||(r={}),{host:"169.254.169.254",path:e,method:t,headers:r}}STe.exports=N2t});var CTe=E((Jpn,ETe)=>{"use strict";var k2t=require("os"),M2t={getData:function(e){e({ecs:{container:k2t.hostname()}})},originName:"AWS::ECS::Container"};ETe.exports=M2t});var wTe=E((Ypn,bTe)=>{"use strict";var L2t=require("fs"),U2t=Hn(),B2t="/var/elasticbeanstalk/xray/environment.conf",F2t={getData:function(e){L2t.readFile(B2t,"utf8",function(t,r){if(t)U2t.getLogger().error("Error loading Elastic Beanstalk plugin:",t.stack),e();else{var n=JSON.parse(r),s={elastic_beanstalk:{environment:n.environment_name,version_label:n.version_label,deployment_id:n.deployment_id}};e(s)}})},originName:"AWS::ElasticBeanstalk::Environment"};bTe.exports=F2t});var xTe=E((Qpn,q2t)=>{q2t.exports={services:{dynamodb:{operations:{batchGetItem:{request_descriptors:{RequestItems:{get_keys:!0,rename_to:"table_names"}},response_parameters:["ConsumedCapacity"]},batchWriteItem:{request_descriptors:{RequestItems:{get_keys:!0,rename_to:"table_names"}},response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},createTable:{request_parameters:["GlobalSecondaryIndexes","LocalSecondaryIndexes","ProvisionedThroughput","TableName"]},deleteItem:{request_parameters:["TableName"],response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},deleteTable:{request_parameters:["TableName"]},describeTable:{request_parameters:["TableName"]},getItem:{request_parameters:["ConsistentRead","ProjectionExpression","TableName"],response_parameters:["ConsumedCapacity"]},listTables:{request_parameters:["ExclusiveStartTableName","Limit"],response_descriptors:{TableNames:{list:!0,get_count:!0,rename_to:"table_count"}}},putItem:{request_parameters:["TableName"],response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},query:{request_parameters:["AttributesToGet","ConsistentRead","IndexName","Limit","ProjectionExpression","ScanIndexForward","Select","TableName"],response_parameters:["ConsumedCapacity"]},scan:{request_parameters:["AttributesToGet","ConsistentRead","IndexName","Limit","ProjectionExpression","Segment","Select","TableName","TotalSegments"],response_parameters:["ConsumedCapacity","Count","ScannedCount"]},updateItem:{request_parameters:["TableName"],response_parameters:["ConsumedCapacity","ItemCollectionMetrics"]},updateTable:{request_parameters:["AttributeDefinitions","GlobalSecondaryIndexUpdates","ProvisionedThroughput","TableName"]}}},sqs:{operations:{addPermission:{request_parameters:["Label","QueueUrl"]},changeMessageVisibility:{request_parameters:["QueueUrl","VisibilityTimeout"]},changeMessageVisibilityBatch:{request_parameters:["QueueUrl"],response_parameters:["Failed"]},createQueue:{request_parameters:["Attributes","QueueName"]},deleteMessage:{request_parameters:["QueueUrl"]},deleteMessageBatch:{request_parameters:["QueueUrl"],response_parameters:["Failed"]},deleteQueue:{request_parameters:["QueueUrl"]},getQueueAttributes:{request_parameters:["QueueUrl"],response_parameters:["Attributes"]},getQueueUrl:{request_parameters:["QueueName","QueueOwnerAWSAccountId"],response_parameters:["QueueUrl"]},listDeadLetterSourceQueues:{request_parameters:["QueueUrl"],response_parameters:["QueueUrls"]},listQueues:{request_parameters:["QueueNamePrefix"],response_descriptors:{QueueUrls:{list:!0,get_count:!0,rename_to:"queue_count"}}},purgeQueue:{request_parameters:["QueueUrl"]},receiveMessage:{request_parameters:["AttributeNames","MaxNumberOfMessages","MessageAttributeNames","QueueUrl","VisibilityTimeout","WaitTimeSeconds"],response_descriptors:{Messages:{list:!0,get_count:!0,rename_to:"message_count"}}},removePermission:{request_parameters:["QueueUrl"]},sendMessage:{request_parameters:["DelaySeconds","QueueUrl"],request_descriptors:{MessageAttributes:{get_keys:!0,rename_to:"message_attribute_names"}},response_parameters:["MessageId"]},sendMessageBatch:{request_parameters:["QueueUrl"],request_descriptors:{Entries:{list:!0,get_count:!0,rename_to:"message_count"}},response_descriptors:{Failed:{list:!0,get_count:!0,rename_to:"failed_count"},Successful:{list:!0,get_count:!0,rename_to:"successful_count"}}},setQueueAttributes:{request_parameters:["QueueUrl"],request_descriptors:{Attributes:{get_keys:!0,rename_to:"attribute_names"}}}}},sns:{operations:{publish:{request_parameters:["TopicArn"]},publishBatch:{request_parameters:["TopicArn"]}}},lambda:{operations:{invoke:{request_parameters:["FunctionName","InvocationType","LogType","Qualifier"],response_parameters:["FunctionError","StatusCode"]},invokeAsync:{request_parameters:["FunctionName"],response_parameters:["Status"]}}},s3:{operations:{abortMultipartUpload:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},completeMultipartUpload:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},copyObject:{request_parameters:["CopySource","Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},createBucket:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},createMultipartUpload:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucket:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketAnalyticsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketCors:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketEncryption:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketInventoryConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketLifecycle:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketMetricsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketPolicy:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketReplication:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketTagging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteBucketWebsite:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteObjectTagging:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},deleteObjects:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketAccelerateConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketAcl:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketAnalyticsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketCors:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketEncryption:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketInventoryConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLifecycle:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLifecycleConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLocation:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketLogging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketMetricsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketNotification:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketNotificationConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketPolicy:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketReplication:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketRequestPayment:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketTagging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketVersioning:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getBucketWebsite:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObjectAcl:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObjectTagging:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},getObjectTorrent:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},headBucket:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},headObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listBucketAnalyticsConfigurations:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listBucketInventoryConfigurations:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listBucketMetricsConfigurations:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listMultipartUploads:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listObjectVersions:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listObjects:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listObjectsV2:{request_parameters:["Prefix"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},listParts:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketAccelerateConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketAcl:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketAnalyticsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketCors:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketEncryption:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketInventoryConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketLifecycle:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketLifecycleConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketLogging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketMetricsConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketNotification:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketNotificationConfiguration:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketPolicy:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketReplication:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketRequestPayment:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketTagging:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketVersioning:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putBucketWebsite:{request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putObject:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putObjectAcl:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},putObjectTagging:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},restoreObject:{request_parameters:["Key","VersionId"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},uploadPart:{request_parameters:["Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}},uploadPartCopy:{request_parameters:["CopySource","Key"],request_descriptors:{Bucket:{rename_to:"bucket_name"}}}}},sagemakerruntime:{operations:{invokeEndpoint:{request_parameters:["EndpointName"]}}}}}});var OTe=E((Zpn,TTe)=>{"use strict";var RTe=require("fs"),sE=Hn(),j2t=xTe(),sU={REQ_DESC:"request_descriptors",REQ_PARAMS:"request_parameters",RES_DESC:"response_descriptors",RES_PARAMS:"response_parameters"};function oU(e){this.init(e)}oU.prototype.init=function(t){t?typeof t=="string"?(sE.getLogger().info("Using custom AWS whitelist file: "+t),this.services=iU(JSON.parse(RTe.readFileSync(t,"utf8")))):(sE.getLogger().info("Using custom AWS whitelist source."),this.services=iU(t)):this.services=j2t.services};oU.prototype.append=function(t){var r={};typeof t=="string"?(sE.getLogger().info("Appending AWS whitelist with custom file: "+t),r=iU(JSON.parse(RTe.readFileSync(t,"utf8")))):(sE.getLogger().info("Appending AWS whitelist with a custom source."),r=iU(t));for(var n in r)this.services[n]=r[n]};oU.prototype.capture=function(t,r){var n=r.request.operation,s=this.services[t]!==void 0?this.services[t].operations[n]:null;if(s===null){sE.getLogger().debug('Call "'+t+"."+n+'" is not whitelisted for additional data capturing. Ignoring.');return}var i={};for(var o in s){var a=s[o];o===sU.REQ_PARAMS?ATe(a,r.request.params,i):o===sU.REQ_DESC?PTe(a,r.request.params,i):o===sU.RES_PARAMS?r.data&&ATe(a,r.data,i):o===sU.RES_DESC?r.data&&PTe(a,r.data,i):sE.getLogger().error('Unknown parameter type "'+o+'". Must be "request_descriptors", "response_descriptors", "request_parameters" or "response_parameters".')}return i};function ATe(e,t,r){e.forEach(function(n){if(typeof t[n]<"u"){var s=ITe(n);this[s]=t[n]}},r)}function PTe(e,t,r){for(var n in e){var s=e[n];if(typeof t[n]<"u"){var i;if(s.list&&s.get_count?i=t[n]?t[n].length:0:i=s.get_keys===!0?Object.keys(t[n]):t[n],typeof s.rename_to=="string")r[s.rename_to]=i;else{var o=ITe(n);r[o]=i}}}}function ITe(e){return e==="IPAddress"?"ip_address":e.split(/(?=[A-Z])/).join("_").toLowerCase()}function iU(e){var t=e;if(t.services===void 0)throw new Error('Document formatting is incorrect. Expecting "services" param.');return t.services}TTe.exports=oU});var $A=E((egn,aU)=>{"use strict";var NTe=OTe(),j8=new NTe;function $8(e,t){this.init(e,t)}$8.prototype.init=function(t,r){this.operation=H2t(t.request.operation)||"",t&&t.request&&t.request.httpRequest&&t.request.httpRequest.region&&(this.region=t.request.httpRequest.region),t&&t.requestId&&(this.request_id=t.requestId),this.retries=t.retryCount||0,t.extendedRequestId&&r&&r.toLowerCase()==="s3"&&(this.id_2=t.extendedRequestId),r&&this.addData(j8.capture(r.toLowerCase(),t))};$8.prototype.addData=function(t){for(var r in t)this[r]=t[r]};var $2t=function(t){if(!t||t instanceof String||!(typeof t=="string"||t instanceof Object))throw new Error("Please specify a path to the local whitelist file, or supply a whitelist source object.");j8=new NTe(t)},z2t=function(t){if(!t||t instanceof String||!(typeof t=="string"||t instanceof Object))throw new Error("Please specify a path to the local whitelist file, or supply a whitelist source object.");j8.append(t)};function H2t(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}aU.exports=$8;aU.exports.appendAWSWhitelist=z2t;aU.exports.setAWSWhitelist=$2t});var lU=E((tgn,cU)=>{"use strict";var Ay=Kp(),zA=Hn(),DTe=function(t,r,n){z8(t,r);var s,i,o=Ay.resolveSegment(n);if(!o)return zA.getLogger().warn("Failed to capture function."),r();s=o.addNewSubsegment(t),i=kTe(r,s);try{let a=i(s);return s.close(),a}catch(a){throw s.close(a),a}},G2t=function(t,r,n){z8(t,r);var s,i,o=Ay.resolveSegment(n);if(!o)return zA.getLogger().warn("Failed to capture async function."),r();s=o.addNewSubsegment(t),i=kTe(r,s);try{return i(s)}catch(a){throw s.close(a),a}},V2t=function(t,r,n){z8(t,r);var s=Ay.resolveSegment(n);return s?(s.incrementCounter(),function(){var i=Ay.resolveSegment(n),o=Array.prototype.slice.call(arguments);DTe(t,r.bind.apply(r,[null].concat(o)),i),s.decrementCounter()}.bind(this)):(zA.getLogger().warn("Failed to capture callback function."),r)};function kTe(e,t){var r;if(Ay.isAutomaticMode()){var n=Ay.getNamespace(),s=function(){var i;return n.run(function(){Ay.setSegment(t),i=e(t)}),i};r=s}else r=e;return r}function z8(e,t){var r;if(!e||typeof e!="string")throw r='Param "name" must be a non-empty string.',zA.getLogger().error(r),new Error(r);if(typeof t!="function")throw r='Param "fcn" must be a function.',zA.getLogger().error(r),new Error(r)}cU.exports.captureFunc=DTe;cU.exports.captureAsyncFunc=G2t;cU.exports.captureCallbackFunc=V2t});var HA=E((rgn,MTe)=>{"use strict";var W2t="2.0.0",K2t=Number.MAX_SAFE_INTEGER||9007199254740991,X2t=16,J2t=250,Y2t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];MTe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:X2t,MAX_SAFE_BUILD_LENGTH:J2t,MAX_SAFE_INTEGER:K2t,RELEASE_TYPES:Y2t,SEMVER_SPEC_VERSION:W2t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var GA=E((ngn,LTe)=>{"use strict";var Q2t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};LTe.exports=Q2t});var iE=E((du,UTe)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:H8,MAX_SAFE_BUILD_LENGTH:Z2t,MAX_LENGTH:e4t}=HA(),t4t=GA();du=UTe.exports={};var r4t=du.re=[],n4t=du.safeRe=[],Te=du.src=[],s4t=du.safeSrc=[],Oe=du.t={},i4t=0,G8="[a-zA-Z0-9-]",o4t=[["\\s",1],["\\d",e4t],[G8,Z2t]],a4t=e=>{for(let[t,r]of o4t)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},dt=(e,t,r)=>{let n=a4t(t),s=i4t++;t4t(e,s,t),Oe[e]=s,Te[s]=t,s4t[s]=n,r4t[s]=new RegExp(t,r?"g":void 0),n4t[s]=new RegExp(n,r?"g":void 0)};dt("NUMERICIDENTIFIER","0|[1-9]\\d*");dt("NUMERICIDENTIFIERLOOSE","\\d+");dt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${G8}*`);dt("MAINVERSION",`(${Te[Oe.NUMERICIDENTIFIER]})\\.(${Te[Oe.NUMERICIDENTIFIER]})\\.(${Te[Oe.NUMERICIDENTIFIER]})`);dt("MAINVERSIONLOOSE",`(${Te[Oe.NUMERICIDENTIFIERLOOSE]})\\.(${Te[Oe.NUMERICIDENTIFIERLOOSE]})\\.(${Te[Oe.NUMERICIDENTIFIERLOOSE]})`);dt("PRERELEASEIDENTIFIER",`(?:${Te[Oe.NONNUMERICIDENTIFIER]}|${Te[Oe.NUMERICIDENTIFIER]})`);dt("PRERELEASEIDENTIFIERLOOSE",`(?:${Te[Oe.NONNUMERICIDENTIFIER]}|${Te[Oe.NUMERICIDENTIFIERLOOSE]})`);dt("PRERELEASE",`(?:-(${Te[Oe.PRERELEASEIDENTIFIER]}(?:\\.${Te[Oe.PRERELEASEIDENTIFIER]})*))`);dt("PRERELEASELOOSE",`(?:-?(${Te[Oe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Te[Oe.PRERELEASEIDENTIFIERLOOSE]})*))`);dt("BUILDIDENTIFIER",`${G8}+`);dt("BUILD",`(?:\\+(${Te[Oe.BUILDIDENTIFIER]}(?:\\.${Te[Oe.BUILDIDENTIFIER]})*))`);dt("FULLPLAIN",`v?${Te[Oe.MAINVERSION]}${Te[Oe.PRERELEASE]}?${Te[Oe.BUILD]}?`);dt("FULL",`^${Te[Oe.FULLPLAIN]}$`);dt("LOOSEPLAIN",`[v=\\s]*${Te[Oe.MAINVERSIONLOOSE]}${Te[Oe.PRERELEASELOOSE]}?${Te[Oe.BUILD]}?`);dt("LOOSE",`^${Te[Oe.LOOSEPLAIN]}$`);dt("GTLT","((?:<|>)?=?)");dt("XRANGEIDENTIFIERLOOSE",`${Te[Oe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);dt("XRANGEIDENTIFIER",`${Te[Oe.NUMERICIDENTIFIER]}|x|X|\\*`);dt("XRANGEPLAIN",`[v=\\s]*(${Te[Oe.XRANGEIDENTIFIER]})(?:\\.(${Te[Oe.XRANGEIDENTIFIER]})(?:\\.(${Te[Oe.XRANGEIDENTIFIER]})(?:${Te[Oe.PRERELEASE]})?${Te[Oe.BUILD]}?)?)?`);dt("XRANGEPLAINLOOSE",`[v=\\s]*(${Te[Oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Te[Oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Te[Oe.XRANGEIDENTIFIERLOOSE]})(?:${Te[Oe.PRERELEASELOOSE]})?${Te[Oe.BUILD]}?)?)?`);dt("XRANGE",`^${Te[Oe.GTLT]}\\s*${Te[Oe.XRANGEPLAIN]}$`);dt("XRANGELOOSE",`^${Te[Oe.GTLT]}\\s*${Te[Oe.XRANGEPLAINLOOSE]}$`);dt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${H8}})(?:\\.(\\d{1,${H8}}))?(?:\\.(\\d{1,${H8}}))?`);dt("COERCE",`${Te[Oe.COERCEPLAIN]}(?:$|[^\\d])`);dt("COERCEFULL",Te[Oe.COERCEPLAIN]+`(?:${Te[Oe.PRERELEASE]})?(?:${Te[Oe.BUILD]})?(?:$|[^\\d])`);dt("COERCERTL",Te[Oe.COERCE],!0);dt("COERCERTLFULL",Te[Oe.COERCEFULL],!0);dt("LONETILDE","(?:~>?)");dt("TILDETRIM",`(\\s*)${Te[Oe.LONETILDE]}\\s+`,!0);du.tildeTrimReplace="$1~";dt("TILDE",`^${Te[Oe.LONETILDE]}${Te[Oe.XRANGEPLAIN]}$`);dt("TILDELOOSE",`^${Te[Oe.LONETILDE]}${Te[Oe.XRANGEPLAINLOOSE]}$`);dt("LONECARET","(?:\\^)");dt("CARETTRIM",`(\\s*)${Te[Oe.LONECARET]}\\s+`,!0);du.caretTrimReplace="$1^";dt("CARET",`^${Te[Oe.LONECARET]}${Te[Oe.XRANGEPLAIN]}$`);dt("CARETLOOSE",`^${Te[Oe.LONECARET]}${Te[Oe.XRANGEPLAINLOOSE]}$`);dt("COMPARATORLOOSE",`^${Te[Oe.GTLT]}\\s*(${Te[Oe.LOOSEPLAIN]})$|^$`);dt("COMPARATOR",`^${Te[Oe.GTLT]}\\s*(${Te[Oe.FULLPLAIN]})$|^$`);dt("COMPARATORTRIM",`(\\s*)${Te[Oe.GTLT]}\\s*(${Te[Oe.LOOSEPLAIN]}|${Te[Oe.XRANGEPLAIN]})`,!0);du.comparatorTrimReplace="$1$2$3";dt("HYPHENRANGE",`^\\s*(${Te[Oe.XRANGEPLAIN]})\\s+-\\s+(${Te[Oe.XRANGEPLAIN]})\\s*$`);dt("HYPHENRANGELOOSE",`^\\s*(${Te[Oe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Te[Oe.XRANGEPLAINLOOSE]})\\s*$`);dt("STAR","(<|>)?=?\\s*\\*");dt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");dt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var dU=E((sgn,BTe)=>{"use strict";var c4t=Object.freeze({loose:!0}),l4t=Object.freeze({}),d4t=e=>e?typeof e!="object"?c4t:e:l4t;BTe.exports=d4t});var V8=E((ign,jTe)=>{"use strict";var FTe=/^[0-9]+$/,qTe=(e,t)=>{let r=FTe.test(e),n=FTe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},u4t=(e,t)=>qTe(t,e);jTe.exports={compareIdentifiers:qTe,rcompareIdentifiers:u4t}});var fo=E((ogn,zTe)=>{"use strict";var uU=GA(),{MAX_LENGTH:$Te,MAX_SAFE_INTEGER:mU}=HA(),{safeRe:fU,t:pU}=iE(),m4t=dU(),{compareIdentifiers:oE}=V8(),W8=class e{constructor(t,r){if(r=m4t(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>$Te)throw new TypeError(`version is longer than ${$Te} characters`);uU("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?fU[pU.LOOSE]:fU[pU.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>mU||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mU||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mU||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<mU)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(uU("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),oE(this.major,t.major)||oE(this.minor,t.minor)||oE(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(uU("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return oE(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(uU("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return oE(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?fU[pU.PRERELEASELOOSE]:fU[pU.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),oE(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};zTe.exports=W8});var Py=E((agn,GTe)=>{"use strict";var HTe=fo(),f4t=(e,t,r=!1)=>{if(e instanceof HTe)return e;try{return new HTe(e,t)}catch(n){if(!r)return null;throw n}};GTe.exports=f4t});var WTe=E((cgn,VTe)=>{"use strict";var p4t=Py(),g4t=(e,t)=>{let r=p4t(e,t);return r?r.version:null};VTe.exports=g4t});var XTe=E((lgn,KTe)=>{"use strict";var h4t=Py(),y4t=(e,t)=>{let r=h4t(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};KTe.exports=y4t});var QTe=E((dgn,YTe)=>{"use strict";var JTe=fo(),_4t=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new JTe(e instanceof JTe?e.version:e,r).inc(t,n,s).version}catch{return null}};YTe.exports=_4t});var tOe=E((ugn,eOe)=>{"use strict";var ZTe=Py(),S4t=(e,t)=>{let r=ZTe(e,null,!0),n=ZTe(t,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let d=c?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};eOe.exports=S4t});var nOe=E((mgn,rOe)=>{"use strict";var v4t=fo(),E4t=(e,t)=>new v4t(e,t).major;rOe.exports=E4t});var iOe=E((fgn,sOe)=>{"use strict";var C4t=fo(),b4t=(e,t)=>new C4t(e,t).minor;sOe.exports=b4t});var aOe=E((pgn,oOe)=>{"use strict";var w4t=fo(),x4t=(e,t)=>new w4t(e,t).patch;oOe.exports=x4t});var lOe=E((ggn,cOe)=>{"use strict";var A4t=Py(),P4t=(e,t)=>{let r=A4t(e,t);return r&&r.prerelease.length?r.prerelease:null};cOe.exports=P4t});var Vc=E((hgn,uOe)=>{"use strict";var dOe=fo(),R4t=(e,t,r)=>new dOe(e,r).compare(new dOe(t,r));uOe.exports=R4t});var fOe=E((ygn,mOe)=>{"use strict";var I4t=Vc(),T4t=(e,t,r)=>I4t(t,e,r);mOe.exports=T4t});var gOe=E((_gn,pOe)=>{"use strict";var O4t=Vc(),N4t=(e,t)=>O4t(e,t,!0);pOe.exports=N4t});var gU=E((Sgn,yOe)=>{"use strict";var hOe=fo(),D4t=(e,t,r)=>{let n=new hOe(e,r),s=new hOe(t,r);return n.compare(s)||n.compareBuild(s)};yOe.exports=D4t});var SOe=E((vgn,_Oe)=>{"use strict";var k4t=gU(),M4t=(e,t)=>e.sort((r,n)=>k4t(r,n,t));_Oe.exports=M4t});var EOe=E((Egn,vOe)=>{"use strict";var L4t=gU(),U4t=(e,t)=>e.sort((r,n)=>L4t(n,r,t));vOe.exports=U4t});var VA=E((Cgn,COe)=>{"use strict";var B4t=Vc(),F4t=(e,t,r)=>B4t(e,t,r)>0;COe.exports=F4t});var hU=E((bgn,bOe)=>{"use strict";var q4t=Vc(),j4t=(e,t,r)=>q4t(e,t,r)<0;bOe.exports=j4t});var K8=E((wgn,wOe)=>{"use strict";var $4t=Vc(),z4t=(e,t,r)=>$4t(e,t,r)===0;wOe.exports=z4t});var X8=E((xgn,xOe)=>{"use strict";var H4t=Vc(),G4t=(e,t,r)=>H4t(e,t,r)!==0;xOe.exports=G4t});var yU=E((Agn,AOe)=>{"use strict";var V4t=Vc(),W4t=(e,t,r)=>V4t(e,t,r)>=0;AOe.exports=W4t});var _U=E((Pgn,POe)=>{"use strict";var K4t=Vc(),X4t=(e,t,r)=>K4t(e,t,r)<=0;POe.exports=X4t});var J8=E((Rgn,ROe)=>{"use strict";var J4t=K8(),Y4t=X8(),Q4t=VA(),Z4t=yU(),eWt=hU(),tWt=_U(),rWt=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return J4t(e,r,n);case"!=":return Y4t(e,r,n);case">":return Q4t(e,r,n);case">=":return Z4t(e,r,n);case"<":return eWt(e,r,n);case"<=":return tWt(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};ROe.exports=rWt});var TOe=E((Ign,IOe)=>{"use strict";var nWt=fo(),sWt=Py(),{safeRe:SU,t:vU}=iE(),iWt=(e,t)=>{if(e instanceof nWt)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?SU[vU.COERCEFULL]:SU[vU.COERCE]);else{let c=t.includePrerelease?SU[vU.COERCERTLFULL]:SU[vU.COERCERTL],l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return sWt(`${n}.${s}.${i}${o}${a}`,t)};IOe.exports=iWt});var NOe=E((Tgn,OOe)=>{"use strict";var Y8=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};OOe.exports=Y8});var Wc=E((Ogn,LOe)=>{"use strict";var oWt=/\s+/g,Q8=class e{constructor(t,r){if(r=cWt(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof Z8)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(oWt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!kOe(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&gWt(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&fWt)|(this.options.loose&&pWt))+":"+t,s=DOe.get(n);if(s)return s;let i=this.options.loose,o=i?xa[ta.HYPHENRANGELOOSE]:xa[ta.HYPHENRANGE];t=t.replace(o,xWt(this.options.includePrerelease)),Tn("hyphen replace",t),t=t.replace(xa[ta.COMPARATORTRIM],dWt),Tn("comparator trim",t),t=t.replace(xa[ta.TILDETRIM],uWt),Tn("tilde trim",t),t=t.replace(xa[ta.CARETTRIM],mWt),Tn("caret trim",t);let a=t.split(" ").map(u=>hWt(u,this.options)).join(" ").split(/\s+/).map(u=>wWt(u,this.options));i&&(a=a.filter(u=>(Tn("loose invalid filter",u,this.options),!!u.match(xa[ta.COMPARATORLOOSE])))),Tn("range list",a);let c=new Map,l=a.map(u=>new Z8(u,this.options));for(let u of l){if(kOe(u))return[u];c.set(u.value,u)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return DOe.set(n,d),d}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>MOe(n,r)&&t.set.some(s=>MOe(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new lWt(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(AWt(this.set[r],t,this.options))return!0;return!1}};LOe.exports=Q8;var aWt=NOe(),DOe=new aWt,cWt=dU(),Z8=WA(),Tn=GA(),lWt=fo(),{safeRe:xa,t:ta,comparatorTrimReplace:dWt,tildeTrimReplace:uWt,caretTrimReplace:mWt}=iE(),{FLAG_INCLUDE_PRERELEASE:fWt,FLAG_LOOSE:pWt}=HA(),kOe=e=>e.value==="<0.0.0-0",gWt=e=>e.value==="",MOe=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,t)),s=n.pop();return r},hWt=(e,t)=>(Tn("comp",e,t),e=SWt(e,t),Tn("caret",e),e=yWt(e,t),Tn("tildes",e),e=EWt(e,t),Tn("xrange",e),e=bWt(e,t),Tn("stars",e),e),ra=e=>!e||e.toLowerCase()==="x"||e==="*",yWt=(e,t)=>e.trim().split(/\s+/).map(r=>_Wt(r,t)).join(" "),_Wt=(e,t)=>{let r=t.loose?xa[ta.TILDELOOSE]:xa[ta.TILDE];return e.replace(r,(n,s,i,o,a)=>{Tn("tilde",e,n,s,i,o,a);let c;return ra(s)?c="":ra(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:ra(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Tn("replaceTilde pr",a),c=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Tn("tilde return",c),c})},SWt=(e,t)=>e.trim().split(/\s+/).map(r=>vWt(r,t)).join(" "),vWt=(e,t)=>{Tn("caret",e,t);let r=t.loose?xa[ta.CARETLOOSE]:xa[ta.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,i,o,a,c)=>{Tn("caret",e,s,i,o,a,c);let l;return ra(i)?l="":ra(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:ra(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:c?(Tn("replaceCaret pr",c),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(Tn("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Tn("caret return",l),l})},EWt=(e,t)=>(Tn("replaceXRanges",e,t),e.split(/\s+/).map(r=>CWt(r,t)).join(" ")),CWt=(e,t)=>{e=e.trim();let r=t.loose?xa[ta.XRANGELOOSE]:xa[ta.XRANGE];return e.replace(r,(n,s,i,o,a,c)=>{Tn("xRange",e,n,s,i,o,a,c);let l=ra(i),d=l||ra(o),u=d||ra(a),f=u;return s==="="&&f&&(s=""),c=t.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(d&&(o=0),a=0,s===">"?(s=">=",d?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",d?i=+i+1:o=+o+1),s==="<"&&(c="-0"),n=`${s+i}.${o}.${a}${c}`):d?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:u&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),Tn("xRange return",n),n})},bWt=(e,t)=>(Tn("replaceStars",e,t),e.trim().replace(xa[ta.STAR],"")),wWt=(e,t)=>(Tn("replaceGTE0",e,t),e.trim().replace(xa[t.includePrerelease?ta.GTE0PRE:ta.GTE0],"")),xWt=e=>(t,r,n,s,i,o,a,c,l,d,u,f)=>(ra(n)?r="":ra(s)?r=`>=${n}.0.0${e?"-0":""}`:ra(i)?r=`>=${n}.${s}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,ra(l)?c="":ra(d)?c=`<${+l+1}.0.0-0`:ra(u)?c=`<${l}.${+d+1}.0-0`:f?c=`<=${l}.${d}.${u}-${f}`:e?c=`<${l}.${d}.${+u+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),AWt=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Tn(e[n].semver),e[n].semver!==Z8.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var WA=E((Ngn,$Oe)=>{"use strict";var KA=Symbol("SemVer ANY"),rX=class e{static get ANY(){return KA}constructor(t,r){if(r=UOe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),tX("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===KA?this.value="":this.value=this.operator+this.semver.version,tX("comp",this)}parse(t){let r=this.options.loose?BOe[FOe.COMPARATORLOOSE]:BOe[FOe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new qOe(n[2],this.options.loose):this.semver=KA}toString(){return this.value}test(t){if(tX("Comparator.test",t,this.options.loose),this.semver===KA||t===KA)return!0;if(typeof t=="string")try{t=new qOe(t,this.options)}catch{return!1}return eX(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new jOe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new jOe(this.value,r).test(t.semver):(r=UOe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||eX(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||eX(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};$Oe.exports=rX;var UOe=dU(),{safeRe:BOe,t:FOe}=iE(),eX=J8(),tX=GA(),qOe=fo(),jOe=Wc()});var XA=E((Dgn,zOe)=>{"use strict";var PWt=Wc(),RWt=(e,t,r)=>{try{t=new PWt(t,r)}catch{return!1}return t.test(e)};zOe.exports=RWt});var GOe=E((kgn,HOe)=>{"use strict";var IWt=Wc(),TWt=(e,t)=>new IWt(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));HOe.exports=TWt});var WOe=E((Mgn,VOe)=>{"use strict";var OWt=fo(),NWt=Wc(),DWt=(e,t,r)=>{let n=null,s=null,i=null;try{i=new NWt(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new OWt(n,r))}),n};VOe.exports=DWt});var XOe=E((Lgn,KOe)=>{"use strict";var kWt=fo(),MWt=Wc(),LWt=(e,t,r)=>{let n=null,s=null,i=null;try{i=new MWt(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new kWt(n,r))}),n};KOe.exports=LWt});var QOe=E((Ugn,YOe)=>{"use strict";var nX=fo(),UWt=Wc(),JOe=VA(),BWt=(e,t)=>{e=new UWt(e,t);let r=new nX("0.0.0");if(e.test(r)||(r=new nX("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(o=>{let a=new nX(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||JOe(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||JOe(r,i))&&(r=i)}return r&&e.test(r)?r:null};YOe.exports=BWt});var eNe=E((Bgn,ZOe)=>{"use strict";var FWt=Wc(),qWt=(e,t)=>{try{return new FWt(e,t).range||"*"}catch{return null}};ZOe.exports=qWt});var EU=E((Fgn,sNe)=>{"use strict";var jWt=fo(),nNe=WA(),{ANY:$Wt}=nNe,zWt=Wc(),HWt=XA(),tNe=VA(),rNe=hU(),GWt=_U(),VWt=yU(),WWt=(e,t,r,n)=>{e=new jWt(e,n),t=new zWt(t,n);let s,i,o,a,c;switch(r){case">":s=tNe,i=GWt,o=rNe,a=">",c=">=";break;case"<":s=rNe,i=VWt,o=tNe,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(HWt(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let d=t.set[l],u=null,f=null;if(d.forEach(p=>{p.semver===$Wt&&(p=new nNe(">=0.0.0")),u=u||p,f=f||p,s(p.semver,u.semver,n)?u=p:o(p.semver,f.semver,n)&&(f=p)}),u.operator===a||u.operator===c||(!f.operator||f.operator===a)&&i(e,f.semver))return!1;if(f.operator===c&&o(e,f.semver))return!1}return!0};sNe.exports=WWt});var oNe=E((qgn,iNe)=>{"use strict";var KWt=EU(),XWt=(e,t,r)=>KWt(e,t,">",r);iNe.exports=XWt});var cNe=E((jgn,aNe)=>{"use strict";var JWt=EU(),YWt=(e,t,r)=>JWt(e,t,"<",r);aNe.exports=YWt});var uNe=E(($gn,dNe)=>{"use strict";var lNe=Wc(),QWt=(e,t,r)=>(e=new lNe(e,r),t=new lNe(t,r),e.intersects(t,r));dNe.exports=QWt});var fNe=E((zgn,mNe)=>{"use strict";var ZWt=XA(),eKt=Vc();mNe.exports=(e,t,r)=>{let n=[],s=null,i=null,o=e.sort((d,u)=>eKt(d,u,r));for(let d of o)ZWt(d,t,r)?(i=d,s||(s=d)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[d,u]of n)d===u?a.push(d):!u&&d===o[0]?a.push("*"):u?d===o[0]?a.push(`<=${u}`):a.push(`${d} - ${u}`):a.push(`>=${d}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var SNe=E((Hgn,_Ne)=>{"use strict";var pNe=Wc(),iX=WA(),{ANY:sX}=iX,JA=XA(),oX=Vc(),tKt=(e,t,r={})=>{if(e===t)return!0;e=new pNe(e,r),t=new pNe(t,r);let n=!1;e:for(let s of e.set){for(let i of t.set){let o=nKt(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},rKt=[new iX(">=0.0.0-0")],gNe=[new iX(">=0.0.0")],nKt=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===sX){if(t.length===1&&t[0].semver===sX)return!0;r.includePrerelease?e=rKt:e=gNe}if(t.length===1&&t[0].semver===sX){if(r.includePrerelease)return!0;t=gNe}let n=new Set,s,i;for(let p of e)p.operator===">"||p.operator===">="?s=hNe(s,p,r):p.operator==="<"||p.operator==="<="?i=yNe(i,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=oX(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!JA(p,String(s),r)||i&&!JA(p,String(i),r))return null;for(let g of t)if(!JA(p,String(g),r))return!1;return!0}let a,c,l,d,u=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;u&&u.prerelease.length===1&&i.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let p of t){if(d=d||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=hNe(s,p,r),a===p&&a!==s)return!1}else if(s.operator===">="&&!JA(s.semver,String(p),r))return!1}if(i){if(u&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===u.major&&p.semver.minor===u.minor&&p.semver.patch===u.patch&&(u=!1),p.operator==="<"||p.operator==="<="){if(c=yNe(i,p,r),c===p&&c!==i)return!1}else if(i.operator==="<="&&!JA(i.semver,String(p),r))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&d&&!s&&o!==0||f||u)},hNe=(e,t,r)=>{if(!e)return t;let n=oX(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},yNe=(e,t,r)=>{if(!e)return t;let n=oX(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};_Ne.exports=tKt});var bNe=E((Ggn,CNe)=>{"use strict";var aX=iE(),vNe=HA(),sKt=fo(),ENe=V8(),iKt=Py(),oKt=WTe(),aKt=XTe(),cKt=QTe(),lKt=tOe(),dKt=nOe(),uKt=iOe(),mKt=aOe(),fKt=lOe(),pKt=Vc(),gKt=fOe(),hKt=gOe(),yKt=gU(),_Kt=SOe(),SKt=EOe(),vKt=VA(),EKt=hU(),CKt=K8(),bKt=X8(),wKt=yU(),xKt=_U(),AKt=J8(),PKt=TOe(),RKt=WA(),IKt=Wc(),TKt=XA(),OKt=GOe(),NKt=WOe(),DKt=XOe(),kKt=QOe(),MKt=eNe(),LKt=EU(),UKt=oNe(),BKt=cNe(),FKt=uNe(),qKt=fNe(),jKt=SNe();CNe.exports={parse:iKt,valid:oKt,clean:aKt,inc:cKt,diff:lKt,major:dKt,minor:uKt,patch:mKt,prerelease:fKt,compare:pKt,rcompare:gKt,compareLoose:hKt,compareBuild:yKt,sort:_Kt,rsort:SKt,gt:vKt,lt:EKt,eq:CKt,neq:bKt,gte:wKt,lte:xKt,cmp:AKt,coerce:PKt,Comparator:RKt,Range:IKt,satisfies:TKt,toComparators:OKt,maxSatisfying:NKt,minSatisfying:DKt,minVersion:kKt,validRange:MKt,outside:LKt,gtr:UKt,ltr:BKt,intersects:FKt,simplifyRange:qKt,subset:jKt,SemVer:sKt,re:aX.re,src:aX.src,tokens:aX.t,SEMVER_SPEC_VERSION:vNe.SEMVER_SPEC_VERSION,RELEASE_TYPES:vNe.RELEASE_TYPES,compareIdentifiers:ENe.compareIdentifiers,rcompareIdentifiers:ENe.rcompareIdentifiers}});var lX=E((Vgn,cX)=>{"use strict";var $Kt=bNe(),zKt=$A(),aE=Kp(),wNe=uo(),xNe=Hn(),ANe="2.7.15",HKt=function(){return!1},GKt=function(t){if(!$Kt.gte(t.VERSION,ANe))throw new Error("AWS SDK version "+ANe+" or greater required.");for(var r in t)if(t[r].serviceIdentifier){var n=t[r];n.prototype.customizeRequests(PNe)}return t},VKt=function(t){return t.customizeRequests(PNe),t};function PNe(e){var t=aE.resolveSegment(aE.resolveManualSegmentParams(e.params));if(!t){var r=this.serviceIdentifier+"."+e.operation;return aE.isAutomaticMode()?xNe.getLogger().info("Call "+r+" is missing the sub/segment context for automatic mode. Ignoring."):xNe.getLogger().info("Call "+r+' requires a segment object on the request params as "XRaySegment" for tracing in manual mode. Ignoring.'),e}var n=this.throttledError||HKt,s=new Error().stack;let i;t.notTraced?i=t.addNewSubsegmentWithoutSampling(this.serviceIdentifier):i=t.addNewSubsegment(this.serviceIdentifier);var o=t.segment?t.segment.trace_id:t.trace_id;let a=t.segment?t.segment.additionalTraceData:t.additionalTraceData;var c=function(d){if(t.noOp)return;let u="Root="+o+";Parent="+i.id+";Sampled="+(i.notTraced?"0":"1");if(a!=null)for(let[f,p]of Object.entries(a))u+=";"+f+"="+p;d.httpRequest.headers["X-Amzn-Trace-Id"]=u},l=function(d){i.addAttribute("namespace","aws"),i.addAttribute("aws",new zKt(d,i.name));var u=d.httpResponse;if(u&&(i.addAttribute("http",new RNe(u)),(u.statusCode===429||d.error&&n(d.error))&&i.addThrottleFlag()),d.error){var f={message:d.error.message,name:d.error.code,stack:s};u&&u.statusCode?(wNe.getCauseTypeFromHttpStatus(u.statusCode)=="error"&&i.addErrorFlag(),i.close(f,!0)):i.close(f)}else{if(u&&u.statusCode){var p=wNe.getCauseTypeFromHttpStatus(u.statusCode);p&&(i[p]=!0)}i.close()}};e.on("beforePresign",function(d){t.removeSubsegment(i),t.decrementCounter(),d.removeListener("build",c),d.removeListener("complete",l)}),e.on("build",c).on("complete",l),e.__send||(e.__send=e.send,e.send=function(d){if(aE.isAutomaticMode()){var u=aE.getNamespace();u.run(function(){aE.setSegment(i),e.__send(d)})}else e.__send(d)})}function RNe(e){this.init(e)}RNe.prototype.init=function(t){this.response={status:t.statusCode||""},t.headers&&t.headers["content-length"]&&(this.response.content_length=t.headers["content-length"])};cX.exports.captureAWSClient=VKt;cX.exports.captureAWS=GKt});var DNe=E((Wgn,NNe)=>{var CU=Object.defineProperty,WKt=Object.getOwnPropertyDescriptor,KKt=Object.getOwnPropertyNames,XKt=Object.prototype.hasOwnProperty,cE=(e,t)=>CU(e,"name",{value:t,configurable:!0}),JKt=(e,t)=>{for(var r in t)CU(e,r,{get:t[r],enumerable:!0})},YKt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KKt(t))!XKt.call(e,s)&&s!==r&&CU(e,s,{get:()=>t[s],enumerable:!(n=WKt(t,s))||n.enumerable});return e},QKt=e=>YKt(CU({},"__esModule",{value:!0}),e),INe={};JKt(INe,{isClockSkewCorrectedError:()=>TNe,isClockSkewError:()=>i6t,isRetryableByTrait:()=>s6t,isServerError:()=>a6t,isThrottlingError:()=>o6t,isTransientError:()=>ONe});NNe.exports=QKt(INe);var ZKt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],e6t=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],t6t=["TimeoutError","RequestTimeout","RequestTimeoutException"],r6t=[500,502,503,504],n6t=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],s6t=cE(e=>e.$retryable!==void 0,"isRetryableByTrait"),i6t=cE(e=>ZKt.includes(e.name),"isClockSkewError"),TNe=cE(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),o6t=cE(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||e6t.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),ONe=cE(e=>{var t;return TNe(e)||t6t.includes(e.name)||n6t.includes(e?.code||"")||r6t.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),a6t=cE(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ONe(e)}return!1},"isServerError")});var FNe=E(lE=>{"use strict";var UNe=lE&&lE.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lE,"__esModule",{value:!0});lE.captureAWSClient=void 0;var c6t=DNe(),l6t=UNe($A()),d6t=require("querystring"),u6t=UNe(BA()),dX=Kp(),kNe=Hn(),{safeParseInt:bU}=uo(),m6t=uo(),BNe="XRaySDKInstrumentation",MNe=async(e,t,r,n,s,i)=>{var o,a,c;let{extendedRequestId:l,requestId:d,httpStatusCode:u,attempts:f}=((o=s?.output)===null||o===void 0?void 0:o.$metadata)||i?.$metadata,p=new l6t.default({extendedRequestId:l,requestId:d,retryCount:f,data:s?.output,request:{operation:t,params:n,httpRequest:{region:r,statusCode:u}}},e),g={};return u&&(g.response={},g.response.status=u),!((a=s?.response)===null||a===void 0)&&a.headers&&((c=s?.response)===null||c===void 0?void 0:c.headers["content-length"])!==void 0&&(g.response||(g.response={}),g.response.content_length=bU(s.response.headers["content-length"])),[p,g]};function LNe(e,t,r){var n,s,i;(r&&(0,c6t.isThrottlingError)(r)||bU((n=e.response)===null||n===void 0?void 0:n.status)===429||bU((s=r?.$metadata)===null||s===void 0?void 0:s.httpStatusCode)===429)&&t.addThrottleFlag();let o=(0,m6t.getCauseTypeFromHttpStatus)(bU((i=e.response)===null||i===void 0?void 0:i.status));o==="fault"?t.addFaultFlag():o==="error"&&t.addErrorFlag()}var f6t=(e,t)=>(r,n)=>async s=>{var i;let o=dX.isAutomaticMode()?dX.resolveSegment():t,{clientName:a,commandName:c}=n,l=(i=s?.input)!==null&&i!==void 0?i:{},d=c.slice(0,-7),u=d.charAt(0).toLowerCase()+d.slice(1),f=a.slice(0,-6);if(!o){let P=f+"."+u;return dX.isAutomaticMode()?kNe.getLogger().info("Call "+P+" is missing the sub/segment context for automatic mode. Ignoring."):kNe.getLogger().info("Call "+P+" requires a segment object passed to captureAWSv3Client for tracing in manual mode. Ignoring."),r(s)}let p;o.notTraced?p=o.addNewSubsegmentWithoutSampling(f):p=o.addNewSubsegment(f),p.addAttribute("namespace","aws");let g=o instanceof u6t.default?o.segment:o,S=g.segment?g.segment.additionalTraceData:g.additionalTraceData,b=(0,d6t.stringify)({Root:g.trace_id,Parent:p.id,Sampled:p.notTraced?"0":"1"},";");if(S!=null)for(let[P,M]of Object.entries(S))b+=";"+P+"="+M;o.noOp||(s.request.headers["X-Amzn-Trace-Id"]=b);let A;try{if(A=await r(s),!A)throw new Error("Failed to get response from instrumented AWS Client.");let[P,M]=await MNe(f,u,await e.region(),l,A,null);return p.addAttribute("aws",P),p.addAttribute("http",M),LNe(M,p),p.close(),A}catch(P){if(P.$metadata){let[N,L]=await MNe(f,u,await e.region(),l,null,P);p.addAttribute("aws",N),p.addAttribute("http",L),LNe(L,p,P)}let M={message:P.message,name:P.name,stack:P.stack||new Error().stack};throw p.close(M,!0),P}},p6t={name:BNe,step:"build"},g6t=(e,t)=>({applyToStack:r=>{r.add(f6t(e,t),p6t)}});function h6t(e,t){return e.middlewareStack.remove(BNe),e.middlewareStack.use(g6t(e.config,t)),e}lE.captureAWSClient=h6t});var mX=E((Xgn,uX)=>{"use strict";var qNe=require("url"),dE=Kp(),wU=uo(),jNe=Hn(),y6t=require("events"),_6t=function(t,r,n){t.__request||$Ne(t,r,n)},S6t=function(t,r,n){if(t.__request)return t;var s={};return Object.keys(t).forEach(function(i){s[i]=t[i]}),$Ne(s,r,n),s};function $Ne(e,t,r){function n(o,...a){let c,l,d,u,f=a[0];if(typeof a[1]=="object"?(d=!0,u=typeof f=="string"?new qNe.URL(f):f,c=a[1],l=a[2]):(d=!1,c=f,l=a[1]),!c||c.headers&&c.headers["X-Amzn-Trace-Id"])return o(...a);typeof c=="string"&&(c=new qNe.URL(c)),d||(u=c);let p=dE.resolveSegment(dE.resolveManualSegmentParams(c)),g=c.hostname||c.host||u.hostname||u.host||"Unknown host";if(!p){let N="[ host: "+g;return N=c.method?N+", method: "+c.method:N,N+=", path: "+(u.pathname||wU.stripQueryStringFromPath(c.path))+" ]",dE.isAutomaticMode()?jNe.getLogger().info("Options for request "+N+" is missing the sub/segment context for automatic mode. Ignoring."):jNe.getLogger().info("Options for request "+N+' requires a segment object on the options params as "XRaySegment" for tracing in manual mode. Ignoring.'),o(...a)}let S;p.notTraced?S=p.addNewSubsegmentWithoutSampling(g):S=p.addNewSubsegment(g);let b=p.segment?p.segment:p;S.namespace="remote",c.headers||(c.headers={}),p.noOp||(c.headers["X-Amzn-Trace-Id"]="Root="+b.trace_id+";Parent="+S.id+";Sampled="+(S.notTraced?"0":"1"));let A=function(L){if(r&&r(S,this,null,L),S.http&&S.http.response)wU.getCauseTypeFromHttpStatus(S.http.response.status)==="error"&&S.addErrorFlag(),S.close(L,!0);else{let G=L.code!=="ECONNREFUSED";S.addRemoteRequestData(this,null,G&&t),S.close(L)}},P=wU.objectWithoutProperties(c,["Segment"],!0),M=o(...d?[f,P]:[c],function(N){N.on("end",function(){r&&r(S,this.req,N),N.statusCode===429&&S.addThrottleFlag();let L=wU.getCauseTypeFromHttpStatus(N.statusCode);L&&(S[L]=!0),S.addRemoteRequestData(N.req,N,!!t),S.close()}),typeof l=="function"?dE.isAutomaticMode()?dE.getNamespace().run(function(){dE.setSegment(S),l(N)}):l(N):N.req&&N.req.listenerCount("response")===0&&N.resume()});return M.on(y6t.errorMonitor||"error",A),M}e.__request=e.request;function s(...o){return n(e.__request,...o)}e.__get=e.get;function i(...o){return n(e.__get,...o)}Object.defineProperties(e,{request:{value:s,configurable:!0,enumerable:!0,writable:!0},get:{value:i,configurable:!0,enumerable:!0,writable:!0}})}uX.exports.captureHTTPsGlobal=_6t;uX.exports.captureHTTPs=S6t});var VNe=E((Jgn,fX)=>{"use strict";var YA=Kp(),xU=Symbol("original then"),AU=Symbol("original catch");function HNe(e){let t=e.prototype.then;t[xU]||(e.prototype.then=function(n,s){if(YA.isAutomaticMode()&&zNe()){let i=YA.getNamespace();n=n&&i.bind(n),s=s&&i.bind(s)}return t.call(this,n,s)},e.prototype.then[xU]=t);let r=e.prototype.catch;r&&!r[AU]&&(e.prototype.catch=function(n){if(YA.isAutomaticMode()&&zNe()){let s=YA.getNamespace();n=n&&s.bind(n)}return r.call(this,n)},e.prototype.catch[AU]=r)}function v6t(e){let t=e.prototype.then;t[xU]&&(e.prototype.then=t[xU]);let r=e.prototype.catch;r&&r[AU]&&(e.prototype.catch=r[AU])}function zNe(){try{return YA.getSegment()}catch{return}}function GNe(){HNe(Promise)}function E6t(){v6t(Promise)}GNe.patchThirdPartyPromise=HNe;fX.exports.capturePromise=GNe;fX.exports.uncapturePromise=E6t});var XNe=E((Ygn,KNe)=>{"use strict";function WNe(e,t,r,n,s){this.init(e,t,r,n,s)}WNe.prototype.init=function(t,r,n,s,i){t&&(this.database_version=t),r&&(this.driver_version=r),i&&(this.preparation=i),this.url=s,this.user=n};KNe.exports=WNe});var QNe=E((Qgn,YNe)=>{"use strict";var qm=Kp(),pX=Hn(),uE=Gp(),C6t=uo(),b6t=uTe(),ZA={};try{ZA=mTe()}catch(e){pX.getLogger().debug("Failed to load SDK data:",e)}var QA="unknown",JNe={plugins:{EC2Plugin:vTe(),ECSPlugin:CTe(),ElasticBeanstalkPlugin:wTe()},config:function(e){var t={};e.forEach(function(r){r.getData(function(n){if(n)for(var s in n)t[s]=n[s]}),uE.setOrigin(r.originName),uE.setPluginData(t)})},setAWSWhitelist:$A().setAWSWhitelist,appendAWSWhitelist:$A().appendAWSWhitelist,setStreamingThreshold:uE.setStreamingThreshold,setLogger:pX.setLogger,getLogger:pX.getLogger,setDaemonAddress:VL().setDaemonAddress,captureFunc:lU().captureFunc,captureAsyncFunc:lU().captureAsyncFunc,captureCallbackFunc:lU().captureCallbackFunc,captureAWS:lX().captureAWS,captureAWSClient:lX().captureAWSClient,captureAWSv3Client:FNe().captureAWSClient,captureHTTPs:mX().captureHTTPs,captureHTTPsGlobal:mX().captureHTTPsGlobal,capturePromise:VNe().capturePromise,utils:C6t,database:{SqlData:XNe()},middleware:M8(),getNamespace:qm.getNamespace,resolveSegment:qm.resolveSegment,resolveManualSegmentParams:qm.resolveManualSegmentParams,getSegment:qm.getSegment,setSegment:qm.setSegment,isAutomaticMode:qm.isAutomaticMode,enableAutomaticMode:qm.enableAutomaticMode,enableManualMode:qm.enableManualMode,setContextMissingStrategy:qm.setContextMissingStrategy,Segment:FA(),Subsegment:BA(),SegmentUtils:uE};JNe.middleware.IncomingRequestData=w8(),function(){var e={runtime:process.release&&process.release.name?process.release.name:QA,runtime_version:process.version,version:process.env.npm_package_version||QA,name:process.env.npm_package_name||QA},t={sdk:"X-Ray for Node.js",sdk_version:ZA.version?ZA.version:QA,package:ZA.name?ZA.name:QA};uE.setSDKData(t),uE.setServiceData(e),process.env.LAMBDA_TASK_ROOT&&b6t.init()}();YNe.exports=JNe});var eDe=E((Zgn,ZNe)=>{"use strict";ZNe.exports=QNe()});var eP=E((ehn,iDe)=>{"use strict";var RU=Object.defineProperty,w6t=Object.getOwnPropertyDescriptor,x6t=Object.getOwnPropertyNames,A6t=Object.prototype.hasOwnProperty,PU=(e,t)=>RU(e,"name",{value:t,configurable:!0}),P6t=(e,t)=>{for(var r in t)RU(e,r,{get:t[r],enumerable:!0})},R6t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of x6t(t))!A6t.call(e,s)&&s!==r&&RU(e,s,{get:()=>t[s],enumerable:!(n=w6t(t,s))||n.enumerable});return e},I6t=e=>R6t(RU({},"__esModule",{value:!0}),e),tDe={};P6t(tDe,{getHostHeaderPlugin:()=>O6t,hostHeaderMiddleware:()=>nDe,hostHeaderMiddlewareOptions:()=>sDe,resolveHostHeaderConfig:()=>rDe});iDe.exports=I6t(tDe);var T6t=Fe();function rDe(e){return e}PU(rDe,"resolveHostHeaderConfig");var nDe=PU(e=>t=>async r=>{if(!T6t.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),sDe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},O6t=PU(e=>({applyToStack:PU(t=>{t.add(nDe(e),sDe)},"applyToStack")}),"getHostHeaderPlugin")});var tP=E((thn,lDe)=>{"use strict";var IU=Object.defineProperty,N6t=Object.getOwnPropertyDescriptor,D6t=Object.getOwnPropertyNames,k6t=Object.prototype.hasOwnProperty,gX=(e,t)=>IU(e,"name",{value:t,configurable:!0}),M6t=(e,t)=>{for(var r in t)IU(e,r,{get:t[r],enumerable:!0})},L6t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of D6t(t))!k6t.call(e,s)&&s!==r&&IU(e,s,{get:()=>t[s],enumerable:!(n=N6t(t,s))||n.enumerable});return e},U6t=e=>L6t(IU({},"__esModule",{value:!0}),e),oDe={};M6t(oDe,{getLoggerPlugin:()=>B6t,loggerMiddleware:()=>aDe,loggerMiddlewareOptions:()=>cDe});lDe.exports=U6t(oDe);var aDe=gX(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:f}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),cDe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},B6t=gX(e=>({applyToStack:gX(t=>{t.add(aDe(),cDe)},"applyToStack")}),"getLoggerPlugin")});var _X=E(OU=>{"use strict";Object.defineProperty(OU,"__esModule",{value:!0});OU.InvokeStore=void 0;var F6t=require("async_hooks"),hX=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";hX||(globalThis.awslambda=globalThis.awslambda||{});var q6t={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},yX=class{static storage=new F6t.AsyncLocalStorage;static PROTECTED_KEYS=q6t;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},TU;!hX&&globalThis.awslambda?.InvokeStore?TU=globalThis.awslambda.InvokeStore:(TU=yX,!hX&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=TU));OU.InvokeStore=TU});var vX=E(NU=>{"use strict";Object.defineProperty(NU,"__esModule",{value:!0});NU.recursionDetectionMiddleware=void 0;var j6t=_X(),$6t=Fe(),SX="X-Amzn-Trace-Id",z6t="AWS_LAMBDA_FUNCTION_NAME",H6t="_X_AMZN_TRACE_ID",G6t=()=>e=>async t=>{let{request:r}=t;if(!$6t.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===SX.toLowerCase())??SX;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[z6t],i=process.env[H6t],a=j6t.InvokeStore.getXRayTraceId()??i,c=l=>typeof l=="string"&&l.length>0;return c(s)&&c(a)&&(r.headers[SX]=a),e({...t,request:r})};NU.recursionDetectionMiddleware=G6t});var rP=E((shn,bX)=>{"use strict";var DU=Object.defineProperty,V6t=Object.getOwnPropertyDescriptor,W6t=Object.getOwnPropertyNames,K6t=Object.prototype.hasOwnProperty,dDe=(e,t)=>DU(e,"name",{value:t,configurable:!0}),X6t=(e,t)=>{for(var r in t)DU(e,r,{get:t[r],enumerable:!0})},EX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of W6t(t))!K6t.call(e,s)&&s!==r&&DU(e,s,{get:()=>t[s],enumerable:!(n=V6t(t,s))||n.enumerable});return e},J6t=(e,t,r)=>(EX(e,t,"default"),r&&EX(r,t,"default")),Y6t=e=>EX(DU({},"__esModule",{value:!0}),e),CX={};X6t(CX,{getRecursionDetectionPlugin:()=>e8t});bX.exports=Y6t(CX);var Q6t={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Z6t=vX(),e8t=dDe(e=>({applyToStack:dDe(t=>{t.add((0,Z6t.recursionDetectionMiddleware)(),Q6t)},"applyToStack")}),"getRecursionDetectionPlugin");J6t(CX,vX(),bX.exports)});var mE=E((ihn,EDe)=>{"use strict";var kU=Object.defineProperty,t8t=Object.getOwnPropertyDescriptor,r8t=Object.getOwnPropertyNames,n8t=Object.prototype.hasOwnProperty,Xp=(e,t)=>kU(e,"name",{value:t,configurable:!0}),s8t=(e,t)=>{for(var r in t)kU(e,r,{get:t[r],enumerable:!0})},i8t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of r8t(t))!n8t.call(e,s)&&s!==r&&kU(e,s,{get:()=>t[s],enumerable:!(n=t8t(t,s))||n.enumerable});return e},o8t=e=>i8t(kU({},"__esModule",{value:!0}),e),mDe={};s8t(mDe,{ConditionObject:()=>fn.ConditionObject,DeprecatedObject:()=>fn.DeprecatedObject,EndpointError:()=>fn.EndpointError,EndpointObject:()=>fn.EndpointObject,EndpointObjectHeaders:()=>fn.EndpointObjectHeaders,EndpointObjectProperties:()=>fn.EndpointObjectProperties,EndpointParams:()=>fn.EndpointParams,EndpointResolverOptions:()=>fn.EndpointResolverOptions,EndpointRuleObject:()=>fn.EndpointRuleObject,ErrorRuleObject:()=>fn.ErrorRuleObject,EvaluateOptions:()=>fn.EvaluateOptions,Expression:()=>fn.Expression,FunctionArgv:()=>fn.FunctionArgv,FunctionObject:()=>fn.FunctionObject,FunctionReturn:()=>fn.FunctionReturn,ParameterObject:()=>fn.ParameterObject,ReferenceObject:()=>fn.ReferenceObject,ReferenceRecord:()=>fn.ReferenceRecord,RuleSetObject:()=>fn.RuleSetObject,RuleSetRules:()=>fn.RuleSetRules,TreeRuleObject:()=>fn.TreeRuleObject,awsEndpointFunctions:()=>SDe,getUserAgentPrefix:()=>d8t,isIpAddress:()=>fn.isIpAddress,partition:()=>yDe,resolveDefaultAwsRegionalEndpointsConfig:()=>m8t,resolveEndpoint:()=>fn.resolveEndpoint,setPartitionInfo:()=>_De,toEndpointV1:()=>vDe,useDefaultPartitionInfo:()=>l8t});EDe.exports=o8t(mDe);var fn=no(),fDe=Xp((e,t=!1)=>{if(t){for(let r of e.split("."))if(!fDe(r))return!1;return!0}return!(!(0,fn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,fn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),uDe=":",a8t="/",c8t=Xp(e=>{let t=e.split(uDe);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(uDe)==="")return null;let c=a.map(l=>l.split(a8t)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),pDe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},gDe=pDe,hDe="",yDe=Xp(e=>{let{partitions:t}=gDe;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),_De=Xp((e,t="")=>{gDe=e,hDe=t},"setPartitionInfo"),l8t=Xp(()=>{_De(pDe,"")},"useDefaultPartitionInfo"),d8t=Xp(()=>hDe,"getUserAgentPrefix"),SDe={isVirtualHostableS3Bucket:fDe,parseArn:c8t,partition:yDe};fn.customEndpointFunctions.aws=SDe;var u8t=gi(),m8t=Xp(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>vDe(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),vDe=Xp(e=>(0,u8t.parseUrl)(e.url),"toEndpointV1")});var MU,fE,CDe=v(()=>{MU={warningEmitted:!1},fE=e=>{e&&!MU.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(MU.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Jp(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var bDe=v(()=>{});function wDe(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var xDe=v(()=>{});function ADe(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var PDe=v(()=>{});var Yp={};Kt(Yp,{emitWarningIfUnsupportedVersion:()=>fE,setCredentialFeature:()=>Jp,setFeature:()=>wDe,setTokenFeature:()=>ADe,state:()=>MU});var _d=v(()=>{CDe();bDe();xDe();PDe()});var RDe,wX,IDe=v(()=>{RDe=C(Fe()),wX=e=>RDe.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var pE,xX=v(()=>{pE=e=>new Date(Date.now()+e)});var TDe,ODe=v(()=>{xX();TDe=(e,t)=>Math.abs(pE(t).getTime()-e)>=3e5});var AX,NDe=v(()=>{ODe();AX=(e,t)=>{let r=Date.parse(e);return TDe(r,t)?r-Date.now():t}});var PX=v(()=>{IDe();xX();NDe()});var DDe,nP,gE,Aa,RX,IX=v(()=>{DDe=C(Fe());PX();nP=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},gE=async e=>{let t=nP("context",e.context),r=nP("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await nP("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Aa=class{async sign(t,r,n){if(!DDe.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await gE(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,f]=l.authSchemes;u?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(t,{signingDate:pE(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??wX(r.$response);if(n){let s=nP("config",t.config),i=s.systemClockOffset;s.systemClockOffset=AX(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=wX(t);if(n){let s=nP("config",r.config);s.systemClockOffset=AX(n,s.systemClockOffset)}}},RX=Aa});var kDe,sP,MDe=v(()=>{kDe=C(Fe());PX();IX();sP=class extends Aa{async sign(t,r,n){if(!kDe.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await gE(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:pE(s.systemClockOffset),signingRegion:d,signingService:c})}}});var TX,LDe=v(()=>{TX=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var LU,OX=v(()=>{LU=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var UDe,BDe,hE,FDe=v(()=>{LDe();OX();UDe="AWS_AUTH_SCHEME_PREFERENCE",BDe="auth_scheme_preference",hE={environmentVariableSelector:(e,t)=>{if(t?.signingName&&LU(t.signingName)in e)return["httpBearerAuth"];if(UDe in e)return TX(e[UDe])},configFileSelector:e=>{if(BDe in e)return TX(e[BDe])},default:[]}});var NX,qDe,jDe,$De=v(()=>{Ze();NX=C(Rt()),qDe=e=>(e.sigv4aSigningRegionSet=Qt(e.sigv4aSigningRegionSet),e),jDe={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new NX.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new NX.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function f8t(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=od(t,id,vc):r?n=Qt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function p8t(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var DX,Ry,zDe,HDe=v(()=>{_d();Ze();DX=C(ap()),Ry=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=f8t(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=p8t(e,d);r&&!u.attributed?(n=async f=>u(f).then(p=>Jp(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Qt(e.signer):e.regionInfoProvider?a=()=>Qt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:f}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||DX.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Qt(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||DX.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},zDe=Ry});var GDe=v(()=>{IX();MDe();FDe();$De();HDe()});var VDe={};Kt(VDe,{AWSSDKSigV4Signer:()=>RX,AwsSdkSigV4ASigner:()=>sP,AwsSdkSigV4Signer:()=>Aa,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>hE,NODE_SIGV4A_CONFIG_OPTIONS:()=>jDe,getBearerTokenEnvKey:()=>LU,resolveAWSSDKSigV4Config:()=>zDe,resolveAwsSdkSigV4AConfig:()=>qDe,resolveAwsSdkSigV4Config:()=>Ry,validateSigningProperties:()=>gE});var kX=v(()=>{GDe();OX()});var WDe,Kc,yE=v(()=>{Ie();WDe=C(rv()),Kc=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??WDe.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=Un.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let f=Un.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(f){let p=f.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var MX,KDe=v(()=>{sv();Ie();yE();MX=class extends Cc{awsQueryCompatible;mixin=new Kc;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Ec(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator())f[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var g8t,h8t,y8t,XDe=v(()=>{g8t=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},h8t=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},y8t=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var po,Qp=v(()=>{po=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function JDe(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new he(n,"bigDecimal"):BigInt(n)}return t}var YDe=v(()=>{zt()});var QDe,ZDe,UU,LX=v(()=>{QDe=C(V()),ZDe=C(Ct()),UU=(e,t)=>(0,QDe.collectBody)(e,t).then(r=>(t?.utf8Encoder??ZDe.toUtf8)(r))});var _E,UX,Iy,iP=v(()=>{LX();_E=(e,t)=>UU(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),UX=async(e,t)=>{let r=await _E(e,t);return r.message=r.message??r.Message,r},Iy=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var eke,oP,BX=v(()=>{nt();Ie();zt();eke=C(bt());Qp();YDe();iP();oP=class extends po{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,JDe):await _E(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=U.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,eke.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return xr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:return Ga(r);case F.TIMESTAMP_HTTP_DATE:return Va(r);case F.TIMESTAMP_EPOCH_SECONDS:return jo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof he)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new he(o.string,o.type):new he(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var tke,BU,rke=v(()=>{zt();tke="\u039D",BU=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof he){let n=`${tke+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${tke+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var nke,aP,FX=v(()=>{nt();Ie();zt();nke=C(bt());Qp();rke();aP=class extends po{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=U.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=U.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new BU;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=U.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,nke.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Pt(i,this.settings)){case F.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case F.TIMESTAMP_HTTP_DATE:return Ha(r);case F.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return Zt();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return xr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var Ty,FU=v(()=>{Qp();BX();FX();Ty=class extends po{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new aP(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new oP(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Oy,qU=v(()=>{nt();Ie();yE();FU();iP();Oy=class extends wn{serializer;deserializer;serviceTarget;codec;mixin=new Kc;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Ty({timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${U.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(zr(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Iy(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var qX,ske=v(()=>{qU();qX=class extends Oy{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var jX,ike=v(()=>{qU();jX=class extends Oy{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var $X,oke=v(()=>{nt();Ie();yE();FU();iP();$X=class extends es{serializer;deserializer;codec;mixin=new Kc;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Ty(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=Iy(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/json"}}});var ake,_8t,cke=v(()=>{ake=C(V()),_8t=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ake.expectUnion)(e)}});var lke,dke,Ny,jU=v(()=>{nt();Ie();lke=C(V()),dke=C(Ct());cd();Qp();Ny=class extends po{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $o(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=U.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??dke.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=U.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],f=Array.isArray(u)?u:[u];for(let p of f)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",f=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],S=p[f];(S!=null||i)&&(a[g]=this.readSchema(l,S))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,lke.getValueFromTextNode)(o)}return{}}}});var uke,mke,$U,fke=v(()=>{nt();Ie();zt();uke=C(V()),mke=C(bt());Qp();$U=class extends po{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=U.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??mke.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Zt()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof he?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case F.TIMESTAMP_HTTP_DATE:this.writeValue((0,uke.dateToUtcString)(r));break;case F.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),f=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,f),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${_s(t)}=`}writeValue(t){this.buffer+=_s(t)}}});var cP,zX=v(()=>{nt();Ie();yE();jU();fke();cP=class extends wn{options;serializer;deserializer;mixin=new Kc;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new $U(r),this.deserializer=new Ny(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(zr(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let u=await Qn(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let f=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=f}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Qn(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,S)=>g.find(b=>U.of(b).getMergedTraits().awsQueryError?.[0]===S)),d=U.of(c),u=this.loadQueryErrorMessage(s),f=new c.ctor(u),p={};for(let[g,S]of d.structIterator()){let b=S.getMergedTraits().xmlName??g,A=a[b]??s[b];p[g]=this.deserializer.readSchema(S,A)}throw Object.assign(f,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var HX,pke=v(()=>{zX();HX=class extends cP{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var gke,lP,GX,VX,WX=v(()=>{gke=C(V());cd();LX();lP=(e,t)=>UU(e,t).then(r=>{if(r.length){let n=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,gke.getValueFromTextNode)(a)}return{}}),GX=async(e,t)=>{let r=await lP(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},VX=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Eke=E((l_n,vke)=>{"use strict";var HU=Object.defineProperty,S8t=Object.getOwnPropertyDescriptor,v8t=Object.getOwnPropertyNames,E8t=Object.prototype.hasOwnProperty,GU=(e,t)=>HU(e,"name",{value:t,configurable:!0}),C8t=(e,t)=>{for(var r in t)HU(e,r,{get:t[r],enumerable:!0})},b8t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of v8t(t))!E8t.call(e,s)&&s!==r&&HU(e,s,{get:()=>t[s],enumerable:!(n=S8t(t,s))||n.enumerable});return e},w8t=e=>b8t(HU({},"__esModule",{value:!0}),e),hke={};C8t(hke,{XmlNode:()=>x8t,XmlText:()=>Ske});vke.exports=w8t(hke);function yke(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}GU(yke,"escapeAttribute");function _ke(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}GU(_ke,"escapeElement");var Ske=class{constructor(e){this.value=e}static{GU(this,"XmlText")}toString(){return _ke(""+this.value)}},x8t=class zU{constructor(t,r=[]){this.name=t,this.children=r}static{GU(this,"XmlNode")}attributes={};static of(t,r,n){let s=new zU(t);return r!==void 0&&s.addChildNode(new Ske(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=zU.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new zU(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${yke(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Xc,KX,VU,dP,XX=v(()=>{Xc=C(Eke());nt();Ie();zt();KX=C(V()),VU=C(bt());Qp();dP=class extends po{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=U.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??VU.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Xc.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let f=Xc.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,f,c),o.addChildNode(f)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),f=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let S=this.writeStruct(o,g,u);p.addChildNode(S.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=Xc.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,S,u),p.addChildNode(S)}};if(l)for(let p of r)(c||p!=null)&&f(n,p);else{let p=Xc.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&f(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),f=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[S,b]=this.getXmlnsAttribute(t,s),A=(P,M,N)=>{let L=Xc.XmlNode.of(l,M),[G,pe]=this.getXmlnsAttribute(a,b);pe&&L.addAttribute(G,pe),P.addChildNode(L);let ne=Xc.XmlNode.of(f);d.isListSchema()?this.writeList(d,N,ne,b):d.isMapSchema()?this.writeMap(d,N,ne,b,!0):d.isStructSchema()?ne=this.writeStruct(d,N,b):this.writeSimpleInto(d,N,ne,b),P.addChildNode(ne)};if(g){for(let[P,M]of Object.entries(r))if(p||M!=null){let N=Xc.XmlNode.of(o.xmlName??t.getMemberName());A(N,P,M),n.addChildNode(N)}}else{let P;i||(P=Xc.XmlNode.of(o.xmlName??t.getMemberName()),b&&P.addAttribute(S,b),n.addChildNode(P));for(let[M,N]of Object.entries(r))if(p||N!=null){let L=Xc.XmlNode.of("entry");A(L,M,N),(i?n:P).addChildNode(L)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=U.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??VU.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Pt(n,this.settings)){case F.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case F.TIMESTAMP_HTTP_DATE:s=(0,KX.dateToUtcString)(r);break;case F.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,KX.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof he?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=Zt():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=U.of(t),a=new Xc.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var uP,JX=v(()=>{Qp();jU();XX();uP=class extends po{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new dP(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ny(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var YX,Cke=v(()=>{nt();Ie();yE();WX();JX();YX=class extends es{codec;serializer;deserializer;mixin=new Kc;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new uP(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=VX(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().xmlName??p,b=s.Error?.[S]??s[S];f[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/xml"}}});var bke=v(()=>{KDe();XDe();ske();ike();qU();oke();FU();BX();FX();cke();iP();pke();zX();Cke();JX();jU();XX();WX()});var uu={};Kt(uu,{AWSSDKSigV4Signer:()=>RX,AwsEc2QueryProtocol:()=>HX,AwsJson1_0Protocol:()=>qX,AwsJson1_1Protocol:()=>jX,AwsJsonRpcProtocol:()=>Oy,AwsQueryProtocol:()=>cP,AwsRestJsonProtocol:()=>$X,AwsRestXmlProtocol:()=>YX,AwsSdkSigV4ASigner:()=>sP,AwsSdkSigV4Signer:()=>Aa,AwsSmithyRpcV2CborProtocol:()=>MX,JsonCodec:()=>Ty,JsonShapeDeserializer:()=>oP,JsonShapeSerializer:()=>aP,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>hE,NODE_SIGV4A_CONFIG_OPTIONS:()=>jDe,XmlCodec:()=>uP,XmlShapeDeserializer:()=>Ny,XmlShapeSerializer:()=>dP,_toBool:()=>h8t,_toNum:()=>y8t,_toStr:()=>g8t,awsExpectUnion:()=>_8t,emitWarningIfUnsupportedVersion:()=>fE,getBearerTokenEnvKey:()=>LU,loadRestJsonErrorCode:()=>Iy,loadRestXmlErrorCode:()=>VX,parseJsonBody:()=>_E,parseJsonErrorBody:()=>UX,parseXmlBody:()=>lP,parseXmlErrorBody:()=>GX,resolveAWSSDKSigV4Config:()=>zDe,resolveAwsSdkSigV4AConfig:()=>qDe,resolveAwsSdkSigV4Config:()=>Ry,setCredentialFeature:()=>Jp,setFeature:()=>wDe,setTokenFeature:()=>ADe,state:()=>MU,validateSigningProperties:()=>gE});var Ei=v(()=>{_d();kX();bke()});var SE=E((K_n,Mke)=>{"use strict";var KU=Object.defineProperty,A8t=Object.getOwnPropertyDescriptor,P8t=Object.getOwnPropertyNames,R8t=Object.prototype.hasOwnProperty,jm=(e,t)=>KU(e,"name",{value:t,configurable:!0}),I8t=(e,t)=>{for(var r in t)KU(e,r,{get:t[r],enumerable:!0})},T8t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of P8t(t))!R8t.call(e,s)&&s!==r&&KU(e,s,{get:()=>t[s],enumerable:!(n=A8t(t,s))||n.enumerable});return e},O8t=e=>T8t(KU({},"__esModule",{value:!0}),e),Pke={};I8t(Pke,{DEFAULT_UA_APP_ID:()=>Rke,getUserAgentMiddlewareOptions:()=>kke,getUserAgentPlugin:()=>F8t,resolveUserAgentConfig:()=>Tke,userAgentMiddleware:()=>Dke});Mke.exports=O8t(Pke);var N8t=(Ze(),H(As)),Rke=void 0;function Ike(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}jm(Ike,"isValidUserAgentAppId");function Tke(e){let t=(0,N8t.normalizeProvider)(e.userAgentAppId??Rke),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:jm(async()=>{let n=await t();if(!Ike(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}jm(Tke,"resolveUserAgentConfig");var D8t=mE(),k8t=Fe(),mu=(Ei(),H(uu)),M8t=/\d{12}\.ddb/;async function Oke(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,mu.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,mu.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,mu.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,mu.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(M8t)&&(0,mu.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,mu.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,mu.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,mu.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,mu.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,mu.setFeature)(e,o,a)}}jm(Oke,"checkFeatures");var wke="user-agent",QX="x-amz-user-agent",xke=" ",ZX="/",L8t=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,U8t=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Ake="-",B8t=1024;function Nke(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=B8t){t.length?t+=","+n:t+=n;continue}break}return t}jm(Nke,"encodeFeatures");var Dke=jm(e=>(t,r)=>async n=>{let{request:s}=n;if(!k8t.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(WU)||[],a=(await e.defaultUserAgentProvider()).map(WU);await Oke(r,e,n);let c=r;a.push(`m/${Nke(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(WU)||[],d=await e.userAgentAppId();d&&a.push(WU([`app/${d}`]));let u=(0,D8t.getUserAgentPrefix)(),f=(u?[u]:[]).concat([...a,...o,...l]).join(xke),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(xke);return e.runtime!=="browser"?(p&&(i[QX]=i[QX]?`${i[wke]} ${p}`:p),i[wke]=f):i[QX]=f,t({...n,request:s})},"userAgentMiddleware"),WU=jm(e=>{let t=e[0].split(ZX).map(o=>o.replace(L8t,Ake)).join(ZX),r=e[1]?.replace(U8t,Ake),n=t.indexOf(ZX),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),kke={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},F8t=jm(e=>({applyToStack:jm(t=>{t.add(Dke(e),kke)},"applyToStack")}),"getUserAgentPlugin")});var eJ=E((X_n,Kke)=>{var XU=Object.defineProperty,q8t=Object.getOwnPropertyDescriptor,j8t=Object.getOwnPropertyNames,$8t=Object.prototype.hasOwnProperty,Jc=(e,t)=>XU(e,"name",{value:t,configurable:!0}),z8t=(e,t)=>{for(var r in t)XU(e,r,{get:t[r],enumerable:!0})},H8t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j8t(t))!$8t.call(e,s)&&s!==r&&XU(e,s,{get:()=>t[s],enumerable:!(n=q8t(t,s))||n.enumerable});return e},G8t=e=>H8t(XU({},"__esModule",{value:!0}),e),Bke={};z8t(Bke,{DEFAULT_DISABLE_REQUEST_COMPRESSION:()=>jke,DEFAULT_NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES:()=>Hke,NODE_DISABLE_REQUEST_COMPRESSION_CONFIG_OPTIONS:()=>V8t,NODE_DISABLE_REQUEST_COMPRESSION_ENV_NAME:()=>Fke,NODE_DISABLE_REQUEST_COMPRESSION_INI_NAME:()=>qke,NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_CONFIG_OPTIONS:()=>W8t,NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_ENV_NAME:()=>$ke,NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_INI_NAME:()=>zke,compressionMiddleware:()=>Vke,compressionMiddlewareOptions:()=>Wke,getCompressionPlugin:()=>nXt,resolveCompressionConfig:()=>sXt});Kke.exports=G8t(Bke);var Zp=ax(),Fke="AWS_DISABLE_REQUEST_COMPRESSION",qke="disable_request_compression",jke=!1,V8t={environmentVariableSelector:Jc(e=>(0,Zp.booleanSelector)(e,Fke,Zp.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Jc(e=>(0,Zp.booleanSelector)(e,qke,Zp.SelectorType.CONFIG),"configFileSelector"),default:jke},$ke="AWS_REQUEST_MIN_COMPRESSION_SIZE_BYTES",zke="request_min_compression_size_bytes",Hke=10240,W8t={environmentVariableSelector:Jc(e=>(0,Zp.numberSelector)(e,$ke,Zp.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Jc(e=>(0,Zp.numberSelector)(e,zke,Zp.SelectorType.CONFIG),"configFileSelector"),default:Hke},K8t=(Ze(),H(As)),X8t=Fe(),Gke=require("zlib"),J8t=Jc(async e=>e.pipe((0,Gke.createGzip)()),"compressStream"),Lke=Ct(),Y8t=require("util"),Q8t=(0,Y8t.promisify)(Gke.gzip),Z8t=Jc(async e=>{try{let t=await Q8t((0,Lke.toUint8Array)(e||""));return(0,Lke.toUint8Array)(t)}catch(t){throw new Error("Failure during compression: "+t.message)}},"compressString"),eXt=["gzip"],tXt=R0(),rXt=Jc(e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(0,tXt.isArrayBuffer)(e),"isStreaming"),Vke=Jc((e,t)=>(r,n)=>async s=>{if(!X8t.HttpRequest.isInstance(s.request)||await e.disableRequestCompression())return r(s);let{request:o}=s,{body:a,headers:c}=o,{encodings:l,streamRequiresLength:d}=t,u=a,f=c;for(let p of l)if(eXt.includes(p)){let g=!1;if(rXt(a))if(!d)u=await J8t(a),g=!0;else throw new Error("Compression is not supported for streaming blobs that require a length.");else{let S=e.bodyLengthChecker(a),b=await e.requestMinCompressionSizeBytes();S&&S>=b&&(u=await Z8t(a),g=!0)}if(g){c["content-encoding"]?f={...c,"content-encoding":`${c["content-encoding"]}, ${p}`}:f={...c,"content-encoding":p},f["content-encoding"].includes("gzip")&&(0,K8t.setFeature)(n,"GZIP_REQUEST_COMPRESSION","L");break}}return r({...s,request:{...o,body:u,headers:f}})},"compressionMiddleware"),Wke={name:"compressionMiddleware",step:"build",tags:["REQUEST_BODY_COMPRESSION","GZIP"],override:!0,priority:"high"},nXt=Jc((e,t)=>({applyToStack:Jc(r=>{r.add(Vke(e,t),Wke)},"applyToStack")}),"getCompressionPlugin"),Uke=bn(),sXt=Jc(e=>{let{disableRequestCompression:t,requestMinCompressionSizeBytes:r}=e;return Object.assign(e,{disableRequestCompression:(0,Uke.normalizeProvider)(t),requestMinCompressionSizeBytes:Jc(async()=>{let n=await(0,Uke.normalizeProvider)(r)();if(n<0||n>10485760)throw new RangeError(`The value for requestMinCompressionSizeBytes must be between 0 and 10485760 inclusive. The provided value ${n} is outside this range."`);return n},"requestMinCompressionSizeBytes")})},"resolveCompressionConfig")});var rJ=E(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.resolveHttpAuthSchemeConfig=eg.defaultCloudWatchHttpAuthSchemeProvider=eg.defaultCloudWatchHttpAuthSchemeParametersProvider=void 0;var iXt=(Ei(),H(uu)),tJ=bn(),oXt=async(e,t,r)=>({operation:(0,tJ.getSmithyContext)(t).operation,region:await(0,tJ.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});eg.defaultCloudWatchHttpAuthSchemeParametersProvider=oXt;function aXt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"monitoring",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var cXt=e=>{let t=[];switch(e.operation){default:t.push(aXt(e))}return t};eg.defaultCloudWatchHttpAuthSchemeProvider=cXt;var lXt=e=>{let t=(0,iXt.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,tJ.normalizeProvider)(e.authSchemePreference??[])})};eg.resolveHttpAuthSchemeConfig=lXt});var Xke=E((Y_n,dXt)=>{dXt.exports={name:"@aws-sdk/client-cloudwatch",description:"AWS SDK for JavaScript Cloudwatch Client for Node.js, Browser and React Native",version:"3.888.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cloudwatch","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudwatch","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/credential-provider-node":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-compression":"^4.2.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-utf8":"^4.1.0","@smithy/util-waiter":"^4.1.1",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudwatch"}}});var nJ=E((Q_n,nMe)=>{"use strict";var JU=Object.defineProperty,uXt=Object.getOwnPropertyDescriptor,mXt=Object.getOwnPropertyNames,fXt=Object.prototype.hasOwnProperty,pXt=(e,t)=>JU(e,"name",{value:t,configurable:!0}),gXt=(e,t)=>{for(var r in t)JU(e,r,{get:t[r],enumerable:!0})},hXt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of mXt(t))!fXt.call(e,s)&&s!==r&&JU(e,s,{get:()=>t[s],enumerable:!(n=uXt(t,s))||n.enumerable});return e},yXt=e=>hXt(JU({},"__esModule",{value:!0}),e),Jke={};gXt(Jke,{ENV_ACCOUNT_ID:()=>rMe,ENV_CREDENTIAL_SCOPE:()=>tMe,ENV_EXPIRATION:()=>eMe,ENV_KEY:()=>Yke,ENV_SECRET:()=>Qke,ENV_SESSION:()=>Zke,fromEnv:()=>vXt});nMe.exports=yXt(Jke);var _Xt=(_d(),H(Yp)),SXt=Rt(),Yke="AWS_ACCESS_KEY_ID",Qke="AWS_SECRET_ACCESS_KEY",Zke="AWS_SESSION_TOKEN",eMe="AWS_CREDENTIAL_EXPIRATION",tMe="AWS_CREDENTIAL_SCOPE",rMe="AWS_ACCOUNT_ID",vXt=pXt(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Yke],r=process.env[Qke],n=process.env[Zke],s=process.env[eMe],i=process.env[tMe],o=process.env[rMe];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,_Xt.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new SXt.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var sMe=E(YU=>{"use strict";Object.defineProperty(YU,"__esModule",{value:!0});YU.checkUrl=void 0;var EXt=Rt(),CXt="169.254.170.2",bXt="169.254.170.23",wXt="[fd00:ec2::23]",xXt=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===CXt||e.hostname===bXt||e.hostname===wXt)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new EXt.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};YU.checkUrl=xXt});var iMe=E(QU=>{"use strict";Object.defineProperty(QU,"__esModule",{value:!0});QU.createGetRequest=IXt;QU.getCredentials=TXt;var sJ=Rt(),AXt=Fe(),PXt=V(),RXt=sm();function IXt(e){return new AXt.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function TXt(e,t){let n=await(0,RXt.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new sJ.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,PXt.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new sJ.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new sJ.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var oMe=E(ZU=>{"use strict";Object.defineProperty(ZU,"__esModule",{value:!0});ZU.retryWrapper=void 0;var OXt=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};ZU.retryWrapper=OXt});var lMe=E(eB=>{"use strict";Object.defineProperty(eB,"__esModule",{value:!0});eB.fromHttp=void 0;var NXt=(Vo(),H(Go)),DXt=(_d(),H(Yp)),kXt=Ui(),aMe=Rt(),MXt=NXt.__importDefault(require("fs/promises")),LXt=sMe(),cMe=iMe(),UXt=oMe(),BXt="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",FXt="http://169.254.170.2",qXt="AWS_CONTAINER_CREDENTIALS_FULL_URI",jXt="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",$Xt="AWS_CONTAINER_AUTHORIZATION_TOKEN",zXt=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[BXt],n=e.awsContainerCredentialsFullUri??process.env[qXt],s=e.awsContainerAuthorizationToken??process.env[$Xt],i=e.awsContainerAuthorizationTokenFile??process.env[jXt],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${FXt}${r}`;else throw new aMe.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,LXt.checkUrl)(a,e.logger);let c=new kXt.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,UXt.retryWrapper)(async()=>{let l=(0,cMe.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await MXt.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,cMe.getCredentials)(d.response).then(u=>(0,DXt.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new aMe.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};eB.fromHttp=zXt});var iJ=E(tB=>{"use strict";Object.defineProperty(tB,"__esModule",{value:!0});tB.fromHttp=void 0;var HXt=lMe();Object.defineProperty(tB,"fromHttp",{enumerable:!0,get:function(){return HXt.fromHttp}})});var aJ=E(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.resolveHttpAuthSchemeConfig=tg.defaultSSOHttpAuthSchemeProvider=tg.defaultSSOHttpAuthSchemeParametersProvider=void 0;var GXt=(Ei(),H(uu)),oJ=bn(),VXt=async(e,t,r)=>({operation:(0,oJ.getSmithyContext)(t).operation,region:await(0,oJ.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tg.defaultSSOHttpAuthSchemeParametersProvider=VXt;function WXt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function rB(e){return{schemeId:"smithy.api#noAuth"}}var KXt=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(rB(e));break}case"ListAccountRoles":{t.push(rB(e));break}case"ListAccounts":{t.push(rB(e));break}case"Logout":{t.push(rB(e));break}default:t.push(WXt(e))}return t};tg.defaultSSOHttpAuthSchemeProvider=KXt;var XXt=e=>{let t=(0,GXt.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,oJ.normalizeProvider)(e.authSchemePreference??[])})};tg.resolveHttpAuthSchemeConfig=XXt});var dMe=E((iSn,JXt)=>{JXt.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.888.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var mP=E((oSn,yMe)=>{"use strict";var sB=Object.defineProperty,YXt=Object.getOwnPropertyDescriptor,QXt=Object.getOwnPropertyNames,ZXt=Object.prototype.hasOwnProperty,nB=(e,t)=>sB(e,"name",{value:t,configurable:!0}),eJt=(e,t)=>{for(var r in t)sB(e,r,{get:t[r],enumerable:!0})},tJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of QXt(t))!ZXt.call(e,s)&&s!==r&&sB(e,s,{get:()=>t[s],enumerable:!(n=YXt(t,s))||n.enumerable});return e},rJt=e=>tJt(sB({},"__esModule",{value:!0}),e),mMe={};eJt(mMe,{NODE_APP_ID_CONFIG_OPTIONS:()=>aJt,UA_APP_ID_ENV_NAME:()=>gMe,UA_APP_ID_INI_NAME:()=>hMe,createDefaultUserAgentProvider:()=>pMe,crtAvailability:()=>fMe,defaultUserAgent:()=>sJt});yMe.exports=rJt(mMe);var uMe=require("os"),cJ=require("process"),fMe={isCrtAvailable:!1},nJt=nB(()=>fMe.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),pMe=nB(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,uMe.platform)()}`,(0,uMe.release)()],["lang/js"],["md/nodejs",`${cJ.versions.node}`]],s=nJt();s&&n.push(s),e&&n.push([`api/${e}`,t]),cJ.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${cJ.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),sJt=pMe,iJt=SE(),gMe="AWS_SDK_UA_APP_ID",hMe="sdk_ua_app_id",oJt="sdk-ua-app-id",aJt={environmentVariableSelector:nB(e=>e[gMe],"environmentVariableSelector"),configFileSelector:nB(e=>e[hMe]??e[oJt],"configFileSelector"),default:iJt.DEFAULT_UA_APP_ID}});var NMe=E(iB=>{"use strict";Object.defineProperty(iB,"__esModule",{value:!0});iB.ruleSet=void 0;var RMe="required",Qc="fn",Zc="argv",CE="ref",_Me=!0,SMe="isSet",fP="booleanEquals",vE="error",EE="endpoint",$m="tree",lJ="PartitionResult",dJ="getAttr",vMe={[RMe]:!1,type:"String"},EMe={[RMe]:!0,default:!1,type:"Boolean"},CMe={[CE]:"Endpoint"},IMe={[Qc]:fP,[Zc]:[{[CE]:"UseFIPS"},!0]},TMe={[Qc]:fP,[Zc]:[{[CE]:"UseDualStack"},!0]},Yc={},bMe={[Qc]:dJ,[Zc]:[{[CE]:lJ},"supportsFIPS"]},OMe={[CE]:lJ},wMe={[Qc]:fP,[Zc]:[!0,{[Qc]:dJ,[Zc]:[OMe,"supportsDualStack"]}]},xMe=[IMe],AMe=[TMe],PMe=[{[CE]:"Region"}],cJt={version:"1.0",parameters:{Region:vMe,UseDualStack:EMe,UseFIPS:EMe,Endpoint:vMe},rules:[{conditions:[{[Qc]:SMe,[Zc]:[CMe]}],rules:[{conditions:xMe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:vE},{conditions:AMe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:vE},{endpoint:{url:CMe,properties:Yc,headers:Yc},type:EE}],type:$m},{conditions:[{[Qc]:SMe,[Zc]:PMe}],rules:[{conditions:[{[Qc]:"aws.partition",[Zc]:PMe,assign:lJ}],rules:[{conditions:[IMe,TMe],rules:[{conditions:[{[Qc]:fP,[Zc]:[_Me,bMe]},wMe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yc,headers:Yc},type:EE}],type:$m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:vE}],type:$m},{conditions:xMe,rules:[{conditions:[{[Qc]:fP,[Zc]:[bMe,_Me]}],rules:[{conditions:[{[Qc]:"stringEquals",[Zc]:[{[Qc]:dJ,[Zc]:[OMe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Yc,headers:Yc},type:EE},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Yc,headers:Yc},type:EE}],type:$m},{error:"FIPS is enabled but this partition does not support FIPS",type:vE}],type:$m},{conditions:AMe,rules:[{conditions:[wMe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yc,headers:Yc},type:EE}],type:$m},{error:"DualStack is enabled but this partition does not support DualStack",type:vE}],type:$m},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Yc,headers:Yc},type:EE}],type:$m}],type:$m},{error:"Invalid Configuration: Missing Region",type:vE}]};iB.ruleSet=cJt});var DMe=E(oB=>{"use strict";Object.defineProperty(oB,"__esModule",{value:!0});oB.defaultEndpointResolver=void 0;var lJt=mE(),uJ=no(),dJt=NMe(),uJt=new uJ.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mJt=(e,t={})=>uJt.get(e,()=>(0,uJ.resolveEndpoint)(dJt.ruleSet,{endpointParams:e,logger:t.logger}));oB.defaultEndpointResolver=mJt;uJ.customEndpointFunctions.aws=lJt.awsEndpointFunctions});var LMe=E(aB=>{"use strict";Object.defineProperty(aB,"__esModule",{value:!0});aB.getRuntimeConfig=void 0;var fJt=(Ei(),H(uu)),pJt=(Ze(),H(As)),gJt=V(),hJt=gi(),kMe=bt(),MMe=Ct(),yJt=aJ(),_Jt=DMe(),SJt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??kMe.fromBase64,base64Encoder:e?.base64Encoder??kMe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_Jt.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??yJt.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new fJt.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new pJt.NoAuthSigner}],logger:e?.logger??new gJt.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??hJt.parseUrl,utf8Decoder:e?.utf8Decoder??MMe.fromUtf8,utf8Encoder:e?.utf8Encoder??MMe.toUtf8});aB.getRuntimeConfig=SJt});var jMe=E(lB=>{"use strict";Object.defineProperty(lB,"__esModule",{value:!0});lB.getRuntimeConfig=void 0;var vJt=(Vo(),H(Go)),EJt=vJt.__importDefault(dMe()),UMe=(Ei(),H(uu)),BMe=mP(),cB=un(),CJt=Ya(),FMe=xn(),Dy=io(),qMe=Ui(),bJt=Qa(),wJt=ya(),xJt=LMe(),AJt=V(),PJt=Za(),RJt=V(),IJt=e=>{(0,RJt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,PJt.resolveDefaultsModeConfig)(e),r=()=>t().then(AJt.loadConfigsForDefaultMode),n=(0,xJt.getRuntimeConfig)(e);(0,UMe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Dy.loadConfig)(UMe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??bJt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,BMe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:EJt.default.version}),maxAttempts:e?.maxAttempts??(0,Dy.loadConfig)(FMe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Dy.loadConfig)(cB.NODE_REGION_CONFIG_OPTIONS,{...cB.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:qMe.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Dy.loadConfig)({...FMe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wJt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CJt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??qMe.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Dy.loadConfig)(cB.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Dy.loadConfig)(cB.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Dy.loadConfig)(BMe.NODE_APP_ID_CONFIG_OPTIONS,s)}};lB.getRuntimeConfig=IJt});var pP=E((uSn,WMe)=>{"use strict";var dB=Object.defineProperty,TJt=Object.getOwnPropertyDescriptor,OJt=Object.getOwnPropertyNames,NJt=Object.prototype.hasOwnProperty,fu=(e,t)=>dB(e,"name",{value:t,configurable:!0}),DJt=(e,t)=>{for(var r in t)dB(e,r,{get:t[r],enumerable:!0})},kJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OJt(t))!NJt.call(e,s)&&s!==r&&dB(e,s,{get:()=>t[s],enumerable:!(n=TJt(t,s))||n.enumerable});return e},MJt=e=>kJt(dB({},"__esModule",{value:!0}),e),zMe={};DJt(zMe,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>FJt,NODE_REGION_CONFIG_OPTIONS:()=>BJt,REGION_ENV_NAME:()=>HMe,REGION_INI_NAME:()=>GMe,getAwsRegionExtensionConfiguration:()=>LJt,resolveAwsRegionExtensionConfiguration:()=>UJt,resolveRegionConfig:()=>qJt});WMe.exports=MJt(zMe);var LJt=fu(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),UJt=fu(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),HMe="AWS_REGION",GMe="region",BJt={environmentVariableSelector:fu(e=>e[HMe],"environmentVariableSelector"),configFileSelector:fu(e=>e[GMe],"configFileSelector"),default:fu(()=>{throw new Error("Region is missing")},"default")},FJt={preferredFile:"credentials"},VMe=fu(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),$Me=fu(e=>VMe(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),qJt=fu(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:fu(async()=>{if(typeof t=="string")return $Me(t);let n=await t();return $Me(n)},"region"),useFipsEndpoint:fu(async()=>{let n=typeof t=="string"?t:await t();return VMe(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var ALe=E((mSn,xLe)=>{"use strict";var uB=Object.defineProperty,jJt=Object.getOwnPropertyDescriptor,$Jt=Object.getOwnPropertyNames,zJt=Object.prototype.hasOwnProperty,tr=(e,t)=>uB(e,"name",{value:t,configurable:!0}),HJt=(e,t)=>{for(var r in t)uB(e,r,{get:t[r],enumerable:!0})},GJt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $Jt(t))!zJt.call(e,s)&&s!==r&&uB(e,s,{get:()=>t[s],enumerable:!(n=jJt(t,s))||n.enumerable});return e},VJt=e=>GJt(uB({},"__esModule",{value:!0}),e),eLe={};HJt(eLe,{GetRoleCredentialsCommand:()=>CLe,GetRoleCredentialsRequestFilterSensitiveLog:()=>dLe,GetRoleCredentialsResponseFilterSensitiveLog:()=>mLe,InvalidRequestException:()=>rLe,ListAccountRolesCommand:()=>mJ,ListAccountRolesRequestFilterSensitiveLog:()=>fLe,ListAccountsCommand:()=>fJ,ListAccountsRequestFilterSensitiveLog:()=>pLe,LogoutCommand:()=>bLe,LogoutRequestFilterSensitiveLog:()=>gLe,ResourceNotFoundException:()=>sLe,RoleCredentialsFilterSensitiveLog:()=>uLe,SSO:()=>wLe,SSOClient:()=>fB,SSOServiceException:()=>bE,TooManyRequestsException:()=>oLe,UnauthorizedException:()=>cLe,__Client:()=>ke.Client,paginateListAccountRoles:()=>_5t,paginateListAccounts:()=>S5t});xLe.exports=VJt(eLe);var KMe=eP(),WJt=tP(),KJt=rP(),XMe=SE(),XJt=un(),zm=(Ze(),H(As)),JJt=Ka(),hP=Fn(),JMe=xn(),YMe=aJ(),YJt=tr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),mB={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},QJt=jMe(),QMe=pP(),ZMe=Fe(),ke=V(),ZJt=tr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),e5t=tr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),t5t=tr((e,t)=>{let r=Object.assign((0,QMe.getAwsRegionExtensionConfiguration)(e),(0,ke.getDefaultExtensionConfiguration)(e),(0,ZMe.getHttpHandlerExtensionConfiguration)(e),ZJt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,QMe.resolveAwsRegionExtensionConfiguration)(r),(0,ke.resolveDefaultRuntimeConfig)(r),(0,ZMe.resolveHttpHandlerRuntimeConfig)(r),e5t(r))},"resolveRuntimeExtensions"),fB=class extends ke.Client{static{tr(this,"SSOClient")}config;constructor(...[e]){let t=(0,QJt.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=YJt(t),n=(0,XMe.resolveUserAgentConfig)(r),s=(0,JMe.resolveRetryConfig)(n),i=(0,XJt.resolveRegionConfig)(s),o=(0,KMe.resolveHostHeaderConfig)(i),a=(0,hP.resolveEndpointConfig)(o),c=(0,YMe.resolveHttpAuthSchemeConfig)(a),l=t5t(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,XMe.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,JMe.getRetryPlugin)(this.config)),this.middlewareStack.use((0,JJt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,KMe.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,WJt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,KJt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,zm.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:YMe.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:tr(async d=>new zm.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,zm.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},pB=pi(),bE=class tLe extends ke.ServiceException{static{tr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,tLe.prototype)}},rLe=class nLe extends bE{static{tr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,nLe.prototype)}},sLe=class iLe extends bE{static{tr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,iLe.prototype)}},oLe=class aLe extends bE{static{tr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,aLe.prototype)}},cLe=class lLe extends bE{static{tr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,lLe.prototype)}},dLe=tr(e=>({...e,...e.accessToken&&{accessToken:ke.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),uLe=tr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:ke.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:ke.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),mLe=tr(e=>({...e,...e.roleCredentials&&{roleCredentials:uLe(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),fLe=tr(e=>({...e,...e.accessToken&&{accessToken:ke.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),pLe=tr(e=>({...e,...e.accessToken&&{accessToken:ke.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),gLe=tr(e=>({...e,...e.accessToken&&{accessToken:ke.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),gP=(Ei(),H(uu)),r5t=tr(async(e,t)=>{let r=(0,zm.requestBuilder)(e,t),n=(0,ke.map)({},ke.isSerializableHeaderValue,{[yB]:e[hB]});r.bp("/federation/credentials");let s=(0,ke.map)({[h5t]:[,(0,ke.expectNonNull)(e[g5t],"roleName")],[yLe]:[,(0,ke.expectNonNull)(e[hLe],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),n5t=tr(async(e,t)=>{let r=(0,zm.requestBuilder)(e,t),n=(0,ke.map)({},ke.isSerializableHeaderValue,{[yB]:e[hB]});r.bp("/assignment/roles");let s=(0,ke.map)({[ELe]:[,e[vLe]],[SLe]:[()=>e.maxResults!==void 0,()=>e[_Le].toString()],[yLe]:[,(0,ke.expectNonNull)(e[hLe],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),s5t=tr(async(e,t)=>{let r=(0,zm.requestBuilder)(e,t),n=(0,ke.map)({},ke.isSerializableHeaderValue,{[yB]:e[hB]});r.bp("/assignment/accounts");let s=(0,ke.map)({[ELe]:[,e[vLe]],[SLe]:[()=>e.maxResults!==void 0,()=>e[_Le].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),i5t=tr(async(e,t)=>{let r=(0,zm.requestBuilder)(e,t),n=(0,ke.map)({},ke.isSerializableHeaderValue,{[yB]:e[hB]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),o5t=tr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gB(e,t);let r=(0,ke.map)({$metadata:rg(e)}),n=(0,ke.expectNonNull)((0,ke.expectObject)(await(0,gP.parseJsonBody)(e.body,t)),"body"),s=(0,ke.take)(n,{roleCredentials:ke._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),a5t=tr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gB(e,t);let r=(0,ke.map)({$metadata:rg(e)}),n=(0,ke.expectNonNull)((0,ke.expectObject)(await(0,gP.parseJsonBody)(e.body,t)),"body"),s=(0,ke.take)(n,{nextToken:ke.expectString,roleList:ke._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),c5t=tr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gB(e,t);let r=(0,ke.map)({$metadata:rg(e)}),n=(0,ke.expectNonNull)((0,ke.expectObject)(await(0,gP.parseJsonBody)(e.body,t)),"body"),s=(0,ke.take)(n,{accountList:ke._json,nextToken:ke.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),l5t=tr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gB(e,t);let r=(0,ke.map)({$metadata:rg(e)});return await(0,ke.collectBody)(e.body,t),r},"de_LogoutCommand"),gB=tr(async(e,t)=>{let r={...e,body:await(0,gP.parseJsonErrorBody)(e.body,t)},n=(0,gP.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await u5t(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await m5t(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await f5t(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await p5t(r,t);default:let s=r.body;return d5t({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),d5t=(0,ke.withBaseException)(bE),u5t=tr(async(e,t)=>{let r=(0,ke.map)({}),n=e.body,s=(0,ke.take)(n,{message:ke.expectString});Object.assign(r,s);let i=new rLe({$metadata:rg(e),...r});return(0,ke.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),m5t=tr(async(e,t)=>{let r=(0,ke.map)({}),n=e.body,s=(0,ke.take)(n,{message:ke.expectString});Object.assign(r,s);let i=new sLe({$metadata:rg(e),...r});return(0,ke.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),f5t=tr(async(e,t)=>{let r=(0,ke.map)({}),n=e.body,s=(0,ke.take)(n,{message:ke.expectString});Object.assign(r,s);let i=new oLe({$metadata:rg(e),...r});return(0,ke.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),p5t=tr(async(e,t)=>{let r=(0,ke.map)({}),n=e.body,s=(0,ke.take)(n,{message:ke.expectString});Object.assign(r,s);let i=new cLe({$metadata:rg(e),...r});return(0,ke.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),rg=tr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),hLe="accountId",hB="accessToken",yLe="account_id",_Le="maxResults",SLe="max_result",vLe="nextToken",ELe="next_token",g5t="roleName",h5t="role_name",yB="x-amz-sso_bearer_token",CLe=class extends ke.Command.classBuilder().ep(mB).m(function(e,t,r,n){return[(0,pB.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hP.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(dLe,mLe).ser(r5t).de(o5t).build(){static{tr(this,"GetRoleCredentialsCommand")}},mJ=class extends ke.Command.classBuilder().ep(mB).m(function(e,t,r,n){return[(0,pB.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hP.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(fLe,void 0).ser(n5t).de(a5t).build(){static{tr(this,"ListAccountRolesCommand")}},fJ=class extends ke.Command.classBuilder().ep(mB).m(function(e,t,r,n){return[(0,pB.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hP.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(pLe,void 0).ser(s5t).de(c5t).build(){static{tr(this,"ListAccountsCommand")}},bLe=class extends ke.Command.classBuilder().ep(mB).m(function(e,t,r,n){return[(0,pB.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hP.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(gLe,void 0).ser(i5t).de(l5t).build(){static{tr(this,"LogoutCommand")}},y5t={GetRoleCredentialsCommand:CLe,ListAccountRolesCommand:mJ,ListAccountsCommand:fJ,LogoutCommand:bLe},wLe=class extends fB{static{tr(this,"SSO")}};(0,ke.createAggregatedClient)(y5t,wLe);var _5t=(0,zm.createPaginator)(fB,mJ,"nextToken","nextToken","maxResults"),S5t=(0,zm.createPaginator)(fB,fJ,"nextToken","nextToken","maxResults")});function v5t(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function E5t(e){return{schemeId:"smithy.api#noAuth"}}var yP,PLe,RLe,ILe,pJ=v(()=>{Ei();yP=C(bn()),PLe=async(e,t,r)=>({operation:(0,yP.getSmithyContext)(t).operation,region:await(0,yP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});RLe=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(E5t(e));break}default:t.push(v5t(e))}return t},ILe=e=>{let t=Ry(e);return Object.assign(t,{authSchemePreference:(0,yP.normalizeProvider)(e.authSchemePreference??[])})}});var TLe,OLe,gJ=v(()=>{TLe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),OLe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var _B,hJ=v(()=>{_B={name:"@aws-sdk/nested-clients",version:"3.888.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var jLe,tl,rl,AE,NLe,_P,wE,xE,Hm,yJ,_J,DLe,kLe,MLe,$Le,zLe,el,LLe,HLe,ULe,BLe,FLe,qLe,b5t,GLe,VLe=v(()=>{jLe="required",tl="fn",rl="argv",AE="ref",NLe="isSet",_P="booleanEquals",wE="error",xE="endpoint",Hm="tree",yJ="PartitionResult",_J="getAttr",DLe={[jLe]:!1,type:"String"},kLe={[jLe]:!0,default:!1,type:"Boolean"},MLe={[AE]:"Endpoint"},$Le={[tl]:_P,[rl]:[{[AE]:"UseFIPS"},!0]},zLe={[tl]:_P,[rl]:[{[AE]:"UseDualStack"},!0]},el={},LLe={[tl]:_J,[rl]:[{[AE]:yJ},"supportsFIPS"]},HLe={[AE]:yJ},ULe={[tl]:_P,[rl]:[!0,{[tl]:_J,[rl]:[HLe,"supportsDualStack"]}]},BLe=[$Le],FLe=[zLe],qLe=[{[AE]:"Region"}],b5t={version:"1.0",parameters:{Region:DLe,UseDualStack:kLe,UseFIPS:kLe,Endpoint:DLe},rules:[{conditions:[{[tl]:NLe,[rl]:[MLe]}],rules:[{conditions:BLe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:wE},{conditions:FLe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:wE},{endpoint:{url:MLe,properties:el,headers:el},type:xE}],type:Hm},{conditions:[{[tl]:NLe,[rl]:qLe}],rules:[{conditions:[{[tl]:"aws.partition",[rl]:qLe,assign:yJ}],rules:[{conditions:[$Le,zLe],rules:[{conditions:[{[tl]:_P,[rl]:[!0,LLe]},ULe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:el,headers:el},type:xE}],type:Hm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:wE}],type:Hm},{conditions:BLe,rules:[{conditions:[{[tl]:_P,[rl]:[LLe,!0]}],rules:[{conditions:[{[tl]:"stringEquals",[rl]:[{[tl]:_J,[rl]:[HLe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:el,headers:el},type:xE},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:el,headers:el},type:xE}],type:Hm},{error:"FIPS is enabled but this partition does not support FIPS",type:wE}],type:Hm},{conditions:FLe,rules:[{conditions:[ULe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:el,headers:el},type:xE}],type:Hm},{error:"DualStack is enabled but this partition does not support DualStack",type:wE}],type:Hm},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:el,headers:el},type:xE}],type:Hm}],type:Hm},{error:"Invalid Configuration: Missing Region",type:wE}]},GLe=b5t});var WLe,PE,w5t,KLe,XLe=v(()=>{WLe=C(mE()),PE=C(no());VLe();w5t=new PE.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),KLe=(e,t={})=>w5t.get(e,()=>(0,PE.resolveEndpoint)(GLe,{endpointParams:e,logger:t.logger}));PE.customEndpointFunctions.aws=WLe.awsEndpointFunctions});var JLe,YLe,SB,vB,QLe,ZLe=v(()=>{Ei();Ze();JLe=C(V()),YLe=C(gi()),SB=C(bt()),vB=C(Ct());pJ();XLe();QLe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??SB.fromBase64,base64Encoder:e?.base64Encoder??SB.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??KLe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??RLe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Aa},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],logger:e?.logger??new JLe.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??YLe.parseUrl,utf8Decoder:e?.utf8Decoder??vB.fromUtf8,utf8Encoder:e?.utf8Encoder??vB.toUtf8})});var EB,sg,eUe,CB,ng,bB,tUe,rUe,nUe,sUe,iUe,oUe,aUe=v(()=>{hJ();Ei();EB=C(mP()),sg=C(un()),eUe=C(Ya()),CB=C(xn()),ng=C(io()),bB=C(Ui()),tUe=C(Qa()),rUe=C(ya());ZLe();nUe=C(V()),sUe=C(Za()),iUe=C(V()),oUe=e=>{(0,iUe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,sUe.resolveDefaultsModeConfig)(e),r=()=>t().then(nUe.loadConfigsForDefaultMode),n=QLe(e);fE(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ng.loadConfig)(hE,s),bodyLengthChecker:e?.bodyLengthChecker??tUe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,EB.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:_B.version}),maxAttempts:e?.maxAttempts??(0,ng.loadConfig)(CB.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ng.loadConfig)(sg.NODE_REGION_CONFIG_OPTIONS,{...sg.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:bB.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ng.loadConfig)({...CB.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||rUe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??eUe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??bB.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ng.loadConfig)(sg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ng.loadConfig)(sg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ng.loadConfig)(EB.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var cUe,lUe,dUe=v(()=>{cUe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},lUe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var wB,xB,AB,uUe,mUe=v(()=>{wB=C(pP()),xB=C(Fe()),AB=C(V());dUe();uUe=(e,t)=>{let r=Object.assign((0,wB.getAwsRegionExtensionConfiguration)(e),(0,AB.getDefaultExtensionConfiguration)(e),(0,xB.getHttpHandlerExtensionConfiguration)(e),cUe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,wB.resolveAwsRegionExtensionConfiguration)(r),(0,AB.resolveDefaultRuntimeConfig)(r),(0,xB.resolveHttpHandlerRuntimeConfig)(r),lUe(r))}});var PB,fUe,pUe,RB,gUe,hUe,yUe,IB,SJ,SP,vJ=v(()=>{PB=C(eP()),fUe=C(tP()),pUe=C(rP()),RB=C(SE()),gUe=C(un());Ze();hUe=C(Ka()),yUe=C(Fn()),IB=C(xn()),SJ=C(V());pJ();gJ();aUe();mUe();SP=class extends SJ.Client{config;constructor(...[t]){let r=oUe(t||{});super(r),this.initConfig=r;let n=TLe(r),s=(0,RB.resolveUserAgentConfig)(n),i=(0,IB.resolveRetryConfig)(s),o=(0,gUe.resolveRegionConfig)(i),a=(0,PB.resolveHostHeaderConfig)(o),c=(0,yUe.resolveEndpointConfig)(a),l=ILe(c),d=uUe(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,RB.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,IB.getRetryPlugin)(this.config)),this.middlewareStack.use((0,hUe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,PB.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,fUe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,pUe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use($a(this.config,{httpAuthSchemeParametersProvider:PLe,identityProviderConfigProvider:async u=>new zo({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(za(this.config))}destroy(){super.destroy()}}});var _Ue,Ci,TB=v(()=>{_Ue=C(V()),Ci=class e extends _Ue.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ky,vP,EP,EJ,CJ,CP,bP,wP,xP,AP,PP,RP,IP,TP,OB=v(()=>{ky=C(V());TB();vP=class e extends Ci{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},EP=class e extends Ci{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},EJ=e=>({...e,...e.clientSecret&&{clientSecret:ky.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ky.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:ky.SENSITIVE_STRING}}),CJ=e=>({...e,...e.accessToken&&{accessToken:ky.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ky.SENSITIVE_STRING},...e.idToken&&{idToken:ky.SENSITIVE_STRING}}),CP=class e extends Ci{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bP=class e extends Ci{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wP=class e extends Ci{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xP=class e extends Ci{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},AP=class e extends Ci{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},PP=class e extends Ci{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},RP=class e extends Ci{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},IP=class e extends Ci{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},TP=class e extends Ci{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var _e,SUe,vUe,x5t,A5t,P5t,R5t,I5t,T5t,O5t,N5t,D5t,k5t,M5t,L5t,U5t,nl,EUe=v(()=>{Ei();Ze();_e=C(V());OB();TB();SUe=async(e,t)=>{let r=am(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,_e.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,_e._json)(i)})),r.m("POST").h(n).b(s),r.build()},vUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x5t(e,t);let r=(0,_e.map)({$metadata:nl(e)}),n=(0,_e.expectNonNull)((0,_e.expectObject)(await _E(e.body,t)),"body"),s=(0,_e.take)(n,{accessToken:_e.expectString,expiresIn:_e.expectInt32,idToken:_e.expectString,refreshToken:_e.expectString,tokenType:_e.expectString});return Object.assign(r,s),r},x5t=async(e,t)=>{let r={...e,body:await UX(e.body,t)},n=Iy(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await P5t(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await R5t(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await I5t(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await T5t(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await O5t(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await N5t(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await D5t(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await k5t(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await M5t(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await L5t(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await U5t(r,t);default:let s=r.body;return A5t({output:e,parsedBody:s,errorCode:n})}},A5t=(0,_e.withBaseException)(Ci),P5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new vP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},R5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new EP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},I5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new CP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},T5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new bP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},O5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new wP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},N5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new xP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},D5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new AP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},k5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new PP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},M5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new RP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},L5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new IP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},U5t=async(e,t)=>{let r=(0,_e.map)({}),n=e.body,s=(0,_e.take)(n,{error:_e.expectString,error_description:_e.expectString});Object.assign(r,s);let i=new TP({$metadata:nl(e),...r});return(0,_e.decorateServiceException)(i,e.body)},nl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var CUe,bUe,bJ,OP,wJ=v(()=>{CUe=C(Fn()),bUe=C(pi()),bJ=C(V());gJ();OB();EUe();OP=class extends bJ.Command.classBuilder().ep(OLe).m(function(t,r,n,s){return[(0,bUe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,CUe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(EJ,CJ).ser(SUe).de(vUe).build(){}});var wUe,B5t,NB,xUe=v(()=>{wUe=C(V());wJ();vJ();B5t={CreateTokenCommand:OP},NB=class extends SP{};(0,wUe.createAggregatedClient)(B5t,NB)});var AUe=v(()=>{wJ()});var PUe=v(()=>{OB()});var xJ={};Kt(xJ,{$Command:()=>bJ.Command,AccessDeniedException:()=>vP,AuthorizationPendingException:()=>EP,CreateTokenCommand:()=>OP,CreateTokenRequestFilterSensitiveLog:()=>EJ,CreateTokenResponseFilterSensitiveLog:()=>CJ,ExpiredTokenException:()=>CP,InternalServerException:()=>bP,InvalidClientException:()=>wP,InvalidGrantException:()=>xP,InvalidRequestException:()=>AP,InvalidScopeException:()=>PP,SSOOIDC:()=>NB,SSOOIDCClient:()=>SP,SSOOIDCServiceException:()=>Ci,SlowDownException:()=>RP,UnauthorizedClientException:()=>IP,UnsupportedGrantTypeException:()=>TP,__Client:()=>SJ.Client});var AJ=v(()=>{vJ();xUe();AUe();PUe();TB()});var MUe=E((pvn,kUe)=>{"use strict";var F5t=Object.create,DP=Object.defineProperty,q5t=Object.getOwnPropertyDescriptor,j5t=Object.getOwnPropertyNames,$5t=Object.getPrototypeOf,z5t=Object.prototype.hasOwnProperty,Gm=(e,t)=>DP(e,"name",{value:t,configurable:!0}),H5t=(e,t)=>{for(var r in t)DP(e,r,{get:t[r],enumerable:!0})},TUe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j5t(t))!z5t.call(e,s)&&s!==r&&DP(e,s,{get:()=>t[s],enumerable:!(n=q5t(t,s))||n.enumerable});return e},OUe=(e,t,r)=>(r=e!=null?F5t($5t(e)):{},TUe(t||!e||!e.__esModule?DP(r,"default",{value:e,enumerable:!0}):r,e)),G5t=e=>TUe(DP({},"__esModule",{value:!0}),e),NUe={};H5t(NUe,{fromEnvSigningName:()=>K5t,fromSso:()=>DUe,fromStatic:()=>t9t,nodeProvider:()=>r9t});kUe.exports=G5t(NUe);var V5t=(_d(),H(Yp)),W5t=(kX(),H(VDe)),oc=Rt(),K5t=Gm(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new oc.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,W5t.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new oc.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,V5t.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),X5t=5*60*1e3,PJ="To refresh this SSO session run 'aws sso login' with the corresponding profile.",J5t=Gm(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>OUe((AJ(),H(xJ))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),Y5t=Gm(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>OUe((AJ(),H(xJ))));return(await J5t(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),RUe=Gm(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new oc.TokenProviderError(`Token is expired. ${PJ}`,!1)},"validateTokenExpiry"),My=Gm((e,t,r=!1)=>{if(typeof t>"u")throw new oc.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${PJ}`,!1)},"validateTokenKey"),NP=ni(),Q5t=require("fs"),{writeFile:Z5t}=Q5t.promises,e9t=Gm((e,t)=>{let r=(0,NP.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return Z5t(r,n)},"writeSSOTokenToFile"),IUe=new Date(0),DUe=Gm((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,NP.parseKnownFiles)(r),s=(0,NP.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new oc.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new oc.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,NP.loadSsoSessionData)(r))[o];if(!c)throw new oc.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!c[S])throw new oc.TokenProviderError(`Sso session '${o}' is missing required property '${S}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,NP.getSSOTokenFromFile)(o)}catch{throw new oc.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${PJ}`,!1)}My("accessToken",u.accessToken),My("expiresAt",u.expiresAt);let{accessToken:f,expiresAt:p}=u,g={token:f,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>X5t)return g;if(Date.now()-IUe.getTime()<30*1e3)return RUe(g),g;My("clientId",u.clientId,!0),My("clientSecret",u.clientSecret,!0),My("refreshToken",u.refreshToken,!0);try{IUe.setTime(Date.now());let S=await Y5t(u,d,r);My("accessToken",S.accessToken),My("expiresIn",S.expiresIn);let b=new Date(Date.now()+S.expiresIn*1e3);try{await e9t(o,{...u,accessToken:S.accessToken,expiresAt:b.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:b}}catch{return RUe(g),g}},"fromSso"),t9t=Gm(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new oc.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),r9t=Gm((e={})=>(0,oc.memoize)((0,oc.chain)(DUe(e),async()=>{throw new oc.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var IJ=E((gvn,HUe)=>{"use strict";var kB=Object.defineProperty,n9t=Object.getOwnPropertyDescriptor,BUe=Object.getOwnPropertyNames,s9t=Object.prototype.hasOwnProperty,MB=(e,t)=>kB(e,"name",{value:t,configurable:!0}),i9t=(e,t)=>function(){return e&&(t=(0,e[BUe(e)[0]])(e=0)),t},FUe=(e,t)=>{for(var r in t)kB(e,r,{get:t[r],enumerable:!0})},o9t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BUe(t))!s9t.call(e,s)&&s!==r&&kB(e,s,{get:()=>t[s],enumerable:!(n=n9t(t,s))||n.enumerable});return e},a9t=e=>o9t(kB({},"__esModule",{value:!0}),e),qUe={};FUe(qUe,{GetRoleCredentialsCommand:()=>RJ.GetRoleCredentialsCommand,SSOClient:()=>RJ.SSOClient});var RJ,c9t=i9t({"src/loadSso.ts"(){"use strict";RJ=ALe()}}),jUe={};FUe(jUe,{fromSSO:()=>d9t,isSsoProfile:()=>$Ue,validateSsoProfile:()=>zUe});HUe.exports=a9t(jUe);var $Ue=MB(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),LUe=(_d(),H(Yp)),l9t=MUe(),Sd=Rt(),DB=ni(),kP=!1,UUe=MB(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ne=await(0,l9t.fromSso)({profile:c})();d={accessToken:ne.token,expiresAt:new Date(ne.expiration).toISOString()}}catch(ne){throw new Sd.CredentialsProviderError(ne.message,{tryNextLink:kP,logger:l})}else try{d=await(0,DB.getSSOTokenFromFile)(e)}catch{throw new Sd.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:kP,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Sd.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:kP,logger:l});let{accessToken:f}=d,{SSOClient:p,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(c9t(),qUe)),S=i||new p(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),b;try{b=await S.send(new g({accountId:r,roleName:s,accessToken:f}))}catch(ne){throw new Sd.CredentialsProviderError(ne,{tryNextLink:kP,logger:l})}let{roleCredentials:{accessKeyId:A,secretAccessKey:P,sessionToken:M,expiration:N,credentialScope:L,accountId:G}={}}=b;if(!A||!P||!M||!N)throw new Sd.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:kP,logger:l});let pe={accessKeyId:A,secretAccessKey:P,sessionToken:M,expiration:new Date(N),...L&&{credentialScope:L},...G&&{accountId:G}};return t?(0,LUe.setCredentialFeature)(pe,"CREDENTIALS_SSO","s"):(0,LUe.setCredentialFeature)(pe,"CREDENTIALS_SSO_LEGACY","u"),pe},"resolveSSOCredentials"),zUe=MB((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Sd.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),d9t=MB((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,DB.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,DB.parseKnownFiles)(e))[c];if(!d)throw new Sd.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!$Ue(d))throw new Sd.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let A=(await(0,DB.loadSsoSessionData)(e))[d.sso_session],P=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==A.sso_region)throw new Sd.CredentialsProviderError("Conflicting SSO region"+P,{tryNextLink:!1,logger:e.logger});if(r&&r!==A.sso_start_url)throw new Sd.CredentialsProviderError("Conflicting SSO start_url"+P,{tryNextLink:!1,logger:e.logger});d.sso_region=A.sso_region,d.sso_start_url=A.sso_start_url}let{sso_start_url:u,sso_account_id:f,sso_region:p,sso_role_name:g,sso_session:S}=zUe(d,e.logger);return UUe({ssoStartUrl:u,ssoSession:S,ssoAccountId:f,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new Sd.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return UUe({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function u9t(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function m9t(e){return{schemeId:"smithy.api#noAuth"}}var MP,GUe,VUe,f9t,WUe,TJ=v(()=>{Ei();MP=C(bn());LP();GUe=async(e,t,r)=>({operation:(0,MP.getSmithyContext)(t).operation,region:await(0,MP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});VUe=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(m9t(e));break}default:t.push(u9t(e))}return t},f9t=e=>Object.assign(e,{stsClientCtor:pu}),WUe=e=>{let t=f9t(e),r=Ry(t);return Object.assign(r,{authSchemePreference:(0,MP.normalizeProvider)(e.authSchemePreference??[])})}});var KUe,LB,UB=v(()=>{KUe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),LB={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var iBe,yt,_r,Sr,og,ig,Hi,oBe,aBe,cBe,Gn,XUe,gu,RE,NJ,JUe,OJ,lBe,YUe,Gi,QUe,dBe,uBe,go,ac,ZUe,mBe,fBe,eBe,pBe,tBe,rBe,nBe,sBe,p9t,gBe,hBe=v(()=>{iBe="required",yt="type",_r="fn",Sr="argv",og="ref",ig="booleanEquals",Hi="stringEquals",oBe="sigv4",aBe="sts",cBe="us-east-1",Gn="endpoint",XUe="https://sts.{Region}.{PartitionResult#dnsSuffix}",gu="tree",RE="error",NJ="getAttr",JUe={[iBe]:!1,[yt]:"String"},OJ={[iBe]:!0,default:!1,[yt]:"Boolean"},lBe={[og]:"Endpoint"},YUe={[_r]:"isSet",[Sr]:[{[og]:"Region"}]},Gi={[og]:"Region"},QUe={[_r]:"aws.partition",[Sr]:[Gi],assign:"PartitionResult"},dBe={[og]:"UseFIPS"},uBe={[og]:"UseDualStack"},go={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:oBe,signingName:aBe,signingRegion:cBe}]},headers:{}},ac={},ZUe={conditions:[{[_r]:Hi,[Sr]:[Gi,"aws-global"]}],[Gn]:go,[yt]:Gn},mBe={[_r]:ig,[Sr]:[dBe,!0]},fBe={[_r]:ig,[Sr]:[uBe,!0]},eBe={[_r]:NJ,[Sr]:[{[og]:"PartitionResult"},"supportsFIPS"]},pBe={[og]:"PartitionResult"},tBe={[_r]:ig,[Sr]:[!0,{[_r]:NJ,[Sr]:[pBe,"supportsDualStack"]}]},rBe=[{[_r]:"isSet",[Sr]:[lBe]}],nBe=[mBe],sBe=[fBe],p9t={version:"1.0",parameters:{Region:JUe,UseDualStack:OJ,UseFIPS:OJ,Endpoint:JUe,UseGlobalEndpoint:OJ},rules:[{conditions:[{[_r]:ig,[Sr]:[{[og]:"UseGlobalEndpoint"},!0]},{[_r]:"not",[Sr]:rBe},YUe,QUe,{[_r]:ig,[Sr]:[dBe,!1]},{[_r]:ig,[Sr]:[uBe,!1]}],rules:[{conditions:[{[_r]:Hi,[Sr]:[Gi,"ap-northeast-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"ap-south-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"ap-southeast-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"ap-southeast-2"]}],endpoint:go,[yt]:Gn},ZUe,{conditions:[{[_r]:Hi,[Sr]:[Gi,"ca-central-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"eu-central-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"eu-north-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"eu-west-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"eu-west-2"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"eu-west-3"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"sa-east-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,cBe]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"us-east-2"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"us-west-1"]}],endpoint:go,[yt]:Gn},{conditions:[{[_r]:Hi,[Sr]:[Gi,"us-west-2"]}],endpoint:go,[yt]:Gn},{endpoint:{url:XUe,properties:{authSchemes:[{name:oBe,signingName:aBe,signingRegion:"{Region}"}]},headers:ac},[yt]:Gn}],[yt]:gu},{conditions:rBe,rules:[{conditions:nBe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[yt]:RE},{conditions:sBe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[yt]:RE},{endpoint:{url:lBe,properties:ac,headers:ac},[yt]:Gn}],[yt]:gu},{conditions:[YUe],rules:[{conditions:[QUe],rules:[{conditions:[mBe,fBe],rules:[{conditions:[{[_r]:ig,[Sr]:[!0,eBe]},tBe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ac,headers:ac},[yt]:Gn}],[yt]:gu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[yt]:RE}],[yt]:gu},{conditions:nBe,rules:[{conditions:[{[_r]:ig,[Sr]:[eBe,!0]}],rules:[{conditions:[{[_r]:Hi,[Sr]:[{[_r]:NJ,[Sr]:[pBe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ac,headers:ac},[yt]:Gn},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ac,headers:ac},[yt]:Gn}],[yt]:gu},{error:"FIPS is enabled but this partition does not support FIPS",[yt]:RE}],[yt]:gu},{conditions:sBe,rules:[{conditions:[tBe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ac,headers:ac},[yt]:Gn}],[yt]:gu},{error:"DualStack is enabled but this partition does not support DualStack",[yt]:RE}],[yt]:gu},ZUe,{endpoint:{url:XUe,properties:ac,headers:ac},[yt]:Gn}],[yt]:gu}],[yt]:gu},{error:"Invalid Configuration: Missing Region",[yt]:RE}]},gBe=p9t});var yBe,IE,g9t,_Be,SBe=v(()=>{yBe=C(mE()),IE=C(no());hBe();g9t=new IE.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),_Be=(e,t={})=>g9t.get(e,()=>(0,IE.resolveEndpoint)(gBe,{endpointParams:e,logger:t.logger}));IE.customEndpointFunctions.aws=yBe.awsEndpointFunctions});var vBe,EBe,BB,FB,CBe,bBe=v(()=>{Ei();Ze();vBe=C(V()),EBe=C(gi()),BB=C(bt()),FB=C(Ct());TJ();SBe();CBe=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??BB.fromBase64,base64Encoder:e?.base64Encoder??BB.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_Be,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??VUe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Aa},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],logger:e?.logger??new vBe.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??EBe.parseUrl,utf8Decoder:e?.utf8Decoder??FB.fromUtf8,utf8Encoder:e?.utf8Encoder??FB.toUtf8})});var qB,cg,wBe,jB,ag,$B,xBe,ABe,PBe,RBe,IBe,TBe,OBe=v(()=>{hJ();Ei();qB=C(mP()),cg=C(un());Ze();wBe=C(Ya()),jB=C(xn()),ag=C(io()),$B=C(Ui()),xBe=C(Qa()),ABe=C(ya());bBe();PBe=C(V()),RBe=C(Za()),IBe=C(V()),TBe=e=>{(0,IBe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,RBe.resolveDefaultsModeConfig)(e),r=()=>t().then(PBe.loadConfigsForDefaultMode),n=CBe(e);fE(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ag.loadConfig)(hE,s),bodyLengthChecker:e?.bodyLengthChecker??xBe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,qB.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:_B.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Aa},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],maxAttempts:e?.maxAttempts??(0,ag.loadConfig)(jB.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ag.loadConfig)(cg.NODE_REGION_CONFIG_OPTIONS,{...cg.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:$B.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ag.loadConfig)({...jB.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||ABe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??wBe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??$B.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ag.loadConfig)(cg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ag.loadConfig)(cg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ag.loadConfig)(qB.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var NBe,DBe,kBe=v(()=>{NBe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},DBe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var zB,HB,GB,MBe,LBe=v(()=>{zB=C(pP()),HB=C(Fe()),GB=C(V());kBe();MBe=(e,t)=>{let r=Object.assign((0,zB.getAwsRegionExtensionConfiguration)(e),(0,GB.getDefaultExtensionConfiguration)(e),(0,HB.getHttpHandlerExtensionConfiguration)(e),NBe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,zB.resolveAwsRegionExtensionConfiguration)(r),(0,GB.resolveDefaultRuntimeConfig)(r),(0,HB.resolveHttpHandlerRuntimeConfig)(r),DBe(r))}});var VB,UBe,BBe,WB,FBe,qBe,jBe,KB,DJ,pu,LP=v(()=>{VB=C(eP()),UBe=C(tP()),BBe=C(rP()),WB=C(SE()),FBe=C(un());Ze();qBe=C(Ka()),jBe=C(Fn()),KB=C(xn()),DJ=C(V());TJ();UB();OBe();LBe();pu=class extends DJ.Client{config;constructor(...[t]){let r=TBe(t||{});super(r),this.initConfig=r;let n=KUe(r),s=(0,WB.resolveUserAgentConfig)(n),i=(0,KB.resolveRetryConfig)(s),o=(0,FBe.resolveRegionConfig)(i),a=(0,VB.resolveHostHeaderConfig)(o),c=(0,jBe.resolveEndpointConfig)(a),l=WUe(c),d=MBe(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,WB.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,KB.getRetryPlugin)(this.config)),this.middlewareStack.use((0,qBe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,VB.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,UBe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,BBe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use($a(this.config,{httpAuthSchemeParametersProvider:GUe,identityProviderConfigProvider:async u=>new zo({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(za(this.config))}destroy(){super.destroy()}}});var $Be,Pa,XB=v(()=>{$Be=C(V()),Pa=class e extends $Be.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var kJ,MJ,LJ,UP,BP,FP,qP,jP,$P,UJ,BJ,zP,HP=v(()=>{kJ=C(V());XB();MJ=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:kJ.SENSITIVE_STRING}}),LJ=e=>({...e,...e.Credentials&&{Credentials:MJ(e.Credentials)}}),UP=class e extends Pa{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},BP=class e extends Pa{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},FP=class e extends Pa{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qP=class e extends Pa{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jP=class e extends Pa{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$P=class e extends Pa{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},UJ=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:kJ.SENSITIVE_STRING}}),BJ=e=>({...e,...e.Credentials&&{Credentials:MJ(e.Credentials)}}),zP=class e extends Pa{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var zBe,Tt,HBe,GBe,VBe,WBe,KBe,h9t,y9t,_9t,S9t,v9t,E9t,C9t,b9t,w9t,XBe,x9t,A9t,P9t,R9t,I9t,T9t,JBe,O9t,N9t,YBe,D9t,k9t,M9t,L9t,U9t,B9t,F9t,Wm,q9t,QBe,ZBe,eFe,tFe,FJ,j9t,qJ,TE,$9t,jJ,$J,OE,zJ,NE,HJ,GJ,VJ,DE,kE,WJ,KJ,XJ,ME,JJ,LE,UE,YJ,QJ,Vm,ZJ,e5,t5,r5,n5,rFe,s5,i5,o5,Os,nFe,z9t,a5=v(()=>{Ei();zBe=C(Fe()),Tt=C(V());HP();XB();HBe=async(e,t)=>{let r=ZBe,n;return n=nFe({...b9t(e,t),[tFe]:j9t,[rFe]:eFe}),QBe(t,r,"/",void 0,n)},GBe=async(e,t)=>{let r=ZBe,n;return n=nFe({...w9t(e,t),[tFe]:$9t,[rFe]:eFe}),QBe(t,r,"/",void 0,n)},VBe=async(e,t)=>{if(e.statusCode>=300)return KBe(e,t);let r=await lP(e.body,t),n={};return n=O9t(r.AssumeRoleResult,t),{$metadata:Wm(e),...n}},WBe=async(e,t)=>{if(e.statusCode>=300)return KBe(e,t);let r=await lP(e.body,t),n={};return n=N9t(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Wm(e),...n}},KBe=async(e,t)=>{let r={...e,body:await GX(e.body,t)},n=z9t(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await h9t(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await v9t(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await E9t(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await C9t(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await y9t(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await _9t(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await S9t(r,t);default:let s=r.body;return q9t({output:e,parsedBody:s.Error,errorCode:n})}},h9t=async(e,t)=>{let r=e.body,n=D9t(r.Error,t),s=new UP({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},y9t=async(e,t)=>{let r=e.body,n=k9t(r.Error,t),s=new zP({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},_9t=async(e,t)=>{let r=e.body,n=M9t(r.Error,t),s=new jP({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},S9t=async(e,t)=>{let r=e.body,n=L9t(r.Error,t),s=new $P({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},v9t=async(e,t)=>{let r=e.body,n=U9t(r.Error,t),s=new BP({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},E9t=async(e,t)=>{let r=e.body,n=B9t(r.Error,t),s=new FP({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},C9t=async(e,t)=>{let r=e.body,n=F9t(r.Error,t),s=new qP({$metadata:Wm(e),...n});return(0,Tt.decorateServiceException)(s,r)},b9t=(e,t)=>{let r={};if(e[LE]!=null&&(r[LE]=e[LE]),e[UE]!=null&&(r[UE]=e[UE]),e[kE]!=null){let n=XBe(e[kE],t);e[kE]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[DE]!=null&&(r[DE]=e[DE]),e[NE]!=null&&(r[NE]=e[NE]),e[t5]!=null){let n=T9t(e[t5],t);e[t5]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[n5]!=null){let n=I9t(e[n5],t);e[n5]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[GJ]!=null&&(r[GJ]=e[GJ]),e[ZJ]!=null&&(r[ZJ]=e[ZJ]),e[r5]!=null&&(r[r5]=e[r5]),e[Vm]!=null&&(r[Vm]=e[Vm]),e[KJ]!=null){let n=P9t(e[KJ],t);e[KJ]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},w9t=(e,t)=>{let r={};if(e[LE]!=null&&(r[LE]=e[LE]),e[UE]!=null&&(r[UE]=e[UE]),e[i5]!=null&&(r[i5]=e[i5]),e[XJ]!=null&&(r[XJ]=e[XJ]),e[kE]!=null){let n=XBe(e[kE],t);e[kE]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[DE]!=null&&(r[DE]=e[DE]),e[NE]!=null&&(r[NE]=e[NE]),r},XBe=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=x9t(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},x9t=(e,t)=>{let r={};return e[o5]!=null&&(r[o5]=e[o5]),r},A9t=(e,t)=>{let r={};return e[WJ]!=null&&(r[WJ]=e[WJ]),e[zJ]!=null&&(r[zJ]=e[zJ]),r},P9t=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=A9t(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},R9t=(e,t)=>{let r={};return e[VJ]!=null&&(r[VJ]=e[VJ]),e[s5]!=null&&(r[s5]=e[s5]),r},I9t=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},T9t=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=R9t(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},JBe=(e,t)=>{let r={};return e[qJ]!=null&&(r[qJ]=(0,Tt.expectString)(e[qJ])),e[jJ]!=null&&(r[jJ]=(0,Tt.expectString)(e[jJ])),r},O9t=(e,t)=>{let r={};return e[OE]!=null&&(r[OE]=YBe(e[OE],t)),e[TE]!=null&&(r[TE]=JBe(e[TE],t)),e[ME]!=null&&(r[ME]=(0,Tt.strictParseInt32)(e[ME])),e[Vm]!=null&&(r[Vm]=(0,Tt.expectString)(e[Vm])),r},N9t=(e,t)=>{let r={};return e[OE]!=null&&(r[OE]=YBe(e[OE],t)),e[QJ]!=null&&(r[QJ]=(0,Tt.expectString)(e[QJ])),e[TE]!=null&&(r[TE]=JBe(e[TE],t)),e[ME]!=null&&(r[ME]=(0,Tt.strictParseInt32)(e[ME])),e[JJ]!=null&&(r[JJ]=(0,Tt.expectString)(e[JJ])),e[$J]!=null&&(r[$J]=(0,Tt.expectString)(e[$J])),e[Vm]!=null&&(r[Vm]=(0,Tt.expectString)(e[Vm])),r},YBe=(e,t)=>{let r={};return e[FJ]!=null&&(r[FJ]=(0,Tt.expectString)(e[FJ])),e[YJ]!=null&&(r[YJ]=(0,Tt.expectString)(e[YJ])),e[e5]!=null&&(r[e5]=(0,Tt.expectString)(e[e5])),e[HJ]!=null&&(r[HJ]=(0,Tt.expectNonNull)((0,Tt.parseRfc3339DateTimeWithOffset)(e[HJ]))),r},D9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},k9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},M9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},L9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},U9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},B9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},F9t=(e,t)=>{let r={};return e[Os]!=null&&(r[Os]=(0,Tt.expectString)(e[Os])),r},Wm=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),q9t=(0,Tt.withBaseException)(Pa),QBe=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new zBe.HttpRequest(l)},ZBe={"content-type":"application/x-www-form-urlencoded"},eFe="2011-06-15",tFe="Action",FJ="AccessKeyId",j9t="AssumeRole",qJ="AssumedRoleId",TE="AssumedRoleUser",$9t="AssumeRoleWithWebIdentity",jJ="Arn",$J="Audience",OE="Credentials",zJ="ContextAssertion",NE="DurationSeconds",HJ="Expiration",GJ="ExternalId",VJ="Key",DE="Policy",kE="PolicyArns",WJ="ProviderArn",KJ="ProvidedContexts",XJ="ProviderId",ME="PackedPolicySize",JJ="Provider",LE="RoleArn",UE="RoleSessionName",YJ="SecretAccessKey",QJ="SubjectFromWebIdentityToken",Vm="SourceIdentity",ZJ="SerialNumber",e5="SessionToken",t5="Tags",r5="TokenCode",n5="TransitiveTagKeys",rFe="Version",s5="Value",i5="WebIdentityToken",o5="arn",Os="message",nFe=e=>Object.entries(e).map(([t,r])=>(0,Tt.extendedEncodeURIComponent)(t)+"="+(0,Tt.extendedEncodeURIComponent)(r)).join("&"),z9t=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var sFe,iFe,oFe,Ly,JB=v(()=>{sFe=C(Fn()),iFe=C(pi()),oFe=C(V());UB();HP();a5();Ly=class extends oFe.Command.classBuilder().ep(LB).m(function(t,r,n,s){return[(0,iFe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sFe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,LJ).ser(HBe).de(VBe).build(){}});var aFe,cFe,lFe,Uy,YB=v(()=>{aFe=C(Fn()),cFe=C(pi()),lFe=C(V());UB();HP();a5();Uy=class extends lFe.Command.classBuilder().ep(LB).m(function(t,r,n,s){return[(0,cFe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,aFe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(UJ,BJ).ser(GBe).de(WBe).build(){}});var dFe,H9t,QB,uFe=v(()=>{dFe=C(V());JB();YB();LP();H9t={AssumeRoleCommand:Ly,AssumeRoleWithWebIdentityCommand:Uy},QB=class extends pu{};(0,dFe.createAggregatedClient)(H9t,QB)});var mFe=v(()=>{JB();YB()});var fFe=v(()=>{HP()});var pFe,gFe,hFe,yFe,_Fe,SFe,vFe=v(()=>{_d();JB();YB();pFe="us-east-1",gFe=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},hFe=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${pFe} (STS default)`),n??s??pFe},yFe=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await hFe(u,e?.parentClientConfig?.region,p),S=!SFe(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:S?f:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new Ly(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=gFe(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return Jp(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},_Fe=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,f=await hFe(l,e?.parentClientConfig?.region,u),p=!SFe(d);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new Uy(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=gFe(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&Jp(a,"RESOLVED_ACCOUNT_ID","T"),Jp(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},SFe=e=>e?.metadata?.handlerProtocol==="h2"});var EFe,CFe,bFe,G9t,wFe=v(()=>{vFe();LP();EFe=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,CFe=(e={},t)=>yFe(e,EFe(pu,t)),bFe=(e={},t)=>_Fe(e,EFe(pu,t)),G9t=e=>t=>e({roleAssumer:CFe(t),roleAssumerWithWebIdentity:bFe(t),...t})});var c5={};Kt(c5,{AssumeRoleCommand:()=>Ly,AssumeRoleResponseFilterSensitiveLog:()=>LJ,AssumeRoleWithWebIdentityCommand:()=>Uy,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>UJ,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>BJ,CredentialsFilterSensitiveLog:()=>MJ,ExpiredTokenException:()=>UP,IDPCommunicationErrorException:()=>zP,IDPRejectedClaimException:()=>jP,InvalidIdentityTokenException:()=>$P,MalformedPolicyDocumentException:()=>BP,PackedPolicyTooLargeException:()=>FP,RegionDisabledException:()=>qP,STS:()=>QB,STSClient:()=>pu,STSServiceException:()=>Pa,__Client:()=>DJ.Client,decorateDefaultCredentialProvider:()=>G9t,getDefaultRoleAssumer:()=>CFe,getDefaultRoleAssumerWithWebIdentity:()=>bFe});var l5=v(()=>{LP();uFe();mFe();fFe();wFe();XB()});var m5=E((AEn,PFe)=>{"use strict";var ZB=Object.defineProperty,V9t=Object.getOwnPropertyDescriptor,W9t=Object.getOwnPropertyNames,K9t=Object.prototype.hasOwnProperty,u5=(e,t)=>ZB(e,"name",{value:t,configurable:!0}),X9t=(e,t)=>{for(var r in t)ZB(e,r,{get:t[r],enumerable:!0})},J9t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of W9t(t))!K9t.call(e,s)&&s!==r&&ZB(e,s,{get:()=>t[s],enumerable:!(n=V9t(t,s))||n.enumerable});return e},Y9t=e=>J9t(ZB({},"__esModule",{value:!0}),e),AFe={};X9t(AFe,{fromProcess:()=>nYt});PFe.exports=Y9t(AFe);var xFe=ni(),d5=Rt(),Q9t=require("child_process"),Z9t=require("util"),eYt=(_d(),H(Yp)),tYt=u5((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,eYt.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),rYt=u5(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,Z9t.promisify)(Q9t.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return tYt(e,a,t)}catch(o){throw new d5.CredentialsProviderError(o.message,{logger:r})}}else throw new d5.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new d5.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),nYt=u5((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,xFe.parseKnownFiles)(e);return rYt((0,xFe.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var f5=E(hu=>{"use strict";var sYt=hu&&hu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iYt=hu&&hu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oYt=hu&&hu.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&sYt(r,t,n[s]);return iYt(r,t),r}}();Object.defineProperty(hu,"__esModule",{value:!0});hu.fromWebToken=void 0;var aYt=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>oYt((l5(),H(c5))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};hu.fromWebToken=aYt});var IFe=E(eF=>{"use strict";Object.defineProperty(eF,"__esModule",{value:!0});eF.fromTokenFile=void 0;var cYt=(_d(),H(Yp)),lYt=Rt(),dYt=require("fs"),uYt=f5(),RFe="AWS_WEB_IDENTITY_TOKEN_FILE",mYt="AWS_ROLE_ARN",fYt="AWS_ROLE_SESSION_NAME",pYt=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[RFe],r=e?.roleArn??process.env[mYt],n=e?.roleSessionName??process.env[fYt];if(!t||!r)throw new lYt.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,uYt.fromWebToken)({...e,webIdentityToken:(0,dYt.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[RFe]&&(0,cYt.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};eF.fromTokenFile=pYt});var h5=E((IEn,tF)=>{"use strict";var TFe=Object.defineProperty,gYt=Object.getOwnPropertyDescriptor,hYt=Object.getOwnPropertyNames,yYt=Object.prototype.hasOwnProperty,p5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hYt(t))!yYt.call(e,s)&&s!==r&&TFe(e,s,{get:()=>t[s],enumerable:!(n=gYt(t,s))||n.enumerable});return e},OFe=(e,t,r)=>(p5(e,t,"default"),r&&p5(r,t,"default")),_Yt=e=>p5(TFe({},"__esModule",{value:!0}),e),g5={};tF.exports=_Yt(g5);OFe(g5,IFe(),tF.exports);OFe(g5,f5(),tF.exports)});var FFe=E((TEn,BFe)=>{"use strict";var SYt=Object.create,VP=Object.defineProperty,vYt=Object.getOwnPropertyDescriptor,EYt=Object.getOwnPropertyNames,CYt=Object.getPrototypeOf,bYt=Object.prototype.hasOwnProperty,Vs=(e,t)=>VP(e,"name",{value:t,configurable:!0}),wYt=(e,t)=>{for(var r in t)VP(e,r,{get:t[r],enumerable:!0})},MFe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of EYt(t))!bYt.call(e,s)&&s!==r&&VP(e,s,{get:()=>t[s],enumerable:!(n=vYt(t,s))||n.enumerable});return e},lg=(e,t,r)=>(r=e!=null?SYt(CYt(e)):{},MFe(t||!e||!e.__esModule?VP(r,"default",{value:e,enumerable:!0}):r,e)),xYt=e=>MFe(VP({},"__esModule",{value:!0}),e),LFe={};wYt(LFe,{fromIni:()=>UYt});BFe.exports=xYt(LFe);var _5=ni(),dg=(_d(),H(Yp)),GP=Rt(),AYt=Vs((e,t,r)=>{let n={EcsContainer:Vs(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>lg(iJ())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>lg(dd()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,GP.chain)(i(s??{}),o(s))().then(y5)},"EcsContainer"),Ec2InstanceMetadata:Vs(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>lg(dd()));return async()=>i(s)().then(y5)},"Ec2InstanceMetadata"),Environment:Vs(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>lg(nJ()));return async()=>i(s)().then(y5)},"Environment")};if(e in n)return n[e];throw new GP.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),y5=Vs(e=>(0,dg.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),PYt=Vs((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(RYt(e,{profile:t,logger:r})||IYt(e,{profile:t,logger:r})),"isAssumeRoleProfile"),RYt=Vs((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),IYt=Vs((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),TYt=Vs(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>lg((l5(),H(c5))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new GP.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,_5.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?UFe(i,t,r,{...n,[i]:!0},NFe(t[i]??{})):(await AYt(s.credential_source,e,r.logger)(r))();if(NFe(s))return a.then(c=>(0,dg.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new GP.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,dg.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),NFe=Vs(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),OYt=Vs(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),NYt=Vs(async(e,t)=>Promise.resolve().then(()=>lg(m5())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,dg.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),DYt=Vs(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>lg(IJ()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,dg.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,dg.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),kYt=Vs(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),DFe=Vs(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),kFe=Vs(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,dg.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),MYt=Vs(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),LYt=Vs(async(e,t)=>Promise.resolve().then(()=>lg(h5())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,dg.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),UFe=Vs(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&DFe(i))return kFe(i,r);if(s||PYt(i,{profile:e,logger:r.logger}))return TYt(e,t,r,n);if(DFe(i))return kFe(i,r);if(MYt(i))return LYt(i,r);if(OYt(i))return NYt(r,e);if(kYt(i))return await DYt(e,i,r);throw new GP.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),UYt=Vs((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,_5.parseKnownFiles)(r);return UFe((0,_5.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var WFe=E((OEn,VFe)=>{"use strict";var BYt=Object.create,WP=Object.defineProperty,FYt=Object.getOwnPropertyDescriptor,qYt=Object.getOwnPropertyNames,jYt=Object.getPrototypeOf,$Yt=Object.prototype.hasOwnProperty,rF=(e,t)=>WP(e,"name",{value:t,configurable:!0}),zYt=(e,t)=>{for(var r in t)WP(e,r,{get:t[r],enumerable:!0})},$Fe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qYt(t))!$Yt.call(e,s)&&s!==r&&WP(e,s,{get:()=>t[s],enumerable:!(n=FYt(t,s))||n.enumerable});return e},BE=(e,t,r)=>(r=e!=null?BYt(jYt(e)):{},$Fe(t||!e||!e.__esModule?WP(r,"default",{value:e,enumerable:!0}):r,e)),HYt=e=>$Fe(WP({},"__esModule",{value:!0}),e),zFe={};zYt(zFe,{credentialsTreatedAsExpired:()=>GFe,credentialsWillNeedRefresh:()=>HFe,defaultProvider:()=>WYt});VFe.exports=HYt(zFe);var S5=nJ(),GYt=ni(),By=Rt(),qFe="AWS_EC2_METADATA_DISABLED",VYt=rF(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>BE(dd()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>BE(iJ()));return(0,By.chain)(i(e),n(e))}return process.env[qFe]&&process.env[qFe]!=="false"?async()=>{throw new By.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),jFe=!1,WYt=rF((e={})=>(0,By.memoize)((0,By.chain)(async()=>{if(e.profile??process.env[GYt.ENV_PROFILE])throw process.env[S5.ENV_KEY]&&process.env[S5.ENV_SECRET]&&(jFe||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),jFe=!0)),new By.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,S5.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new By.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>BE(IJ()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>BE(FFe()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>BE(m5()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>BE(h5()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await VYt(e))()),async()=>{throw new By.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),GFe,HFe),"defaultProvider"),HFe=rF(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),GFe=rF(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var cqe=E(nF=>{"use strict";Object.defineProperty(nF,"__esModule",{value:!0});nF.ruleSet=void 0;var sqe="required",il="fn",ol="argv",jE="ref",KFe=!0,XFe="isSet",KP="booleanEquals",FE="error",qE="endpoint",Km="tree",v5="PartitionResult",E5="getAttr",JFe={[sqe]:!1,type:"String"},YFe={[sqe]:!0,default:!1,type:"Boolean"},QFe={[jE]:"Endpoint"},iqe={[il]:KP,[ol]:[{[jE]:"UseFIPS"},!0]},oqe={[il]:KP,[ol]:[{[jE]:"UseDualStack"},!0]},sl={},ZFe={[il]:E5,[ol]:[{[jE]:v5},"supportsFIPS"]},aqe={[jE]:v5},eqe={[il]:KP,[ol]:[!0,{[il]:E5,[ol]:[aqe,"supportsDualStack"]}]},tqe=[iqe],rqe=[oqe],nqe=[{[jE]:"Region"}],KYt={version:"1.0",parameters:{Region:JFe,UseDualStack:YFe,UseFIPS:YFe,Endpoint:JFe},rules:[{conditions:[{[il]:XFe,[ol]:[QFe]}],rules:[{conditions:tqe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:FE},{conditions:rqe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:FE},{endpoint:{url:QFe,properties:sl,headers:sl},type:qE}],type:Km},{conditions:[{[il]:XFe,[ol]:nqe}],rules:[{conditions:[{[il]:"aws.partition",[ol]:nqe,assign:v5}],rules:[{conditions:[iqe,oqe],rules:[{conditions:[{[il]:KP,[ol]:[KFe,ZFe]},eqe],rules:[{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sl,headers:sl},type:qE}],type:Km},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:FE}],type:Km},{conditions:tqe,rules:[{conditions:[{[il]:KP,[ol]:[ZFe,KFe]}],rules:[{conditions:[{[il]:"stringEquals",[ol]:[{[il]:E5,[ol]:[aqe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://monitoring.{Region}.amazonaws.com",properties:sl,headers:sl},type:qE},{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dnsSuffix}",properties:sl,headers:sl},type:qE}],type:Km},{error:"FIPS is enabled but this partition does not support FIPS",type:FE}],type:Km},{conditions:rqe,rules:[{conditions:[eqe],rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sl,headers:sl},type:qE}],type:Km},{error:"DualStack is enabled but this partition does not support DualStack",type:FE}],type:Km},{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dnsSuffix}",properties:sl,headers:sl},type:qE}],type:Km}],type:Km},{error:"Invalid Configuration: Missing Region",type:FE}]};nF.ruleSet=KYt});var lqe=E(sF=>{"use strict";Object.defineProperty(sF,"__esModule",{value:!0});sF.defaultEndpointResolver=void 0;var XYt=mE(),C5=no(),JYt=cqe(),YYt=new C5.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),QYt=(e,t={})=>YYt.get(e,()=>(0,C5.resolveEndpoint)(JYt.ruleSet,{endpointParams:e,logger:t.logger}));sF.defaultEndpointResolver=QYt;C5.customEndpointFunctions.aws=XYt.awsEndpointFunctions});var mqe=E(iF=>{"use strict";Object.defineProperty(iF,"__esModule",{value:!0});iF.getRuntimeConfig=void 0;var ZYt=(Ei(),H(uu)),e7t=V(),t7t=gi(),dqe=bt(),uqe=Ct(),r7t=rJ(),n7t=lqe(),s7t=e=>({apiVersion:"2010-08-01",base64Decoder:e?.base64Decoder??dqe.fromBase64,base64Encoder:e?.base64Encoder??dqe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??n7t.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??r7t.defaultCloudWatchHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ZYt.AwsSdkSigV4Signer}],logger:e?.logger??new e7t.NoOpLogger,serviceId:e?.serviceId??"CloudWatch",urlParser:e?.urlParser??t7t.parseUrl,utf8Decoder:e?.utf8Decoder??uqe.fromUtf8,utf8Encoder:e?.utf8Encoder??uqe.toUtf8});iF.getRuntimeConfig=s7t});var _qe=E(aF=>{"use strict";Object.defineProperty(aF,"__esModule",{value:!0});aF.getRuntimeConfig=void 0;var i7t=(Vo(),H(Go)),o7t=i7t.__importDefault(Xke()),fqe=(Ei(),H(uu)),a7t=WFe(),pqe=mP(),oF=un(),c7t=Ya(),gqe=eJ(),hqe=xn(),Xm=io(),yqe=Ui(),l7t=Qa(),d7t=ya(),u7t=mqe(),m7t=V(),f7t=Za(),p7t=V(),g7t=e=>{(0,p7t.emitWarningIfUnsupportedVersion)(process.version);let t=(0,f7t.resolveDefaultsModeConfig)(e),r=()=>t().then(m7t.loadConfigsForDefaultMode),n=(0,u7t.getRuntimeConfig)(e);(0,fqe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Xm.loadConfig)(fqe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??l7t.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??a7t.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,pqe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:o7t.default.version}),disableRequestCompression:e?.disableRequestCompression??(0,Xm.loadConfig)(gqe.NODE_DISABLE_REQUEST_COMPRESSION_CONFIG_OPTIONS,e),maxAttempts:e?.maxAttempts??(0,Xm.loadConfig)(hqe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Xm.loadConfig)(oF.NODE_REGION_CONFIG_OPTIONS,{...oF.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:yqe.NodeHttpHandler.create(e?.requestHandler??r),requestMinCompressionSizeBytes:e?.requestMinCompressionSizeBytes??(0,Xm.loadConfig)(gqe.NODE_REQUEST_MIN_COMPRESSION_SIZE_BYTES_CONFIG_OPTIONS,e),retryMode:e?.retryMode??(0,Xm.loadConfig)({...hqe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||d7t.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??c7t.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??yqe.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Xm.loadConfig)(oF.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Xm.loadConfig)(oF.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Xm.loadConfig)(pqe.NODE_APP_ID_CONFIG_OPTIONS,s)}};aF.getRuntimeConfig=g7t});var b5=E((LEn,wqe)=>{var cF=Object.defineProperty,h7t=Object.getOwnPropertyDescriptor,y7t=Object.getOwnPropertyNames,_7t=Object.prototype.hasOwnProperty,yu=(e,t)=>cF(e,"name",{value:t,configurable:!0}),S7t=(e,t)=>{for(var r in t)cF(e,r,{get:t[r],enumerable:!0})},v7t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of y7t(t))!_7t.call(e,s)&&s!==r&&cF(e,s,{get:()=>t[s],enumerable:!(n=h7t(t,s))||n.enumerable});return e},E7t=e=>v7t(cF({},"__esModule",{value:!0}),e),Eqe={};S7t(Eqe,{WaiterState:()=>bqe,checkExceptions:()=>b7t,createWaiter:()=>R7t,waiterServiceDefaults:()=>Cqe});wqe.exports=E7t(Eqe);var C7t=yu(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),Cqe={minDelay:2,maxDelay:120},bqe=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(bqe||{}),b7t=yu(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),w7t=yu((e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return x7t(e,s)},"exponentialBackoffWithJitter"),x7t=yu((e,t)=>e+Math.random()*(t-e),"randomInRange"),A7t=yu(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:i},o,a)=>{let c={},{state:l,reason:d}=await a(s,o);if(d){let g=Sqe(d);c[g]|=0,c[g]+=1}if(l!=="RETRY")return{state:l,reason:d,observedResponses:c};let u=1,f=Date.now()+r*1e3,p=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||i?.aborted){let A="AbortController signal aborted.";return c[A]|=0,c[A]+=1,{state:"ABORTED",observedResponses:c}}let g=w7t(e,t,p,u);if(Date.now()+g*1e3>f)return{state:"TIMEOUT",observedResponses:c};await C7t(g);let{state:S,reason:b}=await a(s,o);if(b){let A=Sqe(b);c[A]|=0,c[A]+=1}if(S!=="RETRY")return{state:S,reason:b,observedResponses:c};u+=1}},"runPolling"),Sqe=yu(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),P7t=yu(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),vqe=yu(e=>{let t,r=new Promise(n=>{t=yu(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),R7t=yu(async(e,t,r)=>{let n={...Cqe,...e};P7t(n);let s=[A7t(n,t,r)],i=[];if(e.abortSignal){let{aborted:o,clearListener:a}=vqe(e.abortSignal);i.push(a),s.push(o)}if(e.abortController?.signal){let{aborted:o,clearListener:a}=vqe(e.abortController.signal);i.push(a),s.push(o)}return Promise.race(s).then(o=>{for(let a of i)a();return o})},"createWaiter")});var s1e=E((UEn,n1e)=>{"use strict";var lF=Object.defineProperty,I7t=Object.getOwnPropertyDescriptor,T7t=Object.getOwnPropertyNames,O7t=Object.prototype.hasOwnProperty,w=(e,t)=>lF(e,"name",{value:t,configurable:!0}),N7t=(e,t)=>{for(var r in t)lF(e,r,{get:t[r],enumerable:!0})},D7t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of T7t(t))!O7t.call(e,s)&&s!==r&&lF(e,s,{get:()=>t[s],enumerable:!(n=I7t(t,s))||n.enumerable});return e},k7t=e=>D7t(lF({},"__esModule",{value:!0}),e),Uqe={};N7t(Uqe,{ActionsSuppressedBy:()=>H7t,AlarmType:()=>G7t,AnomalyDetectorStateValue:()=>K7t,AnomalyDetectorType:()=>X7t,CloudWatch:()=>e1e,CloudWatchClient:()=>Ed,CloudWatchServiceException:()=>vo,ComparisonOperator:()=>J7t,ConcurrentModificationException:()=>qqe,ConflictException:()=>$qe,DashboardInvalidInputError:()=>Hqe,DashboardNotFoundError:()=>Q7t,DeleteAlarmsCommand:()=>wje,DeleteAnomalyDetectorCommand:()=>xje,DeleteDashboardsCommand:()=>Aje,DeleteInsightRulesCommand:()=>Pje,DeleteMetricStreamCommand:()=>Rje,DescribeAlarmContributorsCommand:()=>Ije,DescribeAlarmHistoryCommand:()=>A9,DescribeAlarmsCommand:()=>yR,DescribeAlarmsForMetricCommand:()=>Tje,DescribeAnomalyDetectorsCommand:()=>P9,DescribeInsightRulesCommand:()=>R9,DisableAlarmActionsCommand:()=>Oje,DisableInsightRulesCommand:()=>Nje,EnableAlarmActionsCommand:()=>Dje,EnableInsightRulesCommand:()=>kje,EvaluationState:()=>eQt,GetDashboardCommand:()=>Mje,GetInsightRuleReportCommand:()=>Lje,GetMetricDataCommand:()=>I9,GetMetricStatisticsCommand:()=>Uje,GetMetricStreamCommand:()=>Bje,GetMetricWidgetImageCommand:()=>Fje,HistoryItemType:()=>V7t,InternalServiceFault:()=>Xqe,InvalidFormatFault:()=>uje,InvalidNextToken:()=>ije,InvalidParameterCombinationException:()=>Yqe,InvalidParameterValueException:()=>Zqe,LimitExceededException:()=>aje,LimitExceededFault:()=>lje,ListDashboardsCommand:()=>T9,ListManagedInsightRulesCommand:()=>O9,ListMetricStreamsCommand:()=>D9,ListMetricsCommand:()=>N9,ListTagsForResourceCommand:()=>qje,MetricStreamOutputFormat:()=>nQt,MissingRequiredParameterException:()=>tje,PutAnomalyDetectorCommand:()=>jje,PutCompositeAlarmCommand:()=>$je,PutDashboardCommand:()=>zje,PutInsightRuleCommand:()=>Hje,PutManagedInsightRulesCommand:()=>Gje,PutMetricAlarmCommand:()=>Vje,PutMetricDataCommand:()=>Wje,PutMetricStreamCommand:()=>Kje,RecentlyActive:()=>sQt,ResourceNotFound:()=>Wqe,ResourceNotFoundException:()=>nje,ScanBy:()=>Z7t,SetAlarmStateCommand:()=>Xje,StandardUnit:()=>W7t,StartMetricStreamsCommand:()=>Jje,StateValue:()=>Y7t,Statistic:()=>tQt,StatusCode:()=>rQt,StopMetricStreamsCommand:()=>Yje,TagResourceCommand:()=>Qje,UntagResourceCommand:()=>Zje,__Client:()=>x.Client,paginateDescribeAlarmHistory:()=>Hnr,paginateDescribeAlarms:()=>Gnr,paginateDescribeAnomalyDetectors:()=>Vnr,paginateDescribeInsightRules:()=>Wnr,paginateGetMetricData:()=>Knr,paginateListDashboards:()=>Xnr,paginateListManagedInsightRules:()=>Jnr,paginateListMetricStreams:()=>Ynr,paginateListMetrics:()=>Qnr,waitForAlarmExists:()=>Znr,waitForCompositeAlarmExists:()=>tsr,waitUntilAlarmExists:()=>esr,waitUntilCompositeAlarmExists:()=>rsr});n1e.exports=k7t(Uqe);var xqe=eP(),M7t=tP(),L7t=rP(),Aqe=SE(),U7t=un(),al=(Ze(),H(As)),Bqe=eJ(),B7t=Ka(),wt=Fn(),Pqe=xn(),Rqe=rJ(),F7t=w(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"monitoring"}),"resolveClientEndpointParameters"),Ot={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},q7t=_qe(),Iqe=pP(),b9=Fe(),x=V(),j7t=w(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),$7t=w(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),z7t=w((e,t)=>{let r=Object.assign((0,Iqe.getAwsRegionExtensionConfiguration)(e),(0,x.getDefaultExtensionConfiguration)(e),(0,b9.getHttpHandlerExtensionConfiguration)(e),j7t(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Iqe.resolveAwsRegionExtensionConfiguration)(r),(0,x.resolveDefaultRuntimeConfig)(r),(0,b9.resolveHttpHandlerRuntimeConfig)(r),$7t(r))},"resolveRuntimeExtensions"),Ed=class extends x.Client{static{w(this,"CloudWatchClient")}config;constructor(...[e]){let t=(0,q7t.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=F7t(t),n=(0,Aqe.resolveUserAgentConfig)(r),s=(0,Pqe.resolveRetryConfig)(n),i=(0,U7t.resolveRegionConfig)(s),o=(0,xqe.resolveHostHeaderConfig)(i),a=(0,wt.resolveEndpointConfig)(o),c=(0,Rqe.resolveHttpAuthSchemeConfig)(a),l=(0,Bqe.resolveCompressionConfig)(c),d=z7t(l,e?.extensions||[]);this.config=d,this.middlewareStack.use((0,Aqe.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Pqe.getRetryPlugin)(this.config)),this.middlewareStack.use((0,B7t.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,xqe.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,M7t.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,L7t.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,al.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Rqe.defaultCloudWatchHttpAuthSchemeParametersProvider,identityProviderConfigProvider:w(async u=>new al.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,al.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Nt=pi(),fr=(Ei(),H(uu)),vo=class Fqe extends x.ServiceException{static{w(this,"CloudWatchServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Fqe.prototype)}},H7t={Alarm:"Alarm",ExtensionPeriod:"ExtensionPeriod",WaitPeriod:"WaitPeriod"},G7t={CompositeAlarm:"CompositeAlarm",MetricAlarm:"MetricAlarm"},V7t={Action:"Action",AlarmContributorAction:"AlarmContributorAction",AlarmContributorStateUpdate:"AlarmContributorStateUpdate",ConfigurationUpdate:"ConfigurationUpdate",StateUpdate:"StateUpdate"},W7t={Bits:"Bits",Bits_Second:"Bits/Second",Bytes:"Bytes",Bytes_Second:"Bytes/Second",Count:"Count",Count_Second:"Count/Second",Gigabits:"Gigabits",Gigabits_Second:"Gigabits/Second",Gigabytes:"Gigabytes",Gigabytes_Second:"Gigabytes/Second",Kilobits:"Kilobits",Kilobits_Second:"Kilobits/Second",Kilobytes:"Kilobytes",Kilobytes_Second:"Kilobytes/Second",Megabits:"Megabits",Megabits_Second:"Megabits/Second",Megabytes:"Megabytes",Megabytes_Second:"Megabytes/Second",Microseconds:"Microseconds",Milliseconds:"Milliseconds",None:"None",Percent:"Percent",Seconds:"Seconds",Terabits:"Terabits",Terabits_Second:"Terabits/Second",Terabytes:"Terabytes",Terabytes_Second:"Terabytes/Second"},K7t={PENDING_TRAINING:"PENDING_TRAINING",TRAINED:"TRAINED",TRAINED_INSUFFICIENT_DATA:"TRAINED_INSUFFICIENT_DATA"},X7t={METRIC_MATH:"METRIC_MATH",SINGLE_METRIC:"SINGLE_METRIC"},J7t={GreaterThanOrEqualToThreshold:"GreaterThanOrEqualToThreshold",GreaterThanThreshold:"GreaterThanThreshold",GreaterThanUpperThreshold:"GreaterThanUpperThreshold",LessThanLowerOrGreaterThanUpperThreshold:"LessThanLowerOrGreaterThanUpperThreshold",LessThanLowerThreshold:"LessThanLowerThreshold",LessThanOrEqualToThreshold:"LessThanOrEqualToThreshold",LessThanThreshold:"LessThanThreshold"},Y7t={ALARM:"ALARM",INSUFFICIENT_DATA:"INSUFFICIENT_DATA",OK:"OK"},qqe=class jqe extends vo{static{w(this,"ConcurrentModificationException")}name="ConcurrentModificationException";$fault="client";Message;constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),Object.setPrototypeOf(this,jqe.prototype),this.Message=t.Message}},$qe=class zqe extends vo{static{w(this,"ConflictException")}name="ConflictException";$fault="client";Message;constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,zqe.prototype),this.Message=t.Message}},Hqe=class Gqe extends vo{static{w(this,"DashboardInvalidInputError")}name="DashboardInvalidInputError";$fault="client";dashboardValidationMessages;constructor(t){super({name:"DashboardInvalidInputError",$fault:"client",...t}),Object.setPrototypeOf(this,Gqe.prototype),this.dashboardValidationMessages=t.dashboardValidationMessages}},Q7t=class Vqe extends vo{static{w(this,"DashboardNotFoundError")}name="DashboardNotFoundError";$fault="client";constructor(t){super({name:"DashboardNotFoundError",$fault:"client",...t}),Object.setPrototypeOf(this,Vqe.prototype)}},Wqe=class Kqe extends vo{static{w(this,"ResourceNotFound")}name="ResourceNotFound";$fault="client";constructor(t){super({name:"ResourceNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,Kqe.prototype)}},Xqe=class Jqe extends vo{static{w(this,"InternalServiceFault")}name="InternalServiceFault";$fault="server";Message;constructor(t){super({name:"InternalServiceFault",$fault:"server",...t}),Object.setPrototypeOf(this,Jqe.prototype),this.Message=t.Message}},Yqe=class Qqe extends vo{static{w(this,"InvalidParameterCombinationException")}name="InvalidParameterCombinationException";$fault="client";constructor(t){super({name:"InvalidParameterCombinationException",$fault:"client",...t}),Object.setPrototypeOf(this,Qqe.prototype)}},Zqe=class eje extends vo{static{w(this,"InvalidParameterValueException")}name="InvalidParameterValueException";$fault="client";constructor(t){super({name:"InvalidParameterValueException",$fault:"client",...t}),Object.setPrototypeOf(this,eje.prototype)}},tje=class rje extends vo{static{w(this,"MissingRequiredParameterException")}name="MissingRequiredParameterException";$fault="client";constructor(t){super({name:"MissingRequiredParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,rje.prototype)}},nje=class sje extends vo{static{w(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";ResourceType;ResourceId;Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,sje.prototype),this.ResourceType=t.ResourceType,this.ResourceId=t.ResourceId,this.Message=t.Message}},ije=class oje extends vo{static{w(this,"InvalidNextToken")}name="InvalidNextToken";$fault="client";constructor(t){super({name:"InvalidNextToken",$fault:"client",...t}),Object.setPrototypeOf(this,oje.prototype)}},Z7t={TIMESTAMP_ASCENDING:"TimestampAscending",TIMESTAMP_DESCENDING:"TimestampDescending"},eQt={PARTIAL_DATA:"PARTIAL_DATA"},tQt={Average:"Average",Maximum:"Maximum",Minimum:"Minimum",SampleCount:"SampleCount",Sum:"Sum"},aje=class cje extends vo{static{w(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,cje.prototype),this.Message=t.Message}},rQt={COMPLETE:"Complete",FORBIDDEN:"Forbidden",INTERNAL_ERROR:"InternalError",PARTIAL_DATA:"PartialData"},nQt={JSON:"json",OPEN_TELEMETRY_0_7:"opentelemetry0.7",OPEN_TELEMETRY_1_0:"opentelemetry1.0"},sQt={PT3H:"PT3H"},lje=class dje extends vo{static{w(this,"LimitExceededFault")}name="LimitExceededFault";$fault="client";constructor(t){super({name:"LimitExceededFault",$fault:"client",...t}),Object.setPrototypeOf(this,dje.prototype)}},uje=class mje extends vo{static{w(this,"InvalidFormatFault")}name="InvalidFormatFault";$fault="client";constructor(t){super({name:"InvalidFormatFault",$fault:"client",...t}),Object.setPrototypeOf(this,mje.prototype)}},iQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...WZt(e,t),[Ut]:nnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DeleteAlarmsCommand"),oQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...KZt(e,t),[Ut]:onr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DeleteAnomalyDetectorCommand"),aQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...XZt(e,t),[Ut]:unr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DeleteDashboardsCommand"),cQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...JZt(e,t),[Ut]:mnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DeleteInsightRulesCommand"),lQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...YZt(e,t),[Ut]:gnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DeleteMetricStreamCommand"),dQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...QZt(e,t),[Ut]:inr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DescribeAlarmContributorsCommand"),uQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...ZZt(e,t),[Ut]:lnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DescribeAlarmHistoryCommand"),mQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...ter(e,t),[Ut]:dnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DescribeAlarmsCommand"),fQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...eer(e,t),[Ut]:cnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DescribeAlarmsForMetricCommand"),pQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...rer(e,t),[Ut]:anr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DescribeAnomalyDetectorsCommand"),gQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...ner(e,t),[Ut]:fnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DescribeInsightRulesCommand"),hQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...aer(e,t),[Ut]:snr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DisableAlarmActionsCommand"),yQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...cer(e,t),[Ut]:pnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_DisableInsightRulesCommand"),_Qt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...ler(e,t),[Ut]:hnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_EnableAlarmActionsCommand"),SQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...der(e,t),[Ut]:ynr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_EnableInsightRulesCommand"),vQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...yer(e,t),[Ut]:_nr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_GetDashboardCommand"),EQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({..._er(e,t),[Ut]:Snr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_GetInsightRuleReportCommand"),CQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Ser(e,t),[Ut]:vnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_GetMetricDataCommand"),bQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...ver(e,t),[Ut]:Enr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_GetMetricStatisticsCommand"),wQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Eer(e,t),[Ut]:Cnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_GetMetricStreamCommand"),xQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Cer(e,t),[Ut]:bnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_GetMetricWidgetImageCommand"),AQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...xer(e,t),[Ut]:wnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_ListDashboardsCommand"),PQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Aer(e,t),[Ut]:Anr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_ListManagedInsightRulesCommand"),RQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Per(e,t),[Ut]:xnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_ListMetricsCommand"),IQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Rer(e,t),[Ut]:Pnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_ListMetricStreamsCommand"),TQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Ier(e,t),[Ut]:Rnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),OQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Her(e,t),[Ut]:Inr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutAnomalyDetectorCommand"),NQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Ger(e,t),[Ut]:Tnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutCompositeAlarmCommand"),DQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Ver(e,t),[Ut]:Onr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutDashboardCommand"),kQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Wer(e,t),[Ut]:Nnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutInsightRuleCommand"),MQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Ker(e,t),[Ut]:Mnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutManagedInsightRulesCommand"),LQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Xer(e,t),[Ut]:Dnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutMetricAlarmCommand"),UQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Jer(e,t),[Ut]:knr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutMetricDataCommand"),BQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Yer(e,t),[Ut]:Lnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_PutMetricStreamCommand"),FQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...Zer(e,t),[Ut]:Unr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_SetAlarmStateCommand"),qQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...etr(e,t),[Ut]:Bnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_StartMetricStreamsCommand"),jQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...ntr(e,t),[Ut]:Fnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_StopMetricStreamsCommand"),$Qt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...otr(e,t),[Ut]:qnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_TagResourceCommand"),zQt=w(async(e,t)=>{let r=Mt,n;return n=Ft({...atr(e,t),[Ut]:jnr,[Bt]:Lt}),kt(t,r,"/",void 0,n)},"se_UntagResourceCommand"),HQt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_DeleteAlarmsCommand"),GQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Itr(r.DeleteAnomalyDetectorResult,t),{$metadata:Ke(e),...n}},"de_DeleteAnomalyDetectorCommand"),VQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Ttr(r.DeleteDashboardsResult,t),{$metadata:Ke(e),...n}},"de_DeleteDashboardsCommand"),WQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Otr(r.DeleteInsightRulesResult,t),{$metadata:Ke(e),...n}},"de_DeleteInsightRulesCommand"),KQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Ntr(r.DeleteMetricStreamResult,t),{$metadata:Ke(e),...n}},"de_DeleteMetricStreamCommand"),XQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Dtr(r.DescribeAlarmContributorsResult,t),{$metadata:Ke(e),...n}},"de_DescribeAlarmContributorsCommand"),JQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=ktr(r.DescribeAlarmHistoryResult,t),{$metadata:Ke(e),...n}},"de_DescribeAlarmHistoryCommand"),YQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Ltr(r.DescribeAlarmsResult,t),{$metadata:Ke(e),...n}},"de_DescribeAlarmsCommand"),QQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Mtr(r.DescribeAlarmsForMetricResult,t),{$metadata:Ke(e),...n}},"de_DescribeAlarmsForMetricCommand"),ZQt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Utr(r.DescribeAnomalyDetectorsResult,t),{$metadata:Ke(e),...n}},"de_DescribeAnomalyDetectorsCommand"),eZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Btr(r.DescribeInsightRulesResult,t),{$metadata:Ke(e),...n}},"de_DescribeInsightRulesCommand"),tZt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_DisableAlarmActionsCommand"),rZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=qtr(r.DisableInsightRulesResult,t),{$metadata:Ke(e),...n}},"de_DisableInsightRulesCommand"),nZt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_EnableAlarmActionsCommand"),sZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=jtr(r.EnableInsightRulesResult,t),{$metadata:Ke(e),...n}},"de_EnableInsightRulesCommand"),iZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=$tr(r.GetDashboardResult,t),{$metadata:Ke(e),...n}},"de_GetDashboardCommand"),oZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=ztr(r.GetInsightRuleReportResult,t),{$metadata:Ke(e),...n}},"de_GetInsightRuleReportCommand"),aZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Htr(r.GetMetricDataResult,t),{$metadata:Ke(e),...n}},"de_GetMetricDataCommand"),cZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Gtr(r.GetMetricStatisticsResult,t),{$metadata:Ke(e),...n}},"de_GetMetricStatisticsCommand"),lZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Vtr(r.GetMetricStreamResult,t),{$metadata:Ke(e),...n}},"de_GetMetricStreamCommand"),dZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Wtr(r.GetMetricWidgetImageResult,t),{$metadata:Ke(e),...n}},"de_GetMetricWidgetImageCommand"),uZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=urr(r.ListDashboardsResult,t),{$metadata:Ke(e),...n}},"de_ListDashboardsCommand"),mZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=mrr(r.ListManagedInsightRulesResult,t),{$metadata:Ke(e),...n}},"de_ListManagedInsightRulesCommand"),fZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=frr(r.ListMetricsResult,t),{$metadata:Ke(e),...n}},"de_ListMetricsCommand"),pZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=prr(r.ListMetricStreamsResult,t),{$metadata:Ke(e),...n}},"de_ListMetricStreamsCommand"),gZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=grr(r.ListTagsForResourceResult,t),{$metadata:Ke(e),...n}},"de_ListTagsForResourceCommand"),hZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=qrr(r.PutAnomalyDetectorResult,t),{$metadata:Ke(e),...n}},"de_PutAnomalyDetectorCommand"),yZt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_PutCompositeAlarmCommand"),_Zt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=jrr(r.PutDashboardResult,t),{$metadata:Ke(e),...n}},"de_PutDashboardCommand"),SZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=$rr(r.PutInsightRuleResult,t),{$metadata:Ke(e),...n}},"de_PutInsightRuleCommand"),vZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=zrr(r.PutManagedInsightRulesResult,t),{$metadata:Ke(e),...n}},"de_PutManagedInsightRulesCommand"),EZt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_PutMetricAlarmCommand"),CZt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_PutMetricDataCommand"),bZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Hrr(r.PutMetricStreamResult,t),{$metadata:Ke(e),...n}},"de_PutMetricStreamCommand"),wZt=w(async(e,t)=>e.statusCode>=300?Dt(e,t):(await(0,x.collectBody)(e.body,t),{$metadata:Ke(e)}),"de_SetAlarmStateCommand"),xZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Xrr(r.StartMetricStreamsResult,t),{$metadata:Ke(e),...n}},"de_StartMetricStreamsCommand"),AZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Jrr(r.StopMetricStreamsResult,t),{$metadata:Ke(e),...n}},"de_StopMetricStreamsCommand"),PZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=Zrr(r.TagResourceResult,t),{$metadata:Ke(e),...n}},"de_TagResourceCommand"),RZt=w(async(e,t)=>{if(e.statusCode>=300)return Dt(e,t);let r=await(0,fr.parseXmlBody)(e.body,t),n={};return n=tnr(r.UntagResourceResult,t),{$metadata:Ke(e),...n}},"de_UntagResourceCommand"),Dt=w(async(e,t)=>{let r={...e,body:await(0,fr.parseXmlErrorBody)(e.body,t)},n=$nr(e,r.body);switch(n){case"ResourceNotFound":case"com.amazonaws.cloudwatch#ResourceNotFound":throw await qZt(r,t);case"InternalServiceError":case"com.amazonaws.cloudwatch#InternalServiceFault":throw await NZt(r,t);case"InvalidParameterCombination":case"com.amazonaws.cloudwatch#InvalidParameterCombinationException":throw await MZt(r,t);case"InvalidParameterValue":case"com.amazonaws.cloudwatch#InvalidParameterValueException":throw await LZt(r,t);case"MissingParameter":case"com.amazonaws.cloudwatch#MissingRequiredParameterException":throw await FZt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cloudwatch#ResourceNotFoundException":throw await jZt(r,t);case"ConflictException":case"com.amazonaws.cloudwatch#ConflictException":throw await TZt(r,t);case"InvalidNextToken":case"com.amazonaws.cloudwatch#InvalidNextToken":throw await kZt(r,t);case"LimitExceededException":case"com.amazonaws.cloudwatch#LimitExceededException":throw await UZt(r,t);case"LimitExceeded":case"com.amazonaws.cloudwatch#LimitExceededFault":throw await BZt(r,t);case"InvalidParameterInput":case"com.amazonaws.cloudwatch#DashboardInvalidInputError":throw await OZt(r,t);case"ConcurrentModificationException":case"com.amazonaws.cloudwatch#ConcurrentModificationException":throw await IZt(r,t);case"InvalidFormat":case"com.amazonaws.cloudwatch#InvalidFormatFault":throw await DZt(r,t);default:let s=r.body;return rnr({output:e,parsedBody:s.Error,errorCode:n})}},"de_CommandError"),IZt=w(async(e,t)=>{let r=e.body,n=Str(r.Error,t),s=new qqe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_ConcurrentModificationExceptionRes"),TZt=w(async(e,t)=>{let r=e.body,n=vtr(r.Error,t),s=new $qe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_ConflictExceptionRes"),OZt=w(async(e,t)=>{let r=e.body,n=btr(r.Error,t),s=new Hqe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_DashboardInvalidInputErrorRes"),NZt=w(async(e,t)=>{let r=e.body,n=srr(r.Error,t),s=new Xqe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_InternalServiceFaultRes"),DZt=w(async(e,t)=>{let r=e.body,n=irr(r.Error,t),s=new uje({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_InvalidFormatFaultRes"),kZt=w(async(e,t)=>{let r=e.body,n=orr(r.Error,t),s=new ije({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_InvalidNextTokenRes"),MZt=w(async(e,t)=>{let r=e.body,n=arr(r.Error,t),s=new Yqe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_InvalidParameterCombinationExceptionRes"),LZt=w(async(e,t)=>{let r=e.body,n=crr(r.Error,t),s=new Zqe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_InvalidParameterValueExceptionRes"),UZt=w(async(e,t)=>{let r=e.body,n=lrr(r.Error,t),s=new aje({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),BZt=w(async(e,t)=>{let r=e.body,n=drr(r.Error,t),s=new lje({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_LimitExceededFaultRes"),FZt=w(async(e,t)=>{let r=e.body,n=Urr(r.Error,t),s=new tje({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_MissingRequiredParameterExceptionRes"),qZt=w(async(e,t)=>{let r=e.body,n=Vrr(r.Error,t),s=new Wqe({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_ResourceNotFoundRes"),jZt=w(async(e,t)=>{let r=e.body,n=Wrr(r.Error,t),s=new nje({$metadata:Ke(e),...n});return(0,x.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),dF=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_AlarmNames"),fje=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_AlarmTypes"),$Zt=w((e,t)=>{let r={};if(e[pg]!=null){let n=zZt(e[pg],t);e[pg]?.length===0&&(r.ExcludedTimeRanges=[]),Object.entries(n).forEach(([s,i])=>{let o=`ExcludedTimeRanges.${s}`;r[o]=i})}return e[pC]!=null&&(r[pC]=e[pC]),r},"se_AnomalyDetectorConfiguration"),zZt=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Qer(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_AnomalyDetectorExcludedTimeRanges"),HZt=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_AnomalyDetectorTypes"),GZt=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=(0,x.serializeFloat)(s),n++);return r},"se_Counts"),VZt=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_DashboardNames"),WZt=w((e,t)=>{let r={};if(e[ul]!=null){let n=dF(e[ul],t);e[ul]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}return r},"se_DeleteAlarmsInput"),KZt=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[Ns]!=null&&(r[Ns]=e[Ns]),e[qy]!=null){let n=yje(e[qy],t);Object.entries(n).forEach(([s,i])=>{let o=`SingleMetricAnomalyDetector.${s}`;r[o]=i})}if(e[Fy]!=null){let n=gje(e[Fy],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricMathAnomalyDetector.${s}`;r[o]=i})}return r},"se_DeleteAnomalyDetectorInput"),XZt=w((e,t)=>{let r={};if(e[F5]!=null){let n=VZt(e[F5],t);e[F5]?.length===0&&(r.DashboardNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`DashboardNames.${s}`;r[o]=i})}return r},"se_DeleteDashboardsInput"),JZt=w((e,t)=>{let r={};if(e[rf]!=null){let n=w9(e[rf],t);e[rf]?.length===0&&(r.RuleNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`RuleNames.${s}`;r[o]=i})}return r},"se_DeleteInsightRulesInput"),YZt=w((e,t)=>{let r={};return e[Yr]!=null&&(r[Yr]=e[Yr]),r},"se_DeleteMetricStreamInput"),QZt=w((e,t)=>{let r={};return e[Vn]!=null&&(r[Vn]=e[Vn]),e[$e]!=null&&(r[$e]=e[$e]),r},"se_DescribeAlarmContributorsInput"),ZZt=w((e,t)=>{let r={};if(e[Vn]!=null&&(r[Vn]=e[Vn]),e[GE]!=null&&(r[GE]=e[GE]),e[QE]!=null){let n=fje(e[QE],t);e[QE]?.length===0&&(r.AlarmTypes=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmTypes.${s}`;r[o]=i})}return e[cC]!=null&&(r[cC]=e[cC]),e[p9]!=null&&(r[p9]=(0,x.serializeDateTime)(e[p9])),e[z5]!=null&&(r[z5]=(0,x.serializeDateTime)(e[z5])),e[fC]!=null&&(r[fC]=e[fC]),e[$e]!=null&&(r[$e]=e[$e]),e[vC]!=null&&(r[vC]=e[vC]),r},"se_DescribeAlarmHistoryInput"),eer=w((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[Ge]!=null&&(r[Ge]=e[Ge]),e[cf]!=null&&(r[cf]=e[cf]),e[Ym]!=null&&(r[Ym]=e[Ym]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return e[Qr]!=null&&(r[Qr]=e[Qr]),e[Wn]!=null&&(r[Wn]=e[Wn]),r},"se_DescribeAlarmsForMetricInput"),ter=w((e,t)=>{let r={};if(e[ul]!=null){let n=dF(e[ul],t);e[ul]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}if(e[A5]!=null&&(r[A5]=e[A5]),e[QE]!=null){let n=fje(e[QE],t);e[QE]?.length===0&&(r.AlarmTypes=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmTypes.${s}`;r[o]=i})}return e[U5]!=null&&(r[U5]=e[U5]),e[c9]!=null&&(r[c9]=e[c9]),e[ia]!=null&&(r[ia]=e[ia]),e[P5]!=null&&(r[P5]=e[P5]),e[fC]!=null&&(r[fC]=e[fC]),e[$e]!=null&&(r[$e]=e[$e]),r},"se_DescribeAlarmsInput"),rer=w((e,t)=>{let r={};if(e[$e]!=null&&(r[$e]=e[$e]),e[pl]!=null&&(r[pl]=e[pl]),e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[x5]!=null){let n=HZt(e[x5],t);e[x5]?.length===0&&(r.AnomalyDetectorTypes=[]),Object.entries(n).forEach(([s,i])=>{let o=`AnomalyDetectorTypes.${s}`;r[o]=i})}return r},"se_DescribeAnomalyDetectorsInput"),ner=w((e,t)=>{let r={};return e[$e]!=null&&(r[$e]=e[$e]),e[pl]!=null&&(r[pl]=e[pl]),r},"se_DescribeInsightRulesInput"),ser=w((e,t)=>{let r={};return e[Yr]!=null&&(r[Yr]=e[Yr]),e[Ds]!=null&&(r[Ds]=e[Ds]),r},"se_Dimension"),ier=w((e,t)=>{let r={};return e[Yr]!=null&&(r[Yr]=e[Yr]),e[Ds]!=null&&(r[Ds]=e[Ds]),r},"se_DimensionFilter"),oer=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ier(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_DimensionFilters"),df=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ser(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_Dimensions"),aer=w((e,t)=>{let r={};if(e[ul]!=null){let n=dF(e[ul],t);e[ul]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}return r},"se_DisableAlarmActionsInput"),cer=w((e,t)=>{let r={};if(e[rf]!=null){let n=w9(e[rf],t);e[rf]?.length===0&&(r.RuleNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`RuleNames.${s}`;r[o]=i})}return r},"se_DisableInsightRulesInput"),ler=w((e,t)=>{let r={};if(e[ul]!=null){let n=dF(e[ul],t);e[ul]?.length===0&&(r.AlarmNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmNames.${s}`;r[o]=i})}return r},"se_EnableAlarmActionsInput"),der=w((e,t)=>{let r={};if(e[rf]!=null){let n=w9(e[rf],t);e[rf]?.length===0&&(r.RuleNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`RuleNames.${s}`;r[o]=i})}return r},"se_EnableInsightRulesInput"),uer=w((e,t)=>{let r={};if(e[kqe]!=null){let n=fer(e[kqe],t);Object.entries(n).forEach(([s,i])=>{let o=`KeyAttributes.${s}`;r[o]=i})}if(e[Nqe]!=null){let n=mer(e[Nqe],t);Object.entries(n).forEach(([s,i])=>{let o=`Attributes.${s}`;r[o]=i})}return r},"se_Entity"),mer=w((e,t)=>{let r={},n=1;return Object.keys(e).filter(s=>e[s]!=null).forEach(s=>{r[`entry.${n}.key`]=s,r[`entry.${n}.value`]=e[s],n++}),r},"se_EntityAttributesMap"),fer=w((e,t)=>{let r={},n=1;return Object.keys(e).filter(s=>e[s]!=null).forEach(s=>{r[`entry.${n}.key`]=s,r[`entry.${n}.value`]=e[s],n++}),r},"se_EntityKeyAttributesMap"),per=w((e,t)=>{let r={};if(e[Dqe]!=null){let n=uer(e[Dqe],t);Object.entries(n).forEach(([s,i])=>{let o=`Entity.${s}`;r[o]=i})}if(e[mC]!=null){let n=pje(e[mC],t);e[mC]?.length===0&&(r.MetricData=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricData.${s}`;r[o]=i})}return r},"se_EntityMetricData"),ger=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=per(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_EntityMetricDataList"),her=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_ExtendedStatistics"),yer=w((e,t)=>{let r={};return e[ml]!=null&&(r[ml]=e[ml]),r},"se_GetDashboardInput"),_er=w((e,t)=>{let r={};if(e[nf]!=null&&(r[nf]=e[nf]),e[sa]!=null&&(r[sa]=(0,x.serializeDateTime)(e[sa])),e[na]!=null&&(r[na]=(0,x.serializeDateTime)(e[na])),e[Qr]!=null&&(r[Qr]=e[Qr]),e[e9]!=null&&(r[e9]=e[e9]),e[_o]!=null){let n=ber(e[_o],t);e[_o]?.length===0&&(r.Metrics=[]),Object.entries(n).forEach(([s,i])=>{let o=`Metrics.${s}`;r[o]=i})}return e[a9]!=null&&(r[a9]=e[a9]),r},"se_GetInsightRuleReportInput"),Ser=w((e,t)=>{let r={};if(e[vd]!=null){let n=x9(e[vd],t);e[vd]?.length===0&&(r.MetricDataQueries=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricDataQueries.${s}`;r[o]=i})}if(e[sa]!=null&&(r[sa]=(0,x.serializeDateTime)(e[sa])),e[na]!=null&&(r[na]=(0,x.serializeDateTime)(e[na])),e[$e]!=null&&(r[$e]=e[$e]),e[vC]!=null&&(r[vC]=e[vC]),e[r9]!=null&&(r[r9]=e[r9]),e[Mqe]!=null){let n=wer(e[Mqe],t);Object.entries(n).forEach(([s,i])=>{let o=`LabelOptions.${s}`;r[o]=i})}return r},"se_GetMetricDataInput"),ver=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[sa]!=null&&(r[sa]=(0,x.serializeDateTime)(e[sa])),e[na]!=null&&(r[na]=(0,x.serializeDateTime)(e[na])),e[Qr]!=null&&(r[Qr]=e[Qr]),e[S9]!=null){let n=ttr(e[S9],t);e[S9]?.length===0&&(r.Statistics=[]),Object.entries(n).forEach(([s,i])=>{let o=`Statistics.${s}`;r[o]=i})}if(e[fg]!=null){let n=her(e[fg],t);e[fg]?.length===0&&(r.ExtendedStatistics=[]),Object.entries(n).forEach(([s,i])=>{let o=`ExtendedStatistics.${s}`;r[o]=i})}return e[Wn]!=null&&(r[Wn]=e[Wn]),r},"se_GetMetricStatisticsInput"),Eer=w((e,t)=>{let r={};return e[Yr]!=null&&(r[Yr]=e[Yr]),r},"se_GetMetricStreamInput"),Cer=w((e,t)=>{let r={};return e[s9]!=null&&(r[s9]=e[s9]),e[gl]!=null&&(r[gl]=e[gl]),r},"se_GetMetricWidgetImageInput"),ber=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_InsightRuleMetricList"),w9=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_InsightRuleNames"),wer=w((e,t)=>{let r={};return e[v9]!=null&&(r[v9]=e[v9]),r},"se_LabelOptions"),xer=w((e,t)=>{let r={};return e[q5]!=null&&(r[q5]=e[q5]),e[$e]!=null&&(r[$e]=e[$e]),r},"se_ListDashboardsInput"),Aer=w((e,t)=>{let r={};return e[wi]!=null&&(r[wi]=e[wi]),e[$e]!=null&&(r[$e]=e[$e]),e[pl]!=null&&(r[pl]=e[pl]),r},"se_ListManagedInsightRulesInput"),Per=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=oer(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return e[$e]!=null&&(r[$e]=e[$e]),e[l9]!=null&&(r[l9]=e[l9]),e[Q5]!=null&&(r[Q5]=e[Q5]),e[o9]!=null&&(r[o9]=e[o9]),r},"se_ListMetricsInput"),Rer=w((e,t)=>{let r={};return e[$e]!=null&&(r[$e]=e[$e]),e[pl]!=null&&(r[pl]=e[pl]),r},"se_ListMetricStreamsInput"),Ier=w((e,t)=>{let r={};return e[wi]!=null&&(r[wi]=e[wi]),r},"se_ListTagsForResourceInput"),Ter=w((e,t)=>{let r={};if(e[wC]!=null&&(r[wC]=e[wC]),e[wi]!=null&&(r[wi]=e[wi]),e[us]!=null){let n=PC(e[us],t);e[us]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},"se_ManagedRule"),Oer=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Ter(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_ManagedRules"),Ner=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return r},"se_Metric"),Der=w((e,t)=>{let r={};return e[hC]!=null&&(r[hC]=e[hC]),r},"se_MetricCharacteristics"),pje=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Mer(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricData"),x9=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ker(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricDataQueries"),ker=w((e,t)=>{let r={};if(e[Zm]!=null&&(r[Zm]=e[Zm]),e[gR]!=null){let n=Ler(e[gR],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricStat.${s}`;r[o]=i})}return e[aC]!=null&&(r[aC]=e[aC]),e[fl]!=null&&(r[fl]=e[fl]),e[_C]!=null&&(r[_C]=e[_C]),e[Qr]!=null&&(r[Qr]=e[Qr]),e[dl]!=null&&(r[dl]=e[dl]),r},"se_MetricDataQuery"),Mer=w((e,t)=>{let r={};if(e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[oa]!=null&&(r[oa]=(0,x.serializeDateTime)(e[oa])),e[Ds]!=null&&(r[Ds]=(0,x.serializeFloat)(e[Ds])),e[Lqe]!=null){let n=rtr(e[Lqe],t);Object.entries(n).forEach(([s,i])=>{let o=`StatisticValues.${s}`;r[o]=i})}if(e[vg]!=null){let n=ctr(e[vg],t);e[vg]?.length===0&&(r.Values=[]),Object.entries(n).forEach(([s,i])=>{let o=`Values.${s}`;r[o]=i})}if(e[M5]!=null){let n=GZt(e[M5],t);e[M5]?.length===0&&(r.Counts=[]),Object.entries(n).forEach(([s,i])=>{let o=`Counts.${s}`;r[o]=i})}return e[Wn]!=null&&(r[Wn]=e[Wn]),e[h9]!=null&&(r[h9]=e[h9]),r},"se_MetricDatum"),gje=w((e,t)=>{let r={};if(e[vd]!=null){let n=x9(e[vd],t);e[vd]?.length===0&&(r.MetricDataQueries=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricDataQueries.${s}`;r[o]=i})}return r},"se_MetricMathAnomalyDetector"),Ler=w((e,t)=>{let r={};if(e[hR]!=null){let n=Ner(e[hR],t);Object.entries(n).forEach(([s,i])=>{let o=`Metric.${s}`;r[o]=i})}return e[Qr]!=null&&(r[Qr]=e[Qr]),e[Ns]!=null&&(r[Ns]=e[Ns]),e[Wn]!=null&&(r[Wn]=e[Wn]),r},"se_MetricStat"),Uer=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[yg]!=null){let n=Ber(e[yg],t);e[yg]?.length===0&&(r.MetricNames=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricNames.${s}`;r[o]=i})}return r},"se_MetricStreamFilter"),Ber=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_MetricStreamFilterMetricNames"),Tqe=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Uer(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricStreamFilters"),hje=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_MetricStreamNames"),Fer=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_MetricStreamStatisticsAdditionalStatistics"),qer=w((e,t)=>{let r={};if(e[hg]!=null){let n=$er(e[hg],t);e[hg]?.length===0&&(r.IncludeMetrics=[]),Object.entries(n).forEach(([s,i])=>{let o=`IncludeMetrics.${s}`;r[o]=i})}if(e[ug]!=null){let n=Fer(e[ug],t);e[ug]?.length===0&&(r.AdditionalStatistics=[]),Object.entries(n).forEach(([s,i])=>{let o=`AdditionalStatistics.${s}`;r[o]=i})}return r},"se_MetricStreamStatisticsConfiguration"),jer=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=qer(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricStreamStatisticsConfigurations"),$er=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=zer(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MetricStreamStatisticsIncludeMetrics"),zer=w((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),r},"se_MetricStreamStatisticsMetric"),Her=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[Ns]!=null&&(r[Ns]=e[Ns]),e[fR]!=null){let n=$Zt(e[fR],t);Object.entries(n).forEach(([s,i])=>{let o=`Configuration.${s}`;r[o]=i})}if(e[pR]!=null){let n=Der(e[pR],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricCharacteristics.${s}`;r[o]=i})}if(e[qy]!=null){let n=yje(e[qy],t);Object.entries(n).forEach(([s,i])=>{let o=`SingleMetricAnomalyDetector.${s}`;r[o]=i})}if(e[Fy]!=null){let n=gje(e[Fy],t);Object.entries(n).forEach(([s,i])=>{let o=`MetricMathAnomalyDetector.${s}`;r[o]=i})}return r},"se_PutAnomalyDetectorInput"),Ger=w((e,t)=>{let r={};if(e[ll]!=null&&(r[ll]=e[ll]),e[ho]!=null){let n=$E(e[ho],t);e[ho]?.length===0&&(r.AlarmActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmActions.${s}`;r[o]=i})}if(e[cl]!=null&&(r[cl]=e[cl]),e[Vn]!=null&&(r[Vn]=e[Vn]),e[KE]!=null&&(r[KE]=e[KE]),e[yo]!=null){let n=$E(e[yo],t);e[yo]?.length===0&&(r.InsufficientDataActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`InsufficientDataActions.${s}`;r[o]=i})}if(e[So]!=null){let n=$E(e[So],t);e[So]?.length===0&&(r.OKActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`OKActions.${s}`;r[o]=i})}if(e[us]!=null){let n=PC(e[us],t);e[us]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return e[YE]!=null&&(r[YE]=e[YE]),e[JE]!=null&&(r[JE]=e[JE]),e[XE]!=null&&(r[XE]=e[XE]),r},"se_PutCompositeAlarmInput"),Ver=w((e,t)=>{let r={};return e[ml]!=null&&(r[ml]=e[ml]),e[nC]!=null&&(r[nC]=e[nC]),r},"se_PutDashboardInput"),Wer=w((e,t)=>{let r={};if(e[nf]!=null&&(r[nf]=e[nf]),e[SC]!=null&&(r[SC]=e[SC]),e[d9]!=null&&(r[d9]=e[d9]),e[us]!=null){let n=PC(e[us],t);e[us]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return e[WE]!=null&&(r[WE]=e[WE]),r},"se_PutInsightRuleInput"),Ker=w((e,t)=>{let r={};if(e[_g]!=null){let n=Oer(e[_g],t);e[_g]?.length===0&&(r.ManagedRules=[]),Object.entries(n).forEach(([s,i])=>{let o=`ManagedRules.${s}`;r[o]=i})}return r},"se_PutManagedInsightRulesInput"),Xer=w((e,t)=>{let r={};if(e[Vn]!=null&&(r[Vn]=e[Vn]),e[cl]!=null&&(r[cl]=e[cl]),e[ll]!=null&&(r[ll]=e[ll]),e[So]!=null){let n=$E(e[So],t);e[So]?.length===0&&(r.OKActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`OKActions.${s}`;r[o]=i})}if(e[ho]!=null){let n=$E(e[ho],t);e[ho]?.length===0&&(r.AlarmActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`AlarmActions.${s}`;r[o]=i})}if(e[yo]!=null){let n=$E(e[yo],t);e[yo]?.length===0&&(r.InsufficientDataActions=[]),Object.entries(n).forEach(([s,i])=>{let o=`InsufficientDataActions.${s}`;r[o]=i})}if(e[et]!=null&&(r[et]=e[et]),e[Ge]!=null&&(r[Ge]=e[Ge]),e[cf]!=null&&(r[cf]=e[cf]),e[Ym]!=null&&(r[Ym]=e[Ym]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}if(e[Qr]!=null&&(r[Qr]=e[Qr]),e[Wn]!=null&&(r[Wn]=e[Wn]),e[oC]!=null&&(r[oC]=e[oC]),e[sC]!=null&&(r[sC]=e[sC]),e[xC]!=null&&(r[xC]=(0,x.serializeFloat)(e[xC])),e[tC]!=null&&(r[tC]=e[tC]),e[CC]!=null&&(r[CC]=e[CC]),e[iC]!=null&&(r[iC]=e[iC]),e[_o]!=null){let n=x9(e[_o],t);e[_o]?.length===0&&(r.Metrics=[]),Object.entries(n).forEach(([s,i])=>{let o=`Metrics.${s}`;r[o]=i})}if(e[us]!=null){let n=PC(e[us],t);e[us]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return e[bC]!=null&&(r[bC]=e[bC]),r},"se_PutMetricAlarmInput"),Jer=w((e,t)=>{let r={};if(e[Ge]!=null&&(r[Ge]=e[Ge]),e[mC]!=null){let n=pje(e[mC],t);e[mC]?.length===0&&(r.MetricData=[]),Object.entries(n).forEach(([s,i])=>{let o=`MetricData.${s}`;r[o]=i})}if(e[H5]!=null){let n=ger(e[H5],t);e[H5]?.length===0&&(r.EntityMetricData=[]),Object.entries(n).forEach(([s,i])=>{let o=`EntityMetricData.${s}`;r[o]=i})}return e[g9]!=null&&(r[g9]=e[g9]),r},"se_PutMetricDataInput"),Yer=w((e,t)=>{let r={};if(e[Yr]!=null&&(r[Yr]=e[Yr]),e[gg]!=null){let n=Tqe(e[gg],t);e[gg]?.length===0&&(r.IncludeFilters=[]),Object.entries(n).forEach(([s,i])=>{let o=`IncludeFilters.${s}`;r[o]=i})}if(e[mg]!=null){let n=Tqe(e[mg],t);e[mg]?.length===0&&(r.ExcludeFilters=[]),Object.entries(n).forEach(([s,i])=>{let o=`ExcludeFilters.${s}`;r[o]=i})}if(e[Qm]!=null&&(r[Qm]=e[Qm]),e[yC]!=null&&(r[yC]=e[yC]),e[gl]!=null&&(r[gl]=e[gl]),e[us]!=null){let n=PC(e[us],t);e[us]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[Sg]!=null){let n=jer(e[Sg],t);e[Sg]?.length===0&&(r.StatisticsConfigurations=[]),Object.entries(n).forEach(([s,i])=>{let o=`StatisticsConfigurations.${s}`;r[o]=i})}return e[lC]!=null&&(r[lC]=e[lC]),r},"se_PutMetricStreamInput"),Qer=w((e,t)=>{let r={};return e[sa]!=null&&(r[sa]=(0,x.serializeDateTime)(e[sa])),e[na]!=null&&(r[na]=(0,x.serializeDateTime)(e[na])),r},"se_Range"),$E=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_ResourceList"),Zer=w((e,t)=>{let r={};return e[Vn]!=null&&(r[Vn]=e[Vn]),e[ia]!=null&&(r[ia]=e[ia]),e[hl]!=null&&(r[hl]=e[hl]),e[of]!=null&&(r[of]=e[of]),r},"se_SetAlarmStateInput"),yje=w((e,t)=>{let r={};if(e[dl]!=null&&(r[dl]=e[dl]),e[Ge]!=null&&(r[Ge]=e[Ge]),e[et]!=null&&(r[et]=e[et]),e[Qe]!=null){let n=df(e[Qe],t);e[Qe]?.length===0&&(r.Dimensions=[]),Object.entries(n).forEach(([s,i])=>{let o=`Dimensions.${s}`;r[o]=i})}return e[Ns]!=null&&(r[Ns]=e[Ns]),r},"se_SingleMetricAnomalyDetector"),etr=w((e,t)=>{let r={};if(e[gC]!=null){let n=hje(e[gC],t);e[gC]?.length===0&&(r.Names=[]),Object.entries(n).forEach(([s,i])=>{let o=`Names.${s}`;r[o]=i})}return r},"se_StartMetricStreamsInput"),ttr=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_Statistics"),rtr=w((e,t)=>{let r={};return e[sf]!=null&&(r[sf]=(0,x.serializeFloat)(e[sf])),e[lf]!=null&&(r[lf]=(0,x.serializeFloat)(e[lf])),e[tf]!=null&&(r[tf]=(0,x.serializeFloat)(e[tf])),e[ef]!=null&&(r[ef]=(0,x.serializeFloat)(e[ef])),r},"se_StatisticSet"),ntr=w((e,t)=>{let r={};if(e[gC]!=null){let n=hje(e[gC],t);e[gC]?.length===0&&(r.Names=[]),Object.entries(n).forEach(([s,i])=>{let o=`Names.${s}`;r[o]=i})}return r},"se_StopMetricStreamsInput"),str=w((e,t)=>{let r={};return e[dC]!=null&&(r[dC]=e[dC]),e[Ds]!=null&&(r[Ds]=e[Ds]),r},"se_Tag"),itr=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},"se_TagKeyList"),PC=w((e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=str(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_TagList"),otr=w((e,t)=>{let r={};if(e[wi]!=null&&(r[wi]=e[wi]),e[us]!=null){let n=PC(e[us],t);e[us]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},"se_TagResourceInput"),atr=w((e,t)=>{let r={};if(e[wi]!=null&&(r[wi]=e[wi]),e[E9]!=null){let n=itr(e[E9],t);e[E9]?.length===0&&(r.TagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TagKeys.${s}`;r[o]=i})}return r},"se_UntagResourceInput"),ctr=w((e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=(0,x.serializeFloat)(s),n++);return r},"se_Values"),ltr=w((e,t)=>{let r={};return e[L5]!=null&&(r[L5]=(0,x.expectString)(e[L5])),e.ContributorAttributes===""?r[ZP]={}:e[ZP]!=null&&e[ZP][AC]!=null&&(r[ZP]=_je((0,x.getArrayIfSingleItem)(e[ZP][AC]),t)),e[hl]!=null&&(r[hl]=(0,x.expectString)(e[hl])),e[af]!=null&&(r[af]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[af]))),r},"de_AlarmContributor"),dtr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ltr(r,t)),"de_AlarmContributors"),utr=w((e,t)=>{let r={};return e[Vn]!=null&&(r[Vn]=(0,x.expectString)(e[Vn])),e[GE]!=null&&(r[GE]=(0,x.expectString)(e[GE])),e[O5]!=null&&(r[O5]=(0,x.expectString)(e[O5])),e[oa]!=null&&(r[oa]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[oa]))),e[cC]!=null&&(r[cC]=(0,x.expectString)(e[cC])),e[Y5]!=null&&(r[Y5]=(0,x.expectString)(e[Y5])),e[J5]!=null&&(r[J5]=(0,x.expectString)(e[J5])),e.AlarmContributorAttributes===""?r[JP]={}:e[JP]!=null&&e[JP][AC]!=null&&(r[JP]=_je((0,x.getArrayIfSingleItem)(e[JP][AC]),t)),r},"de_AlarmHistoryItem"),mtr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>utr(r,t)),"de_AlarmHistoryItems"),ftr=w((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),e[et]!=null&&(r[et]=(0,x.expectString)(e[et])),e.Dimensions===""?r[Qe]=[]:e[Qe]!=null&&e[Qe][ue]!=null&&(r[Qe]=mF((0,x.getArrayIfSingleItem)(e[Qe][ue]),t)),e[Ns]!=null&&(r[Ns]=(0,x.expectString)(e[Ns])),e[fR]!=null&&(r[fR]=ptr(e[fR],t)),e[ia]!=null&&(r[ia]=(0,x.expectString)(e[ia])),e[pR]!=null&&(r[pR]=Err(e[pR],t)),e[qy]!=null&&(r[qy]=Krr(e[qy],t)),e[Fy]!=null&&(r[Fy]=xrr(e[Fy],t)),r},"de_AnomalyDetector"),ptr=w((e,t)=>{let r={};return e.ExcludedTimeRanges===""?r[pg]=[]:e[pg]!=null&&e[pg][ue]!=null&&(r[pg]=gtr((0,x.getArrayIfSingleItem)(e[pg][ue]),t)),e[pC]!=null&&(r[pC]=(0,x.expectString)(e[pC])),r},"de_AnomalyDetectorConfiguration"),gtr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Grr(r,t)),"de_AnomalyDetectorExcludedTimeRanges"),htr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ftr(r,t)),"de_AnomalyDetectors"),uF=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Frr(r,t)),"de_BatchFailures"),ytr=w((e,t)=>{let r={};return e[ll]!=null&&(r[ll]=(0,x.parseBoolean)(e[ll])),e.AlarmActions===""?r[ho]=[]:e[ho]!=null&&e[ho][ue]!=null&&(r[ho]=zE((0,x.getArrayIfSingleItem)(e[ho][ue]),t)),e[HE]!=null&&(r[HE]=(0,x.expectString)(e[HE])),e[VE]!=null&&(r[VE]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[VE]))),e[cl]!=null&&(r[cl]=(0,x.expectString)(e[cl])),e[Vn]!=null&&(r[Vn]=(0,x.expectString)(e[Vn])),e[KE]!=null&&(r[KE]=(0,x.expectString)(e[KE])),e.InsufficientDataActions===""?r[yo]=[]:e[yo]!=null&&e[yo][ue]!=null&&(r[yo]=zE((0,x.getArrayIfSingleItem)(e[yo][ue]),t)),e.OKActions===""?r[So]=[]:e[So]!=null&&e[So][ue]!=null&&(r[So]=zE((0,x.getArrayIfSingleItem)(e[So][ue]),t)),e[hl]!=null&&(r[hl]=(0,x.expectString)(e[hl])),e[of]!=null&&(r[of]=(0,x.expectString)(e[of])),e[EC]!=null&&(r[EC]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[EC]))),e[ia]!=null&&(r[ia]=(0,x.expectString)(e[ia])),e[af]!=null&&(r[af]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[af]))),e[R5]!=null&&(r[R5]=(0,x.expectString)(e[R5])),e[I5]!=null&&(r[I5]=(0,x.expectString)(e[I5])),e[YE]!=null&&(r[YE]=(0,x.expectString)(e[YE])),e[JE]!=null&&(r[JE]=(0,x.strictParseInt32)(e[JE])),e[XE]!=null&&(r[XE]=(0,x.strictParseInt32)(e[XE])),r},"de_CompositeAlarm"),_tr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ytr(r,t)),"de_CompositeAlarms"),Str=w((e,t)=>{let r={};return e[bi]!=null&&(r[bi]=(0,x.expectString)(e[bi])),r},"de_ConcurrentModificationException"),vtr=w((e,t)=>{let r={};return e[bi]!=null&&(r[bi]=(0,x.expectString)(e[bi])),r},"de_ConflictException"),_je=w((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,x.expectString)(n.value)),r),{}),"de_ContributorAttributes"),Etr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ctr(r,t)),"de_DashboardEntries"),Ctr=w((e,t)=>{let r={};return e[ml]!=null&&(r[ml]=(0,x.expectString)(e[ml])),e[rC]!=null&&(r[rC]=(0,x.expectString)(e[rC])),e[Z5]!=null&&(r[Z5]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[Z5]))),e[_9]!=null&&(r[_9]=(0,x.strictParseLong)(e[_9])),r},"de_DashboardEntry"),btr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),e.dashboardValidationMessages===""?r[mR]=[]:e[mR]!=null&&e[mR][ue]!=null&&(r[mR]=Sje((0,x.getArrayIfSingleItem)(e[mR][ue]),t)),r},"de_DashboardInvalidInputError"),wtr=w((e,t)=>{let r={};return e[j5]!=null&&(r[j5]=(0,x.expectString)(e[j5])),e[bi]!=null&&(r[bi]=(0,x.expectString)(e[bi])),r},"de_DashboardValidationMessage"),Sje=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>wtr(r,t)),"de_DashboardValidationMessages"),xtr=w((e,t)=>{let r={};return e[oa]!=null&&(r[oa]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[oa]))),e[sf]!=null&&(r[sf]=(0,x.strictParseFloat)(e[sf])),e[ZE]!=null&&(r[ZE]=(0,x.strictParseFloat)(e[ZE])),e[lf]!=null&&(r[lf]=(0,x.strictParseFloat)(e[lf])),e[tf]!=null&&(r[tf]=(0,x.strictParseFloat)(e[tf])),e[ef]!=null&&(r[ef]=(0,x.strictParseFloat)(e[ef])),e[Wn]!=null&&(r[Wn]=(0,x.expectString)(e[Wn])),e.ExtendedStatistics===""?r[fg]={}:e[fg]!=null&&e[fg][AC]!=null&&(r[fg]=Ptr((0,x.getArrayIfSingleItem)(e[fg][AC]),t)),r},"de_Datapoint"),Atr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>xtr(r,t)),"de_Datapoints"),Ptr=w((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,x.strictParseFloat)(n.value)),r),{}),"de_DatapointValueMap"),Rtr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.strictParseFloat)(r)),"de_DatapointValues"),Itr=w((e,t)=>({}),"de_DeleteAnomalyDetectorOutput"),Ttr=w((e,t)=>({}),"de_DeleteDashboardsOutput"),Otr=w((e,t)=>{let r={};return e.Failures===""?r[Ws]=[]:e[Ws]!=null&&e[Ws][ue]!=null&&(r[Ws]=uF((0,x.getArrayIfSingleItem)(e[Ws][ue]),t)),r},"de_DeleteInsightRulesOutput"),Ntr=w((e,t)=>({}),"de_DeleteMetricStreamOutput"),Dtr=w((e,t)=>{let r={};return e.AlarmContributors===""?r[XP]=[]:e[XP]!=null&&e[XP][ue]!=null&&(r[XP]=dtr((0,x.getArrayIfSingleItem)(e[XP][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),r},"de_DescribeAlarmContributorsOutput"),ktr=w((e,t)=>{let r={};return e.AlarmHistoryItems===""?r[QP]=[]:e[QP]!=null&&e[QP][ue]!=null&&(r[QP]=mtr((0,x.getArrayIfSingleItem)(e[QP][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),r},"de_DescribeAlarmHistoryOutput"),Mtr=w((e,t)=>{let r={};return e.MetricAlarms===""?r[Su]=[]:e[Su]!=null&&e[Su][ue]!=null&&(r[Su]=Eje((0,x.getArrayIfSingleItem)(e[Su][ue]),t)),r},"de_DescribeAlarmsForMetricOutput"),Ltr=w((e,t)=>{let r={};return e.CompositeAlarms===""?r[eR]=[]:e[eR]!=null&&e[eR][ue]!=null&&(r[eR]=_tr((0,x.getArrayIfSingleItem)(e[eR][ue]),t)),e.MetricAlarms===""?r[Su]=[]:e[Su]!=null&&e[Su][ue]!=null&&(r[Su]=Eje((0,x.getArrayIfSingleItem)(e[Su][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),r},"de_DescribeAlarmsOutput"),Utr=w((e,t)=>{let r={};return e.AnomalyDetectors===""?r[YP]=[]:e[YP]!=null&&e[YP][ue]!=null&&(r[YP]=htr((0,x.getArrayIfSingleItem)(e[YP][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),r},"de_DescribeAnomalyDetectorsOutput"),Btr=w((e,t)=>{let r={};return e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),e.InsightRules===""?r[iR]=[]:e[iR]!=null&&e[iR][ue]!=null&&(r[iR]=nrr((0,x.getArrayIfSingleItem)(e[iR][ue]),t)),r},"de_DescribeInsightRulesOutput"),Ftr=w((e,t)=>{let r={};return e[Yr]!=null&&(r[Yr]=(0,x.expectString)(e[Yr])),e[Ds]!=null&&(r[Ds]=(0,x.expectString)(e[Ds])),r},"de_Dimension"),mF=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ftr(r,t)),"de_Dimensions"),qtr=w((e,t)=>{let r={};return e.Failures===""?r[Ws]=[]:e[Ws]!=null&&e[Ws][ue]!=null&&(r[Ws]=uF((0,x.getArrayIfSingleItem)(e[Ws][ue]),t)),r},"de_DisableInsightRulesOutput"),jtr=w((e,t)=>{let r={};return e.Failures===""?r[Ws]=[]:e[Ws]!=null&&e[Ws][ue]!=null&&(r[Ws]=uF((0,x.getArrayIfSingleItem)(e[Ws][ue]),t)),r},"de_EnableInsightRulesOutput"),$tr=w((e,t)=>{let r={};return e[rC]!=null&&(r[rC]=(0,x.expectString)(e[rC])),e[nC]!=null&&(r[nC]=(0,x.expectString)(e[nC])),e[ml]!=null&&(r[ml]=(0,x.expectString)(e[ml])),r},"de_GetDashboardOutput"),ztr=w((e,t)=>{let r={};return e.KeyLabels===""?r[oR]=[]:e[oR]!=null&&e[oR][ue]!=null&&(r[oR]=Qtr((0,x.getArrayIfSingleItem)(e[oR][ue]),t)),e[T5]!=null&&(r[T5]=(0,x.expectString)(e[T5])),e[D5]!=null&&(r[D5]=(0,x.strictParseFloat)(e[D5])),e[N5]!=null&&(r[N5]=(0,x.strictParseLong)(e[N5])),e.Contributors===""?r[tR]=[]:e[tR]!=null&&e[tR][ue]!=null&&(r[tR]=err((0,x.getArrayIfSingleItem)(e[tR][ue]),t)),e.MetricDatapoints===""?r[lR]=[]:e[lR]!=null&&e[lR][ue]!=null&&(r[lR]=rrr((0,x.getArrayIfSingleItem)(e[lR][ue]),t)),r},"de_GetInsightRuleReportOutput"),Htr=w((e,t)=>{let r={};return e.MetricDataResults===""?r[cR]=[]:e[cR]!=null&&e[cR][ue]!=null&&(r[cR]=wrr((0,x.getArrayIfSingleItem)(e[cR][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),e.Messages===""?r[vu]=[]:e[vu]!=null&&e[vu][ue]!=null&&(r[vu]=bje((0,x.getArrayIfSingleItem)(e[vu][ue]),t)),r},"de_GetMetricDataOutput"),Gtr=w((e,t)=>{let r={};return e[fl]!=null&&(r[fl]=(0,x.expectString)(e[fl])),e.Datapoints===""?r[_u]=[]:e[_u]!=null&&e[_u][ue]!=null&&(r[_u]=Atr((0,x.getArrayIfSingleItem)(e[_u][ue]),t)),r},"de_GetMetricStatisticsOutput"),Vtr=w((e,t)=>{let r={};return e[Jm]!=null&&(r[Jm]=(0,x.expectString)(e[Jm])),e[Yr]!=null&&(r[Yr]=(0,x.expectString)(e[Yr])),e.IncludeFilters===""?r[gg]=[]:e[gg]!=null&&e[gg][ue]!=null&&(r[gg]=Oqe((0,x.getArrayIfSingleItem)(e[gg][ue]),t)),e.ExcludeFilters===""?r[mg]=[]:e[mg]!=null&&e[mg][ue]!=null&&(r[mg]=Oqe((0,x.getArrayIfSingleItem)(e[mg][ue]),t)),e[Qm]!=null&&(r[Qm]=(0,x.expectString)(e[Qm])),e[yC]!=null&&(r[yC]=(0,x.expectString)(e[yC])),e[yl]!=null&&(r[yl]=(0,x.expectString)(e[yl])),e[eC]!=null&&(r[eC]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[eC]))),e[uC]!=null&&(r[uC]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[uC]))),e[gl]!=null&&(r[gl]=(0,x.expectString)(e[gl])),e.StatisticsConfigurations===""?r[Sg]=[]:e[Sg]!=null&&e[Sg][ue]!=null&&(r[Sg]=krr((0,x.getArrayIfSingleItem)(e[Sg][ue]),t)),e[lC]!=null&&(r[lC]=(0,x.parseBoolean)(e[lC])),r},"de_GetMetricStreamOutput"),Wtr=w((e,t)=>{let r={};return e[i9]!=null&&(r[i9]=t.base64Decoder(e[i9])),r},"de_GetMetricWidgetImageOutput"),Ktr=w((e,t)=>{let r={};return e[Yr]!=null&&(r[Yr]=(0,x.expectString)(e[Yr])),e[yl]!=null&&(r[yl]=(0,x.expectString)(e[yl])),e[y9]!=null&&(r[y9]=(0,x.expectString)(e[y9])),e[$5]!=null&&(r[$5]=(0,x.expectString)(e[$5])),e[n9]!=null&&(r[n9]=(0,x.parseBoolean)(e[n9])),e[WE]!=null&&(r[WE]=(0,x.parseBoolean)(e[WE])),r},"de_InsightRule"),Xtr=w((e,t)=>{let r={};return e.Keys===""?r[aR]=[]:e[aR]!=null&&e[aR][ue]!=null&&(r[aR]=Ztr((0,x.getArrayIfSingleItem)(e[aR][ue]),t)),e[w5]!=null&&(r[w5]=(0,x.strictParseFloat)(e[w5])),e.Datapoints===""?r[_u]=[]:e[_u]!=null&&e[_u][ue]!=null&&(r[_u]=Ytr((0,x.getArrayIfSingleItem)(e[_u][ue]),t)),r},"de_InsightRuleContributor"),Jtr=w((e,t)=>{let r={};return e[oa]!=null&&(r[oa]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[oa]))),e[k5]!=null&&(r[k5]=(0,x.strictParseFloat)(e[k5])),r},"de_InsightRuleContributorDatapoint"),Ytr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Jtr(r,t)),"de_InsightRuleContributorDatapoints"),Qtr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectString)(r)),"de_InsightRuleContributorKeyLabels"),Ztr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectString)(r)),"de_InsightRuleContributorKeys"),err=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Xtr(r,t)),"de_InsightRuleContributors"),trr=w((e,t)=>{let r={};return e[oa]!=null&&(r[oa]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[oa]))),e[C9]!=null&&(r[C9]=(0,x.strictParseFloat)(e[C9])),e[t9]!=null&&(r[t9]=(0,x.strictParseFloat)(e[t9])),e[sf]!=null&&(r[sf]=(0,x.strictParseFloat)(e[sf])),e[ZE]!=null&&(r[ZE]=(0,x.strictParseFloat)(e[ZE])),e[lf]!=null&&(r[lf]=(0,x.strictParseFloat)(e[lf])),e[tf]!=null&&(r[tf]=(0,x.strictParseFloat)(e[tf])),e[ef]!=null&&(r[ef]=(0,x.strictParseFloat)(e[ef])),r},"de_InsightRuleMetricDatapoint"),rrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>trr(r,t)),"de_InsightRuleMetricDatapoints"),nrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ktr(r,t)),"de_InsightRules"),srr=w((e,t)=>{let r={};return e[bi]!=null&&(r[bi]=(0,x.expectString)(e[bi])),r},"de_InternalServiceFault"),irr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_InvalidFormatFault"),orr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_InvalidNextToken"),arr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_InvalidParameterCombinationException"),crr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_InvalidParameterValueException"),lrr=w((e,t)=>{let r={};return e[bi]!=null&&(r[bi]=(0,x.expectString)(e[bi])),r},"de_LimitExceededException"),drr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_LimitExceededFault"),urr=w((e,t)=>{let r={};return e.DashboardEntries===""?r[rR]=[]:e[rR]!=null&&e[rR][ue]!=null&&(r[rR]=Etr((0,x.getArrayIfSingleItem)(e[rR][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),r},"de_ListDashboardsOutput"),mrr=w((e,t)=>{let r={};return e.ManagedRules===""?r[_g]=[]:e[_g]!=null&&e[_g][ue]!=null&&(r[_g]=yrr((0,x.getArrayIfSingleItem)(e[_g][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),r},"de_ListManagedInsightRulesOutput"),frr=w((e,t)=>{let r={};return e.Metrics===""?r[_o]=[]:e[_o]!=null&&e[_o][ue]!=null&&(r[_o]=Arr((0,x.getArrayIfSingleItem)(e[_o][ue]),t)),e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),e.OwningAccounts===""?r[dR]=[]:e[dR]!=null&&e[dR][ue]!=null&&(r[dR]=Brr((0,x.getArrayIfSingleItem)(e[dR][ue]),t)),r},"de_ListMetricsOutput"),prr=w((e,t)=>{let r={};return e[$e]!=null&&(r[$e]=(0,x.expectString)(e[$e])),e.Entries===""?r[sR]=[]:e[sR]!=null&&e[sR][ue]!=null&&(r[sR]=Rrr((0,x.getArrayIfSingleItem)(e[sR][ue]),t)),r},"de_ListMetricStreamsOutput"),grr=w((e,t)=>{let r={};return e.Tags===""?r[us]=[]:e[us]!=null&&e[us][ue]!=null&&(r[us]=Qrr((0,x.getArrayIfSingleItem)(e[us][ue]),t)),r},"de_ListTagsForResourceOutput"),hrr=w((e,t)=>{let r={};return e[wC]!=null&&(r[wC]=(0,x.expectString)(e[wC])),e[wi]!=null&&(r[wi]=(0,x.expectString)(e[wi])),e[SC]!=null&&(r[SC]=_rr(e[SC],t)),r},"de_ManagedRuleDescription"),yrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>hrr(r,t)),"de_ManagedRuleDescriptions"),_rr=w((e,t)=>{let r={};return e[nf]!=null&&(r[nf]=(0,x.expectString)(e[nf])),e[yl]!=null&&(r[yl]=(0,x.expectString)(e[yl])),r},"de_ManagedRuleState"),Srr=w((e,t)=>{let r={};return e[B5]!=null&&(r[B5]=(0,x.expectString)(e[B5])),e[Ds]!=null&&(r[Ds]=(0,x.expectString)(e[Ds])),r},"de_MessageData"),vje=w((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),e[et]!=null&&(r[et]=(0,x.expectString)(e[et])),e.Dimensions===""?r[Qe]=[]:e[Qe]!=null&&e[Qe][ue]!=null&&(r[Qe]=mF((0,x.getArrayIfSingleItem)(e[Qe][ue]),t)),r},"de_Metric"),vrr=w((e,t)=>{let r={};return e[Vn]!=null&&(r[Vn]=(0,x.expectString)(e[Vn])),e[HE]!=null&&(r[HE]=(0,x.expectString)(e[HE])),e[cl]!=null&&(r[cl]=(0,x.expectString)(e[cl])),e[VE]!=null&&(r[VE]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[VE]))),e[ll]!=null&&(r[ll]=(0,x.parseBoolean)(e[ll])),e.OKActions===""?r[So]=[]:e[So]!=null&&e[So][ue]!=null&&(r[So]=zE((0,x.getArrayIfSingleItem)(e[So][ue]),t)),e.AlarmActions===""?r[ho]=[]:e[ho]!=null&&e[ho][ue]!=null&&(r[ho]=zE((0,x.getArrayIfSingleItem)(e[ho][ue]),t)),e.InsufficientDataActions===""?r[yo]=[]:e[yo]!=null&&e[yo][ue]!=null&&(r[yo]=zE((0,x.getArrayIfSingleItem)(e[yo][ue]),t)),e[ia]!=null&&(r[ia]=(0,x.expectString)(e[ia])),e[hl]!=null&&(r[hl]=(0,x.expectString)(e[hl])),e[of]!=null&&(r[of]=(0,x.expectString)(e[of])),e[EC]!=null&&(r[EC]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[EC]))),e[et]!=null&&(r[et]=(0,x.expectString)(e[et])),e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),e[cf]!=null&&(r[cf]=(0,x.expectString)(e[cf])),e[Ym]!=null&&(r[Ym]=(0,x.expectString)(e[Ym])),e.Dimensions===""?r[Qe]=[]:e[Qe]!=null&&e[Qe][ue]!=null&&(r[Qe]=mF((0,x.getArrayIfSingleItem)(e[Qe][ue]),t)),e[Qr]!=null&&(r[Qr]=(0,x.strictParseInt32)(e[Qr])),e[Wn]!=null&&(r[Wn]=(0,x.expectString)(e[Wn])),e[oC]!=null&&(r[oC]=(0,x.strictParseInt32)(e[oC])),e[sC]!=null&&(r[sC]=(0,x.strictParseInt32)(e[sC])),e[xC]!=null&&(r[xC]=(0,x.strictParseFloat)(e[xC])),e[tC]!=null&&(r[tC]=(0,x.expectString)(e[tC])),e[CC]!=null&&(r[CC]=(0,x.expectString)(e[CC])),e[iC]!=null&&(r[iC]=(0,x.expectString)(e[iC])),e.Metrics===""?r[_o]=[]:e[_o]!=null&&e[_o][ue]!=null&&(r[_o]=Cje((0,x.getArrayIfSingleItem)(e[_o][ue]),t)),e[bC]!=null&&(r[bC]=(0,x.expectString)(e[bC])),e[G5]!=null&&(r[G5]=(0,x.expectString)(e[G5])),e[af]!=null&&(r[af]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[af]))),r},"de_MetricAlarm"),Eje=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vrr(r,t)),"de_MetricAlarms"),Err=w((e,t)=>{let r={};return e[hC]!=null&&(r[hC]=(0,x.parseBoolean)(e[hC])),r},"de_MetricCharacteristics"),Cje=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Crr(r,t)),"de_MetricDataQueries"),Crr=w((e,t)=>{let r={};return e[Zm]!=null&&(r[Zm]=(0,x.expectString)(e[Zm])),e[gR]!=null&&(r[gR]=Prr(e[gR],t)),e[aC]!=null&&(r[aC]=(0,x.expectString)(e[aC])),e[fl]!=null&&(r[fl]=(0,x.expectString)(e[fl])),e[_C]!=null&&(r[_C]=(0,x.parseBoolean)(e[_C])),e[Qr]!=null&&(r[Qr]=(0,x.strictParseInt32)(e[Qr])),e[dl]!=null&&(r[dl]=(0,x.expectString)(e[dl])),r},"de_MetricDataQuery"),brr=w((e,t)=>{let r={};return e[Zm]!=null&&(r[Zm]=(0,x.expectString)(e[Zm])),e[fl]!=null&&(r[fl]=(0,x.expectString)(e[fl])),e.Timestamps===""?r[uR]=[]:e[uR]!=null&&e[uR][ue]!=null&&(r[uR]=enr((0,x.getArrayIfSingleItem)(e[uR][ue]),t)),e.Values===""?r[vg]=[]:e[vg]!=null&&e[vg][ue]!=null&&(r[vg]=Rtr((0,x.getArrayIfSingleItem)(e[vg][ue]),t)),e[f9]!=null&&(r[f9]=(0,x.expectString)(e[f9])),e.Messages===""?r[vu]=[]:e[vu]!=null&&e[vu][ue]!=null&&(r[vu]=bje((0,x.getArrayIfSingleItem)(e[vu][ue]),t)),r},"de_MetricDataResult"),bje=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Srr(r,t)),"de_MetricDataResultMessages"),wrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>brr(r,t)),"de_MetricDataResults"),xrr=w((e,t)=>{let r={};return e.MetricDataQueries===""?r[vd]=[]:e[vd]!=null&&e[vd][ue]!=null&&(r[vd]=Cje((0,x.getArrayIfSingleItem)(e[vd][ue]),t)),r},"de_MetricMathAnomalyDetector"),Arr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vje(r,t)),"de_Metrics"),Prr=w((e,t)=>{let r={};return e[hR]!=null&&(r[hR]=vje(e[hR],t)),e[Qr]!=null&&(r[Qr]=(0,x.strictParseInt32)(e[Qr])),e[Ns]!=null&&(r[Ns]=(0,x.expectString)(e[Ns])),e[Wn]!=null&&(r[Wn]=(0,x.expectString)(e[Wn])),r},"de_MetricStat"),Rrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Irr(r,t)),"de_MetricStreamEntries"),Irr=w((e,t)=>{let r={};return e[Jm]!=null&&(r[Jm]=(0,x.expectString)(e[Jm])),e[eC]!=null&&(r[eC]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[eC]))),e[uC]!=null&&(r[uC]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[uC]))),e[Yr]!=null&&(r[Yr]=(0,x.expectString)(e[Yr])),e[Qm]!=null&&(r[Qm]=(0,x.expectString)(e[Qm])),e[yl]!=null&&(r[yl]=(0,x.expectString)(e[yl])),e[gl]!=null&&(r[gl]=(0,x.expectString)(e[gl])),r},"de_MetricStreamEntry"),Trr=w((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),e.MetricNames===""?r[yg]=[]:e[yg]!=null&&e[yg][ue]!=null&&(r[yg]=Orr((0,x.getArrayIfSingleItem)(e[yg][ue]),t)),r},"de_MetricStreamFilter"),Orr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectString)(r)),"de_MetricStreamFilterMetricNames"),Oqe=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Trr(r,t)),"de_MetricStreamFilters"),Nrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectString)(r)),"de_MetricStreamStatisticsAdditionalStatistics"),Drr=w((e,t)=>{let r={};return e.IncludeMetrics===""?r[hg]=[]:e[hg]!=null&&e[hg][ue]!=null&&(r[hg]=Mrr((0,x.getArrayIfSingleItem)(e[hg][ue]),t)),e.AdditionalStatistics===""?r[ug]=[]:e[ug]!=null&&e[ug][ue]!=null&&(r[ug]=Nrr((0,x.getArrayIfSingleItem)(e[ug][ue]),t)),r},"de_MetricStreamStatisticsConfiguration"),krr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Drr(r,t)),"de_MetricStreamStatisticsConfigurations"),Mrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Lrr(r,t)),"de_MetricStreamStatisticsIncludeMetrics"),Lrr=w((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),e[et]!=null&&(r[et]=(0,x.expectString)(e[et])),r},"de_MetricStreamStatisticsMetric"),Urr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_MissingRequiredParameterException"),Brr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectString)(r)),"de_OwningAccounts"),Frr=w((e,t)=>{let r={};return e[X5]!=null&&(r[X5]=(0,x.expectString)(e[X5])),e[V5]!=null&&(r[V5]=(0,x.expectString)(e[V5])),e[W5]!=null&&(r[W5]=(0,x.expectString)(e[W5])),e[K5]!=null&&(r[K5]=(0,x.expectString)(e[K5])),r},"de_PartialFailure"),qrr=w((e,t)=>({}),"de_PutAnomalyDetectorOutput"),jrr=w((e,t)=>{let r={};return e.DashboardValidationMessages===""?r[nR]=[]:e[nR]!=null&&e[nR][ue]!=null&&(r[nR]=Sje((0,x.getArrayIfSingleItem)(e[nR][ue]),t)),r},"de_PutDashboardOutput"),$rr=w((e,t)=>({}),"de_PutInsightRuleOutput"),zrr=w((e,t)=>{let r={};return e.Failures===""?r[Ws]=[]:e[Ws]!=null&&e[Ws][ue]!=null&&(r[Ws]=uF((0,x.getArrayIfSingleItem)(e[Ws][ue]),t)),r},"de_PutManagedInsightRulesOutput"),Hrr=w((e,t)=>{let r={};return e[Jm]!=null&&(r[Jm]=(0,x.expectString)(e[Jm])),r},"de_PutMetricStreamOutput"),Grr=w((e,t)=>{let r={};return e[sa]!=null&&(r[sa]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[sa]))),e[na]!=null&&(r[na]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[na]))),r},"de_Range"),zE=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectString)(r)),"de_ResourceList"),Vrr=w((e,t)=>{let r={};return e[Kn]!=null&&(r[Kn]=(0,x.expectString)(e[Kn])),r},"de_ResourceNotFound"),Wrr=w((e,t)=>{let r={};return e[m9]!=null&&(r[m9]=(0,x.expectString)(e[m9])),e[u9]!=null&&(r[u9]=(0,x.expectString)(e[u9])),e[bi]!=null&&(r[bi]=(0,x.expectString)(e[bi])),r},"de_ResourceNotFoundException"),Krr=w((e,t)=>{let r={};return e[dl]!=null&&(r[dl]=(0,x.expectString)(e[dl])),e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),e[et]!=null&&(r[et]=(0,x.expectString)(e[et])),e.Dimensions===""?r[Qe]=[]:e[Qe]!=null&&e[Qe][ue]!=null&&(r[Qe]=mF((0,x.getArrayIfSingleItem)(e[Qe][ue]),t)),e[Ns]!=null&&(r[Ns]=(0,x.expectString)(e[Ns])),r},"de_SingleMetricAnomalyDetector"),Xrr=w((e,t)=>({}),"de_StartMetricStreamsOutput"),Jrr=w((e,t)=>({}),"de_StopMetricStreamsOutput"),Yrr=w((e,t)=>{let r={};return e[dC]!=null&&(r[dC]=(0,x.expectString)(e[dC])),e[Ds]!=null&&(r[Ds]=(0,x.expectString)(e[Ds])),r},"de_Tag"),Qrr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Yrr(r,t)),"de_TagList"),Zrr=w((e,t)=>({}),"de_TagResourceOutput"),enr=w((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(r))),"de_Timestamps"),tnr=w((e,t)=>({}),"de_UntagResourceOutput"),Ke=w(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),rnr=(0,x.withBaseException)(vo),kt=w(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new b9.HttpRequest(l)},"buildHttpRpcRequest"),Mt={"content-type":"application/x-www-form-urlencoded"},Lt="2010-08-01",Ut="Action",ho="AlarmActions",w5="ApproximateAggregateValue",HE="AlarmArn",XP="AlarmContributors",JP="AlarmContributorAttributes",GE="AlarmContributorId",VE="AlarmConfigurationUpdatedTimestamp",cl="AlarmDescription",x5="AnomalyDetectorTypes",YP="AnomalyDetectors",ll="ActionsEnabled",QP="AlarmHistoryItems",dl="AccountId",ul="AlarmNames",A5="AlarmNamePrefix",Vn="AlarmName",WE="ApplyOnTransformedLogs",P5="ActionPrefix",KE="AlarmRule",ug="AdditionalStatistics",R5="ActionsSuppressedBy",XE="ActionsSuppressorExtensionPeriod",I5="ActionsSuppressedReason",JE="ActionsSuppressorWaitPeriod",YE="ActionsSuppressor",T5="AggregationStatistic",QE="AlarmTypes",O5="AlarmType",N5="ApproximateUniqueCount",D5="AggregateValue",k5="ApproximateValue",Jm="Arn",Nqe="Attributes",ZE="Average",M5="Counts",ZP="ContributorAttributes",eR="CompositeAlarms",eC="CreationDate",L5="ContributorId",tC="ComparisonOperator",U5="ChildrenOfAlarmName",fR="Configuration",B5="Code",tR="Contributors",Qe="Dimensions",nnr="DeleteAlarms",snr="DisableAlarmActions",inr="DescribeAlarmContributors",onr="DeleteAnomalyDetector",anr="DescribeAnomalyDetectors",cnr="DescribeAlarmsForMetric",lnr="DescribeAlarmHistory",rC="DashboardArn",dnr="DescribeAlarms",nC="DashboardBody",unr="DeleteDashboards",rR="DashboardEntries",mnr="DeleteInsightRules",fnr="DescribeInsightRules",pnr="DisableInsightRules",gnr="DeleteMetricStream",F5="DashboardNames",q5="DashboardNamePrefix",ml="DashboardName",j5="DataPath",sC="DatapointsToAlarm",nR="DashboardValidationMessages",_u="Datapoints",$5="Definition",Dqe="Entity",hnr="EnableAlarmActions",z5="EndDate",mg="ExcludeFilters",ynr="EnableInsightRules",iC="EvaluateLowSampleCountPercentile",H5="EntityMetricData",oC="EvaluationPeriods",Ym="ExtendedStatistic",G5="EvaluationState",fg="ExtendedStatistics",na="EndTime",pg="ExcludedTimeRanges",V5="ExceptionType",sR="Entries",aC="Expression",Ws="Failures",Qm="FirehoseArn",W5="FailureCode",K5="FailureDescription",X5="FailureResource",_nr="GetDashboard",Snr="GetInsightRuleReport",vnr="GetMetricData",Enr="GetMetricStatistics",Cnr="GetMetricStream",bnr="GetMetricWidgetImage",J5="HistoryData",cC="HistoryItemType",Y5="HistorySummary",Zm="Id",yo="InsufficientDataActions",gg="IncludeFilters",Q5="IncludeLinkedAccounts",lC="IncludeLinkedAccountsMetrics",hg="IncludeMetrics",iR="InsightRules",dC="Key",kqe="KeyAttributes",oR="KeyLabels",aR="Keys",fl="Label",wnr="ListDashboards",xnr="ListMetrics",Anr="ListManagedInsightRules",Pnr="ListMetricStreams",Z5="LastModified",Mqe="LabelOptions",Rnr="ListTagsForResource",uC="LastUpdateDate",_o="Metrics",Su="MetricAlarms",pR="MetricCharacteristics",e9="MaxContributorCount",t9="MaxContributorValue",mC="MetricData",vd="MetricDataQueries",cR="MetricDataResults",r9="MaxDatapoints",lR="MetricDatapoints",Fy="MetricMathAnomalyDetector",et="MetricName",yg="MetricNames",fC="MaxRecords",pl="MaxResults",_g="ManagedRules",n9="ManagedRule",gR="MetricStat",pC="MetricTimezone",s9="MetricWidget",i9="MetricWidgetImage",ef="Maximum",hR="Metric",bi="Message",vu="Messages",tf="Minimum",Ge="Namespace",$e="NextToken",Yr="Name",gC="Names",o9="OwningAccount",dR="OwningAccounts",a9="OrderBy",gl="OutputFormat",So="OKActions",Qr="Period",Inr="PutAnomalyDetector",Tnr="PutCompositeAlarm",Onr="PutDashboard",Nnr="PutInsightRule",Dnr="PutMetricAlarm",knr="PutMetricData",Mnr="PutManagedInsightRules",Lnr="PutMetricStream",c9="ParentsOfAlarmName",hC="PeriodicSpikes",l9="RecentlyActive",wi="ResourceARN",yC="RoleArn",_C="ReturnData",d9="RuleDefinition",u9="ResourceId",rf="RuleNames",nf="RuleName",SC="RuleState",m9="ResourceType",Ns="Stat",Unr="SetAlarmState",vC="ScanBy",Sg="StatisticsConfigurations",sf="SampleCount",f9="StatusCode",p9="StartDate",g9="StrictEntityValidation",qy="SingleMetricAnomalyDetector",Bnr="StartMetricStreams",Fnr="StopMetricStreams",h9="StorageResolution",of="StateReasonData",hl="StateReason",sa="StartTime",af="StateTransitionedTimestamp",EC="StateUpdatedTimestamp",ia="StateValue",Lqe="StatisticValues",y9="Schema",_9="Size",cf="Statistic",S9="Statistics",yl="State",lf="Sum",v9="Timezone",E9="TagKeys",CC="TreatMissingData",bC="ThresholdMetricId",wC="TemplateName",qnr="TagResource",us="Tags",xC="Threshold",oa="Timestamp",uR="Timestamps",Wn="Unit",C9="UniqueContributors",jnr="UntagResource",Bt="Version",Ds="Value",vg="Values",mR="dashboardValidationMessages",AC="entry",ue="member",Kn="message",Ft=w(e=>Object.entries(e).map(([t,r])=>(0,x.extendedEncodeURIComponent)(t)+"="+(0,x.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),$nr=w((e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),wje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteAlarms",{}).n("CloudWatchClient","DeleteAlarmsCommand").f(void 0,void 0).ser(iQt).de(HQt).build(){static{w(this,"DeleteAlarmsCommand")}},xje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteAnomalyDetector",{}).n("CloudWatchClient","DeleteAnomalyDetectorCommand").f(void 0,void 0).ser(oQt).de(GQt).build(){static{w(this,"DeleteAnomalyDetectorCommand")}},Aje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteDashboards",{}).n("CloudWatchClient","DeleteDashboardsCommand").f(void 0,void 0).ser(aQt).de(VQt).build(){static{w(this,"DeleteDashboardsCommand")}},Pje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteInsightRules",{}).n("CloudWatchClient","DeleteInsightRulesCommand").f(void 0,void 0).ser(cQt).de(WQt).build(){static{w(this,"DeleteInsightRulesCommand")}},Rje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DeleteMetricStream",{}).n("CloudWatchClient","DeleteMetricStreamCommand").f(void 0,void 0).ser(lQt).de(KQt).build(){static{w(this,"DeleteMetricStreamCommand")}},Ije=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarmContributors",{}).n("CloudWatchClient","DescribeAlarmContributorsCommand").f(void 0,void 0).ser(dQt).de(XQt).build(){static{w(this,"DescribeAlarmContributorsCommand")}},A9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarmHistory",{}).n("CloudWatchClient","DescribeAlarmHistoryCommand").f(void 0,void 0).ser(uQt).de(JQt).build(){static{w(this,"DescribeAlarmHistoryCommand")}},yR=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarms",{}).n("CloudWatchClient","DescribeAlarmsCommand").f(void 0,void 0).ser(mQt).de(YQt).build(){static{w(this,"DescribeAlarmsCommand")}},Tje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAlarmsForMetric",{}).n("CloudWatchClient","DescribeAlarmsForMetricCommand").f(void 0,void 0).ser(fQt).de(QQt).build(){static{w(this,"DescribeAlarmsForMetricCommand")}},P9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeAnomalyDetectors",{}).n("CloudWatchClient","DescribeAnomalyDetectorsCommand").f(void 0,void 0).ser(pQt).de(ZQt).build(){static{w(this,"DescribeAnomalyDetectorsCommand")}},R9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DescribeInsightRules",{}).n("CloudWatchClient","DescribeInsightRulesCommand").f(void 0,void 0).ser(gQt).de(eZt).build(){static{w(this,"DescribeInsightRulesCommand")}},Oje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DisableAlarmActions",{}).n("CloudWatchClient","DisableAlarmActionsCommand").f(void 0,void 0).ser(hQt).de(tZt).build(){static{w(this,"DisableAlarmActionsCommand")}},Nje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","DisableInsightRules",{}).n("CloudWatchClient","DisableInsightRulesCommand").f(void 0,void 0).ser(yQt).de(rZt).build(){static{w(this,"DisableInsightRulesCommand")}},Dje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","EnableAlarmActions",{}).n("CloudWatchClient","EnableAlarmActionsCommand").f(void 0,void 0).ser(_Qt).de(nZt).build(){static{w(this,"EnableAlarmActionsCommand")}},kje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","EnableInsightRules",{}).n("CloudWatchClient","EnableInsightRulesCommand").f(void 0,void 0).ser(SQt).de(sZt).build(){static{w(this,"EnableInsightRulesCommand")}},Mje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetDashboard",{}).n("CloudWatchClient","GetDashboardCommand").f(void 0,void 0).ser(vQt).de(iZt).build(){static{w(this,"GetDashboardCommand")}},Lje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetInsightRuleReport",{}).n("CloudWatchClient","GetInsightRuleReportCommand").f(void 0,void 0).ser(EQt).de(oZt).build(){static{w(this,"GetInsightRuleReportCommand")}},I9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricData",{}).n("CloudWatchClient","GetMetricDataCommand").f(void 0,void 0).ser(CQt).de(aZt).build(){static{w(this,"GetMetricDataCommand")}},Uje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricStatistics",{}).n("CloudWatchClient","GetMetricStatisticsCommand").f(void 0,void 0).ser(bQt).de(cZt).build(){static{w(this,"GetMetricStatisticsCommand")}},Bje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricStream",{}).n("CloudWatchClient","GetMetricStreamCommand").f(void 0,void 0).ser(wQt).de(lZt).build(){static{w(this,"GetMetricStreamCommand")}},Fje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","GetMetricWidgetImage",{}).n("CloudWatchClient","GetMetricWidgetImageCommand").f(void 0,void 0).ser(xQt).de(dZt).build(){static{w(this,"GetMetricWidgetImageCommand")}},T9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListDashboards",{}).n("CloudWatchClient","ListDashboardsCommand").f(void 0,void 0).ser(AQt).de(uZt).build(){static{w(this,"ListDashboardsCommand")}},O9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListManagedInsightRules",{}).n("CloudWatchClient","ListManagedInsightRulesCommand").f(void 0,void 0).ser(PQt).de(mZt).build(){static{w(this,"ListManagedInsightRulesCommand")}},N9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListMetrics",{}).n("CloudWatchClient","ListMetricsCommand").f(void 0,void 0).ser(RQt).de(fZt).build(){static{w(this,"ListMetricsCommand")}},D9=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListMetricStreams",{}).n("CloudWatchClient","ListMetricStreamsCommand").f(void 0,void 0).ser(IQt).de(pZt).build(){static{w(this,"ListMetricStreamsCommand")}},qje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","ListTagsForResource",{}).n("CloudWatchClient","ListTagsForResourceCommand").f(void 0,void 0).ser(TQt).de(gZt).build(){static{w(this,"ListTagsForResourceCommand")}},jje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutAnomalyDetector",{}).n("CloudWatchClient","PutAnomalyDetectorCommand").f(void 0,void 0).ser(OQt).de(hZt).build(){static{w(this,"PutAnomalyDetectorCommand")}},$je=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutCompositeAlarm",{}).n("CloudWatchClient","PutCompositeAlarmCommand").f(void 0,void 0).ser(NQt).de(yZt).build(){static{w(this,"PutCompositeAlarmCommand")}},zje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutDashboard",{}).n("CloudWatchClient","PutDashboardCommand").f(void 0,void 0).ser(DQt).de(_Zt).build(){static{w(this,"PutDashboardCommand")}},Hje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutInsightRule",{}).n("CloudWatchClient","PutInsightRuleCommand").f(void 0,void 0).ser(kQt).de(SZt).build(){static{w(this,"PutInsightRuleCommand")}},Gje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutManagedInsightRules",{}).n("CloudWatchClient","PutManagedInsightRulesCommand").f(void 0,void 0).ser(MQt).de(vZt).build(){static{w(this,"PutManagedInsightRulesCommand")}},Vje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutMetricAlarm",{}).n("CloudWatchClient","PutMetricAlarmCommand").f(void 0,void 0).ser(LQt).de(EZt).build(){static{w(this,"PutMetricAlarmCommand")}},Wje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,Bqe.getCompressionPlugin)(r,{encodings:["gzip"]})]}).s("GraniteServiceVersion20100801","PutMetricData",{}).n("CloudWatchClient","PutMetricDataCommand").f(void 0,void 0).ser(UQt).de(CZt).build(){static{w(this,"PutMetricDataCommand")}},Kje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","PutMetricStream",{}).n("CloudWatchClient","PutMetricStreamCommand").f(void 0,void 0).ser(BQt).de(bZt).build(){static{w(this,"PutMetricStreamCommand")}},Xje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","SetAlarmState",{}).n("CloudWatchClient","SetAlarmStateCommand").f(void 0,void 0).ser(FQt).de(wZt).build(){static{w(this,"SetAlarmStateCommand")}},Jje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","StartMetricStreams",{}).n("CloudWatchClient","StartMetricStreamsCommand").f(void 0,void 0).ser(qQt).de(xZt).build(){static{w(this,"StartMetricStreamsCommand")}},Yje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","StopMetricStreams",{}).n("CloudWatchClient","StopMetricStreamsCommand").f(void 0,void 0).ser(jQt).de(AZt).build(){static{w(this,"StopMetricStreamsCommand")}},Qje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","TagResource",{}).n("CloudWatchClient","TagResourceCommand").f(void 0,void 0).ser($Qt).de(PZt).build(){static{w(this,"TagResourceCommand")}},Zje=class extends x.Command.classBuilder().ep(Ot).m(function(e,t,r,n){return[(0,Nt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,wt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("GraniteServiceVersion20100801","UntagResource",{}).n("CloudWatchClient","UntagResourceCommand").f(void 0,void 0).ser(zQt).de(RZt).build(){static{w(this,"UntagResourceCommand")}},znr={DeleteAlarmsCommand:wje,DeleteAnomalyDetectorCommand:xje,DeleteDashboardsCommand:Aje,DeleteInsightRulesCommand:Pje,DeleteMetricStreamCommand:Rje,DescribeAlarmContributorsCommand:Ije,DescribeAlarmHistoryCommand:A9,DescribeAlarmsCommand:yR,DescribeAlarmsForMetricCommand:Tje,DescribeAnomalyDetectorsCommand:P9,DescribeInsightRulesCommand:R9,DisableAlarmActionsCommand:Oje,DisableInsightRulesCommand:Nje,EnableAlarmActionsCommand:Dje,EnableInsightRulesCommand:kje,GetDashboardCommand:Mje,GetInsightRuleReportCommand:Lje,GetMetricDataCommand:I9,GetMetricStatisticsCommand:Uje,GetMetricStreamCommand:Bje,GetMetricWidgetImageCommand:Fje,ListDashboardsCommand:T9,ListManagedInsightRulesCommand:O9,ListMetricsCommand:N9,ListMetricStreamsCommand:D9,ListTagsForResourceCommand:qje,PutAnomalyDetectorCommand:jje,PutCompositeAlarmCommand:$je,PutDashboardCommand:zje,PutInsightRuleCommand:Hje,PutManagedInsightRulesCommand:Gje,PutMetricAlarmCommand:Vje,PutMetricDataCommand:Wje,PutMetricStreamCommand:Kje,SetAlarmStateCommand:Xje,StartMetricStreamsCommand:Jje,StopMetricStreamsCommand:Yje,TagResourceCommand:Qje,UntagResourceCommand:Zje},e1e=class extends Ed{static{w(this,"CloudWatch")}};(0,x.createAggregatedClient)(znr,e1e);var Hnr=(0,al.createPaginator)(Ed,A9,"NextToken","NextToken","MaxRecords"),Gnr=(0,al.createPaginator)(Ed,yR,"NextToken","NextToken","MaxRecords"),Vnr=(0,al.createPaginator)(Ed,P9,"NextToken","NextToken","MaxResults"),Wnr=(0,al.createPaginator)(Ed,R9,"NextToken","NextToken","MaxResults"),Knr=(0,al.createPaginator)(Ed,I9,"NextToken","NextToken","MaxDatapoints"),Xnr=(0,al.createPaginator)(Ed,T9,"NextToken","NextToken",""),Jnr=(0,al.createPaginator)(Ed,O9,"NextToken","NextToken","MaxResults"),Ynr=(0,al.createPaginator)(Ed,D9,"NextToken","NextToken","MaxResults"),Qnr=(0,al.createPaginator)(Ed,N9,"NextToken","NextToken",""),Eu=b5(),t1e=w(async(e,t)=>{let r;try{let n=await e.send(new yR(t));r=n;try{if(w(()=>[].concat(...n.MetricAlarms).length>0,"returnComparator")()==!0)return{state:Eu.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:Eu.WaiterState.RETRY,reason:r}},"checkState"),Znr=w(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,Eu.createWaiter)({...r,...e},t,t1e)},"waitForAlarmExists"),esr=w(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,Eu.createWaiter)({...r,...e},t,t1e);return(0,Eu.checkExceptions)(n)},"waitUntilAlarmExists"),r1e=w(async(e,t)=>{let r;try{let n=await e.send(new yR(t));r=n;try{if(w(()=>[].concat(...n.CompositeAlarms).length>0,"returnComparator")()==!0)return{state:Eu.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:Eu.WaiterState.RETRY,reason:r}},"checkState"),tsr=w(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,Eu.createWaiter)({...r,...e},t,r1e)},"waitForCompositeAlarmExists"),rsr=w(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,Eu.createWaiter)({...r,...e},t,r1e);return(0,Eu.checkExceptions)(n)},"waitUntilCompositeAlarmExists")});var d1e=E(xi=>{"use strict";var nsr=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});xi.createResponse=fF;xi.createSuccessResponse=osr;xi.createErrorResponse=o1e;xi.getRequestId=a1e;xi.logRequest=c1e;xi.logResponse=l1e;xi.emitMetric=_R;xi.emitDatabaseConnectionMetric=asr;xi.emitBusinessMetric=csr;xi.lambdaHandler=lsr;xi.handleCorsPreflightRequest=dsr;xi.parseRequestBody=usr;xi.extractBearerToken=msr;xi.validateEnvironmentVariables=fsr;var ssr=nsr(eDe()),i1e=s1e(),isr=new i1e.CloudWatchClient({});function fF(e,t,r={}){return{statusCode:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS","X-Serverless-Migration":"lambda-functions","X-Migration-Date":new Date().toISOString().split("T")[0],...r},body:JSON.stringify(t)}}function osr(e,t="Success",r=200){return fF(r,{success:!0,message:t,data:e,timestamp:new Date().toISOString()})}function o1e(e,t=500,r){return fF(t,{success:!1,message:e,error:r,timestamp:new Date().toISOString()})}function a1e(e,t){return e.requestContext?.requestId||t?.awsRequestId||"unknown"}function c1e(e,t,r={}){console.log(JSON.stringify({type:"request",method:e,path:t,timestamp:new Date().toISOString(),...r}))}function l1e(e,t,r={}){console.log(JSON.stringify({type:"response",statusCode:e,duration:t,timestamp:new Date().toISOString(),...r}))}async function _R(e){if(process.env.ENABLE_CUSTOM_METRICS)try{let t={Namespace:e.namespace||process.env.CUSTOM_METRICS_NAMESPACE||"NameCard/Business",MetricData:[{MetricName:e.name,Value:e.value,Unit:e.unit,Timestamp:new Date}]};await isr.send(new i1e.PutMetricDataCommand(t))}catch(t){console.error("Failed to emit custom metric:",t)}}async function asr(e){console.log(JSON.stringify({eventType:"DB_CONNECTION",activeConnections:e,timestamp:new Date().toISOString()})),await _R({name:"ActiveConnections",value:e,unit:"Count",namespace:"NameCard/Database"})}async function csr(e,t=1){console.log(JSON.stringify({eventType:"BUSINESS_METRIC",eventName:e,count:t,timestamp:new Date().toISOString()})),await _R({name:e,value:t,unit:"Count"})}function lsr(e,t={}){return async(r,n)=>{let s=Date.now(),i=a1e(r,n),o=r.httpMethod,a=r.path;c1e(o,a,{requestId:i,functionName:n.functionName});let c;try{if(t.enableXRay){let u=ssr.default.getSegment()?.addNewSubsegment("lambda-handler");u?.addAnnotation("method",o),u?.addAnnotation("path",a),u?.addAnnotation("functionName",n.functionName);try{c=await e(r,n),u?.close()}catch(f){throw u?.addError(f),u?.close(),f}}else c=await e(r,n)}catch(d){console.error("Lambda handler error:",d),await _R({name:"Errors",value:1,unit:"Count",namespace:"NameCard/Lambda"}),c=o1e("Internal server error",500,d instanceof Error?d.message:"Unknown error")}let l=Date.now()-s;return l1e(c.statusCode,l,{requestId:i,functionName:n.functionName}),t.enableCustomMetrics&&await _R({name:"Duration",value:l,unit:"Seconds",namespace:"NameCard/Lambda"}),c}}function dsr(e){return e.httpMethod==="OPTIONS"?fF(200,{},{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS","Access-Control-Max-Age":"86400"}):null}function usr(e){if(!e.body)return{};try{return JSON.parse(e.body)}catch(t){throw console.error("Failed to parse request body:",t),new Error("Invalid JSON in request body")}}function msr(e){let t=e.headers.Authorization||e.headers.authorization;if(!t)return null;let r=t.split(" ");return r.length!==2||r[0]!=="Bearer"?null:r[1]}function fsr(e){let t=e.filter(r=>!process.env[r]);if(t.length>0)throw new Error(`Missing required environment variables: ${t.join(", ")}`)}});var Cg=E((ACn,S1e)=>{var pF=Object.defineProperty,psr=Object.getOwnPropertyDescriptor,gsr=Object.getOwnPropertyNames,hsr=Object.prototype.hasOwnProperty,Eg=(e,t)=>pF(e,"name",{value:t,configurable:!0}),ysr=(e,t)=>{for(var r in t)pF(e,r,{get:t[r],enumerable:!0})},_sr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gsr(t))!hsr.call(e,s)&&s!==r&&pF(e,s,{get:()=>t[s],enumerable:!(n=psr(t,s))||n.enumerable});return e},Ssr=e=>_sr(pF({},"__esModule",{value:!0}),e),u1e={};ysr(u1e,{AlgorithmId:()=>g1e,EndpointURLScheme:()=>p1e,FieldPosition:()=>h1e,HttpApiKeyAuthLocation:()=>f1e,HttpAuthLocation:()=>m1e,IniSectionType:()=>y1e,RequestHandlerProtocol:()=>_1e,SMITHY_CONTEXT_KEY:()=>wsr,getDefaultClientConfiguration:()=>Csr,resolveDefaultRuntimeConfig:()=>bsr});S1e.exports=Ssr(u1e);var m1e=(e=>(e.HEADER="header",e.QUERY="query",e))(m1e||{}),f1e=(e=>(e.HEADER="header",e.QUERY="query",e))(f1e||{}),p1e=(e=>(e.HTTP="http",e.HTTPS="https",e))(p1e||{}),g1e=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(g1e||{}),vsr=Eg(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:Eg(()=>"sha256","algorithmId"),checksumConstructor:Eg(()=>e.sha256,"checksumConstructor")}),e.md5!=null&&t.push({algorithmId:Eg(()=>"md5","algorithmId"),checksumConstructor:Eg(()=>e.md5,"checksumConstructor")}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Esr=Eg(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Csr=Eg(e=>vsr(e),"getDefaultClientConfiguration"),bsr=Eg(e=>Esr(e),"resolveDefaultRuntimeConfig"),h1e=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(h1e||{}),wsr="__smithy_context",y1e=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(y1e||{}),_1e=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(_1e||{})});var Gr=E((PCn,w1e)=>{var gF=Object.defineProperty,xsr=Object.getOwnPropertyDescriptor,Asr=Object.getOwnPropertyNames,Psr=Object.prototype.hasOwnProperty,bg=(e,t)=>gF(e,"name",{value:t,configurable:!0}),Rsr=(e,t)=>{for(var r in t)gF(e,r,{get:t[r],enumerable:!0})},Isr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Asr(t))!Psr.call(e,s)&&s!==r&&gF(e,s,{get:()=>t[s],enumerable:!(n=xsr(t,s))||n.enumerable});return e},Tsr=e=>Isr(gF({},"__esModule",{value:!0}),e),v1e={};Rsr(v1e,{Field:()=>Dsr,Fields:()=>ksr,HttpRequest:()=>Msr,HttpResponse:()=>Lsr,IHttpRequest:()=>E1e.HttpRequest,getHttpHandlerExtensionConfiguration:()=>Osr,isValidHostname:()=>b1e,resolveHttpHandlerRuntimeConfig:()=>Nsr});w1e.exports=Tsr(v1e);var Osr=bg(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),Nsr=bg(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),E1e=Cg(),Dsr=class{static{bg(this,"Field")}constructor({name:e,kind:t=E1e.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},ksr=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{bg(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},Msr=class k9{static{bg(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new k9({...t,headers:{...t.headers}});return r.query&&(r.query=C1e(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return k9.clone(this)}};function C1e(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}bg(C1e,"cloneQuery");var Lsr=class{static{bg(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function b1e(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}bg(b1e,"isValidHostname")});var RC=E((OCn,I1e)=>{"use strict";var yF=Object.defineProperty,Usr=Object.getOwnPropertyDescriptor,Bsr=Object.getOwnPropertyNames,Fsr=Object.prototype.hasOwnProperty,hF=(e,t)=>yF(e,"name",{value:t,configurable:!0}),qsr=(e,t)=>{for(var r in t)yF(e,r,{get:t[r],enumerable:!0})},jsr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bsr(t))!Fsr.call(e,s)&&s!==r&&yF(e,s,{get:()=>t[s],enumerable:!(n=Usr(t,s))||n.enumerable});return e},$sr=e=>jsr(yF({},"__esModule",{value:!0}),e),x1e={};qsr(x1e,{getHostHeaderPlugin:()=>Hsr,hostHeaderMiddleware:()=>P1e,hostHeaderMiddlewareOptions:()=>R1e,resolveHostHeaderConfig:()=>A1e});I1e.exports=$sr(x1e);var zsr=Gr();function A1e(e){return e}hF(A1e,"resolveHostHeaderConfig");var P1e=hF(e=>t=>async r=>{if(!zsr.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),R1e={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Hsr=hF(e=>({applyToStack:hF(t=>{t.add(P1e(e),R1e)},"applyToStack")}),"getHostHeaderPlugin")});var IC=E((NCn,D1e)=>{"use strict";var _F=Object.defineProperty,Gsr=Object.getOwnPropertyDescriptor,Vsr=Object.getOwnPropertyNames,Wsr=Object.prototype.hasOwnProperty,M9=(e,t)=>_F(e,"name",{value:t,configurable:!0}),Ksr=(e,t)=>{for(var r in t)_F(e,r,{get:t[r],enumerable:!0})},Xsr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vsr(t))!Wsr.call(e,s)&&s!==r&&_F(e,s,{get:()=>t[s],enumerable:!(n=Gsr(t,s))||n.enumerable});return e},Jsr=e=>Xsr(_F({},"__esModule",{value:!0}),e),T1e={};Ksr(T1e,{getLoggerPlugin:()=>Ysr,loggerMiddleware:()=>O1e,loggerMiddlewareOptions:()=>N1e});D1e.exports=Jsr(T1e);var O1e=M9(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:f}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),N1e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ysr=M9(e=>({applyToStack:M9(t=>{t.add(O1e(),N1e)},"applyToStack")}),"getLoggerPlugin")});var TC=E((DCn,U1e)=>{"use strict";var vF=Object.defineProperty,Qsr=Object.getOwnPropertyDescriptor,Zsr=Object.getOwnPropertyNames,eir=Object.prototype.hasOwnProperty,SF=(e,t)=>vF(e,"name",{value:t,configurable:!0}),tir=(e,t)=>{for(var r in t)vF(e,r,{get:t[r],enumerable:!0})},rir=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zsr(t))!eir.call(e,s)&&s!==r&&vF(e,s,{get:()=>t[s],enumerable:!(n=Qsr(t,s))||n.enumerable});return e},nir=e=>rir(vF({},"__esModule",{value:!0}),e),k1e={};tir(k1e,{addRecursionDetectionMiddlewareOptions:()=>L1e,getRecursionDetectionPlugin:()=>air,recursionDetectionMiddleware:()=>M1e});U1e.exports=nir(k1e);var sir=Gr(),L9="X-Amzn-Trace-Id",iir="AWS_LAMBDA_FUNCTION_NAME",oir="_X_AMZN_TRACE_ID",M1e=SF(e=>t=>async r=>{let{request:n}=r;if(!sir.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===L9.toLowerCase())??L9;if(n.headers.hasOwnProperty(s))return t(r);let i=process.env[iir],o=process.env[oir],a=SF(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(i)&&a(o)&&(n.headers[L9]=o),t({...r,request:n})},"recursionDetectionMiddleware"),L1e={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},air=SF(e=>({applyToStack:SF(t=>{t.add(M1e(e),L1e)},"applyToStack")}),"getRecursionDetectionPlugin")});var U9,cir,B1e=v(()=>{U9=C(Cg()),cir=e=>e[U9.SMITHY_CONTEXT_KEY]||(e[U9.SMITHY_CONTEXT_KEY]={})});var Ra=E((MCn,$1e)=>{var EF=Object.defineProperty,lir=Object.getOwnPropertyDescriptor,dir=Object.getOwnPropertyNames,uir=Object.prototype.hasOwnProperty,q1e=(e,t)=>EF(e,"name",{value:t,configurable:!0}),mir=(e,t)=>{for(var r in t)EF(e,r,{get:t[r],enumerable:!0})},fir=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dir(t))!uir.call(e,s)&&s!==r&&EF(e,s,{get:()=>t[s],enumerable:!(n=lir(t,s))||n.enumerable});return e},pir=e=>fir(EF({},"__esModule",{value:!0}),e),j1e={};mir(j1e,{getSmithyContext:()=>gir,normalizeProvider:()=>hir});$1e.exports=pir(j1e);var F1e=Cg(),gir=q1e(e=>e[F1e.SMITHY_CONTEXT_KEY]||(e[F1e.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),hir=q1e(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var z1e,H1e=v(()=>{z1e=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function yir(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var G1e,SR,CF=v(()=>{G1e=C(Ra());H1e();SR=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=z1e(i,o),c=yir(e.httpAuthSchemes),l=(0,G1e.getSmithyContext)(n),d=[];for(let u of a){let f=c.get(u.schemeId);if(!f){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let p=f.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:S={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},S),l.selectedHttpAuthScheme={httpAuthOption:u,identity:await p(u.identityProperties),signer:f.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)}});var V1e,vR,W1e=v(()=>{CF();V1e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},vR=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(SR(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),V1e)}})});var uf=E((jCn,e$e)=>{var bF=Object.defineProperty,_ir=Object.getOwnPropertyDescriptor,Sir=Object.getOwnPropertyNames,vir=Object.prototype.hasOwnProperty,ER=(e,t)=>bF(e,"name",{value:t,configurable:!0}),Eir=(e,t)=>{for(var r in t)bF(e,r,{get:t[r],enumerable:!0})},Cir=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Sir(t))!vir.call(e,s)&&s!==r&&bF(e,s,{get:()=>t[s],enumerable:!(n=_ir(t,s))||n.enumerable});return e},bir=e=>Cir(bF({},"__esModule",{value:!0}),e),K1e={};Eir(K1e,{deserializerMiddleware:()=>X1e,deserializerMiddlewareOption:()=>Y1e,getSerdePlugin:()=>Z1e,serializerMiddleware:()=>J1e,serializerMiddlewareOption:()=>Q1e});e$e.exports=bir(K1e);var wir=Gr(),X1e=ER((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(wir.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:B9(/^x-[\w-]+-request-?id$/,l),extendedRequestId:B9(/^x-[\w-]+-id-2$/,l),cfId:B9(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},"deserializerMiddleware"),B9=ER((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),J1e=ER((e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},"serializerMiddleware"),Y1e={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Q1e={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Z1e(e,t,r){return{applyToStack:ER(n=>{n.add(X1e(e,r),Y1e),n.add(J1e(e,t),Q1e)},"applyToStack")}}ER(Z1e,"getSerdePlugin")});var t$e,r$e,xir,n$e=v(()=>{t$e=C(uf());CF();r$e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:t$e.serializerMiddlewareOption.name},xir=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(SR(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),r$e)}})});var s$e=v(()=>{CF();W1e();n$e()});var i$e,o$e,Air,Pir,F9,q9=v(()=>{i$e=C(Gr()),o$e=C(Ra()),Air=e=>t=>{throw t},Pir=(e,t)=>{},F9=e=>(t,r)=>async n=>{if(!i$e.HttpRequest.isInstance(n.request))return t(n);let i=(0,o$e.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||Air)(o));return(c.successHandler||Pir)(l.response,o),l}});var a$e,CR,c$e=v(()=>{q9();a$e={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},CR=e=>({applyToStack:t=>{t.addRelativeTo(F9(e),a$e)}})});var l$e=v(()=>{q9();c$e()});var wg,d$e=v(()=>{wg=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function u$e(e,t,r,n,s){return async function*(o,a,...c){let l=a,d=o.startingToken??l[r],u=!0,f;for(;u;){if(l[r]=d,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)f=await Rir(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield f;let p=d;d=Iir(f,n),u=!!(d&&(!o.stopOnSameToken||d!==p))}return void 0}}var Rir,Iir,m$e=v(()=>{Rir=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};Iir=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var j9=E((rbn,p$e)=>{var wF=Object.defineProperty,Tir=Object.getOwnPropertyDescriptor,Oir=Object.getOwnPropertyNames,Nir=Object.prototype.hasOwnProperty,Dir=(e,t)=>wF(e,"name",{value:t,configurable:!0}),kir=(e,t)=>{for(var r in t)wF(e,r,{get:t[r],enumerable:!0})},Mir=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Oir(t))!Nir.call(e,s)&&s!==r&&wF(e,s,{get:()=>t[s],enumerable:!(n=Tir(t,s))||n.enumerable});return e},Lir=e=>Mir(wF({},"__esModule",{value:!0}),e),f$e={};kir(f$e,{isArrayBuffer:()=>Uir});p$e.exports=Lir(f$e);var Uir=Dir(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var OC=E((nbn,y$e)=>{var xF=Object.defineProperty,Bir=Object.getOwnPropertyDescriptor,Fir=Object.getOwnPropertyNames,qir=Object.prototype.hasOwnProperty,g$e=(e,t)=>xF(e,"name",{value:t,configurable:!0}),jir=(e,t)=>{for(var r in t)xF(e,r,{get:t[r],enumerable:!0})},$ir=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Fir(t))!qir.call(e,s)&&s!==r&&xF(e,s,{get:()=>t[s],enumerable:!(n=Bir(t,s))||n.enumerable});return e},zir=e=>$ir(xF({},"__esModule",{value:!0}),e),h$e={};jir(h$e,{fromArrayBuffer:()=>Gir,fromString:()=>Vir});y$e.exports=zir(h$e);var Hir=j9(),$9=require("buffer"),Gir=g$e((e,t=0,r=e.byteLength-t)=>{if(!(0,Hir.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return $9.Buffer.from(e,t,r)},"fromArrayBuffer"),Vir=g$e((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?$9.Buffer.from(e,t):$9.Buffer.from(e)},"fromString")});var _$e=E(AF=>{"use strict";Object.defineProperty(AF,"__esModule",{value:!0});AF.fromBase64=void 0;var Wir=OC(),Kir=/^[A-Za-z0-9+/]*={0,2}$/,Xir=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Kir.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Wir.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};AF.fromBase64=Xir});var ci=E((ibn,C$e)=>{var PF=Object.defineProperty,Jir=Object.getOwnPropertyDescriptor,Yir=Object.getOwnPropertyNames,Qir=Object.prototype.hasOwnProperty,z9=(e,t)=>PF(e,"name",{value:t,configurable:!0}),Zir=(e,t)=>{for(var r in t)PF(e,r,{get:t[r],enumerable:!0})},eor=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Yir(t))!Qir.call(e,s)&&s!==r&&PF(e,s,{get:()=>t[s],enumerable:!(n=Jir(t,s))||n.enumerable});return e},tor=e=>eor(PF({},"__esModule",{value:!0}),e),S$e={};Zir(S$e,{fromUtf8:()=>E$e,toUint8Array:()=>ror,toUtf8:()=>nor});C$e.exports=tor(S$e);var v$e=OC(),E$e=z9(e=>{let t=(0,v$e.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),ror=z9(e=>typeof e=="string"?E$e(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),nor=z9(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,v$e.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var b$e=E(RF=>{"use strict";Object.defineProperty(RF,"__esModule",{value:!0});RF.toBase64=void 0;var sor=OC(),ior=ci(),oor=e=>{let t;if(typeof e=="string"?t=(0,ior.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,sor.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};RF.toBase64=oor});var Eo=E((abn,IF)=>{var w$e=Object.defineProperty,aor=Object.getOwnPropertyDescriptor,cor=Object.getOwnPropertyNames,lor=Object.prototype.hasOwnProperty,H9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cor(t))!lor.call(e,s)&&s!==r&&w$e(e,s,{get:()=>t[s],enumerable:!(n=aor(t,s))||n.enumerable});return e},x$e=(e,t,r)=>(H9(e,t,"default"),r&&H9(r,t,"default")),dor=e=>H9(w$e({},"__esModule",{value:!0}),e),G9={};IF.exports=dor(G9);x$e(G9,_$e(),IF.exports);x$e(G9,b$e(),IF.exports)});var W9=E(TF=>{"use strict";Object.defineProperty(TF,"__esModule",{value:!0});TF.ChecksumStream=void 0;var uor=Eo(),mor=require("stream"),V9=class extends mor.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=i??uor.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};TF.ChecksumStream=V9});var xg=E(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.isBlob=NC.isReadableStream=void 0;var por=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};NC.isReadableStream=por;var gor=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};NC.isBlob=gor});var A$e=E(OF=>{"use strict";Object.defineProperty(OF,"__esModule",{value:!0});OF.ChecksumStream=void 0;var hor=typeof ReadableStream=="function"?ReadableStream:function(){},K9=class extends hor{};OF.ChecksumStream=K9});var P$e=E(NF=>{"use strict";Object.defineProperty(NF,"__esModule",{value:!0});NF.createChecksumStream=void 0;var yor=Eo(),_or=xg(),Sor=A$e(),vor=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var i,o;if(!(0,_or.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=s??yor.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,u){t.update(d),u.enqueue(d)},async flush(d){let u=await t.digest(),f=a(u);if(e!==f){let p=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);d.error(p)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,Sor.ChecksumStream.prototype),l};NF.createChecksumStream=vor});var R$e=E(X9=>{"use strict";Object.defineProperty(X9,"__esModule",{value:!0});X9.createChecksumStream=wor;var Eor=xg(),Cor=W9(),bor=P$e();function wor(e){return typeof ReadableStream=="function"&&(0,Eor.isReadableStream)(e.source)?(0,bor.createChecksumStream)(e):new Cor.ChecksumStream(e)}});var Y9=E(DF=>{"use strict";Object.defineProperty(DF,"__esModule",{value:!0});DF.ByteArrayCollector=void 0;var J9=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};DF.ByteArrayCollector=J9});var N$e=E(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.createBufferedReadable=void 0;mf.createBufferedReadableStream=I$e;mf.merge=T$e;mf.flush=kF;mf.sizeOf=DC;mf.modeOf=O$e;var xor=Y9();function I$e(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new xor.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:u}=await n.read(),f=d;if(u){if(a!==-1){let p=kF(o,a);DC(p)>0&&l.enqueue(p)}l.close()}else{let p=O$e(f,!1);if(a!==p&&(a>=0&&l.enqueue(kF(o,a)),a=p),a===-1){l.enqueue(f);return}let g=DC(f);i+=g;let S=DC(o[a]);if(g>=t&&S===0)l.enqueue(f);else{let b=T$e(o,a,f);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),b>=t?l.enqueue(kF(o,a)):await c(l)}}};return new ReadableStream({pull:c})}mf.createBufferedReadable=I$e;function T$e(e,t,r){switch(t){case 0:return e[0]+=r,DC(e[0]);case 1:case 2:return e[t].push(r),DC(e[t])}}function kF(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function DC(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function O$e(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var k$e=E(Q9=>{"use strict";Object.defineProperty(Q9,"__esModule",{value:!0});Q9.createBufferedReadable=Ror;var Aor=require("node:stream"),D$e=Y9(),ff=N$e(),Por=xg();function Ror(e,t,r){if((0,Por.isReadableStream)(e))return(0,ff.createBufferedReadableStream)(e,t,r);let n=new Aor.Readable({read(){}}),s=!1,i=0,o=["",new D$e.ByteArrayCollector(c=>new Uint8Array(c)),new D$e.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,ff.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,ff.flush)(o,a)),a=l),a===-1){n.push(c);return}let d=(0,ff.sizeOf)(c);i+=d;let u=(0,ff.sizeOf)(o[a]);if(d>=t&&u===0)n.push(c);else{let f=(0,ff.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),f>=t&&n.push((0,ff.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,ff.flush)(o,a);(0,ff.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var M$e=E(MF=>{"use strict";Object.defineProperty(MF,"__esModule",{value:!0});MF.getAwsChunkedEncodingStream=void 0;var Ior=require("stream"),Tor=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new Ior.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${i}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};MF.getAwsChunkedEncodingStream=Tor});var L$e=E(Z9=>{"use strict";Object.defineProperty(Z9,"__esModule",{value:!0});Z9.headStream=Oor;async function Oor(e,t){var r;let n=0,s=[],i=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await i.read();if(d&&(s.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;o=l}i.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of s){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var U$e=E(LF=>{"use strict";Object.defineProperty(LF,"__esModule",{value:!0});LF.headStream=void 0;var Nor=require("stream"),Dor=L$e(),kor=xg(),Mor=(e,t)=>(0,kor.isReadableStream)(e)?(0,Dor.headStream)(e,t):new Promise((r,n)=>{let s=new eY;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});LF.headStream=Mor;var eY=class extends Nor.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-i),this.emit("finish")}n()}}});var rY=E((Sbn,q$e)=>{var UF=Object.defineProperty,Lor=Object.getOwnPropertyDescriptor,Uor=Object.getOwnPropertyNames,Bor=Object.prototype.hasOwnProperty,tY=(e,t)=>UF(e,"name",{value:t,configurable:!0}),For=(e,t)=>{for(var r in t)UF(e,r,{get:t[r],enumerable:!0})},qor=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Uor(t))!Bor.call(e,s)&&s!==r&&UF(e,s,{get:()=>t[s],enumerable:!(n=Lor(t,s))||n.enumerable});return e},jor=e=>qor(UF({},"__esModule",{value:!0}),e),B$e={};For(B$e,{escapeUri:()=>F$e,escapeUriPath:()=>zor});q$e.exports=jor(B$e);var F$e=tY(e=>encodeURIComponent(e).replace(/[!'()*]/g,$or),"escapeUri"),$or=tY(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),zor=tY(e=>e.split("/").map(F$e).join("/"),"escapeUriPath")});var sY=E((vbn,z$e)=>{var BF=Object.defineProperty,Hor=Object.getOwnPropertyDescriptor,Gor=Object.getOwnPropertyNames,Vor=Object.prototype.hasOwnProperty,Wor=(e,t)=>BF(e,"name",{value:t,configurable:!0}),Kor=(e,t)=>{for(var r in t)BF(e,r,{get:t[r],enumerable:!0})},Xor=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Gor(t))!Vor.call(e,s)&&s!==r&&BF(e,s,{get:()=>t[s],enumerable:!(n=Hor(t,s))||n.enumerable});return e},Jor=e=>Xor(BF({},"__esModule",{value:!0}),e),j$e={};Kor(j$e,{buildQueryString:()=>$$e});z$e.exports=Jor(j$e);var nY=rY();function $$e(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,nY.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,nY.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,nY.escapeUri)(n)}`),t.push(s)}}return t.join("&")}Wor($$e,"buildQueryString")});var Ag=E((Ebn,sze)=>{var Yor=Object.create,bR=Object.defineProperty,Qor=Object.getOwnPropertyDescriptor,Zor=Object.getOwnPropertyNames,ear=Object.getPrototypeOf,tar=Object.prototype.hasOwnProperty,Ur=(e,t)=>bR(e,"name",{value:t,configurable:!0}),rar=(e,t)=>{for(var r in t)bR(e,r,{get:t[r],enumerable:!0})},K$e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zor(t))!tar.call(e,s)&&s!==r&&bR(e,s,{get:()=>t[s],enumerable:!(n=Qor(t,s))||n.enumerable});return e},nar=(e,t,r)=>(r=e!=null?Yor(ear(e)):{},K$e(t||!e||!e.__esModule?bR(r,"default",{value:e,enumerable:!0}):r,e)),sar=e=>K$e(bR({},"__esModule",{value:!0}),e),X$e={};rar(X$e,{DEFAULT_REQUEST_TIMEOUT:()=>tze,NodeHttp2Handler:()=>par,NodeHttpHandler:()=>dar,streamCollector:()=>har});sze.exports=sar(X$e);var J$e=Gr(),Y$e=sY(),iY=require("http"),oY=require("https"),iar=["ECONNRESET","EPIPE","ETIMEDOUT"],Q$e=Ur(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Ia={setTimeout:Ur((e,t)=>setTimeout(e,t),"setTimeout"),clearTimeout:Ur(e=>clearTimeout(e),"clearTimeout")},H$e=1e3,oar=Ur((e,t,r=0)=>{if(!r)return-1;let n=Ur(s=>{let i=Ia.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),o=Ur(a=>{a?.connecting?a.on("connect",()=>{Ia.clearTimeout(i)}):Ia.clearTimeout(i)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):Ia.setTimeout(n.bind(null,H$e),H$e)},"setConnectionTimeout"),aar=3e3,car=Ur((e,{keepAlive:t,keepAliveMsecs:r},n=aar)=>{if(t!==!0)return-1;let s=Ur(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):Ia.setTimeout(s,n)},"setSocketKeepAlive"),G$e=3e3,lar=Ur((e,t,r=tze)=>{let n=Ur(s=>{let i=r-s,o=Ur(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Ia.setTimeout(n.bind(null,r===0?0:G$e),G$e)},"setSocketTimeout"),Z$e=require("stream"),V$e=6e3;async function cY(e,t,r=V$e){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(Ia.setTimeout(()=>a(!0),Math.max(V$e,r)))}),new Promise(a=>{e.on("continue",()=>{Ia.clearTimeout(i),a(!0)}),e.on("response",()=>{Ia.clearTimeout(i),a(!1)}),e.on("error",()=>{Ia.clearTimeout(i),a(!1)})})])),o&&eze(e,t.body)}Ur(cY,"writeRequestBody");function eze(e,t){if(t instanceof Z$e.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Ur(eze,"writeBody");var tze=0,dar=class aY{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{Ur(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new aY(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,d=i[c]?.length??0;if(l>=o&&d>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:i,httpAgent:o instanceof iY.Agent||typeof o?.destroy=="function"?o:new iY.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof oY.Agent||typeof a?.destroy=="function"?a:new oY.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],c=Ur(async L=>{await o,a.forEach(Ia.clearTimeout),s(L)},"resolve"),l=Ur(async L=>{await o,a.forEach(Ia.clearTimeout),i(L)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let L=new Error("Request aborted");L.name="AbortError",l(L);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push(Ia.setTimeout(()=>{this.socketWarningTimestamp=aY.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let f=(0,Y$e.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let L=t.username??"",G=t.password??"";p=`${L}:${G}`}let g=t.path;f&&(g+=`?${f}`),t.fragment&&(g+=`#${t.fragment}`);let S=t.hostname??"";S[0]==="["&&S.endsWith("]")?S=t.hostname.slice(1,-1):S=t.hostname;let b={headers:t.headers,host:S,method:t.method,path:g,port:t.port,agent:u,auth:p},P=(d?oY.request:iY.request)(b,L=>{let G=new J$e.HttpResponse({statusCode:L.statusCode||-1,reason:L.statusMessage,headers:Q$e(L.headers),body:L});c({response:G})});if(P.on("error",L=>{iar.includes(L.code)?l(Object.assign(L,{name:"TimeoutError"})):l(L)}),r){let L=Ur(()=>{P.destroy();let G=new Error("Request aborted");G.name="AbortError",l(G)},"onAbort");if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",L,{once:!0}),P.once("close",()=>G.removeEventListener("abort",L))}else r.onabort=L}let M=n??this.config.requestTimeout;a.push(oar(P,l,this.config.connectionTimeout)),a.push(lar(P,l,M));let N=b.agent;typeof N=="object"&&"keepAlive"in N&&a.push(car(P,{keepAlive:N.keepAlive,keepAliveMsecs:N.keepAliveMsecs})),o=cY(P,t,M).catch(L=>(a.forEach(Ia.clearTimeout),i(L)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},W$e=require("http2"),uar=nar(require("http2")),mar=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{Ur(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},far=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{Ur(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=uar.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let i=Ur(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,i);let o=this.sessionCache.get(r)||new mar;return o.offerLast(s),this.sessionCache.set(r,o),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},par=class rze{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new far({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{Ur(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new rze(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,d,u=Ur(async xe=>{await d,a(xe)},"resolve"),f=Ur(async xe=>{await d,c(xe)},"reject");if(r?.aborted){l=!0;let xe=new Error("Request aborted");xe.name="AbortError",f(xe);return}let{hostname:p,method:g,port:S,protocol:b,query:A}=t,P="";if(t.username!=null||t.password!=null){let xe=t.username??"",Xe=t.password??"";P=`${xe}:${Xe}@`}let M=`${b}//${P}${p}${S?`:${S}`:""}`,N={destination:new URL(M)},L=this.connectionManager.lease(N,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),G=Ur(xe=>{i&&this.destroySession(L),l=!0,f(xe)},"rejectWithDestroy"),pe=(0,Y$e.buildQueryString)(A||{}),ne=t.path;pe&&(ne+=`?${pe}`),t.fragment&&(ne+=`#${t.fragment}`);let Ee=L.request({...t.headers,[W$e.constants.HTTP2_HEADER_PATH]:ne,[W$e.constants.HTTP2_HEADER_METHOD]:g});if(L.ref(),Ee.on("response",xe=>{let Xe=new J$e.HttpResponse({statusCode:xe[":status"]||-1,headers:Q$e(xe),body:Ee});l=!0,u({response:Xe}),i&&(L.close(),this.connectionManager.deleteSession(M,L))}),o&&Ee.setTimeout(o,()=>{Ee.close();let xe=new Error(`Stream timed out because of no activity for ${o} ms`);xe.name="TimeoutError",G(xe)}),r){let xe=Ur(()=>{Ee.close();let Xe=new Error("Request aborted");Xe.name="AbortError",G(Xe)},"onAbort");if(typeof r.addEventListener=="function"){let Xe=r;Xe.addEventListener("abort",xe,{once:!0}),Ee.once("close",()=>Xe.removeEventListener("abort",xe))}else r.onabort=xe}Ee.on("frameError",(xe,Xe,Ln)=>{G(new Error(`Frame type id ${xe} in stream id ${Ln} has failed with code ${Xe}.`))}),Ee.on("error",G),Ee.on("aborted",()=>{G(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Ee.rstCode}.`))}),Ee.on("close",()=>{L.unref(),i&&L.destroy(),l||G(new Error("Unexpected error: http2 request did not get a response"))}),d=cY(Ee,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},gar=class extends Z$e.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{Ur(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},har=Ur(e=>yar(e)?nze(e):new Promise((t,r)=>{let n=new gar;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),yar=Ur(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function nze(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Ur(nze,"collectReadableStream")});var fze=E((xbn,mze)=>{var qF=Object.defineProperty,_ar=Object.getOwnPropertyDescriptor,Sar=Object.getOwnPropertyNames,Ear=Object.prototype.hasOwnProperty,Cu=(e,t)=>qF(e,"name",{value:t,configurable:!0}),Car=(e,t)=>{for(var r in t)qF(e,r,{get:t[r],enumerable:!0})},bar=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Sar(t))!Ear.call(e,s)&&s!==r&&qF(e,s,{get:()=>t[s],enumerable:!(n=_ar(t,s))||n.enumerable});return e},war=e=>bar(qF({},"__esModule",{value:!0}),e),oze={};Car(oze,{FetchHttpHandler:()=>Aar,keepAliveSupport:()=>FF,streamCollector:()=>Rar});mze.exports=war(oze);var ize=Gr(),xar=sY();function lY(e,t){return new Request(e,t)}Cu(lY,"createRequest");function aze(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Cu(aze,"requestTimeout");var FF={supported:void 0},Aar=class cze{static{Cu(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new cze(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),FF.supported===void 0&&(FF.supported=typeof Request<"u"&&"keepalive"in lY("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let P=new Error("Request aborted");return P.name="AbortError",Promise.reject(P)}let a=t.path,c=(0,xar.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let P=t.username??"",M=t.password??"";l=`${P}:${M}@`}let{port:d,method:u}=t,f=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,p=u==="GET"||u==="HEAD"?void 0:t.body,g={body:p,headers:new Headers(t.headers),method:u,credentials:o};this.config?.cache&&(g.cache=this.config.cache),p&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),FF.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let S=Cu(()=>{},"removeSignalEventListener"),b=lY(f,g),A=[fetch(b).then(P=>{let M=P.headers,N={};for(let G of M.entries())N[G[0]]=G[1];return P.body!=null?{response:new ize.HttpResponse({headers:N,reason:P.statusText,statusCode:P.status,body:P.body})}:P.blob().then(G=>({response:new ize.HttpResponse({headers:N,reason:P.statusText,statusCode:P.status,body:G})}))}),aze(s)];return r&&A.push(new Promise((P,M)=>{let N=Cu(()=>{let L=new Error("Request aborted");L.name="AbortError",M(L)},"onAbort");if(typeof r.addEventListener=="function"){let L=r;L.addEventListener("abort",N,{once:!0}),S=Cu(()=>L.removeEventListener("abort",N),"removeSignalEventListener")}else r.onabort=N})),Promise.race(A).finally(S)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Par=Eo(),Rar=Cu(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):lze(e):dze(e),"streamCollector");async function lze(e){let t=await uze(e),r=(0,Par.fromBase64)(t);return new Uint8Array(r)}Cu(lze,"collectBlob");async function dze(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Cu(dze,"collectStream");function uze(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Cu(uze,"readToBase64")});var uY=E((Abn,Sze)=>{var jF=Object.defineProperty,Iar=Object.getOwnPropertyDescriptor,Tar=Object.getOwnPropertyNames,Oar=Object.prototype.hasOwnProperty,pze=(e,t)=>jF(e,"name",{value:t,configurable:!0}),Nar=(e,t)=>{for(var r in t)jF(e,r,{get:t[r],enumerable:!0})},Dar=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Tar(t))!Oar.call(e,s)&&s!==r&&jF(e,s,{get:()=>t[s],enumerable:!(n=Iar(t,s))||n.enumerable});return e},kar=e=>Dar(jF({},"__esModule",{value:!0}),e),gze={};Nar(gze,{fromHex:()=>yze,toHex:()=>_ze});Sze.exports=kar(gze);var hze={},dY={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),hze[e]=t,dY[t]=e}function yze(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in dY)t[r/2]=dY[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}pze(yze,"fromHex");function _ze(e){let t="";for(let r=0;r<e.byteLength;r++)t+=hze[e[r]];return t}pze(_ze,"toHex")});var bze=E($F=>{"use strict";Object.defineProperty($F,"__esModule",{value:!0});$F.sdkStreamMixin=void 0;var Mar=fze(),Lar=Eo(),Uar=uY(),Bar=ci(),vze=xg(),Eze="The stream has already been transformed.",Far=e=>{var t,r;if(!Cze(e)&&!(0,vze.isReadableStream)(e)){let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(Eze);return n=!0,await(0,Mar.streamCollector)(e)},i=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();if(o==="base64")return(0,Lar.toBase64)(a);if(o==="hex")return(0,Uar.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,Bar.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Eze);if(n=!0,Cze(e))return i(e);if((0,vze.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};$F.sdkStreamMixin=Far;var Cze=e=>typeof Blob=="function"&&e instanceof Blob});var xze=E(zF=>{"use strict";Object.defineProperty(zF,"__esModule",{value:!0});zF.sdkStreamMixin=void 0;var qar=Ag(),jar=OC(),mY=require("stream"),$ar=bze(),wze="The stream has already been transformed.",zar=e=>{var t,r;if(!(e instanceof mY.Readable))try{return(0,$ar.sdkStreamMixin)(e)}catch{let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(wze);return n=!0,await(0,qar.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let o=await s();return i===void 0||Buffer.isEncoding(i)?(0,jar.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(n)throw new Error(wze);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof mY.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,mY.Readable.toWeb(e)}})};zF.sdkStreamMixin=zar});var Aze=E(fY=>{"use strict";Object.defineProperty(fY,"__esModule",{value:!0});fY.splitStream=Har;async function Har(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Ize=E(pY=>{"use strict";Object.defineProperty(pY,"__esModule",{value:!0});pY.splitStream=Var;var Pze=require("stream"),Gar=Aze(),Rze=xg();async function Var(e){if((0,Rze.isReadableStream)(e)||(0,Rze.isBlob)(e))return(0,Gar.splitStream)(e);let t=new Pze.PassThrough,r=new Pze.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var GF=E((Obn,wu)=>{var HF=Object.defineProperty,War=Object.getOwnPropertyDescriptor,Kar=Object.getOwnPropertyNames,Xar=Object.prototype.hasOwnProperty,yY=(e,t)=>HF(e,"name",{value:t,configurable:!0}),Jar=(e,t)=>{for(var r in t)HF(e,r,{get:t[r],enumerable:!0})},gY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Kar(t))!Xar.call(e,s)&&s!==r&&HF(e,s,{get:()=>t[s],enumerable:!(n=War(t,s))||n.enumerable});return e},Pg=(e,t,r)=>(gY(e,t,"default"),r&&gY(r,t,"default")),Yar=e=>gY(HF({},"__esModule",{value:!0}),e),bu={};Jar(bu,{Uint8ArrayBlobAdapter:()=>hY});wu.exports=Yar(bu);var Tze=Eo(),Oze=ci();function Nze(e,t="utf-8"){return t==="base64"?(0,Tze.toBase64)(e):(0,Oze.toUtf8)(e)}yY(Nze,"transformToString");function Dze(e,t){return t==="base64"?hY.mutate((0,Tze.fromBase64)(e)):hY.mutate((0,Oze.fromUtf8)(e))}yY(Dze,"transformFromString");var hY=class kze extends Uint8Array{static{yY(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Dze(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,kze.prototype),t}transformToString(t="utf-8"){return Nze(this,t)}};Pg(bu,W9(),wu.exports);Pg(bu,R$e(),wu.exports);Pg(bu,k$e(),wu.exports);Pg(bu,M$e(),wu.exports);Pg(bu,U$e(),wu.exports);Pg(bu,xze(),wu.exports);Pg(bu,Ize(),wu.exports);Pg(bu,xg(),wu.exports)});var VF,Cd,WF=v(()=>{VF=C(GF()),Cd=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return VF.Uint8ArrayBlobAdapter.mutate(e);if(!e)return VF.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return VF.Uint8ArrayBlobAdapter.mutate(await r)}});function xu(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var KF=v(()=>{});var Au,_Y=v(()=>{Au=e=>typeof e=="function"?e():e});var Mze,Lze,Uze,SY,Bze=v(()=>{Mze=C(Gr()),Lze=C(Ra()),Uze=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,Lze.getSmithyContext)(r);try{let o=await e.protocol.deserializeResponse(i,{...e,...r},s);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(Mze.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);o.$metadata={httpStatusCode:s.statusCode,requestId:SY(/^x-[\w-]+-request-?id$/,l),extendedRequestId:SY(/^x-[\w-]+-id-2$/,l),cfId:SY(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},SY=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Fze,qze,jze=v(()=>{Fze=C(Ra()),qze=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,Fze.getSmithyContext)(r),i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,o=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:i});return t({...n,request:o})}});function Qar(e){return{applyToStack:t=>{t.add(qze(e),zze),t.add(Uze(e),$ze),e.protocol.setSerdeContext(e)}}}var $ze,zze,Hze=v(()=>{Bze();jze();$ze={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zze={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Vr,Rg=v(()=>{Vr=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Vr.registries=new Map});var cc,jy=v(()=>{cc=class{constructor(t,r){this.name=t,this.traits=r}}});function Zar(e,t,r={},n){let s=new $y(e+"#"+t,r,typeof n=="function"?n():n);return Vr.for(e).register(t,s),s}var $y,vY=v(()=>{Rg();jy();$y=class e extends cc{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};$y.symbol=Symbol.for("@smithy/core/schema::ListSchema")});function ecr(e,t,r={},n,s){let i=new zy(e+"#"+t,r,n,typeof s=="function"?s():s);return Vr.for(e).register(t,i),i}var zy,EY=v(()=>{Rg();jy();zy=class e extends cc{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};zy.symbol=Symbol.for("@smithy/core/schema::MapSchema")});function tcr(e,t,r={},n,s){let i=new XF(e+"#"+t,r,n,s);return Vr.for(e).register(t,i),i}var XF,Gze=v(()=>{Rg();jy();XF=class extends cc{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.input=n,this.output=s}}});function rcr(e,t,r,n,s){let i=new pf(e+"#"+t,r,n,s);return Vr.for(e).register(t,i),i}var pf,JF=v(()=>{Rg();jy();pf=class e extends cc{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.symbol=e.symbol,this.members={};for(let i=0;i<n.length;++i)this.members[n[i]]=Array.isArray(s[i])?s[i]:[s[i],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};pf.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});function ncr(e,t,r={},n,s,i){let o=new wR(e+"#"+t,r,n,s,i);return Vr.for(e).register(t,o),o}var wR,Vze=v(()=>{Rg();JF();wR=class e extends pf{constructor(t,r,n,s,i){super(t,r,n,s),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.ctor=i,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};wR.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var be,CY=v(()=>{be={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});function scr(e,t,r,n){let s=new Hy(e+"#"+t,r,n);return Vr.for(e).register(t,s),s}var Hy,bY=v(()=>{Rg();jy();Hy=class e extends cc{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Hy.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var Je,Wze=v(()=>{_Y();vY();EY();CY();bY();JF();Je=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=Au(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(i instanceof e){this.name=i.name,this.traits=i.traits,this._isMemberSchema=i._isMemberSchema,this.schema=i.schema,this.memberTraits=Object.assign({},i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=i.ref,this.memberName=r??i.memberName;return}if(this.schema=Au(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Hy?Au(this.schema.schemaRef):Au(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=be.LIST_MODIFIER&&t<be.MAP_MODIFIER:t instanceof $y}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=be.MAP_MODIFIER&&t<=255:t instanceof zy}isDocumentSchema(){return this.getSchema()===be.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof pf}isBlobSchema(){return this.getSchema()===be.BLOB||this.getSchema()===be.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=be.TIMESTAMP_DEFAULT&&t<=be.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===be.STRING}isBooleanSchema(){return this.getSchema()===be.BOOLEAN}isNumericSchema(){return this.getSchema()===be.NUMERIC}isBigIntegerSchema(){return this.getSchema()===be.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===be.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===be.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([be.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([be.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}hasMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();return t in r.members}return!1}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([be.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let s of r.memberNames)n[s]=this.getMemberSchema(s);return n}return{}}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(be).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case be.MAP_MODIFIER:return`${s}Map`;case be.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};Je.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Kze={};Kt(Kze,{ErrorSchema:()=>wR,ListSchema:()=>$y,MapSchema:()=>zy,NormalizedSchema:()=>Je,OperationSchema:()=>XF,SCHEMA:()=>be,Schema:()=>cc,SimpleSchema:()=>Hy,StructureSchema:()=>pf,TypeRegistry:()=>Vr,deref:()=>Au,deserializerMiddlewareOption:()=>$ze,error:()=>ncr,getSchemaSerdePlugin:()=>Qar,list:()=>Zar,map:()=>ecr,op:()=>tcr,serializerMiddlewareOption:()=>zze,sim:()=>scr,struct:()=>rcr});var Ks=v(()=>{_Y();Hze();vY();EY();Gze();Vze();Wze();jy();bY();JF();CY();Rg()});var icr,Xze=v(()=>{icr=(e,t,r=n=>n)=>e});var ocr,acr,xR,ccr,YF,AR,lcr,wY,xY,AY,PY,dcr,ucr,Jze,mcr,fcr,ZF,pcr,RY,gcr,kC,IY,hcr,ycr,_cr,Yze,Qze,Scr,vcr,Gy,TY,QF,PR,OY=v(()=>{ocr=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},acr=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&PR.warn(QF(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&PR.warn(QF(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},xR=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&PR.warn(QF(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},ccr=Math.ceil(34028234663852886e22),YF=e=>{let t=xR(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>ccr)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},AR=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},lcr=AR,wY=e=>PY(e,32),xY=e=>PY(e,16),AY=e=>PY(e,8),PY=(e,t)=>{let r=AR(e);if(r!==void 0&&dcr(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},dcr=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ucr=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Jze=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},mcr=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return PR.warn(QF(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},fcr=e=>{if(e==null)return;let t=Jze(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ZF=e=>xR(typeof e=="string"?kC(e):e),pcr=ZF,RY=e=>YF(typeof e=="string"?kC(e):e),gcr=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,kC=e=>{let t=e.match(gcr);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},IY=e=>typeof e=="string"?Yze(e):xR(e),hcr=IY,ycr=IY,_cr=e=>typeof e=="string"?Yze(e):YF(e),Yze=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Qze=e=>AR(typeof e=="string"?kC(e):e),Scr=Qze,vcr=e=>wY(typeof e=="string"?kC(e):e),Gy=e=>xY(typeof e=="string"?kC(e):e),TY=e=>AY(typeof e=="string"?kC(e):e),QF=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),PR={warn:console.warn}});function IR(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,d=o<10?`0${o}`:`${o}`,u=a<10?`0${a}`:`${a}`;return`${Ecr[n]}, ${c} ${DY[r]} ${t} ${l}:${d}:${u} GMT`}var Ecr,DY,Ccr,bcr,wcr,TR,xcr,Acr,Pcr,OR,NR,RR,Rcr,Icr,Tcr,NY,Ocr,Ncr,Dcr,Pu,kcr,Mcr,MC,Zze=v(()=>{OY();Ecr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ccr=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),bcr=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Ccr.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,d=Gy(MC(n)),u=Pu(s,"month",1,12),f=Pu(i,"day",1,31);return RR(d,u,f,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},wcr=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),TR=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=wcr.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,d]=t,u=Gy(MC(n)),f=Pu(s,"month",1,12),p=Pu(i,"day",1,31),g=RR(u,f,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&g.setTime(g.getTime()-Mcr(d)),g},xcr=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Acr=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Pcr=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),OR=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=xcr.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return RR(Gy(MC(i)),NY(s),Pu(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=Acr.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return Tcr(RR(Rcr(i),NY(s),Pu(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Pcr.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return RR(Gy(MC(l)),NY(n),Pu(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},NR=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ZF(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},RR=(e,t,r,n)=>{let s=t-1;return Ncr(e,s,r),new Date(Date.UTC(e,s,r,Pu(n.hours,"hour",0,23),Pu(n.minutes,"minute",0,59),Pu(n.seconds,"seconds",0,60),kcr(n.fractionalMilliseconds)))},Rcr=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Gy(MC(e));return r<t?r+100:r},Icr=50*365*24*60*60*1e3,Tcr=e=>e.getTime()-new Date().getTime()>Icr?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,NY=e=>{let t=DY.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Ocr=[31,28,31,30,31,30,31,31,30,31,30,31],Ncr=(e,t,r)=>{let n=Ocr[t];if(t===1&&Dcr(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${DY[t]} in ${e}: ${r}`)},Dcr=e=>e%4===0&&(e%100!==0||e%400===0),Pu=(e,t,r,n)=>{let s=TY(MC(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},kcr=e=>e==null?0:RY("0."+e)*1e3,Mcr=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},MC=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function DR(){return eq>tq.length-16&&(eHe.default.randomFillSync(tq),eq=0),tq.slice(eq,eq+=16)}var eHe,tq,eq,kY=v(()=>{eHe=C(require("crypto")),tq=new Uint8Array(256),eq=tq.length});var tHe,rHe=v(()=>{tHe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Lcr(e){return typeof e=="string"&&tHe.test(e)}var Ig,kR=v(()=>{rHe();Ig=Lcr});function Vy(e,t=0){return Vi[e[t+0]]+Vi[e[t+1]]+Vi[e[t+2]]+Vi[e[t+3]]+"-"+Vi[e[t+4]]+Vi[e[t+5]]+"-"+Vi[e[t+6]]+Vi[e[t+7]]+"-"+Vi[e[t+8]]+Vi[e[t+9]]+"-"+Vi[e[t+10]]+Vi[e[t+11]]+Vi[e[t+12]]+Vi[e[t+13]]+Vi[e[t+14]]+Vi[e[t+15]]}function Ucr(e,t=0){let r=Vy(e,t);if(!Ig(r))throw TypeError("Stringified UUID is invalid");return r}var Vi,nHe,MR=v(()=>{kR();Vi=[];for(let e=0;e<256;++e)Vi.push((e+256).toString(16).slice(1));nHe=Ucr});function Bcr(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||sHe,o=e.clockseq!==void 0?e.clockseq:MY;if(i==null||o==null){let f=e.random||(e.rng||DR)();i==null&&(i=sHe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=MY=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:UY+1,l=a-LY+(c-UY)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>LY)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");LY=a,UY=c,MY=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=u&255,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let f=0;f<6;++f)s[n+f]=i[f];return t||Vy(s)}var sHe,MY,LY,UY,iHe,oHe=v(()=>{kY();MR();LY=0,UY=0;iHe=Bcr});function Fcr(e){if(!Ig(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var rq,BY=v(()=>{kR();rq=Fcr});function qcr(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function LR(e,t,r){function n(s,i,o,a){var c;if(typeof s=="string"&&(s=qcr(s)),typeof i=="string"&&(i=rq(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return Vy(l)}try{n.name=e}catch{}return n.DNS=jcr,n.URL=$cr,n}var jcr,$cr,FY=v(()=>{MR();BY();jcr="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$cr="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function zcr(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),aHe.default.createHash("md5").update(e).digest()}var aHe,cHe,lHe=v(()=>{aHe=C(require("crypto"));cHe=zcr});var Hcr,dHe,uHe=v(()=>{FY();lHe();Hcr=LR("v3",48,cHe),dHe=Hcr});var mHe,qY,fHe=v(()=>{mHe=C(require("crypto")),qY={randomUUID:mHe.default.randomUUID}});function Gcr(e,t,r){if(qY.randomUUID&&!t&&!e)return qY.randomUUID();e=e||{};let n=e.random||(e.rng||DR)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return Vy(n)}var nq,pHe=v(()=>{fHe();kY();MR();nq=Gcr});function Vcr(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),gHe.default.createHash("sha1").update(e).digest()}var gHe,hHe,yHe=v(()=>{gHe=C(require("crypto"));hHe=Vcr});var Wcr,_He,SHe=v(()=>{FY();yHe();Wcr=LR("v5",80,hHe),_He=Wcr});var vHe,EHe=v(()=>{vHe="00000000-0000-0000-0000-000000000000"});function Kcr(e){if(!Ig(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var CHe,bHe=v(()=>{kR();CHe=Kcr});var jY={};Kt(jY,{NIL:()=>vHe,parse:()=>rq,stringify:()=>nHe,v1:()=>iHe,v3:()=>dHe,v4:()=>nq,v5:()=>_He,validate:()=>Ig,version:()=>CHe});var sq=v(()=>{oHe();uHe();pHe();SHe();EHe();bHe();kR();MR();BY()});var wHe=v(()=>{sq()});var aa,xHe=v(()=>{aa=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};aa.from=e=>e&&typeof e=="object"&&(e instanceof aa||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?aa(String(e)):aa(JSON.stringify(e));aa.fromObject=aa.from});function $Y(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var AHe=v(()=>{});function zY(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var PHe=v(()=>{});var UR,RHe=v(()=>{UR=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function Xcr(e){return new Wi(String(e),"bigDecimal")}var Wi,IHe=v(()=>{Wi=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let i=t.charCodeAt(s);if(!(s===0&&i===45)){if(i===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name?.endsWith("NumericValue")?!0:n)}}});var THe={};Kt(THe,{LazyJsonString:()=>aa,NumericValue:()=>Wi,copyDocumentWithTransform:()=>icr,dateToUtcString:()=>IR,expectBoolean:()=>acr,expectByte:()=>AY,expectFloat32:()=>YF,expectInt:()=>lcr,expectInt32:()=>wY,expectLong:()=>AR,expectNonNull:()=>ucr,expectNumber:()=>xR,expectObject:()=>Jze,expectShort:()=>xY,expectString:()=>mcr,expectUnion:()=>fcr,generateIdempotencyToken:()=>nq,handleFloat:()=>hcr,limitedParseDouble:()=>IY,limitedParseFloat:()=>ycr,limitedParseFloat32:()=>_cr,logger:()=>PR,nv:()=>Xcr,parseBoolean:()=>ocr,parseEpochTimestamp:()=>NR,parseRfc3339DateTime:()=>bcr,parseRfc3339DateTimeWithOffset:()=>TR,parseRfc7231DateTime:()=>OR,quoteHeader:()=>$Y,splitEvery:()=>zY,splitHeader:()=>UR,strictParseByte:()=>TY,strictParseDouble:()=>ZF,strictParseFloat:()=>pcr,strictParseFloat32:()=>RY,strictParseInt:()=>Scr,strictParseInt32:()=>vcr,strictParseLong:()=>Qze,strictParseShort:()=>Gy});var _l=v(()=>{Xze();Zze();wHe();xHe();OY();AHe();PHe();RHe();IHe()});var OHe,HY,NHe=v(()=>{Ks();OHe=C(ci()),HY=class{constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=o.getMemberSchemas(),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(r,n);let p=c.flush();yield{[d]:!0,headers:f,body:p}}for await(let f of t)yield f}};return s.serialize(u,f=>{if(f[d])return{headers:f.headers,body:f.body};let p=Object.keys(f).find(M=>M!=="__type")??"",{additionalHeaders:g,body:S,eventType:b,explicitPayloadContentType:A}=this.writeEventBody(p,o,f);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??l},...g},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async f=>{let p=Object.keys(f).find(g=>g!=="__type")??"";if(p==="initial-response"){let g=await this.deserializer.read(r,f[p].body);return delete g[i],{[c]:!0,...g}}else if(p in a){let g=a[p];return{[p]:await this.deserializer.read(g,f[p].body)}}else return{$unknown:f}}),d=l[Symbol.asyncIterator](),u=await d.next();if(u.done)return l;if(u.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[f,p]of Object.entries(u.value))n[f]=p}return{async*[Symbol.asyncIterator](){for(u?.value?.[c]||(yield u.value);;){let{done:f,value:p}=await d.next();if(f)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.hasMemberSchema(t),l={};if(c){let f=r.getMemberSchema(t);if(f.isStructSchema()){for(let[p,g]of f.structIterator()){let{eventHeader:S,eventPayload:b}=g.getMergedTraits();if(b){o=p;break}else if(S){let A=n[t][p],P="binary";g.isNumericSchema()?(-2)**31<=A&&A<=2**31-1?P="integer":P="long":g.isTimestampSchema()?P="timestamp":g.isStringSchema()?P="string":g.isBooleanSchema()&&(P="boolean"),A!=null&&(l[p]={type:P,value:A},delete n[t][p])}}if(o!==null){let p=f.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][o])}else s.write(f,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[f,p]=n[t];i=f,s.write(be.DOCUMENT,p)}let d=s.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??OHe.fromUtf8)(d):d,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var DHe={};Kt(DHe,{EventStreamSerde:()=>HY});var kHe=v(()=>{NHe()});var iq,Wy,oq=v(()=>{Ks();iq=C(Gr()),Wy=class{constructor(t){this.options=t}getRequestType(){return iq.HttpRequest}getResponseType(){return iq.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=Je.of(r),i=Je.of(r.input);if(s.getMergedTraits().endpoint){let o=s.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(kHe(),DHe));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var MHe,LHe,Ky,UHe=v(()=>{Ks();_l();MHe=C(Gr()),LHe=C(GF());WF();KF();oq();Ky=class extends Wy{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=Je.of(t?.input),d=l.getSchema(),u=!1,f,p=new MHe.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let g=Je.translateTraits(t.traits);if(g.http){p.method=g.http[0];let[S,b]=g.http[1].split("?");p.path=="/"?p.path=S:p.path+=S;let A=new URLSearchParams(b??"");Object.assign(o,Object.fromEntries(A))}}for(let[g,S]of l.structIterator()){let b=S.getMergedTraits()??{},A=s[g];if(A!=null)if(b.httpPayload)S.isStreaming()?S.isStructSchema()?s[g]&&(f=await this.serializeEventStream({eventStream:s[g],requestSchema:l})):f=A:(i.write(S,A),f=i.flush()),delete s[g];else if(b.httpLabel){i.write(S,A);let P=i.flush();p.path.includes(`{${g}+}`)?p.path=p.path.replace(`{${g}+}`,P.split("/").map(xu).join("/")):p.path.includes(`{${g}}`)&&(p.path=p.path.replace(`{${g}}`,xu(P))),delete s[g]}else if(b.httpHeader)i.write(S,A),a[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof b.httpPrefixHeaders=="string"){for(let[P,M]of Object.entries(A)){let N=b.httpPrefixHeaders+P;i.write([S.getValueSchema(),{httpHeader:N}],M),a[N.toLowerCase()]=i.flush()}delete s[g]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(S,A,o),delete s[g]):u=!0}return u&&s&&(i.write(d,s),f=i.flush()),p.headers=a,p.query=o,p.body=f,p}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))o in n||this.serializeQuery(Je.of([t.getValueSchema(),{...i,httpQuery:o,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let c=await Cd(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(be.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await Cd(n.body,r);if(c.byteLength>0){let l=await s.read(i,c);for(let d of a)o[d]=l[d]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=Je.of(t),l=[];for(let[d,u]of c.structIterator()){let f=u.getMemberTraits();if(f.httpPayload){if(u.isStreaming())u.isStructSchema()?o[d]=await this.deserializeEventStream({response:n,responseSchema:c}):o[d]=(0,LHe.sdkStreamMixin)(n.body);else if(n.body){let g=await Cd(n.body,r);g.byteLength>0&&(o[d]=await a.read(u,g))}}else if(f.httpHeader){let p=String(f.httpHeader).toLowerCase(),g=n.headers[p];if(g!=null)if(u.isListSchema()){let S=u.getValueSchema(),b;S.isTimestampSchema()&&S.getSchema()===be.TIMESTAMP_DEFAULT?b=zY(g,",",2):b=UR(g);let A=[];for(let P of b)A.push(await a.read([S,{httpHeader:p}],P.trim()));o[d]=A}else o[d]=await a.read(u,g)}else if(f.httpPrefixHeaders!==void 0){o[d]={};for(let[p,g]of Object.entries(n.headers))p.startsWith(f.httpPrefixHeaders)&&(o[d][p.slice(f.httpPrefixHeaders.length)]=await a.read([u.getValueSchema(),{httpHeader:p}],g))}else f.httpResponseCode?o[d]=n.statusCode:l.push(d)}return l}}});var BHe,Xy,FHe=v(()=>{Ks();BHe=C(Gr());WF();oq();Xy=class extends Wy{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=Je.of(t?.input),l=c.getSchema(),d,u=new BHe.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let f={...r};if(r){let p=c.getEventStreamMember();if(p){if(f[p]){let g={};for(let[S,b]of c.structIterator())S!==p&&f[S]&&(s.write(b,f[S]),g[S]=s.flush());d=await this.serializeEventStream({eventStream:f[p],requestSchema:c,initialRequest:g})}}else s.write(l,f),d=s.flush()}return u.headers=o,u.query=i,u.body=d,u.method="POST",u}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let c=await Cd(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(be.DOCUMENT,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await Cd(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var GY,VY=v(()=>{KF();GY=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>xu(a)).join("/"):xu(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function BR(e,t){return new aq(e,t)}var qHe,aq,jHe=v(()=>{qHe=C(Gr());VY();aq=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new qHe.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=GY(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Jy(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===be.TIMESTAMP_DATE_TIME||e.getSchema()===be.TIMESTAMP_HTTP_DATE||e.getSchema()===be.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?be.TIMESTAMP_HTTP_DATE:i||r?be.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var cq=v(()=>{Ks()});var WY,$He,Yy,KY=v(()=>{Ks();_l();WY=C(Eo()),$He=C(ci());cq();Yy=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=Je.of(t);if(n.isListSchema())return UR(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??WY.fromBase64)(r);if(n.isTimestampSchema())switch(Jy(n,this.settings)){case be.TIMESTAMP_DATE_TIME:return TR(r);case be.TIMESTAMP_HTTP_DATE:return OR(r);case be.TIMESTAMP_EPOCH_SECONDS:return NR(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=aa.from(i)),i}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Wi(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??$He.toUtf8)((this.serdeContext?.base64Decoder??WY.fromBase64)(t))}}});var lq,Qy,zHe=v(()=>{Ks();lq=C(ci());KY();Qy=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Yy(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=Je.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??lq.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??lq.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var XY,FR,JY=v(()=>{Ks();_l();XY=C(Eo());cq();FR=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=Je.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Jy(n,this.settings)){case be.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case be.TIMESTAMP_HTTP_DATE:this.stringBuffer=IR(r);break;case be.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??XY.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:$Y(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=aa.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??XY.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Zy,HHe=v(()=>{Ks();JY();Zy=class{constructor(t,r,n=new FR(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=Je.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var GHe={};Kt(GHe,{FromStringShapeDeserializer:()=>Yy,HttpBindingProtocol:()=>Ky,HttpInterceptingShapeDeserializer:()=>Qy,HttpInterceptingShapeSerializer:()=>Zy,HttpProtocol:()=>Wy,RequestBuilder:()=>aq,RpcProtocol:()=>Xy,ToStringShapeSerializer:()=>FR,collectBody:()=>Cd,determineTimestampFormat:()=>Jy,extendedEncodeURIComponent:()=>xu,requestBuilder:()=>BR,resolvedPath:()=>GY});var gf=v(()=>{WF();KF();UHe();oq();FHe();jHe();VY();KY();zHe();HHe();JY();cq()});var VHe=v(()=>{gf()});function Jcr(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var WHe=v(()=>{});var e_,KHe=v(()=>{e_=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var XHe,YY,QY,JHe=v(()=>{XHe=C(Gr()),YY=C(Cg()),QY=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=XHe.HttpRequest.clone(t);if(n.in===YY.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===YY.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var YHe,ZY,QHe=v(()=>{YHe=C(Gr()),ZY=class{async sign(t,r,n){let s=YHe.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var hf,ZHe=v(()=>{hf=class{async sign(t,r,n){return t}}});var eGe=v(()=>{JHe();QHe();ZHe()});var tGe,Ycr,e7,dq,t7,rGe=v(()=>{tGe=e=>t=>dq(t)&&t.expiration.getTime()-Date.now()<e,Ycr=3e5,e7=tGe(3e5),dq=e=>e.expiration!==void 0,t7=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var nGe=v(()=>{KHe();eGe();rGe()});var Tg={};Kt(Tg,{DefaultIdentityProviderConfig:()=>e_,EXPIRATION_MS:()=>Ycr,HttpApiKeyAuthSigner:()=>QY,HttpBearerAuthSigner:()=>ZY,NoAuthSigner:()=>hf,createIsIdentityExpiredFunction:()=>tGe,createPaginator:()=>u$e,doesIdentityRequireRefresh:()=>dq,getHttpAuthSchemeEndpointRuleSetPlugin:()=>vR,getHttpAuthSchemePlugin:()=>xir,getHttpSigningPlugin:()=>CR,getSmithyContext:()=>cir,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>V1e,httpAuthSchemeMiddleware:()=>SR,httpAuthSchemeMiddlewareOptions:()=>r$e,httpSigningMiddleware:()=>F9,httpSigningMiddlewareOptions:()=>a$e,isIdentityExpired:()=>e7,memoizeIdentityProvider:()=>t7,normalizeProvider:()=>wg,requestBuilder:()=>BR,setFeature:()=>Jcr});var Co=v(()=>{B1e();s$e();l$e();d$e();m$e();VHe();WHe();nGe()});var t_=E((Kxn,mGe)=>{var uq=Object.defineProperty,Qcr=Object.getOwnPropertyDescriptor,Zcr=Object.getOwnPropertyNames,elr=Object.prototype.hasOwnProperty,Br=(e,t)=>uq(e,"name",{value:t,configurable:!0}),tlr=(e,t)=>{for(var r in t)uq(e,r,{get:t[r],enumerable:!0})},rlr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zcr(t))!elr.call(e,s)&&s!==r&&uq(e,s,{get:()=>t[s],enumerable:!(n=Qcr(t,s))||n.enumerable});return e},nlr=e=>rlr(uq({},"__esModule",{value:!0}),e),sGe={};tlr(sGe,{EndpointCache:()=>slr,EndpointError:()=>Ta,customEndpointFunctions:()=>n7,isIpAddress:()=>iGe,isValidHostLabel:()=>i7,resolveEndpoint:()=>blr});mGe.exports=nlr(sGe);var slr=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Br(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:o}=n.next();if(this.data.delete(i),o||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},ilr=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),iGe=Br(e=>ilr.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),olr=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),i7=Br((e,t=!1)=>{if(!t)return olr.test(e);let r=e.split(".");for(let n of r)if(!i7(n))return!1;return!0},"isValidHostLabel"),n7={},qR="endpoints";function yf(e){return typeof e!="object"||e==null?e:"ref"in e?`$${yf(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(yf).join(", ")})`:JSON.stringify(e,null,2)}Br(yf,"toDebugString");var Ta=class extends Error{static{Br(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},alr=Br((e,t)=>e===t,"booleanEquals"),clr=Br(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ta(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ta(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),oGe=Br((e,t)=>clr(t).reduce((r,n)=>{if(typeof r!="object")throw new Ta(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),llr=Br(e=>e!=null,"isSet"),dlr=Br(e=>!e,"not"),s7=Cg(),r7={[s7.EndpointURLScheme.HTTP]:80,[s7.EndpointURLScheme.HTTPS]:443},ulr=Br(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:p,protocol:g="",path:S="",query:b={}}=e,A=new URL(`${g}//${f}${p?`:${p}`:""}${S}`);return A.search=Object.entries(b).map(([P,M])=>`${P}=${M}`).join("&"),A}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(s7.EndpointURLScheme).includes(c))return null;let l=iGe(s),d=r.includes(`${n}:${r7[c]}`)||typeof e=="string"&&e.includes(`${n}:${r7[c]}`),u=`${n}${d?`:${r7[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),mlr=Br((e,t)=>e===t,"stringEquals"),flr=Br((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),plr=Br(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),glr={booleanEquals:alr,getAttr:oGe,isSet:llr,isValidHostLabel:i7,not:dlr,parseURL:ulr,stringEquals:mlr,substring:flr,uriEncode:plr},aGe=Br((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(oGe(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},"evaluateTemplate"),hlr=Br(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),mq=Br((e,t,r)=>{if(typeof e=="string")return aGe(e,r);if(e.fn)return cGe(e,r);if(e.ref)return hlr(e,r);throw new Ta(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),cGe=Br(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:mq(i,"arg",r)),s=e.split(".");return s[0]in n7&&s[1]!=null?n7[s[0]][s[1]](...n):glr[e](...n)},"callFunction"),ylr=Br(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ta(`'${e}' is already defined in Reference Record.`);let n=cGe(t,r);return r.logger?.debug?.(`${qR} evaluateCondition: ${yf(t)} = ${yf(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),o7=Br((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=ylr(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${qR} assign: ${i.name} := ${yf(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),_lr=Br((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=mq(i,"Header value entry",t);if(typeof o!="string")throw new Ta(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),lGe=Br((e,t)=>{if(Array.isArray(e))return e.map(r=>lGe(r,t));switch(typeof e){case"string":return aGe(e,t);case"object":if(e===null)throw new Ta(`Unexpected endpoint property: ${e}`);return dGe(e,t);case"boolean":return e;default:throw new Ta(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),dGe=Br((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:lGe(s,t)}),{}),"getEndpointProperties"),Slr=Br((e,t)=>{let r=mq(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ta(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),vlr=Br((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=o7(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${qR} Resolving endpoint from template: ${yf(n)}`),{...l!=null&&{headers:_lr(l,o)},...c!=null&&{properties:dGe(c,o)},url:Slr(a,o)}},"evaluateEndpointRule"),Elr=Br((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=o7(r,t);if(s)throw new Ta(mq(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),Clr=Br((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=o7(r,t);if(s)return uGe(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),uGe=Br((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=vlr(r,t);if(n)return n}else if(r.type==="error")Elr(r,t);else if(r.type==="tree"){let n=Clr(r,t);if(n)return n}else throw new Ta(`Unknown endpoint rule: ${r}`);throw new Ta("Rules evaluation failed")},"evaluateRules"),blr=Br((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${qR} Initial EndpointParams: ${yf(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(o.length>0)for(let[l,d]of o)r[l]=r[l]??d;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Ta(`Missing required parameter: '${l}'`);let c=uGe(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${qR} Resolved endpoint: ${yf(c)}`),c},"resolveEndpoint")});var r_=E((Yxn,CGe)=>{"use strict";var fq=Object.defineProperty,wlr=Object.getOwnPropertyDescriptor,xlr=Object.getOwnPropertyNames,Alr=Object.prototype.hasOwnProperty,LC=(e,t)=>fq(e,"name",{value:t,configurable:!0}),Plr=(e,t)=>{for(var r in t)fq(e,r,{get:t[r],enumerable:!0})},Rlr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xlr(t))!Alr.call(e,s)&&s!==r&&fq(e,s,{get:()=>t[s],enumerable:!(n=wlr(t,s))||n.enumerable});return e},Ilr=e=>Rlr(fq({},"__esModule",{value:!0}),e),pGe={};Plr(pGe,{ConditionObject:()=>pn.ConditionObject,DeprecatedObject:()=>pn.DeprecatedObject,EndpointError:()=>pn.EndpointError,EndpointObject:()=>pn.EndpointObject,EndpointObjectHeaders:()=>pn.EndpointObjectHeaders,EndpointObjectProperties:()=>pn.EndpointObjectProperties,EndpointParams:()=>pn.EndpointParams,EndpointResolverOptions:()=>pn.EndpointResolverOptions,EndpointRuleObject:()=>pn.EndpointRuleObject,ErrorRuleObject:()=>pn.ErrorRuleObject,EvaluateOptions:()=>pn.EvaluateOptions,Expression:()=>pn.Expression,FunctionArgv:()=>pn.FunctionArgv,FunctionObject:()=>pn.FunctionObject,FunctionReturn:()=>pn.FunctionReturn,ParameterObject:()=>pn.ParameterObject,ReferenceObject:()=>pn.ReferenceObject,ReferenceRecord:()=>pn.ReferenceRecord,RuleSetObject:()=>pn.RuleSetObject,RuleSetRules:()=>pn.RuleSetRules,TreeRuleObject:()=>pn.TreeRuleObject,awsEndpointFunctions:()=>EGe,getUserAgentPrefix:()=>Dlr,isIpAddress:()=>pn.isIpAddress,partition:()=>SGe,resolveEndpoint:()=>pn.resolveEndpoint,setPartitionInfo:()=>vGe,useDefaultPartitionInfo:()=>Nlr});CGe.exports=Ilr(pGe);var pn=t_(),gGe=LC((e,t=!1)=>{if(t){for(let r of e.split("."))if(!gGe(r))return!1;return!0}return!(!(0,pn.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,pn.isIpAddress)(e))},"isVirtualHostableS3Bucket"),fGe=":",Tlr="/",Olr=LC(e=>{let t=e.split(fGe);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(fGe)==="")return null;let c=a.map(l=>l.split(Tlr)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),hGe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},yGe=hGe,_Ge="",SGe=LC(e=>{let{partitions:t}=yGe;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),vGe=LC((e,t="")=>{yGe=e,_Ge=t},"setPartitionInfo"),Nlr=LC(()=>{vGe(hGe,"")},"useDefaultPartitionInfo"),Dlr=LC(()=>_Ge,"getUserAgentPrefix"),EGe={isVirtualHostableS3Bucket:gGe,parseArn:Olr,partition:SGe};pn.customEndpointFunctions.aws=EGe});var pq,UC,bGe=v(()=>{pq={warningEmitted:!1},UC=e=>{e&&!pq.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(pq.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Og(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var wGe=v(()=>{});function xGe(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var AGe=v(()=>{});function PGe(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var RGe=v(()=>{});var Ng={};Kt(Ng,{emitWarningIfUnsupportedVersion:()=>UC,setCredentialFeature:()=>Og,setFeature:()=>xGe,setTokenFeature:()=>PGe,state:()=>pq});var bd=v(()=>{bGe();wGe();AGe();RGe()});var IGe,a7,TGe=v(()=>{IGe=C(Gr()),a7=e=>IGe.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var BC,c7=v(()=>{BC=e=>new Date(Date.now()+e)});var OGe,NGe=v(()=>{c7();OGe=(e,t)=>Math.abs(BC(t).getTime()-e)>=3e5});var l7,DGe=v(()=>{NGe();l7=(e,t)=>{let r=Date.parse(e);return OGe(r,t)?r-Date.now():t}});var d7=v(()=>{TGe();c7();DGe()});var kGe,jR,FC,Oa,u7,m7=v(()=>{kGe=C(Gr());d7();jR=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},FC=async e=>{let t=jR("context",e.context),r=jR("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await jR("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Oa=class{async sign(t,r,n){if(!kGe.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await FC(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,f]=l.authSchemes;u?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(t,{signingDate:BC(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??a7(r.$response);if(n){let s=jR("config",t.config),i=s.systemClockOffset;s.systemClockOffset=l7(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=a7(t);if(n){let s=jR("config",r.config);s.systemClockOffset=l7(n,s.systemClockOffset)}}},u7=Oa});var MGe,$R,LGe=v(()=>{MGe=C(Gr());d7();m7();$R=class extends Oa{async sign(t,r,n){if(!MGe.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await FC(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:BC(s.systemClockOffset),signingRegion:d,signingService:c})}}});var f7,UGe=v(()=>{f7=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var gq,p7=v(()=>{gq=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var BGe,FGe,qC,qGe=v(()=>{UGe();p7();BGe="AWS_AUTH_SCHEME_PREFERENCE",FGe="auth_scheme_preference",qC={environmentVariableSelector:(e,t)=>{if(t?.signingName&&gq(t.signingName)in e)return["httpBearerAuth"];if(BGe in e)return f7(e[BGe])},configFileSelector:e=>{if(FGe in e)return f7(e[FGe])},default:[]}});var ca=E((AAn,GGe)=>{var hq=Object.defineProperty,klr=Object.getOwnPropertyDescriptor,Mlr=Object.getOwnPropertyNames,Llr=Object.prototype.hasOwnProperty,n_=(e,t)=>hq(e,"name",{value:t,configurable:!0}),Ulr=(e,t)=>{for(var r in t)hq(e,r,{get:t[r],enumerable:!0})},Blr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Mlr(t))!Llr.call(e,s)&&s!==r&&hq(e,s,{get:()=>t[s],enumerable:!(n=klr(t,s))||n.enumerable});return e},Flr=e=>Blr(hq({},"__esModule",{value:!0}),e),jGe={};Ulr(jGe,{CredentialsProviderError:()=>qlr,ProviderError:()=>yq,TokenProviderError:()=>jlr,chain:()=>$lr,fromStatic:()=>zlr,memoize:()=>Hlr});GGe.exports=Flr(jGe);var yq=class $Ge extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,$Ge.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{n_(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},qlr=class zGe extends yq{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,zGe.prototype)}static{n_(this,"CredentialsProviderError")}},jlr=class HGe extends yq{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,HGe.prototype)}static{n_(this,"TokenProviderError")}},$lr=n_((...e)=>async()=>{if(e.length===0)throw new yq("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),zlr=n_(e=>()=>Promise.resolve(e),"fromStatic"),Hlr=n_((e,t,r)=>{let n,s,i,o=!1,a=n_(async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var g7,VGe,WGe,KGe=v(()=>{Co();g7=C(ca()),VGe=e=>(e.sigv4aSigningRegionSet=wg(e.sigv4aSigningRegionSet),e),WGe={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new g7.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new g7.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var b3e=E((IAn,C3e)=>{var wq=Object.defineProperty,Glr=Object.getOwnPropertyDescriptor,Vlr=Object.getOwnPropertyNames,Wlr=Object.prototype.hasOwnProperty,Ki=(e,t)=>wq(e,"name",{value:t,configurable:!0}),Klr=(e,t)=>{for(var r in t)wq(e,r,{get:t[r],enumerable:!0})},Xlr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vlr(t))!Wlr.call(e,s)&&s!==r&&wq(e,s,{get:()=>t[s],enumerable:!(n=Glr(t,s))||n.enumerable});return e},Jlr=e=>Xlr(wq({},"__esModule",{value:!0}),e),ZGe={};Klr(ZGe,{ALGORITHM_IDENTIFIER:()=>_q,ALGORITHM_IDENTIFIER_V4A:()=>edr,ALGORITHM_QUERY_PARAM:()=>e3e,ALWAYS_UNSIGNABLE_HEADERS:()=>c3e,AMZ_DATE_HEADER:()=>b7,AMZ_DATE_QUERY_PARAM:()=>S7,AUTH_HEADER:()=>C7,CREDENTIAL_QUERY_PARAM:()=>t3e,DATE_HEADER:()=>s3e,EVENT_ALGORITHM_IDENTIFIER:()=>u3e,EXPIRES_QUERY_PARAM:()=>n3e,GENERATED_HEADERS:()=>i3e,HOST_HEADER:()=>Qlr,KEY_TYPE_IDENTIFIER:()=>w7,MAX_CACHE_SIZE:()=>f3e,MAX_PRESIGNED_TTL:()=>p3e,PROXY_HEADER_PATTERN:()=>l3e,REGION_SET_PARAM:()=>Ylr,SEC_HEADER_PATTERN:()=>d3e,SHA256_HEADER:()=>bq,SIGNATURE_HEADER:()=>o3e,SIGNATURE_QUERY_PARAM:()=>v7,SIGNED_HEADERS_QUERY_PARAM:()=>r3e,SignatureV4:()=>udr,SignatureV4Base:()=>E3e,TOKEN_HEADER:()=>a3e,TOKEN_QUERY_PARAM:()=>E7,UNSIGNABLE_PATTERNS:()=>Zlr,UNSIGNED_PAYLOAD:()=>m3e,clearCredentialCache:()=>rdr,createScope:()=>vq,getCanonicalHeaders:()=>h7,getCanonicalQuery:()=>v3e,getPayloadHash:()=>Eq,getSigningKey:()=>g3e,hasHeader:()=>y3e,moveHeadersToQuery:()=>S3e,prepareRequest:()=>_7,signatureV4aContainer:()=>mdr});C3e.exports=Jlr(ZGe);var XGe=ci(),e3e="X-Amz-Algorithm",t3e="X-Amz-Credential",S7="X-Amz-Date",r3e="X-Amz-SignedHeaders",n3e="X-Amz-Expires",v7="X-Amz-Signature",E7="X-Amz-Security-Token",Ylr="X-Amz-Region-Set",C7="authorization",b7=S7.toLowerCase(),s3e="date",i3e=[C7,b7,s3e],o3e=v7.toLowerCase(),bq="x-amz-content-sha256",a3e=E7.toLowerCase(),Qlr="host",c3e={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},l3e=/^proxy-/,d3e=/^sec-/,Zlr=[/^proxy-/i,/^sec-/i],_q="AWS4-HMAC-SHA256",edr="AWS4-ECDSA-P256-SHA256",u3e="AWS4-HMAC-SHA256-PAYLOAD",m3e="UNSIGNED-PAYLOAD",f3e=50,w7="aws4_request",p3e=60*60*24*7,Dg=uY(),tdr=ci(),jC={},Sq=[],vq=Ki((e,t,r)=>`${e}/${t}/${r}/${w7}`,"createScope"),g3e=Ki(async(e,t,r,n,s)=>{let i=await JGe(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,Dg.toHex)(i)}:${t.sessionToken}`;if(o in jC)return jC[o];for(Sq.push(o);Sq.length>f3e;)delete jC[Sq.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,w7])a=await JGe(e,a,c);return jC[o]=a},"getSigningKey"),rdr=Ki(()=>{Sq.length=0,Object.keys(jC).forEach(e=>{delete jC[e]})},"clearCredentialCache"),JGe=Ki((e,t,r)=>{let n=new e(t);return n.update((0,tdr.toUint8Array)(r)),n.digest()},"hmac"),h7=Ki(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in c3e||t?.has(i)||l3e.test(i)||d3e.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),ndr=j9(),sdr=ci(),Eq=Ki(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===bq)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,ndr.isArrayBuffer)(t)){let n=new r;return n.update((0,sdr.toUint8Array)(t)),(0,Dg.toHex)(await n.digest())}return m3e},"getPayloadHash"),YGe=ci(),idr=class{static{Ki(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let i=(0,YGe.fromUtf8)(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=(0,YGe.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(adr.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!odr.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,Dg.fromHex)(e.value.replace(/\-/g,"")),1),d}}},odr=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,adr=class h3e{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ki(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&y7(r),new h3e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&y7(t),parseInt((0,Dg.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function y7(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ki(y7,"negate");var y3e=Ki((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),_3e=Gr(),S3e=Ki((e,t={})=>{let{headers:r,query:n={}}=_3e.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),_7=Ki(e=>{e=_3e.HttpRequest.clone(e);for(let t of Object.keys(e.headers))i3e.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),QGe=Ra(),cdr=ci(),Cq=rY(),v3e=Ki(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===o3e)continue;let s=(0,Cq.escapeUri)(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${(0,Cq.escapeUri)(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${(0,Cq.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),ldr=Ki(e=>ddr(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),ddr=Ki(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),E3e=class{static{Ki(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,QGe.normalizeProvider)(r),this.credentialProvider=(0,QGe.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${v3e(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,cdr.toUint8Array)(r));let i=await s.digest();return`${n}
${e}
${t}
${(0,Dg.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Cq.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=ldr(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},udr=class extends E3e{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i}),this.headerFormatter=new idr}static{Ki(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:f,shortDate:p}=this.formatDate(r);if(n>p3e)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=vq(p,u,l??this.service),S=S3e(_7(e),{unhoistableHeaders:i,hoistableHeaders:a});d.sessionToken&&(S.query[E7]=d.sessionToken),S.query[e3e]=_q,S.query[t3e]=`${d.accessKeyId}/${g}`,S.query[S7]=f,S.query[n3e]=n.toString(10);let b=h7(S,s,o);return S.query[r3e]=this.getCanonicalHeaderList(b),S.query[v7]=await this.getSignature(f,g,this.getSigningKey(d,u,p,l),this.createCanonicalRequest(S,b,await Eq(e,this.sha256))),S}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:i}){let o=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=vq(a,o,i??this.service),d=await Eq({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let f=(0,Dg.toHex)(await u.digest()),p=[u3e,c,l,n,f,d].join(`
`);return this.signString(p,{signingDate:r,signingRegion:o,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=r??await this.regionProvider(),{shortDate:o}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,i,o,n));return a.update((0,XGe.toUint8Array)(e)),(0,Dg.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=s??await this.regionProvider(),c=_7(e),{longDate:l,shortDate:d}=this.formatDate(t),u=vq(d,a,i??this.service);c.headers[b7]=l,o.sessionToken&&(c.headers[a3e]=o.sessionToken);let f=await Eq(c,this.sha256);!y3e(bq,c.headers)&&this.applyChecksum&&(c.headers[bq]=f);let p=h7(c,n,r),g=await this.getSignature(l,u,this.getSigningKey(o,a,d,i),this.createCanonicalRequest(c,p,f));return c.headers[C7]=`${_q} Credential=${o.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${g}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,_q),i=new this.sha256(await r);return i.update((0,XGe.toUint8Array)(s)),(0,Dg.toHex)(await i.digest())}getSigningKey(e,t,r,n){return g3e(this.sha256,e,r,t,n||this.service)}},mdr={SignatureV4a:null}});function fdr(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=t7(t,e7,dq):r?n=wg(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function pdr(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var x7,s_,w3e,x3e=v(()=>{bd();Co();x7=C(b3e()),s_=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=fdr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=pdr(e,d);r&&!u.attributed?(n=async f=>u(f).then(p=>Og(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=wg(e.signer):e.regionInfoProvider?a=()=>wg(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:f}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||x7.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await wg(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||x7.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},w3e=s_});var A3e=v(()=>{m7();LGe();qGe();KGe();x3e()});var P3e={};Kt(P3e,{AWSSDKSigV4Signer:()=>u7,AwsSdkSigV4ASigner:()=>$R,AwsSdkSigV4Signer:()=>Oa,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>qC,NODE_SIGV4A_CONFIG_OPTIONS:()=>WGe,getBearerTokenEnvKey:()=>gq,resolveAWSSDKSigV4Config:()=>w3e,resolveAwsSdkSigV4AConfig:()=>VGe,resolveAwsSdkSigV4Config:()=>s_,validateSigningProperties:()=>FC});var A7=v(()=>{A3e();p7()});var gdr,hdr,ydr,R3e=v(()=>{gdr=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},hdr=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},ydr=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var zR=E((GAn,O3e)=>{var xq=Object.defineProperty,_dr=Object.getOwnPropertyDescriptor,Sdr=Object.getOwnPropertyNames,vdr=Object.prototype.hasOwnProperty,Edr=(e,t)=>xq(e,"name",{value:t,configurable:!0}),Cdr=(e,t)=>{for(var r in t)xq(e,r,{get:t[r],enumerable:!0})},bdr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Sdr(t))!vdr.call(e,s)&&s!==r&&xq(e,s,{get:()=>t[s],enumerable:!(n=_dr(t,s))||n.enumerable});return e},wdr=e=>bdr(xq({},"__esModule",{value:!0}),e),T3e={};Cdr(T3e,{calculateBodyLength:()=>xdr});O3e.exports=wdr(T3e);var I3e=typeof TextEncoder=="function"?new TextEncoder:null,xdr=Edr(e=>{if(typeof e=="string"){if(I3e)return I3e.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var bo,kg=v(()=>{bo=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function N3e(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Wi(n,"bigDecimal"):BigInt(n)}return t}var D3e=v(()=>{_l()});var B3e=E((XAn,U3e)=>{var Aq=Object.defineProperty,Adr=Object.getOwnPropertyDescriptor,Pdr=Object.getOwnPropertyNames,Rdr=Object.prototype.hasOwnProperty,ks=(e,t)=>Aq(e,"name",{value:t,configurable:!0}),Idr=(e,t)=>{for(var r in t)Aq(e,r,{get:t[r],enumerable:!0})},Tdr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Pdr(t))!Rdr.call(e,s)&&s!==r&&Aq(e,s,{get:()=>t[s],enumerable:!(n=Adr(t,s))||n.enumerable});return e},Odr=e=>Tdr(Aq({},"__esModule",{value:!0}),e),L3e={};Idr(L3e,{constructStack:()=>P7});U3e.exports=Odr(L3e);var i_=ks((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Mg=ks((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),P7=ks(()=>{let e=[],t=[],r=!1,n=new Set,s=ks(u=>u.sort((f,p)=>k3e[p.step]-k3e[f.step]||M3e[p.priority||"normal"]-M3e[f.priority||"normal"]),"sort"),i=ks(u=>{let f=!1,p=ks(g=>{let S=i_(g.name,g.aliases);if(S.includes(u)){f=!0;for(let b of S)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByName"),o=ks(u=>{let f=!1,p=ks(g=>{if(g.middleware===u){f=!0;for(let S of i_(g.name,g.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByReference"),a=ks(u=>(e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),u.identifyOnResolve?.(d.identifyOnResolve()),u),"cloneTo"),c=ks(u=>{let f=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...c(p))}),f.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...c(p))}),f},"expandRelativeMiddlewareList"),l=ks((u=!1)=>{let f=[],p=[],g={};return e.forEach(b=>{let A={...b,before:[],after:[]};for(let P of i_(A.name,A.aliases))g[P]=A;f.push(A)}),t.forEach(b=>{let A={...b,before:[],after:[]};for(let P of i_(A.name,A.aliases))g[P]=A;p.push(A)}),p.forEach(b=>{if(b.toMiddleware){let A=g[b.toMiddleware];if(A===void 0){if(u)return;throw new Error(`${b.toMiddleware} is not found when adding ${Mg(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&A.after.push(b),b.relation==="before"&&A.before.push(b)}}),s(f).map(c).reduce((b,A)=>(b.push(...A),b),[])},"getMiddlewareList"),d={add:ks((u,f={})=>{let{name:p,override:g,aliases:S}=f,b={step:"initialize",priority:"normal",middleware:u,...f},A=i_(p,S);if(A.length>0){if(A.some(P=>n.has(P))){if(!g)throw new Error(`Duplicate middleware name '${Mg(p,S)}'`);for(let P of A){let M=e.findIndex(L=>L.name===P||L.aliases?.some(G=>G===P));if(M===-1)continue;let N=e[M];if(N.step!==b.step||b.priority!==N.priority)throw new Error(`"${Mg(N.name,N.aliases)}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by "${Mg(p,S)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice(M,1)}}for(let P of A)n.add(P)}e.push(b)},"add"),addRelativeTo:ks((u,f)=>{let{name:p,override:g,aliases:S}=f,b={middleware:u,...f},A=i_(p,S);if(A.length>0){if(A.some(P=>n.has(P))){if(!g)throw new Error(`Duplicate middleware name '${Mg(p,S)}'`);for(let P of A){let M=t.findIndex(L=>L.name===P||L.aliases?.some(G=>G===P));if(M===-1)continue;let N=t[M];if(N.toMiddleware!==b.toMiddleware||N.relation!==b.relation)throw new Error(`"${Mg(N.name,N.aliases)}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by "${Mg(p,S)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(M,1)}}for(let P of A)n.add(P)}t.push(b)},"addRelativeTo"),clone:ks(()=>a(P7()),"clone"),use:ks(u=>{u.applyToStack(d)},"use"),remove:ks(u=>typeof u=="string"?i(u):o(u),"remove"),removeByTag:ks(u=>{let f=!1,p=ks(g=>{let{tags:S,name:b,aliases:A}=g;if(S&&S.includes(u)){let P=i_(b,A);for(let M of P)n.delete(M);return f=!0,!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByTag"),concat:ks(u=>{let f=a(P7());return f.use(u),f.identifyOnResolve(r||f.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),f},"concat"),applyToStack:a,identify:ks(()=>l(!0).map(u=>{let f=u.step??u.relation+" "+u.toMiddleware;return Mg(u.name,u.aliases)+" - "+f}),"identify"),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:ks((u,f)=>{for(let p of l().map(g=>g.middleware).reverse())u=p(u,f);return r&&console.log(d.identify()),u},"resolve")};return d},"constructStack"),k3e={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},M3e={high:3,normal:2,low:1}});var mt=E((JAn,M7)=>{var Rq=Object.defineProperty,Ndr=Object.getOwnPropertyDescriptor,Ddr=Object.getOwnPropertyNames,kdr=Object.prototype.hasOwnProperty,Wt=(e,t)=>Rq(e,"name",{value:t,configurable:!0}),Mdr=(e,t)=>{for(var r in t)Rq(e,r,{get:t[r],enumerable:!0})},T7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ddr(t))!kdr.call(e,s)&&s!==r&&Rq(e,s,{get:()=>t[s],enumerable:!(n=Ndr(t,s))||n.enumerable});return e},Ldr=(e,t,r)=>(T7(e,t,"default"),r&&T7(r,t,"default")),Udr=e=>T7(Rq({},"__esModule",{value:!0}),e),D7={};Mdr(D7,{Client:()=>Bdr,Command:()=>j3e,NoOpLogger:()=>rur,SENSITIVE_STRING:()=>jdr,ServiceException:()=>zdr,_json:()=>N7,collectBody:()=>R7.collectBody,convertMap:()=>nur,createAggregatedClient:()=>$dr,decorateServiceException:()=>$3e,emitWarningIfUnsupportedVersion:()=>Wdr,extendedEncodeURIComponent:()=>R7.extendedEncodeURIComponent,getArrayIfSingleItem:()=>eur,getDefaultClientConfiguration:()=>Qdr,getDefaultExtensionConfiguration:()=>H3e,getValueFromTextNode:()=>G3e,isSerializableHeaderValue:()=>tur,loadConfigsForDefaultMode:()=>Vdr,map:()=>k7,resolveDefaultRuntimeConfig:()=>Zdr,resolvedPath:()=>R7.resolvedPath,serializeDateTime:()=>lur,serializeFloat:()=>cur,take:()=>sur,throwDefaultError:()=>z3e,withBaseException:()=>Hdr});M7.exports=Udr(D7);var q3e=B3e(),Bdr=class{constructor(e){this.config=e,this.middlewareStack=(0,q3e.constructStack)()}static{Wt(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,i=n===void 0&&this.config.cacheMiddleware===!0,o;if(i){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?o=a.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},R7=(gf(),H(GHe)),O7=Cg(),Fdr=(Ks(),H(Kze)),I7="***SensitiveInformation***";function Pq(e,t){if(t==null)return t;let r=Fdr.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return I7;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return I7}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return I7}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=Pq(o,n[i]));return s}return t}Wt(Pq,"schemaLogFilter");var j3e=class{constructor(){this.middlewareStack=(0,q3e.constructStack)()}static{Wt(this,"Command")}static classBuilder(){return new qdr}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let S of n.bind(this)(d,e,t,r))this.middlewareStack.use(S);let u=e.concat(this.middlewareStack),{logger:f}=t,p={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[O7.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return u.resolve(S=>g.handle(S.request,r||{}),p)}},qdr=class{constructor(){this._init=Wt(()=>{},"_init"),this._ep={},this._middlewareFn=Wt(()=>[],"_middlewareFn"),this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=void 0,this._outputFilterSensitiveLog=void 0,this._serializer=null,this._deserializer=null}static{Wt(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends j3e{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{Wt(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(e._operationSchema?Pq.bind(null,e._operationSchema.input):i=>i),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(e._operationSchema?Pq.bind(null,e._operationSchema.output):i=>i),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},jdr="***SensitiveInformation***",$dr=Wt((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=Wt(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},"createAggregatedClient"),zdr=class HR extends Error{static{Wt(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return HR.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===HR?HR.isInstance(t):HR.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},$3e=Wt((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),z3e=Wt(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Gdr(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw $3e(o,t)},"throwDefaultError"),Hdr=Wt(e=>({output:t,parsedBody:r,errorCode:n})=>{z3e({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Gdr=Wt(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Vdr=Wt(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),F3e=!1,Wdr=Wt(e=>{e&&!F3e&&parseInt(e.substring(1,e.indexOf(".")))<16&&(F3e=!0)},"emitWarningIfUnsupportedVersion"),Kdr=Wt(e=>{let t=[];for(let r in O7.AlgorithmId){let n=O7.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:Wt(()=>n,"algorithmId"),checksumConstructor:Wt(()=>e[n],"checksumConstructor")})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Xdr=Wt(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Jdr=Wt(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Ydr=Wt(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),H3e=Wt(e=>Object.assign(Kdr(e),Jdr(e)),"getDefaultExtensionConfiguration"),Qdr=H3e,Zdr=Wt(e=>Object.assign(Xdr(e),Ydr(e)),"resolveDefaultRuntimeConfig"),eur=Wt(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),G3e=Wt(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=G3e(e[r]));return e},"getValueFromTextNode"),tur=Wt(e=>e!=null,"isSerializableHeaderValue"),rur=class{static{Wt(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function k7(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,iur(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}V3e(n,null,i,o)}return n}Wt(k7,"map");var nur=Wt(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),sur=Wt((e,t)=>{let r={};for(let n in t)V3e(r,e,t,n);return r},"take"),iur=Wt((e,t,r)=>k7(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),V3e=Wt((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=our,c=aur,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},"applyInstruction"),our=Wt(e=>e!=null,"nonNullish"),aur=Wt(e=>e,"pass"),cur=Wt(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),lur=Wt(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),N7=Wt(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(N7);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=N7(e[r]));return t}return e},"_json");Ldr(D7,(_l(),H(THe)),M7.exports)});var W3e,Iq,L7=v(()=>{W3e=C(mt()),Iq=(e,t)=>(0,W3e.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var $C,U7,o_,GR=v(()=>{L7();$C=(e,t)=>Iq(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),U7=async(e,t)=>{let r=await $C(e,t);return r.message=r.message??r.Message,r},o_=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var K3e,VR,B7=v(()=>{Ks();_l();K3e=C(Eo());kg();D3e();GR();VR=class extends bo{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,N3e):await $C(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=Je.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,K3e.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return aa.from(r);if(s.isTimestampSchema()){let o=this.settings.timestampFormat;switch(o.useTrait?s.getSchema()===be.TIMESTAMP_DEFAULT?o.default:s.getSchema()??o.default:o.default){case be.TIMESTAMP_DATE_TIME:return TR(r);case be.TIMESTAMP_HTTP_DATE:return OR(r);case be.TIMESTAMP_EPOCH_SECONDS:return NR(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof Wi?r:new Wi(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var X3e,Tq,J3e=v(()=>{_l();X3e="\u039D",Tq=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Wi){let n=`${X3e+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${X3e+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var WR,F7=v(()=>{Ks();_l();_l();kg();J3e();WR=class extends bo{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=Je.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Tq;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=Je.of(t);if(i.isListSchema()&&Array.isArray(r)){let a=i.getValueSchema(),c=[],l=!!i.getMergedTraits().sparse;for(let d of r)(l||d!=null)&&c.push(this._write(a,d));return c}else if(i.isMapSchema()&&s){let a=i.getValueSchema(),c={},l=!!i.getMergedTraits().sparse;for(let[d,u]of Object.entries(r))(l||u!=null)&&(c[d]=this._write(a,u));return c}else if(i.isStructSchema()&&s){let a={};for(let[c,l]of i.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,u=this._write(l,r[c],i);u!==void 0&&(a[d]=u)}return a}if(r===null&&n?.isStructSchema())return;if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(i===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(i.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?i.getSchema()===be.TIMESTAMP_DEFAULT?a.default:i.getSchema()??a.default:a.default){case be.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case be.TIMESTAMP_HTTP_DATE:return IR(r);case be.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let o=i.getMergedTraits().mediaType;return i.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json"))?aa.from(r):r}}});var a_,Oq=v(()=>{kg();B7();F7();a_=class extends bo{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new WR(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new VR(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Y3e,c_,Nq=v(()=>{gf();Ks();Y3e=C(zR());Oq();GR();c_=class extends Xy{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new a_({timestampFormat:{useTrait:!0,default:be.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+Je.of(t).getName()}),(Au(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=String((0,Y3e.calculateBodyLength)(s.body))}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){let o=o_(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=Vr.for(a),d;try{d=l.getSchema(o)}catch{let b=Vr.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let A=b.ctor;throw Object.assign(new A(c),s)}throw new Error(c)}let u=Je.of(d),f=s.message??s.Message??"Unknown",p=new d.ctor(f);await this.deserializeHttpMessage(d,r,n,s);let g={};for(let[S,b]of u.structIterator()){let A=b.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(b,s[A])}throw Object.assign(p,{$metadata:i,$response:n,$fault:u.getMergedTraits().error,message:f,...g}),p}}});var q7,Q3e=v(()=>{Nq();q7=class extends c_{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var j7,Z3e=v(()=>{Nq();j7=class extends c_{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var eVe,$7,tVe=v(()=>{gf();Ks();eVe=C(zR());Oq();GR();$7=class extends Ky{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:be.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new a_(r),this.serializer=new Zy(this.codec.createSerializer(),r),this.deserializer=new Qy(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Je.of(t.input),o=i.getMemberSchemas();if(!s.headers["content-type"]){let a=Object.values(o).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]="application/json"}else i.isUnitSchema()||Object.values(o).find(l=>{let{httpQuery:d,httpQueryParams:u,httpHeader:f,httpLabel:p,httpPrefixHeaders:g}=l.getMergedTraits();return!d&&!u&&!f&&!p&&g===void 0})&&(s.headers["content-type"]="application/json")}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=String((0,eVe.calculateBodyLength)(s.body))}catch{}return s}async handleError(t,r,n,s,i){let o=o_(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=Vr.for(a),d;try{d=l.getSchema(o)}catch{let b=Vr.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let A=b.ctor;throw Object.assign(new A(c),s)}throw new Error(c)}let u=Je.of(d),f=s.message??s.Message??"Unknown",p=new d.ctor(f);await this.deserializeHttpMessage(d,r,n,s);let g={};for(let[S,b]of u.structIterator()){let A=b.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(b,s[A])}throw Object.assign(p,{$metadata:i,$response:n,$fault:u.getMergedTraits().error,message:f,...g}),p}}});var rVe,dur,nVe=v(()=>{rVe=C(mt()),dur=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,rVe.expectUnion)(e)}});var Dq=E(_f=>{"use strict";var sVe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",uur=sVe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",iVe="["+sVe+"]["+uur+"]*",mur=new RegExp("^"+iVe+"$"),fur=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r},pur=function(e){let t=mur.exec(e);return!(t===null||typeof t>"u")};_f.isExist=function(e){return typeof e<"u"};_f.isEmptyObject=function(e){return Object.keys(e).length===0};_f.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let i=0;i<s;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};_f.getValue=function(e){return _f.isExist(e)?e:""};_f.isName=pur;_f.getAllMatches=fur;_f.nameRegexp=iVe});var H7=E(dVe=>{"use strict";var z7=Dq(),gur={allowBooleanAttributes:!1,unpairedTags:[]};dVe.validate=function(e,t){t=Object.assign({},gur,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=aVe(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=cVe(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!bur(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",Ms("InvalidTag",u,la(e,i))}let l=_ur(e,i);if(l===!1)return Ms("InvalidAttr","Attributes for '"+c+"' have open quote.",la(e,i));let d=l.value;if(i=l.index,d[d.length-1]==="/"){let u=i-d.length;d=d.substring(0,d.length-1);let f=lVe(d,t);if(f===!0)n=!0;else return Ms(f.err.code,f.err.msg,la(e,u+f.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return Ms("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",la(e,o));if(r.length===0)return Ms("InvalidTag","Closing tag '"+c+"' has not been opened.",la(e,o));{let u=r.pop();if(c!==u.tagName){let f=la(e,u.tagStartPos);return Ms("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",la(e,o))}r.length==0&&(s=!0)}}else return Ms("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",la(e,i));else{let u=lVe(d,t);if(u!==!0)return Ms(u.err.code,u.err.msg,la(e,i-d.length+u.err.line));if(s===!0)return Ms("InvalidXml","Multiple possible root nodes found.",la(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=cVe(e,i);continue}else if(e[i+1]==="?"){if(i=aVe(e,++i),i.err)return i}else break;else if(e[i]==="&"){let u=Eur(e,i);if(u==-1)return Ms("InvalidChar","char '&' is not expected.",la(e,i));i=u}else if(s===!0&&!oVe(e[i]))return Ms("InvalidXml","Extra text at the end",la(e,i));e[i]==="<"&&i--}}else{if(oVe(e[i]))continue;return Ms("InvalidChar","char '"+e[i]+"' is not expected.",la(e,i))}if(n){if(r.length==1)return Ms("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",la(e,r[0].tagStartPos));if(r.length>0)return Ms("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ms("InvalidXml","Start tag expected.",1);return!0};function oVe(e){return e===" "||e==="	"||e===`
`||e==="\r"}function aVe(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Ms("InvalidXml","XML declaration allowed only at the start of the document.",la(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function cVe(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var hur='"',yur="'";function _ur(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===hur||e[t]===yur)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var Sur=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function lVe(e,t){let r=z7.getAllMatches(e,Sur),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return Ms("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",KR(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return Ms("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",KR(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return Ms("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",KR(r[s]));let i=r[s][2];if(!Cur(i))return Ms("InvalidAttr","Attribute '"+i+"' is an invalid name.",KR(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return Ms("InvalidAttr","Attribute '"+i+"' is repeated.",KR(r[s]))}return!0}function vur(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Eur(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,vur(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Ms(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Cur(e){return z7.isName(e)}function bur(e){return z7.isName(e)}function la(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function KR(e){return e.startIndex+e[1].length}});var mVe=E(G7=>{var uVe={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},wur=function(e){return Object.assign({},uVe,e)};G7.buildOptions=wur;G7.defaultOptions=uVe});var pVe=E((jPn,fVe)=>{"use strict";var V7=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};fVe.exports=V7});var hVe=E(($Pn,gVe)=>{var xur=Dq();function Aur(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&Iur(e,t))t+=7,[entityName,val,t]=Pur(e,t+1),val.indexOf("&")===-1&&(r[Dur(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&Tur(e,t))t+=8;else if(s&&Our(e,t))t+=8;else if(s&&Nur(e,t))t+=9;else if(Rur)i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Pur(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],s="";for(;t<e.length&&e[t]!==n;t++)s+=e[t];return[r,s,t]}function Rur(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Iur(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Tur(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Our(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Nur(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Dur(e){if(xur.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}gVe.exports=Aur});var _Ve=E((zPn,yVe)=>{var kur=/^[-+]?0x[a-fA-F0-9]+$/,Mur=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Lur={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Uur(e,t={}){if(t=Object.assign({},Lur,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&kur.test(r))return Fur(r,16);if(r.search(/[eE]/)!==-1){let n=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(n){if(t.leadingZeros)r=(n[1]||"")+n[3];else if(!(n[2]==="0"&&n[3][0]==="."))return e;return t.eNotation?Number(r):e}else return e}else{let n=Mur.exec(r);if(n){let s=n[1],i=n[2],o=Bur(n[3]);if(!t.leadingZeros&&i.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!s&&r[1]!==".")return e;if(t.leadingZeros&&i===e)return 0;{let a=Number(r),c=""+a;return c.search(/[eE]/)!==-1?t.eNotation?a:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||s&&c==="-"+o?a:e:i?o===c||s+o===c?a:e:r===c||r===s+c?a:e}}else return e}}function Bur(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}function Fur(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}yVe.exports=Uur});var EVe=E((HPn,vVe)=>{"use strict";var SVe=Dq(),XR=pVe(),qur=hVe(),jur=_Ve(),W7=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=$ur,this.parseXml=Wur,this.parseTextData=zur,this.resolveNameSpace=Hur,this.buildAttributesMap=Vur,this.isItStopNode=Yur,this.replaceEntitiesValue=Xur,this.readStopNodeData=Zur,this.saveTextToParentTag=Jur,this.addChild=Kur}};function $ur(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function zur(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?X7(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?X7(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Hur(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var Gur=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Vur(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=SVe.getAllMatches(e,Gur),s=n.length,i={};for(let o=0;o<s;o++){let a=this.resolveNameSpace(n[o][1]),c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?i[l]=c:typeof d!=typeof c||d!==c?i[l]=d:i[l]=X7(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=i,o}return i}}var Wur=function(e){e=e.replace(/\r\n?/g,`
`);let t=new XR("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=l_(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=K7(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new XR(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=l_(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=qur(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=l_(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),i=a+2}else{let a=K7(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,u=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c),this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let b=this.readStopNodeData(e,l,f+1);if(!b)throw new Error(`Unexpected end of ${l}`);i=b.i,g=b.tagContent}let S=new XR(c);c!==d&&u&&(S[":@"]=this.buildAttributesMap(d,s,c)),g&&(g=this.parseTextData(g,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),S.add(this.options.textNodeName,g),this.addChild(r,S,s)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new XR(c);c!==d&&u&&(g[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,g,s),s=s.substr(0,s.lastIndexOf("."))}else{let g=new XR(c);this.tagsNodeStack.push(r),c!==d&&u&&(g[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,g,s),r=g}n="",i=f}}else n+=e[i];return t.child};function Kur(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var Xur=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Jur(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Yur(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function Qur(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function l_(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function K7(e,t,r,n=">"){let s=Qur(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let d=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),l=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:d}}function Zur(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=l_(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=l_(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=l_(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=l_(e,"]]>",r,"StopNode is not closed.")-2;else{let i=K7(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function X7(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:jur(e,r)}else return SVe.isExist(e)?e:""}vVe.exports=W7});var wVe=E(bVe=>{"use strict";function emr(e,t){return CVe(e,t)}function CVe(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=tmr(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=CVe(o[a],t,c),d=nmr(l,t);o[":@"]?rmr(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):t.isArray(a,c,d)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function tmr(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function rmr(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function nmr(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}bVe.prettify=emr});var AVe=E((VPn,xVe)=>{var{buildOptions:smr}=mVe(),imr=EVe(),{prettify:omr}=wVe(),amr=H7(),J7=class{constructor(t){this.externalEntities={},this.options=smr(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=amr.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new imr(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:omr(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};xVe.exports=J7});var OVe=E((WPn,TVe)=>{var cmr=`
`;function lmr(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=cmr),RVe(e,t,"",r)}function RVe(e,t,r,n){let s="",i=!1;for(let o=0;o<e.length;o++){let a=e[o],c=dmr(a);if(c===void 0)continue;let l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let g=a[c];umr(l,t)||(g=t.tagValueProcessor(c,g),g=IVe(g,t)),i&&(s+=n),s+=g,i=!1;continue}else if(c===t.cdataPropName){i&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){s+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let g=PVe(a[":@"],t),S=c==="?xml"?"":n,b=a[c][0][t.textNodeName];b=b.length!==0?" "+b:"",s+=S+`<${c}${b}${g}?>`,i=!0;continue}let d=n;d!==""&&(d+=t.indentBy);let u=PVe(a[":@"],t),f=n+`<${c}${u}`,p=RVe(a[c],t,l,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=f+">":s+=f+"/>":(!p||p.length===0)&&t.suppressEmptyNode?s+=f+"/>":p&&p.endsWith(">")?s+=f+`>${p}${n}</${c}>`:(s+=f+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?s+=n+t.indentBy+p+n:s+=p,s+=`</${c}>`),i=!0}return s}function dmr(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function PVe(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let s=t.attributeValueProcessor(n,e[n]);s=IVe(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function umr(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function IVe(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}TVe.exports=lmr});var DVe=E((KPn,NVe)=>{"use strict";var mmr=OVe(),fmr={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Lg(e){this.options=Object.assign({},fmr,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=hmr),this.processTextOrObjNode=pmr,this.options.format?(this.indentate=gmr,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Lg.prototype.build=function(e){return this.options.preserveOrder?mmr(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Lg.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(Object.prototype.hasOwnProperty.call(e,s))if(typeof e[s]>"u")this.isAttribute(s)&&(n+="");else if(e[s]===null)this.isAttribute(s)?n+="":s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+e[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let i=e[s].length,o="",a="";for(let c=0;c<i;c++){let l=e[s][c];if(!(typeof l>"u"))if(l===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let d=this.j2x(l,t+1);o+=d.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else o+=this.processTextOrObjNode(l,s,t);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(s,l);d=this.replaceEntitiesValue(d),o+=d}else o+=this.buildTextValNode(l,s,"",t)}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,a,t)),n+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(e[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+e[s][i[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};Lg.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function pmr(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Lg.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",s=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+s}};Lg.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Lg.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}};Lg.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function gmr(e){return this.options.indentBy.repeat(e)}function hmr(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}NVe.exports=Lg});var Y7=E((XPn,kVe)=>{"use strict";var ymr=H7(),_mr=AVe(),Smr=DVe();kVe.exports={XMLParser:_mr,XMLValidator:ymr,XMLBuilder:Smr}});var MVe,LVe,UVe,d_,kq=v(()=>{gf();Ks();MVe=C(mt()),LVe=C(ci()),UVe=C(Y7());kg();d_=class extends bo{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Yy(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=Je.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??LVe.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=Je.of(t),s=n.getMergedTraits(),i=n.getSchema();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(i,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),d=[],u=l.getMergedTraits().xmlName??"member",f=a?r:(r[0]??r)[u],p=Array.isArray(f)?f:[f];for(let g of p)(g!=null||o)&&d.push(this.readSchema(l,g));return d}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),d=n.getValueSchema(),u;a?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let f=l.getMergedTraits().xmlName??"key",p=d.getMergedTraits().xmlName??"value";for(let g of u){let S=g[f],b=g[p];(b!=null||o)&&(c[S]=this.readSchema(d,b))}return c}if(n.isStructSchema()){for(let[l,d]of n.structIterator()){let u=d.getMergedTraits(),f=u.httpPayload?u.xmlName??d.getName():d.getMemberTraits().xmlName??l;r[f]!=null&&(c[l]=this.readSchema(d,r[f]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}else return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new UVe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,MVe.getValueFromTextNode)(o)}return{}}}});var BVe,FVe,Mq,qVe=v(()=>{gf();Ks();_l();BVe=C(mt()),FVe=C(Eo());kg();Mq=class extends bo{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=Je.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??FVe.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Wi?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Jy(s,this.settings)){case be.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case be.TIMESTAMP_HTTP_DATE:this.writeValue((0,BVe.dateToUtcString)(r));break;case be.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),f=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,f),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null)continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${xu(t)}=`}writeValue(t){this.buffer+=xu(t)}}});var jVe,JR,Q7=v(()=>{gf();Ks();jVe=C(zR());kq();qVe();JR=class extends Xy{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:be.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Mq(r),this.deserializer=new d_(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Au(t.input)==="unit"||!s.body)&&(s.body=""),s.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=String((0,jVe.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let d=await Cd(n.body,r);d.byteLength>0&&Object.assign(o,await s.read(be.DOCUMENT,d)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let d in n.headers){let u=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=u}let a=i.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await Cd(n.body,r);return c.byteLength>0&&Object.assign(o,await s.read(i,c,a)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=this.loadQueryError(s),d=Vr.for(a),u;try{u=d.find(b=>Je.of(b).getMergedTraits().awsQueryError?.[0]===c),u||(u=d.getSchema(o))}catch{let A=Vr.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(A){let P=A.ctor;throw Object.assign(new P(c),l)}throw new Error(c)}let f=Je.of(u),p=this.loadQueryErrorMessage(s),g=new u.ctor(p),S={};for(let[b,A]of f.structIterator()){let P=A.getMergedTraits().xmlName??b,M=l[P]??s[P];S[b]=this.deserializer.readSchema(A,M)}throw Object.assign(g,{$metadata:i,$response:n,$fault:f.getMergedTraits().error,message:p,...S}),g}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var Z7,$Ve=v(()=>{Q7();Z7=class extends JR{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var zVe,HVe,YR,eQ,tQ,rQ=v(()=>{zVe=C(mt()),HVe=C(Y7());L7();YR=(e,t)=>Iq(e,t).then(r=>{if(r.length){let n=new HVe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,zVe.getValueFromTextNode)(a)}return{}}),eQ=async(e,t)=>{let r=await YR(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},tQ=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var JVe=E((pRn,XVe)=>{"use strict";var Uq=Object.defineProperty,vmr=Object.getOwnPropertyDescriptor,Emr=Object.getOwnPropertyNames,Cmr=Object.prototype.hasOwnProperty,Bq=(e,t)=>Uq(e,"name",{value:t,configurable:!0}),bmr=(e,t)=>{for(var r in t)Uq(e,r,{get:t[r],enumerable:!0})},wmr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Emr(t))!Cmr.call(e,s)&&s!==r&&Uq(e,s,{get:()=>t[s],enumerable:!(n=vmr(t,s))||n.enumerable});return e},xmr=e=>wmr(Uq({},"__esModule",{value:!0}),e),GVe={};bmr(GVe,{XmlNode:()=>Amr,XmlText:()=>KVe});XVe.exports=xmr(GVe);function VVe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Bq(VVe,"escapeAttribute");function WVe(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Bq(WVe,"escapeElement");var KVe=class{constructor(e){this.value=e}static{Bq(this,"XmlText")}toString(){return WVe(""+this.value)}},Amr=class Lq{constructor(t,r=[]){this.name=t,this.children=r}static{Bq(this,"XmlNode")}attributes={};static of(t,r,n){let s=new Lq(t);return r!==void 0&&s.addChildNode(new KVe(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=Lq.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new Lq(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${VVe(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Sl,nQ,Fq,QR,sQ=v(()=>{Sl=C(JVe());Ks();_l();nQ=C(mt()),Fq=C(Eo());kg();QR=class extends bo{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=Je.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Fq.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Sl.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);c&&o.addAttribute(a,c);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let f=Sl.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,f,c),o.addChildNode(f)}}}return o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),f=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let S=this.writeStruct(o,g,u);p.addChildNode(S.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=Sl.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,S,u),p.addChildNode(S)}};if(l)for(let p of r)(c||p!=null)&&f(n,p);else{let p=Sl.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&f(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),f=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[S,b]=this.getXmlnsAttribute(t,s),A=(P,M,N)=>{let L=Sl.XmlNode.of(l,M),[G,pe]=this.getXmlnsAttribute(a,b);pe&&L.addAttribute(G,pe),P.addChildNode(L);let ne=Sl.XmlNode.of(f);d.isListSchema()?this.writeList(d,N,ne,b):d.isMapSchema()?this.writeMap(d,N,ne,b,!0):d.isStructSchema()?ne=this.writeStruct(d,N,b):this.writeSimpleInto(d,N,ne,b),P.addChildNode(ne)};if(g){for(let[P,M]of Object.entries(r))if(p||M!=null){let N=Sl.XmlNode.of(o.xmlName??t.getMemberName());A(N,P,M),n.addChildNode(N)}}else{let P;i||(P=Sl.XmlNode.of(o.xmlName??t.getMemberName()),b&&P.addAttribute(S,b),n.addChildNode(P));for(let[M,N]of Object.entries(r))if(p||N!=null){let L=Sl.XmlNode.of("entry");A(L,M,N),(i?n:P).addChildNode(L)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=Je.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??Fq.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?n.getSchema()===be.TIMESTAMP_DEFAULT?i.default:n.getSchema()??i.default:i.default){case be.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case be.TIMESTAMP_HTTP_DATE:s=(0,nQ.dateToUtcString)(r);break;case be.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,nQ.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Wi?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=Je.of(t),a=new Sl.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var ZR,iQ=v(()=>{kg();kq();sQ();ZR=class extends bo{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new QR(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new d_(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var YVe,oQ,QVe=v(()=>{gf();Ks();YVe=C(zR());rQ();iQ();oQ=class extends Ky{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:be.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ZR(r),this.serializer=new Zy(this.codec.createSerializer(),r),this.deserializer=new Qy(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Je.of(t.input),o=i.getMemberSchemas();if(s.path=String(s.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!s.headers["content-type"]){let a=Object.values(o).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]="application/xml"}else i.isUnitSchema()||Object.values(o).find(l=>{let{httpQuery:d,httpQueryParams:u,httpHeader:f,httpLabel:p,httpPrefixHeaders:g}=l.getMergedTraits();return!d&&!u&&!f&&!p&&g===void 0})&&(s.headers["content-type"]="application/xml")}if(s.headers["content-type"]==="application/xml"&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=String((0,YVe.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=tQ(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=Vr.for(a),d;try{d=l.getSchema(o)}catch{let b=Vr.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let A=b.ctor;throw Object.assign(new A(c),s)}throw new Error(c)}let u=Je.of(d),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",p=new d.ctor(f);await this.deserializeHttpMessage(d,r,n,s);let g={};for(let[S,b]of u.structIterator()){let A=b.getMergedTraits().xmlName??S,P=s.Error?.[A]??s[A];g[S]=this.codec.createDeserializer().readSchema(b,P)}throw Object.assign(p,{$metadata:i,$response:n,$fault:u.getMergedTraits().error,message:f,...g}),p}}});var ZVe=v(()=>{R3e();Q3e();Z3e();Nq();tVe();Oq();B7();F7();nVe();GR();$Ve();Q7();QVe();iQ();kq();sQ();rQ()});var Na={};Kt(Na,{AWSSDKSigV4Signer:()=>u7,AwsEc2QueryProtocol:()=>Z7,AwsJson1_0Protocol:()=>q7,AwsJson1_1Protocol:()=>j7,AwsJsonRpcProtocol:()=>c_,AwsQueryProtocol:()=>JR,AwsRestJsonProtocol:()=>$7,AwsRestXmlProtocol:()=>oQ,AwsSdkSigV4ASigner:()=>$R,AwsSdkSigV4Signer:()=>Oa,JsonCodec:()=>a_,JsonShapeDeserializer:()=>VR,JsonShapeSerializer:()=>WR,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>qC,NODE_SIGV4A_CONFIG_OPTIONS:()=>WGe,XmlCodec:()=>ZR,XmlShapeDeserializer:()=>d_,XmlShapeSerializer:()=>QR,_toBool:()=>hdr,_toNum:()=>ydr,_toStr:()=>gdr,awsExpectUnion:()=>dur,emitWarningIfUnsupportedVersion:()=>UC,getBearerTokenEnvKey:()=>gq,loadRestJsonErrorCode:()=>o_,loadRestXmlErrorCode:()=>tQ,parseJsonBody:()=>$C,parseJsonErrorBody:()=>U7,parseXmlBody:()=>YR,parseXmlErrorBody:()=>eQ,resolveAWSSDKSigV4Config:()=>w3e,resolveAwsSdkSigV4AConfig:()=>VGe,resolveAwsSdkSigV4Config:()=>s_,setCredentialFeature:()=>Og,setFeature:()=>xGe,setTokenFeature:()=>PGe,state:()=>pq,validateSigningProperties:()=>FC});var Es=v(()=>{bd();A7();ZVe()});var u_=E((JRn,u2e)=>{"use strict";var jq=Object.defineProperty,Pmr=Object.getOwnPropertyDescriptor,Rmr=Object.getOwnPropertyNames,Imr=Object.prototype.hasOwnProperty,Sf=(e,t)=>jq(e,"name",{value:t,configurable:!0}),Tmr=(e,t)=>{for(var r in t)jq(e,r,{get:t[r],enumerable:!0})},Omr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rmr(t))!Imr.call(e,s)&&s!==r&&jq(e,s,{get:()=>t[s],enumerable:!(n=Pmr(t,s))||n.enumerable});return e},Nmr=e=>Omr(jq({},"__esModule",{value:!0}),e),n2e={};Tmr(n2e,{DEFAULT_UA_APP_ID:()=>s2e,getUserAgentMiddlewareOptions:()=>d2e,getUserAgentPlugin:()=>qmr,resolveUserAgentConfig:()=>o2e,userAgentMiddleware:()=>l2e});u2e.exports=Nmr(n2e);var Dmr=(Co(),H(Tg)),s2e=void 0;function i2e(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Sf(i2e,"isValidUserAgentAppId");function o2e(e){let t=(0,Dmr.normalizeProvider)(e.userAgentAppId??s2e),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Sf(async()=>{let n=await t();if(!i2e(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Sf(o2e,"resolveUserAgentConfig");var kmr=r_(),Mmr=Gr(),Ru=(Es(),H(Na)),Lmr=/\d{12}\.ddb/;async function a2e(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Ru.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,Ru.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Ru.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Ru.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(Lmr)&&(0,Ru.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Ru.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Ru.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Ru.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,Ru.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,Ru.setFeature)(e,o,a)}}Sf(a2e,"checkFeatures");var e2e="user-agent",aQ="x-amz-user-agent",t2e=" ",cQ="/",Umr=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Bmr=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,r2e="-",Fmr=1024;function c2e(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Fmr){t.length?t+=","+n:t+=n;continue}break}return t}Sf(c2e,"encodeFeatures");var l2e=Sf(e=>(t,r)=>async n=>{let{request:s}=n;if(!Mmr.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(qq)||[],a=(await e.defaultUserAgentProvider()).map(qq);await a2e(r,e,n);let c=r;a.push(`m/${c2e(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(qq)||[],d=await e.userAgentAppId();d&&a.push(qq([`app/${d}`]));let u=(0,kmr.getUserAgentPrefix)(),f=(u?[u]:[]).concat([...a,...o,...l]).join(t2e),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(t2e);return e.runtime!=="browser"?(p&&(i[aQ]=i[aQ]?`${i[e2e]} ${p}`:p),i[e2e]=f):i[aQ]=f,t({...n,request:s})},"userAgentMiddleware"),qq=Sf(e=>{let t=e[0].split(cQ).map(o=>o.replace(Umr,r2e)).join(cQ),r=e[1]?.replace(Bmr,r2e),n=t.indexOf(cQ),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),d2e={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},qmr=Sf(e=>({applyToStack:Sf(t=>{t.add(l2e(e),d2e)},"applyToStack")}),"getUserAgentPlugin")});var h2e=E((YRn,g2e)=>{var $q=Object.defineProperty,jmr=Object.getOwnPropertyDescriptor,$mr=Object.getOwnPropertyNames,zmr=Object.prototype.hasOwnProperty,m2e=(e,t)=>$q(e,"name",{value:t,configurable:!0}),Hmr=(e,t)=>{for(var r in t)$q(e,r,{get:t[r],enumerable:!0})},Gmr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $mr(t))!zmr.call(e,s)&&s!==r&&$q(e,s,{get:()=>t[s],enumerable:!(n=jmr(t,s))||n.enumerable});return e},Vmr=e=>Gmr($q({},"__esModule",{value:!0}),e),f2e={};Hmr(f2e,{SelectorType:()=>p2e,booleanSelector:()=>Wmr,numberSelector:()=>Kmr});g2e.exports=Vmr(f2e);var Wmr=m2e((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),Kmr=m2e((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),p2e=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(p2e||{})});var vl=E((QRn,P2e)=>{var Hq=Object.defineProperty,Xmr=Object.getOwnPropertyDescriptor,Jmr=Object.getOwnPropertyNames,Ymr=Object.prototype.hasOwnProperty,Xs=(e,t)=>Hq(e,"name",{value:t,configurable:!0}),Qmr=(e,t)=>{for(var r in t)Hq(e,r,{get:t[r],enumerable:!0})},Zmr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Jmr(t))!Ymr.call(e,s)&&s!==r&&Hq(e,s,{get:()=>t[s],enumerable:!(n=Xmr(t,s))||n.enumerable});return e},efr=e=>Zmr(Hq({},"__esModule",{value:!0}),e),S2e={};Qmr(S2e,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>E2e,CONFIG_USE_FIPS_ENDPOINT:()=>b2e,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>tfr,DEFAULT_USE_FIPS_ENDPOINT:()=>nfr,ENV_USE_DUALSTACK_ENDPOINT:()=>v2e,ENV_USE_FIPS_ENDPOINT:()=>C2e,NODE_REGION_CONFIG_FILE_OPTIONS:()=>lfr,NODE_REGION_CONFIG_OPTIONS:()=>cfr,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>rfr,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>sfr,REGION_ENV_NAME:()=>w2e,REGION_INI_NAME:()=>x2e,getRegionInfo:()=>pfr,resolveCustomEndpointsConfig:()=>ifr,resolveEndpointsConfig:()=>afr,resolveRegionConfig:()=>dfr});P2e.exports=efr(S2e);var Ug=h2e(),v2e="AWS_USE_DUALSTACK_ENDPOINT",E2e="use_dualstack_endpoint",tfr=!1,rfr={environmentVariableSelector:Xs(e=>(0,Ug.booleanSelector)(e,v2e,Ug.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Xs(e=>(0,Ug.booleanSelector)(e,E2e,Ug.SelectorType.CONFIG),"configFileSelector"),default:!1},C2e="AWS_USE_FIPS_ENDPOINT",b2e="use_fips_endpoint",nfr=!1,sfr={environmentVariableSelector:Xs(e=>(0,Ug.booleanSelector)(e,C2e,Ug.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:Xs(e=>(0,Ug.booleanSelector)(e,b2e,Ug.SelectorType.CONFIG),"configFileSelector"),default:!1},zq=Ra(),ifr=Xs(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,zq.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,zq.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),ofr=Xs(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),afr=Xs(e=>{let t=(0,zq.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?(0,zq.normalizeProvider)(typeof r=="string"?s(r):r):()=>ofr({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),w2e="AWS_REGION",x2e="region",cfr={environmentVariableSelector:Xs(e=>e[w2e],"environmentVariableSelector"),configFileSelector:Xs(e=>e[x2e],"configFileSelector"),default:Xs(()=>{throw new Error("Region is missing")},"default")},lfr={preferredFile:"credentials"},A2e=Xs(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),y2e=Xs(e=>A2e(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),dfr=Xs(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Xs(async()=>{if(typeof t=="string")return y2e(t);let n=await t();return y2e(n)},"region"),useFipsEndpoint:Xs(async()=>{let n=typeof t=="string"?t:await t();return A2e(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig"),_2e=Xs((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),ufr=Xs((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),mfr=Xs((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),ffr=Xs((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),pfr=Xs((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=mfr(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=_2e(s[a]?.variants,c),d=_2e(i[o]?.variants,c),u=ufr(a,{regionHostname:l,partitionHostname:d});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let f=ffr(u,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:u,...f&&{signingRegion:f},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var zC=E((ZRn,O2e)=>{var Gq=Object.defineProperty,gfr=Object.getOwnPropertyDescriptor,hfr=Object.getOwnPropertyNames,yfr=Object.prototype.hasOwnProperty,lQ=(e,t)=>Gq(e,"name",{value:t,configurable:!0}),_fr=(e,t)=>{for(var r in t)Gq(e,r,{get:t[r],enumerable:!0})},Sfr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hfr(t))!yfr.call(e,s)&&s!==r&&Gq(e,s,{get:()=>t[s],enumerable:!(n=gfr(t,s))||n.enumerable});return e},vfr=e=>Sfr(Gq({},"__esModule",{value:!0}),e),I2e={};_fr(I2e,{contentLengthMiddleware:()=>dQ,contentLengthMiddlewareOptions:()=>T2e,getContentLengthPlugin:()=>Cfr});O2e.exports=vfr(I2e);var Efr=Gr(),R2e="content-length";function dQ(e){return t=>async r=>{let n=r.request;if(Efr.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(R2e)===-1)try{let o=e(s);n.headers={...n.headers,[R2e]:String(o)}}catch{}}return t({...r,request:n})}}lQ(dQ,"contentLengthMiddleware");var T2e={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Cfr=lQ(e=>({applyToStack:lQ(t=>{t.add(dQ(e.bodyLengthChecker),T2e)},"applyToStack")}),"getContentLengthPlugin")});var HC=E(Vq=>{"use strict";Object.defineProperty(Vq,"__esModule",{value:!0});Vq.getHomeDir=void 0;var bfr=require("os"),wfr=require("path"),uQ={},xfr=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Afr=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${wfr.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=xfr();return uQ[s]||(uQ[s]=(0,bfr.homedir)()),uQ[s]};Vq.getHomeDir=Afr});var mQ=E(Wq=>{"use strict";Object.defineProperty(Wq,"__esModule",{value:!0});Wq.getSSOTokenFilepath=void 0;var Pfr=require("crypto"),Rfr=require("path"),Ifr=HC(),Tfr=e=>{let r=(0,Pfr.createHash)("sha1").update(e).digest("hex");return(0,Rfr.join)((0,Ifr.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Wq.getSSOTokenFilepath=Tfr});var N2e=E(Kq=>{"use strict";Object.defineProperty(Kq,"__esModule",{value:!0});Kq.getSSOTokenFromFile=void 0;var Ofr=require("fs"),Nfr=mQ(),{readFile:Dfr}=Ofr.promises,kfr=async e=>{let t=(0,Nfr.getSSOTokenFilepath)(e),r=await Dfr(t,"utf8");return JSON.parse(r)};Kq.getSSOTokenFromFile=kfr});var pQ=E(Xq=>{"use strict";Object.defineProperty(Xq,"__esModule",{value:!0});Xq.slurpFile=void 0;var Mfr=require("fs"),{readFile:Lfr}=Mfr.promises,fQ={},Ufr=(e,t)=>((!fQ[e]||t?.ignoreCache)&&(fQ[e]=Lfr(e,"utf8")),fQ[e]);Xq.slurpFile=Ufr});var Bg=E((sIn,tI)=>{var Qq=Object.defineProperty,Bfr=Object.getOwnPropertyDescriptor,Ffr=Object.getOwnPropertyNames,qfr=Object.prototype.hasOwnProperty,El=(e,t)=>Qq(e,"name",{value:t,configurable:!0}),jfr=(e,t)=>{for(var r in t)Qq(e,r,{get:t[r],enumerable:!0})},gQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ffr(t))!qfr.call(e,s)&&s!==r&&Qq(e,s,{get:()=>t[s],enumerable:!(n=Bfr(t,s))||n.enumerable});return e},yQ=(e,t,r)=>(gQ(e,t,"default"),r&&gQ(r,t,"default")),$fr=e=>gQ(Qq({},"__esModule",{value:!0}),e),eI={};jfr(eI,{CONFIG_PREFIX_SEPARATOR:()=>m_,DEFAULT_PROFILE:()=>L2e,ENV_PROFILE:()=>M2e,getProfileName:()=>zfr,loadSharedConfigFiles:()=>B2e,loadSsoSessionData:()=>rpr,parseKnownFiles:()=>spr});tI.exports=$fr(eI);yQ(eI,HC(),tI.exports);var M2e="AWS_PROFILE",L2e="default",zfr=El(e=>e.profile||process.env[M2e]||L2e,"getProfileName");yQ(eI,mQ(),tI.exports);yQ(eI,N2e(),tI.exports);var Jq=Cg(),Hfr=El(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(m_);return r===-1?!1:Object.values(Jq.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(m_),i=r.substring(0,s)===Jq.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Yq=require("path"),Gfr=HC(),Vfr="AWS_CONFIG_FILE",U2e=El(()=>process.env[Vfr]||(0,Yq.join)((0,Gfr.getHomeDir)(),".aws","config"),"getConfigFilepath"),Wfr=HC(),Kfr="AWS_SHARED_CREDENTIALS_FILE",Xfr=El(()=>process.env[Kfr]||(0,Yq.join)((0,Wfr.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Jfr=HC(),Yfr=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Qfr=["__proto__","profile __proto__"],hQ=El(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=Yfr.exec(a);if(c){let[,l,,d]=c;Object.values(Jq.IniSectionType).includes(l)&&(r=[l,d].join(m_))}else r=a;if(Qfr.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(m_):c;t[r][d]=l}}}}return t},"parseIni"),D2e=pQ(),k2e=El(()=>({}),"swallowError"),m_=".",B2e=El(async(e={})=>{let{filepath:t=Xfr(),configFilepath:r=U2e()}=e,n=(0,Jfr.getHomeDir)(),s="~/",i=t;t.startsWith(s)&&(i=(0,Yq.join)(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=(0,Yq.join)(n,r.slice(2)));let a=await Promise.all([(0,D2e.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(hQ).then(Hfr).catch(k2e),(0,D2e.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(hQ).catch(k2e)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),Zfr=El(e=>Object.entries(e).filter(([t])=>t.startsWith(Jq.IniSectionType.SSO_SESSION+m_)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(m_)+1)]:n}),{}),"getSsoSessionData"),epr=pQ(),tpr=El(()=>({}),"swallowError"),rpr=El(async(e={})=>(0,epr.slurpFile)(e.configFilepath??U2e()).then(hQ).then(Zfr).catch(tpr),"loadSsoSessionData"),npr=El((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),spr=El(async e=>{let t=await B2e(e);return npr(t.configFile,t.credentialsFile)},"parseKnownFiles")});var vf=E((iIn,j2e)=>{var Zq=Object.defineProperty,ipr=Object.getOwnPropertyDescriptor,opr=Object.getOwnPropertyNames,apr=Object.prototype.hasOwnProperty,GC=(e,t)=>Zq(e,"name",{value:t,configurable:!0}),cpr=(e,t)=>{for(var r in t)Zq(e,r,{get:t[r],enumerable:!0})},lpr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of opr(t))!apr.call(e,s)&&s!==r&&Zq(e,s,{get:()=>t[s],enumerable:!(n=ipr(t,s))||n.enumerable});return e},dpr=e=>lpr(Zq({},"__esModule",{value:!0}),e),q2e={};cpr(q2e,{loadConfig:()=>gpr});j2e.exports=dpr(q2e);var rI=ca();function _Q(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}GC(_Q,"getSelectorName");var upr=GC((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new rI.CredentialsProviderError(r.message||`Not found in ENV: ${_Q(e.toString())}`,{logger:t?.logger})}},"fromEnv"),F2e=Bg(),mpr=GC((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,F2e.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,F2e.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c,t==="config"?s:i);if(d===void 0)throw new Error;return d}catch(l){throw new rI.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${_Q(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),fpr=GC(e=>typeof e=="function","isFunction"),ppr=GC(e=>fpr(e)?async()=>await e():(0,rI.fromStatic)(e),"fromStatic"),gpr=GC(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return(0,rI.memoize)((0,rI.chain)(upr(e,o),mpr(t,n),ppr(r)))},"loadConfig")});var G2e=E(ej=>{"use strict";Object.defineProperty(ej,"__esModule",{value:!0});ej.getEndpointUrlConfig=void 0;var $2e=Bg(),z2e="AWS_ENDPOINT_URL",H2e="endpoint_url",hpr=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[z2e,...r].join("_")];if(n)return n;let s=t[z2e];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join($2e.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),H2e].join($2e.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[H2e];if(n)return n},default:void 0});ej.getEndpointUrlConfig=hpr});var SQ=E(tj=>{"use strict";Object.defineProperty(tj,"__esModule",{value:!0});tj.getEndpointFromConfig=void 0;var ypr=vf(),_pr=G2e(),Spr=async e=>(0,ypr.loadConfig)((0,_pr.getEndpointUrlConfig)(e??""))();tj.getEndpointFromConfig=Spr});var X2e=E((cIn,K2e)=>{var rj=Object.defineProperty,vpr=Object.getOwnPropertyDescriptor,Epr=Object.getOwnPropertyNames,Cpr=Object.prototype.hasOwnProperty,bpr=(e,t)=>rj(e,"name",{value:t,configurable:!0}),wpr=(e,t)=>{for(var r in t)rj(e,r,{get:t[r],enumerable:!0})},xpr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Epr(t))!Cpr.call(e,s)&&s!==r&&rj(e,s,{get:()=>t[s],enumerable:!(n=vpr(t,s))||n.enumerable});return e},Apr=e=>xpr(rj({},"__esModule",{value:!0}),e),V2e={};wpr(V2e,{parseQueryString:()=>W2e});K2e.exports=Apr(V2e);function W2e(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}bpr(W2e,"parseQueryString")});var Fg=E((lIn,Q2e)=>{var nj=Object.defineProperty,Ppr=Object.getOwnPropertyDescriptor,Rpr=Object.getOwnPropertyNames,Ipr=Object.prototype.hasOwnProperty,Tpr=(e,t)=>nj(e,"name",{value:t,configurable:!0}),Opr=(e,t)=>{for(var r in t)nj(e,r,{get:t[r],enumerable:!0})},Npr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rpr(t))!Ipr.call(e,s)&&s!==r&&nj(e,s,{get:()=>t[s],enumerable:!(n=Ppr(t,s))||n.enumerable});return e},Dpr=e=>Npr(nj({},"__esModule",{value:!0}),e),J2e={};Opr(J2e,{parseUrl:()=>Y2e});Q2e.exports=Dpr(J2e);var kpr=X2e(),Y2e=Tpr(e=>{if(typeof e=="string")return Y2e(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,kpr.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},"parseUrl")});var Ef=E((dIn,i4e)=>{var ij=Object.defineProperty,Mpr=Object.getOwnPropertyDescriptor,Lpr=Object.getOwnPropertyNames,Upr=Object.prototype.hasOwnProperty,lc=(e,t)=>ij(e,"name",{value:t,configurable:!0}),Bpr=(e,t)=>{for(var r in t)ij(e,r,{get:t[r],enumerable:!0})},Fpr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Lpr(t))!Upr.call(e,s)&&s!==r&&ij(e,s,{get:()=>t[s],enumerable:!(n=Mpr(t,s))||n.enumerable});return e},qpr=e=>Fpr(ij({},"__esModule",{value:!0}),e),e4e={};Bpr(e4e,{endpointMiddleware:()=>n4e,endpointMiddlewareOptions:()=>s4e,getEndpointFromInstructions:()=>t4e,getEndpointPlugin:()=>Ypr,resolveEndpointConfig:()=>Zpr,resolveEndpointRequiredConfig:()=>egr,resolveParams:()=>r4e,toEndpointV1:()=>vQ});i4e.exports=qpr(e4e);var jpr=lc(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Vpr(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Gpr(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),$pr=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,zpr=/(\d+\.){3}\d+/,Hpr=/\.\./,Gpr=lc(e=>$pr.test(e)&&!zpr.test(e)&&!Hpr.test(e),"isDnsCompatibleBucketName"),Vpr=lc(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),Wpr=lc((e,t,r)=>{let n=lc(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),Kpr=SQ(),Z2e=Fg(),vQ=lc(e=>typeof e=="object"?"url"in e?(0,Z2e.parseUrl)(e.url):e:(0,Z2e.parseUrl)(e),"toEndpointV1"),t4e=lc(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,Kpr.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(vQ(o)),r.isCustomEndpoint=!0)}let s=await r4e(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),r4e=lc(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await Wpr(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await jpr(n),n},"resolveParams"),Xpr=(Co(),H(Tg)),sj=Ra(),n4e=lc(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,Xpr.setFeature)(n,"ENDPOINT_OVERRIDE","N");let i=await t4e(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,sj.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},"endpointMiddleware"),Jpr=uf(),s4e={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Jpr.serializerMiddlewareOption.name},Ypr=lc((e,t)=>({applyToStack:lc(r=>{r.addRelativeTo(n4e({config:e,instructions:t}),s4e)},"applyToStack")}),"getEndpointPlugin"),Qpr=SQ(),Zpr=lc(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>vQ(await(0,sj.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,sj.normalizeProvider)(n??!1),useFipsEndpoint:(0,sj.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,Qpr.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),egr=lc(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var CQ=E((uIn,l4e)=>{var oj=Object.defineProperty,tgr=Object.getOwnPropertyDescriptor,rgr=Object.getOwnPropertyNames,ngr=Object.prototype.hasOwnProperty,f_=(e,t)=>oj(e,"name",{value:t,configurable:!0}),sgr=(e,t)=>{for(var r in t)oj(e,r,{get:t[r],enumerable:!0})},igr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rgr(t))!ngr.call(e,s)&&s!==r&&oj(e,s,{get:()=>t[s],enumerable:!(n=tgr(t,s))||n.enumerable});return e},ogr=e=>igr(oj({},"__esModule",{value:!0}),e),o4e={};sgr(o4e,{isBrowserNetworkError:()=>c4e,isClockSkewCorrectedError:()=>a4e,isClockSkewError:()=>pgr,isRetryableByTrait:()=>fgr,isServerError:()=>hgr,isThrottlingError:()=>ggr,isTransientError:()=>EQ});l4e.exports=ogr(o4e);var agr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],cgr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],lgr=["TimeoutError","RequestTimeout","RequestTimeoutException"],dgr=[500,502,503,504],ugr=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],mgr=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],fgr=f_(e=>e.$retryable!==void 0,"isRetryableByTrait"),pgr=f_(e=>agr.includes(e.name),"isClockSkewError"),a4e=f_(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),c4e=f_(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),ggr=f_(e=>e.$metadata?.httpStatusCode===429||cgr.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),EQ=f_((e,t=0)=>a4e(e)||lgr.includes(e.name)||ugr.includes(e?.code||"")||mgr.includes(e?.code||"")||dgr.includes(e.$metadata?.httpStatusCode||0)||c4e(e)||e.cause!==void 0&&t<=10&&EQ(e.cause,t+1),"isTransientError"),hgr=f_(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!EQ(e)}return!1},"isServerError")});var p_=E((mIn,S4e)=>{var aj=Object.defineProperty,ygr=Object.getOwnPropertyDescriptor,_gr=Object.getOwnPropertyNames,Sgr=Object.prototype.hasOwnProperty,wd=(e,t)=>aj(e,"name",{value:t,configurable:!0}),vgr=(e,t)=>{for(var r in t)aj(e,r,{get:t[r],enumerable:!0})},Egr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _gr(t))!Sgr.call(e,s)&&s!==r&&aj(e,s,{get:()=>t[s],enumerable:!(n=ygr(t,s))||n.enumerable});return e},Cgr=e=>Egr(aj({},"__esModule",{value:!0}),e),u4e={};vgr(u4e,{AdaptiveRetryStrategy:()=>Rgr,ConfiguredRetryStrategy:()=>Igr,DEFAULT_MAX_ATTEMPTS:()=>bQ,DEFAULT_RETRY_DELAY_BASE:()=>nI,DEFAULT_RETRY_MODE:()=>bgr,DefaultRateLimiter:()=>f4e,INITIAL_RETRY_TOKENS:()=>wQ,INVOCATION_ID_HEADER:()=>xgr,MAXIMUM_RETRY_DELAY:()=>xQ,NO_RETRY_INCREMENT:()=>_4e,REQUEST_HEADER:()=>Agr,RETRY_COST:()=>h4e,RETRY_MODES:()=>m4e,StandardRetryStrategy:()=>AQ,THROTTLING_RETRY_DELAY_BASE:()=>g4e,TIMEOUT_RETRY_COST:()=>y4e});S4e.exports=Cgr(u4e);var m4e=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(m4e||{}),bQ=3,bgr="standard",wgr=CQ(),f4e=class p4e{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{wd(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>p4e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,wgr.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},nI=100,xQ=20*1e3,g4e=500,wQ=500,h4e=5,y4e=10,_4e=1,xgr="amz-sdk-invocation-id",Agr="amz-sdk-request",Pgr=wd(()=>{let e=nI;return{computeNextBackoffDelay:wd(n=>Math.floor(Math.min(xQ,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:wd(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),d4e=wd(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:wd(()=>t,"getRetryCount"),getRetryDelay:wd(()=>Math.min(xQ,e),"getRetryDelay"),getRetryCost:wd(()=>r,"getRetryCost")}),"createDefaultRetryToken"),AQ=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=wQ,this.retryBackoffStrategy=Pgr(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{wd(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return d4e({retryDelay:nI,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?g4e:nI);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(n);return this.capacity-=o,d4e({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(wQ,this.capacity+(e.getRetryCost()??_4e))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${bQ}`),bQ}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?y4e:h4e}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},Rgr=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new f4e,this.standardRetryStrategy=new AQ(e)}static{wd(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},Igr=class extends AQ{static{wd(this,"ConfiguredRetryStrategy")}constructor(e,t=nI){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var v4e=E(cj=>{"use strict";Object.defineProperty(cj,"__esModule",{value:!0});cj.isStreamingPayload=void 0;var Tgr=require("stream"),Ogr=e=>e?.body instanceof Tgr.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;cj.isStreamingPayload=Ogr});var xd=E((yIn,M4e)=>{var lj=Object.defineProperty,Ngr=Object.getOwnPropertyDescriptor,Dgr=Object.getOwnPropertyNames,kgr=Object.prototype.hasOwnProperty,Fr=(e,t)=>lj(e,"name",{value:t,configurable:!0}),Mgr=(e,t)=>{for(var r in t)lj(e,r,{get:t[r],enumerable:!0})},Lgr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Dgr(t))!kgr.call(e,s)&&s!==r&&lj(e,s,{get:()=>t[s],enumerable:!(n=Ngr(t,s))||n.enumerable});return e},Ugr=e=>Lgr(lj({},"__esModule",{value:!0}),e),C4e={};Mgr(C4e,{AdaptiveRetryStrategy:()=>qgr,CONFIG_MAX_ATTEMPTS:()=>RQ,CONFIG_RETRY_MODE:()=>I4e,ENV_MAX_ATTEMPTS:()=>PQ,ENV_RETRY_MODE:()=>R4e,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>jgr,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>zgr,StandardRetryStrategy:()=>P4e,defaultDelayDecider:()=>w4e,defaultRetryDecider:()=>x4e,getOmitRetryHeadersPlugin:()=>Hgr,getRetryAfterHint:()=>k4e,getRetryPlugin:()=>Jgr,omitRetryHeadersMiddleware:()=>T4e,omitRetryHeadersMiddlewareOptions:()=>O4e,resolveRetryConfig:()=>$gr,retryMiddleware:()=>N4e,retryMiddlewareOptions:()=>D4e});M4e.exports=Ugr(C4e);var VC=Gr(),b4e=(sq(),H(jY)),ms=p_(),Bgr=Fr((e,t)=>{let r=e,n=t?.noRetryIncrement??ms.NO_RETRY_INCREMENT,s=t?.retryCost??ms.RETRY_COST,i=t?.timeoutRetryCost??ms.TIMEOUT_RETRY_COST,o=e,a=Fr(u=>u.name==="TimeoutError"?i:s,"getCapacityAmount"),c=Fr(u=>a(u)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:Fr(u=>{if(!c(u))throw new Error("No retry token available");let f=a(u);return o-=f,f},"retrieveRetryTokens"),releaseRetryTokens:Fr(u=>{o+=u??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),w4e=Fr((e,t)=>Math.floor(Math.min(ms.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),qg=CQ(),x4e=Fr(e=>e?(0,qg.isRetryableByTrait)(e)||(0,qg.isClockSkewError)(e)||(0,qg.isThrottlingError)(e)||(0,qg.isTransientError)(e):!1,"defaultRetryDecider"),A4e=Fr(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),P4e=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ms.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??x4e,this.delayDecider=t?.delayDecider??w4e,this.retryQuota=t?.retryQuota??Bgr(ms.INITIAL_RETRY_TOKENS)}static{Fr(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ms.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,i=0,o=await this.getMaxAttempts(),{request:a}=t;for(VC.HttpRequest.isInstance(a)&&(a.headers[ms.INVOCATION_ID_HEADER]=(0,b4e.v4)());;)try{VC.HttpRequest.isInstance(a)&&(a.headers[ms.REQUEST_HEADER]=`attempt=${s+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:c,output:l}}catch(c){let l=A4e(c);if(s++,this.shouldRetry(l,s,o)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,qg.isThrottlingError)(l)?ms.THROTTLING_RETRY_DELAY_BASE:ms.DEFAULT_RETRY_DELAY_BASE,s),u=Fgr(l.$response),f=Math.max(u||0,d);i+=f,await new Promise(p=>setTimeout(p,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},Fgr=Fr(e=>{if(!VC.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),qgr=class extends P4e{static{Fr(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ms.DefaultRateLimiter,this.mode=ms.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:Fr(async()=>this.rateLimiter.getSendToken(),"beforeRequest"),afterRequest:Fr(r=>{this.rateLimiter.updateClientSendingRate(r)},"afterRequest")})}},E4e=Ra(),PQ="AWS_MAX_ATTEMPTS",RQ="max_attempts",jgr={environmentVariableSelector:Fr(e=>{let t=e[PQ];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${PQ} mast be a number, got "${t}"`);return r},"environmentVariableSelector"),configFileSelector:Fr(e=>{let t=e[RQ];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${RQ} mast be a number, got "${t}"`);return r},"configFileSelector"),default:ms.DEFAULT_MAX_ATTEMPTS},$gr=Fr(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,E4e.normalizeProvider)(n??ms.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:Fr(async()=>t||(await(0,E4e.normalizeProvider)(r)()===ms.RETRY_MODES.ADAPTIVE?new ms.AdaptiveRetryStrategy(s):new ms.StandardRetryStrategy(s)),"retryStrategy")})},"resolveRetryConfig"),R4e="AWS_RETRY_MODE",I4e="retry_mode",zgr={environmentVariableSelector:Fr(e=>e[R4e],"environmentVariableSelector"),configFileSelector:Fr(e=>e[I4e],"configFileSelector"),default:ms.DEFAULT_RETRY_MODE},T4e=Fr(()=>e=>async t=>{let{request:r}=t;return VC.HttpRequest.isInstance(r)&&(delete r.headers[ms.INVOCATION_ID_HEADER],delete r.headers[ms.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),O4e={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Hgr=Fr(e=>({applyToStack:Fr(t=>{t.addRelativeTo(T4e(),O4e)},"applyToStack")}),"getOmitRetryHeadersPlugin"),Ggr=mt(),Vgr=v4e(),N4e=Fr(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(Wgr(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,u=VC.HttpRequest.isInstance(d);for(u&&(d.headers[ms.INVOCATION_ID_HEADER]=(0,b4e.v4)());;)try{u&&(d.headers[ms.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:f,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:f,output:p}}catch(f){let p=Kgr(f);if(a=A4e(f),u&&(0,Vgr.isStreamingPayload)(d))throw(r.logger instanceof Ggr.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let g=o.getRetryDelay();l+=g,await new Promise(S=>setTimeout(S,g))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),Wgr=Fr(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),Kgr=Fr(e=>{let t={error:e,errorType:Xgr(e)},r=k4e(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Xgr=Fr(e=>(0,qg.isThrottlingError)(e)?"THROTTLING":(0,qg.isTransientError)(e)?"TRANSIENT":(0,qg.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),D4e={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Jgr=Fr(e=>({applyToStack:Fr(t=>{t.add(N4e(e),D4e)},"applyToStack")}),"getRetryPlugin"),k4e=Fr(e=>{if(!VC.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var TQ=E(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.resolveHttpAuthSchemeConfig=jg.defaultCognitoIdentityProviderHttpAuthSchemeProvider=jg.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider=void 0;var Ygr=(Es(),H(Na)),IQ=Ra(),Qgr=async(e,t,r)=>({operation:(0,IQ.getSmithyContext)(t).operation,region:await(0,IQ.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jg.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider=Qgr;function Zgr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-idp",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Ir(e){return{schemeId:"smithy.api#noAuth"}}var ehr=e=>{let t=[];switch(e.operation){case"AssociateSoftwareToken":{t.push(Ir(e));break}case"ChangePassword":{t.push(Ir(e));break}case"CompleteWebAuthnRegistration":{t.push(Ir(e));break}case"ConfirmDevice":{t.push(Ir(e));break}case"ConfirmForgotPassword":{t.push(Ir(e));break}case"ConfirmSignUp":{t.push(Ir(e));break}case"DeleteUser":{t.push(Ir(e));break}case"DeleteUserAttributes":{t.push(Ir(e));break}case"DeleteWebAuthnCredential":{t.push(Ir(e));break}case"ForgetDevice":{t.push(Ir(e));break}case"ForgotPassword":{t.push(Ir(e));break}case"GetDevice":{t.push(Ir(e));break}case"GetUser":{t.push(Ir(e));break}case"GetUserAttributeVerificationCode":{t.push(Ir(e));break}case"GetUserAuthFactors":{t.push(Ir(e));break}case"GlobalSignOut":{t.push(Ir(e));break}case"InitiateAuth":{t.push(Ir(e));break}case"ListDevices":{t.push(Ir(e));break}case"ListWebAuthnCredentials":{t.push(Ir(e));break}case"ResendConfirmationCode":{t.push(Ir(e));break}case"RespondToAuthChallenge":{t.push(Ir(e));break}case"RevokeToken":{t.push(Ir(e));break}case"SetUserMFAPreference":{t.push(Ir(e));break}case"SetUserSettings":{t.push(Ir(e));break}case"SignUp":{t.push(Ir(e));break}case"StartWebAuthnRegistration":{t.push(Ir(e));break}case"UpdateAuthEventFeedback":{t.push(Ir(e));break}case"UpdateDeviceStatus":{t.push(Ir(e));break}case"UpdateUserAttributes":{t.push(Ir(e));break}case"VerifySoftwareToken":{t.push(Ir(e));break}case"VerifyUserAttribute":{t.push(Ir(e));break}default:t.push(Zgr(e))}return t};jg.defaultCognitoIdentityProviderHttpAuthSchemeProvider=ehr;var thr=e=>{let t=(0,Ygr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,IQ.normalizeProvider)(e.authSchemePreference??[])})};jg.resolveHttpAuthSchemeConfig=thr});var sI={};Kt(sI,{__addDisposableResource:()=>oWe,__assign:()=>dj,__asyncDelegator:()=>Q4e,__asyncGenerator:()=>Y4e,__asyncValues:()=>Z4e,__await:()=>WC,__awaiter:()=>G4e,__classPrivateFieldGet:()=>nWe,__classPrivateFieldIn:()=>iWe,__classPrivateFieldSet:()=>sWe,__createBinding:()=>mj,__decorate:()=>B4e,__disposeResources:()=>aWe,__esDecorate:()=>q4e,__exportStar:()=>W4e,__extends:()=>L4e,__generator:()=>V4e,__importDefault:()=>rWe,__importStar:()=>tWe,__makeTemplateObject:()=>eWe,__metadata:()=>H4e,__param:()=>F4e,__propKey:()=>$4e,__read:()=>DQ,__rest:()=>U4e,__rewriteRelativeImportExtension:()=>cWe,__runInitializers:()=>j4e,__setFunctionName:()=>z4e,__spread:()=>K4e,__spreadArray:()=>J4e,__spreadArrays:()=>X4e,__values:()=>uj,default:()=>shr});function L4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");OQ(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function U4e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function B4e(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function F4e(e,t){return function(r,n){t(r,n,e)}}function q4e(e,t,r,n,s,i){function o(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,f=!1,p=r.length-1;p>=0;p--){var g={};for(var S in n)g[S]=S==="access"?{}:n[S];for(var S in n.access)g.access[S]=n.access[S];g.addInitializer=function(A){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(A||null))};var b=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(u=o(b.get))&&(d.get=u),(u=o(b.set))&&(d.set=u),(u=o(b.init))&&s.unshift(u)}else(u=o(b))&&(a==="field"?s.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),f=!0}function j4e(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function $4e(e){return typeof e=="symbol"?e:"".concat(e)}function z4e(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function H4e(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function G4e(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{l(n.next(d))}catch(u){o(u)}}function c(d){try{l(n.throw(d))}catch(u){o(u)}}function l(d){d.done?i(d.value):s(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function V4e(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function W4e(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mj(t,e,r)}function uj(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function DQ(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function K4e(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(DQ(arguments[t]));return e}function X4e(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function J4e(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function WC(e){return this instanceof WC?(this.v=e,this):new WC(e)}function Y4e(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,u)}}function a(p,g){n[p]&&(s[p]=function(S){return new Promise(function(b,A){i.push([p,S,b,A])>1||c(p,S)})},g&&(s[p]=g(s[p])))}function c(p,g){try{l(n[p](g))}catch(S){f(i[0][3],S)}}function l(p){p.value instanceof WC?Promise.resolve(p.value.v).then(d,u):f(i[0][2],p)}function d(p){c("next",p)}function u(p){c("throw",p)}function f(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Q4e(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:WC(e[s](o)),done:!1}:i?i(o):o}:i}}function Z4e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof uj=="function"?uj(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function eWe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function tWe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=NQ(e),n=0;n<r.length;n++)r[n]!=="default"&&mj(t,e,r[n]);return rhr(t,e),t}function rWe(e){return e&&e.__esModule?e:{default:e}}function nWe(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function sWe(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function iWe(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function oWe(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function aWe(e){function t(i){e.error=e.hasError?new nhr(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function cWe(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var OQ,dj,mj,rhr,NQ,nhr,shr,iI=v(()=>{OQ=function(e,t){return OQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},OQ(e,t)};dj=function(){return dj=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},dj.apply(this,arguments)};mj=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};rhr=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},NQ=function(e){return NQ=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},NQ(e)};nhr=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};shr={__extends:L4e,__assign:dj,__rest:U4e,__decorate:B4e,__param:F4e,__esDecorate:q4e,__runInitializers:j4e,__propKey:$4e,__setFunctionName:z4e,__metadata:H4e,__awaiter:G4e,__generator:V4e,__createBinding:mj,__exportStar:W4e,__values:uj,__read:DQ,__spread:K4e,__spreadArrays:X4e,__spreadArray:J4e,__await:WC,__asyncGenerator:Y4e,__asyncDelegator:Q4e,__asyncValues:Z4e,__makeTemplateObject:eWe,__importStar:tWe,__importDefault:rWe,__classPrivateFieldGet:nWe,__classPrivateFieldSet:sWe,__classPrivateFieldIn:iWe,__addDisposableResource:oWe,__disposeResources:aWe,__rewriteRelativeImportExtension:cWe}});var lWe=E((EIn,ihr)=>{ihr.exports={name:"@aws-sdk/client-cognito-identity-provider",description:"AWS SDK for JavaScript Cognito Identity Provider Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity-provider","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity-provider"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/credential-provider-node":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity-provider",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity-provider"}}});var kQ=E((CIn,yWe)=>{"use strict";var fj=Object.defineProperty,ohr=Object.getOwnPropertyDescriptor,ahr=Object.getOwnPropertyNames,chr=Object.prototype.hasOwnProperty,lhr=(e,t)=>fj(e,"name",{value:t,configurable:!0}),dhr=(e,t)=>{for(var r in t)fj(e,r,{get:t[r],enumerable:!0})},uhr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ahr(t))!chr.call(e,s)&&s!==r&&fj(e,s,{get:()=>t[s],enumerable:!(n=ohr(t,s))||n.enumerable});return e},mhr=e=>uhr(fj({},"__esModule",{value:!0}),e),dWe={};dhr(dWe,{ENV_ACCOUNT_ID:()=>hWe,ENV_CREDENTIAL_SCOPE:()=>gWe,ENV_EXPIRATION:()=>pWe,ENV_KEY:()=>uWe,ENV_SECRET:()=>mWe,ENV_SESSION:()=>fWe,fromEnv:()=>ghr});yWe.exports=mhr(dWe);var fhr=(bd(),H(Ng)),phr=ca(),uWe="AWS_ACCESS_KEY_ID",mWe="AWS_SECRET_ACCESS_KEY",fWe="AWS_SESSION_TOKEN",pWe="AWS_CREDENTIAL_EXPIRATION",gWe="AWS_CREDENTIAL_SCOPE",hWe="AWS_ACCOUNT_ID",ghr=lhr(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[uWe],r=process.env[mWe],n=process.env[fWe],s=process.env[pWe],i=process.env[gWe],o=process.env[hWe];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,fhr.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new phr.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var oI=E((bIn,OWe)=>{var hj=Object.defineProperty,hhr=Object.getOwnPropertyDescriptor,yhr=Object.getOwnPropertyNames,_hr=Object.prototype.hasOwnProperty,gn=(e,t)=>hj(e,"name",{value:t,configurable:!0}),Shr=(e,t)=>{for(var r in t)hj(e,r,{get:t[r],enumerable:!0})},vhr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yhr(t))!_hr.call(e,s)&&s!==r&&hj(e,s,{get:()=>t[s],enumerable:!(n=hhr(t,s))||n.enumerable});return e},Ehr=e=>vhr(hj({},"__esModule",{value:!0}),e),EWe={};Shr(EWe,{DEFAULT_MAX_RETRIES:()=>xWe,DEFAULT_TIMEOUT:()=>wWe,ENV_CMDS_AUTH_TOKEN:()=>UQ,ENV_CMDS_FULL_URI:()=>pj,ENV_CMDS_RELATIVE_URI:()=>gj,Endpoint:()=>PWe,fromContainerMetadata:()=>xhr,fromInstanceMetadata:()=>Vhr,getInstanceMetadataEndpoint:()=>IWe,httpRequest:()=>KC,providerConfigFromInit:()=>BQ});OWe.exports=Ehr(EWe);var Chr=require("url"),Iu=ca(),bhr=require("buffer"),whr=require("http");function KC(e){return new Promise((t,r)=>{let n=(0,whr.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Iu.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Iu.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Iu.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(bhr.Buffer.concat(o)),n.destroy()})}),n.end()})}gn(KC,"httpRequest");var CWe=gn(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),bWe=gn(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),wWe=1e3,xWe=0,BQ=gn(({maxRetries:e=xWe,timeout:t=wWe})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),LQ=gn((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),pj="AWS_CONTAINER_CREDENTIALS_FULL_URI",gj="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",UQ="AWS_CONTAINER_AUTHORIZATION_TOKEN",xhr=gn((e={})=>{let{timeout:t,maxRetries:r}=BQ(e);return()=>LQ(async()=>{let n=await Thr({logger:e.logger}),s=JSON.parse(await Ahr(t,n));if(!CWe(s))throw new Iu.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return bWe(s)},r)},"fromContainerMetadata"),Ahr=gn(async(e,t)=>(process.env[UQ]&&(t.headers={...t.headers,Authorization:process.env[UQ]}),(await KC({...t,timeout:e})).toString()),"requestFromEcsImds"),Phr="169.254.170.2",Rhr={localhost:!0,"127.0.0.1":!0},Ihr={"http:":!0,"https:":!0},Thr=gn(async({logger:e})=>{if(process.env[gj])return{hostname:Phr,path:process.env[gj]};if(process.env[pj]){let t=(0,Chr.parse)(process.env[pj]);if(!t.hostname||!(t.hostname in Rhr))throw new Iu.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in Ihr))throw new Iu.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Iu.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${gj} or ${pj} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),Ohr=class AWe extends Iu.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,AWe.prototype)}static{gn(this,"InstanceMetadataV1FallbackError")}},FQ=vf(),Nhr=Fg(),PWe=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(PWe||{}),Dhr="AWS_EC2_METADATA_SERVICE_ENDPOINT",khr="ec2_metadata_service_endpoint",Mhr={environmentVariableSelector:gn(e=>e[Dhr],"environmentVariableSelector"),configFileSelector:gn(e=>e[khr],"configFileSelector"),default:void 0},RWe=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(RWe||{}),Lhr="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Uhr="ec2_metadata_service_endpoint_mode",Bhr={environmentVariableSelector:gn(e=>e[Lhr],"environmentVariableSelector"),configFileSelector:gn(e=>e[Uhr],"configFileSelector"),default:"IPv4"},IWe=gn(async()=>(0,Nhr.parseUrl)(await Fhr()||await qhr()),"getInstanceMetadataEndpoint"),Fhr=gn(async()=>(0,FQ.loadConfig)(Mhr)(),"getFromEndpointConfig"),qhr=gn(async()=>{let e=await(0,FQ.loadConfig)(Bhr)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(RWe)}`)}},"getFromEndpointModeConfig"),jhr=5*60,$hr=5*60,zhr="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",_We=gn((e,t)=>{let r=jhr+Math.floor(Math.random()*$hr),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+zhr);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Hhr=gn((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=_We(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=_We(n,r);else throw i}return n=s,s}},"staticStabilityProvider"),TWe="/latest/meta-data/iam/security-credentials/",Ghr="/latest/api/token",MQ="AWS_EC2_METADATA_V1_DISABLED",SWe="ec2_metadata_v1_disabled",vWe="x-aws-ec2-metadata-token",Vhr=gn((e={})=>Hhr(Whr(e),{logger:e.logger}),"fromInstanceMetadata"),Whr=gn((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=BQ(e),o=gn(async(a,c)=>{if(t||c.headers?.[vWe]==null){let u=!1,f=!1,p=await(0,FQ.loadConfig)({environmentVariableSelector:gn(g=>{let S=g[MQ];if(f=!!S&&S!=="false",S===void 0)throw new Iu.CredentialsProviderError(`${MQ} not set in env, checking config file next.`,{logger:e.logger});return f},"environmentVariableSelector"),configFileSelector:gn(g=>{let S=g[SWe];return u=!!S&&S!=="false",u},"configFileSelector"),default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${SWe})`),f&&g.push(`process environment variable (${MQ})`),new Ohr(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let d=(await LQ(async()=>{let u;try{u=await Xhr(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return u},a)).trim();return LQ(async()=>{let u;try{u=await Jhr(d,c,e)}catch(f){throw f.statusCode===401&&(t=!1),f}return u},a)},"getCredentials");return async()=>{let a=await IWe();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await Khr({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[vWe]:c},timeout:s})}}},"getInstanceMetadataProvider"),Khr=gn(async e=>KC({...e,path:Ghr,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Xhr=gn(async e=>(await KC({...e,path:TWe})).toString(),"getProfile"),Jhr=gn(async(e,t,r)=>{let n=JSON.parse((await KC({...t,path:TWe+e})).toString());if(!CWe(n))throw new Iu.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return bWe(n)},"getCredentialsFromProfile")});var NWe=E(yj=>{"use strict";Object.defineProperty(yj,"__esModule",{value:!0});yj.checkUrl=void 0;var Yhr=ca(),Qhr="169.254.170.2",Zhr="169.254.170.23",eyr="[fd00:ec2::23]",tyr=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Qhr||e.hostname===Zhr||e.hostname===eyr)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Yhr.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};yj.checkUrl=tyr});var DWe=E(_j=>{"use strict";Object.defineProperty(_j,"__esModule",{value:!0});_j.createGetRequest=iyr;_j.getCredentials=oyr;var qQ=ca(),ryr=Gr(),nyr=mt(),syr=GF();function iyr(e){return new ryr.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function oyr(e,t){let n=await(0,syr.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new qQ.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,nyr.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new qQ.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new qQ.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var kWe=E(Sj=>{"use strict";Object.defineProperty(Sj,"__esModule",{value:!0});Sj.retryWrapper=void 0;var ayr=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Sj.retryWrapper=ayr});var UWe=E(vj=>{"use strict";Object.defineProperty(vj,"__esModule",{value:!0});vj.fromHttp=void 0;var cyr=(iI(),H(sI)),lyr=(bd(),H(Ng)),dyr=Ag(),MWe=ca(),uyr=cyr.__importDefault(require("fs/promises")),myr=NWe(),LWe=DWe(),fyr=kWe(),pyr="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",gyr="http://169.254.170.2",hyr="AWS_CONTAINER_CREDENTIALS_FULL_URI",yyr="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",_yr="AWS_CONTAINER_AUTHORIZATION_TOKEN",Syr=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[pyr],n=e.awsContainerCredentialsFullUri??process.env[hyr],s=e.awsContainerAuthorizationToken??process.env[_yr],i=e.awsContainerAuthorizationTokenFile??process.env[yyr],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${gyr}${r}`;else throw new MWe.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,myr.checkUrl)(a,e.logger);let c=new dyr.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,fyr.retryWrapper)(async()=>{let l=(0,LWe.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await uyr.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,LWe.getCredentials)(d.response).then(u=>(0,lyr.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new MWe.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};vj.fromHttp=Syr});var jQ=E(Ej=>{"use strict";Object.defineProperty(Ej,"__esModule",{value:!0});Ej.fromHttp=void 0;var vyr=UWe();Object.defineProperty(Ej,"fromHttp",{enumerable:!0,get:function(){return vyr.fromHttp}})});var zQ=E($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.resolveHttpAuthSchemeConfig=$g.defaultSSOHttpAuthSchemeProvider=$g.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Eyr=(Es(),H(Na)),$Q=Ra(),Cyr=async(e,t,r)=>({operation:(0,$Q.getSmithyContext)(t).operation,region:await(0,$Q.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});$g.defaultSSOHttpAuthSchemeParametersProvider=Cyr;function byr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Cj(e){return{schemeId:"smithy.api#noAuth"}}var wyr=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Cj(e));break}case"ListAccountRoles":{t.push(Cj(e));break}case"ListAccounts":{t.push(Cj(e));break}case"Logout":{t.push(Cj(e));break}default:t.push(byr(e))}return t};$g.defaultSSOHttpAuthSchemeProvider=wyr;var xyr=e=>{let t=(0,Eyr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,$Q.normalizeProvider)(e.authSchemePreference??[])})};$g.resolveHttpAuthSchemeConfig=xyr});var BWe=E((TIn,Ayr)=>{Ayr.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var XC=E((OIn,GWe)=>{"use strict";var wj=Object.defineProperty,Pyr=Object.getOwnPropertyDescriptor,Ryr=Object.getOwnPropertyNames,Iyr=Object.prototype.hasOwnProperty,bj=(e,t)=>wj(e,"name",{value:t,configurable:!0}),Tyr=(e,t)=>{for(var r in t)wj(e,r,{get:t[r],enumerable:!0})},Oyr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ryr(t))!Iyr.call(e,s)&&s!==r&&wj(e,s,{get:()=>t[s],enumerable:!(n=Pyr(t,s))||n.enumerable});return e},Nyr=e=>Oyr(wj({},"__esModule",{value:!0}),e),qWe={};Tyr(qWe,{NODE_APP_ID_CONFIG_OPTIONS:()=>Uyr,UA_APP_ID_ENV_NAME:()=>zWe,UA_APP_ID_INI_NAME:()=>HWe,createDefaultUserAgentProvider:()=>$We,crtAvailability:()=>jWe,defaultUserAgent:()=>kyr});GWe.exports=Nyr(qWe);var FWe=require("os"),HQ=require("process"),jWe={isCrtAvailable:!1},Dyr=bj(()=>jWe.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),$We=bj(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,FWe.platform)()}`,(0,FWe.release)()],["lang/js"],["md/nodejs",`${HQ.versions.node}`]],s=Dyr();s&&n.push(s),e&&n.push([`api/${e}`,t]),HQ.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${HQ.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),kyr=$We,Myr=u_(),zWe="AWS_SDK_UA_APP_ID",HWe="sdk_ua_app_id",Lyr="sdk-ua-app-id",Uyr={environmentVariableSelector:bj(e=>e[zWe],"environmentVariableSelector"),configFileSelector:bj(e=>e[HWe]??e[Lyr],"configFileSelector"),default:Myr.DEFAULT_UA_APP_ID}});var JC=E((NIn,XWe)=>{var xj=Object.defineProperty,Byr=Object.getOwnPropertyDescriptor,Fyr=Object.getOwnPropertyNames,qyr=Object.prototype.hasOwnProperty,WWe=(e,t)=>xj(e,"name",{value:t,configurable:!0}),jyr=(e,t)=>{for(var r in t)xj(e,r,{get:t[r],enumerable:!0})},$yr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Fyr(t))!qyr.call(e,s)&&s!==r&&xj(e,s,{get:()=>t[s],enumerable:!(n=Byr(t,s))||n.enumerable});return e},zyr=e=>$yr(xj({},"__esModule",{value:!0}),e),KWe={};jyr(KWe,{Hash:()=>Vyr});XWe.exports=zyr(KWe);var GQ=OC(),Hyr=ci(),Gyr=require("buffer"),VWe=require("crypto"),Vyr=class{static{WWe(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,Hyr.toUint8Array)(VQ(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,VWe.createHmac)(this.algorithmIdentifier,VQ(this.secret)):(0,VWe.createHash)(this.algorithmIdentifier)}};function VQ(e,t){return Gyr.Buffer.isBuffer(e)?e:typeof e=="string"?(0,GQ.fromString)(e,t):ArrayBuffer.isView(e)?(0,GQ.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,GQ.fromArrayBuffer)(e)}WWe(VQ,"castSourceData")});var YC=E((kIn,QWe)=>{var Aj=Object.defineProperty,Wyr=Object.getOwnPropertyDescriptor,Kyr=Object.getOwnPropertyNames,Xyr=Object.prototype.hasOwnProperty,Jyr=(e,t)=>Aj(e,"name",{value:t,configurable:!0}),Yyr=(e,t)=>{for(var r in t)Aj(e,r,{get:t[r],enumerable:!0})},Qyr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Kyr(t))!Xyr.call(e,s)&&s!==r&&Aj(e,s,{get:()=>t[s],enumerable:!(n=Wyr(t,s))||n.enumerable});return e},Zyr=e=>Qyr(Aj({},"__esModule",{value:!0}),e),YWe={};Yyr(YWe,{calculateBodyLength:()=>e_r});QWe.exports=Zyr(YWe);var JWe=require("fs"),e_r=Jyr(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,JWe.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,JWe.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var fKe=E(Pj=>{"use strict";Object.defineProperty(Pj,"__esModule",{value:!0});Pj.ruleSet=void 0;var lKe="required",bl="fn",wl="argv",eb="ref",ZWe=!0,eKe="isSet",aI="booleanEquals",QC="error",ZC="endpoint",Cf="tree",WQ="PartitionResult",KQ="getAttr",tKe={[lKe]:!1,type:"String"},rKe={[lKe]:!0,default:!1,type:"Boolean"},nKe={[eb]:"Endpoint"},dKe={[bl]:aI,[wl]:[{[eb]:"UseFIPS"},!0]},uKe={[bl]:aI,[wl]:[{[eb]:"UseDualStack"},!0]},Cl={},sKe={[bl]:KQ,[wl]:[{[eb]:WQ},"supportsFIPS"]},mKe={[eb]:WQ},iKe={[bl]:aI,[wl]:[!0,{[bl]:KQ,[wl]:[mKe,"supportsDualStack"]}]},oKe=[dKe],aKe=[uKe],cKe=[{[eb]:"Region"}],t_r={version:"1.0",parameters:{Region:tKe,UseDualStack:rKe,UseFIPS:rKe,Endpoint:tKe},rules:[{conditions:[{[bl]:eKe,[wl]:[nKe]}],rules:[{conditions:oKe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:QC},{conditions:aKe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:QC},{endpoint:{url:nKe,properties:Cl,headers:Cl},type:ZC}],type:Cf},{conditions:[{[bl]:eKe,[wl]:cKe}],rules:[{conditions:[{[bl]:"aws.partition",[wl]:cKe,assign:WQ}],rules:[{conditions:[dKe,uKe],rules:[{conditions:[{[bl]:aI,[wl]:[ZWe,sKe]},iKe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Cl,headers:Cl},type:ZC}],type:Cf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:QC}],type:Cf},{conditions:oKe,rules:[{conditions:[{[bl]:aI,[wl]:[sKe,ZWe]}],rules:[{conditions:[{[bl]:"stringEquals",[wl]:[{[bl]:KQ,[wl]:[mKe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Cl,headers:Cl},type:ZC},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Cl,headers:Cl},type:ZC}],type:Cf},{error:"FIPS is enabled but this partition does not support FIPS",type:QC}],type:Cf},{conditions:aKe,rules:[{conditions:[iKe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Cl,headers:Cl},type:ZC}],type:Cf},{error:"DualStack is enabled but this partition does not support DualStack",type:QC}],type:Cf},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Cl,headers:Cl},type:ZC}],type:Cf}],type:Cf},{error:"Invalid Configuration: Missing Region",type:QC}]};Pj.ruleSet=t_r});var pKe=E(Rj=>{"use strict";Object.defineProperty(Rj,"__esModule",{value:!0});Rj.defaultEndpointResolver=void 0;var r_r=r_(),XQ=t_(),n_r=fKe(),s_r=new XQ.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),i_r=(e,t={})=>s_r.get(e,()=>(0,XQ.resolveEndpoint)(n_r.ruleSet,{endpointParams:e,logger:t.logger}));Rj.defaultEndpointResolver=i_r;XQ.customEndpointFunctions.aws=r_r.awsEndpointFunctions});var yKe=E(Ij=>{"use strict";Object.defineProperty(Ij,"__esModule",{value:!0});Ij.getRuntimeConfig=void 0;var o_r=(Es(),H(Na)),a_r=(Co(),H(Tg)),c_r=mt(),l_r=Fg(),gKe=Eo(),hKe=ci(),d_r=zQ(),u_r=pKe(),m_r=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??gKe.fromBase64,base64Encoder:e?.base64Encoder??gKe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??u_r.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??d_r.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new o_r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new a_r.NoAuthSigner}],logger:e?.logger??new c_r.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??l_r.parseUrl,utf8Decoder:e?.utf8Decoder??hKe.fromUtf8,utf8Encoder:e?.utf8Encoder??hKe.toUtf8});Ij.getRuntimeConfig=m_r});var tb=E((BIn,bKe)=>{var f_r=Object.create,lI=Object.defineProperty,p_r=Object.getOwnPropertyDescriptor,g_r=Object.getOwnPropertyNames,h_r=Object.getPrototypeOf,y_r=Object.prototype.hasOwnProperty,cI=(e,t)=>lI(e,"name",{value:t,configurable:!0}),__r=(e,t)=>{for(var r in t)lI(e,r,{get:t[r],enumerable:!0})},EKe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of g_r(t))!y_r.call(e,s)&&s!==r&&lI(e,s,{get:()=>t[s],enumerable:!(n=p_r(t,s))||n.enumerable});return e},S_r=(e,t,r)=>(r=e!=null?f_r(h_r(e)):{},EKe(t||!e||!e.__esModule?lI(r,"default",{value:e,enumerable:!0}):r,e)),v_r=e=>EKe(lI({},"__esModule",{value:!0}),e),CKe={};__r(CKe,{resolveDefaultsModeConfig:()=>T_r});bKe.exports=v_r(CKe);var E_r=vl(),_Ke=vf(),C_r=ca(),b_r="AWS_EXECUTION_ENV",SKe="AWS_REGION",vKe="AWS_DEFAULT_REGION",w_r="AWS_EC2_METADATA_DISABLED",x_r=["in-region","cross-region","mobile","standard","legacy"],A_r="/latest/meta-data/placement/region",P_r="AWS_DEFAULTS_MODE",R_r="defaults_mode",I_r={environmentVariableSelector:cI(e=>e[P_r],"environmentVariableSelector"),configFileSelector:cI(e=>e[R_r],"configFileSelector"),default:"legacy"},T_r=cI(({region:e=(0,_Ke.loadConfig)(E_r.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,_Ke.loadConfig)(I_r)}={})=>(0,C_r.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return O_r(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${x_r.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),O_r=cI(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await N_r();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),N_r=cI(async()=>{if(process.env[b_r]&&(process.env[SKe]||process.env[vKe]))return process.env[SKe]??process.env[vKe];if(!process.env[w_r])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>S_r(oI())),r=await e();return(await t({...r,path:A_r})).toString()}catch{}},"inferPhysicalRegion")});var RKe=E(Oj=>{"use strict";Object.defineProperty(Oj,"__esModule",{value:!0});Oj.getRuntimeConfig=void 0;var D_r=(iI(),H(sI)),k_r=D_r.__importDefault(BWe()),wKe=(Es(),H(Na)),xKe=XC(),Tj=vl(),M_r=JC(),AKe=xd(),g_=vf(),PKe=Ag(),L_r=YC(),U_r=p_(),B_r=yKe(),F_r=mt(),q_r=tb(),j_r=mt(),$_r=e=>{(0,j_r.emitWarningIfUnsupportedVersion)(process.version);let t=(0,q_r.resolveDefaultsModeConfig)(e),r=()=>t().then(F_r.loadConfigsForDefaultMode),n=(0,B_r.getRuntimeConfig)(e);(0,wKe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,g_.loadConfig)(wKe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??L_r.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,xKe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:k_r.default.version}),maxAttempts:e?.maxAttempts??(0,g_.loadConfig)(AKe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,g_.loadConfig)(Tj.NODE_REGION_CONFIG_OPTIONS,{...Tj.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:PKe.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,g_.loadConfig)({...AKe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||U_r.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??M_r.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??PKe.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,g_.loadConfig)(Tj.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,g_.loadConfig)(Tj.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,g_.loadConfig)(xKe.NODE_APP_ID_CONFIG_OPTIONS,s)}};Oj.getRuntimeConfig=$_r});var rb=E((qIn,kKe)=>{"use strict";var Nj=Object.defineProperty,z_r=Object.getOwnPropertyDescriptor,H_r=Object.getOwnPropertyNames,G_r=Object.prototype.hasOwnProperty,Tu=(e,t)=>Nj(e,"name",{value:t,configurable:!0}),V_r=(e,t)=>{for(var r in t)Nj(e,r,{get:t[r],enumerable:!0})},W_r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of H_r(t))!G_r.call(e,s)&&s!==r&&Nj(e,s,{get:()=>t[s],enumerable:!(n=z_r(t,s))||n.enumerable});return e},K_r=e=>W_r(Nj({},"__esModule",{value:!0}),e),TKe={};V_r(TKe,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Q_r,NODE_REGION_CONFIG_OPTIONS:()=>Y_r,REGION_ENV_NAME:()=>OKe,REGION_INI_NAME:()=>NKe,getAwsRegionExtensionConfiguration:()=>X_r,resolveAwsRegionExtensionConfiguration:()=>J_r,resolveRegionConfig:()=>Z_r});kKe.exports=K_r(TKe);var X_r=Tu(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),J_r=Tu(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),OKe="AWS_REGION",NKe="region",Y_r={environmentVariableSelector:Tu(e=>e[OKe],"environmentVariableSelector"),configFileSelector:Tu(e=>e[NKe],"configFileSelector"),default:Tu(()=>{throw new Error("Region is missing")},"default")},Q_r={preferredFile:"credentials"},DKe=Tu(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),IKe=Tu(e=>DKe(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Z_r=Tu(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Tu(async()=>{if(typeof t=="string")return IKe(t);let n=await t();return IKe(n)},"region"),useFipsEndpoint:Tu(async()=>{let n=typeof t=="string"?t:await t();return DKe(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var f6e=E((jIn,m6e)=>{"use strict";var Dj=Object.defineProperty,eSr=Object.getOwnPropertyDescriptor,tSr=Object.getOwnPropertyNames,rSr=Object.prototype.hasOwnProperty,rr=(e,t)=>Dj(e,"name",{value:t,configurable:!0}),nSr=(e,t)=>{for(var r in t)Dj(e,r,{get:t[r],enumerable:!0})},sSr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tSr(t))!rSr.call(e,s)&&s!==r&&Dj(e,s,{get:()=>t[s],enumerable:!(n=eSr(t,s))||n.enumerable});return e},iSr=e=>sSr(Dj({},"__esModule",{value:!0}),e),jKe={};nSr(jKe,{GetRoleCredentialsCommand:()=>l6e,GetRoleCredentialsRequestFilterSensitiveLog:()=>YKe,GetRoleCredentialsResponseFilterSensitiveLog:()=>ZKe,InvalidRequestException:()=>zKe,ListAccountRolesCommand:()=>JQ,ListAccountRolesRequestFilterSensitiveLog:()=>e6e,ListAccountsCommand:()=>YQ,ListAccountsRequestFilterSensitiveLog:()=>t6e,LogoutCommand:()=>d6e,LogoutRequestFilterSensitiveLog:()=>r6e,ResourceNotFoundException:()=>GKe,RoleCredentialsFilterSensitiveLog:()=>QKe,SSO:()=>u6e,SSOClient:()=>Mj,SSOServiceException:()=>nb,TooManyRequestsException:()=>WKe,UnauthorizedException:()=>XKe,__Client:()=>Me.Client,paginateListAccountRoles:()=>OSr,paginateListAccounts:()=>NSr});m6e.exports=iSr(jKe);var MKe=RC(),oSr=IC(),aSr=TC(),LKe=u_(),cSr=vl(),bf=(Co(),H(Tg)),lSr=zC(),uI=Ef(),UKe=xd(),BKe=zQ(),dSr=rr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),kj={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},uSr=RKe(),FKe=rb(),qKe=Gr(),Me=mt(),mSr=rr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),fSr=rr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),pSr=rr((e,t)=>{let r=Object.assign((0,FKe.getAwsRegionExtensionConfiguration)(e),(0,Me.getDefaultExtensionConfiguration)(e),(0,qKe.getHttpHandlerExtensionConfiguration)(e),mSr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,FKe.resolveAwsRegionExtensionConfiguration)(r),(0,Me.resolveDefaultRuntimeConfig)(r),(0,qKe.resolveHttpHandlerRuntimeConfig)(r),fSr(r))},"resolveRuntimeExtensions"),Mj=class extends Me.Client{static{rr(this,"SSOClient")}config;constructor(...[e]){let t=(0,uSr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=dSr(t),n=(0,LKe.resolveUserAgentConfig)(r),s=(0,UKe.resolveRetryConfig)(n),i=(0,cSr.resolveRegionConfig)(s),o=(0,MKe.resolveHostHeaderConfig)(i),a=(0,uI.resolveEndpointConfig)(o),c=(0,BKe.resolveHttpAuthSchemeConfig)(a),l=pSr(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,LKe.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,UKe.getRetryPlugin)(this.config)),this.middlewareStack.use((0,lSr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,MKe.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,oSr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,aSr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,bf.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:BKe.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:rr(async d=>new bf.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,bf.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Lj=uf(),nb=class $Ke extends Me.ServiceException{static{rr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,$Ke.prototype)}},zKe=class HKe extends nb{static{rr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,HKe.prototype)}},GKe=class VKe extends nb{static{rr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,VKe.prototype)}},WKe=class KKe extends nb{static{rr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,KKe.prototype)}},XKe=class JKe extends nb{static{rr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,JKe.prototype)}},YKe=rr(e=>({...e,...e.accessToken&&{accessToken:Me.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),QKe=rr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:Me.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:Me.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),ZKe=rr(e=>({...e,...e.roleCredentials&&{roleCredentials:QKe(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),e6e=rr(e=>({...e,...e.accessToken&&{accessToken:Me.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),t6e=rr(e=>({...e,...e.accessToken&&{accessToken:Me.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),r6e=rr(e=>({...e,...e.accessToken&&{accessToken:Me.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),dI=(Es(),H(Na)),gSr=rr(async(e,t)=>{let r=(0,bf.requestBuilder)(e,t),n=(0,Me.map)({},Me.isSerializableHeaderValue,{[Fj]:e[Bj]});r.bp("/federation/credentials");let s=(0,Me.map)({[ISr]:[,(0,Me.expectNonNull)(e[RSr],"roleName")],[s6e]:[,(0,Me.expectNonNull)(e[n6e],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),hSr=rr(async(e,t)=>{let r=(0,bf.requestBuilder)(e,t),n=(0,Me.map)({},Me.isSerializableHeaderValue,{[Fj]:e[Bj]});r.bp("/assignment/roles");let s=(0,Me.map)({[c6e]:[,e[a6e]],[o6e]:[()=>e.maxResults!==void 0,()=>e[i6e].toString()],[s6e]:[,(0,Me.expectNonNull)(e[n6e],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),ySr=rr(async(e,t)=>{let r=(0,bf.requestBuilder)(e,t),n=(0,Me.map)({},Me.isSerializableHeaderValue,{[Fj]:e[Bj]});r.bp("/assignment/accounts");let s=(0,Me.map)({[c6e]:[,e[a6e]],[o6e]:[()=>e.maxResults!==void 0,()=>e[i6e].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),_Sr=rr(async(e,t)=>{let r=(0,bf.requestBuilder)(e,t),n=(0,Me.map)({},Me.isSerializableHeaderValue,{[Fj]:e[Bj]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),SSr=rr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uj(e,t);let r=(0,Me.map)({$metadata:zg(e)}),n=(0,Me.expectNonNull)((0,Me.expectObject)(await(0,dI.parseJsonBody)(e.body,t)),"body"),s=(0,Me.take)(n,{roleCredentials:Me._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),vSr=rr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uj(e,t);let r=(0,Me.map)({$metadata:zg(e)}),n=(0,Me.expectNonNull)((0,Me.expectObject)(await(0,dI.parseJsonBody)(e.body,t)),"body"),s=(0,Me.take)(n,{nextToken:Me.expectString,roleList:Me._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),ESr=rr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uj(e,t);let r=(0,Me.map)({$metadata:zg(e)}),n=(0,Me.expectNonNull)((0,Me.expectObject)(await(0,dI.parseJsonBody)(e.body,t)),"body"),s=(0,Me.take)(n,{accountList:Me._json,nextToken:Me.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),CSr=rr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uj(e,t);let r=(0,Me.map)({$metadata:zg(e)});return await(0,Me.collectBody)(e.body,t),r},"de_LogoutCommand"),Uj=rr(async(e,t)=>{let r={...e,body:await(0,dI.parseJsonErrorBody)(e.body,t)},n=(0,dI.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await wSr(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await xSr(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ASr(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await PSr(r,t);default:let s=r.body;return bSr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),bSr=(0,Me.withBaseException)(nb),wSr=rr(async(e,t)=>{let r=(0,Me.map)({}),n=e.body,s=(0,Me.take)(n,{message:Me.expectString});Object.assign(r,s);let i=new zKe({$metadata:zg(e),...r});return(0,Me.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),xSr=rr(async(e,t)=>{let r=(0,Me.map)({}),n=e.body,s=(0,Me.take)(n,{message:Me.expectString});Object.assign(r,s);let i=new GKe({$metadata:zg(e),...r});return(0,Me.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),ASr=rr(async(e,t)=>{let r=(0,Me.map)({}),n=e.body,s=(0,Me.take)(n,{message:Me.expectString});Object.assign(r,s);let i=new WKe({$metadata:zg(e),...r});return(0,Me.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),PSr=rr(async(e,t)=>{let r=(0,Me.map)({}),n=e.body,s=(0,Me.take)(n,{message:Me.expectString});Object.assign(r,s);let i=new XKe({$metadata:zg(e),...r});return(0,Me.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),zg=rr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),n6e="accountId",Bj="accessToken",s6e="account_id",i6e="maxResults",o6e="max_result",a6e="nextToken",c6e="next_token",RSr="roleName",ISr="role_name",Fj="x-amz-sso_bearer_token",l6e=class extends Me.Command.classBuilder().ep(kj).m(function(e,t,r,n){return[(0,Lj.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uI.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(YKe,ZKe).ser(gSr).de(SSr).build(){static{rr(this,"GetRoleCredentialsCommand")}},JQ=class extends Me.Command.classBuilder().ep(kj).m(function(e,t,r,n){return[(0,Lj.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uI.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(e6e,void 0).ser(hSr).de(vSr).build(){static{rr(this,"ListAccountRolesCommand")}},YQ=class extends Me.Command.classBuilder().ep(kj).m(function(e,t,r,n){return[(0,Lj.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uI.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(t6e,void 0).ser(ySr).de(ESr).build(){static{rr(this,"ListAccountsCommand")}},d6e=class extends Me.Command.classBuilder().ep(kj).m(function(e,t,r,n){return[(0,Lj.getSerdePlugin)(r,this.serialize,this.deserialize),(0,uI.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(r6e,void 0).ser(_Sr).de(CSr).build(){static{rr(this,"LogoutCommand")}},TSr={GetRoleCredentialsCommand:l6e,ListAccountRolesCommand:JQ,ListAccountsCommand:YQ,LogoutCommand:d6e},u6e=class extends Mj{static{rr(this,"SSO")}};(0,Me.createAggregatedClient)(TSr,u6e);var OSr=(0,bf.createPaginator)(Mj,JQ,"nextToken","nextToken","maxResults"),NSr=(0,bf.createPaginator)(Mj,YQ,"nextToken","nextToken","maxResults")});function DSr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kSr(e){return{schemeId:"smithy.api#noAuth"}}var mI,p6e,g6e,h6e,QQ=v(()=>{Es();mI=C(Ra()),p6e=async(e,t,r)=>({operation:(0,mI.getSmithyContext)(t).operation,region:await(0,mI.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});g6e=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(kSr(e));break}default:t.push(DSr(e))}return t},h6e=e=>{let t=s_(e);return Object.assign(t,{authSchemePreference:(0,mI.normalizeProvider)(e.authSchemePreference??[])})}});var y6e,_6e,ZQ=v(()=>{y6e=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),_6e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var qj,eZ=v(()=>{qj={name:"@aws-sdk/nested-clients",version:"3.840.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var R6e,Al,Pl,ob,S6e,fI,sb,ib,wf,tZ,rZ,v6e,E6e,C6e,I6e,T6e,xl,b6e,O6e,w6e,x6e,A6e,P6e,LSr,N6e,D6e=v(()=>{R6e="required",Al="fn",Pl="argv",ob="ref",S6e="isSet",fI="booleanEquals",sb="error",ib="endpoint",wf="tree",tZ="PartitionResult",rZ="getAttr",v6e={[R6e]:!1,type:"String"},E6e={[R6e]:!0,default:!1,type:"Boolean"},C6e={[ob]:"Endpoint"},I6e={[Al]:fI,[Pl]:[{[ob]:"UseFIPS"},!0]},T6e={[Al]:fI,[Pl]:[{[ob]:"UseDualStack"},!0]},xl={},b6e={[Al]:rZ,[Pl]:[{[ob]:tZ},"supportsFIPS"]},O6e={[ob]:tZ},w6e={[Al]:fI,[Pl]:[!0,{[Al]:rZ,[Pl]:[O6e,"supportsDualStack"]}]},x6e=[I6e],A6e=[T6e],P6e=[{[ob]:"Region"}],LSr={version:"1.0",parameters:{Region:v6e,UseDualStack:E6e,UseFIPS:E6e,Endpoint:v6e},rules:[{conditions:[{[Al]:S6e,[Pl]:[C6e]}],rules:[{conditions:x6e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:sb},{conditions:A6e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:sb},{endpoint:{url:C6e,properties:xl,headers:xl},type:ib}],type:wf},{conditions:[{[Al]:S6e,[Pl]:P6e}],rules:[{conditions:[{[Al]:"aws.partition",[Pl]:P6e,assign:tZ}],rules:[{conditions:[I6e,T6e],rules:[{conditions:[{[Al]:fI,[Pl]:[!0,b6e]},w6e],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xl,headers:xl},type:ib}],type:wf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:sb}],type:wf},{conditions:x6e,rules:[{conditions:[{[Al]:fI,[Pl]:[b6e,!0]}],rules:[{conditions:[{[Al]:"stringEquals",[Pl]:[{[Al]:rZ,[Pl]:[O6e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:xl,headers:xl},type:ib},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xl,headers:xl},type:ib}],type:wf},{error:"FIPS is enabled but this partition does not support FIPS",type:sb}],type:wf},{conditions:A6e,rules:[{conditions:[w6e],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xl,headers:xl},type:ib}],type:wf},{error:"DualStack is enabled but this partition does not support DualStack",type:sb}],type:wf},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xl,headers:xl},type:ib}],type:wf}],type:wf},{error:"Invalid Configuration: Missing Region",type:sb}]},N6e=LSr});var k6e,ab,USr,M6e,L6e=v(()=>{k6e=C(r_()),ab=C(t_());D6e();USr=new ab.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),M6e=(e,t={})=>USr.get(e,()=>(0,ab.resolveEndpoint)(N6e,{endpointParams:e,logger:t.logger}));ab.customEndpointFunctions.aws=k6e.awsEndpointFunctions});var U6e,B6e,jj,$j,F6e,q6e=v(()=>{Es();Co();U6e=C(mt()),B6e=C(Fg()),jj=C(Eo()),$j=C(ci());QQ();L6e();F6e=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??jj.fromBase64,base64Encoder:e?.base64Encoder??jj.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??M6e,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??g6e,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Oa},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hf}],logger:e?.logger??new U6e.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??B6e.parseUrl,utf8Decoder:e?.utf8Decoder??$j.fromUtf8,utf8Encoder:e?.utf8Encoder??$j.toUtf8})});var zj,Gg,j6e,Hj,Hg,Gj,$6e,z6e,H6e,G6e,V6e,W6e,K6e=v(()=>{eZ();Es();zj=C(XC()),Gg=C(vl()),j6e=C(JC()),Hj=C(xd()),Hg=C(vf()),Gj=C(Ag()),$6e=C(YC()),z6e=C(p_());q6e();H6e=C(mt()),G6e=C(tb()),V6e=C(mt()),W6e=e=>{(0,V6e.emitWarningIfUnsupportedVersion)(process.version);let t=(0,G6e.resolveDefaultsModeConfig)(e),r=()=>t().then(H6e.loadConfigsForDefaultMode),n=F6e(e);UC(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Hg.loadConfig)(qC,s),bodyLengthChecker:e?.bodyLengthChecker??$6e.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,zj.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:qj.version}),maxAttempts:e?.maxAttempts??(0,Hg.loadConfig)(Hj.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Hg.loadConfig)(Gg.NODE_REGION_CONFIG_OPTIONS,{...Gg.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Gj.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Hg.loadConfig)({...Hj.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||z6e.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??j6e.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Gj.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Hg.loadConfig)(Gg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Hg.loadConfig)(Gg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Hg.loadConfig)(zj.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var X6e,J6e,Y6e=v(()=>{X6e=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},J6e=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Vj,Wj,Kj,Q6e,Z6e=v(()=>{Vj=C(rb()),Wj=C(Gr()),Kj=C(mt());Y6e();Q6e=(e,t)=>{let r=Object.assign((0,Vj.getAwsRegionExtensionConfiguration)(e),(0,Kj.getDefaultExtensionConfiguration)(e),(0,Wj.getHttpHandlerExtensionConfiguration)(e),X6e(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Vj.resolveAwsRegionExtensionConfiguration)(r),(0,Kj.resolveDefaultRuntimeConfig)(r),(0,Wj.resolveHttpHandlerRuntimeConfig)(r),J6e(r))}});var Xj,e8e,t8e,Jj,r8e,n8e,s8e,Yj,nZ,pI,sZ=v(()=>{Xj=C(RC()),e8e=C(IC()),t8e=C(TC()),Jj=C(u_()),r8e=C(vl());Co();n8e=C(zC()),s8e=C(Ef()),Yj=C(xd()),nZ=C(mt());QQ();ZQ();K6e();Z6e();pI=class extends nZ.Client{config;constructor(...[t]){let r=W6e(t||{});super(r),this.initConfig=r;let n=y6e(r),s=(0,Jj.resolveUserAgentConfig)(n),i=(0,Yj.resolveRetryConfig)(s),o=(0,r8e.resolveRegionConfig)(i),a=(0,Xj.resolveHostHeaderConfig)(o),c=(0,s8e.resolveEndpointConfig)(a),l=h6e(c),d=Q6e(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Jj.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Yj.getRetryPlugin)(this.config)),this.middlewareStack.use((0,n8e.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Xj.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,e8e.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,t8e.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(vR(this.config,{httpAuthSchemeParametersProvider:p6e,identityProviderConfigProvider:async u=>new e_({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(CR(this.config))}destroy(){super.destroy()}}});var i8e,Ai,Qj=v(()=>{i8e=C(mt()),Ai=class e extends i8e.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var h_,gI,hI,iZ,oZ,yI,_I,SI,vI,EI,CI,bI,wI,xI,Zj=v(()=>{h_=C(mt());Qj();gI=class e extends Ai{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},hI=class e extends Ai{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},iZ=e=>({...e,...e.clientSecret&&{clientSecret:h_.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:h_.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:h_.SENSITIVE_STRING}}),oZ=e=>({...e,...e.accessToken&&{accessToken:h_.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:h_.SENSITIVE_STRING},...e.idToken&&{idToken:h_.SENSITIVE_STRING}}),yI=class e extends Ai{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_I=class e extends Ai{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},SI=class e extends Ai{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vI=class e extends Ai{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},EI=class e extends Ai{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},CI=class e extends Ai{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bI=class e extends Ai{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wI=class e extends Ai{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xI=class e extends Ai{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var Se,o8e,a8e,BSr,FSr,qSr,jSr,$Sr,zSr,HSr,GSr,VSr,WSr,KSr,XSr,JSr,Rl,c8e=v(()=>{Es();Co();Se=C(mt());Zj();Qj();o8e=async(e,t)=>{let r=BR(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,Se.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,Se._json)(i)})),r.m("POST").h(n).b(s),r.build()},a8e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return BSr(e,t);let r=(0,Se.map)({$metadata:Rl(e)}),n=(0,Se.expectNonNull)((0,Se.expectObject)(await $C(e.body,t)),"body"),s=(0,Se.take)(n,{accessToken:Se.expectString,expiresIn:Se.expectInt32,idToken:Se.expectString,refreshToken:Se.expectString,tokenType:Se.expectString});return Object.assign(r,s),r},BSr=async(e,t)=>{let r={...e,body:await U7(e.body,t)},n=o_(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await qSr(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await jSr(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await $Sr(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await zSr(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await HSr(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await GSr(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await VSr(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await WSr(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await KSr(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await XSr(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await JSr(r,t);default:let s=r.body;return FSr({output:e,parsedBody:s,errorCode:n})}},FSr=(0,Se.withBaseException)(Ai),qSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new gI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},jSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new hI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},$Sr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new yI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},zSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new _I({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},HSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new SI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},GSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new vI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},VSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new EI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},WSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new CI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},KSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new bI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},XSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new wI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},JSr=async(e,t)=>{let r=(0,Se.map)({}),n=e.body,s=(0,Se.take)(n,{error:Se.expectString,error_description:Se.expectString});Object.assign(r,s);let i=new xI({$metadata:Rl(e),...r});return(0,Se.decorateServiceException)(i,e.body)},Rl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var l8e,d8e,aZ,AI,cZ=v(()=>{l8e=C(Ef()),d8e=C(uf()),aZ=C(mt());ZQ();Zj();c8e();AI=class extends aZ.Command.classBuilder().ep(_6e).m(function(t,r,n,s){return[(0,d8e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,l8e.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(iZ,oZ).ser(o8e).de(a8e).build(){}});var u8e,YSr,e1,m8e=v(()=>{u8e=C(mt());cZ();sZ();YSr={CreateTokenCommand:AI},e1=class extends pI{};(0,u8e.createAggregatedClient)(YSr,e1)});var f8e=v(()=>{cZ()});var p8e=v(()=>{Zj()});var lZ={};Kt(lZ,{$Command:()=>aZ.Command,AccessDeniedException:()=>gI,AuthorizationPendingException:()=>hI,CreateTokenCommand:()=>AI,CreateTokenRequestFilterSensitiveLog:()=>iZ,CreateTokenResponseFilterSensitiveLog:()=>oZ,ExpiredTokenException:()=>yI,InternalServerException:()=>_I,InvalidClientException:()=>SI,InvalidGrantException:()=>vI,InvalidRequestException:()=>EI,InvalidScopeException:()=>CI,SSOOIDC:()=>e1,SSOOIDCClient:()=>pI,SSOOIDCServiceException:()=>Ai,SlowDownException:()=>bI,UnauthorizedClientException:()=>wI,UnsupportedGrantTypeException:()=>xI,__Client:()=>nZ.Client});var dZ=v(()=>{sZ();m8e();f8e();p8e();Qj()});var C8e=E((zTn,E8e)=>{"use strict";var QSr=Object.create,RI=Object.defineProperty,ZSr=Object.getOwnPropertyDescriptor,evr=Object.getOwnPropertyNames,tvr=Object.getPrototypeOf,rvr=Object.prototype.hasOwnProperty,xf=(e,t)=>RI(e,"name",{value:t,configurable:!0}),nvr=(e,t)=>{for(var r in t)RI(e,r,{get:t[r],enumerable:!0})},y8e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of evr(t))!rvr.call(e,s)&&s!==r&&RI(e,s,{get:()=>t[s],enumerable:!(n=ZSr(t,s))||n.enumerable});return e},_8e=(e,t,r)=>(r=e!=null?QSr(tvr(e)):{},y8e(t||!e||!e.__esModule?RI(r,"default",{value:e,enumerable:!0}):r,e)),svr=e=>y8e(RI({},"__esModule",{value:!0}),e),S8e={};nvr(S8e,{fromEnvSigningName:()=>avr,fromSso:()=>v8e,fromStatic:()=>pvr,nodeProvider:()=>gvr});E8e.exports=svr(S8e);var ivr=(bd(),H(Ng)),ovr=(A7(),H(P3e)),dc=ca(),avr=xf(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new dc.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,ovr.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new dc.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,ivr.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),cvr=5*60*1e3,uZ="To refresh this SSO session run 'aws sso login' with the corresponding profile.",lvr=xf(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>_8e((dZ(),H(lZ))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),dvr=xf(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>_8e((dZ(),H(lZ))));return(await lvr(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),g8e=xf(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new dc.TokenProviderError(`Token is expired. ${uZ}`,!1)},"validateTokenExpiry"),y_=xf((e,t,r=!1)=>{if(typeof t>"u")throw new dc.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${uZ}`,!1)},"validateTokenKey"),PI=Bg(),uvr=require("fs"),{writeFile:mvr}=uvr.promises,fvr=xf((e,t)=>{let r=(0,PI.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return mvr(r,n)},"writeSSOTokenToFile"),h8e=new Date(0),v8e=xf((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,PI.parseKnownFiles)(r),s=(0,PI.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new dc.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new dc.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,PI.loadSsoSessionData)(r))[o];if(!c)throw new dc.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!c[S])throw new dc.TokenProviderError(`Sso session '${o}' is missing required property '${S}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,PI.getSSOTokenFromFile)(o)}catch{throw new dc.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${uZ}`,!1)}y_("accessToken",u.accessToken),y_("expiresAt",u.expiresAt);let{accessToken:f,expiresAt:p}=u,g={token:f,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>cvr)return g;if(Date.now()-h8e.getTime()<30*1e3)return g8e(g),g;y_("clientId",u.clientId,!0),y_("clientSecret",u.clientSecret,!0),y_("refreshToken",u.refreshToken,!0);try{h8e.setTime(Date.now());let S=await dvr(u,d,r);y_("accessToken",S.accessToken),y_("expiresIn",S.expiresIn);let b=new Date(Date.now()+S.expiresIn*1e3);try{await fvr(o,{...u,accessToken:S.accessToken,expiresAt:b.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:b}}catch{return g8e(g),g}},"fromSso"),pvr=xf(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new dc.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),gvr=xf((e={})=>(0,dc.memoize)((0,dc.chain)(v8e(e),async()=>{throw new dc.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var fZ=E((HTn,O8e)=>{"use strict";var r1=Object.defineProperty,hvr=Object.getOwnPropertyDescriptor,x8e=Object.getOwnPropertyNames,yvr=Object.prototype.hasOwnProperty,n1=(e,t)=>r1(e,"name",{value:t,configurable:!0}),_vr=(e,t)=>function(){return e&&(t=(0,e[x8e(e)[0]])(e=0)),t},A8e=(e,t)=>{for(var r in t)r1(e,r,{get:t[r],enumerable:!0})},Svr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of x8e(t))!yvr.call(e,s)&&s!==r&&r1(e,s,{get:()=>t[s],enumerable:!(n=hvr(t,s))||n.enumerable});return e},vvr=e=>Svr(r1({},"__esModule",{value:!0}),e),P8e={};A8e(P8e,{GetRoleCredentialsCommand:()=>mZ.GetRoleCredentialsCommand,SSOClient:()=>mZ.SSOClient});var mZ,Evr=_vr({"src/loadSso.ts"(){"use strict";mZ=f6e()}}),R8e={};A8e(R8e,{fromSSO:()=>bvr,isSsoProfile:()=>I8e,validateSsoProfile:()=>T8e});O8e.exports=vvr(R8e);var I8e=n1(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),b8e=(bd(),H(Ng)),Cvr=C8e(),Ad=ca(),t1=Bg(),II=!1,w8e=n1(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ne=await(0,Cvr.fromSso)({profile:c})();d={accessToken:ne.token,expiresAt:new Date(ne.expiration).toISOString()}}catch(ne){throw new Ad.CredentialsProviderError(ne.message,{tryNextLink:II,logger:l})}else try{d=await(0,t1.getSSOTokenFromFile)(e)}catch{throw new Ad.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:II,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Ad.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:II,logger:l});let{accessToken:f}=d,{SSOClient:p,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(Evr(),P8e)),S=i||new p(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),b;try{b=await S.send(new g({accountId:r,roleName:s,accessToken:f}))}catch(ne){throw new Ad.CredentialsProviderError(ne,{tryNextLink:II,logger:l})}let{roleCredentials:{accessKeyId:A,secretAccessKey:P,sessionToken:M,expiration:N,credentialScope:L,accountId:G}={}}=b;if(!A||!P||!M||!N)throw new Ad.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:II,logger:l});let pe={accessKeyId:A,secretAccessKey:P,sessionToken:M,expiration:new Date(N),...L&&{credentialScope:L},...G&&{accountId:G}};return t?(0,b8e.setCredentialFeature)(pe,"CREDENTIALS_SSO","s"):(0,b8e.setCredentialFeature)(pe,"CREDENTIALS_SSO_LEGACY","u"),pe},"resolveSSOCredentials"),T8e=n1((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Ad.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),bvr=n1((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,t1.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,t1.parseKnownFiles)(e))[c];if(!d)throw new Ad.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!I8e(d))throw new Ad.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let A=(await(0,t1.loadSsoSessionData)(e))[d.sso_session],P=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==A.sso_region)throw new Ad.CredentialsProviderError("Conflicting SSO region"+P,{tryNextLink:!1,logger:e.logger});if(r&&r!==A.sso_start_url)throw new Ad.CredentialsProviderError("Conflicting SSO start_url"+P,{tryNextLink:!1,logger:e.logger});d.sso_region=A.sso_region,d.sso_start_url=A.sso_start_url}let{sso_start_url:u,sso_account_id:f,sso_region:p,sso_role_name:g,sso_session:S}=T8e(d,e.logger);return w8e({ssoStartUrl:u,ssoSession:S,ssoAccountId:f,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new Ad.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return w8e({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function wvr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function xvr(e){return{schemeId:"smithy.api#noAuth"}}var TI,N8e,D8e,Avr,k8e,pZ=v(()=>{Es();TI=C(Ra());OI();N8e=async(e,t,r)=>({operation:(0,TI.getSmithyContext)(t).operation,region:await(0,TI.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});D8e=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(xvr(e));break}default:t.push(wvr(e))}return t},Avr=e=>Object.assign(e,{stsClientCtor:Ou}),k8e=e=>{let t=Avr(e),r=s_(t);return Object.assign(r,{authSchemePreference:(0,TI.normalizeProvider)(e.authSchemePreference??[])})}});var M8e,s1,i1=v(()=>{M8e=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),s1={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var V8e,_t,vr,Er,Wg,Vg,Xi,W8e,K8e,X8e,Xn,L8e,Nu,cb,hZ,U8e,gZ,J8e,B8e,Ji,F8e,Y8e,Q8e,wo,uc,q8e,Z8e,eXe,j8e,tXe,$8e,z8e,H8e,G8e,Pvr,rXe,nXe=v(()=>{V8e="required",_t="type",vr="fn",Er="argv",Wg="ref",Vg="booleanEquals",Xi="stringEquals",W8e="sigv4",K8e="sts",X8e="us-east-1",Xn="endpoint",L8e="https://sts.{Region}.{PartitionResult#dnsSuffix}",Nu="tree",cb="error",hZ="getAttr",U8e={[V8e]:!1,[_t]:"String"},gZ={[V8e]:!0,default:!1,[_t]:"Boolean"},J8e={[Wg]:"Endpoint"},B8e={[vr]:"isSet",[Er]:[{[Wg]:"Region"}]},Ji={[Wg]:"Region"},F8e={[vr]:"aws.partition",[Er]:[Ji],assign:"PartitionResult"},Y8e={[Wg]:"UseFIPS"},Q8e={[Wg]:"UseDualStack"},wo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:W8e,signingName:K8e,signingRegion:X8e}]},headers:{}},uc={},q8e={conditions:[{[vr]:Xi,[Er]:[Ji,"aws-global"]}],[Xn]:wo,[_t]:Xn},Z8e={[vr]:Vg,[Er]:[Y8e,!0]},eXe={[vr]:Vg,[Er]:[Q8e,!0]},j8e={[vr]:hZ,[Er]:[{[Wg]:"PartitionResult"},"supportsFIPS"]},tXe={[Wg]:"PartitionResult"},$8e={[vr]:Vg,[Er]:[!0,{[vr]:hZ,[Er]:[tXe,"supportsDualStack"]}]},z8e=[{[vr]:"isSet",[Er]:[J8e]}],H8e=[Z8e],G8e=[eXe],Pvr={version:"1.0",parameters:{Region:U8e,UseDualStack:gZ,UseFIPS:gZ,Endpoint:U8e,UseGlobalEndpoint:gZ},rules:[{conditions:[{[vr]:Vg,[Er]:[{[Wg]:"UseGlobalEndpoint"},!0]},{[vr]:"not",[Er]:z8e},B8e,F8e,{[vr]:Vg,[Er]:[Y8e,!1]},{[vr]:Vg,[Er]:[Q8e,!1]}],rules:[{conditions:[{[vr]:Xi,[Er]:[Ji,"ap-northeast-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"ap-south-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"ap-southeast-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"ap-southeast-2"]}],endpoint:wo,[_t]:Xn},q8e,{conditions:[{[vr]:Xi,[Er]:[Ji,"ca-central-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"eu-central-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"eu-north-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"eu-west-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"eu-west-2"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"eu-west-3"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"sa-east-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,X8e]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"us-east-2"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"us-west-1"]}],endpoint:wo,[_t]:Xn},{conditions:[{[vr]:Xi,[Er]:[Ji,"us-west-2"]}],endpoint:wo,[_t]:Xn},{endpoint:{url:L8e,properties:{authSchemes:[{name:W8e,signingName:K8e,signingRegion:"{Region}"}]},headers:uc},[_t]:Xn}],[_t]:Nu},{conditions:z8e,rules:[{conditions:H8e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[_t]:cb},{conditions:G8e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[_t]:cb},{endpoint:{url:J8e,properties:uc,headers:uc},[_t]:Xn}],[_t]:Nu},{conditions:[B8e],rules:[{conditions:[F8e],rules:[{conditions:[Z8e,eXe],rules:[{conditions:[{[vr]:Vg,[Er]:[!0,j8e]},$8e],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:uc,headers:uc},[_t]:Xn}],[_t]:Nu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[_t]:cb}],[_t]:Nu},{conditions:H8e,rules:[{conditions:[{[vr]:Vg,[Er]:[j8e,!0]}],rules:[{conditions:[{[vr]:Xi,[Er]:[{[vr]:hZ,[Er]:[tXe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:uc,headers:uc},[_t]:Xn},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:uc,headers:uc},[_t]:Xn}],[_t]:Nu},{error:"FIPS is enabled but this partition does not support FIPS",[_t]:cb}],[_t]:Nu},{conditions:G8e,rules:[{conditions:[$8e],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:uc,headers:uc},[_t]:Xn}],[_t]:Nu},{error:"DualStack is enabled but this partition does not support DualStack",[_t]:cb}],[_t]:Nu},q8e,{endpoint:{url:L8e,properties:uc,headers:uc},[_t]:Xn}],[_t]:Nu}],[_t]:Nu},{error:"Invalid Configuration: Missing Region",[_t]:cb}]},rXe=Pvr});var sXe,lb,Rvr,iXe,oXe=v(()=>{sXe=C(r_()),lb=C(t_());nXe();Rvr=new lb.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),iXe=(e,t={})=>Rvr.get(e,()=>(0,lb.resolveEndpoint)(rXe,{endpointParams:e,logger:t.logger}));lb.customEndpointFunctions.aws=sXe.awsEndpointFunctions});var aXe,cXe,o1,a1,lXe,dXe=v(()=>{Es();Co();aXe=C(mt()),cXe=C(Fg()),o1=C(Eo()),a1=C(ci());pZ();oXe();lXe=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??o1.fromBase64,base64Encoder:e?.base64Encoder??o1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iXe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??D8e,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Oa},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hf}],logger:e?.logger??new aXe.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??cXe.parseUrl,utf8Decoder:e?.utf8Decoder??a1.fromUtf8,utf8Encoder:e?.utf8Encoder??a1.toUtf8})});var c1,Xg,uXe,l1,Kg,d1,mXe,fXe,pXe,gXe,hXe,yXe,_Xe=v(()=>{eZ();Es();c1=C(XC()),Xg=C(vl());Co();uXe=C(JC()),l1=C(xd()),Kg=C(vf()),d1=C(Ag()),mXe=C(YC()),fXe=C(p_());dXe();pXe=C(mt()),gXe=C(tb()),hXe=C(mt()),yXe=e=>{(0,hXe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,gXe.resolveDefaultsModeConfig)(e),r=()=>t().then(pXe.loadConfigsForDefaultMode),n=lXe(e);UC(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Kg.loadConfig)(qC,s),bodyLengthChecker:e?.bodyLengthChecker??mXe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,c1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:qj.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Oa},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hf}],maxAttempts:e?.maxAttempts??(0,Kg.loadConfig)(l1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Kg.loadConfig)(Xg.NODE_REGION_CONFIG_OPTIONS,{...Xg.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:d1.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Kg.loadConfig)({...l1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||fXe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??uXe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Kg.loadConfig)(Xg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Kg.loadConfig)(Xg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Kg.loadConfig)(c1.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var SXe,vXe,EXe=v(()=>{SXe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},vXe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var u1,m1,f1,CXe,bXe=v(()=>{u1=C(rb()),m1=C(Gr()),f1=C(mt());EXe();CXe=(e,t)=>{let r=Object.assign((0,u1.getAwsRegionExtensionConfiguration)(e),(0,f1.getDefaultExtensionConfiguration)(e),(0,m1.getHttpHandlerExtensionConfiguration)(e),SXe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,u1.resolveAwsRegionExtensionConfiguration)(r),(0,f1.resolveDefaultRuntimeConfig)(r),(0,m1.resolveHttpHandlerRuntimeConfig)(r),vXe(r))}});var p1,wXe,xXe,g1,AXe,PXe,RXe,h1,yZ,Ou,OI=v(()=>{p1=C(RC()),wXe=C(IC()),xXe=C(TC()),g1=C(u_()),AXe=C(vl());Co();PXe=C(zC()),RXe=C(Ef()),h1=C(xd()),yZ=C(mt());pZ();i1();_Xe();bXe();Ou=class extends yZ.Client{config;constructor(...[t]){let r=yXe(t||{});super(r),this.initConfig=r;let n=M8e(r),s=(0,g1.resolveUserAgentConfig)(n),i=(0,h1.resolveRetryConfig)(s),o=(0,AXe.resolveRegionConfig)(i),a=(0,p1.resolveHostHeaderConfig)(o),c=(0,RXe.resolveEndpointConfig)(a),l=k8e(c),d=CXe(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,g1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,h1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,PXe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,p1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,wXe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,xXe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(vR(this.config,{httpAuthSchemeParametersProvider:N8e,identityProviderConfigProvider:async u=>new e_({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(CR(this.config))}destroy(){super.destroy()}}});var IXe,Da,y1=v(()=>{IXe=C(mt()),Da=class e extends IXe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var _Z,SZ,vZ,NI,DI,kI,MI,LI,UI,EZ,CZ,BI,FI=v(()=>{_Z=C(mt());y1();SZ=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:_Z.SENSITIVE_STRING}}),vZ=e=>({...e,...e.Credentials&&{Credentials:SZ(e.Credentials)}}),NI=class e extends Da{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},DI=class e extends Da{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kI=class e extends Da{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},MI=class e extends Da{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},LI=class e extends Da{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},UI=class e extends Da{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},EZ=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:_Z.SENSITIVE_STRING}}),CZ=e=>({...e,...e.Credentials&&{Credentials:SZ(e.Credentials)}}),BI=class e extends Da{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var TXe,qt,OXe,NXe,DXe,kXe,MXe,Ivr,Tvr,Ovr,Nvr,Dvr,kvr,Mvr,Lvr,Uvr,LXe,Bvr,Fvr,qvr,jvr,$vr,zvr,UXe,Hvr,Gvr,BXe,Vvr,Wvr,Kvr,Xvr,Jvr,Yvr,Qvr,Pf,Zvr,FXe,qXe,jXe,$Xe,bZ,eEr,wZ,db,tEr,xZ,AZ,ub,PZ,mb,RZ,IZ,TZ,fb,pb,OZ,NZ,DZ,gb,kZ,hb,yb,MZ,LZ,Af,UZ,BZ,FZ,qZ,jZ,zXe,$Z,zZ,HZ,Ls,HXe,rEr,GZ=v(()=>{Es();TXe=C(Gr()),qt=C(mt());FI();y1();OXe=async(e,t)=>{let r=qXe,n;return n=HXe({...Lvr(e,t),[$Xe]:eEr,[zXe]:jXe}),FXe(t,r,"/",void 0,n)},NXe=async(e,t)=>{let r=qXe,n;return n=HXe({...Uvr(e,t),[$Xe]:tEr,[zXe]:jXe}),FXe(t,r,"/",void 0,n)},DXe=async(e,t)=>{if(e.statusCode>=300)return MXe(e,t);let r=await YR(e.body,t),n={};return n=Hvr(r.AssumeRoleResult,t),{$metadata:Pf(e),...n}},kXe=async(e,t)=>{if(e.statusCode>=300)return MXe(e,t);let r=await YR(e.body,t),n={};return n=Gvr(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Pf(e),...n}},MXe=async(e,t)=>{let r={...e,body:await eQ(e.body,t)},n=rEr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Ivr(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dvr(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await kvr(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Mvr(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Tvr(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Ovr(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Nvr(r,t);default:let s=r.body;return Zvr({output:e,parsedBody:s.Error,errorCode:n})}},Ivr=async(e,t)=>{let r=e.body,n=Vvr(r.Error,t),s=new NI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},Tvr=async(e,t)=>{let r=e.body,n=Wvr(r.Error,t),s=new BI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},Ovr=async(e,t)=>{let r=e.body,n=Kvr(r.Error,t),s=new LI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},Nvr=async(e,t)=>{let r=e.body,n=Xvr(r.Error,t),s=new UI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},Dvr=async(e,t)=>{let r=e.body,n=Jvr(r.Error,t),s=new DI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},kvr=async(e,t)=>{let r=e.body,n=Yvr(r.Error,t),s=new kI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},Mvr=async(e,t)=>{let r=e.body,n=Qvr(r.Error,t),s=new MI({$metadata:Pf(e),...n});return(0,qt.decorateServiceException)(s,r)},Lvr=(e,t)=>{let r={};if(e[hb]!=null&&(r[hb]=e[hb]),e[yb]!=null&&(r[yb]=e[yb]),e[pb]!=null){let n=LXe(e[pb],t);e[pb]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[fb]!=null&&(r[fb]=e[fb]),e[mb]!=null&&(r[mb]=e[mb]),e[FZ]!=null){let n=zvr(e[FZ],t);e[FZ]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[jZ]!=null){let n=$vr(e[jZ],t);e[jZ]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[IZ]!=null&&(r[IZ]=e[IZ]),e[UZ]!=null&&(r[UZ]=e[UZ]),e[qZ]!=null&&(r[qZ]=e[qZ]),e[Af]!=null&&(r[Af]=e[Af]),e[NZ]!=null){let n=qvr(e[NZ],t);e[NZ]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},Uvr=(e,t)=>{let r={};if(e[hb]!=null&&(r[hb]=e[hb]),e[yb]!=null&&(r[yb]=e[yb]),e[zZ]!=null&&(r[zZ]=e[zZ]),e[DZ]!=null&&(r[DZ]=e[DZ]),e[pb]!=null){let n=LXe(e[pb],t);e[pb]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[fb]!=null&&(r[fb]=e[fb]),e[mb]!=null&&(r[mb]=e[mb]),r},LXe=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Bvr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},Bvr=(e,t)=>{let r={};return e[HZ]!=null&&(r[HZ]=e[HZ]),r},Fvr=(e,t)=>{let r={};return e[OZ]!=null&&(r[OZ]=e[OZ]),e[PZ]!=null&&(r[PZ]=e[PZ]),r},qvr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=Fvr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},jvr=(e,t)=>{let r={};return e[TZ]!=null&&(r[TZ]=e[TZ]),e[$Z]!=null&&(r[$Z]=e[$Z]),r},$vr=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},zvr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=jvr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},UXe=(e,t)=>{let r={};return e[wZ]!=null&&(r[wZ]=(0,qt.expectString)(e[wZ])),e[xZ]!=null&&(r[xZ]=(0,qt.expectString)(e[xZ])),r},Hvr=(e,t)=>{let r={};return e[ub]!=null&&(r[ub]=BXe(e[ub],t)),e[db]!=null&&(r[db]=UXe(e[db],t)),e[gb]!=null&&(r[gb]=(0,qt.strictParseInt32)(e[gb])),e[Af]!=null&&(r[Af]=(0,qt.expectString)(e[Af])),r},Gvr=(e,t)=>{let r={};return e[ub]!=null&&(r[ub]=BXe(e[ub],t)),e[LZ]!=null&&(r[LZ]=(0,qt.expectString)(e[LZ])),e[db]!=null&&(r[db]=UXe(e[db],t)),e[gb]!=null&&(r[gb]=(0,qt.strictParseInt32)(e[gb])),e[kZ]!=null&&(r[kZ]=(0,qt.expectString)(e[kZ])),e[AZ]!=null&&(r[AZ]=(0,qt.expectString)(e[AZ])),e[Af]!=null&&(r[Af]=(0,qt.expectString)(e[Af])),r},BXe=(e,t)=>{let r={};return e[bZ]!=null&&(r[bZ]=(0,qt.expectString)(e[bZ])),e[MZ]!=null&&(r[MZ]=(0,qt.expectString)(e[MZ])),e[BZ]!=null&&(r[BZ]=(0,qt.expectString)(e[BZ])),e[RZ]!=null&&(r[RZ]=(0,qt.expectNonNull)((0,qt.parseRfc3339DateTimeWithOffset)(e[RZ]))),r},Vvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Wvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Kvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Xvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Jvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Yvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Qvr=(e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=(0,qt.expectString)(e[Ls])),r},Pf=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Zvr=(0,qt.withBaseException)(Da),FXe=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new TXe.HttpRequest(l)},qXe={"content-type":"application/x-www-form-urlencoded"},jXe="2011-06-15",$Xe="Action",bZ="AccessKeyId",eEr="AssumeRole",wZ="AssumedRoleId",db="AssumedRoleUser",tEr="AssumeRoleWithWebIdentity",xZ="Arn",AZ="Audience",ub="Credentials",PZ="ContextAssertion",mb="DurationSeconds",RZ="Expiration",IZ="ExternalId",TZ="Key",fb="Policy",pb="PolicyArns",OZ="ProviderArn",NZ="ProvidedContexts",DZ="ProviderId",gb="PackedPolicySize",kZ="Provider",hb="RoleArn",yb="RoleSessionName",MZ="SecretAccessKey",LZ="SubjectFromWebIdentityToken",Af="SourceIdentity",UZ="SerialNumber",BZ="SessionToken",FZ="Tags",qZ="TokenCode",jZ="TransitiveTagKeys",zXe="Version",$Z="Value",zZ="WebIdentityToken",HZ="arn",Ls="message",HXe=e=>Object.entries(e).map(([t,r])=>(0,qt.extendedEncodeURIComponent)(t)+"="+(0,qt.extendedEncodeURIComponent)(r)).join("&"),rEr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var GXe,VXe,WXe,__,_1=v(()=>{GXe=C(Ef()),VXe=C(uf()),WXe=C(mt());i1();FI();GZ();__=class extends WXe.Command.classBuilder().ep(s1).m(function(t,r,n,s){return[(0,VXe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,GXe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,vZ).ser(OXe).de(DXe).build(){}});var KXe,XXe,JXe,S_,S1=v(()=>{KXe=C(Ef()),XXe=C(uf()),JXe=C(mt());i1();FI();GZ();S_=class extends JXe.Command.classBuilder().ep(s1).m(function(t,r,n,s){return[(0,XXe.getSerdePlugin)(n,this.serialize,this.deserialize),(0,KXe.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(EZ,CZ).ser(NXe).de(kXe).build(){}});var YXe,nEr,v1,QXe=v(()=>{YXe=C(mt());_1();S1();OI();nEr={AssumeRoleCommand:__,AssumeRoleWithWebIdentityCommand:S_},v1=class extends Ou{};(0,YXe.createAggregatedClient)(nEr,v1)});var ZXe=v(()=>{_1();S1()});var eJe=v(()=>{FI()});var tJe,rJe,nJe,sJe,iJe,oJe,aJe=v(()=>{bd();_1();S1();tJe="us-east-1",rJe=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},nJe=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${tJe} (STS default)`),n??s??tJe},sJe=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await nJe(u,e?.parentClientConfig?.region,p),S=!oJe(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:S?f:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new __(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=rJe(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return Og(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},iJe=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,f=await nJe(l,e?.parentClientConfig?.region,u),p=!oJe(d);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new S_(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=rJe(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&Og(a,"RESOLVED_ACCOUNT_ID","T"),Og(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},oJe=e=>e?.metadata?.handlerProtocol==="h2"});var cJe,lJe,dJe,sEr,uJe=v(()=>{aJe();OI();cJe=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,lJe=(e={},t)=>sJe(e,cJe(Ou,t)),dJe=(e={},t)=>iJe(e,cJe(Ou,t)),sEr=e=>t=>e({roleAssumer:lJe(t),roleAssumerWithWebIdentity:dJe(t),...t})});var VZ={};Kt(VZ,{AssumeRoleCommand:()=>__,AssumeRoleResponseFilterSensitiveLog:()=>vZ,AssumeRoleWithWebIdentityCommand:()=>S_,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>EZ,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>CZ,CredentialsFilterSensitiveLog:()=>SZ,ExpiredTokenException:()=>NI,IDPCommunicationErrorException:()=>BI,IDPRejectedClaimException:()=>LI,InvalidIdentityTokenException:()=>UI,MalformedPolicyDocumentException:()=>DI,PackedPolicyTooLargeException:()=>kI,RegionDisabledException:()=>MI,STS:()=>v1,STSClient:()=>Ou,STSServiceException:()=>Da,__Client:()=>yZ.Client,decorateDefaultCredentialProvider:()=>sEr,getDefaultRoleAssumer:()=>lJe,getDefaultRoleAssumerWithWebIdentity:()=>dJe});var WZ=v(()=>{OI();QXe();ZXe();eJe();uJe();y1()});var JZ=E((tNn,pJe)=>{"use strict";var E1=Object.defineProperty,iEr=Object.getOwnPropertyDescriptor,oEr=Object.getOwnPropertyNames,aEr=Object.prototype.hasOwnProperty,XZ=(e,t)=>E1(e,"name",{value:t,configurable:!0}),cEr=(e,t)=>{for(var r in t)E1(e,r,{get:t[r],enumerable:!0})},lEr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oEr(t))!aEr.call(e,s)&&s!==r&&E1(e,s,{get:()=>t[s],enumerable:!(n=iEr(t,s))||n.enumerable});return e},dEr=e=>lEr(E1({},"__esModule",{value:!0}),e),fJe={};cEr(fJe,{fromProcess:()=>hEr});pJe.exports=dEr(fJe);var mJe=Bg(),KZ=ca(),uEr=require("child_process"),mEr=require("util"),fEr=(bd(),H(Ng)),pEr=XZ((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,fEr.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),gEr=XZ(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,mEr.promisify)(uEr.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return pEr(e,a,t)}catch(o){throw new KZ.CredentialsProviderError(o.message,{logger:r})}}else throw new KZ.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new KZ.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),hEr=XZ((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,mJe.parseKnownFiles)(e);return gEr((0,mJe.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var YZ=E(Du=>{"use strict";var yEr=Du&&Du.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Er=Du&&Du.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),SEr=Du&&Du.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&yEr(r,t,n[s]);return _Er(r,t),r}}();Object.defineProperty(Du,"__esModule",{value:!0});Du.fromWebToken=void 0;var vEr=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>SEr((WZ(),H(VZ))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Du.fromWebToken=vEr});var hJe=E(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.fromTokenFile=void 0;var EEr=(bd(),H(Ng)),CEr=ca(),bEr=require("fs"),wEr=YZ(),gJe="AWS_WEB_IDENTITY_TOKEN_FILE",xEr="AWS_ROLE_ARN",AEr="AWS_ROLE_SESSION_NAME",PEr=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[gJe],r=e?.roleArn??process.env[xEr],n=e?.roleSessionName??process.env[AEr];if(!t||!r)throw new CEr.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,wEr.fromWebToken)({...e,webIdentityToken:(0,bEr.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[gJe]&&(0,EEr.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};C1.fromTokenFile=PEr});var eee=E((sNn,b1)=>{"use strict";var yJe=Object.defineProperty,REr=Object.getOwnPropertyDescriptor,IEr=Object.getOwnPropertyNames,TEr=Object.prototype.hasOwnProperty,QZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of IEr(t))!TEr.call(e,s)&&s!==r&&yJe(e,s,{get:()=>t[s],enumerable:!(n=REr(t,s))||n.enumerable});return e},_Je=(e,t,r)=>(QZ(e,t,"default"),r&&QZ(r,t,"default")),OEr=e=>QZ(yJe({},"__esModule",{value:!0}),e),ZZ={};b1.exports=OEr(ZZ);_Je(ZZ,hJe(),b1.exports);_Je(ZZ,YZ(),b1.exports)});var AJe=E((iNn,xJe)=>{"use strict";var NEr=Object.create,jI=Object.defineProperty,DEr=Object.getOwnPropertyDescriptor,kEr=Object.getOwnPropertyNames,MEr=Object.getPrototypeOf,LEr=Object.prototype.hasOwnProperty,Js=(e,t)=>jI(e,"name",{value:t,configurable:!0}),UEr=(e,t)=>{for(var r in t)jI(e,r,{get:t[r],enumerable:!0})},CJe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kEr(t))!LEr.call(e,s)&&s!==r&&jI(e,s,{get:()=>t[s],enumerable:!(n=DEr(t,s))||n.enumerable});return e},Jg=(e,t,r)=>(r=e!=null?NEr(MEr(e)):{},CJe(t||!e||!e.__esModule?jI(r,"default",{value:e,enumerable:!0}):r,e)),BEr=e=>CJe(jI({},"__esModule",{value:!0}),e),bJe={};UEr(bJe,{fromIni:()=>JEr});xJe.exports=BEr(bJe);var ree=Bg(),Yg=(bd(),H(Ng)),qI=ca(),FEr=Js((e,t,r)=>{let n={EcsContainer:Js(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>Jg(jQ())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>Jg(oI()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,qI.chain)(i(s??{}),o(s))().then(tee)},"EcsContainer"),Ec2InstanceMetadata:Js(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Jg(oI()));return async()=>i(s)().then(tee)},"Ec2InstanceMetadata"),Environment:Js(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Jg(kQ()));return async()=>i(s)().then(tee)},"Environment")};if(e in n)return n[e];throw new qI.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),tee=Js(e=>(0,Yg.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),qEr=Js((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(jEr(e,{profile:t,logger:r})||$Er(e,{profile:t,logger:r})),"isAssumeRoleProfile"),jEr=Js((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),$Er=Js((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),zEr=Js(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Jg((WZ(),H(VZ))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new qI.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,ree.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?wJe(i,t,r,{...n,[i]:!0},SJe(t[i]??{})):(await FEr(s.credential_source,e,r.logger)(r))();if(SJe(s))return a.then(c=>(0,Yg.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new qI.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,Yg.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),SJe=Js(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),HEr=Js(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),GEr=Js(async(e,t)=>Promise.resolve().then(()=>Jg(JZ())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Yg.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),VEr=Js(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Jg(fZ()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Yg.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Yg.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),WEr=Js(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),vJe=Js(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),EJe=Js(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Yg.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),KEr=Js(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),XEr=Js(async(e,t)=>Promise.resolve().then(()=>Jg(eee())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Yg.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),wJe=Js(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&vJe(i))return EJe(i,r);if(s||qEr(i,{profile:e,logger:r.logger}))return zEr(e,t,r,n);if(vJe(i))return EJe(i,r);if(KEr(i))return XEr(i,r);if(HEr(i))return GEr(r,e);if(WEr(i))return await VEr(e,i,r);throw new qI.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),JEr=Js((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,ree.parseKnownFiles)(r);return wJe((0,ree.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var see=E((oNn,DJe)=>{"use strict";var YEr=Object.create,$I=Object.defineProperty,QEr=Object.getOwnPropertyDescriptor,ZEr=Object.getOwnPropertyNames,eCr=Object.getPrototypeOf,tCr=Object.prototype.hasOwnProperty,w1=(e,t)=>$I(e,"name",{value:t,configurable:!0}),rCr=(e,t)=>{for(var r in t)$I(e,r,{get:t[r],enumerable:!0})},IJe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ZEr(t))!tCr.call(e,s)&&s!==r&&$I(e,s,{get:()=>t[s],enumerable:!(n=QEr(t,s))||n.enumerable});return e},_b=(e,t,r)=>(r=e!=null?YEr(eCr(e)):{},IJe(t||!e||!e.__esModule?$I(r,"default",{value:e,enumerable:!0}):r,e)),nCr=e=>IJe($I({},"__esModule",{value:!0}),e),TJe={};rCr(TJe,{credentialsTreatedAsExpired:()=>NJe,credentialsWillNeedRefresh:()=>OJe,defaultProvider:()=>oCr});DJe.exports=nCr(TJe);var nee=kQ(),sCr=Bg(),v_=ca(),PJe="AWS_EC2_METADATA_DISABLED",iCr=w1(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>_b(oI()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>_b(jQ()));return(0,v_.chain)(i(e),n(e))}return process.env[PJe]&&process.env[PJe]!=="false"?async()=>{throw new v_.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),RJe=!1,oCr=w1((e={})=>(0,v_.memoize)((0,v_.chain)(async()=>{if(e.profile??process.env[sCr.ENV_PROFILE])throw process.env[nee.ENV_KEY]&&process.env[nee.ENV_SECRET]&&(RJe||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),RJe=!0)),new v_.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,nee.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new v_.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>_b(fZ()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>_b(AJe()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>_b(JZ()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>_b(eee()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await iCr(e))()),async()=>{throw new v_.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),NJe,OJe),"defaultProvider"),OJe=w1(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),NJe=w1(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var KJe=E(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.ruleSet=void 0;var HJe="required",xo="fn",Ao="argv",vb="ref",kJe=!0,MJe="isSet",GI="booleanEquals",Sb="error",ku="endpoint",Rf="tree",iee="PartitionResult",oee="getAttr",zI="stringEquals",LJe={[HJe]:!1,type:"String"},UJe={[HJe]:!0,default:!1,type:"Boolean"},BJe={[vb]:"Endpoint"},GJe={[xo]:GI,[Ao]:[{[vb]:"UseFIPS"},!0]},VJe={[xo]:GI,[Ao]:[{[vb]:"UseDualStack"},!0]},Ys={},HI={[vb]:"Region"},FJe={[xo]:oee,[Ao]:[{[vb]:iee},"supportsFIPS"]},WJe={[vb]:iee},qJe={[xo]:GI,[Ao]:[!0,{[xo]:oee,[Ao]:[WJe,"supportsDualStack"]}]},jJe=[GJe],$Je=[VJe],zJe=[HI],aCr={version:"1.0",parameters:{Region:LJe,UseDualStack:UJe,UseFIPS:UJe,Endpoint:LJe},rules:[{conditions:[{[xo]:MJe,[Ao]:[BJe]}],rules:[{conditions:jJe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Sb},{conditions:$Je,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Sb},{endpoint:{url:BJe,properties:Ys,headers:Ys},type:ku}],type:Rf},{conditions:[{[xo]:MJe,[Ao]:zJe}],rules:[{conditions:[{[xo]:"aws.partition",[Ao]:zJe,assign:iee}],rules:[{conditions:[GJe,VJe],rules:[{conditions:[{[xo]:GI,[Ao]:[kJe,FJe]},qJe],rules:[{conditions:[{[xo]:zI,[Ao]:[HI,"us-east-1"]}],endpoint:{url:"https://cognito-idp-fips.us-east-1.amazonaws.com",properties:Ys,headers:Ys},type:ku},{conditions:[{[xo]:zI,[Ao]:[HI,"us-east-2"]}],endpoint:{url:"https://cognito-idp-fips.us-east-2.amazonaws.com",properties:Ys,headers:Ys},type:ku},{conditions:[{[xo]:zI,[Ao]:[HI,"us-west-1"]}],endpoint:{url:"https://cognito-idp-fips.us-west-1.amazonaws.com",properties:Ys,headers:Ys},type:ku},{conditions:[{[xo]:zI,[Ao]:[HI,"us-west-2"]}],endpoint:{url:"https://cognito-idp-fips.us-west-2.amazonaws.com",properties:Ys,headers:Ys},type:ku},{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ys,headers:Ys},type:ku}],type:Rf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Sb}],type:Rf},{conditions:jJe,rules:[{conditions:[{[xo]:GI,[Ao]:[FJe,kJe]}],rules:[{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ys,headers:Ys},type:ku}],type:Rf},{error:"FIPS is enabled but this partition does not support FIPS",type:Sb}],type:Rf},{conditions:$Je,rules:[{conditions:[qJe],rules:[{conditions:[{[xo]:zI,[Ao]:["aws",{[xo]:oee,[Ao]:[WJe,"name"]}]}],endpoint:{url:"https://cognito-idp.{Region}.amazonaws.com",properties:Ys,headers:Ys},type:ku},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ys,headers:Ys},type:ku}],type:Rf},{error:"DualStack is enabled but this partition does not support DualStack",type:Sb}],type:Rf},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dnsSuffix}",properties:Ys,headers:Ys},type:ku}],type:Rf}],type:Rf},{error:"Invalid Configuration: Missing Region",type:Sb}]};x1.ruleSet=aCr});var XJe=E(A1=>{"use strict";Object.defineProperty(A1,"__esModule",{value:!0});A1.defaultEndpointResolver=void 0;var cCr=r_(),aee=t_(),lCr=KJe(),dCr=new aee.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),uCr=(e,t={})=>dCr.get(e,()=>(0,aee.resolveEndpoint)(lCr.ruleSet,{endpointParams:e,logger:t.logger}));A1.defaultEndpointResolver=uCr;aee.customEndpointFunctions.aws=cCr.awsEndpointFunctions});var QJe=E(P1=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});P1.getRuntimeConfig=void 0;var mCr=(Es(),H(Na)),fCr=(Co(),H(Tg)),pCr=mt(),gCr=Fg(),JJe=Eo(),YJe=ci(),hCr=TQ(),yCr=XJe(),_Cr=e=>({apiVersion:"2016-04-18",base64Decoder:e?.base64Decoder??JJe.fromBase64,base64Encoder:e?.base64Encoder??JJe.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??yCr.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hCr.defaultCognitoIdentityProviderHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new mCr.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new fCr.NoAuthSigner}],logger:e?.logger??new pCr.NoOpLogger,serviceId:e?.serviceId??"Cognito Identity Provider",urlParser:e?.urlParser??gCr.parseUrl,utf8Decoder:e?.utf8Decoder??YJe.fromUtf8,utf8Encoder:e?.utf8Encoder??YJe.toUtf8});P1.getRuntimeConfig=_Cr});var n5e=E(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.getRuntimeConfig=void 0;var SCr=(iI(),H(sI)),vCr=SCr.__importDefault(lWe()),ZJe=(Es(),H(Na)),ECr=see(),e5e=XC(),R1=vl(),CCr=JC(),t5e=xd(),E_=vf(),r5e=Ag(),bCr=YC(),wCr=p_(),xCr=QJe(),ACr=mt(),PCr=tb(),RCr=mt(),ICr=e=>{(0,RCr.emitWarningIfUnsupportedVersion)(process.version);let t=(0,PCr.resolveDefaultsModeConfig)(e),r=()=>t().then(ACr.loadConfigsForDefaultMode),n=(0,xCr.getRuntimeConfig)(e);(0,ZJe.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,E_.loadConfig)(ZJe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??bCr.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??ECr.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,e5e.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:vCr.default.version}),maxAttempts:e?.maxAttempts??(0,E_.loadConfig)(t5e.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,E_.loadConfig)(R1.NODE_REGION_CONFIG_OPTIONS,{...R1.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:r5e.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,E_.loadConfig)({...t5e.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wCr.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CCr.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??r5e.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,E_.loadConfig)(R1.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,E_.loadConfig)(R1.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,E_.loadConfig)(e5e.NODE_APP_ID_CONFIG_OPTIONS,s)}};I1.getRuntimeConfig=ICr});var set=E((uNn,net)=>{"use strict";var T1=Object.defineProperty,TCr=Object.getOwnPropertyDescriptor,OCr=Object.getOwnPropertyNames,NCr=Object.prototype.hasOwnProperty,_=(e,t)=>T1(e,"name",{value:t,configurable:!0}),DCr=(e,t)=>{for(var r in t)T1(e,r,{get:t[r],enumerable:!0})},kCr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OCr(t))!NCr.call(e,s)&&s!==r&&T1(e,s,{get:()=>t[s],enumerable:!(n=TCr(t,s))||n.enumerable});return e},MCr=e=>kCr(T1({},"__esModule",{value:!0}),e),l5e={};DCr(l5e,{AccountTakeoverEventActionType:()=>VCr,AddCustomAttributesCommand:()=>iQe,AdminAddUserToGroupCommand:()=>oQe,AdminAddUserToGroupRequestFilterSensitiveLog:()=>nYe,AdminConfirmSignUpCommand:()=>aQe,AdminConfirmSignUpRequestFilterSensitiveLog:()=>sYe,AdminCreateUserCommand:()=>cQe,AdminCreateUserRequestFilterSensitiveLog:()=>iYe,AdminCreateUserResponseFilterSensitiveLog:()=>oYe,AdminDeleteUserAttributesCommand:()=>lQe,AdminDeleteUserAttributesRequestFilterSensitiveLog:()=>cYe,AdminDeleteUserCommand:()=>dQe,AdminDeleteUserRequestFilterSensitiveLog:()=>aYe,AdminDisableProviderForUserCommand:()=>uQe,AdminDisableUserCommand:()=>mQe,AdminDisableUserRequestFilterSensitiveLog:()=>lYe,AdminEnableUserCommand:()=>fQe,AdminEnableUserRequestFilterSensitiveLog:()=>dYe,AdminForgetDeviceCommand:()=>pQe,AdminForgetDeviceRequestFilterSensitiveLog:()=>uYe,AdminGetDeviceCommand:()=>gQe,AdminGetDeviceRequestFilterSensitiveLog:()=>mYe,AdminGetDeviceResponseFilterSensitiveLog:()=>fYe,AdminGetUserCommand:()=>hQe,AdminGetUserRequestFilterSensitiveLog:()=>pYe,AdminGetUserResponseFilterSensitiveLog:()=>gYe,AdminInitiateAuthCommand:()=>yQe,AdminInitiateAuthRequestFilterSensitiveLog:()=>hYe,AdminInitiateAuthResponseFilterSensitiveLog:()=>yYe,AdminLinkProviderForUserCommand:()=>_Qe,AdminListDevicesCommand:()=>SQe,AdminListDevicesRequestFilterSensitiveLog:()=>_Ye,AdminListDevicesResponseFilterSensitiveLog:()=>SYe,AdminListGroupsForUserCommand:()=>gee,AdminListGroupsForUserRequestFilterSensitiveLog:()=>vYe,AdminListUserAuthEventsCommand:()=>hee,AdminListUserAuthEventsRequestFilterSensitiveLog:()=>EYe,AdminRemoveUserFromGroupCommand:()=>vQe,AdminRemoveUserFromGroupRequestFilterSensitiveLog:()=>CYe,AdminResetUserPasswordCommand:()=>EQe,AdminResetUserPasswordRequestFilterSensitiveLog:()=>bYe,AdminRespondToAuthChallengeCommand:()=>CQe,AdminRespondToAuthChallengeRequestFilterSensitiveLog:()=>wYe,AdminRespondToAuthChallengeResponseFilterSensitiveLog:()=>xYe,AdminSetUserMFAPreferenceCommand:()=>bQe,AdminSetUserMFAPreferenceRequestFilterSensitiveLog:()=>AYe,AdminSetUserPasswordCommand:()=>wQe,AdminSetUserPasswordRequestFilterSensitiveLog:()=>PYe,AdminSetUserSettingsCommand:()=>xQe,AdminSetUserSettingsRequestFilterSensitiveLog:()=>RYe,AdminUpdateAuthEventFeedbackCommand:()=>AQe,AdminUpdateAuthEventFeedbackRequestFilterSensitiveLog:()=>IYe,AdminUpdateDeviceStatusCommand:()=>PQe,AdminUpdateDeviceStatusRequestFilterSensitiveLog:()=>TYe,AdminUpdateUserAttributesCommand:()=>RQe,AdminUpdateUserAttributesRequestFilterSensitiveLog:()=>OYe,AdminUserGlobalSignOutCommand:()=>IQe,AdminUserGlobalSignOutRequestFilterSensitiveLog:()=>NYe,AdvancedSecurityEnabledModeType:()=>abr,AdvancedSecurityModeType:()=>cbr,AliasAttributeType:()=>lbr,AliasExistsException:()=>X5e,AssetCategoryType:()=>ubr,AssetExtensionType:()=>mbr,AssociateSoftwareTokenCommand:()=>TQe,AssociateSoftwareTokenRequestFilterSensitiveLog:()=>DYe,AssociateSoftwareTokenResponseFilterSensitiveLog:()=>kYe,AttributeDataType:()=>WCr,AttributeTypeFilterSensitiveLog:()=>Pd,AuthFactorType:()=>dbr,AuthFlowType:()=>YCr,AuthenticationResultTypeFilterSensitiveLog:()=>Eb,ChallengeName:()=>ZCr,ChallengeNameType:()=>QCr,ChallengeResponse:()=>ebr,ChangePasswordCommand:()=>OQe,ChangePasswordRequestFilterSensitiveLog:()=>MYe,CodeDeliveryFailureException:()=>M5e,CodeMismatchException:()=>u9e,CognitoIdentityProvider:()=>ret,CognitoIdentityProviderClient:()=>Rd,CognitoIdentityProviderServiceException:()=>He,ColorSchemeModeType:()=>fbr,CompleteWebAuthnRegistrationCommand:()=>NQe,CompleteWebAuthnRegistrationRequestFilterSensitiveLog:()=>LYe,CompromisedCredentialsEventActionType:()=>Nbr,ConcurrentModificationException:()=>S9e,ConfirmDeviceCommand:()=>DQe,ConfirmDeviceRequestFilterSensitiveLog:()=>UYe,ConfirmForgotPasswordCommand:()=>kQe,ConfirmForgotPasswordRequestFilterSensitiveLog:()=>BYe,ConfirmSignUpCommand:()=>MQe,ConfirmSignUpRequestFilterSensitiveLog:()=>FYe,ConfirmSignUpResponseFilterSensitiveLog:()=>qYe,CreateGroupCommand:()=>LQe,CreateIdentityProviderCommand:()=>UQe,CreateManagedLoginBrandingCommand:()=>BQe,CreateManagedLoginBrandingRequestFilterSensitiveLog:()=>jYe,CreateResourceServerCommand:()=>FQe,CreateUserImportJobCommand:()=>qQe,CreateUserPoolClientCommand:()=>jQe,CreateUserPoolClientResponseFilterSensitiveLog:()=>$Ye,CreateUserPoolCommand:()=>$Qe,CreateUserPoolDomainCommand:()=>zQe,CustomEmailSenderLambdaVersionType:()=>Sbr,CustomSMSSenderLambdaVersionType:()=>vbr,DefaultEmailOptionType:()=>xbr,DeleteGroupCommand:()=>HQe,DeleteIdentityProviderCommand:()=>GQe,DeleteManagedLoginBrandingCommand:()=>VQe,DeleteResourceServerCommand:()=>WQe,DeleteUserAttributesCommand:()=>KQe,DeleteUserAttributesRequestFilterSensitiveLog:()=>HYe,DeleteUserCommand:()=>XQe,DeleteUserPoolClientCommand:()=>JQe,DeleteUserPoolClientRequestFilterSensitiveLog:()=>GYe,DeleteUserPoolCommand:()=>YQe,DeleteUserPoolDomainCommand:()=>QQe,DeleteUserRequestFilterSensitiveLog:()=>zYe,DeleteWebAuthnCredentialCommand:()=>ZQe,DeleteWebAuthnCredentialRequestFilterSensitiveLog:()=>VYe,DeletionProtectionType:()=>ybr,DeliveryMediumType:()=>KCr,DescribeIdentityProviderCommand:()=>eZe,DescribeManagedLoginBrandingByClientCommand:()=>tZe,DescribeManagedLoginBrandingByClientRequestFilterSensitiveLog:()=>WYe,DescribeManagedLoginBrandingCommand:()=>rZe,DescribeResourceServerCommand:()=>nZe,DescribeRiskConfigurationCommand:()=>sZe,DescribeRiskConfigurationRequestFilterSensitiveLog:()=>KYe,DescribeRiskConfigurationResponseFilterSensitiveLog:()=>XYe,DescribeUserImportJobCommand:()=>iZe,DescribeUserPoolClientCommand:()=>oZe,DescribeUserPoolClientRequestFilterSensitiveLog:()=>JYe,DescribeUserPoolClientResponseFilterSensitiveLog:()=>YYe,DescribeUserPoolCommand:()=>aZe,DescribeUserPoolDomainCommand:()=>cZe,DeviceKeyExistsException:()=>M9e,DeviceRememberedStatusType:()=>obr,DeviceTypeFilterSensitiveLog:()=>lee,DomainStatusType:()=>kbr,DuplicateProviderException:()=>F9e,EmailSendingAccountType:()=>_br,EnableSoftwareTokenMFAException:()=>g7e,EventFilterType:()=>Dbr,EventResponseType:()=>rbr,EventSourceName:()=>Mbr,EventType:()=>ibr,ExpiredCodeException:()=>f9e,ExplicitAuthFlowsType:()=>Rbr,FeatureType:()=>Tbr,FeatureUnavailableInTierException:()=>z9e,FeedbackValueType:()=>tbr,ForbiddenException:()=>E9e,ForgetDeviceCommand:()=>lZe,ForgetDeviceRequestFilterSensitiveLog:()=>QYe,ForgotPasswordCommand:()=>dZe,ForgotPasswordRequestFilterSensitiveLog:()=>ZYe,GetCSVHeaderCommand:()=>uZe,GetDeviceCommand:()=>mZe,GetDeviceRequestFilterSensitiveLog:()=>e7e,GetDeviceResponseFilterSensitiveLog:()=>t7e,GetGroupCommand:()=>fZe,GetIdentityProviderByIdentifierCommand:()=>pZe,GetLogDeliveryConfigurationCommand:()=>gZe,GetSigningCertificateCommand:()=>hZe,GetTokensFromRefreshTokenCommand:()=>yZe,GetTokensFromRefreshTokenRequestFilterSensitiveLog:()=>r7e,GetTokensFromRefreshTokenResponseFilterSensitiveLog:()=>n7e,GetUICustomizationCommand:()=>_Ze,GetUICustomizationRequestFilterSensitiveLog:()=>s7e,GetUICustomizationResponseFilterSensitiveLog:()=>i7e,GetUserAttributeVerificationCodeCommand:()=>SZe,GetUserAttributeVerificationCodeRequestFilterSensitiveLog:()=>c7e,GetUserAuthFactorsCommand:()=>vZe,GetUserAuthFactorsRequestFilterSensitiveLog:()=>y7e,GetUserAuthFactorsResponseFilterSensitiveLog:()=>_7e,GetUserCommand:()=>EZe,GetUserPoolMfaConfigCommand:()=>CZe,GetUserRequestFilterSensitiveLog:()=>o7e,GetUserResponseFilterSensitiveLog:()=>a7e,GlobalSignOutCommand:()=>bZe,GlobalSignOutRequestFilterSensitiveLog:()=>S7e,GroupExistsException:()=>U9e,IdentityProviderTypeType:()=>gbr,InitiateAuthCommand:()=>wZe,InitiateAuthRequestFilterSensitiveLog:()=>v7e,InitiateAuthResponseFilterSensitiveLog:()=>E7e,InternalErrorException:()=>u5e,InvalidEmailRoleAccessPolicyException:()=>Z5e,InvalidLambdaResponseException:()=>x5e,InvalidOAuthFlowException:()=>X9e,InvalidParameterException:()=>f5e,InvalidPasswordException:()=>U5e,InvalidSmsRoleAccessPolicyException:()=>F5e,InvalidSmsRoleTrustRelationshipException:()=>j5e,InvalidUserPoolConfigurationException:()=>Y5e,LimitExceededException:()=>P5e,ListDevicesCommand:()=>xZe,ListDevicesRequestFilterSensitiveLog:()=>C7e,ListDevicesResponseFilterSensitiveLog:()=>b7e,ListGroupsCommand:()=>yee,ListIdentityProvidersCommand:()=>_ee,ListResourceServersCommand:()=>See,ListTagsForResourceCommand:()=>AZe,ListUserImportJobsCommand:()=>PZe,ListUserPoolClientsCommand:()=>vee,ListUserPoolClientsResponseFilterSensitiveLog:()=>x7e,ListUserPoolsCommand:()=>Eee,ListUsersCommand:()=>Cee,ListUsersInGroupCommand:()=>bee,ListUsersInGroupResponseFilterSensitiveLog:()=>P7e,ListUsersResponseFilterSensitiveLog:()=>A7e,ListWebAuthnCredentialsCommand:()=>RZe,ListWebAuthnCredentialsRequestFilterSensitiveLog:()=>R7e,LogLevel:()=>Lbr,MFAMethodNotFoundException:()=>t9e,ManagedLoginBrandingExistsException:()=>j9e,MessageActionType:()=>XCr,NotAuthorizedException:()=>g5e,OAuthFlowType:()=>Pbr,PasswordHistoryPolicyViolationException:()=>g9e,PasswordResetRequiredException:()=>n9e,PreTokenGenerationLambdaVersionType:()=>Ebr,PreconditionNotMetException:()=>z5e,PreventUserExistenceErrorTypes:()=>Ibr,RecoveryOptionNameType:()=>GCr,RefreshTokenReuseException:()=>tYe,ResendConfirmationCodeCommand:()=>IZe,ResendConfirmationCodeRequestFilterSensitiveLog:()=>I7e,ResourceNotFoundException:()=>y5e,RespondToAuthChallengeCommand:()=>TZe,RespondToAuthChallengeRequestFilterSensitiveLog:()=>T7e,RespondToAuthChallengeResponseFilterSensitiveLog:()=>O7e,RevokeTokenCommand:()=>OZe,RevokeTokenRequestFilterSensitiveLog:()=>N7e,RiskConfigurationTypeFilterSensitiveLog:()=>dee,RiskDecisionType:()=>nbr,RiskLevelType:()=>sbr,ScopeDoesNotExistException:()=>Y9e,SetLogDeliveryConfigurationCommand:()=>NZe,SetRiskConfigurationCommand:()=>DZe,SetRiskConfigurationRequestFilterSensitiveLog:()=>D7e,SetRiskConfigurationResponseFilterSensitiveLog:()=>k7e,SetUICustomizationCommand:()=>kZe,SetUICustomizationRequestFilterSensitiveLog:()=>M7e,SetUICustomizationResponseFilterSensitiveLog:()=>L7e,SetUserMFAPreferenceCommand:()=>MZe,SetUserMFAPreferenceRequestFilterSensitiveLog:()=>U7e,SetUserPoolMfaConfigCommand:()=>LZe,SetUserSettingsCommand:()=>UZe,SetUserSettingsRequestFilterSensitiveLog:()=>B7e,SignUpCommand:()=>BZe,SignUpRequestFilterSensitiveLog:()=>F7e,SignUpResponseFilterSensitiveLog:()=>q7e,SoftwareTokenMFANotFoundException:()=>y9e,StartUserImportJobCommand:()=>FZe,StartWebAuthnRegistrationCommand:()=>qZe,StartWebAuthnRegistrationRequestFilterSensitiveLog:()=>j7e,StatusType:()=>Abr,StopUserImportJobCommand:()=>jZe,TagResourceCommand:()=>$Ze,TierChangeNotAllowedException:()=>G9e,TimeUnitsType:()=>Obr,TooManyFailedAttemptsException:()=>I5e,TooManyRequestsException:()=>S5e,UICustomizationTypeFilterSensitiveLog:()=>uee,UnauthorizedException:()=>l7e,UnexpectedLambdaException:()=>O5e,UnsupportedIdentityProviderException:()=>Z9e,UnsupportedOperationException:()=>i9e,UnsupportedTokenTypeException:()=>u7e,UnsupportedUserStateException:()=>G5e,UntagResourceCommand:()=>zZe,UpdateAuthEventFeedbackCommand:()=>HZe,UpdateAuthEventFeedbackRequestFilterSensitiveLog:()=>$7e,UpdateDeviceStatusCommand:()=>GZe,UpdateDeviceStatusRequestFilterSensitiveLog:()=>z7e,UpdateGroupCommand:()=>VZe,UpdateIdentityProviderCommand:()=>WZe,UpdateManagedLoginBrandingCommand:()=>KZe,UpdateResourceServerCommand:()=>XZe,UpdateUserAttributesCommand:()=>JZe,UpdateUserAttributesRequestFilterSensitiveLog:()=>H7e,UpdateUserPoolClientCommand:()=>YZe,UpdateUserPoolClientRequestFilterSensitiveLog:()=>G7e,UpdateUserPoolClientResponseFilterSensitiveLog:()=>V7e,UpdateUserPoolCommand:()=>QZe,UpdateUserPoolDomainCommand:()=>ZZe,UserContextDataTypeFilterSensitiveLog:()=>Ubr,UserImportInProgressException:()=>E5e,UserImportJobStatusType:()=>hbr,UserLambdaValidationException:()=>D5e,UserNotConfirmedException:()=>a9e,UserNotFoundException:()=>b5e,UserPoolAddOnNotEnabledException:()=>l9e,UserPoolClientDescriptionFilterSensitiveLog:()=>w7e,UserPoolClientTypeFilterSensitiveLog:()=>N1,UserPoolMfaType:()=>Cbr,UserPoolTaggingException:()=>W9e,UserPoolTierType:()=>wbr,UserStatusType:()=>JCr,UserTypeFilterSensitiveLog:()=>O1,UserVerificationType:()=>Bbr,UsernameAttributeType:()=>bbr,UsernameExistsException:()=>W5e,VerifiedAttributeType:()=>pbr,VerifySoftwareTokenCommand:()=>eet,VerifySoftwareTokenRequestFilterSensitiveLog:()=>W7e,VerifySoftwareTokenResponseFilterSensitiveLog:()=>K7e,VerifySoftwareTokenResponseType:()=>Fbr,VerifyUserAttributeCommand:()=>tet,VerifyUserAttributeRequestFilterSensitiveLog:()=>X7e,WebAuthnChallengeNotFoundException:()=>b9e,WebAuthnClientMismatchException:()=>x9e,WebAuthnConfigurationMissingException:()=>f7e,WebAuthnCredentialNotSupportedException:()=>P9e,WebAuthnNotEnabledException:()=>I9e,WebAuthnOriginNotAllowedException:()=>O9e,WebAuthnRelyingPartyMismatchException:()=>D9e,__Client:()=>h.Client,paginateAdminListGroupsForUser:()=>nIr,paginateAdminListUserAuthEvents:()=>sIr,paginateListGroups:()=>iIr,paginateListIdentityProviders:()=>oIr,paginateListResourceServers:()=>aIr,paginateListUserPoolClients:()=>cIr,paginateListUserPools:()=>lIr,paginateListUsers:()=>uIr,paginateListUsersInGroup:()=>dIr});net.exports=MCr(l5e);var s5e=RC(),LCr=IC(),UCr=TC(),i5e=u_(),BCr=vl(),Il=(Co(),H(Tg)),FCr=zC(),J=Ef(),o5e=xd(),a5e=TQ(),qCr=_(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-idp"}),"resolveClientEndpointParameters"),Q={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},jCr=n5e(),c5e=rb(),cee=Gr(),h=mt(),$Cr=_(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),zCr=_(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),HCr=_((e,t)=>{let r=Object.assign((0,c5e.getAwsRegionExtensionConfiguration)(e),(0,h.getDefaultExtensionConfiguration)(e),(0,cee.getHttpHandlerExtensionConfiguration)(e),$Cr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,c5e.resolveAwsRegionExtensionConfiguration)(r),(0,h.resolveDefaultRuntimeConfig)(r),(0,cee.resolveHttpHandlerRuntimeConfig)(r),zCr(r))},"resolveRuntimeExtensions"),Rd=class extends h.Client{static{_(this,"CognitoIdentityProviderClient")}config;constructor(...[e]){let t=(0,jCr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=qCr(t),n=(0,i5e.resolveUserAgentConfig)(r),s=(0,o5e.resolveRetryConfig)(n),i=(0,BCr.resolveRegionConfig)(s),o=(0,s5e.resolveHostHeaderConfig)(i),a=(0,J.resolveEndpointConfig)(o),c=(0,a5e.resolveHttpAuthSchemeConfig)(a),l=HCr(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,i5e.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,o5e.getRetryPlugin)(this.config)),this.middlewareStack.use((0,FCr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,s5e.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,LCr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,UCr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Il.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:a5e.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider,identityProviderConfigProvider:_(async d=>new Il.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Il.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Z=uf(),ie=(Es(),H(Na)),He=class d5e extends h.ServiceException{static{_(this,"CognitoIdentityProviderServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,d5e.prototype)}},GCr={ADMIN_ONLY:"admin_only",VERIFIED_EMAIL:"verified_email",VERIFIED_PHONE_NUMBER:"verified_phone_number"},VCr={BLOCK:"BLOCK",MFA_IF_CONFIGURED:"MFA_IF_CONFIGURED",MFA_REQUIRED:"MFA_REQUIRED",NO_ACTION:"NO_ACTION"},WCr={BOOLEAN:"Boolean",DATETIME:"DateTime",NUMBER:"Number",STRING:"String"},u5e=class m5e extends He{static{_(this,"InternalErrorException")}name="InternalErrorException";$fault="server";constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),Object.setPrototypeOf(this,m5e.prototype)}},f5e=class p5e extends He{static{_(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";reasonCode;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,p5e.prototype),this.reasonCode=t.reasonCode}},g5e=class h5e extends He{static{_(this,"NotAuthorizedException")}name="NotAuthorizedException";$fault="client";constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,h5e.prototype)}},y5e=class _5e extends He{static{_(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,_5e.prototype)}},S5e=class v5e extends He{static{_(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,v5e.prototype)}},E5e=class C5e extends He{static{_(this,"UserImportInProgressException")}name="UserImportInProgressException";$fault="client";constructor(t){super({name:"UserImportInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,C5e.prototype)}},b5e=class w5e extends He{static{_(this,"UserNotFoundException")}name="UserNotFoundException";$fault="client";constructor(t){super({name:"UserNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,w5e.prototype)}},x5e=class A5e extends He{static{_(this,"InvalidLambdaResponseException")}name="InvalidLambdaResponseException";$fault="client";constructor(t){super({name:"InvalidLambdaResponseException",$fault:"client",...t}),Object.setPrototypeOf(this,A5e.prototype)}},P5e=class R5e extends He{static{_(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,R5e.prototype)}},I5e=class T5e extends He{static{_(this,"TooManyFailedAttemptsException")}name="TooManyFailedAttemptsException";$fault="client";constructor(t){super({name:"TooManyFailedAttemptsException",$fault:"client",...t}),Object.setPrototypeOf(this,T5e.prototype)}},O5e=class N5e extends He{static{_(this,"UnexpectedLambdaException")}name="UnexpectedLambdaException";$fault="client";constructor(t){super({name:"UnexpectedLambdaException",$fault:"client",...t}),Object.setPrototypeOf(this,N5e.prototype)}},D5e=class k5e extends He{static{_(this,"UserLambdaValidationException")}name="UserLambdaValidationException";$fault="client";constructor(t){super({name:"UserLambdaValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,k5e.prototype)}},KCr={EMAIL:"EMAIL",SMS:"SMS"},XCr={RESEND:"RESEND",SUPPRESS:"SUPPRESS"},JCr={ARCHIVED:"ARCHIVED",COMPROMISED:"COMPROMISED",CONFIRMED:"CONFIRMED",EXTERNAL_PROVIDER:"EXTERNAL_PROVIDER",FORCE_CHANGE_PASSWORD:"FORCE_CHANGE_PASSWORD",RESET_REQUIRED:"RESET_REQUIRED",UNCONFIRMED:"UNCONFIRMED",UNKNOWN:"UNKNOWN"},M5e=class L5e extends He{static{_(this,"CodeDeliveryFailureException")}name="CodeDeliveryFailureException";$fault="client";constructor(t){super({name:"CodeDeliveryFailureException",$fault:"client",...t}),Object.setPrototypeOf(this,L5e.prototype)}},U5e=class B5e extends He{static{_(this,"InvalidPasswordException")}name="InvalidPasswordException";$fault="client";constructor(t){super({name:"InvalidPasswordException",$fault:"client",...t}),Object.setPrototypeOf(this,B5e.prototype)}},F5e=class q5e extends He{static{_(this,"InvalidSmsRoleAccessPolicyException")}name="InvalidSmsRoleAccessPolicyException";$fault="client";constructor(t){super({name:"InvalidSmsRoleAccessPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,q5e.prototype)}},j5e=class $5e extends He{static{_(this,"InvalidSmsRoleTrustRelationshipException")}name="InvalidSmsRoleTrustRelationshipException";$fault="client";constructor(t){super({name:"InvalidSmsRoleTrustRelationshipException",$fault:"client",...t}),Object.setPrototypeOf(this,$5e.prototype)}},z5e=class H5e extends He{static{_(this,"PreconditionNotMetException")}name="PreconditionNotMetException";$fault="client";constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,H5e.prototype)}},G5e=class V5e extends He{static{_(this,"UnsupportedUserStateException")}name="UnsupportedUserStateException";$fault="client";constructor(t){super({name:"UnsupportedUserStateException",$fault:"client",...t}),Object.setPrototypeOf(this,V5e.prototype)}},W5e=class K5e extends He{static{_(this,"UsernameExistsException")}name="UsernameExistsException";$fault="client";constructor(t){super({name:"UsernameExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,K5e.prototype)}},X5e=class J5e extends He{static{_(this,"AliasExistsException")}name="AliasExistsException";$fault="client";constructor(t){super({name:"AliasExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,J5e.prototype)}},Y5e=class Q5e extends He{static{_(this,"InvalidUserPoolConfigurationException")}name="InvalidUserPoolConfigurationException";$fault="client";constructor(t){super({name:"InvalidUserPoolConfigurationException",$fault:"client",...t}),Object.setPrototypeOf(this,Q5e.prototype)}},YCr={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",ADMIN_USER_PASSWORD_AUTH:"ADMIN_USER_PASSWORD_AUTH",CUSTOM_AUTH:"CUSTOM_AUTH",REFRESH_TOKEN:"REFRESH_TOKEN",REFRESH_TOKEN_AUTH:"REFRESH_TOKEN_AUTH",USER_AUTH:"USER_AUTH",USER_PASSWORD_AUTH:"USER_PASSWORD_AUTH",USER_SRP_AUTH:"USER_SRP_AUTH"},QCr={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",CUSTOM_CHALLENGE:"CUSTOM_CHALLENGE",DEVICE_PASSWORD_VERIFIER:"DEVICE_PASSWORD_VERIFIER",DEVICE_SRP_AUTH:"DEVICE_SRP_AUTH",EMAIL_OTP:"EMAIL_OTP",MFA_SETUP:"MFA_SETUP",NEW_PASSWORD_REQUIRED:"NEW_PASSWORD_REQUIRED",PASSWORD:"PASSWORD",PASSWORD_SRP:"PASSWORD_SRP",PASSWORD_VERIFIER:"PASSWORD_VERIFIER",SELECT_CHALLENGE:"SELECT_CHALLENGE",SELECT_MFA_TYPE:"SELECT_MFA_TYPE",SMS_MFA:"SMS_MFA",SMS_OTP:"SMS_OTP",SOFTWARE_TOKEN_MFA:"SOFTWARE_TOKEN_MFA",WEB_AUTHN:"WEB_AUTHN"},Z5e=class e9e extends He{static{_(this,"InvalidEmailRoleAccessPolicyException")}name="InvalidEmailRoleAccessPolicyException";$fault="client";constructor(t){super({name:"InvalidEmailRoleAccessPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,e9e.prototype)}},t9e=class r9e extends He{static{_(this,"MFAMethodNotFoundException")}name="MFAMethodNotFoundException";$fault="client";constructor(t){super({name:"MFAMethodNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,r9e.prototype)}},n9e=class s9e extends He{static{_(this,"PasswordResetRequiredException")}name="PasswordResetRequiredException";$fault="client";constructor(t){super({name:"PasswordResetRequiredException",$fault:"client",...t}),Object.setPrototypeOf(this,s9e.prototype)}},i9e=class o9e extends He{static{_(this,"UnsupportedOperationException")}name="UnsupportedOperationException";$fault="client";constructor(t){super({name:"UnsupportedOperationException",$fault:"client",...t}),Object.setPrototypeOf(this,o9e.prototype)}},a9e=class c9e extends He{static{_(this,"UserNotConfirmedException")}name="UserNotConfirmedException";$fault="client";constructor(t){super({name:"UserNotConfirmedException",$fault:"client",...t}),Object.setPrototypeOf(this,c9e.prototype)}},ZCr={Mfa:"Mfa",Password:"Password"},ebr={Failure:"Failure",Success:"Success"},tbr={INVALID:"Invalid",VALID:"Valid"},rbr={Fail:"Fail",InProgress:"InProgress",Pass:"Pass"},nbr={AccountTakeover:"AccountTakeover",Block:"Block",NoRisk:"NoRisk"},sbr={High:"High",Low:"Low",Medium:"Medium"},ibr={ForgotPassword:"ForgotPassword",PasswordChange:"PasswordChange",ResendCode:"ResendCode",SignIn:"SignIn",SignUp:"SignUp"},l9e=class d9e extends He{static{_(this,"UserPoolAddOnNotEnabledException")}name="UserPoolAddOnNotEnabledException";$fault="client";constructor(t){super({name:"UserPoolAddOnNotEnabledException",$fault:"client",...t}),Object.setPrototypeOf(this,d9e.prototype)}},u9e=class m9e extends He{static{_(this,"CodeMismatchException")}name="CodeMismatchException";$fault="client";constructor(t){super({name:"CodeMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,m9e.prototype)}},f9e=class p9e extends He{static{_(this,"ExpiredCodeException")}name="ExpiredCodeException";$fault="client";constructor(t){super({name:"ExpiredCodeException",$fault:"client",...t}),Object.setPrototypeOf(this,p9e.prototype)}},g9e=class h9e extends He{static{_(this,"PasswordHistoryPolicyViolationException")}name="PasswordHistoryPolicyViolationException";$fault="client";constructor(t){super({name:"PasswordHistoryPolicyViolationException",$fault:"client",...t}),Object.setPrototypeOf(this,h9e.prototype)}},y9e=class _9e extends He{static{_(this,"SoftwareTokenMFANotFoundException")}name="SoftwareTokenMFANotFoundException";$fault="client";constructor(t){super({name:"SoftwareTokenMFANotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,_9e.prototype)}},obr={NOT_REMEMBERED:"not_remembered",REMEMBERED:"remembered"},abr={AUDIT:"AUDIT",ENFORCED:"ENFORCED"},cbr={AUDIT:"AUDIT",ENFORCED:"ENFORCED",OFF:"OFF"},lbr={EMAIL:"email",PHONE_NUMBER:"phone_number",PREFERRED_USERNAME:"preferred_username"},dbr={EMAIL_OTP:"EMAIL_OTP",PASSWORD:"PASSWORD",SMS_OTP:"SMS_OTP",WEB_AUTHN:"WEB_AUTHN"},ubr={AUTH_APP_GRAPHIC:"AUTH_APP_GRAPHIC",EMAIL_GRAPHIC:"EMAIL_GRAPHIC",FAVICON_ICO:"FAVICON_ICO",FAVICON_SVG:"FAVICON_SVG",FORM_BACKGROUND:"FORM_BACKGROUND",FORM_LOGO:"FORM_LOGO",IDP_BUTTON_ICON:"IDP_BUTTON_ICON",PAGE_BACKGROUND:"PAGE_BACKGROUND",PAGE_FOOTER_BACKGROUND:"PAGE_FOOTER_BACKGROUND",PAGE_FOOTER_LOGO:"PAGE_FOOTER_LOGO",PAGE_HEADER_BACKGROUND:"PAGE_HEADER_BACKGROUND",PAGE_HEADER_LOGO:"PAGE_HEADER_LOGO",PASSKEY_GRAPHIC:"PASSKEY_GRAPHIC",PASSWORD_GRAPHIC:"PASSWORD_GRAPHIC",SMS_GRAPHIC:"SMS_GRAPHIC"},mbr={ICO:"ICO",JPEG:"JPEG",PNG:"PNG",SVG:"SVG",WEBP:"WEBP"},fbr={DARK:"DARK",DYNAMIC:"DYNAMIC",LIGHT:"LIGHT"},S9e=class v9e extends He{static{_(this,"ConcurrentModificationException")}name="ConcurrentModificationException";$fault="client";constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),Object.setPrototypeOf(this,v9e.prototype)}},E9e=class C9e extends He{static{_(this,"ForbiddenException")}name="ForbiddenException";$fault="client";constructor(t){super({name:"ForbiddenException",$fault:"client",...t}),Object.setPrototypeOf(this,C9e.prototype)}},pbr={EMAIL:"email",PHONE_NUMBER:"phone_number"},b9e=class w9e extends He{static{_(this,"WebAuthnChallengeNotFoundException")}name="WebAuthnChallengeNotFoundException";$fault="client";constructor(t){super({name:"WebAuthnChallengeNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,w9e.prototype)}},x9e=class A9e extends He{static{_(this,"WebAuthnClientMismatchException")}name="WebAuthnClientMismatchException";$fault="client";constructor(t){super({name:"WebAuthnClientMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,A9e.prototype)}},P9e=class R9e extends He{static{_(this,"WebAuthnCredentialNotSupportedException")}name="WebAuthnCredentialNotSupportedException";$fault="client";constructor(t){super({name:"WebAuthnCredentialNotSupportedException",$fault:"client",...t}),Object.setPrototypeOf(this,R9e.prototype)}},I9e=class T9e extends He{static{_(this,"WebAuthnNotEnabledException")}name="WebAuthnNotEnabledException";$fault="client";constructor(t){super({name:"WebAuthnNotEnabledException",$fault:"client",...t}),Object.setPrototypeOf(this,T9e.prototype)}},O9e=class N9e extends He{static{_(this,"WebAuthnOriginNotAllowedException")}name="WebAuthnOriginNotAllowedException";$fault="client";constructor(t){super({name:"WebAuthnOriginNotAllowedException",$fault:"client",...t}),Object.setPrototypeOf(this,N9e.prototype)}},D9e=class k9e extends He{static{_(this,"WebAuthnRelyingPartyMismatchException")}name="WebAuthnRelyingPartyMismatchException";$fault="client";constructor(t){super({name:"WebAuthnRelyingPartyMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,k9e.prototype)}},M9e=class L9e extends He{static{_(this,"DeviceKeyExistsException")}name="DeviceKeyExistsException";$fault="client";constructor(t){super({name:"DeviceKeyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,L9e.prototype)}},U9e=class B9e extends He{static{_(this,"GroupExistsException")}name="GroupExistsException";$fault="client";constructor(t){super({name:"GroupExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,B9e.prototype)}},gbr={Facebook:"Facebook",Google:"Google",LoginWithAmazon:"LoginWithAmazon",OIDC:"OIDC",SAML:"SAML",SignInWithApple:"SignInWithApple"},F9e=class q9e extends He{static{_(this,"DuplicateProviderException")}name="DuplicateProviderException";$fault="client";constructor(t){super({name:"DuplicateProviderException",$fault:"client",...t}),Object.setPrototypeOf(this,q9e.prototype)}},j9e=class $9e extends He{static{_(this,"ManagedLoginBrandingExistsException")}name="ManagedLoginBrandingExistsException";$fault="client";constructor(t){super({name:"ManagedLoginBrandingExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,$9e.prototype)}},hbr={Created:"Created",Expired:"Expired",Failed:"Failed",InProgress:"InProgress",Pending:"Pending",Stopped:"Stopped",Stopping:"Stopping",Succeeded:"Succeeded"},ybr={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},_br={COGNITO_DEFAULT:"COGNITO_DEFAULT",DEVELOPER:"DEVELOPER"},Sbr={V1_0:"V1_0"},vbr={V1_0:"V1_0"},Ebr={V1_0:"V1_0",V2_0:"V2_0",V3_0:"V3_0"},Cbr={OFF:"OFF",ON:"ON",OPTIONAL:"OPTIONAL"},bbr={EMAIL:"email",PHONE_NUMBER:"phone_number"},wbr={ESSENTIALS:"ESSENTIALS",LITE:"LITE",PLUS:"PLUS"},xbr={CONFIRM_WITH_CODE:"CONFIRM_WITH_CODE",CONFIRM_WITH_LINK:"CONFIRM_WITH_LINK"},Abr={Disabled:"Disabled",Enabled:"Enabled"},z9e=class H9e extends He{static{_(this,"FeatureUnavailableInTierException")}name="FeatureUnavailableInTierException";$fault="client";constructor(t){super({name:"FeatureUnavailableInTierException",$fault:"client",...t}),Object.setPrototypeOf(this,H9e.prototype)}},G9e=class V9e extends He{static{_(this,"TierChangeNotAllowedException")}name="TierChangeNotAllowedException";$fault="client";constructor(t){super({name:"TierChangeNotAllowedException",$fault:"client",...t}),Object.setPrototypeOf(this,V9e.prototype)}},W9e=class K9e extends He{static{_(this,"UserPoolTaggingException")}name="UserPoolTaggingException";$fault="client";constructor(t){super({name:"UserPoolTaggingException",$fault:"client",...t}),Object.setPrototypeOf(this,K9e.prototype)}},Pbr={client_credentials:"client_credentials",code:"code",implicit:"implicit"},Rbr={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",ALLOW_ADMIN_USER_PASSWORD_AUTH:"ALLOW_ADMIN_USER_PASSWORD_AUTH",ALLOW_CUSTOM_AUTH:"ALLOW_CUSTOM_AUTH",ALLOW_REFRESH_TOKEN_AUTH:"ALLOW_REFRESH_TOKEN_AUTH",ALLOW_USER_AUTH:"ALLOW_USER_AUTH",ALLOW_USER_PASSWORD_AUTH:"ALLOW_USER_PASSWORD_AUTH",ALLOW_USER_SRP_AUTH:"ALLOW_USER_SRP_AUTH",CUSTOM_AUTH_FLOW_ONLY:"CUSTOM_AUTH_FLOW_ONLY",USER_PASSWORD_AUTH:"USER_PASSWORD_AUTH"},Ibr={ENABLED:"ENABLED",LEGACY:"LEGACY"},Tbr={DISABLED:"DISABLED",ENABLED:"ENABLED"},Obr={DAYS:"days",HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"},X9e=class J9e extends He{static{_(this,"InvalidOAuthFlowException")}name="InvalidOAuthFlowException";$fault="client";constructor(t){super({name:"InvalidOAuthFlowException",$fault:"client",...t}),Object.setPrototypeOf(this,J9e.prototype)}},Y9e=class Q9e extends He{static{_(this,"ScopeDoesNotExistException")}name="ScopeDoesNotExistException";$fault="client";constructor(t){super({name:"ScopeDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,Q9e.prototype)}},Z9e=class eYe extends He{static{_(this,"UnsupportedIdentityProviderException")}name="UnsupportedIdentityProviderException";$fault="client";constructor(t){super({name:"UnsupportedIdentityProviderException",$fault:"client",...t}),Object.setPrototypeOf(this,eYe.prototype)}},Nbr={BLOCK:"BLOCK",NO_ACTION:"NO_ACTION"},Dbr={PASSWORD_CHANGE:"PASSWORD_CHANGE",SIGN_IN:"SIGN_IN",SIGN_UP:"SIGN_UP"},kbr={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",FAILED:"FAILED",UPDATING:"UPDATING"},Mbr={USER_AUTH_EVENTS:"userAuthEvents",USER_NOTIFICATION:"userNotification"},Lbr={ERROR:"ERROR",INFO:"INFO"},tYe=class rYe extends He{static{_(this,"RefreshTokenReuseException")}name="RefreshTokenReuseException";$fault="client";constructor(t){super({name:"RefreshTokenReuseException",$fault:"client",...t}),Object.setPrototypeOf(this,rYe.prototype)}},nYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminAddUserToGroupRequestFilterSensitiveLog"),sYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminConfirmSignUpRequestFilterSensitiveLog"),Pd=_(e=>({...e,...e.Value&&{Value:h.SENSITIVE_STRING}}),"AttributeTypeFilterSensitiveLog"),iYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>Pd(t))},...e.ValidationData&&{ValidationData:e.ValidationData.map(t=>Pd(t))},...e.TemporaryPassword&&{TemporaryPassword:h.SENSITIVE_STRING}}),"AdminCreateUserRequestFilterSensitiveLog"),O1=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.Attributes&&{Attributes:e.Attributes.map(t=>Pd(t))}}),"UserTypeFilterSensitiveLog"),oYe=_(e=>({...e,...e.User&&{User:O1(e.User)}}),"AdminCreateUserResponseFilterSensitiveLog"),aYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminDeleteUserRequestFilterSensitiveLog"),cYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminDeleteUserAttributesRequestFilterSensitiveLog"),lYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminDisableUserRequestFilterSensitiveLog"),dYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminEnableUserRequestFilterSensitiveLog"),uYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminForgetDeviceRequestFilterSensitiveLog"),mYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminGetDeviceRequestFilterSensitiveLog"),lee=_(e=>({...e,...e.DeviceAttributes&&{DeviceAttributes:e.DeviceAttributes.map(t=>Pd(t))}}),"DeviceTypeFilterSensitiveLog"),fYe=_(e=>({...e,...e.Device&&{Device:lee(e.Device)}}),"AdminGetDeviceResponseFilterSensitiveLog"),pYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminGetUserRequestFilterSensitiveLog"),gYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>Pd(t))}}),"AdminGetUserResponseFilterSensitiveLog"),hYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.AuthParameters&&{AuthParameters:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AdminInitiateAuthRequestFilterSensitiveLog"),Eb=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING},...e.RefreshToken&&{RefreshToken:h.SENSITIVE_STRING},...e.IdToken&&{IdToken:h.SENSITIVE_STRING}}),"AuthenticationResultTypeFilterSensitiveLog"),yYe=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:Eb(e.AuthenticationResult)}}),"AdminInitiateAuthResponseFilterSensitiveLog"),_Ye=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminListDevicesRequestFilterSensitiveLog"),SYe=_(e=>({...e}),"AdminListDevicesResponseFilterSensitiveLog"),vYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminListGroupsForUserRequestFilterSensitiveLog"),EYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminListUserAuthEventsRequestFilterSensitiveLog"),CYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminRemoveUserFromGroupRequestFilterSensitiveLog"),bYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminResetUserPasswordRequestFilterSensitiveLog"),wYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ChallengeResponses&&{ChallengeResponses:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AdminRespondToAuthChallengeRequestFilterSensitiveLog"),xYe=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:Eb(e.AuthenticationResult)}}),"AdminRespondToAuthChallengeResponseFilterSensitiveLog"),AYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminSetUserMFAPreferenceRequestFilterSensitiveLog"),PYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.Password&&{Password:h.SENSITIVE_STRING}}),"AdminSetUserPasswordRequestFilterSensitiveLog"),RYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminSetUserSettingsRequestFilterSensitiveLog"),IYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminUpdateAuthEventFeedbackRequestFilterSensitiveLog"),TYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminUpdateDeviceStatusRequestFilterSensitiveLog"),OYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>Pd(t))}}),"AdminUpdateUserAttributesRequestFilterSensitiveLog"),NYe=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"AdminUserGlobalSignOutRequestFilterSensitiveLog"),DYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AssociateSoftwareTokenRequestFilterSensitiveLog"),kYe=_(e=>({...e,...e.SecretCode&&{SecretCode:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"AssociateSoftwareTokenResponseFilterSensitiveLog"),MYe=_(e=>({...e,...e.PreviousPassword&&{PreviousPassword:h.SENSITIVE_STRING},...e.ProposedPassword&&{ProposedPassword:h.SENSITIVE_STRING},...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ChangePasswordRequestFilterSensitiveLog"),LYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"CompleteWebAuthnRegistrationRequestFilterSensitiveLog"),UYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ConfirmDeviceRequestFilterSensitiveLog"),Ubr=_(e=>({...e}),"UserContextDataTypeFilterSensitiveLog"),BYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING},...e.Password&&{Password:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING}}),"ConfirmForgotPasswordRequestFilterSensitiveLog"),FYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"ConfirmSignUpRequestFilterSensitiveLog"),qYe=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING}}),"ConfirmSignUpResponseFilterSensitiveLog"),jYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"CreateManagedLoginBrandingRequestFilterSensitiveLog"),N1=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ClientSecret&&{ClientSecret:h.SENSITIVE_STRING}}),"UserPoolClientTypeFilterSensitiveLog"),$Ye=_(e=>({...e,...e.UserPoolClient&&{UserPoolClient:N1(e.UserPoolClient)}}),"CreateUserPoolClientResponseFilterSensitiveLog"),zYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"DeleteUserRequestFilterSensitiveLog"),HYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"DeleteUserAttributesRequestFilterSensitiveLog"),GYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DeleteUserPoolClientRequestFilterSensitiveLog"),VYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"DeleteWebAuthnCredentialRequestFilterSensitiveLog"),WYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DescribeManagedLoginBrandingByClientRequestFilterSensitiveLog"),KYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DescribeRiskConfigurationRequestFilterSensitiveLog"),dee=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"RiskConfigurationTypeFilterSensitiveLog"),XYe=_(e=>({...e,...e.RiskConfiguration&&{RiskConfiguration:dee(e.RiskConfiguration)}}),"DescribeRiskConfigurationResponseFilterSensitiveLog"),JYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"DescribeUserPoolClientRequestFilterSensitiveLog"),YYe=_(e=>({...e,...e.UserPoolClient&&{UserPoolClient:N1(e.UserPoolClient)}}),"DescribeUserPoolClientResponseFilterSensitiveLog"),QYe=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ForgetDeviceRequestFilterSensitiveLog"),ZYe=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING}}),"ForgotPasswordRequestFilterSensitiveLog"),e7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetDeviceRequestFilterSensitiveLog"),t7e=_(e=>({...e,...e.Device&&{Device:lee(e.Device)}}),"GetDeviceResponseFilterSensitiveLog"),r7e=_(e=>({...e,...e.RefreshToken&&{RefreshToken:h.SENSITIVE_STRING},...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ClientSecret&&{ClientSecret:h.SENSITIVE_STRING}}),"GetTokensFromRefreshTokenRequestFilterSensitiveLog"),n7e=_(e=>({...e,...e.AuthenticationResult&&{AuthenticationResult:Eb(e.AuthenticationResult)}}),"GetTokensFromRefreshTokenResponseFilterSensitiveLog"),s7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"GetUICustomizationRequestFilterSensitiveLog"),uee=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"UICustomizationTypeFilterSensitiveLog"),i7e=_(e=>({...e,...e.UICustomization&&{UICustomization:uee(e.UICustomization)}}),"GetUICustomizationResponseFilterSensitiveLog"),o7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetUserRequestFilterSensitiveLog"),a7e=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>Pd(t))}}),"GetUserResponseFilterSensitiveLog"),c7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetUserAttributeVerificationCodeRequestFilterSensitiveLog"),Bbr={PREFERRED:"preferred",REQUIRED:"required"},l7e=class d7e extends He{static{_(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,d7e.prototype)}},u7e=class m7e extends He{static{_(this,"UnsupportedTokenTypeException")}name="UnsupportedTokenTypeException";$fault="client";constructor(t){super({name:"UnsupportedTokenTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,m7e.prototype)}},f7e=class p7e extends He{static{_(this,"WebAuthnConfigurationMissingException")}name="WebAuthnConfigurationMissingException";$fault="client";constructor(t){super({name:"WebAuthnConfigurationMissingException",$fault:"client",...t}),Object.setPrototypeOf(this,p7e.prototype)}},g7e=class h7e extends He{static{_(this,"EnableSoftwareTokenMFAException")}name="EnableSoftwareTokenMFAException";$fault="client";constructor(t){super({name:"EnableSoftwareTokenMFAException",$fault:"client",...t}),Object.setPrototypeOf(this,h7e.prototype)}},Fbr={ERROR:"ERROR",SUCCESS:"SUCCESS"},y7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GetUserAuthFactorsRequestFilterSensitiveLog"),_7e=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING}}),"GetUserAuthFactorsResponseFilterSensitiveLog"),S7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"GlobalSignOutRequestFilterSensitiveLog"),v7e=_(e=>({...e,...e.AuthParameters&&{AuthParameters:h.SENSITIVE_STRING},...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING}}),"InitiateAuthRequestFilterSensitiveLog"),E7e=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:Eb(e.AuthenticationResult)}}),"InitiateAuthResponseFilterSensitiveLog"),C7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ListDevicesRequestFilterSensitiveLog"),b7e=_(e=>({...e}),"ListDevicesResponseFilterSensitiveLog"),w7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"UserPoolClientDescriptionFilterSensitiveLog"),x7e=_(e=>({...e,...e.UserPoolClients&&{UserPoolClients:e.UserPoolClients.map(t=>w7e(t))}}),"ListUserPoolClientsResponseFilterSensitiveLog"),A7e=_(e=>({...e,...e.Users&&{Users:e.Users.map(t=>O1(t))}}),"ListUsersResponseFilterSensitiveLog"),P7e=_(e=>({...e,...e.Users&&{Users:e.Users.map(t=>O1(t))}}),"ListUsersInGroupResponseFilterSensitiveLog"),R7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"ListWebAuthnCredentialsRequestFilterSensitiveLog"),I7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING}}),"ResendConfirmationCodeRequestFilterSensitiveLog"),T7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING},...e.ChallengeResponses&&{ChallengeResponses:h.SENSITIVE_STRING},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING}}),"RespondToAuthChallengeRequestFilterSensitiveLog"),O7e=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING},...e.AuthenticationResult&&{AuthenticationResult:Eb(e.AuthenticationResult)}}),"RespondToAuthChallengeResponseFilterSensitiveLog"),N7e=_(e=>({...e,...e.Token&&{Token:h.SENSITIVE_STRING},...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.ClientSecret&&{ClientSecret:h.SENSITIVE_STRING}}),"RevokeTokenRequestFilterSensitiveLog"),D7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"SetRiskConfigurationRequestFilterSensitiveLog"),k7e=_(e=>({...e,...e.RiskConfiguration&&{RiskConfiguration:dee(e.RiskConfiguration)}}),"SetRiskConfigurationResponseFilterSensitiveLog"),M7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"SetUICustomizationRequestFilterSensitiveLog"),L7e=_(e=>({...e,...e.UICustomization&&{UICustomization:uee(e.UICustomization)}}),"SetUICustomizationResponseFilterSensitiveLog"),U7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"SetUserMFAPreferenceRequestFilterSensitiveLog"),B7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"SetUserSettingsRequestFilterSensitiveLog"),F7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING},...e.SecretHash&&{SecretHash:h.SENSITIVE_STRING},...e.Username&&{Username:h.SENSITIVE_STRING},...e.Password&&{Password:h.SENSITIVE_STRING},...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>Pd(t))},...e.ValidationData&&{ValidationData:e.ValidationData.map(t=>Pd(t))},...e.UserContextData&&{UserContextData:h.SENSITIVE_STRING}}),"SignUpRequestFilterSensitiveLog"),q7e=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING}}),"SignUpResponseFilterSensitiveLog"),j7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"StartWebAuthnRegistrationRequestFilterSensitiveLog"),$7e=_(e=>({...e,...e.Username&&{Username:h.SENSITIVE_STRING},...e.FeedbackToken&&{FeedbackToken:h.SENSITIVE_STRING}}),"UpdateAuthEventFeedbackRequestFilterSensitiveLog"),z7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"UpdateDeviceStatusRequestFilterSensitiveLog"),H7e=_(e=>({...e,...e.UserAttributes&&{UserAttributes:e.UserAttributes.map(t=>Pd(t))},...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"UpdateUserAttributesRequestFilterSensitiveLog"),G7e=_(e=>({...e,...e.ClientId&&{ClientId:h.SENSITIVE_STRING}}),"UpdateUserPoolClientRequestFilterSensitiveLog"),V7e=_(e=>({...e,...e.UserPoolClient&&{UserPoolClient:N1(e.UserPoolClient)}}),"UpdateUserPoolClientResponseFilterSensitiveLog"),W7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING},...e.Session&&{Session:h.SENSITIVE_STRING},...e.UserCode&&{UserCode:h.SENSITIVE_STRING}}),"VerifySoftwareTokenRequestFilterSensitiveLog"),K7e=_(e=>({...e,...e.Session&&{Session:h.SENSITIVE_STRING}}),"VerifySoftwareTokenResponseFilterSensitiveLog"),X7e=_(e=>({...e,...e.AccessToken&&{AccessToken:h.SENSITIVE_STRING}}),"VerifyUserAttributeRequestFilterSensitiveLog"),qbr=_(async(e,t)=>{let r=Y("AddCustomAttributes"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AddCustomAttributesCommand"),jbr=_(async(e,t)=>{let r=Y("AdminAddUserToGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminAddUserToGroupCommand"),$br=_(async(e,t)=>{let r=Y("AdminConfirmSignUp"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminConfirmSignUpCommand"),zbr=_(async(e,t)=>{let r=Y("AdminCreateUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminCreateUserCommand"),Hbr=_(async(e,t)=>{let r=Y("AdminDeleteUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminDeleteUserCommand"),Gbr=_(async(e,t)=>{let r=Y("AdminDeleteUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminDeleteUserAttributesCommand"),Vbr=_(async(e,t)=>{let r=Y("AdminDisableProviderForUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminDisableProviderForUserCommand"),Wbr=_(async(e,t)=>{let r=Y("AdminDisableUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminDisableUserCommand"),Kbr=_(async(e,t)=>{let r=Y("AdminEnableUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminEnableUserCommand"),Xbr=_(async(e,t)=>{let r=Y("AdminForgetDevice"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminForgetDeviceCommand"),Jbr=_(async(e,t)=>{let r=Y("AdminGetDevice"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminGetDeviceCommand"),Ybr=_(async(e,t)=>{let r=Y("AdminGetUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminGetUserCommand"),Qbr=_(async(e,t)=>{let r=Y("AdminInitiateAuth"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminInitiateAuthCommand"),Zbr=_(async(e,t)=>{let r=Y("AdminLinkProviderForUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminLinkProviderForUserCommand"),ewr=_(async(e,t)=>{let r=Y("AdminListDevices"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminListDevicesCommand"),twr=_(async(e,t)=>{let r=Y("AdminListGroupsForUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminListGroupsForUserCommand"),rwr=_(async(e,t)=>{let r=Y("AdminListUserAuthEvents"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminListUserAuthEventsCommand"),nwr=_(async(e,t)=>{let r=Y("AdminRemoveUserFromGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminRemoveUserFromGroupCommand"),swr=_(async(e,t)=>{let r=Y("AdminResetUserPassword"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminResetUserPasswordCommand"),iwr=_(async(e,t)=>{let r=Y("AdminRespondToAuthChallenge"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminRespondToAuthChallengeCommand"),owr=_(async(e,t)=>{let r=Y("AdminSetUserMFAPreference"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminSetUserMFAPreferenceCommand"),awr=_(async(e,t)=>{let r=Y("AdminSetUserPassword"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminSetUserPasswordCommand"),cwr=_(async(e,t)=>{let r=Y("AdminSetUserSettings"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminSetUserSettingsCommand"),lwr=_(async(e,t)=>{let r=Y("AdminUpdateAuthEventFeedback"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminUpdateAuthEventFeedbackCommand"),dwr=_(async(e,t)=>{let r=Y("AdminUpdateDeviceStatus"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminUpdateDeviceStatusCommand"),uwr=_(async(e,t)=>{let r=Y("AdminUpdateUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminUpdateUserAttributesCommand"),mwr=_(async(e,t)=>{let r=Y("AdminUserGlobalSignOut"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AdminUserGlobalSignOutCommand"),fwr=_(async(e,t)=>{let r=Y("AssociateSoftwareToken"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_AssociateSoftwareTokenCommand"),pwr=_(async(e,t)=>{let r=Y("ChangePassword"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ChangePasswordCommand"),gwr=_(async(e,t)=>{let r=Y("CompleteWebAuthnRegistration"),n;return n=JSON.stringify(ZPr(e,t)),te(t,r,"/",void 0,n)},"se_CompleteWebAuthnRegistrationCommand"),hwr=_(async(e,t)=>{let r=Y("ConfirmDevice"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ConfirmDeviceCommand"),ywr=_(async(e,t)=>{let r=Y("ConfirmForgotPassword"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ConfirmForgotPasswordCommand"),_wr=_(async(e,t)=>{let r=Y("ConfirmSignUp"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ConfirmSignUpCommand"),Swr=_(async(e,t)=>{let r=Y("CreateGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateGroupCommand"),vwr=_(async(e,t)=>{let r=Y("CreateIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateIdentityProviderCommand"),Ewr=_(async(e,t)=>{let r=Y("CreateManagedLoginBranding"),n;return n=JSON.stringify(eRr(e,t)),te(t,r,"/",void 0,n)},"se_CreateManagedLoginBrandingCommand"),Cwr=_(async(e,t)=>{let r=Y("CreateResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateResourceServerCommand"),bwr=_(async(e,t)=>{let r=Y("CreateUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateUserImportJobCommand"),wwr=_(async(e,t)=>{let r=Y("CreateUserPool"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateUserPoolCommand"),xwr=_(async(e,t)=>{let r=Y("CreateUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateUserPoolClientCommand"),Awr=_(async(e,t)=>{let r=Y("CreateUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_CreateUserPoolDomainCommand"),Pwr=_(async(e,t)=>{let r=Y("DeleteGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteGroupCommand"),Rwr=_(async(e,t)=>{let r=Y("DeleteIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteIdentityProviderCommand"),Iwr=_(async(e,t)=>{let r=Y("DeleteManagedLoginBranding"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteManagedLoginBrandingCommand"),Twr=_(async(e,t)=>{let r=Y("DeleteResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteResourceServerCommand"),Owr=_(async(e,t)=>{let r=Y("DeleteUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteUserCommand"),Nwr=_(async(e,t)=>{let r=Y("DeleteUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteUserAttributesCommand"),Dwr=_(async(e,t)=>{let r=Y("DeleteUserPool"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteUserPoolCommand"),kwr=_(async(e,t)=>{let r=Y("DeleteUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteUserPoolClientCommand"),Mwr=_(async(e,t)=>{let r=Y("DeleteUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteUserPoolDomainCommand"),Lwr=_(async(e,t)=>{let r=Y("DeleteWebAuthnCredential"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DeleteWebAuthnCredentialCommand"),Uwr=_(async(e,t)=>{let r=Y("DescribeIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeIdentityProviderCommand"),Bwr=_(async(e,t)=>{let r=Y("DescribeManagedLoginBranding"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeManagedLoginBrandingCommand"),Fwr=_(async(e,t)=>{let r=Y("DescribeManagedLoginBrandingByClient"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeManagedLoginBrandingByClientCommand"),qwr=_(async(e,t)=>{let r=Y("DescribeResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeResourceServerCommand"),jwr=_(async(e,t)=>{let r=Y("DescribeRiskConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeRiskConfigurationCommand"),$wr=_(async(e,t)=>{let r=Y("DescribeUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeUserImportJobCommand"),zwr=_(async(e,t)=>{let r=Y("DescribeUserPool"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeUserPoolCommand"),Hwr=_(async(e,t)=>{let r=Y("DescribeUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeUserPoolClientCommand"),Gwr=_(async(e,t)=>{let r=Y("DescribeUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_DescribeUserPoolDomainCommand"),Vwr=_(async(e,t)=>{let r=Y("ForgetDevice"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ForgetDeviceCommand"),Wwr=_(async(e,t)=>{let r=Y("ForgotPassword"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ForgotPasswordCommand"),Kwr=_(async(e,t)=>{let r=Y("GetCSVHeader"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetCSVHeaderCommand"),Xwr=_(async(e,t)=>{let r=Y("GetDevice"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetDeviceCommand"),Jwr=_(async(e,t)=>{let r=Y("GetGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetGroupCommand"),Ywr=_(async(e,t)=>{let r=Y("GetIdentityProviderByIdentifier"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetIdentityProviderByIdentifierCommand"),Qwr=_(async(e,t)=>{let r=Y("GetLogDeliveryConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetLogDeliveryConfigurationCommand"),Zwr=_(async(e,t)=>{let r=Y("GetSigningCertificate"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetSigningCertificateCommand"),e0r=_(async(e,t)=>{let r=Y("GetTokensFromRefreshToken"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetTokensFromRefreshTokenCommand"),t0r=_(async(e,t)=>{let r=Y("GetUICustomization"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetUICustomizationCommand"),r0r=_(async(e,t)=>{let r=Y("GetUser"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetUserCommand"),n0r=_(async(e,t)=>{let r=Y("GetUserAttributeVerificationCode"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetUserAttributeVerificationCodeCommand"),s0r=_(async(e,t)=>{let r=Y("GetUserAuthFactors"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetUserAuthFactorsCommand"),i0r=_(async(e,t)=>{let r=Y("GetUserPoolMfaConfig"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GetUserPoolMfaConfigCommand"),o0r=_(async(e,t)=>{let r=Y("GlobalSignOut"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_GlobalSignOutCommand"),a0r=_(async(e,t)=>{let r=Y("InitiateAuth"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_InitiateAuthCommand"),c0r=_(async(e,t)=>{let r=Y("ListDevices"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListDevicesCommand"),l0r=_(async(e,t)=>{let r=Y("ListGroups"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListGroupsCommand"),d0r=_(async(e,t)=>{let r=Y("ListIdentityProviders"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListIdentityProvidersCommand"),u0r=_(async(e,t)=>{let r=Y("ListResourceServers"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListResourceServersCommand"),m0r=_(async(e,t)=>{let r=Y("ListTagsForResource"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),f0r=_(async(e,t)=>{let r=Y("ListUserImportJobs"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListUserImportJobsCommand"),p0r=_(async(e,t)=>{let r=Y("ListUserPoolClients"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListUserPoolClientsCommand"),g0r=_(async(e,t)=>{let r=Y("ListUserPools"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListUserPoolsCommand"),h0r=_(async(e,t)=>{let r=Y("ListUsers"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListUsersCommand"),y0r=_(async(e,t)=>{let r=Y("ListUsersInGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListUsersInGroupCommand"),_0r=_(async(e,t)=>{let r=Y("ListWebAuthnCredentials"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ListWebAuthnCredentialsCommand"),S0r=_(async(e,t)=>{let r=Y("ResendConfirmationCode"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_ResendConfirmationCodeCommand"),v0r=_(async(e,t)=>{let r=Y("RespondToAuthChallenge"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_RespondToAuthChallengeCommand"),E0r=_(async(e,t)=>{let r=Y("RevokeToken"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_RevokeTokenCommand"),C0r=_(async(e,t)=>{let r=Y("SetLogDeliveryConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_SetLogDeliveryConfigurationCommand"),b0r=_(async(e,t)=>{let r=Y("SetRiskConfiguration"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_SetRiskConfigurationCommand"),w0r=_(async(e,t)=>{let r=Y("SetUICustomization"),n;return n=JSON.stringify(tRr(e,t)),te(t,r,"/",void 0,n)},"se_SetUICustomizationCommand"),x0r=_(async(e,t)=>{let r=Y("SetUserMFAPreference"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_SetUserMFAPreferenceCommand"),A0r=_(async(e,t)=>{let r=Y("SetUserPoolMfaConfig"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_SetUserPoolMfaConfigCommand"),P0r=_(async(e,t)=>{let r=Y("SetUserSettings"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_SetUserSettingsCommand"),R0r=_(async(e,t)=>{let r=Y("SignUp"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_SignUpCommand"),I0r=_(async(e,t)=>{let r=Y("StartUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_StartUserImportJobCommand"),T0r=_(async(e,t)=>{let r=Y("StartWebAuthnRegistration"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_StartWebAuthnRegistrationCommand"),O0r=_(async(e,t)=>{let r=Y("StopUserImportJob"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_StopUserImportJobCommand"),N0r=_(async(e,t)=>{let r=Y("TagResource"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_TagResourceCommand"),D0r=_(async(e,t)=>{let r=Y("UntagResource"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UntagResourceCommand"),k0r=_(async(e,t)=>{let r=Y("UpdateAuthEventFeedback"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateAuthEventFeedbackCommand"),M0r=_(async(e,t)=>{let r=Y("UpdateDeviceStatus"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateDeviceStatusCommand"),L0r=_(async(e,t)=>{let r=Y("UpdateGroup"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateGroupCommand"),U0r=_(async(e,t)=>{let r=Y("UpdateIdentityProvider"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateIdentityProviderCommand"),B0r=_(async(e,t)=>{let r=Y("UpdateManagedLoginBranding"),n;return n=JSON.stringify(rRr(e,t)),te(t,r,"/",void 0,n)},"se_UpdateManagedLoginBrandingCommand"),F0r=_(async(e,t)=>{let r=Y("UpdateResourceServer"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateResourceServerCommand"),q0r=_(async(e,t)=>{let r=Y("UpdateUserAttributes"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateUserAttributesCommand"),j0r=_(async(e,t)=>{let r=Y("UpdateUserPool"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateUserPoolCommand"),$0r=_(async(e,t)=>{let r=Y("UpdateUserPoolClient"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateUserPoolClientCommand"),z0r=_(async(e,t)=>{let r=Y("UpdateUserPoolDomain"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_UpdateUserPoolDomainCommand"),H0r=_(async(e,t)=>{let r=Y("VerifySoftwareToken"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_VerifySoftwareTokenCommand"),G0r=_(async(e,t)=>{let r=Y("VerifyUserAttribute"),n;return n=JSON.stringify((0,h._json)(e)),te(t,r,"/",void 0,n)},"se_VerifyUserAttributeCommand"),V0r=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AddCustomAttributesCommand"),W0r=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_AdminAddUserToGroupCommand"),K0r=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminConfirmSignUpCommand"),X0r=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=nRr(r,t),{$metadata:q(e),...n}},"de_AdminCreateUserCommand"),J0r=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_AdminDeleteUserCommand"),Y0r=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminDeleteUserAttributesCommand"),Q0r=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminDisableProviderForUserCommand"),Z0r=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminDisableUserCommand"),exr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminEnableUserCommand"),txr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_AdminForgetDeviceCommand"),rxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=sRr(r,t),{$metadata:q(e),...n}},"de_AdminGetDeviceCommand"),nxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=iRr(r,t),{$metadata:q(e),...n}},"de_AdminGetUserCommand"),sxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminInitiateAuthCommand"),ixr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminLinkProviderForUserCommand"),oxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=oRr(r,t),{$metadata:q(e),...n}},"de_AdminListDevicesCommand"),axr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=aRr(r,t),{$metadata:q(e),...n}},"de_AdminListGroupsForUserCommand"),cxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=cRr(r,t),{$metadata:q(e),...n}},"de_AdminListUserAuthEventsCommand"),lxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_AdminRemoveUserFromGroupCommand"),dxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminResetUserPasswordCommand"),uxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminRespondToAuthChallengeCommand"),mxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminSetUserMFAPreferenceCommand"),fxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminSetUserPasswordCommand"),pxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminSetUserSettingsCommand"),gxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminUpdateAuthEventFeedbackCommand"),hxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminUpdateDeviceStatusCommand"),yxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminUpdateUserAttributesCommand"),_xr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AdminUserGlobalSignOutCommand"),Sxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_AssociateSoftwareTokenCommand"),vxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ChangePasswordCommand"),Exr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_CompleteWebAuthnRegistrationCommand"),Cxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ConfirmDeviceCommand"),bxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ConfirmForgotPasswordCommand"),wxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ConfirmSignUpCommand"),xxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=fRr(r,t),{$metadata:q(e),...n}},"de_CreateGroupCommand"),Axr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=pRr(r,t),{$metadata:q(e),...n}},"de_CreateIdentityProviderCommand"),Pxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=gRr(r,t),{$metadata:q(e),...n}},"de_CreateManagedLoginBrandingCommand"),Rxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_CreateResourceServerCommand"),Ixr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=hRr(r,t),{$metadata:q(e),...n}},"de_CreateUserImportJobCommand"),Txr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=_Rr(r,t),{$metadata:q(e),...n}},"de_CreateUserPoolCommand"),Oxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=yRr(r,t),{$metadata:q(e),...n}},"de_CreateUserPoolClientCommand"),Nxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_CreateUserPoolDomainCommand"),Dxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteGroupCommand"),kxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteIdentityProviderCommand"),Mxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteManagedLoginBrandingCommand"),Lxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteResourceServerCommand"),Uxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteUserCommand"),Bxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_DeleteUserAttributesCommand"),Fxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteUserPoolCommand"),qxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_DeleteUserPoolClientCommand"),jxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_DeleteUserPoolDomainCommand"),$xr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_DeleteWebAuthnCredentialCommand"),zxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=SRr(r,t),{$metadata:q(e),...n}},"de_DescribeIdentityProviderCommand"),Hxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=ERr(r,t),{$metadata:q(e),...n}},"de_DescribeManagedLoginBrandingCommand"),Gxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=vRr(r,t),{$metadata:q(e),...n}},"de_DescribeManagedLoginBrandingByClientCommand"),Vxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_DescribeResourceServerCommand"),Wxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=CRr(r,t),{$metadata:q(e),...n}},"de_DescribeRiskConfigurationCommand"),Kxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=bRr(r,t),{$metadata:q(e),...n}},"de_DescribeUserImportJobCommand"),Xxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=xRr(r,t),{$metadata:q(e),...n}},"de_DescribeUserPoolCommand"),Jxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=wRr(r,t),{$metadata:q(e),...n}},"de_DescribeUserPoolClientCommand"),Yxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_DescribeUserPoolDomainCommand"),Qxr=_(async(e,t)=>e.statusCode>=300?ee(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:q(e)}),"de_ForgetDeviceCommand"),Zxr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ForgotPasswordCommand"),eAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetCSVHeaderCommand"),tAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=PRr(r,t),{$metadata:q(e),...n}},"de_GetDeviceCommand"),rAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=RRr(r,t),{$metadata:q(e),...n}},"de_GetGroupCommand"),nAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=IRr(r,t),{$metadata:q(e),...n}},"de_GetIdentityProviderByIdentifierCommand"),sAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetLogDeliveryConfigurationCommand"),iAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetSigningCertificateCommand"),oAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetTokensFromRefreshTokenCommand"),aAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=TRr(r,t),{$metadata:q(e),...n}},"de_GetUICustomizationCommand"),cAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetUserCommand"),lAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetUserAttributeVerificationCodeCommand"),dAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetUserAuthFactorsCommand"),uAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GetUserPoolMfaConfigCommand"),mAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_GlobalSignOutCommand"),fAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_InitiateAuthCommand"),pAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=ORr(r,t),{$metadata:q(e),...n}},"de_ListDevicesCommand"),gAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=NRr(r,t),{$metadata:q(e),...n}},"de_ListGroupsCommand"),hAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=DRr(r,t),{$metadata:q(e),...n}},"de_ListIdentityProvidersCommand"),yAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ListResourceServersCommand"),_Ar=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ListTagsForResourceCommand"),SAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=kRr(r,t),{$metadata:q(e),...n}},"de_ListUserImportJobsCommand"),vAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ListUserPoolClientsCommand"),EAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=MRr(r,t),{$metadata:q(e),...n}},"de_ListUserPoolsCommand"),CAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=URr(r,t),{$metadata:q(e),...n}},"de_ListUsersCommand"),bAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=LRr(r,t),{$metadata:q(e),...n}},"de_ListUsersInGroupCommand"),wAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=BRr(r,t),{$metadata:q(e),...n}},"de_ListWebAuthnCredentialsCommand"),xAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_ResendConfirmationCodeCommand"),AAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_RespondToAuthChallengeCommand"),PAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_RevokeTokenCommand"),RAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_SetLogDeliveryConfigurationCommand"),IAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=jRr(r,t),{$metadata:q(e),...n}},"de_SetRiskConfigurationCommand"),TAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=$Rr(r,t),{$metadata:q(e),...n}},"de_SetUICustomizationCommand"),OAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_SetUserMFAPreferenceCommand"),NAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_SetUserPoolMfaConfigCommand"),DAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_SetUserSettingsCommand"),kAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_SignUpCommand"),MAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=zRr(r,t),{$metadata:q(e),...n}},"de_StartUserImportJobCommand"),LAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=HRr(r,t),{$metadata:q(e),...n}},"de_StartWebAuthnRegistrationCommand"),UAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=GRr(r,t),{$metadata:q(e),...n}},"de_StopUserImportJobCommand"),BAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_TagResourceCommand"),FAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UntagResourceCommand"),qAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UpdateAuthEventFeedbackCommand"),jAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UpdateDeviceStatusCommand"),$Ar=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=VRr(r,t),{$metadata:q(e),...n}},"de_UpdateGroupCommand"),zAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=WRr(r,t),{$metadata:q(e),...n}},"de_UpdateIdentityProviderCommand"),HAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=KRr(r,t),{$metadata:q(e),...n}},"de_UpdateManagedLoginBrandingCommand"),GAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UpdateResourceServerCommand"),VAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UpdateUserAttributesCommand"),WAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UpdateUserPoolCommand"),KAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=XRr(r,t),{$metadata:q(e),...n}},"de_UpdateUserPoolClientCommand"),XAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_UpdateUserPoolDomainCommand"),JAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_VerifySoftwareTokenCommand"),YAr=_(async(e,t)=>{if(e.statusCode>=300)return ee(e,t);let r=await(0,ie.parseJsonBody)(e.body,t),n={};return n=(0,h._json)(r),{$metadata:q(e),...n}},"de_VerifyUserAttributeCommand"),ee=_(async(e,t)=>{let r={...e,body:await(0,ie.parseJsonErrorBody)(e.body,t)},n=(0,ie.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentityprovider#InternalErrorException":throw await lPr(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentityprovider#InvalidParameterException":throw await fPr(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentityprovider#NotAuthorizedException":throw await EPr(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentityprovider#ResourceNotFoundException":throw await APr(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentityprovider#TooManyRequestsException":throw await OPr(r,t);case"UserImportInProgressException":case"com.amazonaws.cognitoidentityprovider#UserImportInProgressException":throw await BPr(r,t);case"UserNotFoundException":case"com.amazonaws.cognitoidentityprovider#UserNotFoundException":throw await $Pr(r,t);case"InvalidLambdaResponseException":case"com.amazonaws.cognitoidentityprovider#InvalidLambdaResponseException":throw await uPr(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentityprovider#LimitExceededException":throw await _Pr(r,t);case"TooManyFailedAttemptsException":case"com.amazonaws.cognitoidentityprovider#TooManyFailedAttemptsException":throw await TPr(r,t);case"UnexpectedLambdaException":case"com.amazonaws.cognitoidentityprovider#UnexpectedLambdaException":throw await DPr(r,t);case"UserLambdaValidationException":case"com.amazonaws.cognitoidentityprovider#UserLambdaValidationException":throw await FPr(r,t);case"CodeDeliveryFailureException":case"com.amazonaws.cognitoidentityprovider#CodeDeliveryFailureException":throw await ZAr(r,t);case"InvalidPasswordException":case"com.amazonaws.cognitoidentityprovider#InvalidPasswordException":throw await pPr(r,t);case"InvalidSmsRoleAccessPolicyException":case"com.amazonaws.cognitoidentityprovider#InvalidSmsRoleAccessPolicyException":throw await gPr(r,t);case"InvalidSmsRoleTrustRelationshipException":case"com.amazonaws.cognitoidentityprovider#InvalidSmsRoleTrustRelationshipException":throw await hPr(r,t);case"PreconditionNotMetException":case"com.amazonaws.cognitoidentityprovider#PreconditionNotMetException":throw await wPr(r,t);case"UnsupportedUserStateException":case"com.amazonaws.cognitoidentityprovider#UnsupportedUserStateException":throw await UPr(r,t);case"UsernameExistsException":case"com.amazonaws.cognitoidentityprovider#UsernameExistsException":throw await qPr(r,t);case"AliasExistsException":case"com.amazonaws.cognitoidentityprovider#AliasExistsException":throw await QAr(r,t);case"InvalidUserPoolConfigurationException":case"com.amazonaws.cognitoidentityprovider#InvalidUserPoolConfigurationException":throw await yPr(r,t);case"InvalidEmailRoleAccessPolicyException":case"com.amazonaws.cognitoidentityprovider#InvalidEmailRoleAccessPolicyException":throw await dPr(r,t);case"MFAMethodNotFoundException":case"com.amazonaws.cognitoidentityprovider#MFAMethodNotFoundException":throw await vPr(r,t);case"PasswordResetRequiredException":case"com.amazonaws.cognitoidentityprovider#PasswordResetRequiredException":throw await bPr(r,t);case"UnsupportedOperationException":case"com.amazonaws.cognitoidentityprovider#UnsupportedOperationException":throw await MPr(r,t);case"UserNotConfirmedException":case"com.amazonaws.cognitoidentityprovider#UserNotConfirmedException":throw await jPr(r,t);case"UserPoolAddOnNotEnabledException":case"com.amazonaws.cognitoidentityprovider#UserPoolAddOnNotEnabledException":throw await zPr(r,t);case"CodeMismatchException":case"com.amazonaws.cognitoidentityprovider#CodeMismatchException":throw await ePr(r,t);case"ExpiredCodeException":case"com.amazonaws.cognitoidentityprovider#ExpiredCodeException":throw await iPr(r,t);case"PasswordHistoryPolicyViolationException":case"com.amazonaws.cognitoidentityprovider#PasswordHistoryPolicyViolationException":throw await CPr(r,t);case"SoftwareTokenMFANotFoundException":case"com.amazonaws.cognitoidentityprovider#SoftwareTokenMFANotFoundException":throw await RPr(r,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentityprovider#ConcurrentModificationException":throw await tPr(r,t);case"ForbiddenException":case"com.amazonaws.cognitoidentityprovider#ForbiddenException":throw await aPr(r,t);case"WebAuthnChallengeNotFoundException":case"com.amazonaws.cognitoidentityprovider#WebAuthnChallengeNotFoundException":throw await GPr(r,t);case"WebAuthnClientMismatchException":case"com.amazonaws.cognitoidentityprovider#WebAuthnClientMismatchException":throw await VPr(r,t);case"WebAuthnCredentialNotSupportedException":case"com.amazonaws.cognitoidentityprovider#WebAuthnCredentialNotSupportedException":throw await KPr(r,t);case"WebAuthnNotEnabledException":case"com.amazonaws.cognitoidentityprovider#WebAuthnNotEnabledException":throw await XPr(r,t);case"WebAuthnOriginNotAllowedException":case"com.amazonaws.cognitoidentityprovider#WebAuthnOriginNotAllowedException":throw await JPr(r,t);case"WebAuthnRelyingPartyMismatchException":case"com.amazonaws.cognitoidentityprovider#WebAuthnRelyingPartyMismatchException":throw await YPr(r,t);case"DeviceKeyExistsException":case"com.amazonaws.cognitoidentityprovider#DeviceKeyExistsException":throw await rPr(r,t);case"GroupExistsException":case"com.amazonaws.cognitoidentityprovider#GroupExistsException":throw await cPr(r,t);case"DuplicateProviderException":case"com.amazonaws.cognitoidentityprovider#DuplicateProviderException":throw await nPr(r,t);case"ManagedLoginBrandingExistsException":case"com.amazonaws.cognitoidentityprovider#ManagedLoginBrandingExistsException":throw await SPr(r,t);case"FeatureUnavailableInTierException":case"com.amazonaws.cognitoidentityprovider#FeatureUnavailableInTierException":throw await oPr(r,t);case"TierChangeNotAllowedException":case"com.amazonaws.cognitoidentityprovider#TierChangeNotAllowedException":throw await IPr(r,t);case"UserPoolTaggingException":case"com.amazonaws.cognitoidentityprovider#UserPoolTaggingException":throw await HPr(r,t);case"InvalidOAuthFlowException":case"com.amazonaws.cognitoidentityprovider#InvalidOAuthFlowException":throw await mPr(r,t);case"ScopeDoesNotExistException":case"com.amazonaws.cognitoidentityprovider#ScopeDoesNotExistException":throw await PPr(r,t);case"UnsupportedIdentityProviderException":case"com.amazonaws.cognitoidentityprovider#UnsupportedIdentityProviderException":throw await kPr(r,t);case"RefreshTokenReuseException":case"com.amazonaws.cognitoidentityprovider#RefreshTokenReuseException":throw await xPr(r,t);case"UnauthorizedException":case"com.amazonaws.cognitoidentityprovider#UnauthorizedException":throw await NPr(r,t);case"UnsupportedTokenTypeException":case"com.amazonaws.cognitoidentityprovider#UnsupportedTokenTypeException":throw await LPr(r,t);case"WebAuthnConfigurationMissingException":case"com.amazonaws.cognitoidentityprovider#WebAuthnConfigurationMissingException":throw await WPr(r,t);case"EnableSoftwareTokenMFAException":case"com.amazonaws.cognitoidentityprovider#EnableSoftwareTokenMFAException":throw await sPr(r,t);default:let s=r.body;return tIr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),QAr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new X5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_AliasExistsExceptionRes"),ZAr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new M5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_CodeDeliveryFailureExceptionRes"),ePr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new u9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_CodeMismatchExceptionRes"),tPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new S9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ConcurrentModificationExceptionRes"),rPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new M9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_DeviceKeyExistsExceptionRes"),nPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new F9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_DuplicateProviderExceptionRes"),sPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new g7e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_EnableSoftwareTokenMFAExceptionRes"),iPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new f9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ExpiredCodeExceptionRes"),oPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new z9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_FeatureUnavailableInTierExceptionRes"),aPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new E9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ForbiddenExceptionRes"),cPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new U9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_GroupExistsExceptionRes"),lPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new u5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InternalErrorExceptionRes"),dPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Z5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidEmailRoleAccessPolicyExceptionRes"),uPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new x5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidLambdaResponseExceptionRes"),mPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new X9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidOAuthFlowExceptionRes"),fPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new f5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),pPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new U5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidPasswordExceptionRes"),gPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new F5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidSmsRoleAccessPolicyExceptionRes"),hPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new j5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidSmsRoleTrustRelationshipExceptionRes"),yPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Y5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_InvalidUserPoolConfigurationExceptionRes"),_Pr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new P5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),SPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new j9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ManagedLoginBrandingExistsExceptionRes"),vPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new t9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_MFAMethodNotFoundExceptionRes"),EPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new g5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_NotAuthorizedExceptionRes"),CPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new g9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_PasswordHistoryPolicyViolationExceptionRes"),bPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new n9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_PasswordResetRequiredExceptionRes"),wPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new z5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_PreconditionNotMetExceptionRes"),xPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new tYe({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_RefreshTokenReuseExceptionRes"),APr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new y5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),PPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Y9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_ScopeDoesNotExistExceptionRes"),RPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new y9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_SoftwareTokenMFANotFoundExceptionRes"),IPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new G9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_TierChangeNotAllowedExceptionRes"),TPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new I5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_TooManyFailedAttemptsExceptionRes"),OPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new S5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_TooManyRequestsExceptionRes"),NPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new l7e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnauthorizedExceptionRes"),DPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new O5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnexpectedLambdaExceptionRes"),kPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new Z9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedIdentityProviderExceptionRes"),MPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new i9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedOperationExceptionRes"),LPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new u7e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedTokenTypeExceptionRes"),UPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new G5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UnsupportedUserStateExceptionRes"),BPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new E5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserImportInProgressExceptionRes"),FPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new D5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserLambdaValidationExceptionRes"),qPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new W5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UsernameExistsExceptionRes"),jPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new a9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserNotConfirmedExceptionRes"),$Pr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new b5e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserNotFoundExceptionRes"),zPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new l9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserPoolAddOnNotEnabledExceptionRes"),HPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new W9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_UserPoolTaggingExceptionRes"),GPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new b9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnChallengeNotFoundExceptionRes"),VPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new x9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnClientMismatchExceptionRes"),WPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new f7e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnConfigurationMissingExceptionRes"),KPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new P9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnCredentialNotSupportedExceptionRes"),XPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new I9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnNotEnabledExceptionRes"),JPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new O9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnOriginNotAllowedExceptionRes"),YPr=_(async(e,t)=>{let r=e.body,n=(0,h._json)(r),s=new D9e({$metadata:q(e),...n});return(0,h.decorateServiceException)(s,r)},"de_WebAuthnRelyingPartyMismatchExceptionRes"),J7e=_((e,t)=>e.filter(r=>r!=null).map(r=>QPr(r,t)),"se_AssetListType"),QPr=_((e,t)=>(0,h.take)(e,{Bytes:t.base64Encoder,Category:[],ColorMode:[],Extension:[],ResourceId:[]}),"se_AssetType"),ZPr=_((e,t)=>(0,h.take)(e,{AccessToken:[],Credential:_(r=>mee(r,t),"Credential")}),"se_CompleteWebAuthnRegistrationRequest"),eRr=_((e,t)=>(0,h.take)(e,{Assets:_(r=>J7e(r,t),"Assets"),ClientId:[],Settings:_(r=>mee(r,t),"Settings"),UseCognitoProvidedValues:[],UserPoolId:[]}),"se_CreateManagedLoginBrandingRequest"),mee=_((e,t)=>e,"se_Document"),tRr=_((e,t)=>(0,h.take)(e,{CSS:[],ClientId:[],ImageFile:t.base64Encoder,UserPoolId:[]}),"se_SetUICustomizationRequest"),rRr=_((e,t)=>(0,h.take)(e,{Assets:_(r=>J7e(r,t),"Assets"),ManagedLoginBrandingId:[],Settings:_(r=>mee(r,t),"Settings"),UseCognitoProvidedValues:[],UserPoolId:[]}),"se_UpdateManagedLoginBrandingRequest"),nRr=_((e,t)=>(0,h.take)(e,{User:_(r=>sQe(r,t),"User")}),"de_AdminCreateUserResponse"),sRr=_((e,t)=>(0,h.take)(e,{Device:_(r=>fee(r,t),"Device")}),"de_AdminGetDeviceResponse"),iRr=_((e,t)=>(0,h.take)(e,{Enabled:h.expectBoolean,MFAOptions:h._json,PreferredMfaSetting:h.expectString,UserAttributes:h._json,UserCreateDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserCreateDate"),UserLastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserLastModifiedDate"),UserMFASettingList:h._json,UserStatus:h.expectString,Username:h.expectString}),"de_AdminGetUserResponse"),oRr=_((e,t)=>(0,h.take)(e,{Devices:_(r=>Y7e(r,t),"Devices"),PaginationToken:h.expectString}),"de_AdminListDevicesResponse"),aRr=_((e,t)=>(0,h.take)(e,{Groups:_(r=>Z7e(r,t),"Groups"),NextToken:h.expectString}),"de_AdminListGroupsForUserResponse"),cRr=_((e,t)=>(0,h.take)(e,{AuthEvents:_(r=>uRr(r,t),"AuthEvents"),NextToken:h.expectString}),"de_AdminListUserAuthEventsResponse"),lRr=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>dRr(n,t)),"de_AssetListType"),dRr=_((e,t)=>(0,h.take)(e,{Bytes:t.base64Decoder,Category:h.expectString,ColorMode:h.expectString,Extension:h.expectString,ResourceId:h.expectString}),"de_AssetType"),uRr=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>mRr(n,t)),"de_AuthEventsType"),mRr=_((e,t)=>(0,h.take)(e,{ChallengeResponses:h._json,CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),EventContextData:h._json,EventFeedback:_(r=>ARr(r,t),"EventFeedback"),EventId:h.expectString,EventResponse:h.expectString,EventRisk:h._json,EventType:h.expectString}),"de_AuthEventType"),fRr=_((e,t)=>(0,h.take)(e,{Group:_(r=>D1(r,t),"Group")}),"de_CreateGroupResponse"),pRr=_((e,t)=>(0,h.take)(e,{IdentityProvider:_(r=>k1(r,t),"IdentityProvider")}),"de_CreateIdentityProviderResponse"),gRr=_((e,t)=>(0,h.take)(e,{ManagedLoginBranding:_(r=>M1(r,t),"ManagedLoginBranding")}),"de_CreateManagedLoginBrandingResponse"),hRr=_((e,t)=>(0,h.take)(e,{UserImportJob:_(r=>VI(r,t),"UserImportJob")}),"de_CreateUserImportJobResponse"),yRr=_((e,t)=>(0,h.take)(e,{UserPoolClient:_(r=>pee(r,t),"UserPoolClient")}),"de_CreateUserPoolClientResponse"),_Rr=_((e,t)=>(0,h.take)(e,{UserPool:_(r=>rQe(r,t),"UserPool")}),"de_CreateUserPoolResponse"),SRr=_((e,t)=>(0,h.take)(e,{IdentityProvider:_(r=>k1(r,t),"IdentityProvider")}),"de_DescribeIdentityProviderResponse"),vRr=_((e,t)=>(0,h.take)(e,{ManagedLoginBranding:_(r=>M1(r,t),"ManagedLoginBranding")}),"de_DescribeManagedLoginBrandingByClientResponse"),ERr=_((e,t)=>(0,h.take)(e,{ManagedLoginBranding:_(r=>M1(r,t),"ManagedLoginBranding")}),"de_DescribeManagedLoginBrandingResponse"),CRr=_((e,t)=>(0,h.take)(e,{RiskConfiguration:_(r=>eQe(r,t),"RiskConfiguration")}),"de_DescribeRiskConfigurationResponse"),bRr=_((e,t)=>(0,h.take)(e,{UserImportJob:_(r=>VI(r,t),"UserImportJob")}),"de_DescribeUserImportJobResponse"),wRr=_((e,t)=>(0,h.take)(e,{UserPoolClient:_(r=>pee(r,t),"UserPoolClient")}),"de_DescribeUserPoolClientResponse"),xRr=_((e,t)=>(0,h.take)(e,{UserPool:_(r=>rQe(r,t),"UserPool")}),"de_DescribeUserPoolResponse"),Y7e=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>fee(n,t)),"de_DeviceListType"),fee=_((e,t)=>(0,h.take)(e,{DeviceAttributes:h._json,DeviceCreateDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"DeviceCreateDate"),DeviceKey:h.expectString,DeviceLastAuthenticatedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"DeviceLastAuthenticatedDate"),DeviceLastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"DeviceLastModifiedDate")}),"de_DeviceType"),Q7e=_((e,t)=>e,"de_Document"),ARr=_((e,t)=>(0,h.take)(e,{FeedbackDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"FeedbackDate"),FeedbackValue:h.expectString,Provider:h.expectString}),"de_EventFeedbackType"),PRr=_((e,t)=>(0,h.take)(e,{Device:_(r=>fee(r,t),"Device")}),"de_GetDeviceResponse"),RRr=_((e,t)=>(0,h.take)(e,{Group:_(r=>D1(r,t),"Group")}),"de_GetGroupResponse"),IRr=_((e,t)=>(0,h.take)(e,{IdentityProvider:_(r=>k1(r,t),"IdentityProvider")}),"de_GetIdentityProviderByIdentifierResponse"),TRr=_((e,t)=>(0,h.take)(e,{UICustomization:_(r=>tQe(r,t),"UICustomization")}),"de_GetUICustomizationResponse"),Z7e=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>D1(n,t)),"de_GroupListType"),D1=_((e,t)=>(0,h.take)(e,{CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),Description:h.expectString,GroupName:h.expectString,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),Precedence:h.expectInt32,RoleArn:h.expectString,UserPoolId:h.expectString}),"de_GroupType"),k1=_((e,t)=>(0,h.take)(e,{AttributeMapping:h._json,CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),IdpIdentifiers:h._json,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),ProviderDetails:h._json,ProviderName:h.expectString,ProviderType:h.expectString,UserPoolId:h.expectString}),"de_IdentityProviderType"),ORr=_((e,t)=>(0,h.take)(e,{Devices:_(r=>Y7e(r,t),"Devices"),PaginationToken:h.expectString}),"de_ListDevicesResponse"),NRr=_((e,t)=>(0,h.take)(e,{Groups:_(r=>Z7e(r,t),"Groups"),NextToken:h.expectString}),"de_ListGroupsResponse"),DRr=_((e,t)=>(0,h.take)(e,{NextToken:h.expectString,Providers:_(r=>qRr(r,t),"Providers")}),"de_ListIdentityProvidersResponse"),kRr=_((e,t)=>(0,h.take)(e,{PaginationToken:h.expectString,UserImportJobs:_(r=>JRr(r,t),"UserImportJobs")}),"de_ListUserImportJobsResponse"),MRr=_((e,t)=>(0,h.take)(e,{NextToken:h.expectString,UserPools:_(r=>QRr(r,t),"UserPools")}),"de_ListUserPoolsResponse"),LRr=_((e,t)=>(0,h.take)(e,{NextToken:h.expectString,Users:_(r=>nQe(r,t),"Users")}),"de_ListUsersInGroupResponse"),URr=_((e,t)=>(0,h.take)(e,{PaginationToken:h.expectString,Users:_(r=>nQe(r,t),"Users")}),"de_ListUsersResponse"),BRr=_((e,t)=>(0,h.take)(e,{Credentials:_(r=>eIr(r,t),"Credentials"),NextToken:h.expectString}),"de_ListWebAuthnCredentialsResponse"),M1=_((e,t)=>(0,h.take)(e,{Assets:_(r=>lRr(r,t),"Assets"),CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),ManagedLoginBrandingId:h.expectString,Settings:_(r=>Q7e(r,t),"Settings"),UseCognitoProvidedValues:h.expectBoolean,UserPoolId:h.expectString}),"de_ManagedLoginBrandingType"),FRr=_((e,t)=>(0,h.take)(e,{CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),ProviderName:h.expectString,ProviderType:h.expectString}),"de_ProviderDescription"),qRr=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>FRr(n,t)),"de_ProvidersListType"),eQe=_((e,t)=>(0,h.take)(e,{AccountTakeoverRiskConfiguration:h._json,ClientId:h.expectString,CompromisedCredentialsRiskConfiguration:h._json,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),RiskExceptionConfiguration:h._json,UserPoolId:h.expectString}),"de_RiskConfigurationType"),jRr=_((e,t)=>(0,h.take)(e,{RiskConfiguration:_(r=>eQe(r,t),"RiskConfiguration")}),"de_SetRiskConfigurationResponse"),$Rr=_((e,t)=>(0,h.take)(e,{UICustomization:_(r=>tQe(r,t),"UICustomization")}),"de_SetUICustomizationResponse"),zRr=_((e,t)=>(0,h.take)(e,{UserImportJob:_(r=>VI(r,t),"UserImportJob")}),"de_StartUserImportJobResponse"),HRr=_((e,t)=>(0,h.take)(e,{CredentialCreationOptions:_(r=>Q7e(r,t),"CredentialCreationOptions")}),"de_StartWebAuthnRegistrationResponse"),GRr=_((e,t)=>(0,h.take)(e,{UserImportJob:_(r=>VI(r,t),"UserImportJob")}),"de_StopUserImportJobResponse"),tQe=_((e,t)=>(0,h.take)(e,{CSS:h.expectString,CSSVersion:h.expectString,ClientId:h.expectString,CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),ImageUrl:h.expectString,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),UserPoolId:h.expectString}),"de_UICustomizationType"),VRr=_((e,t)=>(0,h.take)(e,{Group:_(r=>D1(r,t),"Group")}),"de_UpdateGroupResponse"),WRr=_((e,t)=>(0,h.take)(e,{IdentityProvider:_(r=>k1(r,t),"IdentityProvider")}),"de_UpdateIdentityProviderResponse"),KRr=_((e,t)=>(0,h.take)(e,{ManagedLoginBranding:_(r=>M1(r,t),"ManagedLoginBranding")}),"de_UpdateManagedLoginBrandingResponse"),XRr=_((e,t)=>(0,h.take)(e,{UserPoolClient:_(r=>pee(r,t),"UserPoolClient")}),"de_UpdateUserPoolClientResponse"),JRr=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>VI(n,t)),"de_UserImportJobsListType"),VI=_((e,t)=>(0,h.take)(e,{CloudWatchLogsRoleArn:h.expectString,CompletionDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CompletionDate"),CompletionMessage:h.expectString,CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),FailedUsers:h.expectLong,ImportedUsers:h.expectLong,JobId:h.expectString,JobName:h.expectString,PreSignedUrl:h.expectString,SkippedUsers:h.expectLong,StartDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"StartDate"),Status:h.expectString,UserPoolId:h.expectString}),"de_UserImportJobType"),pee=_((e,t)=>(0,h.take)(e,{AccessTokenValidity:h.expectInt32,AllowedOAuthFlows:h._json,AllowedOAuthFlowsUserPoolClient:h.expectBoolean,AllowedOAuthScopes:h._json,AnalyticsConfiguration:h._json,AuthSessionValidity:h.expectInt32,CallbackURLs:h._json,ClientId:h.expectString,ClientName:h.expectString,ClientSecret:h.expectString,CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),DefaultRedirectURI:h.expectString,EnablePropagateAdditionalUserContextData:h.expectBoolean,EnableTokenRevocation:h.expectBoolean,ExplicitAuthFlows:h._json,IdTokenValidity:h.expectInt32,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),LogoutURLs:h._json,PreventUserExistenceErrors:h.expectString,ReadAttributes:h._json,RefreshTokenRotation:h._json,RefreshTokenValidity:h.expectInt32,SupportedIdentityProviders:h._json,TokenValidityUnits:h._json,UserPoolId:h.expectString,WriteAttributes:h._json}),"de_UserPoolClientType"),YRr=_((e,t)=>(0,h.take)(e,{CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),Id:h.expectString,LambdaConfig:h._json,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),Name:h.expectString,Status:h.expectString}),"de_UserPoolDescriptionType"),QRr=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>YRr(n,t)),"de_UserPoolListType"),rQe=_((e,t)=>(0,h.take)(e,{AccountRecoverySetting:h._json,AdminCreateUserConfig:h._json,AliasAttributes:h._json,Arn:h.expectString,AutoVerifiedAttributes:h._json,CreationDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreationDate"),CustomDomain:h.expectString,DeletionProtection:h.expectString,DeviceConfiguration:h._json,Domain:h.expectString,EmailConfiguration:h._json,EmailConfigurationFailure:h.expectString,EmailVerificationMessage:h.expectString,EmailVerificationSubject:h.expectString,EstimatedNumberOfUsers:h.expectInt32,Id:h.expectString,LambdaConfig:h._json,LastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"LastModifiedDate"),MfaConfiguration:h.expectString,Name:h.expectString,Policies:h._json,SchemaAttributes:h._json,SmsAuthenticationMessage:h.expectString,SmsConfiguration:h._json,SmsConfigurationFailure:h.expectString,SmsVerificationMessage:h.expectString,Status:h.expectString,UserAttributeUpdateSettings:h._json,UserPoolAddOns:h._json,UserPoolTags:h._json,UserPoolTier:h.expectString,UsernameAttributes:h._json,UsernameConfiguration:h._json,VerificationMessageTemplate:h._json}),"de_UserPoolType"),nQe=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>sQe(n,t)),"de_UsersListType"),sQe=_((e,t)=>(0,h.take)(e,{Attributes:h._json,Enabled:h.expectBoolean,MFAOptions:h._json,UserCreateDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserCreateDate"),UserLastModifiedDate:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"UserLastModifiedDate"),UserStatus:h.expectString,Username:h.expectString}),"de_UserType"),ZRr=_((e,t)=>(0,h.take)(e,{AuthenticatorAttachment:h.expectString,AuthenticatorTransports:h._json,CreatedAt:_(r=>(0,h.expectNonNull)((0,h.parseEpochTimestamp)((0,h.expectNumber)(r))),"CreatedAt"),CredentialId:h.expectString,FriendlyCredentialName:h.expectString,RelyingPartyId:h.expectString}),"de_WebAuthnCredentialDescription"),eIr=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZRr(n,t)),"de_WebAuthnCredentialDescriptionListType"),q=_(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),tIr=(0,h.withBaseException)(He),te=_(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new cee.HttpRequest(l)},"buildHttpRpcRequest");function Y(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}}_(Y,"sharedHeaders");var iQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AddCustomAttributes",{}).n("CognitoIdentityProviderClient","AddCustomAttributesCommand").f(void 0,void 0).ser(qbr).de(V0r).build(){static{_(this,"AddCustomAttributesCommand")}},oQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminAddUserToGroup",{}).n("CognitoIdentityProviderClient","AdminAddUserToGroupCommand").f(nYe,void 0).ser(jbr).de(W0r).build(){static{_(this,"AdminAddUserToGroupCommand")}},aQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminConfirmSignUp",{}).n("CognitoIdentityProviderClient","AdminConfirmSignUpCommand").f(sYe,void 0).ser($br).de(K0r).build(){static{_(this,"AdminConfirmSignUpCommand")}},cQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminCreateUser",{}).n("CognitoIdentityProviderClient","AdminCreateUserCommand").f(iYe,oYe).ser(zbr).de(X0r).build(){static{_(this,"AdminCreateUserCommand")}},lQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDeleteUserAttributes",{}).n("CognitoIdentityProviderClient","AdminDeleteUserAttributesCommand").f(cYe,void 0).ser(Gbr).de(Y0r).build(){static{_(this,"AdminDeleteUserAttributesCommand")}},dQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDeleteUser",{}).n("CognitoIdentityProviderClient","AdminDeleteUserCommand").f(aYe,void 0).ser(Hbr).de(J0r).build(){static{_(this,"AdminDeleteUserCommand")}},uQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDisableProviderForUser",{}).n("CognitoIdentityProviderClient","AdminDisableProviderForUserCommand").f(void 0,void 0).ser(Vbr).de(Q0r).build(){static{_(this,"AdminDisableProviderForUserCommand")}},mQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDisableUser",{}).n("CognitoIdentityProviderClient","AdminDisableUserCommand").f(lYe,void 0).ser(Wbr).de(Z0r).build(){static{_(this,"AdminDisableUserCommand")}},fQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminEnableUser",{}).n("CognitoIdentityProviderClient","AdminEnableUserCommand").f(dYe,void 0).ser(Kbr).de(exr).build(){static{_(this,"AdminEnableUserCommand")}},pQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminForgetDevice",{}).n("CognitoIdentityProviderClient","AdminForgetDeviceCommand").f(uYe,void 0).ser(Xbr).de(txr).build(){static{_(this,"AdminForgetDeviceCommand")}},gQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminGetDevice",{}).n("CognitoIdentityProviderClient","AdminGetDeviceCommand").f(mYe,fYe).ser(Jbr).de(rxr).build(){static{_(this,"AdminGetDeviceCommand")}},hQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminGetUser",{}).n("CognitoIdentityProviderClient","AdminGetUserCommand").f(pYe,gYe).ser(Ybr).de(nxr).build(){static{_(this,"AdminGetUserCommand")}},yQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminInitiateAuth",{}).n("CognitoIdentityProviderClient","AdminInitiateAuthCommand").f(hYe,yYe).ser(Qbr).de(sxr).build(){static{_(this,"AdminInitiateAuthCommand")}},_Qe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminLinkProviderForUser",{}).n("CognitoIdentityProviderClient","AdminLinkProviderForUserCommand").f(void 0,void 0).ser(Zbr).de(ixr).build(){static{_(this,"AdminLinkProviderForUserCommand")}},SQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListDevices",{}).n("CognitoIdentityProviderClient","AdminListDevicesCommand").f(_Ye,SYe).ser(ewr).de(oxr).build(){static{_(this,"AdminListDevicesCommand")}},gee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListGroupsForUser",{}).n("CognitoIdentityProviderClient","AdminListGroupsForUserCommand").f(vYe,void 0).ser(twr).de(axr).build(){static{_(this,"AdminListGroupsForUserCommand")}},hee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListUserAuthEvents",{}).n("CognitoIdentityProviderClient","AdminListUserAuthEventsCommand").f(EYe,void 0).ser(rwr).de(cxr).build(){static{_(this,"AdminListUserAuthEventsCommand")}},vQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminRemoveUserFromGroup",{}).n("CognitoIdentityProviderClient","AdminRemoveUserFromGroupCommand").f(CYe,void 0).ser(nwr).de(lxr).build(){static{_(this,"AdminRemoveUserFromGroupCommand")}},EQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminResetUserPassword",{}).n("CognitoIdentityProviderClient","AdminResetUserPasswordCommand").f(bYe,void 0).ser(swr).de(dxr).build(){static{_(this,"AdminResetUserPasswordCommand")}},CQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminRespondToAuthChallenge",{}).n("CognitoIdentityProviderClient","AdminRespondToAuthChallengeCommand").f(wYe,xYe).ser(iwr).de(uxr).build(){static{_(this,"AdminRespondToAuthChallengeCommand")}},bQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserMFAPreference",{}).n("CognitoIdentityProviderClient","AdminSetUserMFAPreferenceCommand").f(AYe,void 0).ser(owr).de(mxr).build(){static{_(this,"AdminSetUserMFAPreferenceCommand")}},wQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserPassword",{}).n("CognitoIdentityProviderClient","AdminSetUserPasswordCommand").f(PYe,void 0).ser(awr).de(fxr).build(){static{_(this,"AdminSetUserPasswordCommand")}},xQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserSettings",{}).n("CognitoIdentityProviderClient","AdminSetUserSettingsCommand").f(RYe,void 0).ser(cwr).de(pxr).build(){static{_(this,"AdminSetUserSettingsCommand")}},AQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateAuthEventFeedback",{}).n("CognitoIdentityProviderClient","AdminUpdateAuthEventFeedbackCommand").f(IYe,void 0).ser(lwr).de(gxr).build(){static{_(this,"AdminUpdateAuthEventFeedbackCommand")}},PQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateDeviceStatus",{}).n("CognitoIdentityProviderClient","AdminUpdateDeviceStatusCommand").f(TYe,void 0).ser(dwr).de(hxr).build(){static{_(this,"AdminUpdateDeviceStatusCommand")}},RQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateUserAttributes",{}).n("CognitoIdentityProviderClient","AdminUpdateUserAttributesCommand").f(OYe,void 0).ser(uwr).de(yxr).build(){static{_(this,"AdminUpdateUserAttributesCommand")}},IQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUserGlobalSignOut",{}).n("CognitoIdentityProviderClient","AdminUserGlobalSignOutCommand").f(NYe,void 0).ser(mwr).de(_xr).build(){static{_(this,"AdminUserGlobalSignOutCommand")}},TQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AssociateSoftwareToken",{}).n("CognitoIdentityProviderClient","AssociateSoftwareTokenCommand").f(DYe,kYe).ser(fwr).de(Sxr).build(){static{_(this,"AssociateSoftwareTokenCommand")}},OQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ChangePassword",{}).n("CognitoIdentityProviderClient","ChangePasswordCommand").f(MYe,void 0).ser(pwr).de(vxr).build(){static{_(this,"ChangePasswordCommand")}},NQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CompleteWebAuthnRegistration",{}).n("CognitoIdentityProviderClient","CompleteWebAuthnRegistrationCommand").f(LYe,void 0).ser(gwr).de(Exr).build(){static{_(this,"CompleteWebAuthnRegistrationCommand")}},DQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmDevice",{}).n("CognitoIdentityProviderClient","ConfirmDeviceCommand").f(UYe,void 0).ser(hwr).de(Cxr).build(){static{_(this,"ConfirmDeviceCommand")}},kQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmForgotPassword",{}).n("CognitoIdentityProviderClient","ConfirmForgotPasswordCommand").f(BYe,void 0).ser(ywr).de(bxr).build(){static{_(this,"ConfirmForgotPasswordCommand")}},MQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmSignUp",{}).n("CognitoIdentityProviderClient","ConfirmSignUpCommand").f(FYe,qYe).ser(_wr).de(wxr).build(){static{_(this,"ConfirmSignUpCommand")}},LQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateGroup",{}).n("CognitoIdentityProviderClient","CreateGroupCommand").f(void 0,void 0).ser(Swr).de(xxr).build(){static{_(this,"CreateGroupCommand")}},UQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateIdentityProvider",{}).n("CognitoIdentityProviderClient","CreateIdentityProviderCommand").f(void 0,void 0).ser(vwr).de(Axr).build(){static{_(this,"CreateIdentityProviderCommand")}},BQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateManagedLoginBranding",{}).n("CognitoIdentityProviderClient","CreateManagedLoginBrandingCommand").f(jYe,void 0).ser(Ewr).de(Pxr).build(){static{_(this,"CreateManagedLoginBrandingCommand")}},FQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateResourceServer",{}).n("CognitoIdentityProviderClient","CreateResourceServerCommand").f(void 0,void 0).ser(Cwr).de(Rxr).build(){static{_(this,"CreateResourceServerCommand")}},qQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserImportJob",{}).n("CognitoIdentityProviderClient","CreateUserImportJobCommand").f(void 0,void 0).ser(bwr).de(Ixr).build(){static{_(this,"CreateUserImportJobCommand")}},jQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPoolClient",{}).n("CognitoIdentityProviderClient","CreateUserPoolClientCommand").f(void 0,$Ye).ser(xwr).de(Oxr).build(){static{_(this,"CreateUserPoolClientCommand")}},$Qe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPool",{}).n("CognitoIdentityProviderClient","CreateUserPoolCommand").f(void 0,void 0).ser(wwr).de(Txr).build(){static{_(this,"CreateUserPoolCommand")}},zQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPoolDomain",{}).n("CognitoIdentityProviderClient","CreateUserPoolDomainCommand").f(void 0,void 0).ser(Awr).de(Nxr).build(){static{_(this,"CreateUserPoolDomainCommand")}},HQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteGroup",{}).n("CognitoIdentityProviderClient","DeleteGroupCommand").f(void 0,void 0).ser(Pwr).de(Dxr).build(){static{_(this,"DeleteGroupCommand")}},GQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteIdentityProvider",{}).n("CognitoIdentityProviderClient","DeleteIdentityProviderCommand").f(void 0,void 0).ser(Rwr).de(kxr).build(){static{_(this,"DeleteIdentityProviderCommand")}},VQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteManagedLoginBranding",{}).n("CognitoIdentityProviderClient","DeleteManagedLoginBrandingCommand").f(void 0,void 0).ser(Iwr).de(Mxr).build(){static{_(this,"DeleteManagedLoginBrandingCommand")}},WQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteResourceServer",{}).n("CognitoIdentityProviderClient","DeleteResourceServerCommand").f(void 0,void 0).ser(Twr).de(Lxr).build(){static{_(this,"DeleteResourceServerCommand")}},KQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserAttributes",{}).n("CognitoIdentityProviderClient","DeleteUserAttributesCommand").f(HYe,void 0).ser(Nwr).de(Bxr).build(){static{_(this,"DeleteUserAttributesCommand")}},XQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUser",{}).n("CognitoIdentityProviderClient","DeleteUserCommand").f(zYe,void 0).ser(Owr).de(Uxr).build(){static{_(this,"DeleteUserCommand")}},JQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPoolClient",{}).n("CognitoIdentityProviderClient","DeleteUserPoolClientCommand").f(GYe,void 0).ser(kwr).de(qxr).build(){static{_(this,"DeleteUserPoolClientCommand")}},YQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPool",{}).n("CognitoIdentityProviderClient","DeleteUserPoolCommand").f(void 0,void 0).ser(Dwr).de(Fxr).build(){static{_(this,"DeleteUserPoolCommand")}},QQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPoolDomain",{}).n("CognitoIdentityProviderClient","DeleteUserPoolDomainCommand").f(void 0,void 0).ser(Mwr).de(jxr).build(){static{_(this,"DeleteUserPoolDomainCommand")}},ZQe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteWebAuthnCredential",{}).n("CognitoIdentityProviderClient","DeleteWebAuthnCredentialCommand").f(VYe,void 0).ser(Lwr).de($xr).build(){static{_(this,"DeleteWebAuthnCredentialCommand")}},eZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeIdentityProvider",{}).n("CognitoIdentityProviderClient","DescribeIdentityProviderCommand").f(void 0,void 0).ser(Uwr).de(zxr).build(){static{_(this,"DescribeIdentityProviderCommand")}},tZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeManagedLoginBrandingByClient",{}).n("CognitoIdentityProviderClient","DescribeManagedLoginBrandingByClientCommand").f(WYe,void 0).ser(Fwr).de(Gxr).build(){static{_(this,"DescribeManagedLoginBrandingByClientCommand")}},rZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeManagedLoginBranding",{}).n("CognitoIdentityProviderClient","DescribeManagedLoginBrandingCommand").f(void 0,void 0).ser(Bwr).de(Hxr).build(){static{_(this,"DescribeManagedLoginBrandingCommand")}},nZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeResourceServer",{}).n("CognitoIdentityProviderClient","DescribeResourceServerCommand").f(void 0,void 0).ser(qwr).de(Vxr).build(){static{_(this,"DescribeResourceServerCommand")}},sZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeRiskConfiguration",{}).n("CognitoIdentityProviderClient","DescribeRiskConfigurationCommand").f(KYe,XYe).ser(jwr).de(Wxr).build(){static{_(this,"DescribeRiskConfigurationCommand")}},iZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserImportJob",{}).n("CognitoIdentityProviderClient","DescribeUserImportJobCommand").f(void 0,void 0).ser($wr).de(Kxr).build(){static{_(this,"DescribeUserImportJobCommand")}},oZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPoolClient",{}).n("CognitoIdentityProviderClient","DescribeUserPoolClientCommand").f(JYe,YYe).ser(Hwr).de(Jxr).build(){static{_(this,"DescribeUserPoolClientCommand")}},aZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPool",{}).n("CognitoIdentityProviderClient","DescribeUserPoolCommand").f(void 0,void 0).ser(zwr).de(Xxr).build(){static{_(this,"DescribeUserPoolCommand")}},cZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPoolDomain",{}).n("CognitoIdentityProviderClient","DescribeUserPoolDomainCommand").f(void 0,void 0).ser(Gwr).de(Yxr).build(){static{_(this,"DescribeUserPoolDomainCommand")}},lZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ForgetDevice",{}).n("CognitoIdentityProviderClient","ForgetDeviceCommand").f(QYe,void 0).ser(Vwr).de(Qxr).build(){static{_(this,"ForgetDeviceCommand")}},dZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ForgotPassword",{}).n("CognitoIdentityProviderClient","ForgotPasswordCommand").f(ZYe,void 0).ser(Wwr).de(Zxr).build(){static{_(this,"ForgotPasswordCommand")}},uZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetCSVHeader",{}).n("CognitoIdentityProviderClient","GetCSVHeaderCommand").f(void 0,void 0).ser(Kwr).de(eAr).build(){static{_(this,"GetCSVHeaderCommand")}},mZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetDevice",{}).n("CognitoIdentityProviderClient","GetDeviceCommand").f(e7e,t7e).ser(Xwr).de(tAr).build(){static{_(this,"GetDeviceCommand")}},fZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetGroup",{}).n("CognitoIdentityProviderClient","GetGroupCommand").f(void 0,void 0).ser(Jwr).de(rAr).build(){static{_(this,"GetGroupCommand")}},pZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetIdentityProviderByIdentifier",{}).n("CognitoIdentityProviderClient","GetIdentityProviderByIdentifierCommand").f(void 0,void 0).ser(Ywr).de(nAr).build(){static{_(this,"GetIdentityProviderByIdentifierCommand")}},gZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetLogDeliveryConfiguration",{}).n("CognitoIdentityProviderClient","GetLogDeliveryConfigurationCommand").f(void 0,void 0).ser(Qwr).de(sAr).build(){static{_(this,"GetLogDeliveryConfigurationCommand")}},hZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetSigningCertificate",{}).n("CognitoIdentityProviderClient","GetSigningCertificateCommand").f(void 0,void 0).ser(Zwr).de(iAr).build(){static{_(this,"GetSigningCertificateCommand")}},yZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetTokensFromRefreshToken",{}).n("CognitoIdentityProviderClient","GetTokensFromRefreshTokenCommand").f(r7e,n7e).ser(e0r).de(oAr).build(){static{_(this,"GetTokensFromRefreshTokenCommand")}},_Ze=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUICustomization",{}).n("CognitoIdentityProviderClient","GetUICustomizationCommand").f(s7e,i7e).ser(t0r).de(aAr).build(){static{_(this,"GetUICustomizationCommand")}},SZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserAttributeVerificationCode",{}).n("CognitoIdentityProviderClient","GetUserAttributeVerificationCodeCommand").f(c7e,void 0).ser(n0r).de(lAr).build(){static{_(this,"GetUserAttributeVerificationCodeCommand")}},vZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserAuthFactors",{}).n("CognitoIdentityProviderClient","GetUserAuthFactorsCommand").f(y7e,_7e).ser(s0r).de(dAr).build(){static{_(this,"GetUserAuthFactorsCommand")}},EZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUser",{}).n("CognitoIdentityProviderClient","GetUserCommand").f(o7e,a7e).ser(r0r).de(cAr).build(){static{_(this,"GetUserCommand")}},CZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserPoolMfaConfig",{}).n("CognitoIdentityProviderClient","GetUserPoolMfaConfigCommand").f(void 0,void 0).ser(i0r).de(uAr).build(){static{_(this,"GetUserPoolMfaConfigCommand")}},bZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GlobalSignOut",{}).n("CognitoIdentityProviderClient","GlobalSignOutCommand").f(S7e,void 0).ser(o0r).de(mAr).build(){static{_(this,"GlobalSignOutCommand")}},wZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","InitiateAuth",{}).n("CognitoIdentityProviderClient","InitiateAuthCommand").f(v7e,E7e).ser(a0r).de(fAr).build(){static{_(this,"InitiateAuthCommand")}},xZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListDevices",{}).n("CognitoIdentityProviderClient","ListDevicesCommand").f(C7e,b7e).ser(c0r).de(pAr).build(){static{_(this,"ListDevicesCommand")}},yee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListGroups",{}).n("CognitoIdentityProviderClient","ListGroupsCommand").f(void 0,void 0).ser(l0r).de(gAr).build(){static{_(this,"ListGroupsCommand")}},_ee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListIdentityProviders",{}).n("CognitoIdentityProviderClient","ListIdentityProvidersCommand").f(void 0,void 0).ser(d0r).de(hAr).build(){static{_(this,"ListIdentityProvidersCommand")}},See=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListResourceServers",{}).n("CognitoIdentityProviderClient","ListResourceServersCommand").f(void 0,void 0).ser(u0r).de(yAr).build(){static{_(this,"ListResourceServersCommand")}},AZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListTagsForResource",{}).n("CognitoIdentityProviderClient","ListTagsForResourceCommand").f(void 0,void 0).ser(m0r).de(_Ar).build(){static{_(this,"ListTagsForResourceCommand")}},PZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserImportJobs",{}).n("CognitoIdentityProviderClient","ListUserImportJobsCommand").f(void 0,void 0).ser(f0r).de(SAr).build(){static{_(this,"ListUserImportJobsCommand")}},vee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserPoolClients",{}).n("CognitoIdentityProviderClient","ListUserPoolClientsCommand").f(void 0,x7e).ser(p0r).de(vAr).build(){static{_(this,"ListUserPoolClientsCommand")}},Eee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserPools",{}).n("CognitoIdentityProviderClient","ListUserPoolsCommand").f(void 0,void 0).ser(g0r).de(EAr).build(){static{_(this,"ListUserPoolsCommand")}},Cee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUsers",{}).n("CognitoIdentityProviderClient","ListUsersCommand").f(void 0,A7e).ser(h0r).de(CAr).build(){static{_(this,"ListUsersCommand")}},bee=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUsersInGroup",{}).n("CognitoIdentityProviderClient","ListUsersInGroupCommand").f(void 0,P7e).ser(y0r).de(bAr).build(){static{_(this,"ListUsersInGroupCommand")}},RZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListWebAuthnCredentials",{}).n("CognitoIdentityProviderClient","ListWebAuthnCredentialsCommand").f(R7e,void 0).ser(_0r).de(wAr).build(){static{_(this,"ListWebAuthnCredentialsCommand")}},IZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ResendConfirmationCode",{}).n("CognitoIdentityProviderClient","ResendConfirmationCodeCommand").f(I7e,void 0).ser(S0r).de(xAr).build(){static{_(this,"ResendConfirmationCodeCommand")}},TZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","RespondToAuthChallenge",{}).n("CognitoIdentityProviderClient","RespondToAuthChallengeCommand").f(T7e,O7e).ser(v0r).de(AAr).build(){static{_(this,"RespondToAuthChallengeCommand")}},OZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","RevokeToken",{}).n("CognitoIdentityProviderClient","RevokeTokenCommand").f(N7e,void 0).ser(E0r).de(PAr).build(){static{_(this,"RevokeTokenCommand")}},NZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetLogDeliveryConfiguration",{}).n("CognitoIdentityProviderClient","SetLogDeliveryConfigurationCommand").f(void 0,void 0).ser(C0r).de(RAr).build(){static{_(this,"SetLogDeliveryConfigurationCommand")}},DZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetRiskConfiguration",{}).n("CognitoIdentityProviderClient","SetRiskConfigurationCommand").f(D7e,k7e).ser(b0r).de(IAr).build(){static{_(this,"SetRiskConfigurationCommand")}},kZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUICustomization",{}).n("CognitoIdentityProviderClient","SetUICustomizationCommand").f(M7e,L7e).ser(w0r).de(TAr).build(){static{_(this,"SetUICustomizationCommand")}},MZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserMFAPreference",{}).n("CognitoIdentityProviderClient","SetUserMFAPreferenceCommand").f(U7e,void 0).ser(x0r).de(OAr).build(){static{_(this,"SetUserMFAPreferenceCommand")}},LZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserPoolMfaConfig",{}).n("CognitoIdentityProviderClient","SetUserPoolMfaConfigCommand").f(void 0,void 0).ser(A0r).de(NAr).build(){static{_(this,"SetUserPoolMfaConfigCommand")}},UZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserSettings",{}).n("CognitoIdentityProviderClient","SetUserSettingsCommand").f(B7e,void 0).ser(P0r).de(DAr).build(){static{_(this,"SetUserSettingsCommand")}},BZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SignUp",{}).n("CognitoIdentityProviderClient","SignUpCommand").f(F7e,q7e).ser(R0r).de(kAr).build(){static{_(this,"SignUpCommand")}},FZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StartUserImportJob",{}).n("CognitoIdentityProviderClient","StartUserImportJobCommand").f(void 0,void 0).ser(I0r).de(MAr).build(){static{_(this,"StartUserImportJobCommand")}},qZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StartWebAuthnRegistration",{}).n("CognitoIdentityProviderClient","StartWebAuthnRegistrationCommand").f(j7e,void 0).ser(T0r).de(LAr).build(){static{_(this,"StartWebAuthnRegistrationCommand")}},jZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StopUserImportJob",{}).n("CognitoIdentityProviderClient","StopUserImportJobCommand").f(void 0,void 0).ser(O0r).de(UAr).build(){static{_(this,"StopUserImportJobCommand")}},$Ze=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","TagResource",{}).n("CognitoIdentityProviderClient","TagResourceCommand").f(void 0,void 0).ser(N0r).de(BAr).build(){static{_(this,"TagResourceCommand")}},zZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UntagResource",{}).n("CognitoIdentityProviderClient","UntagResourceCommand").f(void 0,void 0).ser(D0r).de(FAr).build(){static{_(this,"UntagResourceCommand")}},HZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateAuthEventFeedback",{}).n("CognitoIdentityProviderClient","UpdateAuthEventFeedbackCommand").f($7e,void 0).ser(k0r).de(qAr).build(){static{_(this,"UpdateAuthEventFeedbackCommand")}},GZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateDeviceStatus",{}).n("CognitoIdentityProviderClient","UpdateDeviceStatusCommand").f(z7e,void 0).ser(M0r).de(jAr).build(){static{_(this,"UpdateDeviceStatusCommand")}},VZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateGroup",{}).n("CognitoIdentityProviderClient","UpdateGroupCommand").f(void 0,void 0).ser(L0r).de($Ar).build(){static{_(this,"UpdateGroupCommand")}},WZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateIdentityProvider",{}).n("CognitoIdentityProviderClient","UpdateIdentityProviderCommand").f(void 0,void 0).ser(U0r).de(zAr).build(){static{_(this,"UpdateIdentityProviderCommand")}},KZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateManagedLoginBranding",{}).n("CognitoIdentityProviderClient","UpdateManagedLoginBrandingCommand").f(void 0,void 0).ser(B0r).de(HAr).build(){static{_(this,"UpdateManagedLoginBrandingCommand")}},XZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateResourceServer",{}).n("CognitoIdentityProviderClient","UpdateResourceServerCommand").f(void 0,void 0).ser(F0r).de(GAr).build(){static{_(this,"UpdateResourceServerCommand")}},JZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserAttributes",{}).n("CognitoIdentityProviderClient","UpdateUserAttributesCommand").f(H7e,void 0).ser(q0r).de(VAr).build(){static{_(this,"UpdateUserAttributesCommand")}},YZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPoolClient",{}).n("CognitoIdentityProviderClient","UpdateUserPoolClientCommand").f(G7e,V7e).ser($0r).de(KAr).build(){static{_(this,"UpdateUserPoolClientCommand")}},QZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPool",{}).n("CognitoIdentityProviderClient","UpdateUserPoolCommand").f(void 0,void 0).ser(j0r).de(WAr).build(){static{_(this,"UpdateUserPoolCommand")}},ZZe=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPoolDomain",{}).n("CognitoIdentityProviderClient","UpdateUserPoolDomainCommand").f(void 0,void 0).ser(z0r).de(XAr).build(){static{_(this,"UpdateUserPoolDomainCommand")}},eet=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","VerifySoftwareToken",{}).n("CognitoIdentityProviderClient","VerifySoftwareTokenCommand").f(W7e,K7e).ser(H0r).de(JAr).build(){static{_(this,"VerifySoftwareTokenCommand")}},tet=class extends h.Command.classBuilder().ep(Q).m(function(e,t,r,n){return[(0,Z.getSerdePlugin)(r,this.serialize,this.deserialize),(0,J.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","VerifyUserAttribute",{}).n("CognitoIdentityProviderClient","VerifyUserAttributeCommand").f(X7e,void 0).ser(G0r).de(YAr).build(){static{_(this,"VerifyUserAttributeCommand")}},rIr={AddCustomAttributesCommand:iQe,AdminAddUserToGroupCommand:oQe,AdminConfirmSignUpCommand:aQe,AdminCreateUserCommand:cQe,AdminDeleteUserCommand:dQe,AdminDeleteUserAttributesCommand:lQe,AdminDisableProviderForUserCommand:uQe,AdminDisableUserCommand:mQe,AdminEnableUserCommand:fQe,AdminForgetDeviceCommand:pQe,AdminGetDeviceCommand:gQe,AdminGetUserCommand:hQe,AdminInitiateAuthCommand:yQe,AdminLinkProviderForUserCommand:_Qe,AdminListDevicesCommand:SQe,AdminListGroupsForUserCommand:gee,AdminListUserAuthEventsCommand:hee,AdminRemoveUserFromGroupCommand:vQe,AdminResetUserPasswordCommand:EQe,AdminRespondToAuthChallengeCommand:CQe,AdminSetUserMFAPreferenceCommand:bQe,AdminSetUserPasswordCommand:wQe,AdminSetUserSettingsCommand:xQe,AdminUpdateAuthEventFeedbackCommand:AQe,AdminUpdateDeviceStatusCommand:PQe,AdminUpdateUserAttributesCommand:RQe,AdminUserGlobalSignOutCommand:IQe,AssociateSoftwareTokenCommand:TQe,ChangePasswordCommand:OQe,CompleteWebAuthnRegistrationCommand:NQe,ConfirmDeviceCommand:DQe,ConfirmForgotPasswordCommand:kQe,ConfirmSignUpCommand:MQe,CreateGroupCommand:LQe,CreateIdentityProviderCommand:UQe,CreateManagedLoginBrandingCommand:BQe,CreateResourceServerCommand:FQe,CreateUserImportJobCommand:qQe,CreateUserPoolCommand:$Qe,CreateUserPoolClientCommand:jQe,CreateUserPoolDomainCommand:zQe,DeleteGroupCommand:HQe,DeleteIdentityProviderCommand:GQe,DeleteManagedLoginBrandingCommand:VQe,DeleteResourceServerCommand:WQe,DeleteUserCommand:XQe,DeleteUserAttributesCommand:KQe,DeleteUserPoolCommand:YQe,DeleteUserPoolClientCommand:JQe,DeleteUserPoolDomainCommand:QQe,DeleteWebAuthnCredentialCommand:ZQe,DescribeIdentityProviderCommand:eZe,DescribeManagedLoginBrandingCommand:rZe,DescribeManagedLoginBrandingByClientCommand:tZe,DescribeResourceServerCommand:nZe,DescribeRiskConfigurationCommand:sZe,DescribeUserImportJobCommand:iZe,DescribeUserPoolCommand:aZe,DescribeUserPoolClientCommand:oZe,DescribeUserPoolDomainCommand:cZe,ForgetDeviceCommand:lZe,ForgotPasswordCommand:dZe,GetCSVHeaderCommand:uZe,GetDeviceCommand:mZe,GetGroupCommand:fZe,GetIdentityProviderByIdentifierCommand:pZe,GetLogDeliveryConfigurationCommand:gZe,GetSigningCertificateCommand:hZe,GetTokensFromRefreshTokenCommand:yZe,GetUICustomizationCommand:_Ze,GetUserCommand:EZe,GetUserAttributeVerificationCodeCommand:SZe,GetUserAuthFactorsCommand:vZe,GetUserPoolMfaConfigCommand:CZe,GlobalSignOutCommand:bZe,InitiateAuthCommand:wZe,ListDevicesCommand:xZe,ListGroupsCommand:yee,ListIdentityProvidersCommand:_ee,ListResourceServersCommand:See,ListTagsForResourceCommand:AZe,ListUserImportJobsCommand:PZe,ListUserPoolClientsCommand:vee,ListUserPoolsCommand:Eee,ListUsersCommand:Cee,ListUsersInGroupCommand:bee,ListWebAuthnCredentialsCommand:RZe,ResendConfirmationCodeCommand:IZe,RespondToAuthChallengeCommand:TZe,RevokeTokenCommand:OZe,SetLogDeliveryConfigurationCommand:NZe,SetRiskConfigurationCommand:DZe,SetUICustomizationCommand:kZe,SetUserMFAPreferenceCommand:MZe,SetUserPoolMfaConfigCommand:LZe,SetUserSettingsCommand:UZe,SignUpCommand:BZe,StartUserImportJobCommand:FZe,StartWebAuthnRegistrationCommand:qZe,StopUserImportJobCommand:jZe,TagResourceCommand:$Ze,UntagResourceCommand:zZe,UpdateAuthEventFeedbackCommand:HZe,UpdateDeviceStatusCommand:GZe,UpdateGroupCommand:VZe,UpdateIdentityProviderCommand:WZe,UpdateManagedLoginBrandingCommand:KZe,UpdateResourceServerCommand:XZe,UpdateUserAttributesCommand:JZe,UpdateUserPoolCommand:QZe,UpdateUserPoolClientCommand:YZe,UpdateUserPoolDomainCommand:ZZe,VerifySoftwareTokenCommand:eet,VerifyUserAttributeCommand:tet},ret=class extends Rd{static{_(this,"CognitoIdentityProvider")}};(0,h.createAggregatedClient)(rIr,ret);var nIr=(0,Il.createPaginator)(Rd,gee,"NextToken","NextToken","Limit"),sIr=(0,Il.createPaginator)(Rd,hee,"NextToken","NextToken","MaxResults"),iIr=(0,Il.createPaginator)(Rd,yee,"NextToken","NextToken","Limit"),oIr=(0,Il.createPaginator)(Rd,_ee,"NextToken","NextToken","MaxResults"),aIr=(0,Il.createPaginator)(Rd,See,"NextToken","NextToken","MaxResults"),cIr=(0,Il.createPaginator)(Rd,vee,"NextToken","NextToken","MaxResults"),lIr=(0,Il.createPaginator)(Rd,Eee,"NextToken","NextToken","MaxResults"),dIr=(0,Il.createPaginator)(Rd,bee,"NextToken","NextToken","Limit"),uIr=(0,Il.createPaginator)(Rd,Cee,"PaginationToken","PaginationToken","Limit")});var xee=E(WI=>{"use strict";var iet=WI&&WI.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(WI,"__esModule",{value:!0});var mIr=iet(require("crypto")),mc=set(),Qs=iet(Nm()),wee=class{client;userPoolId;clientId;constructor(){let t=process.env.AWS_REGION||"ap-southeast-1",r=process.env.COGNITO_USER_POOL_ID,n=process.env.COGNITO_CLIENT_ID;if(!r||!n)throw new Error("Missing required Cognito environment variables");Qs.default.info("Cognito service initialization",{region:t,userPoolId:r,clientId:n}),this.client=new mc.CognitoIdentityProviderClient({region:t}),this.userPoolId=r,this.clientId=n}generateSecretHash(t){let r=process.env.COGNITO_CLIENT_SECRET;return r?mIr.default.createHmac("SHA256",r).update(t+this.clientId).digest("base64"):""}async registerUser(t,r,n){try{Qs.default.info("Registering user with Cognito",{email:t});let s=new mc.AdminCreateUserCommand({UserPoolId:this.userPoolId,Username:t,MessageAction:"SUPPRESS",TemporaryPassword:r,UserAttributes:[{Name:"email",Value:t},{Name:"name",Value:n},{Name:"email_verified",Value:"false"}]}),o=(await this.client.send(s)).User?.Attributes?.find(c=>c.Name==="sub")?.Value;if(!o)throw new Error("Failed to get user sub from Cognito response");let a=new mc.AdminSetUserPasswordCommand({UserPoolId:this.userPoolId,Username:t,Password:r,Permanent:!0});return await this.client.send(a),Qs.default.info("User registered successfully",{email:t,userSub:o}),{userSub:o}}catch(s){throw Qs.default.error("Error registering user",s,{email:t}),new Error(`Registration failed: ${s.message}`)}}async authenticateUser(t,r){try{Qs.default.info("Authenticating user",{email:t});let n={USERNAME:t,PASSWORD:r},s=this.generateSecretHash(t);s&&(n.SECRET_HASH=s);let i=new mc.AdminInitiateAuthCommand({UserPoolId:this.userPoolId,ClientId:this.clientId,AuthFlow:mc.AuthFlowType.ADMIN_NO_SRP_AUTH,AuthParameters:n}),o=await this.client.send(i);if(o.ChallengeName)return{accessToken:"",refreshToken:"",idToken:"",expiresIn:0,tokenType:"Bearer",user:{},challengeName:o.ChallengeName,session:o.Session};if(!o.AuthenticationResult)throw new Error("Authentication failed - no result returned");let{AccessToken:a,RefreshToken:c,IdToken:l,ExpiresIn:d,TokenType:u}=o.AuthenticationResult;if(!a||!c||!l)throw new Error("Authentication failed - missing tokens");let f=this.decodeIdToken(l);return Qs.default.info("User authenticated successfully",{email:t,userSub:f.sub}),{accessToken:a,refreshToken:c,idToken:l,expiresIn:d||3600,tokenType:u||"Bearer",user:f}}catch(n){throw Qs.default.error("Error authenticating user",n,{email:t}),new Error(`Authentication failed: ${n.message}`)}}async refreshToken(t){try{let r=new mc.AdminInitiateAuthCommand({UserPoolId:this.userPoolId,ClientId:this.clientId,AuthFlow:mc.AuthFlowType.REFRESH_TOKEN_AUTH,AuthParameters:{REFRESH_TOKEN:t}}),n=await this.client.send(r);if(!n.AuthenticationResult)throw new Error("Token refresh failed - no result returned");let{AccessToken:s,IdToken:i,ExpiresIn:o,TokenType:a}=n.AuthenticationResult;if(!s||!i)throw new Error("Token refresh failed - missing tokens");return{accessToken:s,refreshToken:t,idToken:i,expiresIn:o||3600,tokenType:a||"Bearer"}}catch(r){throw Qs.default.error("Error refreshing token",r),new Error(`Token refresh failed: ${r.message}`)}}async getUser(t){try{let r=new mc.AdminGetUserCommand({UserPoolId:this.userPoolId,Username:t}),n=await this.client.send(r);if(!n.UserAttributes)throw new Error("User not found");let s=n.UserAttributes.reduce((i,o)=>(o.Name&&o.Value&&(i[o.Name]=o.Value),i),{});return{sub:s.sub,email:s.email,name:s.name,email_verified:s.email_verified==="true",preferred_username:s.preferred_username}}catch(r){throw Qs.default.error("Error getting user",r,{username:t}),new Error(`Failed to get user: ${r.message}`)}}async updateUser(t,r){try{let n=Object.entries(r).map(([i,o])=>({Name:i,Value:o})),s=new mc.AdminUpdateUserAttributesCommand({UserPoolId:this.userPoolId,Username:t,UserAttributes:n});await this.client.send(s),Qs.default.info("User updated successfully",{username:t})}catch(n){throw Qs.default.error("Error updating user",n,{username:t}),new Error(`Failed to update user: ${n.message}`)}}async forgotPassword(t){try{let r={Username:t},n=this.generateSecretHash(t);n&&(r.SecretHash=n);let s={ClientId:this.clientId,Username:t,...r.SecretHash?{SecretHash:r.SecretHash}:{}},i=new mc.ForgotPasswordCommand(s);await this.client.send(i),Qs.default.info("Forgot password initiated",{email:t})}catch(r){throw Qs.default.error("Error initiating forgot password",r,{email:t}),new Error(`Forgot password failed: ${r.message}`)}}async confirmForgotPassword(t,r,n){try{let s={Username:t,ConfirmationCode:r,Password:n},i=this.generateSecretHash(t);i&&(s.SecretHash=i);let o={ClientId:this.clientId,Username:t,ConfirmationCode:r,Password:n,...s.SecretHash?{SecretHash:s.SecretHash}:{}},a=new mc.ConfirmForgotPasswordCommand(o);await this.client.send(a),Qs.default.info("Password reset confirmed",{email:t})}catch(s){throw Qs.default.error("Error confirming password reset",s,{email:t}),new Error(`Password reset confirmation failed: ${s.message}`)}}async globalSignOut(t){try{let r=new mc.GlobalSignOutCommand({AccessToken:t});await this.client.send(r),Qs.default.info("User signed out globally")}catch(r){throw Qs.default.error("Error signing out user",r),new Error(`Sign out failed: ${r.message}`)}}async deleteUser(t){try{let r=new mc.AdminDeleteUserCommand({UserPoolId:this.userPoolId,Username:t});await this.client.send(r),Qs.default.info("User deleted from Cognito",{username:t})}catch(r){throw Qs.default.error("Error deleting user",r,{username:t}),new Error(`Failed to delete user: ${r.message}`)}}async verifyToken(t){try{return this.decodeIdToken(t)}catch(r){throw Qs.default.error("Error verifying token",r),new Error(`Token verification failed: ${r.message}`)}}decodeIdToken(t){try{let r=t.split(".")[1],n=JSON.parse(Buffer.from(r,"base64").toString());return{sub:n.sub,email:n.email,name:n.name,email_verified:n.email_verified,preferred_username:n.preferred_username}}catch{throw new Error("Invalid token format")}}};WI.default=new wee});var oet=E(Cb=>{"use strict";var Aee=Cb&&Cb.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.verifyAuthToken=gIr;Cb.verifyAuthTokenSimple=hIr;var fIr=Aee(xee()),pIr=Aee(eK()),L1=Aee(Nm());async function gIr(e){if(!e?.startsWith("Bearer "))return null;let t=e.slice(7);try{let r=await fIr.default.verifyToken(t),s=await(await(0,pIr.default)()).user.findUnique({where:{cognitoId:r.sub},select:{id:!0,cognitoId:!0,email:!0,name:!0}});return s?{id:s.id,cognitoId:s.cognitoId,email:s.email,name:s.name||void 0}:null}catch(r){return L1.default.error("verifyAuthTokenSimple failed",r instanceof Error?r:void 0),null}}async function hIr(e){if(!e?.startsWith("Bearer "))return null;let t=e.slice(7);try{let n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=n+"=".repeat((4-n.length%4)%4),i=JSON.parse(Buffer.from(s,"base64").toString());L1.default.info("verifyAuthTokenSimple decoded token",{hasSub:!!i?.sub,hasEmail:!!i?.email});let o=i.sub||i["custom:userId"];return o?{id:o,cognitoId:o,email:i.email??"",name:i.name||void 0}:(L1.default.warn("verifyAuthTokenSimple missing user identifier"),null)}catch(r){return L1.default.error("verifyAuthTokenSimple failed",r instanceof Error?r:void 0),null}}});var cet=E(C_=>{"use strict";var aet=C_&&C_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(C_,"__esModule",{value:!0});C_.ImagePreprocessingService=void 0;var Pee=aet(require("sharp")),If=aet(Nm()),U1=class{static DEFAULT_OPTIONS={storage:{purpose:"storage",quality:85,maxWidth:2048,maxHeight:2048,format:"jpeg",optimize:!0,removeMetadata:!0},ocr:{purpose:"ocr",quality:95,maxWidth:3e3,maxHeight:3e3,format:"jpeg",optimize:!1,removeMetadata:!0},thumbnail:{purpose:"thumbnail",quality:75,maxWidth:300,maxHeight:300,format:"webp",optimize:!0,removeMetadata:!0},avatar:{purpose:"avatar",quality:80,maxWidth:512,maxHeight:512,format:"webp",optimize:!0,removeMetadata:!0},"web-display":{purpose:"web-display",quality:80,maxWidth:1920,maxHeight:1080,format:"webp",optimize:!0,removeMetadata:!0}};static async processImage(t,r={}){let n=Date.now(),s=[],i=[];try{let o=r.purpose||"storage",c={...this.DEFAULT_OPTIONS[o]||this.DEFAULT_OPTIONS.storage,...r};If.default.info("Starting image preprocessing",{purpose:c.purpose,inputSize:t.length,targetFormat:c.format});let l=(0,Pee.default)(t),d=await l.metadata();if(!d.width||!d.height||!d.format)throw new Error("Unable to read image metadata");let u=l.clone();d.orientation&&d.orientation>1&&(u=u.rotate(),s.push("Auto-rotated based on EXIF orientation"));let{resizedImage:f,resizeApplied:p,actualDimensions:g}=await this.applyResizing(u,d,c);u=f,p&&g&&s.push(`Resized to fit ${g.width}x${g.height}`),u=await this.applyPurposeSpecificEnhancements(u,c,s,i),c.removeMetadata&&(u=u.withMetadata({}),s.push("Removed EXIF metadata for privacy"));let{finalImage:S,outputFormat:b}=await this.applyOutputFormat(u,d.format,c,s),A=await S.toBuffer(),P=await(0,Pee.default)(A).metadata(),M=Date.now()-n,N=(t.length-A.length)/t.length*100;return If.default.info("Image preprocessing completed",{purpose:c.purpose,originalSize:t.length,processedSize:A.length,compressionRatio:`${N.toFixed(1)}%`,processingTime:`${M}ms`,optimizations:s.length}),{buffer:A,metadata:{originalSize:t.length,processedSize:A.length,compressionRatio:Math.round(N*100)/100,originalFormat:d.format,outputFormat:b,originalDimensions:{width:d.width,height:d.height},processedDimensions:{width:P.width||0,height:P.height||0},processingTime:M},optimizations:s,warnings:i}}catch(o){let a=Date.now()-n;throw If.default.error("Image preprocessing failed",o instanceof Error?o:void 0,{processingTime:`${a}ms`}),new Error(`Image preprocessing failed: ${o instanceof Error?o.message:"Unknown error"}`)}}static async applyResizing(t,r,n){if(!r.width||!r.height||!n.maxWidth||!n.maxHeight)return{resizedImage:t,resizeApplied:!1};if(!(r.width>n.maxWidth||r.height>n.maxHeight))return{resizedImage:t,resizeApplied:!1};let i=t.resize(n.maxWidth,n.maxHeight,{fit:n.maintainAspectRatio!==!1?"inside":"fill",withoutEnlargement:!0,kernel:Pee.default.kernel.lanczos3}),o=r.width/r.height,a=n.maxWidth/n.maxHeight,c,l;return o>a?(c=n.maxWidth,l=Math.round(n.maxWidth/o)):(l=n.maxHeight,c=Math.round(n.maxHeight*o)),{resizedImage:i,resizeApplied:!0,actualDimensions:{width:c,height:l}}}static async applyPurposeSpecificEnhancements(t,r,n,s){let i=t;switch(r.purpose){case"ocr":i=i.grayscale().normalize().sharpen(1,1,2),n.push("Applied OCR optimizations (grayscale, normalize, sharpen)");break;case"avatar":i=i.blur(.3).sharpen(.5,1,2),n.push("Applied avatar optimizations (slight blur and sharpen)");break;case"thumbnail":i=i.sharpen(.8,1,2),n.push("Applied thumbnail sharpening for clarity at small sizes");break;case"web-display":i=i.sharpen(.5,1,2),n.push("Applied web display optimizations");break;case"storage":default:i=i.sharpen(.3,1,1),n.push("Applied storage optimizations (light sharpening)");break}return i}static async applyOutputFormat(t,r,n,s){let i=n.format||"auto";i==="auto"&&(i=this.selectOptimalFormat(r,n.purpose),s.push(`Auto-selected ${i} format for ${n.purpose}`));let o;switch(i){case"jpeg":o=t.jpeg({quality:n.quality||85,progressive:!0,mozjpeg:!0});break;case"webp":o=t.webp({quality:n.quality||80,effort:n.optimize?6:3});break;case"png":o=t.png({quality:n.quality||90,progressive:!0,compressionLevel:n.optimize?9:6});break;default:throw new Error(`Unsupported output format: ${i}`)}return{finalImage:o,outputFormat:i}}static selectOptimalFormat(t,r){return r==="ocr"?"jpeg":t==="png"?r==="web-display"?"webp":"png":r==="thumbnail"||r==="web-display"?"webp":"jpeg"}static async processBatch(t,r={}){let n=new Array(t.length);If.default.info("Starting batch image preprocessing",{imageCount:t.length,purpose:r.purpose||"storage"});let s=t.map(async(i,o)=>{try{let a=await this.processImage(i.buffer,r);n[o]={name:i.name,result:a}}catch(a){let c=a instanceof Error?a.message:"Unknown error";If.default.error("Batch processing failed for image",a instanceof Error?a:void 0,{imageName:i.name}),n[o]={name:i.name,error:c}}});return await Promise.all(s),If.default.info("Batch image preprocessing completed",{totalImages:t.length,successfulImages:n.filter(i=>i.result).length,failedImages:n.filter(i=>i.error).length}),n}static getOptionsForUseCase(t){return{...this.DEFAULT_OPTIONS[t]}}static async createVariants(t,r){let n={};If.default.info("Creating image variants",{inputSize:t.length,variantCount:r.length});let s=r.map(async i=>{try{let o=await this.processImage(t,i.options);n[i.name]=o}catch(o){throw If.default.error("Variant creation failed",o instanceof Error?o:void 0,{variantName:i.name}),o}});return await Promise.all(s),If.default.info("Image variants created successfully",{variantNames:Object.keys(n)}),n}};C_.ImagePreprocessingService=U1;C_.default=U1});var uet=E(Tf=>{"use strict";var det=Tf&&Tf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.ImageValidationService=Tf.AppError=void 0;var yIr=det(require("sharp")),b_=det(Nm()),B1=class extends Error{statusCode;constructor(t,r=500){super(t),this.statusCode=r,this.name="AppError",Error.captureStackTrace(this,this.constructor)}};Tf.AppError=B1;var F1=class{static DEFAULT_CONFIG={maxFileSize:10*1024*1024,maxWidth:4096,maxHeight:4096,minWidth:32,minHeight:32,maxFiles:5,maxAspectRatio:10,allowedFormats:["jpeg","jpg","png","gif","webp","bmp","tiff"]};static async validateImage(t,r,n={}){let s={...this.DEFAULT_CONFIG,...n},i={isValid:!0,errors:[],warnings:[]};try{if(b_.default.debug("Starting image validation",{fileName:r,bufferSize:t.length}),t.length>s.maxFileSize&&i.errors.push(`File size ${(t.length/1024/1024).toFixed(2)}MB exceeds maximum allowed size of ${(s.maxFileSize/1024/1024).toFixed(2)}MB`),t.length===0)return i.errors.push("File is empty"),i.isValid=!1,i;let o,a;try{o=(0,yIr.default)(t),a=await o.metadata()}catch{return i.errors.push("Invalid image format or corrupted file"),i.isValid=!1,i}if(!a.format)return i.errors.push("Unable to determine image format"),i.isValid=!1,i;s.allowedFormats.includes(a.format.toLowerCase())||i.errors.push(`Format '${a.format}' not allowed. Supported formats: ${s.allowedFormats.join(", ")}`);let c=a.width||0,l=a.height||0;if(c===0||l===0)return i.errors.push("Unable to determine image dimensions"),i.isValid=!1,i;(c<s.minWidth||l<s.minHeight)&&i.errors.push(`Image dimensions ${c}x${l} are too small. Minimum required: ${s.minWidth}x${s.minHeight}`),(c>s.maxWidth||l>s.maxHeight)&&i.errors.push(`Image dimensions ${c}x${l} are too large. Maximum allowed: ${s.maxWidth}x${s.maxHeight}`);let d=c/l;s.maxAspectRatio&&d>s.maxAspectRatio&&i.errors.push(`Image aspect ratio ${d.toFixed(2)}:1 exceeds maximum allowed ratio of ${s.maxAspectRatio}:1`),s.maxAspectRatio&&1/d>s.maxAspectRatio&&i.errors.push(`Image aspect ratio 1:${(1/d).toFixed(2)} exceeds maximum allowed ratio of 1:${s.maxAspectRatio}`),s.requireSquareAspect&&Math.abs(d-1)>.1&&i.errors.push("Image must have a square aspect ratio (1:1)");let u=a.channels||0,f=a.hasAlpha||!1;return t.length>5*1024*1024&&i.warnings.push("Large file size may result in slower processing"),c*l>16*1024*1024&&i.warnings.push("Very high resolution image may require significant processing time"),a.space&&!["srgb","rgb"].includes(a.space.toLowerCase())&&i.warnings.push(`Unusual color space detected: ${a.space}. Image may be converted to sRGB`),await this.performSecurityChecks(t,a,i,s),i.metadata={format:a.format,width:c,height:l,size:t.length,aspectRatio:Math.round(d*100)/100,hasAlpha:f,channels:u,density:a.density||72},i.isValid=i.errors.length===0,b_.default.info("Image validation completed",{fileName:r,isValid:i.isValid,errors:i.errors.length,warnings:i.warnings.length,dimensions:`${c}x${l}`,format:a.format}),i}catch(o){return b_.default.error("Image validation failed",o instanceof Error?o:void 0,{fileName:r}),i.errors.push("Validation process failed"),i.isValid=!1,i}}static async validateImages(t,r={}){let n={...this.DEFAULT_CONFIG,...r};if(t.length>n.maxFiles)throw new B1(`Too many files. Maximum ${n.maxFiles} files allowed, received ${t.length}`,400);let s=[],i=0,o=0,a=0;for(let d of t){let u=await this.validateImage(d.buffer,d.originalName,r);s.push(u),u.isValid&&i++,o+=u.errors.length,a+=u.warnings.length}let c=i===t.length,l=`${i}/${t.length} files valid, ${o} errors, ${a} warnings`;return b_.default.info("Batch image validation completed",{totalFiles:t.length,validFiles:i,totalErrors:o,totalWarnings:a,overallValid:c}),{results:s,overallValid:c,summary:l}}static async performSecurityChecks(t,r,n,s){try{let i=t.subarray(0,Math.min(512,t.length)),o=[Buffer.from("<script","utf8"),Buffer.from("javascript:","utf8"),Buffer.from("<?php","utf8"),Buffer.from("<%","utf8")];if(s.lenientSecurity){let c=t.subarray(0,Math.min(512,t.length));for(let l of o)if(c.includes(l)){n.warnings.push("Potential suspicious pattern detected in image header (likely false positive for business card)"),b_.default.debug("Suspicious pattern detected in business card image header (lenient mode)",{pattern:l.toString()});break}}else{let c=t.subarray(0,Math.min(1024,t.length));for(let l of o)if(c.includes(l)){n.warnings.push("Potential suspicious pattern detected in image header (may be false positive)"),b_.default.warn("Suspicious pattern detected in image header",{pattern:l.toString()});break}}for(let c of o)if(i.includes(c)){n.warnings.push("Potential embedded content detected in image metadata");break}let a={jpeg:[Buffer.from([255,216,255])],png:[Buffer.from([137,80,78,71,13,10,26,10])],gif:[Buffer.from("GIF87a","ascii"),Buffer.from("GIF89a","ascii")],bmp:[Buffer.from([66,77])],webp:[Buffer.from("WEBP","ascii")]};if(r.format&&a[r.format]&&(a[r.format].some(d=>t.subarray(0,d.length).equals(d)||t.includes(d))||n.warnings.push(`File signature doesn't match expected format for ${r.format}`)),r.width&&r.height){let c=r.width*r.height,l=t.length/c;l<.1?n.warnings.push("Unusually high compression detected"):l>10&&n.warnings.push("Unusually low compression detected")}}catch(i){b_.default.warn("Security check failed",{error:i instanceof Error?i.message:"Unknown error"})}}static getConfigForUseCase(t){let r={...this.DEFAULT_CONFIG};switch(t){case"business-card":return{...r,maxFileSize:5*1024*1024,maxWidth:2048,maxHeight:2048,minWidth:200,minHeight:200,maxAspectRatio:2.5,allowedFormats:["jpeg","jpg","png","webp"],lenientSecurity:!0};case"profile-avatar":return{...r,maxFileSize:2*1024*1024,maxWidth:1024,maxHeight:1024,minWidth:64,minHeight:64,requireSquareAspect:!0,allowedFormats:["jpeg","jpg","png","webp"]};case"document":return{...r,maxFileSize:20*1024*1024,maxWidth:8192,maxHeight:8192,minWidth:100,minHeight:100,maxAspectRatio:5,allowedFormats:["jpeg","jpg","png","tiff","webp"]};default:return r}}};Tf.ImageValidationService=F1;Tf.default=F1});var Iee=E(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.resolveHttpAuthSchemeConfig=Qg.defaultTextractHttpAuthSchemeProvider=Qg.defaultTextractHttpAuthSchemeParametersProvider=void 0;var _Ir=(Es(),H(Na)),Ree=Ra(),SIr=async(e,t,r)=>({operation:(0,Ree.getSmithyContext)(t).operation,region:await(0,Ree.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Qg.defaultTextractHttpAuthSchemeParametersProvider=SIr;function vIr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"textract",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var EIr=e=>{let t=[];switch(e.operation){default:t.push(vIr(e))}return t};Qg.defaultTextractHttpAuthSchemeProvider=EIr;var CIr=e=>{let t=(0,_Ir.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ree.normalizeProvider)(e.authSchemePreference??[])})};Qg.resolveHttpAuthSchemeConfig=CIr});var met=E((xkn,bIr)=>{bIr.exports={name:"@aws-sdk/client-textract",description:"AWS SDK for JavaScript Textract Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-textract","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo textract"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/credential-provider-node":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-textract",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-textract"}}});var Pet=E(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.ruleSet=void 0;var wet="required",Lu="fn",Uu="argv",wb="ref",fet=!0,pet="isSet",XI="booleanEquals",bb="error",KI="endpoint",Of="tree",Tee="PartitionResult",get={[wet]:!1,type:"String"},het={[wet]:!0,default:!1,type:"Boolean"},yet={[wb]:"Endpoint"},xet={[Lu]:XI,[Uu]:[{[wb]:"UseFIPS"},!0]},Aet={[Lu]:XI,[Uu]:[{[wb]:"UseDualStack"},!0]},Mu={},_et={[Lu]:"getAttr",[Uu]:[{[wb]:Tee},"supportsFIPS"]},vet={[Lu]:XI,[Uu]:[!0,{[Lu]:"getAttr",[Uu]:[{[wb]:Tee},"supportsDualStack"]}]},Eet=[xet],Cet=[Aet],bet=[{[wb]:"Region"}],wIr={version:"1.0",parameters:{Region:get,UseDualStack:het,UseFIPS:het,Endpoint:get},rules:[{conditions:[{[Lu]:pet,[Uu]:[yet]}],rules:[{conditions:Eet,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bb},{conditions:Cet,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bb},{endpoint:{url:yet,properties:Mu,headers:Mu},type:KI}],type:Of},{conditions:[{[Lu]:pet,[Uu]:bet}],rules:[{conditions:[{[Lu]:"aws.partition",[Uu]:bet,assign:Tee}],rules:[{conditions:[xet,Aet],rules:[{conditions:[{[Lu]:XI,[Uu]:[fet,_et]},vet],rules:[{endpoint:{url:"https://textract-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mu,headers:Mu},type:KI}],type:Of},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bb}],type:Of},{conditions:Eet,rules:[{conditions:[{[Lu]:XI,[Uu]:[_et,fet]}],rules:[{endpoint:{url:"https://textract-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Mu,headers:Mu},type:KI}],type:Of},{error:"FIPS is enabled but this partition does not support FIPS",type:bb}],type:Of},{conditions:Cet,rules:[{conditions:[vet],rules:[{endpoint:{url:"https://textract.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mu,headers:Mu},type:KI}],type:Of},{error:"DualStack is enabled but this partition does not support DualStack",type:bb}],type:Of},{endpoint:{url:"https://textract.{Region}.{PartitionResult#dnsSuffix}",properties:Mu,headers:Mu},type:KI}],type:Of}],type:Of},{error:"Invalid Configuration: Missing Region",type:bb}]};q1.ruleSet=wIr});var Ret=E(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.defaultEndpointResolver=void 0;var xIr=r_(),Oee=t_(),AIr=Pet(),PIr=new Oee.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),RIr=(e,t={})=>PIr.get(e,()=>(0,Oee.resolveEndpoint)(AIr.ruleSet,{endpointParams:e,logger:t.logger}));j1.defaultEndpointResolver=RIr;Oee.customEndpointFunctions.aws=xIr.awsEndpointFunctions});var Oet=E($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.getRuntimeConfig=void 0;var IIr=(Es(),H(Na)),TIr=mt(),OIr=Fg(),Iet=Eo(),Tet=ci(),NIr=Iee(),DIr=Ret(),kIr=e=>({apiVersion:"2018-06-27",base64Decoder:e?.base64Decoder??Iet.fromBase64,base64Encoder:e?.base64Encoder??Iet.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??DIr.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??NIr.defaultTextractHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new IIr.AwsSdkSigV4Signer}],logger:e?.logger??new TIr.NoOpLogger,serviceId:e?.serviceId??"Textract",urlParser:e?.urlParser??OIr.parseUrl,utf8Decoder:e?.utf8Decoder??Tet.fromUtf8,utf8Encoder:e?.utf8Encoder??Tet.toUtf8});$1.getRuntimeConfig=kIr});var Let=E(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.getRuntimeConfig=void 0;var MIr=(iI(),H(sI)),LIr=MIr.__importDefault(met()),Net=(Es(),H(Na)),UIr=see(),Det=XC(),z1=vl(),BIr=JC(),ket=xd(),w_=vf(),Met=Ag(),FIr=YC(),qIr=p_(),jIr=Oet(),$Ir=mt(),zIr=tb(),HIr=mt(),GIr=e=>{(0,HIr.emitWarningIfUnsupportedVersion)(process.version);let t=(0,zIr.resolveDefaultsModeConfig)(e),r=()=>t().then($Ir.loadConfigsForDefaultMode),n=(0,jIr.getRuntimeConfig)(e);(0,Net.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,w_.loadConfig)(Net.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??FIr.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??UIr.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Det.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:LIr.default.version}),maxAttempts:e?.maxAttempts??(0,w_.loadConfig)(ket.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,w_.loadConfig)(z1.NODE_REGION_CONFIG_OPTIONS,{...z1.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Met.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,w_.loadConfig)({...ket.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qIr.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??BIr.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Met.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,w_.loadConfig)(z1.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,w_.loadConfig)(z1.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,w_.loadConfig)(Det.NODE_APP_ID_CONFIG_OPTIONS,s)}};H1.getRuntimeConfig=GIr});var art=E((Tkn,ort)=>{"use strict";var G1=Object.defineProperty,VIr=Object.getOwnPropertyDescriptor,WIr=Object.getOwnPropertyNames,KIr=Object.prototype.hasOwnProperty,T=(e,t)=>G1(e,"name",{value:t,configurable:!0}),XIr=(e,t)=>{for(var r in t)G1(e,r,{get:t[r],enumerable:!0})},JIr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of WIr(t))!KIr.call(e,s)&&s!==r&&G1(e,s,{get:()=>t[s],enumerable:!(n=VIr(t,s))||n.enumerable});return e},YIr=e=>JIr(G1({},"__esModule",{value:!0}),e),Vet={};XIr(Vet,{AccessDeniedException:()=>Xet,AdapterVersionStatus:()=>cTr,AnalyzeDocumentCommand:()=>Ltt,AnalyzeExpenseCommand:()=>Utt,AnalyzeIDCommand:()=>Btt,AutoUpdate:()=>hTr,BadDocumentException:()=>Yet,BlockType:()=>dTr,ConflictException:()=>gtt,ContentClassifier:()=>lTr,CreateAdapterCommand:()=>Ftt,CreateAdapterVersionCommand:()=>qtt,DeleteAdapterCommand:()=>jtt,DeleteAdapterVersionCommand:()=>$tt,DetectDocumentTextCommand:()=>ztt,DocumentTooLargeException:()=>Zet,EntityType:()=>uTr,FeatureType:()=>aTr,GetAdapterCommand:()=>Htt,GetAdapterVersionCommand:()=>Gtt,GetDocumentAnalysisCommand:()=>Vtt,GetDocumentTextDetectionCommand:()=>Wtt,GetExpenseAnalysisCommand:()=>Ktt,GetLendingAnalysisCommand:()=>Xtt,GetLendingAnalysisSummaryCommand:()=>Jtt,HumanLoopQuotaExceededException:()=>ttt,IdempotentParameterMismatchException:()=>ytt,InternalServerError:()=>ntt,InvalidJobIdException:()=>Itt,InvalidKMSKeyException:()=>xtt,InvalidParameterException:()=>itt,InvalidS3ObjectException:()=>att,JobStatus:()=>yTr,LimitExceededException:()=>Stt,ListAdapterVersionsCommand:()=>kee,ListAdaptersCommand:()=>Dee,ListTagsForResourceCommand:()=>Ytt,ProvisionedThroughputExceededException:()=>ltt,RelationshipType:()=>mTr,ResourceNotFoundException:()=>Ptt,SelectionStatus:()=>fTr,ServiceQuotaExceededException:()=>Ett,StartDocumentAnalysisCommand:()=>Qtt,StartDocumentTextDetectionCommand:()=>Ztt,StartExpenseAnalysisCommand:()=>ert,StartLendingAnalysisCommand:()=>trt,TagResourceCommand:()=>rrt,TextType:()=>pTr,Textract:()=>irt,TextractClient:()=>V1,TextractServiceException:()=>Zs,ThrottlingException:()=>utt,UnsupportedDocumentException:()=>ftt,UntagResourceCommand:()=>nrt,UpdateAdapterCommand:()=>srt,ValidationException:()=>btt,ValueType:()=>gTr,__Client:()=>R.Client,paginateListAdapterVersions:()=>MNr,paginateListAdapters:()=>LNr});ort.exports=YIr(Vet);var Uet=RC(),QIr=IC(),ZIr=TC(),Bet=u_(),eTr=vl(),JI=(Co(),H(Tg)),tTr=zC(),hn=Ef(),Fet=xd(),qet=Iee(),rTr=T(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"textract"}),"resolveClientEndpointParameters"),On={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},nTr=Let(),jet=rb(),Nee=Gr(),R=mt(),sTr=T(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),iTr=T(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),oTr=T((e,t)=>{let r=Object.assign((0,jet.getAwsRegionExtensionConfiguration)(e),(0,R.getDefaultExtensionConfiguration)(e),(0,Nee.getHttpHandlerExtensionConfiguration)(e),sTr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,jet.resolveAwsRegionExtensionConfiguration)(r),(0,R.resolveDefaultRuntimeConfig)(r),(0,Nee.resolveHttpHandlerRuntimeConfig)(r),iTr(r))},"resolveRuntimeExtensions"),V1=class extends R.Client{static{T(this,"TextractClient")}config;constructor(...[e]){let t=(0,nTr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=rTr(t),n=(0,Bet.resolveUserAgentConfig)(r),s=(0,Fet.resolveRetryConfig)(n),i=(0,eTr.resolveRegionConfig)(s),o=(0,Uet.resolveHostHeaderConfig)(i),a=(0,hn.resolveEndpointConfig)(o),c=(0,qet.resolveHttpAuthSchemeConfig)(a),l=oTr(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,Bet.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Fet.getRetryPlugin)(this.config)),this.middlewareStack.use((0,tTr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Uet.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,QIr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,ZIr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,JI.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:qet.defaultTextractHttpAuthSchemeParametersProvider,identityProviderConfigProvider:T(async d=>new JI.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,JI.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Nn=uf(),Zr=(Es(),H(Na)),Wet=(sq(),H(jY)),Zs=class Ket extends R.ServiceException{static{T(this,"TextractServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Ket.prototype)}},Xet=class Jet extends Zs{static{T(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";Message;Code;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,Jet.prototype),this.Message=t.Message,this.Code=t.Code}},aTr={FORMS:"FORMS",LAYOUT:"LAYOUT",QUERIES:"QUERIES",SIGNATURES:"SIGNATURES",TABLES:"TABLES"},cTr={ACTIVE:"ACTIVE",AT_RISK:"AT_RISK",CREATION_ERROR:"CREATION_ERROR",CREATION_IN_PROGRESS:"CREATION_IN_PROGRESS",DEPRECATED:"DEPRECATED"},lTr={FREE_OF_ADULT_CONTENT:"FreeOfAdultContent",FREE_OF_PERSONALLY_IDENTIFIABLE_INFORMATION:"FreeOfPersonallyIdentifiableInformation"},dTr={CELL:"CELL",KEY_VALUE_SET:"KEY_VALUE_SET",LAYOUT_FIGURE:"LAYOUT_FIGURE",LAYOUT_FOOTER:"LAYOUT_FOOTER",LAYOUT_HEADER:"LAYOUT_HEADER",LAYOUT_KEY_VALUE:"LAYOUT_KEY_VALUE",LAYOUT_LIST:"LAYOUT_LIST",LAYOUT_PAGE_NUMBER:"LAYOUT_PAGE_NUMBER",LAYOUT_SECTION_HEADER:"LAYOUT_SECTION_HEADER",LAYOUT_TABLE:"LAYOUT_TABLE",LAYOUT_TEXT:"LAYOUT_TEXT",LAYOUT_TITLE:"LAYOUT_TITLE",LINE:"LINE",MERGED_CELL:"MERGED_CELL",PAGE:"PAGE",QUERY:"QUERY",QUERY_RESULT:"QUERY_RESULT",SELECTION_ELEMENT:"SELECTION_ELEMENT",SIGNATURE:"SIGNATURE",TABLE:"TABLE",TABLE_FOOTER:"TABLE_FOOTER",TABLE_TITLE:"TABLE_TITLE",TITLE:"TITLE",WORD:"WORD"},uTr={COLUMN_HEADER:"COLUMN_HEADER",KEY:"KEY",SEMI_STRUCTURED_TABLE:"SEMI_STRUCTURED_TABLE",STRUCTURED_TABLE:"STRUCTURED_TABLE",TABLE_FOOTER:"TABLE_FOOTER",TABLE_SECTION_TITLE:"TABLE_SECTION_TITLE",TABLE_SUMMARY:"TABLE_SUMMARY",TABLE_TITLE:"TABLE_TITLE",VALUE:"VALUE"},mTr={ANSWER:"ANSWER",CHILD:"CHILD",COMPLEX_FEATURES:"COMPLEX_FEATURES",MERGED_CELL:"MERGED_CELL",TABLE:"TABLE",TABLE_FOOTER:"TABLE_FOOTER",TABLE_TITLE:"TABLE_TITLE",TITLE:"TITLE",VALUE:"VALUE"},fTr={NOT_SELECTED:"NOT_SELECTED",SELECTED:"SELECTED"},pTr={HANDWRITING:"HANDWRITING",PRINTED:"PRINTED"},Yet=class Qet extends Zs{static{T(this,"BadDocumentException")}name="BadDocumentException";$fault="client";Message;Code;constructor(t){super({name:"BadDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,Qet.prototype),this.Message=t.Message,this.Code=t.Code}},Zet=class ett extends Zs{static{T(this,"DocumentTooLargeException")}name="DocumentTooLargeException";$fault="client";Message;Code;constructor(t){super({name:"DocumentTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,ett.prototype),this.Message=t.Message,this.Code=t.Code}},ttt=class rtt extends Zs{static{T(this,"HumanLoopQuotaExceededException")}name="HumanLoopQuotaExceededException";$fault="client";ResourceType;QuotaCode;ServiceCode;Message;Code;constructor(t){super({name:"HumanLoopQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,rtt.prototype),this.ResourceType=t.ResourceType,this.QuotaCode=t.QuotaCode,this.ServiceCode=t.ServiceCode,this.Message=t.Message,this.Code=t.Code}},ntt=class stt extends Zs{static{T(this,"InternalServerError")}name="InternalServerError";$fault="server";Message;Code;constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,stt.prototype),this.Message=t.Message,this.Code=t.Code}},itt=class ott extends Zs{static{T(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";Message;Code;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,ott.prototype),this.Message=t.Message,this.Code=t.Code}},att=class ctt extends Zs{static{T(this,"InvalidS3ObjectException")}name="InvalidS3ObjectException";$fault="client";Message;Code;constructor(t){super({name:"InvalidS3ObjectException",$fault:"client",...t}),Object.setPrototypeOf(this,ctt.prototype),this.Message=t.Message,this.Code=t.Code}},ltt=class dtt extends Zs{static{T(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";Message;Code;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,dtt.prototype),this.Message=t.Message,this.Code=t.Code}},utt=class mtt extends Zs{static{T(this,"ThrottlingException")}name="ThrottlingException";$fault="server";Message;Code;constructor(t){super({name:"ThrottlingException",$fault:"server",...t}),Object.setPrototypeOf(this,mtt.prototype),this.Message=t.Message,this.Code=t.Code}},ftt=class ptt extends Zs{static{T(this,"UnsupportedDocumentException")}name="UnsupportedDocumentException";$fault="client";Message;Code;constructor(t){super({name:"UnsupportedDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,ptt.prototype),this.Message=t.Message,this.Code=t.Code}},gTr={DATE:"DATE"},hTr={DISABLED:"DISABLED",ENABLED:"ENABLED"},gtt=class htt extends Zs{static{T(this,"ConflictException")}name="ConflictException";$fault="client";Message;Code;constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,htt.prototype),this.Message=t.Message,this.Code=t.Code}},ytt=class _tt extends Zs{static{T(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;Code;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,_tt.prototype),this.Message=t.Message,this.Code=t.Code}},Stt=class vtt extends Zs{static{T(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;Code;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,vtt.prototype),this.Message=t.Message,this.Code=t.Code}},Ett=class Ctt extends Zs{static{T(this,"ServiceQuotaExceededException")}name="ServiceQuotaExceededException";$fault="client";Message;Code;constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Ctt.prototype),this.Message=t.Message,this.Code=t.Code}},btt=class wtt extends Zs{static{T(this,"ValidationException")}name="ValidationException";$fault="client";Message;Code;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,wtt.prototype),this.Message=t.Message,this.Code=t.Code}},xtt=class Att extends Zs{static{T(this,"InvalidKMSKeyException")}name="InvalidKMSKeyException";$fault="client";Message;Code;constructor(t){super({name:"InvalidKMSKeyException",$fault:"client",...t}),Object.setPrototypeOf(this,Att.prototype),this.Message=t.Message,this.Code=t.Code}},Ptt=class Rtt extends Zs{static{T(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";Message;Code;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Rtt.prototype),this.Message=t.Message,this.Code=t.Code}},yTr={FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",PARTIAL_SUCCESS:"PARTIAL_SUCCESS",SUCCEEDED:"SUCCEEDED"},Itt=class Ttt extends Zs{static{T(this,"InvalidJobIdException")}name="InvalidJobIdException";$fault="client";Message;Code;constructor(t){super({name:"InvalidJobIdException",$fault:"client",...t}),Object.setPrototypeOf(this,Ttt.prototype),this.Message=t.Message,this.Code=t.Code}},_Tr=T(async(e,t)=>{let r=yn("AnalyzeDocument"),n;return n=JSON.stringify(NOr(e,t)),kn(t,r,"/",void 0,n)},"se_AnalyzeDocumentCommand"),STr=T(async(e,t)=>{let r=yn("AnalyzeExpense"),n;return n=JSON.stringify(DOr(e,t)),kn(t,r,"/",void 0,n)},"se_AnalyzeExpenseCommand"),vTr=T(async(e,t)=>{let r=yn("AnalyzeID"),n;return n=JSON.stringify(kOr(e,t)),kn(t,r,"/",void 0,n)},"se_AnalyzeIDCommand"),ETr=T(async(e,t)=>{let r=yn("CreateAdapter"),n;return n=JSON.stringify(MOr(e,t)),kn(t,r,"/",void 0,n)},"se_CreateAdapterCommand"),CTr=T(async(e,t)=>{let r=yn("CreateAdapterVersion"),n;return n=JSON.stringify(LOr(e,t)),kn(t,r,"/",void 0,n)},"se_CreateAdapterVersionCommand"),bTr=T(async(e,t)=>{let r=yn("DeleteAdapter"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_DeleteAdapterCommand"),wTr=T(async(e,t)=>{let r=yn("DeleteAdapterVersion"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_DeleteAdapterVersionCommand"),xTr=T(async(e,t)=>{let r=yn("DetectDocumentText"),n;return n=JSON.stringify(UOr(e,t)),kn(t,r,"/",void 0,n)},"se_DetectDocumentTextCommand"),ATr=T(async(e,t)=>{let r=yn("GetAdapter"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetAdapterCommand"),PTr=T(async(e,t)=>{let r=yn("GetAdapterVersion"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetAdapterVersionCommand"),RTr=T(async(e,t)=>{let r=yn("GetDocumentAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetDocumentAnalysisCommand"),ITr=T(async(e,t)=>{let r=yn("GetDocumentTextDetection"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetDocumentTextDetectionCommand"),TTr=T(async(e,t)=>{let r=yn("GetExpenseAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetExpenseAnalysisCommand"),OTr=T(async(e,t)=>{let r=yn("GetLendingAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetLendingAnalysisCommand"),NTr=T(async(e,t)=>{let r=yn("GetLendingAnalysisSummary"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_GetLendingAnalysisSummaryCommand"),DTr=T(async(e,t)=>{let r=yn("ListAdapters"),n;return n=JSON.stringify(FOr(e,t)),kn(t,r,"/",void 0,n)},"se_ListAdaptersCommand"),kTr=T(async(e,t)=>{let r=yn("ListAdapterVersions"),n;return n=JSON.stringify(qOr(e,t)),kn(t,r,"/",void 0,n)},"se_ListAdapterVersionsCommand"),MTr=T(async(e,t)=>{let r=yn("ListTagsForResource"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),LTr=T(async(e,t)=>{let r=yn("StartDocumentAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_StartDocumentAnalysisCommand"),UTr=T(async(e,t)=>{let r=yn("StartDocumentTextDetection"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_StartDocumentTextDetectionCommand"),BTr=T(async(e,t)=>{let r=yn("StartExpenseAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_StartExpenseAnalysisCommand"),FTr=T(async(e,t)=>{let r=yn("StartLendingAnalysis"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_StartLendingAnalysisCommand"),qTr=T(async(e,t)=>{let r=yn("TagResource"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_TagResourceCommand"),jTr=T(async(e,t)=>{let r=yn("UntagResource"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_UntagResourceCommand"),$Tr=T(async(e,t)=>{let r=yn("UpdateAdapter"),n;return n=JSON.stringify((0,R._json)(e)),kn(t,r,"/",void 0,n)},"se_UpdateAdapterCommand"),zTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=WOr(r,t),{$metadata:ut(e),...n}},"de_AnalyzeDocumentCommand"),HTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=KOr(r,t),{$metadata:ut(e),...n}},"de_AnalyzeExpenseCommand"),GTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=XOr(r,t),{$metadata:ut(e),...n}},"de_AnalyzeIDCommand"),VTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_CreateAdapterCommand"),WTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_CreateAdapterVersionCommand"),KTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_DeleteAdapterCommand"),XTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_DeleteAdapterVersionCommand"),JTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=QOr(r,t),{$metadata:ut(e),...n}},"de_DetectDocumentTextCommand"),YTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=sNr(r,t),{$metadata:ut(e),...n}},"de_GetAdapterCommand"),QTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=iNr(r,t),{$metadata:ut(e),...n}},"de_GetAdapterVersionCommand"),ZTr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=oNr(r,t),{$metadata:ut(e),...n}},"de_GetDocumentAnalysisCommand"),eOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=aNr(r,t),{$metadata:ut(e),...n}},"de_GetDocumentTextDetectionCommand"),tOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=cNr(r,t),{$metadata:ut(e),...n}},"de_GetExpenseAnalysisCommand"),rOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=lNr(r,t),{$metadata:ut(e),...n}},"de_GetLendingAnalysisCommand"),nOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_GetLendingAnalysisSummaryCommand"),sOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=wNr(r,t),{$metadata:ut(e),...n}},"de_ListAdaptersCommand"),iOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=xNr(r,t),{$metadata:ut(e),...n}},"de_ListAdapterVersionsCommand"),oOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_ListTagsForResourceCommand"),aOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_StartDocumentAnalysisCommand"),cOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_StartDocumentTextDetectionCommand"),lOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_StartExpenseAnalysisCommand"),dOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_StartLendingAnalysisCommand"),uOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_TagResourceCommand"),mOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=(0,R._json)(r),{$metadata:ut(e),...n}},"de_UntagResourceCommand"),fOr=T(async(e,t)=>{if(e.statusCode>=300)return Dn(e,t);let r=await(0,Zr.parseJsonBody)(e.body,t),n={};return n=NNr(r,t),{$metadata:ut(e),...n}},"de_UpdateAdapterCommand"),Dn=T(async(e,t)=>{let r={...e,body:await(0,Zr.parseJsonErrorBody)(e.body,t)},n=(0,Zr.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.textract#AccessDeniedException":throw await pOr(r,t);case"BadDocumentException":case"com.amazonaws.textract#BadDocumentException":throw await gOr(r,t);case"DocumentTooLargeException":case"com.amazonaws.textract#DocumentTooLargeException":throw await yOr(r,t);case"HumanLoopQuotaExceededException":case"com.amazonaws.textract#HumanLoopQuotaExceededException":throw await _Or(r,t);case"InternalServerError":case"com.amazonaws.textract#InternalServerError":throw await vOr(r,t);case"InvalidParameterException":case"com.amazonaws.textract#InvalidParameterException":throw await bOr(r,t);case"InvalidS3ObjectException":case"com.amazonaws.textract#InvalidS3ObjectException":throw await wOr(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.textract#ProvisionedThroughputExceededException":throw await AOr(r,t);case"ThrottlingException":case"com.amazonaws.textract#ThrottlingException":throw await IOr(r,t);case"UnsupportedDocumentException":case"com.amazonaws.textract#UnsupportedDocumentException":throw await TOr(r,t);case"ConflictException":case"com.amazonaws.textract#ConflictException":throw await hOr(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.textract#IdempotentParameterMismatchException":throw await SOr(r,t);case"LimitExceededException":case"com.amazonaws.textract#LimitExceededException":throw await xOr(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.textract#ServiceQuotaExceededException":throw await ROr(r,t);case"ValidationException":case"com.amazonaws.textract#ValidationException":throw await OOr(r,t);case"InvalidKMSKeyException":case"com.amazonaws.textract#InvalidKMSKeyException":throw await COr(r,t);case"ResourceNotFoundException":case"com.amazonaws.textract#ResourceNotFoundException":throw await POr(r,t);case"InvalidJobIdException":case"com.amazonaws.textract#InvalidJobIdException":throw await EOr(r,t);default:let s=r.body;return DNr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),pOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Xet({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_AccessDeniedExceptionRes"),gOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Yet({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_BadDocumentExceptionRes"),hOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new gtt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ConflictExceptionRes"),yOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Zet({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_DocumentTooLargeExceptionRes"),_Or=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new ttt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_HumanLoopQuotaExceededExceptionRes"),SOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new ytt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_IdempotentParameterMismatchExceptionRes"),vOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new ntt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InternalServerErrorRes"),EOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Itt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidJobIdExceptionRes"),COr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new xtt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidKMSKeyExceptionRes"),bOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new itt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),wOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new att({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_InvalidS3ObjectExceptionRes"),xOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Stt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),AOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new ltt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ProvisionedThroughputExceededExceptionRes"),POr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Ptt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),ROr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new Ett({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ServiceQuotaExceededExceptionRes"),IOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new utt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ThrottlingExceptionRes"),TOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new ftt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_UnsupportedDocumentExceptionRes"),OOr=T(async(e,t)=>{let r=e.body,n=(0,R._json)(r),s=new btt({$metadata:ut(e),...n});return(0,R.decorateServiceException)(s,r)},"de_ValidationExceptionRes"),NOr=T((e,t)=>(0,R.take)(e,{AdaptersConfig:R._json,Document:T(r=>W1(r,t),"Document"),FeatureTypes:R._json,HumanLoopConfig:R._json,QueriesConfig:R._json}),"se_AnalyzeDocumentRequest"),DOr=T((e,t)=>(0,R.take)(e,{Document:T(r=>W1(r,t),"Document")}),"se_AnalyzeExpenseRequest"),kOr=T((e,t)=>(0,R.take)(e,{DocumentPages:T(r=>BOr(r,t),"DocumentPages")}),"se_AnalyzeIDRequest"),MOr=T((e,t)=>(0,R.take)(e,{AdapterName:[],AutoUpdate:[],ClientRequestToken:[!0,r=>r??(0,Wet.v4)()],Description:[],FeatureTypes:R._json,Tags:R._json}),"se_CreateAdapterRequest"),LOr=T((e,t)=>(0,R.take)(e,{AdapterId:[],ClientRequestToken:[!0,r=>r??(0,Wet.v4)()],DatasetConfig:R._json,KMSKeyId:[],OutputConfig:R._json,Tags:R._json}),"se_CreateAdapterVersionRequest"),UOr=T((e,t)=>(0,R.take)(e,{Document:T(r=>W1(r,t),"Document")}),"se_DetectDocumentTextRequest"),W1=T((e,t)=>(0,R.take)(e,{Bytes:t.base64Encoder,S3Object:R._json}),"se_Document"),BOr=T((e,t)=>e.filter(r=>r!=null).map(r=>W1(r,t)),"se_DocumentPages"),FOr=T((e,t)=>(0,R.take)(e,{AfterCreationTime:T(r=>r.getTime()/1e3,"AfterCreationTime"),BeforeCreationTime:T(r=>r.getTime()/1e3,"BeforeCreationTime"),MaxResults:[],NextToken:[]}),"se_ListAdaptersRequest"),qOr=T((e,t)=>(0,R.take)(e,{AdapterId:[],AfterCreationTime:T(r=>r.getTime()/1e3,"AfterCreationTime"),BeforeCreationTime:T(r=>r.getTime()/1e3,"BeforeCreationTime"),MaxResults:[],NextToken:[]}),"se_ListAdapterVersionsRequest"),jOr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$Or(n,t)),"de_AdapterList"),$Or=T((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterName:R.expectString,CreationTime:T(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),FeatureTypes:R._json}),"de_AdapterOverview"),zOr=T((e,t)=>(0,R.take)(e,{AdapterVersion:T(r=>zet(r,t),"AdapterVersion"),Baseline:T(r=>zet(r,t),"Baseline"),FeatureType:R.expectString}),"de_AdapterVersionEvaluationMetric"),HOr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zOr(n,t)),"de_AdapterVersionEvaluationMetrics"),GOr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>VOr(n,t)),"de_AdapterVersionList"),VOr=T((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterVersion:R.expectString,CreationTime:T(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),FeatureTypes:R._json,Status:R.expectString,StatusMessage:R.expectString}),"de_AdapterVersionOverview"),WOr=T((e,t)=>(0,R.take)(e,{AnalyzeDocumentModelVersion:R.expectString,Blocks:T(r=>xb(r,t),"Blocks"),DocumentMetadata:R._json,HumanLoopActivationOutput:T(r=>dNr(r,t),"HumanLoopActivationOutput")}),"de_AnalyzeDocumentResponse"),KOr=T((e,t)=>(0,R.take)(e,{DocumentMetadata:R._json,ExpenseDocuments:T(r=>Ntt(r,t),"ExpenseDocuments")}),"de_AnalyzeExpenseResponse"),$et=T((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,NormalizedValue:R._json,Text:R.expectString}),"de_AnalyzeIDDetections"),XOr=T((e,t)=>(0,R.take)(e,{AnalyzeIDModelVersion:R.expectString,DocumentMetadata:R._json,IdentityDocuments:T(r=>fNr(r,t),"IdentityDocuments")}),"de_AnalyzeIDResponse"),JOr=T((e,t)=>(0,R.take)(e,{BlockType:R.expectString,ColumnIndex:R.expectInt32,ColumnSpan:R.expectInt32,Confidence:R.limitedParseFloat32,EntityTypes:R._json,Geometry:T(r=>K1(r,t),"Geometry"),Id:R.expectString,Page:R.expectInt32,Query:R._json,Relationships:R._json,RowIndex:R.expectInt32,RowSpan:R.expectInt32,SelectionStatus:R.expectString,Text:R.expectString,TextType:R.expectString}),"de_Block"),xb=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>JOr(n,t)),"de_BlockList"),YOr=T((e,t)=>(0,R.take)(e,{Height:R.limitedParseFloat32,Left:R.limitedParseFloat32,Top:R.limitedParseFloat32,Width:R.limitedParseFloat32}),"de_BoundingBox"),QOr=T((e,t)=>(0,R.take)(e,{Blocks:T(r=>xb(r,t),"Blocks"),DetectDocumentTextModelVersion:R.expectString,DocumentMetadata:R._json}),"de_DetectDocumentTextResponse"),zet=T((e,t)=>(0,R.take)(e,{F1Score:R.limitedParseFloat32,Precision:R.limitedParseFloat32,Recall:R.limitedParseFloat32}),"de_EvaluationMetric"),ZOr=T((e,t)=>(0,R.take)(e,{Code:R.expectString,Confidence:R.limitedParseFloat32}),"de_ExpenseCurrency"),Het=T((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Geometry:T(r=>K1(r,t),"Geometry"),Text:R.expectString}),"de_ExpenseDetection"),Ott=T((e,t)=>(0,R.take)(e,{Blocks:T(r=>xb(r,t),"Blocks"),ExpenseIndex:R.expectInt32,LineItemGroups:T(r=>CNr(r,t),"LineItemGroups"),SummaryFields:T(r=>Dtt(r,t),"SummaryFields")}),"de_ExpenseDocument"),Ntt=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ott(n,t)),"de_ExpenseDocumentList"),eNr=T((e,t)=>(0,R.take)(e,{Currency:T(r=>ZOr(r,t),"Currency"),GroupProperties:R._json,LabelDetection:T(r=>Het(r,t),"LabelDetection"),PageNumber:R.expectInt32,Type:T(r=>tNr(r,t),"Type"),ValueDetection:T(r=>Het(r,t),"ValueDetection")}),"de_ExpenseField"),Dtt=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>eNr(n,t)),"de_ExpenseFieldList"),tNr=T((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Text:R.expectString}),"de_ExpenseType"),rNr=T((e,t)=>(0,R.take)(e,{ExpenseDocument:T(r=>Ott(r,t),"ExpenseDocument"),IdentityDocument:T(r=>ktt(r,t),"IdentityDocument"),LendingDocument:T(r=>gNr(r,t),"LendingDocument")}),"de_Extraction"),nNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>rNr(n,t)),"de_ExtractionList"),K1=T((e,t)=>(0,R.take)(e,{BoundingBox:T(r=>YOr(r,t),"BoundingBox"),Polygon:T(r=>RNr(r,t),"Polygon"),RotationAngle:R.limitedParseFloat32}),"de_Geometry"),sNr=T((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterName:R.expectString,AutoUpdate:R.expectString,CreationTime:T(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),Description:R.expectString,FeatureTypes:R._json,Tags:R._json}),"de_GetAdapterResponse"),iNr=T((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterVersion:R.expectString,CreationTime:T(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),DatasetConfig:R._json,EvaluationMetrics:T(r=>HOr(r,t),"EvaluationMetrics"),FeatureTypes:R._json,KMSKeyId:R.expectString,OutputConfig:R._json,Status:R.expectString,StatusMessage:R.expectString,Tags:R._json}),"de_GetAdapterVersionResponse"),oNr=T((e,t)=>(0,R.take)(e,{AnalyzeDocumentModelVersion:R.expectString,Blocks:T(r=>xb(r,t),"Blocks"),DocumentMetadata:R._json,JobStatus:R.expectString,NextToken:R.expectString,StatusMessage:R.expectString,Warnings:R._json}),"de_GetDocumentAnalysisResponse"),aNr=T((e,t)=>(0,R.take)(e,{Blocks:T(r=>xb(r,t),"Blocks"),DetectDocumentTextModelVersion:R.expectString,DocumentMetadata:R._json,JobStatus:R.expectString,NextToken:R.expectString,StatusMessage:R.expectString,Warnings:R._json}),"de_GetDocumentTextDetectionResponse"),cNr=T((e,t)=>(0,R.take)(e,{AnalyzeExpenseModelVersion:R.expectString,DocumentMetadata:R._json,ExpenseDocuments:T(r=>Ntt(r,t),"ExpenseDocuments"),JobStatus:R.expectString,NextToken:R.expectString,StatusMessage:R.expectString,Warnings:R._json}),"de_GetExpenseAnalysisResponse"),lNr=T((e,t)=>(0,R.take)(e,{AnalyzeLendingModelVersion:R.expectString,DocumentMetadata:R._json,JobStatus:R.expectString,NextToken:R.expectString,Results:T(r=>SNr(r,t),"Results"),StatusMessage:R.expectString,Warnings:R._json}),"de_GetLendingAnalysisResponse"),dNr=T((e,t)=>(0,R.take)(e,{HumanLoopActivationConditionsEvaluationResults:R.LazyJsonString.from,HumanLoopActivationReasons:R._json,HumanLoopArn:R.expectString}),"de_HumanLoopActivationOutput"),ktt=T((e,t)=>(0,R.take)(e,{Blocks:T(r=>xb(r,t),"Blocks"),DocumentIndex:R.expectInt32,IdentityDocumentFields:T(r=>mNr(r,t),"IdentityDocumentFields")}),"de_IdentityDocument"),uNr=T((e,t)=>(0,R.take)(e,{Type:T(r=>$et(r,t),"Type"),ValueDetection:T(r=>$et(r,t),"ValueDetection")}),"de_IdentityDocumentField"),mNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>uNr(n,t)),"de_IdentityDocumentFieldList"),fNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ktt(n,t)),"de_IdentityDocumentList"),Mtt=T((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Geometry:T(r=>K1(r,t),"Geometry"),SelectionStatus:R.expectString,Text:R.expectString}),"de_LendingDetection"),pNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Mtt(n,t)),"de_LendingDetectionList"),gNr=T((e,t)=>(0,R.take)(e,{LendingFields:T(r=>yNr(r,t),"LendingFields"),SignatureDetections:T(r=>ONr(r,t),"SignatureDetections")}),"de_LendingDocument"),hNr=T((e,t)=>(0,R.take)(e,{KeyDetection:T(r=>Mtt(r,t),"KeyDetection"),Type:R.expectString,ValueDetections:T(r=>pNr(r,t),"ValueDetections")}),"de_LendingField"),yNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hNr(n,t)),"de_LendingFieldList"),_Nr=T((e,t)=>(0,R.take)(e,{Extractions:T(r=>nNr(r,t),"Extractions"),Page:R.expectInt32,PageClassification:T(r=>ANr(r,t),"PageClassification")}),"de_LendingResult"),SNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>_Nr(n,t)),"de_LendingResultList"),vNr=T((e,t)=>(0,R.take)(e,{LineItemExpenseFields:T(r=>Dtt(r,t),"LineItemExpenseFields")}),"de_LineItemFields"),ENr=T((e,t)=>(0,R.take)(e,{LineItemGroupIndex:R.expectInt32,LineItems:T(r=>bNr(r,t),"LineItems")}),"de_LineItemGroup"),CNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ENr(n,t)),"de_LineItemGroupList"),bNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>vNr(n,t)),"de_LineItemList"),wNr=T((e,t)=>(0,R.take)(e,{Adapters:T(r=>jOr(r,t),"Adapters"),NextToken:R.expectString}),"de_ListAdaptersResponse"),xNr=T((e,t)=>(0,R.take)(e,{AdapterVersions:T(r=>GOr(r,t),"AdapterVersions"),NextToken:R.expectString}),"de_ListAdapterVersionsResponse"),ANr=T((e,t)=>(0,R.take)(e,{PageNumber:T(r=>Get(r,t),"PageNumber"),PageType:T(r=>Get(r,t),"PageType")}),"de_PageClassification"),PNr=T((e,t)=>(0,R.take)(e,{X:R.limitedParseFloat32,Y:R.limitedParseFloat32}),"de_Point"),RNr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>PNr(n,t)),"de_Polygon"),INr=T((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Value:R.expectString}),"de_Prediction"),Get=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>INr(n,t)),"de_PredictionList"),TNr=T((e,t)=>(0,R.take)(e,{Confidence:R.limitedParseFloat32,Geometry:T(r=>K1(r,t),"Geometry")}),"de_SignatureDetection"),ONr=T((e,t)=>(e||[]).filter(n=>n!=null).map(n=>TNr(n,t)),"de_SignatureDetectionList"),NNr=T((e,t)=>(0,R.take)(e,{AdapterId:R.expectString,AdapterName:R.expectString,AutoUpdate:R.expectString,CreationTime:T(r=>(0,R.expectNonNull)((0,R.parseEpochTimestamp)((0,R.expectNumber)(r))),"CreationTime"),Description:R.expectString,FeatureTypes:R._json}),"de_UpdateAdapterResponse"),ut=T(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),DNr=(0,R.withBaseException)(Zs),kn=T(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Nee.HttpRequest(l)},"buildHttpRpcRequest");function yn(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`Textract.${e}`}}T(yn,"sharedHeaders");var Ltt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","AnalyzeDocument",{}).n("TextractClient","AnalyzeDocumentCommand").f(void 0,void 0).ser(_Tr).de(zTr).build(){static{T(this,"AnalyzeDocumentCommand")}},Utt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","AnalyzeExpense",{}).n("TextractClient","AnalyzeExpenseCommand").f(void 0,void 0).ser(STr).de(HTr).build(){static{T(this,"AnalyzeExpenseCommand")}},Btt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","AnalyzeID",{}).n("TextractClient","AnalyzeIDCommand").f(void 0,void 0).ser(vTr).de(GTr).build(){static{T(this,"AnalyzeIDCommand")}},Ftt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","CreateAdapter",{}).n("TextractClient","CreateAdapterCommand").f(void 0,void 0).ser(ETr).de(VTr).build(){static{T(this,"CreateAdapterCommand")}},qtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","CreateAdapterVersion",{}).n("TextractClient","CreateAdapterVersionCommand").f(void 0,void 0).ser(CTr).de(WTr).build(){static{T(this,"CreateAdapterVersionCommand")}},jtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","DeleteAdapter",{}).n("TextractClient","DeleteAdapterCommand").f(void 0,void 0).ser(bTr).de(KTr).build(){static{T(this,"DeleteAdapterCommand")}},$tt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","DeleteAdapterVersion",{}).n("TextractClient","DeleteAdapterVersionCommand").f(void 0,void 0).ser(wTr).de(XTr).build(){static{T(this,"DeleteAdapterVersionCommand")}},ztt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","DetectDocumentText",{}).n("TextractClient","DetectDocumentTextCommand").f(void 0,void 0).ser(xTr).de(JTr).build(){static{T(this,"DetectDocumentTextCommand")}},Htt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetAdapter",{}).n("TextractClient","GetAdapterCommand").f(void 0,void 0).ser(ATr).de(YTr).build(){static{T(this,"GetAdapterCommand")}},Gtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetAdapterVersion",{}).n("TextractClient","GetAdapterVersionCommand").f(void 0,void 0).ser(PTr).de(QTr).build(){static{T(this,"GetAdapterVersionCommand")}},Vtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetDocumentAnalysis",{}).n("TextractClient","GetDocumentAnalysisCommand").f(void 0,void 0).ser(RTr).de(ZTr).build(){static{T(this,"GetDocumentAnalysisCommand")}},Wtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetDocumentTextDetection",{}).n("TextractClient","GetDocumentTextDetectionCommand").f(void 0,void 0).ser(ITr).de(eOr).build(){static{T(this,"GetDocumentTextDetectionCommand")}},Ktt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetExpenseAnalysis",{}).n("TextractClient","GetExpenseAnalysisCommand").f(void 0,void 0).ser(TTr).de(tOr).build(){static{T(this,"GetExpenseAnalysisCommand")}},Xtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetLendingAnalysis",{}).n("TextractClient","GetLendingAnalysisCommand").f(void 0,void 0).ser(OTr).de(rOr).build(){static{T(this,"GetLendingAnalysisCommand")}},Jtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","GetLendingAnalysisSummary",{}).n("TextractClient","GetLendingAnalysisSummaryCommand").f(void 0,void 0).ser(NTr).de(nOr).build(){static{T(this,"GetLendingAnalysisSummaryCommand")}},Dee=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","ListAdapters",{}).n("TextractClient","ListAdaptersCommand").f(void 0,void 0).ser(DTr).de(sOr).build(){static{T(this,"ListAdaptersCommand")}},kee=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","ListAdapterVersions",{}).n("TextractClient","ListAdapterVersionsCommand").f(void 0,void 0).ser(kTr).de(iOr).build(){static{T(this,"ListAdapterVersionsCommand")}},Ytt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","ListTagsForResource",{}).n("TextractClient","ListTagsForResourceCommand").f(void 0,void 0).ser(MTr).de(oOr).build(){static{T(this,"ListTagsForResourceCommand")}},Qtt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartDocumentAnalysis",{}).n("TextractClient","StartDocumentAnalysisCommand").f(void 0,void 0).ser(LTr).de(aOr).build(){static{T(this,"StartDocumentAnalysisCommand")}},Ztt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartDocumentTextDetection",{}).n("TextractClient","StartDocumentTextDetectionCommand").f(void 0,void 0).ser(UTr).de(cOr).build(){static{T(this,"StartDocumentTextDetectionCommand")}},ert=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartExpenseAnalysis",{}).n("TextractClient","StartExpenseAnalysisCommand").f(void 0,void 0).ser(BTr).de(lOr).build(){static{T(this,"StartExpenseAnalysisCommand")}},trt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","StartLendingAnalysis",{}).n("TextractClient","StartLendingAnalysisCommand").f(void 0,void 0).ser(FTr).de(dOr).build(){static{T(this,"StartLendingAnalysisCommand")}},rrt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","TagResource",{}).n("TextractClient","TagResourceCommand").f(void 0,void 0).ser(qTr).de(uOr).build(){static{T(this,"TagResourceCommand")}},nrt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","UntagResource",{}).n("TextractClient","UntagResourceCommand").f(void 0,void 0).ser(jTr).de(mOr).build(){static{T(this,"UntagResourceCommand")}},srt=class extends R.Command.classBuilder().ep(On).m(function(e,t,r,n){return[(0,Nn.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hn.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Textract","UpdateAdapter",{}).n("TextractClient","UpdateAdapterCommand").f(void 0,void 0).ser($Tr).de(fOr).build(){static{T(this,"UpdateAdapterCommand")}},kNr={AnalyzeDocumentCommand:Ltt,AnalyzeExpenseCommand:Utt,AnalyzeIDCommand:Btt,CreateAdapterCommand:Ftt,CreateAdapterVersionCommand:qtt,DeleteAdapterCommand:jtt,DeleteAdapterVersionCommand:$tt,DetectDocumentTextCommand:ztt,GetAdapterCommand:Htt,GetAdapterVersionCommand:Gtt,GetDocumentAnalysisCommand:Vtt,GetDocumentTextDetectionCommand:Wtt,GetExpenseAnalysisCommand:Ktt,GetLendingAnalysisCommand:Xtt,GetLendingAnalysisSummaryCommand:Jtt,ListAdaptersCommand:Dee,ListAdapterVersionsCommand:kee,ListTagsForResourceCommand:Ytt,StartDocumentAnalysisCommand:Qtt,StartDocumentTextDetectionCommand:Ztt,StartExpenseAnalysisCommand:ert,StartLendingAnalysisCommand:trt,TagResourceCommand:rrt,UntagResourceCommand:nrt,UpdateAdapterCommand:srt},irt=class extends V1{static{T(this,"Textract")}};(0,R.createAggregatedClient)(kNr,irt);var MNr=(0,JI.createPaginator)(V1,kee,"NextToken","NextToken","MaxResults"),LNr=(0,JI.createPaginator)(V1,Dee,"NextToken","NextToken","MaxResults")});var drt=E(Zg=>{"use strict";var lrt=Zg&&Zg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.textractService=void 0;var Mee=art(),X1=lrt(require("sharp")),J1=aA(),Id=lrt(Nm()),crt=new Mee.TextractClient({region:J1.env.aws?.region||"us-east-1",...J1.env.isDevelopment&&{credentials:{accessKeyId:"dummy",secretAccessKey:"dummy"},endpoint:"http://localhost:4566"}}),Lee=class{maxImageSize=10*1024*1024;supportedFormats=["image/jpeg","image/png","image/webp"];minConfidence=50;async preprocessImage(t){try{let r=(0,X1.default)(t),n=await r.metadata();Id.default.info("Preprocessing image for OCR",{originalSize:t.length,format:n.format,dimensions:`${n.width}x${n.height}`});let s=r;n.width&&n.height&&Math.max(n.width,n.height)>3e3&&(s=r.resize(3e3,3e3,{fit:"inside",withoutEnlargement:!0}));let i=await s.grayscale().normalize().sharpen(1,1,2).jpeg({quality:95}).toBuffer();return Id.default.info("Image preprocessing completed",{processedSize:i.length,compressionRatio:((t.length-i.length)/t.length*100).toFixed(1)+"%"}),i}catch(r){throw Id.default.error("Image preprocessing failed",r instanceof Error?r:void 0),new Error(`Image preprocessing failed: ${r.message}`)}}validateImage(t,r){if(t.length>this.maxImageSize)throw new Error(`Image size ${t.length} bytes exceeds maximum allowed size of ${this.maxImageSize} bytes`);if(!this.supportedFormats.includes(r))throw new Error(`Unsupported image format: ${r}. Supported formats: ${this.supportedFormats.join(", ")}`);if(t.length<1024)throw new Error("Image file appears to be too small or corrupted")}convertBlock(t){let r={id:t.Id||"",blockType:t.BlockType||"",text:t.Text||"",confidence:t.Confidence||0};if(t.Geometry){if(r.geometry={},t.Geometry.BoundingBox){let n=t.Geometry.BoundingBox;r.geometry.boundingBox={width:n.Width||0,height:n.Height||0,left:n.Left||0,top:n.Top||0}}t.Geometry.Polygon&&(r.geometry.polygon=t.Geometry.Polygon.map(n=>({x:n.X||0,y:n.Y||0})))}return t.Relationships&&(r.relationships=t.Relationships.map(n=>({type:n.Type||"",ids:n.Ids||[]}))),r}async extractText(t,r){let n=Date.now();try{this.validateImage(t,r);let s=await this.preprocessImage(t);Id.default.info("Starting Textract analysis",{imageSize:s.length,mimeType:r});let i=new Mee.AnalyzeDocumentCommand({Document:{Bytes:s},FeatureTypes:["TABLES","FORMS"]}),o=await crt.send(i),a=Date.now()-n;if(!o.Blocks||o.Blocks.length===0)throw new Error("No text detected in the image");let c=o.Blocks.map(S=>this.convertBlock(S)),l=c.filter(S=>S.blockType==="LINE"&&S.text),d=l.map(S=>S.text).join(`
`),u=l.map(S=>S.confidence).filter(S=>S!==void 0),f=u.length>0?u.reduce((S,b)=>S+b,0)/u.length:0,p=await(0,X1.default)(s).metadata(),g={blocks:c,rawText:d,confidence:f,metadata:{processingTime:a,imageSize:{width:p.width||0,height:p.height||0},totalBlocks:c.length}};return Id.default.info("Textract analysis completed",{processingTime:a,totalBlocks:c.length,textBlocks:l.length,averageConfidence:f.toFixed(1),extractedLength:d.length}),g}catch(s){let i=Date.now()-n;throw Id.default.error("Textract analysis failed",s instanceof Error?s:void 0,{processingTime:i,errorCode:s?.code}),s.name==="InvalidParameterException"?new Error("Invalid image format or corrupted image file"):s.name==="DocumentTooLargeException"?new Error("Image file is too large for processing"):s.name==="UnsupportedDocumentException"?new Error("Unsupported image format"):s.name==="ThrottlingException"?new Error("Too many requests. Please try again later."):s.name==="AccessDeniedException"?new Error("AWS credentials invalid or insufficient permissions"):s}}async detectText(t,r){let n=Date.now();try{this.validateImage(t,r);let s=await this.preprocessImage(t);Id.default.info("Starting Textract text detection",{imageSize:s.length,mimeType:r});let i=new Mee.DetectDocumentTextCommand({Document:{Bytes:s}}),o=await crt.send(i),a=Date.now()-n;if(!o.Blocks||o.Blocks.length===0)throw new Error("No text detected in the image");let c=o.Blocks.map(S=>this.convertBlock(S)),l=c.filter(S=>S.blockType==="LINE"&&S.text),d=l.map(S=>S.text).join(`
`),u=l.map(S=>S.confidence).filter(S=>S!==void 0),f=u.length>0?u.reduce((S,b)=>S+b,0)/u.length:0,p=await(0,X1.default)(s).metadata(),g={blocks:c,rawText:d,confidence:f,metadata:{processingTime:a,imageSize:{width:p.width||0,height:p.height||0},totalBlocks:c.length}};return Id.default.info("Textract text detection completed",{processingTime:a,totalBlocks:c.length,textBlocks:l.length,averageConfidence:f.toFixed(1)}),g}catch(s){let i=Date.now()-n;throw Id.default.error("Textract text detection failed",s instanceof Error?s:void 0,{processingTime:i}),s}}parseBusinessCard(t){let{rawText:r,confidence:n}=t,s=r.split(`
`).map(g=>g.trim()).filter(g=>g.length>0);Id.default.info("Parsing business card data",{totalLines:s.length,confidence:n.toFixed(1)});let i={rawText:r,confidence:n},o=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,a=r.match(o);a&&a.length>0&&(i.email={text:a[0],confidence:95});let c=/(?:\+?1[-.\s]?)?\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})/g,l=r.match(c);l&&l.length>0&&(i.phone={text:l[0].replace(/[^\d+]/g,"").replace(/^1/,"+1"),confidence:90});let d=/(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}/g,u=r.match(d);if(u&&u.length>0){let g=u[0];g.includes("@")||(i.website={text:g.startsWith("http")?g:`https://${g}`,confidence:85})}let f=["inc","llc","corp","ltd","company","group","solutions","technologies","consulting"];for(let g of s){let S=g.toLowerCase();if(f.some(b=>S.includes(b))||g.length>3&&g===g.toUpperCase()&&!/\d/.test(g)){i.company={text:g,confidence:75};break}}let p=["ceo","cto","cfo","director","manager","senior","junior","lead","head","chief","president","vice","engineer","developer","analyst","consultant","specialist"];for(let g of s){let S=g.toLowerCase();if(p.some(b=>S.includes(b))){i.jobTitle={text:g,confidence:70};break}}for(let g of s)if(g.includes(" ")&&g.length>3&&g.length<50&&!g.includes("@")&&!/\d/.test(g)&&g!==i.company?.text&&g!==i.jobTitle?.text){i.name={text:g,confidence:60};break}return Id.default.info("Business card parsing completed",{extractedFields:Object.keys(i).filter(g=>g!=="rawText"&&g!=="confidence").length,name:i.name?.text||"not found",email:i.email?.text||"not found",company:i.company?.text||"not found"}),i}async healthCheck(){try{let t=await(0,X1.default)({create:{width:100,height:50,channels:3,background:{r:255,g:255,b:255}}}).png().composite([{input:Buffer.from('<svg><text x="10" y="30" font-family="Arial" font-size="20">TEST</text></svg>'),top:0,left:0}]).toBuffer(),r=Date.now();return await this.detectText(t,"image/png"),{status:"healthy",details:{responseTime:Date.now()-r,region:J1.env.aws?.region||"local",timestamp:new Date().toISOString()}}}catch(t){return{status:"unhealthy",details:{error:t.message,region:J1.env.aws?.region||"local",timestamp:new Date().toISOString()}}}}};Zg.textractService=new Lee;Zg.default=Zg.textractService});var prt=E((iMn,frt)=>{"use strict";var Y1=Object.defineProperty,UNr=Object.getOwnPropertyDescriptor,BNr=Object.getOwnPropertyNames,FNr=Object.prototype.hasOwnProperty,Uee=(e,t)=>Y1(e,"name",{value:t,configurable:!0}),qNr=(e,t)=>{for(var r in t)Y1(e,r,{get:t[r],enumerable:!0})},jNr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BNr(t))!FNr.call(e,s)&&s!==r&&Y1(e,s,{get:()=>t[s],enumerable:!(n=UNr(t,s))||n.enumerable});return e},$Nr=e=>jNr(Y1({},"__esModule",{value:!0}),e),urt={};qNr(urt,{addExpectContinueMiddleware:()=>Bee,addExpectContinueMiddlewareOptions:()=>mrt,getAddExpectContinuePlugin:()=>HNr});frt.exports=$Nr(urt);var zNr=Fe();function Bee(e){return t=>async r=>{let{request:n}=r;return zNr.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}Uee(Bee,"addExpectContinueMiddleware");var mrt={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},HNr=Uee(e=>({applyToStack:Uee(t=>{t.add(Bee(e),mrt)},"applyToStack")}),"getAddExpectContinuePlugin")});var Fee,GNr,grt=v(()=>{Fee={warningEmitted:!1},GNr=e=>{e&&!Fee.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Fee.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function qee(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var hrt=v(()=>{});function VNr(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var yrt=v(()=>{});function WNr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var _rt=v(()=>{});var jee=v(()=>{grt();hrt();yrt();_rt()});var Srt,$ee,vrt=v(()=>{Srt=C(Fe()),$ee=e=>Srt.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Ab,zee=v(()=>{Ab=e=>new Date(Date.now()+e)});var Ert,Crt=v(()=>{zee();Ert=(e,t)=>Math.abs(Ab(t).getTime()-e)>=3e5});var Hee,brt=v(()=>{Crt();Hee=(e,t)=>{let r=Date.parse(e);return Ert(r,t)?r-Date.now():t}});var Gee=v(()=>{vrt();zee();brt()});var wrt,YI,QI,x_,xrt,Vee=v(()=>{wrt=C(Fe());Gee();YI=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},QI=async e=>{let t=YI("context",e.context),r=YI("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await YI("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},x_=class{async sign(t,r,n){if(!wrt.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await QI(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,f]=l.authSchemes;u?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(t,{signingDate:Ab(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??$ee(r.$response);if(n){let s=YI("config",t.config),i=s.systemClockOffset;s.systemClockOffset=Hee(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=$ee(t);if(n){let s=YI("config",r.config);s.systemClockOffset=Hee(n,s.systemClockOffset)}}},xrt=x_});var Art,Q1,Prt=v(()=>{Art=C(Fe());Gee();Vee();Q1=class extends x_{async sign(t,r,n){if(!Art.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await QI(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:Ab(s.systemClockOffset),signingRegion:d,signingService:c})}}});var Wee,Rrt=v(()=>{Wee=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Kee,Xee=v(()=>{Kee=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Irt,Trt,KNr,Ort=v(()=>{Rrt();Xee();Irt="AWS_AUTH_SCHEME_PREFERENCE",Trt="auth_scheme_preference",KNr={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Kee(t.signingName)in e)return["httpBearerAuth"];if(Irt in e)return Wee(e[Irt])},configFileSelector:e=>{if(Trt in e)return Wee(e[Trt])},default:[]}});var Jee,XNr,JNr,Nrt=v(()=>{Ze();Jee=C(Rt()),XNr=e=>(e.sigv4aSigningRegionSet=Qt(e.sigv4aSigningRegionSet),e),JNr={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Jee.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Jee.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function QNr(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=od(t,id,vc):r?n=Qt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function ZNr(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Yee,Drt,YNr,krt=v(()=>{jee();Ze();Yee=C(ap()),Drt=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=QNr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=ZNr(e,d);r&&!u.attributed?(n=async f=>u(f).then(p=>qee(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Qt(e.signer):e.regionInfoProvider?a=()=>Qt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:f}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||Yee.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Qt(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||Yee.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},YNr=Drt});var Mrt=v(()=>{Vee();Prt();Ort();Nrt();krt()});var Lrt=v(()=>{Mrt();Xee()});var Urt,Tl,Pb=v(()=>{Ie();Urt=C(rv()),Tl=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??Urt.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=Un.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let f=Un.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(f){let p=f.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Qee,Brt=v(()=>{sv();Ie();Pb();Qee=class extends Cc{awsQueryCompatible;mixin=new Tl;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Ec(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator())f[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var eDr,tDr,rDr,Frt=v(()=>{eDr=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},tDr=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},rDr=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Po,eh=v(()=>{Po=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function qrt(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new he(n,"bigDecimal"):BigInt(n)}return t}var jrt=v(()=>{zt()});var $rt,zrt,Z1,Zee=v(()=>{$rt=C(V()),zrt=C(Ct()),Z1=(e,t)=>(0,$rt.collectBody)(e,t).then(r=>(t?.utf8Encoder??zrt.toUtf8)(r))});var e$,nDr,ZI,eT=v(()=>{Zee();e$=(e,t)=>Z1(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),nDr=async(e,t)=>{let r=await e$(e,t);return r.message=r.message??r.Message,r},ZI=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var Hrt,tT,ete=v(()=>{nt();Ie();zt();Hrt=C(bt());eh();jrt();eT();tT=class extends Po{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,qrt):await e$(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=U.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,Hrt.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return xr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:return Ga(r);case F.TIMESTAMP_HTTP_DATE:return Va(r);case F.TIMESTAMP_EPOCH_SECONDS:return jo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof he)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new he(o.string,o.type):new he(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var Grt,t$,Vrt=v(()=>{zt();Grt="\u039D",t$=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof he){let n=`${Grt+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${Grt+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Wrt,rT,tte=v(()=>{nt();Ie();zt();Wrt=C(bt());eh();Vrt();rT=class extends Po{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=U.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=U.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new t$;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=U.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,Wrt.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Pt(i,this.settings)){case F.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case F.TIMESTAMP_HTTP_DATE:return Ha(r);case F.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return Zt();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return xr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var A_,r$=v(()=>{eh();ete();tte();A_=class extends Po{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new rT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new tT(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var P_,n$=v(()=>{nt();Ie();Pb();r$();eT();P_=class extends wn{serializer;deserializer;serviceTarget;codec;mixin=new Tl;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new A_({timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${U.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(zr(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ZI(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var rte,Krt=v(()=>{n$();rte=class extends P_{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var nte,Xrt=v(()=>{n$();nte=class extends P_{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ste,Jrt=v(()=>{nt();Ie();Pb();r$();eT();ste=class extends es{serializer;deserializer;codec;mixin=new Tl;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new A_(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=ZI(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/json"}}});var Yrt,sDr,Qrt=v(()=>{Yrt=C(V()),sDr=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Yrt.expectUnion)(e)}});var Zrt,ent,R_,s$=v(()=>{nt();Ie();Zrt=C(V()),ent=C(Ct());cd();eh();R_=class extends Po{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $o(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=U.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??ent.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=U.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],f=Array.isArray(u)?u:[u];for(let p of f)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",f=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],S=p[f];(S!=null||i)&&(a[g]=this.readSchema(l,S))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Zrt.getValueFromTextNode)(o)}return{}}}});var tnt,rnt,i$,nnt=v(()=>{nt();Ie();zt();tnt=C(V()),rnt=C(bt());eh();i$=class extends Po{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=U.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??rnt.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Zt()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof he?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case F.TIMESTAMP_HTTP_DATE:this.writeValue((0,tnt.dateToUtcString)(r));break;case F.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),f=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,f),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${_s(t)}=`}writeValue(t){this.buffer+=_s(t)}}});var nT,ite=v(()=>{nt();Ie();Pb();s$();nnt();nT=class extends wn{options;serializer;deserializer;mixin=new Tl;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new i$(r),this.deserializer=new R_(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(zr(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let u=await Qn(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let f=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=f}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Qn(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,S)=>g.find(b=>U.of(b).getMergedTraits().awsQueryError?.[0]===S)),d=U.of(c),u=this.loadQueryErrorMessage(s),f=new c.ctor(u),p={};for(let[g,S]of d.structIterator()){let b=S.getMergedTraits().xmlName??g,A=a[b]??s[b];p[g]=this.deserializer.readSchema(S,A)}throw Object.assign(f,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var ote,snt=v(()=>{ite();ote=class extends nT{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var int,ont,iDr,ate,cte=v(()=>{int=C(V());cd();Zee();ont=(e,t)=>Z1(e,t).then(r=>{if(r.length){let n=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,int.getValueFromTextNode)(a)}return{}}),iDr=async(e,t)=>{let r=await ont(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ate=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var mnt=E((uUn,unt)=>{"use strict";var a$=Object.defineProperty,oDr=Object.getOwnPropertyDescriptor,aDr=Object.getOwnPropertyNames,cDr=Object.prototype.hasOwnProperty,c$=(e,t)=>a$(e,"name",{value:t,configurable:!0}),lDr=(e,t)=>{for(var r in t)a$(e,r,{get:t[r],enumerable:!0})},dDr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of aDr(t))!cDr.call(e,s)&&s!==r&&a$(e,s,{get:()=>t[s],enumerable:!(n=oDr(t,s))||n.enumerable});return e},uDr=e=>dDr(a$({},"__esModule",{value:!0}),e),ant={};lDr(ant,{XmlNode:()=>mDr,XmlText:()=>dnt});unt.exports=uDr(ant);function cnt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}c$(cnt,"escapeAttribute");function lnt(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}c$(lnt,"escapeElement");var dnt=class{constructor(e){this.value=e}static{c$(this,"XmlText")}toString(){return lnt(""+this.value)}},mDr=class o${constructor(t,r=[]){this.name=t,this.children=r}static{c$(this,"XmlNode")}attributes={};static of(t,r,n){let s=new o$(t);return r!==void 0&&s.addChildNode(new dnt(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=o$.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new o$(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${cnt(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Ol,lte,l$,sT,dte=v(()=>{Ol=C(mnt());nt();Ie();zt();lte=C(V()),l$=C(bt());eh();sT=class extends Po{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=U.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??l$.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Ol.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let f=Ol.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,f,c),o.addChildNode(f)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),f=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let S=this.writeStruct(o,g,u);p.addChildNode(S.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=Ol.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,S,u),p.addChildNode(S)}};if(l)for(let p of r)(c||p!=null)&&f(n,p);else{let p=Ol.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&f(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),f=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[S,b]=this.getXmlnsAttribute(t,s),A=(P,M,N)=>{let L=Ol.XmlNode.of(l,M),[G,pe]=this.getXmlnsAttribute(a,b);pe&&L.addAttribute(G,pe),P.addChildNode(L);let ne=Ol.XmlNode.of(f);d.isListSchema()?this.writeList(d,N,ne,b):d.isMapSchema()?this.writeMap(d,N,ne,b,!0):d.isStructSchema()?ne=this.writeStruct(d,N,b):this.writeSimpleInto(d,N,ne,b),P.addChildNode(ne)};if(g){for(let[P,M]of Object.entries(r))if(p||M!=null){let N=Ol.XmlNode.of(o.xmlName??t.getMemberName());A(N,P,M),n.addChildNode(N)}}else{let P;i||(P=Ol.XmlNode.of(o.xmlName??t.getMemberName()),b&&P.addAttribute(S,b),n.addChildNode(P));for(let[M,N]of Object.entries(r))if(p||N!=null){let L=Ol.XmlNode.of("entry");A(L,M,N),(i?n:P).addChildNode(L)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=U.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??l$.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Pt(n,this.settings)){case F.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case F.TIMESTAMP_HTTP_DATE:s=(0,lte.dateToUtcString)(r);break;case F.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,lte.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof he?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=Zt():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=U.of(t),a=new Ol.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var iT,ute=v(()=>{eh();s$();dte();iT=class extends Po{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new sT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new R_(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var mte,fnt=v(()=>{nt();Ie();Pb();cte();ute();mte=class extends es{codec;serializer;deserializer;mixin=new Tl;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new iT(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=ate(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().xmlName??p,b=s.Error?.[S]??s[S];f[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/xml"}}});var pnt=v(()=>{Brt();Frt();Krt();Xrt();n$();Jrt();r$();ete();tte();Qrt();eT();snt();ite();fnt();ute();s$();dte();cte()});var gnt={};Kt(gnt,{AWSSDKSigV4Signer:()=>xrt,AwsEc2QueryProtocol:()=>ote,AwsJson1_0Protocol:()=>rte,AwsJson1_1Protocol:()=>nte,AwsJsonRpcProtocol:()=>P_,AwsQueryProtocol:()=>nT,AwsRestJsonProtocol:()=>ste,AwsRestXmlProtocol:()=>mte,AwsSdkSigV4ASigner:()=>Q1,AwsSdkSigV4Signer:()=>x_,AwsSmithyRpcV2CborProtocol:()=>Qee,JsonCodec:()=>A_,JsonShapeDeserializer:()=>tT,JsonShapeSerializer:()=>rT,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>KNr,NODE_SIGV4A_CONFIG_OPTIONS:()=>JNr,XmlCodec:()=>iT,XmlShapeDeserializer:()=>R_,XmlShapeSerializer:()=>sT,_toBool:()=>tDr,_toNum:()=>rDr,_toStr:()=>eDr,awsExpectUnion:()=>sDr,emitWarningIfUnsupportedVersion:()=>GNr,getBearerTokenEnvKey:()=>Kee,loadRestJsonErrorCode:()=>ZI,loadRestXmlErrorCode:()=>ate,parseJsonBody:()=>e$,parseJsonErrorBody:()=>nDr,parseXmlBody:()=>ont,parseXmlErrorBody:()=>iDr,resolveAWSSDKSigV4Config:()=>YNr,resolveAwsSdkSigV4AConfig:()=>XNr,resolveAwsSdkSigV4Config:()=>Drt,setCredentialFeature:()=>qee,setFeature:()=>VNr,setTokenFeature:()=>WNr,state:()=>Fee,validateSigningProperties:()=>QI});var hnt=v(()=>{jee();Lrt();pnt()});var Snt=E((JUn,_nt)=>{var d$=Object.defineProperty,fDr=Object.getOwnPropertyDescriptor,pDr=Object.getOwnPropertyNames,gDr=Object.prototype.hasOwnProperty,hDr=(e,t)=>d$(e,"name",{value:t,configurable:!0}),yDr=(e,t)=>{for(var r in t)d$(e,r,{get:t[r],enumerable:!0})},_Dr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pDr(t))!gDr.call(e,s)&&s!==r&&d$(e,s,{get:()=>t[s],enumerable:!(n=fDr(t,s))||n.enumerable});return e},SDr=e=>_Dr(d$({},"__esModule",{value:!0}),e),ynt={};yDr(ynt,{isArrayBuffer:()=>vDr});_nt.exports=SDr(ynt);var vDr=hDr(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var bnt=E((YUn,Cnt)=>{var u$=Object.defineProperty,EDr=Object.getOwnPropertyDescriptor,CDr=Object.getOwnPropertyNames,bDr=Object.prototype.hasOwnProperty,vnt=(e,t)=>u$(e,"name",{value:t,configurable:!0}),wDr=(e,t)=>{for(var r in t)u$(e,r,{get:t[r],enumerable:!0})},xDr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of CDr(t))!bDr.call(e,s)&&s!==r&&u$(e,s,{get:()=>t[s],enumerable:!(n=EDr(t,s))||n.enumerable});return e},ADr=e=>xDr(u$({},"__esModule",{value:!0}),e),Ent={};wDr(Ent,{fromArrayBuffer:()=>RDr,fromString:()=>IDr});Cnt.exports=ADr(Ent);var PDr=Snt(),fte=require("buffer"),RDr=vnt((e,t=0,r=e.byteLength-t)=>{if(!(0,PDr.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return fte.Buffer.from(e,t,r)},"fromArrayBuffer"),IDr=vnt((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?fte.Buffer.from(e,t):fte.Buffer.from(e)},"fromString")});var Rnt=E((QUn,Pnt)=>{var m$=Object.defineProperty,TDr=Object.getOwnPropertyDescriptor,ODr=Object.getOwnPropertyNames,NDr=Object.prototype.hasOwnProperty,pte=(e,t)=>m$(e,"name",{value:t,configurable:!0}),DDr=(e,t)=>{for(var r in t)m$(e,r,{get:t[r],enumerable:!0})},kDr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ODr(t))!NDr.call(e,s)&&s!==r&&m$(e,s,{get:()=>t[s],enumerable:!(n=TDr(t,s))||n.enumerable});return e},MDr=e=>kDr(m$({},"__esModule",{value:!0}),e),wnt={};DDr(wnt,{fromUtf8:()=>Ant,toUint8Array:()=>LDr,toUtf8:()=>UDr});Pnt.exports=MDr(wnt);var xnt=bnt(),Ant=pte(e=>{let t=(0,xnt.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),LDr=pte(e=>typeof e=="string"?Ant(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),UDr=pte(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,xnt.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Int=E(f$=>{"use strict";Object.defineProperty(f$,"__esModule",{value:!0});f$.convertToBuffer=void 0;var BDr=Rnt(),FDr=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:BDr.fromUtf8;function qDr(e){return e instanceof Uint8Array?e:typeof e=="string"?FDr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}f$.convertToBuffer=qDr});var Tnt=E(p$=>{"use strict";Object.defineProperty(p$,"__esModule",{value:!0});p$.isEmptyData=void 0;function jDr(e){return typeof e=="string"?e.length===0:e.byteLength===0}p$.isEmptyData=jDr});var Ont=E(g$=>{"use strict";Object.defineProperty(g$,"__esModule",{value:!0});g$.numToUint8=void 0;function $Dr(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}g$.numToUint8=$Dr});var Nnt=E(h$=>{"use strict";Object.defineProperty(h$,"__esModule",{value:!0});h$.uint32ArrayFrom=void 0;function zDr(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}h$.uint32ArrayFrom=zDr});var Rb=E(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.uint32ArrayFrom=Bu.numToUint8=Bu.isEmptyData=Bu.convertToBuffer=void 0;var HDr=Int();Object.defineProperty(Bu,"convertToBuffer",{enumerable:!0,get:function(){return HDr.convertToBuffer}});var GDr=Tnt();Object.defineProperty(Bu,"isEmptyData",{enumerable:!0,get:function(){return GDr.isEmptyData}});var VDr=Ont();Object.defineProperty(Bu,"numToUint8",{enumerable:!0,get:function(){return VDr.numToUint8}});var WDr=Nnt();Object.defineProperty(Bu,"uint32ArrayFrom",{enumerable:!0,get:function(){return WDr.uint32ArrayFrom}})});var Mnt=E(y$=>{"use strict";Object.defineProperty(y$,"__esModule",{value:!0});y$.AwsCrc32c=void 0;var Dnt=(Vo(),H(Go)),gte=Rb(),knt=hte(),KDr=function(){function e(){this.crc32c=new knt.Crc32c}return e.prototype.update=function(t){(0,gte.isEmptyData)(t)||this.crc32c.update((0,gte.convertToBuffer)(t))},e.prototype.digest=function(){return Dnt.__awaiter(this,void 0,void 0,function(){return Dnt.__generator(this,function(t){return[2,(0,gte.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new knt.Crc32c},e}();y$.AwsCrc32c=KDr});var hte=E(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.AwsCrc32c=th.Crc32c=th.crc32c=void 0;var XDr=(Vo(),H(Go)),JDr=Rb();function YDr(e){return new Lnt().update(e).digest()}th.crc32c=YDr;var Lnt=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=XDr.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^ZDr[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();th.Crc32c=Lnt;var QDr=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],ZDr=(0,JDr.uint32ArrayFrom)(QDr),ekr=Mnt();Object.defineProperty(th,"AwsCrc32c",{enumerable:!0,get:function(){return ekr.AwsCrc32c}})});var Fnt=E(_$=>{"use strict";Object.defineProperty(_$,"__esModule",{value:!0});_$.AwsCrc32=void 0;var Unt=(Vo(),H(Go)),yte=Rb(),Bnt=oT(),tkr=function(){function e(){this.crc32=new Bnt.Crc32}return e.prototype.update=function(t){(0,yte.isEmptyData)(t)||this.crc32.update((0,yte.convertToBuffer)(t))},e.prototype.digest=function(){return Unt.__awaiter(this,void 0,void 0,function(){return Unt.__generator(this,function(t){return[2,(0,yte.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Bnt.Crc32},e}();_$.AwsCrc32=tkr});var oT=E(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.AwsCrc32=rh.Crc32=rh.crc32=void 0;var rkr=(Vo(),H(Go)),nkr=Rb();function skr(e){return new qnt().update(e).digest()}rh.crc32=skr;var qnt=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=rkr.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^okr[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();rh.Crc32=qnt;var ikr=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],okr=(0,nkr.uint32ArrayFrom)(ikr),akr=Fnt();Object.defineProperty(rh,"AwsCrc32",{enumerable:!0,get:function(){return akr.AwsCrc32}})});var $nt=E(S$=>{"use strict";Object.defineProperty(S$,"__esModule",{value:!0});S$.getCrc32ChecksumAlgorithmFunction=void 0;var ckr=(Vo(),H(Go)),lkr=oT(),dkr=Rb(),jnt=ckr.__importStar(require("zlib")),_te=class{checksum=0;update(t){this.checksum=jnt.crc32(t,this.checksum)}async digest(){return(0,dkr.numToUint8)(this.checksum)}reset(){this.checksum=0}},ukr=()=>typeof jnt.crc32>"u"?lkr.AwsCrc32:_te;S$.getCrc32ChecksumAlgorithmFunction=ukr});var wte=E((lBn,ist)=>{"use strict";var C$=Object.defineProperty,mkr=Object.getOwnPropertyDescriptor,fkr=Object.getOwnPropertyNames,pkr=Object.prototype.hasOwnProperty,Cs=(e,t)=>C$(e,"name",{value:t,configurable:!0}),gkr=(e,t)=>{for(var r in t)C$(e,r,{get:t[r],enumerable:!0})},hkr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fkr(t))!pkr.call(e,s)&&s!==r&&C$(e,s,{get:()=>t[s],enumerable:!(n=mkr(t,s))||n.enumerable});return e},ykr=e=>hkr(C$({},"__esModule",{value:!0}),e),Hnt={};gkr(Hnt,{CONFIG_REQUEST_CHECKSUM_CALCULATION:()=>Knt,CONFIG_RESPONSE_CHECKSUM_VALIDATION:()=>Jnt,ChecksumAlgorithm:()=>Gnt,ChecksumLocation:()=>Vnt,DEFAULT_CHECKSUM_ALGORITHM:()=>v$,DEFAULT_REQUEST_CHECKSUM_CALCULATION:()=>Ete,DEFAULT_RESPONSE_CHECKSUM_VALIDATION:()=>Cte,ENV_REQUEST_CHECKSUM_CALCULATION:()=>Wnt,ENV_RESPONSE_CHECKSUM_VALIDATION:()=>Xnt,NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS:()=>_kr,NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS:()=>Skr,RequestChecksumCalculation:()=>Df,ResponseChecksumValidation:()=>Ib,crc64NvmeCrtContainer:()=>Ste,flexibleChecksumsMiddleware:()=>nst,flexibleChecksumsMiddlewareOptions:()=>rst,getFlexibleChecksumsPlugin:()=>Mkr,resolveFlexibleChecksumsConfig:()=>Lkr});ist.exports=ykr(Hnt);var Df={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Ete=Df.WHEN_SUPPORTED,Ib={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Cte=Df.WHEN_SUPPORTED,Gnt=(e=>(e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256",e))(Gnt||{}),Vnt=(e=>(e.HEADER="header",e.TRAILER="trailer",e))(Vnt||{}),v$="CRC32",E$=Cs((e,t,r,n)=>{if(!(t in e))return;let s=e[t].toUpperCase();if(!Object.values(r).includes(s))throw new TypeError(`Cannot load ${n} '${t}'. Expected one of ${Object.values(r)}, got '${e[t]}'.`);return s},"stringUnionSelector"),Wnt="AWS_REQUEST_CHECKSUM_CALCULATION",Knt="request_checksum_calculation",_kr={environmentVariableSelector:Cs(e=>E$(e,Wnt,Df,"env"),"environmentVariableSelector"),configFileSelector:Cs(e=>E$(e,Knt,Df,"shared config entry"),"configFileSelector"),default:Ete},Xnt="AWS_RESPONSE_CHECKSUM_VALIDATION",Jnt="response_checksum_validation",Skr={environmentVariableSelector:Cs(e=>E$(e,Xnt,Ib,"env"),"environmentVariableSelector"),configFileSelector:Cs(e=>E$(e,Jnt,Ib,"shared config entry"),"configFileSelector"),default:Cte},Ste={CrtCrc64Nvme:null},Nf=(hnt(),H(gnt)),Ynt=Fe(),Qnt=sm(),vte=["CRC32","CRC32C","CRC64NVME","SHA1","SHA256"],vkr=["SHA256","SHA1","CRC32","CRC32C","CRC64NVME"],Ekr=Cs((e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===Df.WHEN_SUPPORTED||t?v$:void 0;if(!e[r])return;let s=e[r];if(!vte.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${vte}.`);return s},"getChecksumAlgorithmForRequest"),bte=Cs(e=>e==="MD5"?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,"getChecksumLocationName"),Ckr=Cs((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},"hasHeader"),bkr=Cs((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},"hasHeaderWithPrefix"),wkr=R0(),Znt=Cs(e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(0,wkr.isArrayBuffer)(e),"isStreaming"),xkr=hte(),Akr=$nt(),est=Cs((e,t)=>{switch(e){case"MD5":return t.md5;case"CRC32":return(0,Akr.getCrc32ChecksumAlgorithmFunction)();case"CRC32C":return xkr.AwsCrc32c;case"CRC64NVME":if(typeof Ste.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return Ste.CrtCrc64Nvme;case"SHA1":return t.sha1;case"SHA256":return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},"selectChecksumAlgorithmFunction"),Pkr=Ct(),tst=Cs((e,t)=>{let r=new e;return r.update((0,Pkr.toUint8Array)(t||"")),r.digest()},"stringHasher"),rst={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},nst=Cs((e,t)=>(r,n)=>async s=>{if(!Ynt.HttpRequest.isInstance(s.request)||bkr("x-amz-checksum-",s.request.headers))return r(s);let{request:i,input:o}=s,{body:a,headers:c}=i,{base64Encoder:l,streamHasher:d}=e,{requestChecksumRequired:u,requestAlgorithmMember:f}=t,p=await e.requestChecksumCalculation(),g=f?.name,S=f?.httpHeader;g&&!o[g]&&(p===Df.WHEN_SUPPORTED||u)&&(o[g]=v$,S&&(c[S]=v$));let b=Ekr(o,{requestChecksumRequired:u,requestAlgorithmMember:f?.name,requestChecksumCalculation:p}),A=a,P=c;if(b){switch(b){case"CRC32":(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case"CRC32C":(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case"CRC64NVME":(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case"SHA1":(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case"SHA256":(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let N=bte(b),L=est(b,e);if(Znt(a)){let{getAwsChunkedEncodingStream:G,bodyLengthChecker:pe}=e;A=G(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?(0,Qnt.createBufferedReadable)(a,e.requestStreamBufferSize,n.logger):a,{base64Encoder:l,bodyLengthChecker:pe,checksumLocationName:N,checksumAlgorithmFn:L,streamHasher:d}),P={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":N},delete P["content-length"]}else if(!Ckr(N,c)){let G=await tst(L,a);P={...c,[N]:l(G)}}}return await r({...s,request:{...i,headers:P,body:A}})},"flexibleChecksumsMiddleware"),Rkr={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Ikr=Cs((e,t)=>(r,n)=>async s=>{let i=s.input,{requestValidationModeMember:o}=t,a=await e.requestChecksumCalculation(),c=await e.responseChecksumValidation();switch(a){case Df.WHEN_REQUIRED:(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Df.WHEN_SUPPORTED:(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case Ib.WHEN_REQUIRED:(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Ib.WHEN_SUPPORTED:(0,Nf.setFeature)(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&c===Ib.WHEN_SUPPORTED&&(i[o]="ENABLED"),r(s)},"flexibleChecksumsInputMiddleware"),sst=Cs((e=[])=>{let t=[];for(let r of vkr)!e.includes(r)||!vte.includes(r)||t.push(r);return t},"getChecksumAlgorithmListForResponse"),Tkr=Cs(e=>{let t=e.lastIndexOf("-");if(t!==-1){let r=e.slice(t+1);if(!r.startsWith("0")){let n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},"isChecksumWithPartNumber"),Okr=Cs(async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await tst(t,e)),"getChecksum"),Nkr=Cs(async(e,{config:t,responseAlgorithms:r,logger:n})=>{let s=sst(r),{body:i,headers:o}=e;for(let a of s){let c=bte(a),l=o[c];if(l){let d;try{d=est(a,t)}catch(p){if(a==="CRC64NVME"){n?.warn(`Skipping CRC64NVME checksum validation: ${p.message}`);continue}throw p}let{base64Encoder:u}=t;if(Znt(i)){e.body=(0,Qnt.createChecksumStream)({expectedChecksum:l,checksumSourceLocation:c,checksum:new d,source:i,base64Encoder:u});return}let f=await Okr(i,{checksumAlgorithmFn:d,base64Encoder:u});if(f===l)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${l}" in response header "${c}".`)}}},"validateChecksumFromResponse"),Dkr={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},kkr=Cs((e,t)=>(r,n)=>async s=>{if(!Ynt.HttpRequest.isInstance(s.request))return r(s);let i=s.input,o=await r(s),a=o.response,{requestValidationModeMember:c,responseAlgorithms:l}=t;if(c&&i[c]==="ENABLED"){let{clientName:d,commandName:u}=n;if(d==="S3Client"&&u==="GetObjectCommand"&&sst(l).every(p=>{let g=bte(p),S=a.headers[g];return!S||Tkr(S)}))return o;await Nkr(a,{config:e,responseAlgorithms:l,logger:n.logger})}return o},"flexibleChecksumsResponseMiddleware"),Mkr=Cs((e,t)=>({applyToStack:Cs(r=>{r.add(nst(e,t),rst),r.addRelativeTo(Ikr(e,t),Rkr),r.addRelativeTo(kkr(e,t),Dkr)},"applyToStack")}),"getFlexibleChecksumsPlugin"),znt=bn(),Lkr=Cs(e=>{let{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:(0,znt.normalizeProvider)(t??Ete),responseChecksumValidation:(0,znt.normalizeProvider)(r??Cte),requestStreamBufferSize:Number(n??0)})},"resolveFlexibleChecksumsConfig")});var aT=E((dBn,dst)=>{"use strict";var w$=Object.defineProperty,Ukr=Object.getOwnPropertyDescriptor,Bkr=Object.getOwnPropertyNames,Fkr=Object.prototype.hasOwnProperty,b$=(e,t)=>w$(e,"name",{value:t,configurable:!0}),qkr=(e,t)=>{for(var r in t)w$(e,r,{get:t[r],enumerable:!0})},jkr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bkr(t))!Fkr.call(e,s)&&s!==r&&w$(e,s,{get:()=>t[s],enumerable:!(n=Ukr(t,s))||n.enumerable});return e},$kr=e=>jkr(w$({},"__esModule",{value:!0}),e),ost={};qkr(ost,{getHostHeaderPlugin:()=>Hkr,hostHeaderMiddleware:()=>cst,hostHeaderMiddlewareOptions:()=>lst,resolveHostHeaderConfig:()=>ast});dst.exports=$kr(ost);var zkr=Fe();function ast(e){return e}b$(ast,"resolveHostHeaderConfig");var cst=b$(e=>t=>async r=>{if(!zkr.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),lst={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Hkr=b$(e=>({applyToStack:b$(t=>{t.add(cst(e),lst)},"applyToStack")}),"getHostHeaderPlugin")});var cT=E((uBn,pst)=>{"use strict";var x$=Object.defineProperty,Gkr=Object.getOwnPropertyDescriptor,Vkr=Object.getOwnPropertyNames,Wkr=Object.prototype.hasOwnProperty,xte=(e,t)=>x$(e,"name",{value:t,configurable:!0}),Kkr=(e,t)=>{for(var r in t)x$(e,r,{get:t[r],enumerable:!0})},Xkr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vkr(t))!Wkr.call(e,s)&&s!==r&&x$(e,s,{get:()=>t[s],enumerable:!(n=Gkr(t,s))||n.enumerable});return e},Jkr=e=>Xkr(x$({},"__esModule",{value:!0}),e),ust={};Kkr(ust,{getLoggerPlugin:()=>Ykr,loggerMiddleware:()=>mst,loggerMiddlewareOptions:()=>fst});pst.exports=Jkr(ust);var mst=xte(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:d(r.input),output:u(p),metadata:f}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),fst={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ykr=xte(e=>({applyToStack:xte(t=>{t.add(mst(),fst)},"applyToStack")}),"getLoggerPlugin")});var Pte=E(A$=>{"use strict";Object.defineProperty(A$,"__esModule",{value:!0});A$.recursionDetectionMiddleware=void 0;var Qkr=_X(),Zkr=Fe(),Ate="X-Amzn-Trace-Id",eMr="AWS_LAMBDA_FUNCTION_NAME",tMr="_X_AMZN_TRACE_ID",rMr=()=>e=>async t=>{let{request:r}=t;if(!Zkr.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===Ate.toLowerCase())??Ate;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[eMr],i=process.env[tMr],a=Qkr.InvokeStore.getXRayTraceId()??i,c=l=>typeof l=="string"&&l.length>0;return c(s)&&c(a)&&(r.headers[Ate]=a),e({...t,request:r})};A$.recursionDetectionMiddleware=rMr});var lT=E((fBn,Tte)=>{"use strict";var P$=Object.defineProperty,nMr=Object.getOwnPropertyDescriptor,sMr=Object.getOwnPropertyNames,iMr=Object.prototype.hasOwnProperty,gst=(e,t)=>P$(e,"name",{value:t,configurable:!0}),oMr=(e,t)=>{for(var r in t)P$(e,r,{get:t[r],enumerable:!0})},Rte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sMr(t))!iMr.call(e,s)&&s!==r&&P$(e,s,{get:()=>t[s],enumerable:!(n=nMr(t,s))||n.enumerable});return e},aMr=(e,t,r)=>(Rte(e,t,"default"),r&&Rte(r,t,"default")),cMr=e=>Rte(P$({},"__esModule",{value:!0}),e),Ite={};oMr(Ite,{getRecursionDetectionPlugin:()=>uMr});Tte.exports=cMr(Ite);var lMr={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},dMr=Pte(),uMr=gst(e=>({applyToStack:gst(t=>{t.add((0,dMr.recursionDetectionMiddleware)(),lMr)},"applyToStack")}),"getRecursionDetectionPlugin");aMr(Ite,Pte(),Tte.exports)});var Ote,mMr,hst=v(()=>{Ote={warningEmitted:!1},mMr=e=>{e&&!Ote.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Ote.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Nte(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var yst=v(()=>{});function fMr(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var _st=v(()=>{});function pMr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Sst=v(()=>{});var Dte=v(()=>{hst();yst();_st();Sst()});var vst,kte,Est=v(()=>{vst=C(Fe()),kte=e=>vst.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Tb,Mte=v(()=>{Tb=e=>new Date(Date.now()+e)});var Cst,bst=v(()=>{Mte();Cst=(e,t)=>Math.abs(Tb(t).getTime()-e)>=3e5});var Lte,wst=v(()=>{bst();Lte=(e,t)=>{let r=Date.parse(e);return Cst(r,t)?r-Date.now():t}});var Ute=v(()=>{Est();Mte();wst()});var xst,dT,uT,I_,Ast,Bte=v(()=>{xst=C(Fe());Ute();dT=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},uT=async e=>{let t=dT("context",e.context),r=dT("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await dT("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},I_=class{async sign(t,r,n){if(!xst.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await uT(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,f]=l.authSchemes;u?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(t,{signingDate:Tb(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??kte(r.$response);if(n){let s=dT("config",t.config),i=s.systemClockOffset;s.systemClockOffset=Lte(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=kte(t);if(n){let s=dT("config",r.config);s.systemClockOffset=Lte(n,s.systemClockOffset)}}},Ast=I_});var Pst,R$,Rst=v(()=>{Pst=C(Fe());Ute();Bte();R$=class extends I_{async sign(t,r,n){if(!Pst.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await uT(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:Tb(s.systemClockOffset),signingRegion:d,signingService:c})}}});var Fte,Ist=v(()=>{Fte=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var qte,jte=v(()=>{qte=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Tst,Ost,gMr,Nst=v(()=>{Ist();jte();Tst="AWS_AUTH_SCHEME_PREFERENCE",Ost="auth_scheme_preference",gMr={environmentVariableSelector:(e,t)=>{if(t?.signingName&&qte(t.signingName)in e)return["httpBearerAuth"];if(Tst in e)return Fte(e[Tst])},configFileSelector:e=>{if(Ost in e)return Fte(e[Ost])},default:[]}});var $te,hMr,yMr,Dst=v(()=>{Ze();$te=C(Rt()),hMr=e=>(e.sigv4aSigningRegionSet=Qt(e.sigv4aSigningRegionSet),e),yMr={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new $te.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new $te.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function SMr(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=od(t,id,vc):r?n=Qt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function vMr(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var zte,kst,_Mr,Mst=v(()=>{Dte();Ze();zte=C(ap()),kst=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=SMr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=vMr(e,d);r&&!u.attributed?(n=async f=>u(f).then(p=>Nte(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Qt(e.signer):e.regionInfoProvider?a=()=>Qt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:f}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||zte.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Qt(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||zte.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},_Mr=kst});var Lst=v(()=>{Bte();Rst();Nst();Dst();Mst()});var Ust=v(()=>{Lst();jte()});var Bst,Nl,Ob=v(()=>{Ie();Bst=C(rv()),Nl=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??Bst.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=Un.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let f=Un.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(f){let p=f.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Hte,Fst=v(()=>{sv();Ie();Ob();Hte=class extends Cc{awsQueryCompatible;mixin=new Nl;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Ec(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator())f[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var EMr,CMr,bMr,qst=v(()=>{EMr=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},CMr=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},bMr=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Ro,nh=v(()=>{Ro=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function jst(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new he(n,"bigDecimal"):BigInt(n)}return t}var $st=v(()=>{zt()});var zst,Hst,I$,Gte=v(()=>{zst=C(V()),Hst=C(Ct()),I$=(e,t)=>(0,zst.collectBody)(e,t).then(r=>(t?.utf8Encoder??Hst.toUtf8)(r))});var T$,wMr,mT,fT=v(()=>{Gte();T$=(e,t)=>I$(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),wMr=async(e,t)=>{let r=await T$(e,t);return r.message=r.message??r.Message,r},mT=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var Gst,pT,Vte=v(()=>{nt();Ie();zt();Gst=C(bt());nh();$st();fT();pT=class extends Ro{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,jst):await T$(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=U.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,Gst.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return xr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:return Ga(r);case F.TIMESTAMP_HTTP_DATE:return Va(r);case F.TIMESTAMP_EPOCH_SECONDS:return jo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof he)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new he(o.string,o.type):new he(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var Vst,O$,Wst=v(()=>{zt();Vst="\u039D",O$=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof he){let n=`${Vst+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${Vst+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Kst,gT,Wte=v(()=>{nt();Ie();zt();Kst=C(bt());nh();Wst();gT=class extends Ro{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=U.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=U.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new O$;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=U.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,Kst.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Pt(i,this.settings)){case F.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case F.TIMESTAMP_HTTP_DATE:return Ha(r);case F.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return Zt();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return xr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var T_,N$=v(()=>{nh();Vte();Wte();T_=class extends Ro{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new gT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new pT(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var O_,D$=v(()=>{nt();Ie();Ob();N$();fT();O_=class extends wn{serializer;deserializer;serviceTarget;codec;mixin=new Nl;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new T_({timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${U.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(zr(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=mT(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var Kte,Xst=v(()=>{D$();Kte=class extends O_{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Xte,Jst=v(()=>{D$();Xte=class extends O_{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Jte,Yst=v(()=>{nt();Ie();Ob();N$();fT();Jte=class extends es{serializer;deserializer;codec;mixin=new Nl;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new T_(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=mT(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/json"}}});var Qst,xMr,Zst=v(()=>{Qst=C(V()),xMr=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Qst.expectUnion)(e)}});var eit,tit,N_,k$=v(()=>{nt();Ie();eit=C(V()),tit=C(Ct());cd();nh();N_=class extends Ro{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $o(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=U.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??tit.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=U.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],f=Array.isArray(u)?u:[u];for(let p of f)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",f=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],S=p[f];(S!=null||i)&&(a[g]=this.readSchema(l,S))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,eit.getValueFromTextNode)(o)}return{}}}});var rit,nit,M$,sit=v(()=>{nt();Ie();zt();rit=C(V()),nit=C(bt());nh();M$=class extends Ro{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=U.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??nit.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Zt()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof he?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case F.TIMESTAMP_HTTP_DATE:this.writeValue((0,rit.dateToUtcString)(r));break;case F.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),f=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,f),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${_s(t)}=`}writeValue(t){this.buffer+=_s(t)}}});var hT,Yte=v(()=>{nt();Ie();Ob();k$();sit();hT=class extends wn{options;serializer;deserializer;mixin=new Nl;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new M$(r),this.deserializer=new N_(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(zr(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let u=await Qn(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let f=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=f}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Qn(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,S)=>g.find(b=>U.of(b).getMergedTraits().awsQueryError?.[0]===S)),d=U.of(c),u=this.loadQueryErrorMessage(s),f=new c.ctor(u),p={};for(let[g,S]of d.structIterator()){let b=S.getMergedTraits().xmlName??g,A=a[b]??s[b];p[g]=this.deserializer.readSchema(S,A)}throw Object.assign(f,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Qte,iit=v(()=>{Yte();Qte=class extends hT{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var oit,ait,AMr,Zte,ere=v(()=>{oit=C(V());cd();Gte();ait=(e,t)=>I$(e,t).then(r=>{if(r.length){let n=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,oit.getValueFromTextNode)(a)}return{}}),AMr=async(e,t)=>{let r=await ait(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Zte=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var fit=E((Sqn,mit)=>{"use strict";var U$=Object.defineProperty,PMr=Object.getOwnPropertyDescriptor,RMr=Object.getOwnPropertyNames,IMr=Object.prototype.hasOwnProperty,B$=(e,t)=>U$(e,"name",{value:t,configurable:!0}),TMr=(e,t)=>{for(var r in t)U$(e,r,{get:t[r],enumerable:!0})},OMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RMr(t))!IMr.call(e,s)&&s!==r&&U$(e,s,{get:()=>t[s],enumerable:!(n=PMr(t,s))||n.enumerable});return e},NMr=e=>OMr(U$({},"__esModule",{value:!0}),e),cit={};TMr(cit,{XmlNode:()=>DMr,XmlText:()=>uit});mit.exports=NMr(cit);function lit(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}B$(lit,"escapeAttribute");function dit(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}B$(dit,"escapeElement");var uit=class{constructor(e){this.value=e}static{B$(this,"XmlText")}toString(){return dit(""+this.value)}},DMr=class L${constructor(t,r=[]){this.name=t,this.children=r}static{B$(this,"XmlNode")}attributes={};static of(t,r,n){let s=new L$(t);return r!==void 0&&s.addChildNode(new uit(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=L$.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new L$(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${lit(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Dl,tre,F$,yT,rre=v(()=>{Dl=C(fit());nt();Ie();zt();tre=C(V()),F$=C(bt());nh();yT=class extends Ro{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=U.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??F$.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Dl.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let f=Dl.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,f,c),o.addChildNode(f)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),f=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let S=this.writeStruct(o,g,u);p.addChildNode(S.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=Dl.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,S,u),p.addChildNode(S)}};if(l)for(let p of r)(c||p!=null)&&f(n,p);else{let p=Dl.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&f(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),f=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[S,b]=this.getXmlnsAttribute(t,s),A=(P,M,N)=>{let L=Dl.XmlNode.of(l,M),[G,pe]=this.getXmlnsAttribute(a,b);pe&&L.addAttribute(G,pe),P.addChildNode(L);let ne=Dl.XmlNode.of(f);d.isListSchema()?this.writeList(d,N,ne,b):d.isMapSchema()?this.writeMap(d,N,ne,b,!0):d.isStructSchema()?ne=this.writeStruct(d,N,b):this.writeSimpleInto(d,N,ne,b),P.addChildNode(ne)};if(g){for(let[P,M]of Object.entries(r))if(p||M!=null){let N=Dl.XmlNode.of(o.xmlName??t.getMemberName());A(N,P,M),n.addChildNode(N)}}else{let P;i||(P=Dl.XmlNode.of(o.xmlName??t.getMemberName()),b&&P.addAttribute(S,b),n.addChildNode(P));for(let[M,N]of Object.entries(r))if(p||N!=null){let L=Dl.XmlNode.of("entry");A(L,M,N),(i?n:P).addChildNode(L)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=U.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??F$.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Pt(n,this.settings)){case F.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case F.TIMESTAMP_HTTP_DATE:s=(0,tre.dateToUtcString)(r);break;case F.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,tre.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof he?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=Zt():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=U.of(t),a=new Dl.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var _T,nre=v(()=>{nh();k$();rre();_T=class extends Ro{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new yT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new N_(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var sre,pit=v(()=>{nt();Ie();Ob();ere();nre();sre=class extends es{codec;serializer;deserializer;mixin=new Nl;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new _T(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Zte(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().xmlName??p,b=s.Error?.[S]??s[S];f[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/xml"}}});var git=v(()=>{Fst();qst();Xst();Jst();D$();Yst();N$();Vte();Wte();Zst();fT();iit();Yte();pit();nre();k$();rre();ere()});var hit={};Kt(hit,{AWSSDKSigV4Signer:()=>Ast,AwsEc2QueryProtocol:()=>Qte,AwsJson1_0Protocol:()=>Kte,AwsJson1_1Protocol:()=>Xte,AwsJsonRpcProtocol:()=>O_,AwsQueryProtocol:()=>hT,AwsRestJsonProtocol:()=>Jte,AwsRestXmlProtocol:()=>sre,AwsSdkSigV4ASigner:()=>R$,AwsSdkSigV4Signer:()=>I_,AwsSmithyRpcV2CborProtocol:()=>Hte,JsonCodec:()=>T_,JsonShapeDeserializer:()=>pT,JsonShapeSerializer:()=>gT,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>gMr,NODE_SIGV4A_CONFIG_OPTIONS:()=>yMr,XmlCodec:()=>_T,XmlShapeDeserializer:()=>N_,XmlShapeSerializer:()=>yT,_toBool:()=>CMr,_toNum:()=>bMr,_toStr:()=>EMr,awsExpectUnion:()=>xMr,emitWarningIfUnsupportedVersion:()=>mMr,getBearerTokenEnvKey:()=>qte,loadRestJsonErrorCode:()=>mT,loadRestXmlErrorCode:()=>Zte,parseJsonBody:()=>T$,parseJsonErrorBody:()=>wMr,parseXmlBody:()=>ait,parseXmlErrorBody:()=>AMr,resolveAWSSDKSigV4Config:()=>_Mr,resolveAwsSdkSigV4AConfig:()=>hMr,resolveAwsSdkSigV4Config:()=>kst,setCredentialFeature:()=>Nte,setFeature:()=>fMr,setTokenFeature:()=>pMr,state:()=>Ote,validateSigningProperties:()=>uT});var yit=v(()=>{Dte();Ust();git()});var ore=E((sjn,Sit)=>{"use strict";var q$=Object.defineProperty,kMr=Object.getOwnPropertyDescriptor,MMr=Object.getOwnPropertyNames,LMr=Object.prototype.hasOwnProperty,ire=(e,t)=>q$(e,"name",{value:t,configurable:!0}),UMr=(e,t)=>{for(var r in t)q$(e,r,{get:t[r],enumerable:!0})},BMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MMr(t))!LMr.call(e,s)&&s!==r&&q$(e,s,{get:()=>t[s],enumerable:!(n=kMr(t,s))||n.enumerable});return e},FMr=e=>BMr(q$({},"__esModule",{value:!0}),e),_it={};UMr(_it,{build:()=>$Mr,parse:()=>jMr,validate:()=>qMr});Sit.exports=FMr(_it);var qMr=ire(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),jMr=ire(e=>{let t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");let[,r,n,s,i,...o]=t;return{partition:r,service:n,region:s,accountId:i,resource:o.join(":")}},"parse"),$Mr=ire(e=>{let{partition:t="aws",service:r,region:n,accountId:s,resource:i}=e;if([r,n,s,i].some(o=>typeof o!="string"))throw new Error("Input ARN object is invalid");return`arn:${t}:${r}:${n}:${s}:${i}`},"build")});var Ne=E((ijn,jit)=>{"use strict";var z$=Object.defineProperty,zMr=Object.getOwnPropertyDescriptor,HMr=Object.getOwnPropertyNames,GMr=Object.prototype.hasOwnProperty,St=(e,t)=>z$(e,"name",{value:t,configurable:!0}),VMr=(e,t)=>{for(var r in t)z$(e,r,{get:t[r],enumerable:!0})},WMr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HMr(t))!GMr.call(e,s)&&s!==r&&z$(e,s,{get:()=>t[s],enumerable:!(n=zMr(t,s))||n.enumerable});return e},KMr=e=>WMr(z$({},"__esModule",{value:!0}),e),Eit={};VMr(Eit,{NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS:()=>oLr,S3ExpressIdentityCache:()=>Iit,S3ExpressIdentityCacheEntry:()=>$$,S3ExpressIdentityProviderImpl:()=>Oit,SignatureV4S3Express:()=>aLr,checkContentLengthHeader:()=>ure,checkContentLengthHeaderMiddlewareOptions:()=>bit,getCheckContentLengthHeaderPlugin:()=>YMr,getRegionRedirectMiddlewarePlugin:()=>QMr,getS3ExpiresMiddlewarePlugin:()=>ZMr,getS3ExpressHttpSigningPlugin:()=>gLr,getS3ExpressPlugin:()=>lLr,getThrow200ExceptionsPlugin:()=>vLr,getValidateBucketNamePlugin:()=>bLr,regionRedirectEndpointMiddleware:()=>wit,regionRedirectEndpointMiddlewareOptions:()=>xit,regionRedirectMiddleware:()=>mre,regionRedirectMiddlewareOptions:()=>Ait,resolveS3Config:()=>hLr,s3ExpiresMiddleware:()=>Pit,s3ExpiresMiddlewareOptions:()=>Rit,s3ExpressHttpSigningMiddleware:()=>Lit,s3ExpressHttpSigningMiddlewareOptions:()=>pLr,s3ExpressMiddleware:()=>Dit,s3ExpressMiddlewareOptions:()=>kit,throw200ExceptionsMiddleware:()=>Uit,throw200ExceptionsMiddlewareOptions:()=>Bit,validateBucketNameMiddleware:()=>fre,validateBucketNameMiddlewareOptions:()=>qit});jit.exports=KMr(Eit);var ST=Fe(),Cit=V(),XMr="content-length",JMr="x-amz-decoded-content-length";function ure(){return(e,t)=>async r=>{let{request:n}=r;if(ST.HttpRequest.isInstance(n)&&!(XMr in n.headers)&&!(JMr in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof Cit.NoOpLogger)?t.logger.warn(s):console.warn(s)}return e({...r})}}St(ure,"checkContentLengthHeader");var bit={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},YMr=St(e=>({applyToStack:St(t=>{t.add(ure(),bit)},"applyToStack")}),"getCheckContentLengthHeaderPlugin"),wit=St(e=>(t,r)=>async n=>{let s=await e.region(),i=e.region,o=St(()=>{},"unlock");r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:St(async()=>r.__s3RegionRedirect,"value")}),o=St(()=>Object.defineProperty(e,"region",{writable:!0,value:i}),"unlock"));try{let a=await t(n);if(r.__s3RegionRedirect){o();let c=await e.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},"regionRedirectEndpointMiddleware"),xit={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function mre(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects){let i=s?.$metadata?.httpStatusCode,o=r.commandName==="HeadBucketCommand",a=s?.$response?.headers?.["x-amz-bucket-region"];if(a&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||o))){try{let c=a;r.logger?.debug(`Redirecting from ${await e.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return t(n)}}throw s}}}St(mre,"regionRedirectMiddleware");var Ait={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},QMr=St(e=>({applyToStack:St(t=>{t.add(mre(e),Ait),t.addRelativeTo(wit(e),xit)},"applyToStack")}),"getRegionRedirectMiddlewarePlugin"),Pit=St(e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(ST.HttpResponse.isInstance(i)&&i.headers.expires){i.headers.expiresstring=i.headers.expires;try{(0,Cit.parseRfc7231DateTime)(i.headers.expires)}catch(o){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${i.headers.expires}): ${o}`),delete i.headers.expires}}return s},"s3ExpiresMiddleware"),Rit={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},ZMr=St(e=>({applyToStack:St(t=>{t.addRelativeTo(Pit(e),Rit)},"applyToStack")}),"getS3ExpiresMiddlewarePlugin"),Iit=class Tit{constructor(t={}){this.data=t}static{St(this,"S3ExpressIdentityCache")}lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;get(t){let r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){let t=Date.now();if(!(this.lastPurgeTime+Tit.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(let r in this.data){let n=this.data[r];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<t&&delete this.data[r]}}}},$$=class{constructor(e,t=!1,r=Date.now()){this._identity=e,this.isRefreshing=t,this.accessed=r}static{St(this,"S3ExpressIdentityCacheEntry")}get identity(){return this.accessed=Date.now(),this._identity}},Oit=class Nit{constructor(t,r=new Iit){this.createSessionFn=t,this.cache=r}static{St(this,"S3ExpressIdentityProviderImpl")}static REFRESH_WINDOW_MS=6e4;async getS3ExpressIdentity(t,r){let n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?s.set(n,new $$(this.getIdentity(n))).identity:((o.expiration?.getTime()??0)<Date.now()+Nit.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(l=>{s.set(n,new $$(Promise.resolve(l)))})),o)):s.set(n,new $$(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}},eLr=ap(),j$=ax(),tLr="Directory",rLr="S3Express",nLr="sigv4-s3express",are="X-Amz-S3session-Token",cre=are.toLowerCase(),sLr="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",iLr="s3_disable_express_session_auth",oLr={environmentVariableSelector:St(e=>(0,j$.booleanSelector)(e,sLr,j$.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:St(e=>(0,j$.booleanSelector)(e,iLr,j$.SelectorType.CONFIG),"configFileSelector"),default:!1},aLr=class extends eLr.SignatureV4{static{St(this,"SignatureV4S3Express")}async signWithCredentials(e,t,r){let n=lre(t);e.headers[cre]=t.sessionToken;let s=this;return dre(s,n),s.signRequest(e,r??{})}async presignWithCredentials(e,t,r){let n=lre(t);return delete e.headers[cre],e.headers[are]=t.sessionToken,e.query=e.query??{},e.query[are]=t.sessionToken,dre(this,n),this.presign(e,r)}};function lre(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}St(lre,"getCredentialsWithoutSessionToken");function dre(e,t){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=St(()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t)),"overrideCredentialsProviderOnce");e.credentialProvider=s}St(dre,"setSingleOverride");var cLr=(yit(),H(hit)),Dit=St(e=>(t,r)=>async n=>{if(r.endpointV2){let s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===nLr;if((s.properties?.backend===rLr||s.properties?.bucketType===tLr)&&((0,cLr.setFeature)(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){let a=n.input.Bucket;if(a){let c=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:a});r.s3ExpressIdentity=c,ST.HttpRequest.isInstance(n.request)&&c.sessionToken&&(n.request.headers[cre]=c.sessionToken)}}}return t(n)},"s3ExpressMiddleware"),kit={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},lLr=St(e=>({applyToStack:St(t=>{t.add(Dit(e),kit)},"applyToStack")}),"getS3ExpressPlugin"),Mit=(Ze(),H(As)),dLr=bn(),uLr=St(async(e,t,r,n)=>{let s=await n.signWithCredentials(r,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},"signS3Express"),mLr=St(e=>t=>{throw t},"defaultErrorHandler"),fLr=St((e,t)=>{},"defaultSuccessHandler"),pLr=Mit.httpSigningMiddlewareOptions,Lit=St(e=>(t,r)=>async n=>{if(!ST.HttpRequest.isInstance(n.request))return t(n);let i=(0,dLr.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l;r.s3ExpressIdentity?l=await uLr(r.s3ExpressIdentity,o,n.request,await e.signer()):l=await c.sign(n.request,a,o);let d=await t({...n,request:l}).catch((c.errorHandler||mLr)(o));return(c.successHandler||fLr)(d.response,o),d},"s3ExpressHttpSigningMiddleware"),gLr=St(e=>({applyToStack:St(t=>{t.addRelativeTo(Lit(e),Mit.httpSigningMiddlewareOptions)},"applyToStack")}),"getS3ExpressHttpSigningPlugin"),hLr=St((e,{session:t})=>{let[r,n]=t,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:o,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:l}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:o??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new Oit(async d=>r().send(new n({Bucket:d}))),bucketEndpoint:l??!1})},"resolveS3Config"),vit=sm(),yLr={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},_Lr=3e3,Uit=St(e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(!ST.HttpResponse.isInstance(i))return s;let{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return s;let l=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,d]=await(0,vit.splitStream)(a)),i.body=d;let u=await SLr(l,{streamCollector:St(async p=>(0,vit.headStream)(p,_Lr),"streamCollector")});typeof l?.destroy=="function"&&l.destroy();let f=e.utf8Encoder(u.subarray(u.length-16));if(u.length===0&&yLr[r.commandName]){let p=new Error("S3 aborted request");throw p.name="InternalError",p}return f&&f.endsWith("</Error>")&&(i.statusCode=400),s},"throw200ExceptionsMiddleware"),SLr=St((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),"collectBody"),Bit={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},vLr=St(e=>({applyToStack:St(t=>{t.addRelativeTo(Uit(e),Bit)},"applyToStack")}),"getThrow200ExceptionsPlugin"),ELr=ore();function Fit(e){return(t,r)=>async n=>{if(e.bucketEndpoint){let s=r.endpointV2;if(s){let i=n.input.Bucket;if(typeof i=="string")try{let o=new URL(i);r.endpointV2={...s,url:o}}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),o}}}return t(n)}}St(Fit,"bucketEndpointMiddleware");var CLr={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function fre({bucketEndpoint:e}){return t=>async r=>{let{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!(0,ELr.validate)(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return t({...r})}}St(fre,"validateBucketNameMiddleware");var qit={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},bLr=St(e=>({applyToStack:St(t=>{t.add(fre(e),qit),t.addRelativeTo(Fit(e),CLr)},"applyToStack")}),"getValidateBucketNamePlugin")});var Nb=E((cjn,Qit)=>{"use strict";var H$=Object.defineProperty,wLr=Object.getOwnPropertyDescriptor,xLr=Object.getOwnPropertyNames,ALr=Object.prototype.hasOwnProperty,sh=(e,t)=>H$(e,"name",{value:t,configurable:!0}),PLr=(e,t)=>{for(var r in t)H$(e,r,{get:t[r],enumerable:!0})},RLr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xLr(t))!ALr.call(e,s)&&s!==r&&H$(e,s,{get:()=>t[s],enumerable:!(n=wLr(t,s))||n.enumerable});return e},ILr=e=>RLr(H$({},"__esModule",{value:!0}),e),zit={};PLr(zit,{ConditionObject:()=>_n.ConditionObject,DeprecatedObject:()=>_n.DeprecatedObject,EndpointError:()=>_n.EndpointError,EndpointObject:()=>_n.EndpointObject,EndpointObjectHeaders:()=>_n.EndpointObjectHeaders,EndpointObjectProperties:()=>_n.EndpointObjectProperties,EndpointParams:()=>_n.EndpointParams,EndpointResolverOptions:()=>_n.EndpointResolverOptions,EndpointRuleObject:()=>_n.EndpointRuleObject,ErrorRuleObject:()=>_n.ErrorRuleObject,EvaluateOptions:()=>_n.EvaluateOptions,Expression:()=>_n.Expression,FunctionArgv:()=>_n.FunctionArgv,FunctionObject:()=>_n.FunctionObject,FunctionReturn:()=>_n.FunctionReturn,ParameterObject:()=>_n.ParameterObject,ReferenceObject:()=>_n.ReferenceObject,ReferenceRecord:()=>_n.ReferenceRecord,RuleSetObject:()=>_n.RuleSetObject,RuleSetRules:()=>_n.RuleSetRules,TreeRuleObject:()=>_n.TreeRuleObject,awsEndpointFunctions:()=>Jit,getUserAgentPrefix:()=>DLr,isIpAddress:()=>_n.isIpAddress,partition:()=>Kit,resolveDefaultAwsRegionalEndpointsConfig:()=>MLr,resolveEndpoint:()=>_n.resolveEndpoint,setPartitionInfo:()=>Xit,toEndpointV1:()=>Yit,useDefaultPartitionInfo:()=>NLr});Qit.exports=ILr(zit);var _n=no(),Hit=sh((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Hit(r))return!1;return!0}return!(!(0,_n.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,_n.isIpAddress)(e))},"isVirtualHostableS3Bucket"),$it=":",TLr="/",OLr=sh(e=>{let t=e.split($it);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join($it)==="")return null;let c=a.map(l=>l.split(TLr)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),Git={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},Vit=Git,Wit="",Kit=sh(e=>{let{partitions:t}=Vit;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Xit=sh((e,t="")=>{Vit=e,Wit=t},"setPartitionInfo"),NLr=sh(()=>{Xit(Git,"")},"useDefaultPartitionInfo"),DLr=sh(()=>Wit,"getUserAgentPrefix"),Jit={isVirtualHostableS3Bucket:Hit,parseArn:OLr,partition:Kit};_n.customEndpointFunctions.aws=Jit;var kLr=gi(),MLr=sh(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Yit(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),Yit=sh(e=>(0,kLr.parseUrl)(e.url),"toEndpointV1")});var G$,Db,Zit=v(()=>{G$={warningEmitted:!1},Db=e=>{e&&!G$.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(G$.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function ih(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var eot=v(()=>{});function tot(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var rot=v(()=>{});function not(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var sot=v(()=>{});var oh={};Kt(oh,{emitWarningIfUnsupportedVersion:()=>Db,setCredentialFeature:()=>ih,setFeature:()=>tot,setTokenFeature:()=>not,state:()=>G$});var Td=v(()=>{Zit();eot();rot();sot()});var iot,pre,oot=v(()=>{iot=C(Fe()),pre=e=>iot.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var kb,gre=v(()=>{kb=e=>new Date(Date.now()+e)});var aot,cot=v(()=>{gre();aot=(e,t)=>Math.abs(kb(t).getTime()-e)>=3e5});var hre,lot=v(()=>{cot();hre=(e,t)=>{let r=Date.parse(e);return aot(r,t)?r-Date.now():t}});var yre=v(()=>{oot();gre();lot()});var dot,vT,Mb,ka,_re,Sre=v(()=>{dot=C(Fe());yre();vT=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Mb=async e=>{let t=vT("context",e.context),r=vT("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await vT("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},ka=class{async sign(t,r,n){if(!dot.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Mb(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[u,f]=l.authSchemes;u?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(t,{signingDate:kb(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??pre(r.$response);if(n){let s=vT("config",t.config),i=s.systemClockOffset;s.systemClockOffset=hre(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=pre(t);if(n){let s=vT("config",r.config);s.systemClockOffset=hre(n,s.systemClockOffset)}}},_re=ka});var uot,ET,mot=v(()=>{uot=C(Fe());yre();Sre();ET=class extends ka{async sign(t,r,n){if(!uot.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await Mb(n),d=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:kb(s.systemClockOffset),signingRegion:d,signingService:c})}}});var vre,fot=v(()=>{vre=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var V$,Ere=v(()=>{V$=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var pot,got,Lb,hot=v(()=>{fot();Ere();pot="AWS_AUTH_SCHEME_PREFERENCE",got="auth_scheme_preference",Lb={environmentVariableSelector:(e,t)=>{if(t?.signingName&&V$(t.signingName)in e)return["httpBearerAuth"];if(pot in e)return vre(e[pot])},configFileSelector:e=>{if(got in e)return vre(e[got])},default:[]}});var Cre,yot,_ot,Sot=v(()=>{Ze();Cre=C(Rt()),yot=e=>(e.sigv4aSigningRegionSet=Qt(e.sigv4aSigningRegionSet),e),_ot={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Cre.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Cre.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function LLr(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=od(t,id,vc):r?n=Qt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function ULr(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var bre,D_,vot,Eot=v(()=>{Td();Ze();bre=C(ap()),D_=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=LLr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=ULr(e,d);r&&!u.attributed?(n=async f=>u(f).then(p=>ih(p,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Qt(e.signer):e.regionInfoProvider?a=()=>Qt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:f}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||bre.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Qt(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||bre.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},vot=D_});var Cot=v(()=>{Sre();mot();hot();Sot();Eot()});var bot={};Kt(bot,{AWSSDKSigV4Signer:()=>_re,AwsSdkSigV4ASigner:()=>ET,AwsSdkSigV4Signer:()=>ka,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Lb,NODE_SIGV4A_CONFIG_OPTIONS:()=>_ot,getBearerTokenEnvKey:()=>V$,resolveAWSSDKSigV4Config:()=>vot,resolveAwsSdkSigV4AConfig:()=>yot,resolveAwsSdkSigV4Config:()=>D_,validateSigningProperties:()=>Mb});var wre=v(()=>{Cot();Ere()});var wot,kl,Ub=v(()=>{Ie();wot=C(rv()),kl=class{calculateContentLength(t,r){let n=r?.bodyLengthChecker??wot.calculateBodyLength;return String(n(t))}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:u}=o.getMergedTraits();return!a&&!c&&!l&&!d&&u===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},d=Un.for(a);try{return{errorSchema:o?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{s.Message&&(s.message=s.Message);let f=Un.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(f){let p=f.ctor;throw Object.assign(new p({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var xre,xot=v(()=>{sv();Ie();Ub();xre=class extends Cc{awsQueryCompatible;mixin=new kl;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Ec(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator())f[p]=this.deserializer.readValue(g,s[p]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var BLr,FLr,qLr,Aot=v(()=>{BLr=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},FLr=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},qLr=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Io,ah=v(()=>{Io=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function Pot(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new he(n,"bigDecimal"):BigInt(n)}return t}var Rot=v(()=>{zt()});var Iot,Tot,W$,Are=v(()=>{Iot=C(V()),Tot=C(Ct()),W$=(e,t)=>(0,Iot.collectBody)(e,t).then(r=>(t?.utf8Encoder??Tot.toUtf8)(r))});var Bb,Pre,k_,CT=v(()=>{Are();Bb=(e,t)=>W$(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Pre=async(e,t)=>{let r=await Bb(e,t);return r.message=r.message??r.Message,r},k_=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var Oot,bT,Rre=v(()=>{nt();Ie();zt();Oot=C(bt());ah();Rot();CT();bT=class extends Io{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,Pot):await Bb(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=U.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(o,d));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(o[a]=d)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,Oot.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return xr.from(r);if(s.isTimestampSchema()&&r!=null)switch(Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:return Ga(r);case F.TIMESTAMP_HTTP_DATE:return Va(r);case F.TIMESTAMP_EPOCH_SECONDS:return jo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof he)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new he(o.string,o.type):new he(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var Not,K$,Dot=v(()=>{zt();Not="\u039D",K$=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof he){let n=`${Not+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${Not+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var kot,wT,Ire=v(()=>{nt();Ie();zt();kot=C(bt());ah();Dot();wT=class extends Io{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=U.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=U.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new K$;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=U.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(o,d));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],i);d!==void 0&&(o[l]=d)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,kot.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Pt(i,this.settings)){case F.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case F.TIMESTAMP_HTTP_DATE:return Ha(r);case F.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return Zt();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return xr.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof he?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var M_,X$=v(()=>{ah();Rre();Ire();M_=class extends Io{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new wT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new bT(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var L_,J$=v(()=>{nt();Ie();Ub();X$();CT();L_=class extends wn{serializer;deserializer;serviceTarget;codec;mixin=new kl;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new M_({timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${U.of(t).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(zr(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=k_(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d),f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,f),Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}}});var Tre,Mot=v(()=>{J$();Tre=class extends L_{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Ore,Lot=v(()=>{J$();Ore=class extends L_{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Nre,Uot=v(()=>{nt();Ie();Ub();X$();CT();Nre=class extends es{serializer;deserializer;codec;mixin=new kl;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new M_(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async handleError(t,r,n,s,i){let o=k_(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().jsonName??p;f[p]=this.codec.createDeserializer().readObject(g,s[S])}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/json"}}});var Bot,jLr,Fot=v(()=>{Bot=C(V()),jLr=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Bot.expectUnion)(e)}});var qot,jot,U_,Y$=v(()=>{nt();Ie();qot=C(V()),jot=C(Ct());cd();ah();U_=class extends Io{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $o(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=U.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(i)[0];return i[d].isBlobSchema()?l[d]=r:l[d]=this.read(i[d],r),l}let a=(this.serdeContext?.utf8Encoder??jot.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=U.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=o?r:(r[0]??r)[d],f=Array.isArray(u)?u:[u];for(let p of f)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;o?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",f=l.getMergedTraits().xmlName??"value";for(let p of d){let g=p[u],S=p[f];(S!=null||i)&&(a[g]=this.readSchema(l,S))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,qot.getValueFromTextNode)(o)}return{}}}});var $ot,zot,Q$,Hot=v(()=>{nt();Ie();zt();$ot=C(V()),zot=C(bt());ah();Q$=class extends Io{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=U.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??zot.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Zt()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof he?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Pt(s,this.settings)){case F.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case F.TIMESTAMP_HTTP_DATE:this.writeValue((0,$ot.dateToUtcString)(r));break;case F.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",i.getMergedTraits().xmlName),f=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,f),this.write(o,d,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${_s(t)}=`}writeValue(t){this.buffer+=_s(t)}}});var xT,Dre=v(()=>{nt();Ie();Ub();Y$();Hot();xT=class extends wn{options;serializer;deserializer;mixin=new kl;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Q$(r),this.deserializer=new U_(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(zr(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=U.of(t.output),o={};if(n.statusCode>=300){let u=await Qn(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(F.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let f=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=f}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Qn(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(g,S)=>g.find(b=>U.of(b).getMergedTraits().awsQueryError?.[0]===S)),d=U.of(c),u=this.loadQueryErrorMessage(s),f=new c.ctor(u),p={};for(let[g,S]of d.structIterator()){let b=S.getMergedTraits().xmlName??g,A=a[b]??s[b];p[g]=this.deserializer.readSchema(S,A)}throw Object.assign(f,l,{$fault:d.getMergedTraits().error,message:u},p)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var kre,Got=v(()=>{Dre();kre=class extends xT{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Vot,AT,Mre,Lre,Ure=v(()=>{Vot=C(V());cd();Are();AT=(e,t)=>W$(e,t).then(r=>{if(r.length){let n=new Bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,Vot.getValueFromTextNode)(a)}return{}}),Mre=async(e,t)=>{let r=await AT(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Lre=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Bre=E((m$n,Yot)=>{"use strict";var ez=Object.defineProperty,$Lr=Object.getOwnPropertyDescriptor,zLr=Object.getOwnPropertyNames,HLr=Object.prototype.hasOwnProperty,tz=(e,t)=>ez(e,"name",{value:t,configurable:!0}),GLr=(e,t)=>{for(var r in t)ez(e,r,{get:t[r],enumerable:!0})},VLr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zLr(t))!HLr.call(e,s)&&s!==r&&ez(e,s,{get:()=>t[s],enumerable:!(n=$Lr(t,s))||n.enumerable});return e},WLr=e=>VLr(ez({},"__esModule",{value:!0}),e),Wot={};GLr(Wot,{XmlNode:()=>KLr,XmlText:()=>Jot});Yot.exports=WLr(Wot);function Kot(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}tz(Kot,"escapeAttribute");function Xot(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}tz(Xot,"escapeElement");var Jot=class{constructor(e){this.value=e}static{tz(this,"XmlText")}toString(){return Xot(""+this.value)}},KLr=class Z${constructor(t,r=[]){this.name=t,this.children=r}static{tz(this,"XmlNode")}attributes={};static of(t,r,n){let s=new Z$(t);return r!==void 0&&s.addChildNode(new Jot(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=Z$.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new Z$(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${Kot(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Ml,Fre,rz,PT,qre=v(()=>{Ml=C(Bre());nt();Ie();zt();Fre=C(V()),rz=C(bt());ah();PT=class extends Io{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=U.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??rz.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Ml.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){o.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,o,c);else if(d.isMapSchema())this.writeMap(d,u,o,c);else if(d.isStructSchema())o.addChildNode(this.writeStruct(d,u,c));else{let f=Ml.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,f,c),o.addChildNode(f)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,s),f=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,u);else if(o.isMapSchema())this.writeMap(o,g,p,u);else if(o.isStructSchema()){let S=this.writeStruct(o,g,u);p.addChildNode(S.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=Ml.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,S,u),p.addChildNode(S)}};if(l)for(let p of r)(c||p!=null)&&f(n,p);else{let p=Ml.XmlNode.of(i.xmlName??t.getMemberName());u&&p.addAttribute(d,u);for(let g of r)(c||g!=null)&&f(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),f=u.xmlName??"value",p=!!u.sparse,g=!!o.xmlFlattened,[S,b]=this.getXmlnsAttribute(t,s),A=(P,M,N)=>{let L=Ml.XmlNode.of(l,M),[G,pe]=this.getXmlnsAttribute(a,b);pe&&L.addAttribute(G,pe),P.addChildNode(L);let ne=Ml.XmlNode.of(f);d.isListSchema()?this.writeList(d,N,ne,b):d.isMapSchema()?this.writeMap(d,N,ne,b,!0):d.isStructSchema()?ne=this.writeStruct(d,N,b):this.writeSimpleInto(d,N,ne,b),P.addChildNode(ne)};if(g){for(let[P,M]of Object.entries(r))if(p||M!=null){let N=Ml.XmlNode.of(o.xmlName??t.getMemberName());A(N,P,M),n.addChildNode(N)}}else{let P;i||(P=Ml.XmlNode.of(o.xmlName??t.getMemberName()),b&&P.addAttribute(S,b),n.addChildNode(P));for(let[M,N]of Object.entries(r))if(p||N!=null){let L=Ml.XmlNode.of("entry");A(L,M,N),(i?n:P).addChildNode(L)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=U.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??rz.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Pt(n,this.settings)){case F.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case F.TIMESTAMP_HTTP_DATE:s=(0,Fre.dateToUtcString)(r);break;case F.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Fre.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof he?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=Zt():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=U.of(t),a=new Ml.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var RT,jre=v(()=>{ah();Y$();qre();RT=class extends Io{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new PT(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new U_(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var $re,Qot=v(()=>{nt();Ie();Ub();Ure();jre();$re=class extends es{codec;serializer;deserializer;mixin=new kl;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:F.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new RT(r),this.serializer=new rs(this.codec.createSerializer(),r),this.deserializer=new ts(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=U.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=this.mixin.calculateContentLength(s.body,this.serdeContext)}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Lre(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=U.of(a),d=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",u=new a.ctor(d);await this.deserializeHttpMessage(a,r,n,s);let f={};for(let[p,g]of l.structIterator()){let S=g.getMergedTraits().xmlName??p,b=s.Error?.[S]??s[S];f[p]=this.codec.createDeserializer().readSchema(g,b)}throw Object.assign(u,c,{$fault:l.getMergedTraits().error,message:d},f)}getDefaultContentType(){return"application/xml"}}});var Zot=v(()=>{xot();Aot();Mot();Lot();J$();Uot();X$();Rre();Ire();Fot();CT();Got();Dre();Qot();jre();Y$();qre();Ure()});var Fu={};Kt(Fu,{AWSSDKSigV4Signer:()=>_re,AwsEc2QueryProtocol:()=>kre,AwsJson1_0Protocol:()=>Tre,AwsJson1_1Protocol:()=>Ore,AwsJsonRpcProtocol:()=>L_,AwsQueryProtocol:()=>xT,AwsRestJsonProtocol:()=>Nre,AwsRestXmlProtocol:()=>$re,AwsSdkSigV4ASigner:()=>ET,AwsSdkSigV4Signer:()=>ka,AwsSmithyRpcV2CborProtocol:()=>xre,JsonCodec:()=>M_,JsonShapeDeserializer:()=>bT,JsonShapeSerializer:()=>wT,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Lb,NODE_SIGV4A_CONFIG_OPTIONS:()=>_ot,XmlCodec:()=>RT,XmlShapeDeserializer:()=>U_,XmlShapeSerializer:()=>PT,_toBool:()=>FLr,_toNum:()=>qLr,_toStr:()=>BLr,awsExpectUnion:()=>jLr,emitWarningIfUnsupportedVersion:()=>Db,getBearerTokenEnvKey:()=>V$,loadRestJsonErrorCode:()=>k_,loadRestXmlErrorCode:()=>Lre,parseJsonBody:()=>Bb,parseJsonErrorBody:()=>Pre,parseXmlBody:()=>AT,parseXmlErrorBody:()=>Mre,resolveAWSSDKSigV4Config:()=>vot,resolveAwsSdkSigV4AConfig:()=>yot,resolveAwsSdkSigV4Config:()=>D_,setCredentialFeature:()=>ih,setFeature:()=>tot,setTokenFeature:()=>not,state:()=>G$,validateSigningProperties:()=>Mb});var Pi=v(()=>{Td();wre();Zot()});var Fb=E((Y$n,uat)=>{"use strict";var sz=Object.defineProperty,XLr=Object.getOwnPropertyDescriptor,JLr=Object.getOwnPropertyNames,YLr=Object.prototype.hasOwnProperty,kf=(e,t)=>sz(e,"name",{value:t,configurable:!0}),QLr=(e,t)=>{for(var r in t)sz(e,r,{get:t[r],enumerable:!0})},ZLr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of JLr(t))!YLr.call(e,s)&&s!==r&&sz(e,s,{get:()=>t[s],enumerable:!(n=XLr(t,s))||n.enumerable});return e},eUr=e=>ZLr(sz({},"__esModule",{value:!0}),e),nat={};QLr(nat,{DEFAULT_UA_APP_ID:()=>sat,getUserAgentMiddlewareOptions:()=>dat,getUserAgentPlugin:()=>cUr,resolveUserAgentConfig:()=>oat,userAgentMiddleware:()=>lat});uat.exports=eUr(nat);var tUr=(Ze(),H(As)),sat=void 0;function iat(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}kf(iat,"isValidUserAgentAppId");function oat(e){let t=(0,tUr.normalizeProvider)(e.userAgentAppId??sat),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:kf(async()=>{let n=await t();if(!iat(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}kf(oat,"resolveUserAgentConfig");var rUr=Nb(),nUr=Fe(),qu=(Pi(),H(Fu)),sUr=/\d{12}\.ddb/;async function aat(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,qu.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,qu.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,qu.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,qu.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(sUr)&&(0,qu.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,qu.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,qu.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,qu.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,qu.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,qu.setFeature)(e,o,a)}}kf(aat,"checkFeatures");var eat="user-agent",zre="x-amz-user-agent",tat=" ",Hre="/",iUr=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,oUr=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,rat="-",aUr=1024;function cat(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=aUr){t.length?t+=","+n:t+=n;continue}break}return t}kf(cat,"encodeFeatures");var lat=kf(e=>(t,r)=>async n=>{let{request:s}=n;if(!nUr.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(nz)||[],a=(await e.defaultUserAgentProvider()).map(nz);await aat(r,e,n);let c=r;a.push(`m/${cat(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(nz)||[],d=await e.userAgentAppId();d&&a.push(nz([`app/${d}`]));let u=(0,rUr.getUserAgentPrefix)(),f=(u?[u]:[]).concat([...a,...o,...l]).join(tat),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(tat);return e.runtime!=="browser"?(p&&(i[zre]=i[zre]?`${i[eat]} ${p}`:p),i[eat]=f):i[zre]=f,t({...n,request:s})},"userAgentMiddleware"),nz=kf(e=>{let t=e[0].split(Hre).map(o=>o.replace(iUr,rat)).join(Hre),r=e[1]?.replace(oUr,rat),n=t.indexOf(Hre),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),dat={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},cUr=kf(e=>({applyToStack:kf(t=>{t.add(lat(e),dat)},"applyToStack")}),"getUserAgentPlugin")});var pat=E((Q$n,fat)=>{var iz=Object.defineProperty,lUr=Object.getOwnPropertyDescriptor,dUr=Object.getOwnPropertyNames,uUr=Object.prototype.hasOwnProperty,mUr=(e,t)=>iz(e,"name",{value:t,configurable:!0}),fUr=(e,t)=>{for(var r in t)iz(e,r,{get:t[r],enumerable:!0})},pUr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dUr(t))!uUr.call(e,s)&&s!==r&&iz(e,s,{get:()=>t[s],enumerable:!(n=lUr(t,s))||n.enumerable});return e},gUr=e=>pUr(iz({},"__esModule",{value:!0}),e),mat={};fUr(mat,{resolveEventStreamSerdeConfig:()=>hUr});fat.exports=gUr(mat);var hUr=mUr(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var az=E((Z$n,yat)=>{"use strict";var oz=Object.defineProperty,yUr=Object.getOwnPropertyDescriptor,_Ur=Object.getOwnPropertyNames,SUr=Object.prototype.hasOwnProperty,vUr=(e,t)=>oz(e,"name",{value:t,configurable:!0}),EUr=(e,t)=>{for(var r in t)oz(e,r,{get:t[r],enumerable:!0})},CUr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _Ur(t))!SUr.call(e,s)&&s!==r&&oz(e,s,{get:()=>t[s],enumerable:!(n=yUr(t,s))||n.enumerable});return e},bUr=e=>CUr(oz({},"__esModule",{value:!0}),e),hat={};EUr(hat,{SignatureV4MultiRegion:()=>xUr,signatureV4CrtContainer:()=>IT});yat.exports=bUr(hat);var wUr=Ne(),gat=ap(),IT={CrtSignerV4:null},xUr=class{static{vUr(this,"SignatureV4MultiRegion")}sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof IT.CrtSignerV4=="function"?"crt":typeof gat.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(e){this.sigv4Signer=new wUr.SignatureV4S3Express(e),this.signerOptions=e}async sign(e,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(e,t):this.sigv4Signer.sign(e,t)}async signWithCredentials(e,t,r={}){if(r.signingRegion==="*"){let n=this.getSigv4aSigner(),s=IT.CrtSignerV4;if(s&&n instanceof s)return n.signWithCredentials(e,t,r);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(e,t,r)}async presign(e,t={}){if(t.signingRegion==="*"){let r=this.getSigv4aSigner(),n=IT.CrtSignerV4;if(n&&r instanceof n)return r.presign(e,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(e,t)}async presignWithCredentials(e,t,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=IT.CrtSignerV4,t=gat.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!e&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(e&&typeof e=="function")this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}}});var Gct=E(hz=>{"use strict";Object.defineProperty(hz,"__esModule",{value:!0});hz.ruleSet=void 0;var pne="required",I="type",W="rules",k="conditions",$="fn",z="argv",je="ref",ft="assign",Ae="url",Pe="properties",F_="backend",To="authSchemes",Oi="disableDoubleEncoding",Ni="signingName",ua="signingRegion",Re="headers",gne="signingRegionSet",AUr=6,PUr=!1,ju=!0,fc="isSet",Fs="booleanEquals",we="error",mz="aws.partition",ar="stringEquals",fs="getAttr",Bs="name",tn="substring",_at="bucketSuffix",hne="parseURL",de="endpoint",K="tree",fz="aws.isVirtualHostableS3Bucket",pz="{url#scheme}://{Bucket}.{url#authority}{url#path}",Hu="not",Sat="accessPointSuffix",uz="{url#scheme}://{url#authority}{url#path}",Ict="hardwareType",Tct="regionPrefix",vat="bucketAliasSuffix",mne="outpostId",q_="isValidHostLabel",yne="sigv4a",DT="s3-outposts",Hb="s3",Oct="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Nct="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Eat="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Dct="aws.parseArn",kct="bucketArn",Mct="arnType",gz="",_ne="s3-object-lambda",Lct="accesspoint",Sne="accessPointName",Cat="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",bat="mrapPartition",wat="outpostType",xat="arnPrefix",Uct="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Aat="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Pat="https://s3.{partitionResult#dnsSuffix}",qb={[pne]:!1,[I]:"String"},jb={[pne]:!0,default:!1,[I]:"Boolean"},TT={[pne]:!1,[I]:"Boolean"},Ul={[$]:Fs,[z]:[{[je]:"Accelerate"},!0]},Sn={[$]:Fs,[z]:[{[je]:"UseFIPS"},!0]},en={[$]:Fs,[z]:[{[je]:"UseDualStack"},!0]},Us={[$]:fc,[z]:[{[je]:"Endpoint"}]},Bct={[$]:mz,[z]:[{[je]:"Region"}],[ft]:"partitionResult"},Rat={[$]:ar,[z]:[{[$]:fs,[z]:[{[je]:"partitionResult"},Bs]},"aws-cn"]},NT={[$]:fc,[z]:[{[je]:"Bucket"}]},or={[je]:"Bucket"},Iat={[k]:[en],[we]:"S3Express does not support Dual-stack.",[I]:we},Tat={[k]:[Ul],[we]:"S3Express does not support S3 Accelerate.",[I]:we},Oat={[k]:[Us,{[$]:hne,[z]:[{[je]:"Endpoint"}],[ft]:"url"}],[W]:[{[k]:[{[$]:fc,[z]:[{[je]:"DisableS3ExpressSessionAuth"}]},{[$]:Fs,[z]:[{[je]:"DisableS3ExpressSessionAuth"},!0]}],[W]:[{[k]:[{[$]:Fs,[z]:[{[$]:fs,[z]:[{[je]:"url"},"isIp"]},!0]}],[W]:[{[k]:[{[$]:"uriEncode",[z]:[or],[ft]:"uri_encoded_bucket"}],[W]:[{[de]:{[Ae]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Pe]:{[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:"s3express",[ua]:"{Region}"}]},[Re]:{}},[I]:de}],[I]:K}],[I]:K},{[k]:[{[$]:fz,[z]:[or,!1]}],[W]:[{[de]:{[Ae]:pz,[Pe]:{[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:"s3express",[ua]:"{Region}"}]},[Re]:{}},[I]:de}],[I]:K},{[we]:"S3Express bucket name is not a valid virtual hostable name.",[I]:we}],[I]:K},{[k]:[{[$]:Fs,[z]:[{[$]:fs,[z]:[{[je]:"url"},"isIp"]},!0]}],[W]:[{[k]:[{[$]:"uriEncode",[z]:[or],[ft]:"uri_encoded_bucket"}],[W]:[{[de]:{[Ae]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Pe]:{[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4-s3express",[Ni]:"s3express",[ua]:"{Region}"}]},[Re]:{}},[I]:de}],[I]:K}],[I]:K},{[k]:[{[$]:fz,[z]:[or,!1]}],[W]:[{[de]:{[Ae]:pz,[Pe]:{[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4-s3express",[Ni]:"s3express",[ua]:"{Region}"}]},[Re]:{}},[I]:de}],[I]:K},{[we]:"S3Express bucket name is not a valid virtual hostable name.",[I]:we}],[I]:K},da={[$]:hne,[z]:[{[je]:"Endpoint"}],[ft]:"url"},Gre={[$]:Fs,[z]:[{[$]:fs,[z]:[{[je]:"url"},"isIp"]},!0]},Fct={[je]:"url"},qct={[$]:"uriEncode",[z]:[or],[ft]:"uri_encoded_bucket"},B_={[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:"s3express",[ua]:"{Region}"}]},at={},jct={[$]:fz,[z]:[or,!1]},Nat={[we]:"S3Express bucket name is not a valid virtual hostable name.",[I]:we},Dat={[$]:fc,[z]:[{[je]:"UseS3ExpressControlEndpoint"}]},kat={[$]:Fs,[z]:[{[je]:"UseS3ExpressControlEndpoint"},!0]},ct={[$]:Hu,[z]:[Us]},cz={[we]:"Unrecognized S3Express bucket name format.",[I]:we},Mat={[$]:Hu,[z]:[NT]},Lat={[je]:Ict},Uat={[k]:[ct],[we]:"Expected a endpoint to be specified but no endpoint was found",[I]:we},lz={[To]:[{[Oi]:!0,[Bs]:yne,[Ni]:DT,[gne]:["*"]},{[Oi]:!0,[Bs]:"sigv4",[Ni]:DT,[ua]:"{Region}"}]},Vre={[$]:Fs,[z]:[{[je]:"ForcePathStyle"},!1]},RUr={[je]:"ForcePathStyle"},ei={[$]:Fs,[z]:[{[je]:"Accelerate"},!1]},li={[$]:ar,[z]:[{[je]:"Region"},"aws-global"]},Ri={[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:Hb,[ua]:"us-east-1"}]},nr={[$]:Hu,[z]:[li]},Ii={[$]:Fs,[z]:[{[je]:"UseGlobalEndpoint"},!0]},Bat={[Ae]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Pe]:{[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:Hb,[ua]:"{Region}"}]},[Re]:{}},ti={[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:Hb,[ua]:"{Region}"}]},Ti={[$]:Fs,[z]:[{[je]:"UseGlobalEndpoint"},!1]},Jt={[$]:Fs,[z]:[{[je]:"UseDualStack"},!1]},Fat={[Ae]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},xt={[$]:Fs,[z]:[{[je]:"UseFIPS"},!1]},qat={[Ae]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},jat={[Ae]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},Wre={[$]:Fs,[z]:[{[$]:fs,[z]:[Fct,"isIp"]},!1]},Kre={[Ae]:Oct,[Pe]:ti,[Re]:{}},fne={[Ae]:pz,[Pe]:ti,[Re]:{}},$at={[de]:fne,[I]:de},Xre={[Ae]:Nct,[Pe]:ti,[Re]:{}},zat={[Ae]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},dz={[we]:"Invalid region: region was not a valid DNS name.",[I]:we},Ma={[je]:kct},$ct={[je]:Mct},Jre={[$]:fs,[z]:[Ma,"service"]},vne={[je]:Sne},Hat={[k]:[en],[we]:"S3 Object Lambda does not support Dual-stack",[I]:we},Gat={[k]:[Ul],[we]:"S3 Object Lambda does not support S3 Accelerate",[I]:we},Vat={[k]:[{[$]:fc,[z]:[{[je]:"DisableAccessPoints"}]},{[$]:Fs,[z]:[{[je]:"DisableAccessPoints"},!0]}],[we]:"Access points are not supported for this operation",[I]:we},Yre={[k]:[{[$]:fc,[z]:[{[je]:"UseArnRegion"}]},{[$]:Fs,[z]:[{[je]:"UseArnRegion"},!1]},{[$]:Hu,[z]:[{[$]:ar,[z]:[{[$]:fs,[z]:[Ma,"region"]},"{Region}"]}]}],[we]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[I]:we},zct={[$]:fs,[z]:[{[je]:"bucketPartition"},Bs]},Hct={[$]:fs,[z]:[Ma,"accountId"]},Qre={[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:_ne,[ua]:"{bucketArn#region}"}]},Wat={[we]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[I]:we},Zre={[we]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[I]:we},ene={[we]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[I]:we},tne={[we]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[I]:we},Kat={[we]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[I]:we},Xat={[we]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[I]:we},OT={[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:Hb,[ua]:"{bucketArn#region}"}]},Jat={[To]:[{[Oi]:!0,[Bs]:yne,[Ni]:DT,[gne]:["*"]},{[Oi]:!0,[Bs]:"sigv4",[Ni]:DT,[ua]:"{bucketArn#region}"}]},Yat={[$]:Dct,[z]:[or]},Qat={[Ae]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:ti,[Re]:{}},Zat={[Ae]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:ti,[Re]:{}},ect={[Ae]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:ti,[Re]:{}},rne={[Ae]:Uct,[Pe]:ti,[Re]:{}},tct={[Ae]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:ti,[Re]:{}},rct={[je]:"UseObjectLambdaEndpoint"},nne={[To]:[{[Oi]:!0,[Bs]:"sigv4",[Ni]:_ne,[ua]:"{Region}"}]},nct={[Ae]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},sct={[Ae]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},ict={[Ae]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},sne={[Ae]:uz,[Pe]:ti,[Re]:{}},oct={[Ae]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Pe]:ti,[Re]:{}},ine=[{[je]:"Region"}],IUr=[{[je]:"Endpoint"}],TUr=[or],act=[en],one=[Ul],$b=[Us,da],cct=[{[$]:fc,[z]:[{[je]:"DisableS3ExpressSessionAuth"}]},{[$]:Fs,[z]:[{[je]:"DisableS3ExpressSessionAuth"},!0]}],OUr=[qct],lct=[jct],Ll=[Bct],zb=[Sn],dct=[{[$]:tn,[z]:[or,6,14,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,14,16,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],$u=[{[k]:[Sn],[de]:{[Ae]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Pe]:B_,[Re]:{}},[I]:de},{[de]:{[Ae]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Pe]:B_,[Re]:{}},[I]:de}],uct=[{[$]:tn,[z]:[or,6,15,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,15,17,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],mct=[{[$]:tn,[z]:[or,6,19,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,19,21,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],fct=[{[$]:tn,[z]:[or,6,20,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,20,22,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],pct=[{[$]:tn,[z]:[or,6,26,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,26,28,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],zu=[{[k]:[Sn],[de]:{[Ae]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Pe]:{[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4-s3express",[Ni]:"s3express",[ua]:"{Region}"}]},[Re]:{}},[I]:de},{[de]:{[Ae]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Pe]:{[F_]:"S3Express",[To]:[{[Oi]:!0,[Bs]:"sigv4-s3express",[Ni]:"s3express",[ua]:"{Region}"}]},[Re]:{}},[I]:de}],gct=[or,0,7,!0],hct=[{[$]:tn,[z]:[or,7,15,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,15,17,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],yct=[{[$]:tn,[z]:[or,7,16,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,16,18,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],_ct=[{[$]:tn,[z]:[or,7,20,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,20,22,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],Sct=[{[$]:tn,[z]:[or,7,21,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,21,23,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],vct=[{[$]:tn,[z]:[or,7,27,!0],[ft]:"s3expressAvailabilityZoneId"},{[$]:tn,[z]:[or,27,29,!0],[ft]:"s3expressAvailabilityZoneDelim"},{[$]:ar,[z]:[{[je]:"s3expressAvailabilityZoneDelim"},"--"]}],NUr=[NT],Ect=[{[$]:q_,[z]:[{[je]:mne},!1]}],Cct=[{[$]:ar,[z]:[{[je]:Tct},"beta"]}],DUr=["*"],bct=[{[$]:q_,[z]:[{[je]:"Region"},!1]}],ch=[{[$]:ar,[z]:[{[je]:"Region"},"us-east-1"]}],ane=[{[$]:ar,[z]:[$ct,Lct]}],wct=[{[$]:fs,[z]:[Ma,"resourceId[1]"],[ft]:Sne},{[$]:Hu,[z]:[{[$]:ar,[z]:[vne,gz]}]}],kUr=[Ma,"resourceId[1]"],cne=[{[$]:Hu,[z]:[{[$]:ar,[z]:[{[$]:fs,[z]:[Ma,"region"]},gz]}]}],xct=[{[$]:Hu,[z]:[{[$]:fc,[z]:[{[$]:fs,[z]:[Ma,"resourceId[2]"]}]}]}],MUr=[Ma,"resourceId[2]"],lne=[{[$]:mz,[z]:[{[$]:fs,[z]:[Ma,"region"]}],[ft]:"bucketPartition"}],Act=[{[$]:ar,[z]:[zct,{[$]:fs,[z]:[{[je]:"partitionResult"},Bs]}]}],dne=[{[$]:q_,[z]:[{[$]:fs,[z]:[Ma,"region"]},!0]}],une=[{[$]:q_,[z]:[Hct,!1]}],Pct=[{[$]:q_,[z]:[vne,!1]}],Rct=[{[$]:q_,[z]:[{[je]:"Region"},!0]}],LUr={version:"1.0",parameters:{Bucket:qb,Region:qb,UseFIPS:jb,UseDualStack:jb,Endpoint:qb,ForcePathStyle:jb,Accelerate:jb,UseGlobalEndpoint:jb,UseObjectLambdaEndpoint:TT,Key:qb,Prefix:qb,CopySource:qb,DisableAccessPoints:TT,DisableMultiRegionAccessPoints:jb,UseArnRegion:TT,UseS3ExpressControlEndpoint:TT,DisableS3ExpressSessionAuth:TT},[W]:[{[k]:[{[$]:fc,[z]:ine}],[W]:[{[k]:[Ul,Sn],error:"Accelerate cannot be used with FIPS",[I]:we},{[k]:[en,Us],error:"Cannot set dual-stack in combination with a custom endpoint.",[I]:we},{[k]:[Us,Sn],error:"A custom endpoint cannot be combined with FIPS",[I]:we},{[k]:[Us,Ul],error:"A custom endpoint cannot be combined with S3 Accelerate",[I]:we},{[k]:[Sn,Bct,Rat],error:"Partition does not support FIPS",[I]:we},{[k]:[NT,{[$]:tn,[z]:[or,0,AUr,ju],[ft]:_at},{[$]:ar,[z]:[{[je]:_at},"--x-s3"]}],[W]:[Iat,Tat,Oat,{[k]:[Dat,kat],[W]:[{[k]:Ll,[W]:[{[k]:[qct,ct],[W]:[{[k]:zb,endpoint:{[Ae]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:B_,[Re]:at},[I]:de},{endpoint:{[Ae]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:B_,[Re]:at},[I]:de}],[I]:K}],[I]:K}],[I]:K},{[k]:lct,[W]:[{[k]:Ll,[W]:[{[k]:cct,[W]:[{[k]:dct,[W]:$u,[I]:K},{[k]:uct,[W]:$u,[I]:K},{[k]:mct,[W]:$u,[I]:K},{[k]:fct,[W]:$u,[I]:K},{[k]:pct,[W]:$u,[I]:K},cz],[I]:K},{[k]:dct,[W]:zu,[I]:K},{[k]:uct,[W]:zu,[I]:K},{[k]:mct,[W]:zu,[I]:K},{[k]:fct,[W]:zu,[I]:K},{[k]:pct,[W]:zu,[I]:K},cz],[I]:K}],[I]:K},Nat],[I]:K},{[k]:[NT,{[$]:tn,[z]:gct,[ft]:Sat},{[$]:ar,[z]:[{[je]:Sat},"--xa-s3"]}],[W]:[Iat,Tat,Oat,{[k]:lct,[W]:[{[k]:Ll,[W]:[{[k]:cct,[W]:[{[k]:hct,[W]:$u,[I]:K},{[k]:yct,[W]:$u,[I]:K},{[k]:_ct,[W]:$u,[I]:K},{[k]:Sct,[W]:$u,[I]:K},{[k]:vct,[W]:$u,[I]:K},cz],[I]:K},{[k]:hct,[W]:zu,[I]:K},{[k]:yct,[W]:zu,[I]:K},{[k]:_ct,[W]:zu,[I]:K},{[k]:Sct,[W]:zu,[I]:K},{[k]:vct,[W]:zu,[I]:K},cz],[I]:K}],[I]:K},Nat],[I]:K},{[k]:[Mat,Dat,kat],[W]:[{[k]:Ll,[W]:[{[k]:$b,endpoint:{[Ae]:uz,[Pe]:B_,[Re]:at},[I]:de},{[k]:zb,endpoint:{[Ae]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Pe]:B_,[Re]:at},[I]:de},{endpoint:{[Ae]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Pe]:B_,[Re]:at},[I]:de}],[I]:K}],[I]:K},{[k]:[NT,{[$]:tn,[z]:[or,49,50,ju],[ft]:Ict},{[$]:tn,[z]:[or,8,12,ju],[ft]:Tct},{[$]:tn,[z]:gct,[ft]:vat},{[$]:tn,[z]:[or,32,49,ju],[ft]:mne},{[$]:mz,[z]:ine,[ft]:"regionPartition"},{[$]:ar,[z]:[{[je]:vat},"--op-s3"]}],[W]:[{[k]:Ect,[W]:[{[k]:[{[$]:ar,[z]:[Lat,"e"]}],[W]:[{[k]:Cct,[W]:[Uat,{[k]:$b,endpoint:{[Ae]:"https://{Bucket}.ec2.{url#authority}",[Pe]:lz,[Re]:at},[I]:de}],[I]:K},{endpoint:{[Ae]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Pe]:lz,[Re]:at},[I]:de}],[I]:K},{[k]:[{[$]:ar,[z]:[Lat,"o"]}],[W]:[{[k]:Cct,[W]:[Uat,{[k]:$b,endpoint:{[Ae]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Pe]:lz,[Re]:at},[I]:de}],[I]:K},{endpoint:{[Ae]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Pe]:lz,[Re]:at},[I]:de}],[I]:K},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[I]:we}],[I]:K},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[I]:we}],[I]:K},{[k]:NUr,[W]:[{[k]:[Us,{[$]:Hu,[z]:[{[$]:fc,[z]:[{[$]:hne,[z]:IUr}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[I]:we},{[k]:[Vre,jct],[W]:[{[k]:Ll,[W]:[{[k]:bct,[W]:[{[k]:[Ul,Rat],error:"S3 Accelerate cannot be used in this region",[I]:we},{[k]:[en,Sn,ei,ct,li],endpoint:{[Ae]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[en,Sn,ei,ct,nr,Ii],[W]:[{endpoint:Bat,[I]:de}],[I]:K},{[k]:[en,Sn,ei,ct,nr,Ti],endpoint:Bat,[I]:de},{[k]:[Jt,Sn,ei,ct,li],endpoint:{[Ae]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,Sn,ei,ct,nr,Ii],[W]:[{endpoint:Fat,[I]:de}],[I]:K},{[k]:[Jt,Sn,ei,ct,nr,Ti],endpoint:Fat,[I]:de},{[k]:[en,xt,Ul,ct,li],endpoint:{[Ae]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[en,xt,Ul,ct,nr,Ii],[W]:[{endpoint:qat,[I]:de}],[I]:K},{[k]:[en,xt,Ul,ct,nr,Ti],endpoint:qat,[I]:de},{[k]:[en,xt,ei,ct,li],endpoint:{[Ae]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[en,xt,ei,ct,nr,Ii],[W]:[{endpoint:jat,[I]:de}],[I]:K},{[k]:[en,xt,ei,ct,nr,Ti],endpoint:jat,[I]:de},{[k]:[Jt,xt,ei,Us,da,Gre,li],endpoint:{[Ae]:Oct,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,xt,ei,Us,da,Wre,li],endpoint:{[Ae]:pz,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,xt,ei,Us,da,Gre,nr,Ii],[W]:[{[k]:ch,endpoint:Kre,[I]:de},{endpoint:Kre,[I]:de}],[I]:K},{[k]:[Jt,xt,ei,Us,da,Wre,nr,Ii],[W]:[{[k]:ch,endpoint:fne,[I]:de},$at],[I]:K},{[k]:[Jt,xt,ei,Us,da,Gre,nr,Ti],endpoint:Kre,[I]:de},{[k]:[Jt,xt,ei,Us,da,Wre,nr,Ti],endpoint:fne,[I]:de},{[k]:[Jt,xt,Ul,ct,li],endpoint:{[Ae]:Nct,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,xt,Ul,ct,nr,Ii],[W]:[{[k]:ch,endpoint:Xre,[I]:de},{endpoint:Xre,[I]:de}],[I]:K},{[k]:[Jt,xt,Ul,ct,nr,Ti],endpoint:Xre,[I]:de},{[k]:[Jt,xt,ei,ct,li],endpoint:{[Ae]:Eat,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,xt,ei,ct,nr,Ii],[W]:[{[k]:ch,endpoint:{[Ae]:Eat,[Pe]:ti,[Re]:at},[I]:de},{endpoint:zat,[I]:de}],[I]:K},{[k]:[Jt,xt,ei,ct,nr,Ti],endpoint:zat,[I]:de}],[I]:K},dz],[I]:K}],[I]:K},{[k]:[Us,da,{[$]:ar,[z]:[{[$]:fs,[z]:[Fct,"scheme"]},"http"]},{[$]:fz,[z]:[or,ju]},Vre,xt,Jt,ei],[W]:[{[k]:Ll,[W]:[{[k]:bct,[W]:[$at],[I]:K},dz],[I]:K}],[I]:K},{[k]:[Vre,{[$]:Dct,[z]:TUr,[ft]:kct}],[W]:[{[k]:[{[$]:fs,[z]:[Ma,"resourceId[0]"],[ft]:Mct},{[$]:Hu,[z]:[{[$]:ar,[z]:[$ct,gz]}]}],[W]:[{[k]:[{[$]:ar,[z]:[Jre,_ne]}],[W]:[{[k]:ane,[W]:[{[k]:wct,[W]:[Hat,Gat,{[k]:cne,[W]:[Vat,{[k]:xct,[W]:[Yre,{[k]:lne,[W]:[{[k]:Ll,[W]:[{[k]:Act,[W]:[{[k]:dne,[W]:[{[k]:[{[$]:ar,[z]:[Hct,gz]}],error:"Invalid ARN: Missing account id",[I]:we},{[k]:une,[W]:[{[k]:Pct,[W]:[{[k]:$b,endpoint:{[Ae]:Cat,[Pe]:Qre,[Re]:at},[I]:de},{[k]:zb,endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:Qre,[Re]:at},[I]:de},{endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:Qre,[Re]:at},[I]:de}],[I]:K},Wat],[I]:K},Zre],[I]:K},ene],[I]:K},tne],[I]:K}],[I]:K}],[I]:K},Kat],[I]:K},{error:"Invalid ARN: bucket ARN is missing a region",[I]:we}],[I]:K},Xat],[I]:K},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[I]:we}],[I]:K},{[k]:ane,[W]:[{[k]:wct,[W]:[{[k]:cne,[W]:[{[k]:ane,[W]:[{[k]:cne,[W]:[Vat,{[k]:xct,[W]:[Yre,{[k]:lne,[W]:[{[k]:Ll,[W]:[{[k]:[{[$]:ar,[z]:[zct,"{partitionResult#name}"]}],[W]:[{[k]:dne,[W]:[{[k]:[{[$]:ar,[z]:[Jre,Hb]}],[W]:[{[k]:une,[W]:[{[k]:Pct,[W]:[{[k]:one,error:"Access Points do not support S3 Accelerate",[I]:we},{[k]:[Sn,en],endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:OT,[Re]:at},[I]:de},{[k]:[Sn,Jt],endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:OT,[Re]:at},[I]:de},{[k]:[xt,en],endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:OT,[Re]:at},[I]:de},{[k]:[xt,Jt,Us,da],endpoint:{[Ae]:Cat,[Pe]:OT,[Re]:at},[I]:de},{[k]:[xt,Jt],endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:OT,[Re]:at},[I]:de}],[I]:K},Wat],[I]:K},Zre],[I]:K},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[I]:we}],[I]:K},ene],[I]:K},tne],[I]:K}],[I]:K}],[I]:K},Kat],[I]:K}],[I]:K}],[I]:K},{[k]:[{[$]:q_,[z]:[vne,ju]}],[W]:[{[k]:act,error:"S3 MRAP does not support dual-stack",[I]:we},{[k]:zb,error:"S3 MRAP does not support FIPS",[I]:we},{[k]:one,error:"S3 MRAP does not support S3 Accelerate",[I]:we},{[k]:[{[$]:Fs,[z]:[{[je]:"DisableMultiRegionAccessPoints"},ju]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[I]:we},{[k]:[{[$]:mz,[z]:ine,[ft]:bat}],[W]:[{[k]:[{[$]:ar,[z]:[{[$]:fs,[z]:[{[je]:bat},Bs]},{[$]:fs,[z]:[Ma,"partition"]}]}],[W]:[{endpoint:{[Ae]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Pe]:{[To]:[{[Oi]:ju,name:yne,[Ni]:Hb,[gne]:DUr}]},[Re]:at},[I]:de}],[I]:K},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[I]:we}],[I]:K}],[I]:K},{error:"Invalid Access Point Name",[I]:we}],[I]:K},Xat],[I]:K},{[k]:[{[$]:ar,[z]:[Jre,DT]}],[W]:[{[k]:act,error:"S3 Outposts does not support Dual-stack",[I]:we},{[k]:zb,error:"S3 Outposts does not support FIPS",[I]:we},{[k]:one,error:"S3 Outposts does not support S3 Accelerate",[I]:we},{[k]:[{[$]:fc,[z]:[{[$]:fs,[z]:[Ma,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[I]:we},{[k]:[{[$]:fs,[z]:kUr,[ft]:mne}],[W]:[{[k]:Ect,[W]:[Yre,{[k]:lne,[W]:[{[k]:Ll,[W]:[{[k]:Act,[W]:[{[k]:dne,[W]:[{[k]:une,[W]:[{[k]:[{[$]:fs,[z]:MUr,[ft]:wat}],[W]:[{[k]:[{[$]:fs,[z]:[Ma,"resourceId[3]"],[ft]:Sne}],[W]:[{[k]:[{[$]:ar,[z]:[{[je]:wat},Lct]}],[W]:[{[k]:$b,endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Pe]:Jat,[Re]:at},[I]:de},{endpoint:{[Ae]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Pe]:Jat,[Re]:at},[I]:de}],[I]:K},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[I]:we}],[I]:K},{error:"Invalid ARN: expected an access point name",[I]:we}],[I]:K},{error:"Invalid ARN: Expected a 4-component resource",[I]:we}],[I]:K},Zre],[I]:K},ene],[I]:K},tne],[I]:K}],[I]:K}],[I]:K},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[I]:we}],[I]:K},{error:"Invalid ARN: The Outpost Id was not set",[I]:we}],[I]:K},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[I]:we}],[I]:K},{error:"Invalid ARN: No ARN type specified",[I]:we}],[I]:K},{[k]:[{[$]:tn,[z]:[or,0,4,PUr],[ft]:xat},{[$]:ar,[z]:[{[je]:xat},"arn:"]},{[$]:Hu,[z]:[{[$]:fc,[z]:[Yat]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[I]:we},{[k]:[{[$]:Fs,[z]:[RUr,ju]},Yat],error:"Path-style addressing cannot be used with ARN buckets",[I]:we},{[k]:OUr,[W]:[{[k]:Ll,[W]:[{[k]:[ei],[W]:[{[k]:[en,ct,Sn,li],endpoint:{[Ae]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[en,ct,Sn,nr,Ii],[W]:[{endpoint:Qat,[I]:de}],[I]:K},{[k]:[en,ct,Sn,nr,Ti],endpoint:Qat,[I]:de},{[k]:[Jt,ct,Sn,li],endpoint:{[Ae]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,ct,Sn,nr,Ii],[W]:[{endpoint:Zat,[I]:de}],[I]:K},{[k]:[Jt,ct,Sn,nr,Ti],endpoint:Zat,[I]:de},{[k]:[en,ct,xt,li],endpoint:{[Ae]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[en,ct,xt,nr,Ii],[W]:[{endpoint:ect,[I]:de}],[I]:K},{[k]:[en,ct,xt,nr,Ti],endpoint:ect,[I]:de},{[k]:[Jt,Us,da,xt,li],endpoint:{[Ae]:Uct,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,Us,da,xt,nr,Ii],[W]:[{[k]:ch,endpoint:rne,[I]:de},{endpoint:rne,[I]:de}],[I]:K},{[k]:[Jt,Us,da,xt,nr,Ti],endpoint:rne,[I]:de},{[k]:[Jt,ct,xt,li],endpoint:{[Ae]:Aat,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Jt,ct,xt,nr,Ii],[W]:[{[k]:ch,endpoint:{[Ae]:Aat,[Pe]:ti,[Re]:at},[I]:de},{endpoint:tct,[I]:de}],[I]:K},{[k]:[Jt,ct,xt,nr,Ti],endpoint:tct,[I]:de}],[I]:K},{error:"Path-style addressing cannot be used with S3 Accelerate",[I]:we}],[I]:K}],[I]:K}],[I]:K},{[k]:[{[$]:fc,[z]:[rct]},{[$]:Fs,[z]:[rct,ju]}],[W]:[{[k]:Ll,[W]:[{[k]:Rct,[W]:[Hat,Gat,{[k]:$b,endpoint:{[Ae]:uz,[Pe]:nne,[Re]:at},[I]:de},{[k]:zb,endpoint:{[Ae]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Pe]:nne,[Re]:at},[I]:de},{endpoint:{[Ae]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Pe]:nne,[Re]:at},[I]:de}],[I]:K},dz],[I]:K}],[I]:K},{[k]:[Mat],[W]:[{[k]:Ll,[W]:[{[k]:Rct,[W]:[{[k]:[Sn,en,ct,li],endpoint:{[Ae]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Sn,en,ct,nr,Ii],[W]:[{endpoint:nct,[I]:de}],[I]:K},{[k]:[Sn,en,ct,nr,Ti],endpoint:nct,[I]:de},{[k]:[Sn,Jt,ct,li],endpoint:{[Ae]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[Sn,Jt,ct,nr,Ii],[W]:[{endpoint:sct,[I]:de}],[I]:K},{[k]:[Sn,Jt,ct,nr,Ti],endpoint:sct,[I]:de},{[k]:[xt,en,ct,li],endpoint:{[Ae]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Pe]:Ri,[Re]:at},[I]:de},{[k]:[xt,en,ct,nr,Ii],[W]:[{endpoint:ict,[I]:de}],[I]:K},{[k]:[xt,en,ct,nr,Ti],endpoint:ict,[I]:de},{[k]:[xt,Jt,Us,da,li],endpoint:{[Ae]:uz,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[xt,Jt,Us,da,nr,Ii],[W]:[{[k]:ch,endpoint:sne,[I]:de},{endpoint:sne,[I]:de}],[I]:K},{[k]:[xt,Jt,Us,da,nr,Ti],endpoint:sne,[I]:de},{[k]:[xt,Jt,ct,li],endpoint:{[Ae]:Pat,[Pe]:Ri,[Re]:at},[I]:de},{[k]:[xt,Jt,ct,nr,Ii],[W]:[{[k]:ch,endpoint:{[Ae]:Pat,[Pe]:ti,[Re]:at},[I]:de},{endpoint:oct,[I]:de}],[I]:K},{[k]:[xt,Jt,ct,nr,Ti],endpoint:oct,[I]:de}],[I]:K},dz],[I]:K}],[I]:K}],[I]:K},{error:"A region must be set when sending requests to S3.",[I]:we}]};hz.ruleSet=LUr});var Cne=E(yz=>{"use strict";Object.defineProperty(yz,"__esModule",{value:!0});yz.defaultEndpointResolver=void 0;var UUr=Nb(),Ene=no(),BUr=Gct(),FUr=new Ene.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),qUr=(e,t={})=>FUr.get(e,()=>(0,Ene.resolveEndpoint)(BUr.ruleSet,{endpointParams:e,logger:t.logger}));yz.defaultEndpointResolver=qUr;Ene.customEndpointFunctions.aws=UUr.awsEndpointFunctions});var bne=E(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.resolveHttpAuthSchemeConfig=lh.defaultS3HttpAuthSchemeProvider=lh.defaultS3HttpAuthSchemeParametersProvider=void 0;var Vct=(Pi(),H(Fu)),jUr=az(),$Ur=Fn(),_z=bn(),zUr=Cne(),HUr=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(t,r,n),i=(0,_z.getSmithyContext)(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let o=await(0,$Ur.resolveParams)(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,o)},GUr=async(e,t,r)=>({operation:(0,_z.getSmithyContext)(t).operation,region:await(0,_z.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});lh.defaultS3HttpAuthSchemeParametersProvider=HUr(GUr);function Wct(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Kct(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var VUr=(e,t,r)=>s=>{let o=e(s).properties?.authSchemes;if(!o)return t(s);let a=[];for(let c of o){let{name:l,properties:d={},...u}=c,f=l.toLowerCase();l!==f&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${l}\` to \`${f}\``);let p;if(f==="sigv4a"){p="aws.auth#sigv4a";let b=o.find(A=>{let P=A.name.toLowerCase();return P!=="sigv4a"&&P.startsWith("sigv4")});if(jUr.SignatureV4MultiRegion.sigv4aDependency()==="none"&&b)continue}else if(f.startsWith("sigv4"))p="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${f}\``);let g=r[p];if(!g)throw new Error(`Could not find HttpAuthOption create function for \`${p}\``);let S=g(s);S.schemeId=p,S.signingProperties={...S.signingProperties||{},...u,...d},a.push(S)}return a},WUr=e=>{let t=[];switch(e.operation){default:t.push(Wct(e)),t.push(Kct(e))}return t};lh.defaultS3HttpAuthSchemeProvider=VUr(zUr.defaultEndpointResolver,WUr,{"aws.auth#sigv4":Wct,"aws.auth#sigv4a":Kct});var KUr=e=>{let t=(0,Vct.resolveAwsSdkSigV4Config)(e),r=(0,Vct.resolveAwsSdkSigV4AConfig)(t);return Object.assign(r,{authSchemePreference:(0,_z.normalizeProvider)(e.authSchemePreference??[])})};lh.resolveHttpAuthSchemeConfig=KUr});var Xct=E((szn,XUr)=>{XUr.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.892.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/credential-provider-node":"3.891.0","@aws-sdk/middleware-bucket-endpoint":"3.890.0","@aws-sdk/middleware-expect-continue":"3.891.0","@aws-sdk/middleware-flexible-checksums":"3.892.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-location-constraint":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-sdk-s3":"3.891.0","@aws-sdk/middleware-ssec":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/signature-v4-multi-region":"3.891.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@aws-sdk/xml-builder":"3.887.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/eventstream-serde-browser":"^4.1.1","@smithy/eventstream-serde-config-resolver":"^4.2.1","@smithy/eventstream-serde-node":"^4.1.1","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-blob-browser":"^4.1.1","@smithy/hash-node":"^4.1.1","@smithy/hash-stream-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/md5-js":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-stream":"^4.3.1","@smithy/util-utf8":"^4.1.0","@smithy/util-waiter":"^4.1.1","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.891.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var wne=E((izn,nlt)=>{"use strict";var Sz=Object.defineProperty,JUr=Object.getOwnPropertyDescriptor,YUr=Object.getOwnPropertyNames,QUr=Object.prototype.hasOwnProperty,ZUr=(e,t)=>Sz(e,"name",{value:t,configurable:!0}),eBr=(e,t)=>{for(var r in t)Sz(e,r,{get:t[r],enumerable:!0})},tBr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of YUr(t))!QUr.call(e,s)&&s!==r&&Sz(e,s,{get:()=>t[s],enumerable:!(n=JUr(t,s))||n.enumerable});return e},rBr=e=>tBr(Sz({},"__esModule",{value:!0}),e),Jct={};eBr(Jct,{ENV_ACCOUNT_ID:()=>rlt,ENV_CREDENTIAL_SCOPE:()=>tlt,ENV_EXPIRATION:()=>elt,ENV_KEY:()=>Yct,ENV_SECRET:()=>Qct,ENV_SESSION:()=>Zct,fromEnv:()=>iBr});nlt.exports=rBr(Jct);var nBr=(Td(),H(oh)),sBr=Rt(),Yct="AWS_ACCESS_KEY_ID",Qct="AWS_SECRET_ACCESS_KEY",Zct="AWS_SESSION_TOKEN",elt="AWS_CREDENTIAL_EXPIRATION",tlt="AWS_CREDENTIAL_SCOPE",rlt="AWS_ACCOUNT_ID",iBr=ZUr(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Yct],r=process.env[Qct],n=process.env[Zct],s=process.env[elt],i=process.env[tlt],o=process.env[rlt];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,nBr.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new sBr.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var slt=E(vz=>{"use strict";Object.defineProperty(vz,"__esModule",{value:!0});vz.checkUrl=void 0;var oBr=Rt(),aBr="169.254.170.2",cBr="169.254.170.23",lBr="[fd00:ec2::23]",dBr=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===aBr||e.hostname===cBr||e.hostname===lBr)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new oBr.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};vz.checkUrl=dBr});var ilt=E(Ez=>{"use strict";Object.defineProperty(Ez,"__esModule",{value:!0});Ez.createGetRequest=pBr;Ez.getCredentials=gBr;var xne=Rt(),uBr=Fe(),mBr=V(),fBr=sm();function pBr(e){return new uBr.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function gBr(e,t){let n=await(0,fBr.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new xne.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,mBr.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new xne.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new xne.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var olt=E(Cz=>{"use strict";Object.defineProperty(Cz,"__esModule",{value:!0});Cz.retryWrapper=void 0;var hBr=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Cz.retryWrapper=hBr});var llt=E(bz=>{"use strict";Object.defineProperty(bz,"__esModule",{value:!0});bz.fromHttp=void 0;var yBr=(Vo(),H(Go)),_Br=(Td(),H(oh)),SBr=Ui(),alt=Rt(),vBr=yBr.__importDefault(require("fs/promises")),EBr=slt(),clt=ilt(),CBr=olt(),bBr="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wBr="http://169.254.170.2",xBr="AWS_CONTAINER_CREDENTIALS_FULL_URI",ABr="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",PBr="AWS_CONTAINER_AUTHORIZATION_TOKEN",RBr=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[bBr],n=e.awsContainerCredentialsFullUri??process.env[xBr],s=e.awsContainerAuthorizationToken??process.env[PBr],i=e.awsContainerAuthorizationTokenFile??process.env[ABr],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${wBr}${r}`;else throw new alt.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,EBr.checkUrl)(a,e.logger);let c=SBr.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,CBr.retryWrapper)(async()=>{let l=(0,clt.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await vBr.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,clt.getCredentials)(d.response).then(u=>(0,_Br.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new alt.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};bz.fromHttp=RBr});var Ane=E(wz=>{"use strict";Object.defineProperty(wz,"__esModule",{value:!0});wz.fromHttp=void 0;var IBr=llt();Object.defineProperty(wz,"fromHttp",{enumerable:!0,get:function(){return IBr.fromHttp}})});var Rne=E(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.resolveHttpAuthSchemeConfig=dh.defaultSSOHttpAuthSchemeProvider=dh.defaultSSOHttpAuthSchemeParametersProvider=void 0;var TBr=(Pi(),H(Fu)),Pne=bn(),OBr=async(e,t,r)=>({operation:(0,Pne.getSmithyContext)(t).operation,region:await(0,Pne.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dh.defaultSSOHttpAuthSchemeParametersProvider=OBr;function NBr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function xz(e){return{schemeId:"smithy.api#noAuth"}}var DBr=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(xz(e));break}case"ListAccountRoles":{t.push(xz(e));break}case"ListAccounts":{t.push(xz(e));break}case"Logout":{t.push(xz(e));break}default:t.push(NBr(e))}return t};dh.defaultSSOHttpAuthSchemeProvider=DBr;var kBr=e=>{let t=(0,TBr.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Pne.normalizeProvider)(e.authSchemePreference??[])})};dh.resolveHttpAuthSchemeConfig=kBr});var dlt=E((mzn,MBr)=>{MBr.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.891.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var kT=E((fzn,ylt)=>{"use strict";var Pz=Object.defineProperty,LBr=Object.getOwnPropertyDescriptor,UBr=Object.getOwnPropertyNames,BBr=Object.prototype.hasOwnProperty,Az=(e,t)=>Pz(e,"name",{value:t,configurable:!0}),FBr=(e,t)=>{for(var r in t)Pz(e,r,{get:t[r],enumerable:!0})},qBr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UBr(t))!BBr.call(e,s)&&s!==r&&Pz(e,s,{get:()=>t[s],enumerable:!(n=LBr(t,s))||n.enumerable});return e},jBr=e=>qBr(Pz({},"__esModule",{value:!0}),e),mlt={};FBr(mlt,{NODE_APP_ID_CONFIG_OPTIONS:()=>VBr,UA_APP_ID_ENV_NAME:()=>glt,UA_APP_ID_INI_NAME:()=>hlt,createDefaultUserAgentProvider:()=>plt,crtAvailability:()=>flt,defaultUserAgent:()=>zBr});ylt.exports=jBr(mlt);var ult=require("os"),Ine=require("process"),flt={isCrtAvailable:!1},$Br=Az(()=>flt.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),plt=Az(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,ult.platform)()}`,(0,ult.release)()],["lang/js"],["md/nodejs",`${Ine.versions.node}`]],s=$Br();s&&n.push(s),e&&n.push([`api/${e}`,t]),Ine.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Ine.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),zBr=plt,HBr=Fb(),glt="AWS_SDK_UA_APP_ID",hlt="sdk_ua_app_id",GBr="sdk-ua-app-id",VBr={environmentVariableSelector:Az(e=>e[glt],"environmentVariableSelector"),configFileSelector:Az(e=>e[hlt]??e[GBr],"configFileSelector"),default:HBr.DEFAULT_UA_APP_ID}});var Nlt=E(Rz=>{"use strict";Object.defineProperty(Rz,"__esModule",{value:!0});Rz.ruleSet=void 0;var Rlt="required",Fl="fn",ql="argv",Wb="ref",_lt=!0,Slt="isSet",MT="booleanEquals",Gb="error",Vb="endpoint",Mf="tree",Tne="PartitionResult",One="getAttr",vlt={[Rlt]:!1,type:"String"},Elt={[Rlt]:!0,default:!1,type:"Boolean"},Clt={[Wb]:"Endpoint"},Ilt={[Fl]:MT,[ql]:[{[Wb]:"UseFIPS"},!0]},Tlt={[Fl]:MT,[ql]:[{[Wb]:"UseDualStack"},!0]},Bl={},blt={[Fl]:One,[ql]:[{[Wb]:Tne},"supportsFIPS"]},Olt={[Wb]:Tne},wlt={[Fl]:MT,[ql]:[!0,{[Fl]:One,[ql]:[Olt,"supportsDualStack"]}]},xlt=[Ilt],Alt=[Tlt],Plt=[{[Wb]:"Region"}],WBr={version:"1.0",parameters:{Region:vlt,UseDualStack:Elt,UseFIPS:Elt,Endpoint:vlt},rules:[{conditions:[{[Fl]:Slt,[ql]:[Clt]}],rules:[{conditions:xlt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Gb},{conditions:Alt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Gb},{endpoint:{url:Clt,properties:Bl,headers:Bl},type:Vb}],type:Mf},{conditions:[{[Fl]:Slt,[ql]:Plt}],rules:[{conditions:[{[Fl]:"aws.partition",[ql]:Plt,assign:Tne}],rules:[{conditions:[Ilt,Tlt],rules:[{conditions:[{[Fl]:MT,[ql]:[_lt,blt]},wlt],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bl,headers:Bl},type:Vb}],type:Mf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Gb}],type:Mf},{conditions:xlt,rules:[{conditions:[{[Fl]:MT,[ql]:[blt,_lt]}],rules:[{conditions:[{[Fl]:"stringEquals",[ql]:[{[Fl]:One,[ql]:[Olt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Bl,headers:Bl},type:Vb},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Bl,headers:Bl},type:Vb}],type:Mf},{error:"FIPS is enabled but this partition does not support FIPS",type:Gb}],type:Mf},{conditions:Alt,rules:[{conditions:[wlt],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bl,headers:Bl},type:Vb}],type:Mf},{error:"DualStack is enabled but this partition does not support DualStack",type:Gb}],type:Mf},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Bl,headers:Bl},type:Vb}],type:Mf}],type:Mf},{error:"Invalid Configuration: Missing Region",type:Gb}]};Rz.ruleSet=WBr});var Dlt=E(Iz=>{"use strict";Object.defineProperty(Iz,"__esModule",{value:!0});Iz.defaultEndpointResolver=void 0;var KBr=Nb(),Nne=no(),XBr=Nlt(),JBr=new Nne.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),YBr=(e,t={})=>JBr.get(e,()=>(0,Nne.resolveEndpoint)(XBr.ruleSet,{endpointParams:e,logger:t.logger}));Iz.defaultEndpointResolver=YBr;Nne.customEndpointFunctions.aws=KBr.awsEndpointFunctions});var Llt=E(Tz=>{"use strict";Object.defineProperty(Tz,"__esModule",{value:!0});Tz.getRuntimeConfig=void 0;var QBr=(Pi(),H(Fu)),ZBr=(Ze(),H(As)),eFr=V(),tFr=gi(),klt=bt(),Mlt=Ct(),rFr=Rne(),nFr=Dlt(),sFr=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??klt.fromBase64,base64Encoder:e?.base64Encoder??klt.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??nFr.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??rFr.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new QBr.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ZBr.NoAuthSigner}],logger:e?.logger??new eFr.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??tFr.parseUrl,utf8Decoder:e?.utf8Decoder??Mlt.fromUtf8,utf8Encoder:e?.utf8Encoder??Mlt.toUtf8});Tz.getRuntimeConfig=sFr});var jlt=E(Nz=>{"use strict";Object.defineProperty(Nz,"__esModule",{value:!0});Nz.getRuntimeConfig=void 0;var iFr=(Vo(),H(Go)),oFr=iFr.__importDefault(dlt()),Ult=(Pi(),H(Fu)),Blt=kT(),Oz=un(),aFr=Ya(),Flt=xn(),j_=io(),qlt=Ui(),cFr=Qa(),lFr=ya(),dFr=Llt(),uFr=V(),mFr=Za(),fFr=V(),pFr=e=>{(0,fFr.emitWarningIfUnsupportedVersion)(process.version);let t=(0,mFr.resolveDefaultsModeConfig)(e),r=()=>t().then(uFr.loadConfigsForDefaultMode),n=(0,dFr.getRuntimeConfig)(e);(0,Ult.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,j_.loadConfig)(Ult.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??cFr.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Blt.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:oFr.default.version}),maxAttempts:e?.maxAttempts??(0,j_.loadConfig)(Flt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,j_.loadConfig)(Oz.NODE_REGION_CONFIG_OPTIONS,{...Oz.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:qlt.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,j_.loadConfig)({...Flt.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||lFr.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??aFr.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??qlt.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,j_.loadConfig)(Oz.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,j_.loadConfig)(Oz.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,j_.loadConfig)(Blt.NODE_APP_ID_CONFIG_OPTIONS,s)}};Nz.getRuntimeConfig=pFr});var LT=E((_zn,Wlt)=>{"use strict";var Dz=Object.defineProperty,gFr=Object.getOwnPropertyDescriptor,hFr=Object.getOwnPropertyNames,yFr=Object.prototype.hasOwnProperty,Gu=(e,t)=>Dz(e,"name",{value:t,configurable:!0}),_Fr=(e,t)=>{for(var r in t)Dz(e,r,{get:t[r],enumerable:!0})},SFr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hFr(t))!yFr.call(e,s)&&s!==r&&Dz(e,s,{get:()=>t[s],enumerable:!(n=gFr(t,s))||n.enumerable});return e},vFr=e=>SFr(Dz({},"__esModule",{value:!0}),e),zlt={};_Fr(zlt,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>wFr,NODE_REGION_CONFIG_OPTIONS:()=>bFr,REGION_ENV_NAME:()=>Hlt,REGION_INI_NAME:()=>Glt,getAwsRegionExtensionConfiguration:()=>EFr,resolveAwsRegionExtensionConfiguration:()=>CFr,resolveRegionConfig:()=>xFr});Wlt.exports=vFr(zlt);var EFr=Gu(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),CFr=Gu(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Hlt="AWS_REGION",Glt="region",bFr={environmentVariableSelector:Gu(e=>e[Hlt],"environmentVariableSelector"),configFileSelector:Gu(e=>e[Glt],"configFileSelector"),default:Gu(()=>{throw new Error("Region is missing")},"default")},wFr={preferredFile:"credentials"},Vlt=Gu(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),$lt=Gu(e=>Vlt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),xFr=Gu(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Gu(async()=>{if(typeof t=="string")return $lt(t);let n=await t();return $lt(n)},"region"),useFipsEndpoint:Gu(async()=>{let n=typeof t=="string"?t:await t();return Vlt(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var Adt=E((Szn,xdt)=>{"use strict";var kz=Object.defineProperty,AFr=Object.getOwnPropertyDescriptor,PFr=Object.getOwnPropertyNames,RFr=Object.prototype.hasOwnProperty,sr=(e,t)=>kz(e,"name",{value:t,configurable:!0}),IFr=(e,t)=>{for(var r in t)kz(e,r,{get:t[r],enumerable:!0})},TFr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of PFr(t))!RFr.call(e,s)&&s!==r&&kz(e,s,{get:()=>t[s],enumerable:!(n=AFr(t,s))||n.enumerable});return e},OFr=e=>TFr(kz({},"__esModule",{value:!0}),e),edt={};IFr(edt,{GetRoleCredentialsCommand:()=>Cdt,GetRoleCredentialsRequestFilterSensitiveLog:()=>ddt,GetRoleCredentialsResponseFilterSensitiveLog:()=>mdt,InvalidRequestException:()=>rdt,ListAccountRolesCommand:()=>Dne,ListAccountRolesRequestFilterSensitiveLog:()=>fdt,ListAccountsCommand:()=>kne,ListAccountsRequestFilterSensitiveLog:()=>pdt,LogoutCommand:()=>bdt,LogoutRequestFilterSensitiveLog:()=>gdt,ResourceNotFoundException:()=>sdt,RoleCredentialsFilterSensitiveLog:()=>udt,SSO:()=>wdt,SSOClient:()=>Lz,SSOServiceException:()=>Kb,TooManyRequestsException:()=>odt,UnauthorizedException:()=>cdt,__Client:()=>Le.Client,paginateListAccountRoles:()=>nqr,paginateListAccounts:()=>sqr});xdt.exports=OFr(edt);var Klt=aT(),NFr=cT(),DFr=lT(),Xlt=Fb(),kFr=un(),Lf=(Ze(),H(As)),MFr=Ka(),BT=Fn(),Jlt=xn(),Ylt=Rne(),LFr=sr(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Mz={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},UFr=jlt(),Qlt=LT(),Zlt=Fe(),Le=V(),BFr=sr(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),FFr=sr(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),qFr=sr((e,t)=>{let r=Object.assign((0,Qlt.getAwsRegionExtensionConfiguration)(e),(0,Le.getDefaultExtensionConfiguration)(e),(0,Zlt.getHttpHandlerExtensionConfiguration)(e),BFr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Qlt.resolveAwsRegionExtensionConfiguration)(r),(0,Le.resolveDefaultRuntimeConfig)(r),(0,Zlt.resolveHttpHandlerRuntimeConfig)(r),FFr(r))},"resolveRuntimeExtensions"),Lz=class extends Le.Client{static{sr(this,"SSOClient")}config;constructor(...[e]){let t=(0,UFr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=LFr(t),n=(0,Xlt.resolveUserAgentConfig)(r),s=(0,Jlt.resolveRetryConfig)(n),i=(0,kFr.resolveRegionConfig)(s),o=(0,Klt.resolveHostHeaderConfig)(i),a=(0,BT.resolveEndpointConfig)(o),c=(0,Ylt.resolveHttpAuthSchemeConfig)(a),l=qFr(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,Xlt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Jlt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,MFr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Klt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,NFr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,DFr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Lf.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Ylt.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:sr(async d=>new Lf.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Lf.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Uz=pi(),Kb=class tdt extends Le.ServiceException{static{sr(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,tdt.prototype)}},rdt=class ndt extends Kb{static{sr(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,ndt.prototype)}},sdt=class idt extends Kb{static{sr(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,idt.prototype)}},odt=class adt extends Kb{static{sr(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,adt.prototype)}},cdt=class ldt extends Kb{static{sr(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,ldt.prototype)}},ddt=sr(e=>({...e,...e.accessToken&&{accessToken:Le.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),udt=sr(e=>({...e,...e.secretAccessKey&&{secretAccessKey:Le.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:Le.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),mdt=sr(e=>({...e,...e.roleCredentials&&{roleCredentials:udt(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),fdt=sr(e=>({...e,...e.accessToken&&{accessToken:Le.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),pdt=sr(e=>({...e,...e.accessToken&&{accessToken:Le.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),gdt=sr(e=>({...e,...e.accessToken&&{accessToken:Le.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),UT=(Pi(),H(Fu)),jFr=sr(async(e,t)=>{let r=(0,Lf.requestBuilder)(e,t),n=(0,Le.map)({},Le.isSerializableHeaderValue,{[qz]:e[Fz]});r.bp("/federation/credentials");let s=(0,Le.map)({[tqr]:[,(0,Le.expectNonNull)(e[eqr],"roleName")],[ydt]:[,(0,Le.expectNonNull)(e[hdt],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),$Fr=sr(async(e,t)=>{let r=(0,Lf.requestBuilder)(e,t),n=(0,Le.map)({},Le.isSerializableHeaderValue,{[qz]:e[Fz]});r.bp("/assignment/roles");let s=(0,Le.map)({[Edt]:[,e[vdt]],[Sdt]:[()=>e.maxResults!==void 0,()=>e[_dt].toString()],[ydt]:[,(0,Le.expectNonNull)(e[hdt],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),zFr=sr(async(e,t)=>{let r=(0,Lf.requestBuilder)(e,t),n=(0,Le.map)({},Le.isSerializableHeaderValue,{[qz]:e[Fz]});r.bp("/assignment/accounts");let s=(0,Le.map)({[Edt]:[,e[vdt]],[Sdt]:[()=>e.maxResults!==void 0,()=>e[_dt].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),HFr=sr(async(e,t)=>{let r=(0,Lf.requestBuilder)(e,t),n=(0,Le.map)({},Le.isSerializableHeaderValue,{[qz]:e[Fz]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),GFr=sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bz(e,t);let r=(0,Le.map)({$metadata:uh(e)}),n=(0,Le.expectNonNull)((0,Le.expectObject)(await(0,UT.parseJsonBody)(e.body,t)),"body"),s=(0,Le.take)(n,{roleCredentials:Le._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),VFr=sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bz(e,t);let r=(0,Le.map)({$metadata:uh(e)}),n=(0,Le.expectNonNull)((0,Le.expectObject)(await(0,UT.parseJsonBody)(e.body,t)),"body"),s=(0,Le.take)(n,{nextToken:Le.expectString,roleList:Le._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),WFr=sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bz(e,t);let r=(0,Le.map)({$metadata:uh(e)}),n=(0,Le.expectNonNull)((0,Le.expectObject)(await(0,UT.parseJsonBody)(e.body,t)),"body"),s=(0,Le.take)(n,{accountList:Le._json,nextToken:Le.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),KFr=sr(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bz(e,t);let r=(0,Le.map)({$metadata:uh(e)});return await(0,Le.collectBody)(e.body,t),r},"de_LogoutCommand"),Bz=sr(async(e,t)=>{let r={...e,body:await(0,UT.parseJsonErrorBody)(e.body,t)},n=(0,UT.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await JFr(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await YFr(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await QFr(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ZFr(r,t);default:let s=r.body;return XFr({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),XFr=(0,Le.withBaseException)(Kb),JFr=sr(async(e,t)=>{let r=(0,Le.map)({}),n=e.body,s=(0,Le.take)(n,{message:Le.expectString});Object.assign(r,s);let i=new rdt({$metadata:uh(e),...r});return(0,Le.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),YFr=sr(async(e,t)=>{let r=(0,Le.map)({}),n=e.body,s=(0,Le.take)(n,{message:Le.expectString});Object.assign(r,s);let i=new sdt({$metadata:uh(e),...r});return(0,Le.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),QFr=sr(async(e,t)=>{let r=(0,Le.map)({}),n=e.body,s=(0,Le.take)(n,{message:Le.expectString});Object.assign(r,s);let i=new odt({$metadata:uh(e),...r});return(0,Le.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),ZFr=sr(async(e,t)=>{let r=(0,Le.map)({}),n=e.body,s=(0,Le.take)(n,{message:Le.expectString});Object.assign(r,s);let i=new cdt({$metadata:uh(e),...r});return(0,Le.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),uh=sr(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),hdt="accountId",Fz="accessToken",ydt="account_id",_dt="maxResults",Sdt="max_result",vdt="nextToken",Edt="next_token",eqr="roleName",tqr="role_name",qz="x-amz-sso_bearer_token",Cdt=class extends Le.Command.classBuilder().ep(Mz).m(function(e,t,r,n){return[(0,Uz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,BT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ddt,mdt).ser(jFr).de(GFr).build(){static{sr(this,"GetRoleCredentialsCommand")}},Dne=class extends Le.Command.classBuilder().ep(Mz).m(function(e,t,r,n){return[(0,Uz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,BT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(fdt,void 0).ser($Fr).de(VFr).build(){static{sr(this,"ListAccountRolesCommand")}},kne=class extends Le.Command.classBuilder().ep(Mz).m(function(e,t,r,n){return[(0,Uz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,BT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(pdt,void 0).ser(zFr).de(WFr).build(){static{sr(this,"ListAccountsCommand")}},bdt=class extends Le.Command.classBuilder().ep(Mz).m(function(e,t,r,n){return[(0,Uz.getSerdePlugin)(r,this.serialize,this.deserialize),(0,BT.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(gdt,void 0).ser(HFr).de(KFr).build(){static{sr(this,"LogoutCommand")}},rqr={GetRoleCredentialsCommand:Cdt,ListAccountRolesCommand:Dne,ListAccountsCommand:kne,LogoutCommand:bdt},wdt=class extends Lz{static{sr(this,"SSO")}};(0,Le.createAggregatedClient)(rqr,wdt);var nqr=(0,Lf.createPaginator)(Lz,Dne,"nextToken","nextToken","maxResults"),sqr=(0,Lf.createPaginator)(Lz,kne,"nextToken","nextToken","maxResults")});function iqr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function oqr(e){return{schemeId:"smithy.api#noAuth"}}var FT,Pdt,Rdt,Idt,Mne=v(()=>{Pi();FT=C(bn()),Pdt=async(e,t,r)=>({operation:(0,FT.getSmithyContext)(t).operation,region:await(0,FT.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Rdt=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(oqr(e));break}default:t.push(iqr(e))}return t},Idt=e=>{let t=D_(e);return Object.assign(t,{authSchemePreference:(0,FT.normalizeProvider)(e.authSchemePreference??[])})}});var Tdt,Odt,Lne=v(()=>{Tdt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Odt={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var jz,Une=v(()=>{jz={name:"@aws-sdk/nested-clients",version:"3.891.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.890.0","@aws-sdk/middleware-host-header":"3.891.0","@aws-sdk/middleware-logger":"3.891.0","@aws-sdk/middleware-recursion-detection":"3.891.0","@aws-sdk/middleware-user-agent":"3.891.0","@aws-sdk/region-config-resolver":"3.890.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.891.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.891.0","@smithy/config-resolver":"^4.2.2","@smithy/core":"^3.11.0","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.2","@smithy/middleware-retry":"^4.2.3","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.2","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.2","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.2","@smithy/util-defaults-mode-node":"^4.1.2","@smithy/util-endpoints":"^3.1.2","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.2","@smithy/util-utf8":"^4.1.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var jdt,$l,zl,Yb,Ndt,qT,Xb,Jb,Uf,Bne,Fne,Ddt,kdt,Mdt,$dt,zdt,jl,Ldt,Hdt,Udt,Bdt,Fdt,qdt,cqr,Gdt,Vdt=v(()=>{jdt="required",$l="fn",zl="argv",Yb="ref",Ndt="isSet",qT="booleanEquals",Xb="error",Jb="endpoint",Uf="tree",Bne="PartitionResult",Fne="getAttr",Ddt={[jdt]:!1,type:"String"},kdt={[jdt]:!0,default:!1,type:"Boolean"},Mdt={[Yb]:"Endpoint"},$dt={[$l]:qT,[zl]:[{[Yb]:"UseFIPS"},!0]},zdt={[$l]:qT,[zl]:[{[Yb]:"UseDualStack"},!0]},jl={},Ldt={[$l]:Fne,[zl]:[{[Yb]:Bne},"supportsFIPS"]},Hdt={[Yb]:Bne},Udt={[$l]:qT,[zl]:[!0,{[$l]:Fne,[zl]:[Hdt,"supportsDualStack"]}]},Bdt=[$dt],Fdt=[zdt],qdt=[{[Yb]:"Region"}],cqr={version:"1.0",parameters:{Region:Ddt,UseDualStack:kdt,UseFIPS:kdt,Endpoint:Ddt},rules:[{conditions:[{[$l]:Ndt,[zl]:[Mdt]}],rules:[{conditions:Bdt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Xb},{conditions:Fdt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Xb},{endpoint:{url:Mdt,properties:jl,headers:jl},type:Jb}],type:Uf},{conditions:[{[$l]:Ndt,[zl]:qdt}],rules:[{conditions:[{[$l]:"aws.partition",[zl]:qdt,assign:Bne}],rules:[{conditions:[$dt,zdt],rules:[{conditions:[{[$l]:qT,[zl]:[!0,Ldt]},Udt],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jl,headers:jl},type:Jb}],type:Uf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Xb}],type:Uf},{conditions:Bdt,rules:[{conditions:[{[$l]:qT,[zl]:[Ldt,!0]}],rules:[{conditions:[{[$l]:"stringEquals",[zl]:[{[$l]:Fne,[zl]:[Hdt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:jl,headers:jl},type:Jb},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:jl,headers:jl},type:Jb}],type:Uf},{error:"FIPS is enabled but this partition does not support FIPS",type:Xb}],type:Uf},{conditions:Fdt,rules:[{conditions:[Udt],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jl,headers:jl},type:Jb}],type:Uf},{error:"DualStack is enabled but this partition does not support DualStack",type:Xb}],type:Uf},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:jl,headers:jl},type:Jb}],type:Uf}],type:Uf},{error:"Invalid Configuration: Missing Region",type:Xb}]},Gdt=cqr});var Wdt,Qb,lqr,Kdt,Xdt=v(()=>{Wdt=C(Nb()),Qb=C(no());Vdt();lqr=new Qb.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Kdt=(e,t={})=>lqr.get(e,()=>(0,Qb.resolveEndpoint)(Gdt,{endpointParams:e,logger:t.logger}));Qb.customEndpointFunctions.aws=Wdt.awsEndpointFunctions});var Jdt,Ydt,$z,zz,Qdt,Zdt=v(()=>{Pi();Ze();Jdt=C(V()),Ydt=C(gi()),$z=C(bt()),zz=C(Ct());Mne();Xdt();Qdt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??$z.fromBase64,base64Encoder:e?.base64Encoder??$z.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Kdt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Rdt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ka},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],logger:e?.logger??new Jdt.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Ydt.parseUrl,utf8Decoder:e?.utf8Decoder??zz.fromUtf8,utf8Encoder:e?.utf8Encoder??zz.toUtf8})});var Hz,fh,eut,Gz,mh,Vz,tut,rut,nut,sut,iut,out,aut=v(()=>{Une();Pi();Hz=C(kT()),fh=C(un()),eut=C(Ya()),Gz=C(xn()),mh=C(io()),Vz=C(Ui()),tut=C(Qa()),rut=C(ya());Zdt();nut=C(V()),sut=C(Za()),iut=C(V()),out=e=>{(0,iut.emitWarningIfUnsupportedVersion)(process.version);let t=(0,sut.resolveDefaultsModeConfig)(e),r=()=>t().then(nut.loadConfigsForDefaultMode),n=Qdt(e);Db(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,mh.loadConfig)(Lb,s),bodyLengthChecker:e?.bodyLengthChecker??tut.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Hz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:jz.version}),maxAttempts:e?.maxAttempts??(0,mh.loadConfig)(Gz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,mh.loadConfig)(fh.NODE_REGION_CONFIG_OPTIONS,{...fh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Vz.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,mh.loadConfig)({...Gz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||rut.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??eut.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Vz.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,mh.loadConfig)(fh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,mh.loadConfig)(fh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,mh.loadConfig)(Hz.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var cut,lut,dut=v(()=>{cut=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},lut=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Wz,Kz,Xz,uut,mut=v(()=>{Wz=C(LT()),Kz=C(Fe()),Xz=C(V());dut();uut=(e,t)=>{let r=Object.assign((0,Wz.getAwsRegionExtensionConfiguration)(e),(0,Xz.getDefaultExtensionConfiguration)(e),(0,Kz.getHttpHandlerExtensionConfiguration)(e),cut(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Wz.resolveAwsRegionExtensionConfiguration)(r),(0,Xz.resolveDefaultRuntimeConfig)(r),(0,Kz.resolveHttpHandlerRuntimeConfig)(r),lut(r))}});var Jz,fut,put,Yz,gut,hut,yut,Qz,qne,jT,jne=v(()=>{Jz=C(aT()),fut=C(cT()),put=C(lT()),Yz=C(Fb()),gut=C(un());Ze();hut=C(Ka()),yut=C(Fn()),Qz=C(xn()),qne=C(V());Mne();Lne();aut();mut();jT=class extends qne.Client{config;constructor(...[t]){let r=out(t||{});super(r),this.initConfig=r;let n=Tdt(r),s=(0,Yz.resolveUserAgentConfig)(n),i=(0,Qz.resolveRetryConfig)(s),o=(0,gut.resolveRegionConfig)(i),a=(0,Jz.resolveHostHeaderConfig)(o),c=(0,yut.resolveEndpointConfig)(a),l=Idt(c),d=uut(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Yz.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Qz.getRetryPlugin)(this.config)),this.middlewareStack.use((0,hut.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Jz.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,fut.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,put.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use($a(this.config,{httpAuthSchemeParametersProvider:Pdt,identityProviderConfigProvider:async u=>new zo({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(za(this.config))}destroy(){super.destroy()}}});var _ut,Di,Zz=v(()=>{_ut=C(V()),Di=class e extends _ut.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var $_,$T,zT,$ne,zne,HT,GT,VT,WT,KT,XT,JT,YT,QT,eH=v(()=>{$_=C(V());Zz();$T=class e extends Di{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zT=class e extends Di{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$ne=e=>({...e,...e.clientSecret&&{clientSecret:$_.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:$_.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:$_.SENSITIVE_STRING}}),zne=e=>({...e,...e.accessToken&&{accessToken:$_.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:$_.SENSITIVE_STRING},...e.idToken&&{idToken:$_.SENSITIVE_STRING}}),HT=class e extends Di{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},GT=class e extends Di{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},VT=class e extends Di{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},WT=class e extends Di{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},KT=class e extends Di{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},XT=class e extends Di{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},JT=class e extends Di{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},YT=class e extends Di{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},QT=class e extends Di{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var ve,Sut,vut,dqr,uqr,mqr,fqr,pqr,gqr,hqr,yqr,_qr,Sqr,vqr,Eqr,Cqr,Hl,Eut=v(()=>{Pi();Ze();ve=C(V());eH();Zz();Sut=async(e,t)=>{let r=am(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,ve.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,ve._json)(i)})),r.m("POST").h(n).b(s),r.build()},vut=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dqr(e,t);let r=(0,ve.map)({$metadata:Hl(e)}),n=(0,ve.expectNonNull)((0,ve.expectObject)(await Bb(e.body,t)),"body"),s=(0,ve.take)(n,{accessToken:ve.expectString,expiresIn:ve.expectInt32,idToken:ve.expectString,refreshToken:ve.expectString,tokenType:ve.expectString});return Object.assign(r,s),r},dqr=async(e,t)=>{let r={...e,body:await Pre(e.body,t)},n=k_(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await mqr(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await fqr(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await pqr(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await gqr(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await hqr(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await yqr(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await _qr(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Sqr(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await vqr(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Eqr(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Cqr(r,t);default:let s=r.body;return uqr({output:e,parsedBody:s,errorCode:n})}},uqr=(0,ve.withBaseException)(Di),mqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new $T({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},fqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new zT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},pqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new HT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},gqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new GT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},hqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new VT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},yqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new WT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},_qr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new KT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},Sqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new XT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},vqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new JT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},Eqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new YT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},Cqr=async(e,t)=>{let r=(0,ve.map)({}),n=e.body,s=(0,ve.take)(n,{error:ve.expectString,error_description:ve.expectString});Object.assign(r,s);let i=new QT({$metadata:Hl(e),...r});return(0,ve.decorateServiceException)(i,e.body)},Hl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var Cut,but,Hne,ZT,Gne=v(()=>{Cut=C(Fn()),but=C(pi()),Hne=C(V());Lne();eH();Eut();ZT=class extends Hne.Command.classBuilder().ep(Odt).m(function(t,r,n,s){return[(0,but.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Cut.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f($ne,zne).ser(Sut).de(vut).build(){}});var wut,bqr,tH,xut=v(()=>{wut=C(V());Gne();jne();bqr={CreateTokenCommand:ZT},tH=class extends jT{};(0,wut.createAggregatedClient)(bqr,tH)});var Aut=v(()=>{Gne()});var Put=v(()=>{eH()});var Vne={};Kt(Vne,{$Command:()=>Hne.Command,AccessDeniedException:()=>$T,AuthorizationPendingException:()=>zT,CreateTokenCommand:()=>ZT,CreateTokenRequestFilterSensitiveLog:()=>$ne,CreateTokenResponseFilterSensitiveLog:()=>zne,ExpiredTokenException:()=>HT,InternalServerException:()=>GT,InvalidClientException:()=>VT,InvalidGrantException:()=>WT,InvalidRequestException:()=>KT,InvalidScopeException:()=>XT,SSOOIDC:()=>tH,SSOOIDCClient:()=>jT,SSOOIDCServiceException:()=>Di,SlowDownException:()=>JT,UnauthorizedClientException:()=>YT,UnsupportedGrantTypeException:()=>QT,__Client:()=>qne.Client});var Wne=v(()=>{jne();xut();Aut();Put();Zz()});var Mut=E((EHn,kut)=>{"use strict";var wqr=Object.create,tO=Object.defineProperty,xqr=Object.getOwnPropertyDescriptor,Aqr=Object.getOwnPropertyNames,Pqr=Object.getPrototypeOf,Rqr=Object.prototype.hasOwnProperty,Bf=(e,t)=>tO(e,"name",{value:t,configurable:!0}),Iqr=(e,t)=>{for(var r in t)tO(e,r,{get:t[r],enumerable:!0})},Tut=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Aqr(t))!Rqr.call(e,s)&&s!==r&&tO(e,s,{get:()=>t[s],enumerable:!(n=xqr(t,s))||n.enumerable});return e},Out=(e,t,r)=>(r=e!=null?wqr(Pqr(e)):{},Tut(t||!e||!e.__esModule?tO(r,"default",{value:e,enumerable:!0}):r,e)),Tqr=e=>Tut(tO({},"__esModule",{value:!0}),e),Nut={};Iqr(Nut,{fromEnvSigningName:()=>Dqr,fromSso:()=>Dut,fromStatic:()=>qqr,nodeProvider:()=>jqr});kut.exports=Tqr(Nut);var Oqr=(Td(),H(oh)),Nqr=(wre(),H(bot)),pc=Rt(),Dqr=Bf(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new pc.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Nqr.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new pc.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Oqr.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),kqr=5*60*1e3,Kne="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Mqr=Bf(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>Out((Wne(),H(Vne))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),Lqr=Bf(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>Out((Wne(),H(Vne))));return(await Mqr(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Rut=Bf(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new pc.TokenProviderError(`Token is expired. ${Kne}`,!1)},"validateTokenExpiry"),z_=Bf((e,t,r=!1)=>{if(typeof t>"u")throw new pc.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Kne}`,!1)},"validateTokenKey"),eO=ni(),Uqr=require("fs"),{writeFile:Bqr}=Uqr.promises,Fqr=Bf((e,t)=>{let r=(0,eO.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return Bqr(r,n)},"writeSSOTokenToFile"),Iut=new Date(0),Dut=Bf((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,eO.parseKnownFiles)(r),s=(0,eO.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new pc.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new pc.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,eO.loadSsoSessionData)(r))[o];if(!c)throw new pc.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!c[S])throw new pc.TokenProviderError(`Sso session '${o}' is missing required property '${S}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,eO.getSSOTokenFromFile)(o)}catch{throw new pc.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Kne}`,!1)}z_("accessToken",u.accessToken),z_("expiresAt",u.expiresAt);let{accessToken:f,expiresAt:p}=u,g={token:f,expiration:new Date(p)};if(g.expiration.getTime()-Date.now()>kqr)return g;if(Date.now()-Iut.getTime()<30*1e3)return Rut(g),g;z_("clientId",u.clientId,!0),z_("clientSecret",u.clientSecret,!0),z_("refreshToken",u.refreshToken,!0);try{Iut.setTime(Date.now());let S=await Lqr(u,d,r);z_("accessToken",S.accessToken),z_("expiresIn",S.expiresIn);let b=new Date(Date.now()+S.expiresIn*1e3);try{await Fqr(o,{...u,accessToken:S.accessToken,expiresAt:b.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:b}}catch{return Rut(g),g}},"fromSso"),qqr=Bf(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new pc.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),jqr=Bf((e={})=>(0,pc.memoize)((0,pc.chain)(Dut(e),async()=>{throw new pc.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Jne=E((CHn,Hut)=>{"use strict";var nH=Object.defineProperty,$qr=Object.getOwnPropertyDescriptor,But=Object.getOwnPropertyNames,zqr=Object.prototype.hasOwnProperty,sH=(e,t)=>nH(e,"name",{value:t,configurable:!0}),Hqr=(e,t)=>function(){return e&&(t=(0,e[But(e)[0]])(e=0)),t},Fut=(e,t)=>{for(var r in t)nH(e,r,{get:t[r],enumerable:!0})},Gqr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of But(t))!zqr.call(e,s)&&s!==r&&nH(e,s,{get:()=>t[s],enumerable:!(n=$qr(t,s))||n.enumerable});return e},Vqr=e=>Gqr(nH({},"__esModule",{value:!0}),e),qut={};Fut(qut,{GetRoleCredentialsCommand:()=>Xne.GetRoleCredentialsCommand,SSOClient:()=>Xne.SSOClient});var Xne,Wqr=Hqr({"src/loadSso.ts"(){"use strict";Xne=Adt()}}),jut={};Fut(jut,{fromSSO:()=>Xqr,isSsoProfile:()=>$ut,validateSsoProfile:()=>zut});Hut.exports=Vqr(jut);var $ut=sH(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Lut=(Td(),H(oh)),Kqr=Mut(),Od=Rt(),rH=ni(),rO=!1,Uut=sH(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,filepath:l,configFilepath:d,ignoreCache:u,logger:f})=>{let p,g="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Xe=await(0,Kqr.fromSso)({profile:c,filepath:l,configFilepath:d,ignoreCache:u})();p={accessToken:Xe.token,expiresAt:new Date(Xe.expiration).toISOString()}}catch(Xe){throw new Od.CredentialsProviderError(Xe.message,{tryNextLink:rO,logger:f})}else try{p=await(0,rH.getSSOTokenFromFile)(e)}catch{throw new Od.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${g}`,{tryNextLink:rO,logger:f})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Od.CredentialsProviderError(`The SSO session associated with this profile has expired. ${g}`,{tryNextLink:rO,logger:f});let{accessToken:S}=p,{SSOClient:b,GetRoleCredentialsCommand:A}=await Promise.resolve().then(()=>(Wqr(),qut)),P=i||new b(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),M;try{M=await P.send(new A({accountId:r,roleName:s,accessToken:S}))}catch(Xe){throw new Od.CredentialsProviderError(Xe,{tryNextLink:rO,logger:f})}let{roleCredentials:{accessKeyId:N,secretAccessKey:L,sessionToken:G,expiration:pe,credentialScope:ne,accountId:Ee}={}}=M;if(!N||!L||!G||!pe)throw new Od.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:rO,logger:f});let xe={accessKeyId:N,secretAccessKey:L,sessionToken:G,expiration:new Date(pe),...ne&&{credentialScope:ne},...Ee&&{accountId:Ee}};return t?(0,Lut.setCredentialFeature)(xe,"CREDENTIALS_SSO","s"):(0,Lut.setCredentialFeature)(xe,"CREDENTIALS_SSO_LEGACY","u"),xe},"resolveSSOCredentials"),zut=sH((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Od.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),Xqr=sH((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,rH.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let d=(await(0,rH.parseKnownFiles)(e))[c];if(!d)throw new Od.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!$ut(d))throw new Od.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let A=(await(0,rH.loadSsoSessionData)(e))[d.sso_session],P=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==A.sso_region)throw new Od.CredentialsProviderError("Conflicting SSO region"+P,{tryNextLink:!1,logger:e.logger});if(r&&r!==A.sso_start_url)throw new Od.CredentialsProviderError("Conflicting SSO start_url"+P,{tryNextLink:!1,logger:e.logger});d.sso_region=A.sso_region,d.sso_start_url=A.sso_start_url}let{sso_start_url:u,sso_account_id:f,sso_region:p,sso_role_name:g,sso_session:S}=zut(d,e.logger);return Uut({ssoStartUrl:u,ssoSession:S,ssoAccountId:f,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new Od.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Uut({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}},"fromSSO")});function Jqr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Yqr(e){return{schemeId:"smithy.api#noAuth"}}var nO,Gut,Vut,Qqr,Wut,Yne=v(()=>{Pi();nO=C(bn());sO();Gut=async(e,t,r)=>({operation:(0,nO.getSmithyContext)(t).operation,region:await(0,nO.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Vut=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(Yqr(e));break}default:t.push(Jqr(e))}return t},Qqr=e=>Object.assign(e,{stsClientCtor:Vu}),Wut=e=>{let t=Qqr(e),r=D_(t);return Object.assign(r,{authSchemePreference:(0,nO.normalizeProvider)(e.authSchemePreference??[])})}});var Kut,iH,oH=v(()=>{Kut=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),iH={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var imt,vt,Cr,br,gh,ph,Yi,omt,amt,cmt,Jn,Xut,Wu,Zb,Zne,Jut,Qne,lmt,Yut,Qi,Qut,dmt,umt,Oo,gc,Zut,mmt,fmt,emt,pmt,tmt,rmt,nmt,smt,Zqr,gmt,hmt=v(()=>{imt="required",vt="type",Cr="fn",br="argv",gh="ref",ph="booleanEquals",Yi="stringEquals",omt="sigv4",amt="sts",cmt="us-east-1",Jn="endpoint",Xut="https://sts.{Region}.{PartitionResult#dnsSuffix}",Wu="tree",Zb="error",Zne="getAttr",Jut={[imt]:!1,[vt]:"String"},Qne={[imt]:!0,default:!1,[vt]:"Boolean"},lmt={[gh]:"Endpoint"},Yut={[Cr]:"isSet",[br]:[{[gh]:"Region"}]},Qi={[gh]:"Region"},Qut={[Cr]:"aws.partition",[br]:[Qi],assign:"PartitionResult"},dmt={[gh]:"UseFIPS"},umt={[gh]:"UseDualStack"},Oo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:omt,signingName:amt,signingRegion:cmt}]},headers:{}},gc={},Zut={conditions:[{[Cr]:Yi,[br]:[Qi,"aws-global"]}],[Jn]:Oo,[vt]:Jn},mmt={[Cr]:ph,[br]:[dmt,!0]},fmt={[Cr]:ph,[br]:[umt,!0]},emt={[Cr]:Zne,[br]:[{[gh]:"PartitionResult"},"supportsFIPS"]},pmt={[gh]:"PartitionResult"},tmt={[Cr]:ph,[br]:[!0,{[Cr]:Zne,[br]:[pmt,"supportsDualStack"]}]},rmt=[{[Cr]:"isSet",[br]:[lmt]}],nmt=[mmt],smt=[fmt],Zqr={version:"1.0",parameters:{Region:Jut,UseDualStack:Qne,UseFIPS:Qne,Endpoint:Jut,UseGlobalEndpoint:Qne},rules:[{conditions:[{[Cr]:ph,[br]:[{[gh]:"UseGlobalEndpoint"},!0]},{[Cr]:"not",[br]:rmt},Yut,Qut,{[Cr]:ph,[br]:[dmt,!1]},{[Cr]:ph,[br]:[umt,!1]}],rules:[{conditions:[{[Cr]:Yi,[br]:[Qi,"ap-northeast-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"ap-south-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"ap-southeast-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"ap-southeast-2"]}],endpoint:Oo,[vt]:Jn},Zut,{conditions:[{[Cr]:Yi,[br]:[Qi,"ca-central-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"eu-central-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"eu-north-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"eu-west-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"eu-west-2"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"eu-west-3"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"sa-east-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,cmt]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"us-east-2"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"us-west-1"]}],endpoint:Oo,[vt]:Jn},{conditions:[{[Cr]:Yi,[br]:[Qi,"us-west-2"]}],endpoint:Oo,[vt]:Jn},{endpoint:{url:Xut,properties:{authSchemes:[{name:omt,signingName:amt,signingRegion:"{Region}"}]},headers:gc},[vt]:Jn}],[vt]:Wu},{conditions:rmt,rules:[{conditions:nmt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[vt]:Zb},{conditions:smt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[vt]:Zb},{endpoint:{url:lmt,properties:gc,headers:gc},[vt]:Jn}],[vt]:Wu},{conditions:[Yut],rules:[{conditions:[Qut],rules:[{conditions:[mmt,fmt],rules:[{conditions:[{[Cr]:ph,[br]:[!0,emt]},tmt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gc,headers:gc},[vt]:Jn}],[vt]:Wu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[vt]:Zb}],[vt]:Wu},{conditions:nmt,rules:[{conditions:[{[Cr]:ph,[br]:[emt,!0]}],rules:[{conditions:[{[Cr]:Yi,[br]:[{[Cr]:Zne,[br]:[pmt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:gc,headers:gc},[vt]:Jn},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gc,headers:gc},[vt]:Jn}],[vt]:Wu},{error:"FIPS is enabled but this partition does not support FIPS",[vt]:Zb}],[vt]:Wu},{conditions:smt,rules:[{conditions:[tmt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gc,headers:gc},[vt]:Jn}],[vt]:Wu},{error:"DualStack is enabled but this partition does not support DualStack",[vt]:Zb}],[vt]:Wu},Zut,{endpoint:{url:Xut,properties:gc,headers:gc},[vt]:Jn}],[vt]:Wu}],[vt]:Wu},{error:"Invalid Configuration: Missing Region",[vt]:Zb}]},gmt=Zqr});var ymt,ew,ejr,_mt,Smt=v(()=>{ymt=C(Nb()),ew=C(no());hmt();ejr=new ew.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),_mt=(e,t={})=>ejr.get(e,()=>(0,ew.resolveEndpoint)(gmt,{endpointParams:e,logger:t.logger}));ew.customEndpointFunctions.aws=ymt.awsEndpointFunctions});var vmt,Emt,aH,cH,Cmt,bmt=v(()=>{Pi();Ze();vmt=C(V()),Emt=C(gi()),aH=C(bt()),cH=C(Ct());Yne();Smt();Cmt=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??aH.fromBase64,base64Encoder:e?.base64Encoder??aH.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_mt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Vut,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ka},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],logger:e?.logger??new vmt.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Emt.parseUrl,utf8Decoder:e?.utf8Decoder??cH.fromUtf8,utf8Encoder:e?.utf8Encoder??cH.toUtf8})});var lH,yh,wmt,dH,hh,uH,xmt,Amt,Pmt,Rmt,Imt,Tmt,Omt=v(()=>{Une();Pi();lH=C(kT()),yh=C(un());Ze();wmt=C(Ya()),dH=C(xn()),hh=C(io()),uH=C(Ui()),xmt=C(Qa()),Amt=C(ya());bmt();Pmt=C(V()),Rmt=C(Za()),Imt=C(V()),Tmt=e=>{(0,Imt.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Rmt.resolveDefaultsModeConfig)(e),r=()=>t().then(Pmt.loadConfigsForDefaultMode),n=Cmt(e);Db(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,hh.loadConfig)(Lb,s),bodyLengthChecker:e?.bodyLengthChecker??xmt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,lH.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:jz.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new ka},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xs}],maxAttempts:e?.maxAttempts??(0,hh.loadConfig)(dH.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,hh.loadConfig)(yh.NODE_REGION_CONFIG_OPTIONS,{...yh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:uH.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,hh.loadConfig)({...dH.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Amt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??wmt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??uH.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,hh.loadConfig)(yh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,hh.loadConfig)(yh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,hh.loadConfig)(lH.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Nmt,Dmt,kmt=v(()=>{Nmt=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Dmt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var mH,fH,pH,Mmt,Lmt=v(()=>{mH=C(LT()),fH=C(Fe()),pH=C(V());kmt();Mmt=(e,t)=>{let r=Object.assign((0,mH.getAwsRegionExtensionConfiguration)(e),(0,pH.getDefaultExtensionConfiguration)(e),(0,fH.getHttpHandlerExtensionConfiguration)(e),Nmt(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,mH.resolveAwsRegionExtensionConfiguration)(r),(0,pH.resolveDefaultRuntimeConfig)(r),(0,fH.resolveHttpHandlerRuntimeConfig)(r),Dmt(r))}});var gH,Umt,Bmt,hH,Fmt,qmt,jmt,yH,ese,Vu,sO=v(()=>{gH=C(aT()),Umt=C(cT()),Bmt=C(lT()),hH=C(Fb()),Fmt=C(un());Ze();qmt=C(Ka()),jmt=C(Fn()),yH=C(xn()),ese=C(V());Yne();oH();Omt();Lmt();Vu=class extends ese.Client{config;constructor(...[t]){let r=Tmt(t||{});super(r),this.initConfig=r;let n=Kut(r),s=(0,hH.resolveUserAgentConfig)(n),i=(0,yH.resolveRetryConfig)(s),o=(0,Fmt.resolveRegionConfig)(i),a=(0,gH.resolveHostHeaderConfig)(o),c=(0,jmt.resolveEndpointConfig)(a),l=Wut(c),d=Mmt(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,hH.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,yH.getRetryPlugin)(this.config)),this.middlewareStack.use((0,qmt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,gH.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Umt.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Bmt.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use($a(this.config,{httpAuthSchemeParametersProvider:Gut,identityProviderConfigProvider:async u=>new zo({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(za(this.config))}destroy(){super.destroy()}}});var $mt,La,_H=v(()=>{$mt=C(V()),La=class e extends $mt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var tse,rse,nse,iO,oO,aO,cO,lO,dO,sse,ise,uO,mO=v(()=>{tse=C(V());_H();rse=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:tse.SENSITIVE_STRING}}),nse=e=>({...e,...e.Credentials&&{Credentials:rse(e.Credentials)}}),iO=class e extends La{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oO=class e extends La{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},aO=class e extends La{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cO=class e extends La{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lO=class e extends La{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dO=class e extends La{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sse=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:tse.SENSITIVE_STRING}}),ise=e=>({...e,...e.Credentials&&{Credentials:rse(e.Credentials)}}),uO=class e extends La{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var zmt,jt,Hmt,Gmt,Vmt,Wmt,Kmt,tjr,rjr,njr,sjr,ijr,ojr,ajr,cjr,ljr,Xmt,djr,ujr,mjr,fjr,pjr,gjr,Jmt,hjr,yjr,Ymt,_jr,Sjr,vjr,Ejr,Cjr,bjr,wjr,qf,xjr,Qmt,Zmt,eft,tft,ose,Ajr,ase,tw,Pjr,cse,lse,rw,dse,nw,use,mse,fse,sw,iw,pse,gse,hse,ow,yse,aw,cw,_se,Sse,Ff,vse,Ese,Cse,bse,wse,rft,xse,Ase,Pse,qs,nft,Rjr,Rse=v(()=>{Pi();zmt=C(Fe()),jt=C(V());mO();_H();Hmt=async(e,t)=>{let r=Zmt,n;return n=nft({...cjr(e,t),[tft]:Ajr,[rft]:eft}),Qmt(t,r,"/",void 0,n)},Gmt=async(e,t)=>{let r=Zmt,n;return n=nft({...ljr(e,t),[tft]:Pjr,[rft]:eft}),Qmt(t,r,"/",void 0,n)},Vmt=async(e,t)=>{if(e.statusCode>=300)return Kmt(e,t);let r=await AT(e.body,t),n={};return n=hjr(r.AssumeRoleResult,t),{$metadata:qf(e),...n}},Wmt=async(e,t)=>{if(e.statusCode>=300)return Kmt(e,t);let r=await AT(e.body,t),n={};return n=yjr(r.AssumeRoleWithWebIdentityResult,t),{$metadata:qf(e),...n}},Kmt=async(e,t)=>{let r={...e,body:await Mre(e.body,t)},n=Rjr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await tjr(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ijr(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ojr(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ajr(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await rjr(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await njr(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await sjr(r,t);default:let s=r.body;return xjr({output:e,parsedBody:s.Error,errorCode:n})}},tjr=async(e,t)=>{let r=e.body,n=_jr(r.Error,t),s=new iO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},rjr=async(e,t)=>{let r=e.body,n=Sjr(r.Error,t),s=new uO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},njr=async(e,t)=>{let r=e.body,n=vjr(r.Error,t),s=new lO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},sjr=async(e,t)=>{let r=e.body,n=Ejr(r.Error,t),s=new dO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},ijr=async(e,t)=>{let r=e.body,n=Cjr(r.Error,t),s=new oO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},ojr=async(e,t)=>{let r=e.body,n=bjr(r.Error,t),s=new aO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},ajr=async(e,t)=>{let r=e.body,n=wjr(r.Error,t),s=new cO({$metadata:qf(e),...n});return(0,jt.decorateServiceException)(s,r)},cjr=(e,t)=>{let r={};if(e[aw]!=null&&(r[aw]=e[aw]),e[cw]!=null&&(r[cw]=e[cw]),e[iw]!=null){let n=Xmt(e[iw],t);e[iw]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[sw]!=null&&(r[sw]=e[sw]),e[nw]!=null&&(r[nw]=e[nw]),e[Cse]!=null){let n=gjr(e[Cse],t);e[Cse]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[wse]!=null){let n=pjr(e[wse],t);e[wse]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[mse]!=null&&(r[mse]=e[mse]),e[vse]!=null&&(r[vse]=e[vse]),e[bse]!=null&&(r[bse]=e[bse]),e[Ff]!=null&&(r[Ff]=e[Ff]),e[gse]!=null){let n=mjr(e[gse],t);e[gse]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},ljr=(e,t)=>{let r={};if(e[aw]!=null&&(r[aw]=e[aw]),e[cw]!=null&&(r[cw]=e[cw]),e[Ase]!=null&&(r[Ase]=e[Ase]),e[hse]!=null&&(r[hse]=e[hse]),e[iw]!=null){let n=Xmt(e[iw],t);e[iw]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[sw]!=null&&(r[sw]=e[sw]),e[nw]!=null&&(r[nw]=e[nw]),r},Xmt=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=djr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},djr=(e,t)=>{let r={};return e[Pse]!=null&&(r[Pse]=e[Pse]),r},ujr=(e,t)=>{let r={};return e[pse]!=null&&(r[pse]=e[pse]),e[dse]!=null&&(r[dse]=e[dse]),r},mjr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ujr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},fjr=(e,t)=>{let r={};return e[fse]!=null&&(r[fse]=e[fse]),e[xse]!=null&&(r[xse]=e[xse]),r},pjr=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},gjr=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=fjr(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},Jmt=(e,t)=>{let r={};return e[ase]!=null&&(r[ase]=(0,jt.expectString)(e[ase])),e[cse]!=null&&(r[cse]=(0,jt.expectString)(e[cse])),r},hjr=(e,t)=>{let r={};return e[rw]!=null&&(r[rw]=Ymt(e[rw],t)),e[tw]!=null&&(r[tw]=Jmt(e[tw],t)),e[ow]!=null&&(r[ow]=(0,jt.strictParseInt32)(e[ow])),e[Ff]!=null&&(r[Ff]=(0,jt.expectString)(e[Ff])),r},yjr=(e,t)=>{let r={};return e[rw]!=null&&(r[rw]=Ymt(e[rw],t)),e[Sse]!=null&&(r[Sse]=(0,jt.expectString)(e[Sse])),e[tw]!=null&&(r[tw]=Jmt(e[tw],t)),e[ow]!=null&&(r[ow]=(0,jt.strictParseInt32)(e[ow])),e[yse]!=null&&(r[yse]=(0,jt.expectString)(e[yse])),e[lse]!=null&&(r[lse]=(0,jt.expectString)(e[lse])),e[Ff]!=null&&(r[Ff]=(0,jt.expectString)(e[Ff])),r},Ymt=(e,t)=>{let r={};return e[ose]!=null&&(r[ose]=(0,jt.expectString)(e[ose])),e[_se]!=null&&(r[_se]=(0,jt.expectString)(e[_se])),e[Ese]!=null&&(r[Ese]=(0,jt.expectString)(e[Ese])),e[use]!=null&&(r[use]=(0,jt.expectNonNull)((0,jt.parseRfc3339DateTimeWithOffset)(e[use]))),r},_jr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},Sjr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},vjr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},Ejr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},Cjr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},bjr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},wjr=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=(0,jt.expectString)(e[qs])),r},qf=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xjr=(0,jt.withBaseException)(La),Qmt=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new zmt.HttpRequest(l)},Zmt={"content-type":"application/x-www-form-urlencoded"},eft="2011-06-15",tft="Action",ose="AccessKeyId",Ajr="AssumeRole",ase="AssumedRoleId",tw="AssumedRoleUser",Pjr="AssumeRoleWithWebIdentity",cse="Arn",lse="Audience",rw="Credentials",dse="ContextAssertion",nw="DurationSeconds",use="Expiration",mse="ExternalId",fse="Key",sw="Policy",iw="PolicyArns",pse="ProviderArn",gse="ProvidedContexts",hse="ProviderId",ow="PackedPolicySize",yse="Provider",aw="RoleArn",cw="RoleSessionName",_se="SecretAccessKey",Sse="SubjectFromWebIdentityToken",Ff="SourceIdentity",vse="SerialNumber",Ese="SessionToken",Cse="Tags",bse="TokenCode",wse="TransitiveTagKeys",rft="Version",xse="Value",Ase="WebIdentityToken",Pse="arn",qs="message",nft=e=>Object.entries(e).map(([t,r])=>(0,jt.extendedEncodeURIComponent)(t)+"="+(0,jt.extendedEncodeURIComponent)(r)).join("&"),Rjr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var sft,ift,oft,H_,SH=v(()=>{sft=C(Fn()),ift=C(pi()),oft=C(V());oH();mO();Rse();H_=class extends oft.Command.classBuilder().ep(iH).m(function(t,r,n,s){return[(0,ift.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sft.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,nse).ser(Hmt).de(Vmt).build(){}});var aft,cft,lft,G_,vH=v(()=>{aft=C(Fn()),cft=C(pi()),lft=C(V());oH();mO();Rse();G_=class extends lft.Command.classBuilder().ep(iH).m(function(t,r,n,s){return[(0,cft.getSerdePlugin)(n,this.serialize,this.deserialize),(0,aft.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(sse,ise).ser(Gmt).de(Wmt).build(){}});var dft,Ijr,EH,uft=v(()=>{dft=C(V());SH();vH();sO();Ijr={AssumeRoleCommand:H_,AssumeRoleWithWebIdentityCommand:G_},EH=class extends Vu{};(0,dft.createAggregatedClient)(Ijr,EH)});var mft=v(()=>{SH();vH()});var fft=v(()=>{mO()});var pft,gft,hft,yft,_ft,Sft,vft=v(()=>{Td();SH();vH();pft="us-east-1",gft=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},hft=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${pft} (STS default)`),n??s??pft},yft=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,g=await hft(u,e?.parentClientConfig?.region,p),S=!Sft(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:S?f:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new H_(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=gft(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return ih(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},_ft=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,f=await hft(l,e?.parentClientConfig?.region,u),p=!Sft(d);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new G_(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=gft(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&ih(a,"RESOLVED_ACCOUNT_ID","T"),ih(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},Sft=e=>e?.metadata?.handlerProtocol==="h2"});var Eft,Cft,bft,Tjr,wft=v(()=>{vft();sO();Eft=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,Cft=(e={},t)=>yft(e,Eft(Vu,t)),bft=(e={},t)=>_ft(e,Eft(Vu,t)),Tjr=e=>t=>e({roleAssumer:Cft(t),roleAssumerWithWebIdentity:bft(t),...t})});var Ise={};Kt(Ise,{AssumeRoleCommand:()=>H_,AssumeRoleResponseFilterSensitiveLog:()=>nse,AssumeRoleWithWebIdentityCommand:()=>G_,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>sse,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>ise,CredentialsFilterSensitiveLog:()=>rse,ExpiredTokenException:()=>iO,IDPCommunicationErrorException:()=>uO,IDPRejectedClaimException:()=>lO,InvalidIdentityTokenException:()=>dO,MalformedPolicyDocumentException:()=>oO,PackedPolicyTooLargeException:()=>aO,RegionDisabledException:()=>cO,STS:()=>EH,STSClient:()=>Vu,STSServiceException:()=>La,__Client:()=>ese.Client,decorateDefaultCredentialProvider:()=>Tjr,getDefaultRoleAssumer:()=>Cft,getDefaultRoleAssumerWithWebIdentity:()=>bft});var Tse=v(()=>{sO();uft();mft();fft();wft();_H()});var kse=E((DGn,Aft)=>{"use strict";var CH=Object.defineProperty,Ojr=Object.getOwnPropertyDescriptor,Njr=Object.getOwnPropertyNames,Djr=Object.prototype.hasOwnProperty,Dse=(e,t)=>CH(e,"name",{value:t,configurable:!0}),kjr=(e,t)=>{for(var r in t)CH(e,r,{get:t[r],enumerable:!0})},Mjr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Njr(t))!Djr.call(e,s)&&s!==r&&CH(e,s,{get:()=>t[s],enumerable:!(n=Ojr(t,s))||n.enumerable});return e},Ljr=e=>Mjr(CH({},"__esModule",{value:!0}),e),xft={};kjr(xft,{fromProcess:()=>$jr});Aft.exports=Ljr(xft);var Ose=Rt(),Nse=ni(),Ujr=require("child_process"),Bjr=require("util"),Fjr=(Td(),H(oh)),qjr=Dse((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,Fjr.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),jjr=Dse(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,Bjr.promisify)(Nse.externalDataInterceptor?.getTokenRecord?.().exec??Ujr.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return qjr(e,a,t)}catch(o){throw new Ose.CredentialsProviderError(o.message,{logger:r})}}else throw new Ose.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Ose.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),$jr=Dse((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,Nse.parseKnownFiles)(e);return jjr((0,Nse.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var Mse=E(Ku=>{"use strict";var zjr=Ku&&Ku.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hjr=Ku&&Ku.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gjr=Ku&&Ku.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&zjr(r,t,n[s]);return Hjr(r,t),r}}();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.fromWebToken=void 0;var Vjr=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>Gjr((Tse(),H(Ise))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Ku.fromWebToken=Vjr});var Rft=E(bH=>{"use strict";Object.defineProperty(bH,"__esModule",{value:!0});bH.fromTokenFile=void 0;var Wjr=(Td(),H(oh)),Kjr=Rt(),Xjr=ni(),Jjr=require("fs"),Yjr=Mse(),Pft="AWS_WEB_IDENTITY_TOKEN_FILE",Qjr="AWS_ROLE_ARN",Zjr="AWS_ROLE_SESSION_NAME",e1r=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[Pft],r=e?.roleArn??process.env[Qjr],n=e?.roleSessionName??process.env[Zjr];if(!t||!r)throw new Kjr.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,Yjr.fromWebToken)({...e,webIdentityToken:Xjr.externalDataInterceptor?.getTokenRecord?.()[t]??(0,Jjr.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[Pft]&&(0,Wjr.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};bH.fromTokenFile=e1r});var Bse=E((LGn,wH)=>{"use strict";var Ift=Object.defineProperty,t1r=Object.getOwnPropertyDescriptor,r1r=Object.getOwnPropertyNames,n1r=Object.prototype.hasOwnProperty,Lse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of r1r(t))!n1r.call(e,s)&&s!==r&&Ift(e,s,{get:()=>t[s],enumerable:!(n=t1r(t,s))||n.enumerable});return e},Tft=(e,t,r)=>(Lse(e,t,"default"),r&&Lse(r,t,"default")),s1r=e=>Lse(Ift({},"__esModule",{value:!0}),e),Use={};wH.exports=s1r(Use);Tft(Use,Rft(),wH.exports);Tft(Use,Mse(),wH.exports)});var Bft=E((UGn,Uft)=>{"use strict";var i1r=Object.create,pO=Object.defineProperty,o1r=Object.getOwnPropertyDescriptor,a1r=Object.getOwnPropertyNames,c1r=Object.getPrototypeOf,l1r=Object.prototype.hasOwnProperty,ri=(e,t)=>pO(e,"name",{value:t,configurable:!0}),d1r=(e,t)=>{for(var r in t)pO(e,r,{get:t[r],enumerable:!0})},kft=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of a1r(t))!l1r.call(e,s)&&s!==r&&pO(e,s,{get:()=>t[s],enumerable:!(n=o1r(t,s))||n.enumerable});return e},_h=(e,t,r)=>(r=e!=null?i1r(c1r(e)):{},kft(t||!e||!e.__esModule?pO(r,"default",{value:e,enumerable:!0}):r,e)),u1r=e=>kft(pO({},"__esModule",{value:!0}),e),Mft={};d1r(Mft,{fromIni:()=>b1r});Uft.exports=u1r(Mft);var qse=ni(),Sh=(Td(),H(oh)),fO=Rt(),m1r=ri((e,t,r)=>{let n={EcsContainer:ri(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>_h(Ane())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>_h(dd()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,fO.chain)(i(s??{}),o(s))().then(Fse)},"EcsContainer"),Ec2InstanceMetadata:ri(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>_h(dd()));return async()=>i(s)().then(Fse)},"Ec2InstanceMetadata"),Environment:ri(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>_h(wne()));return async()=>i(s)().then(Fse)},"Environment")};if(e in n)return n[e];throw new fO.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Fse=ri(e=>(0,Sh.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),f1r=ri((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(p1r(e,{profile:t,logger:r})||g1r(e,{profile:t,logger:r})),"isAssumeRoleProfile"),p1r=ri((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),g1r=ri((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),h1r=ri(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>_h((Tse(),H(Ise))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new fO.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,qse.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?Lft(i,t,r,{...n,[i]:!0},Oft(t[i]??{})):(await m1r(s.credential_source,e,r.logger)(r))();if(Oft(s))return a.then(c=>(0,Sh.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new fO.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,Sh.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),Oft=ri(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),y1r=ri(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),_1r=ri(async(e,t)=>Promise.resolve().then(()=>_h(kse())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Sh.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),S1r=ri(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>_h(Jne()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Sh.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Sh.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),v1r=ri(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Nft=ri(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),Dft=ri(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Sh.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),E1r=ri(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),C1r=ri(async(e,t)=>Promise.resolve().then(()=>_h(Bse())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Sh.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),Lft=ri(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&Nft(i))return Dft(i,r);if(s||f1r(i,{profile:e,logger:r.logger}))return h1r(e,t,r,n);if(Nft(i))return Dft(i,r);if(E1r(i))return C1r(i,r);if(y1r(i))return _1r(r,e);if(v1r(i))return await S1r(e,i,r);throw new fO.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),b1r=ri((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,qse.parseKnownFiles)(r);return Lft((0,qse.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var Vft=E((BGn,Gft)=>{"use strict";var w1r=Object.create,gO=Object.defineProperty,x1r=Object.getOwnPropertyDescriptor,A1r=Object.getOwnPropertyNames,P1r=Object.getPrototypeOf,R1r=Object.prototype.hasOwnProperty,xH=(e,t)=>gO(e,"name",{value:t,configurable:!0}),I1r=(e,t)=>{for(var r in t)gO(e,r,{get:t[r],enumerable:!0})},jft=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A1r(t))!R1r.call(e,s)&&s!==r&&gO(e,s,{get:()=>t[s],enumerable:!(n=x1r(t,s))||n.enumerable});return e},lw=(e,t,r)=>(r=e!=null?w1r(P1r(e)):{},jft(t||!e||!e.__esModule?gO(r,"default",{value:e,enumerable:!0}):r,e)),T1r=e=>jft(gO({},"__esModule",{value:!0}),e),$ft={};I1r($ft,{credentialsTreatedAsExpired:()=>Hft,credentialsWillNeedRefresh:()=>zft,defaultProvider:()=>D1r});Gft.exports=T1r($ft);var jse=wne(),O1r=ni(),V_=Rt(),Fft="AWS_EC2_METADATA_DISABLED",N1r=xH(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>lw(dd()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>lw(Ane()));return(0,V_.chain)(i(e),n(e))}return process.env[Fft]&&process.env[Fft]!=="false"?async()=>{throw new V_.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),qft=!1,D1r=xH((e={})=>(0,V_.memoize)((0,V_.chain)(async()=>{if(e.profile??process.env[O1r.ENV_PROFILE])throw process.env[jse.ENV_KEY]&&process.env[jse.ENV_SECRET]&&(qft||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),qft=!0)),new V_.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,jse.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new V_.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>lw(Jne()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>lw(Bft()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>lw(kse()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>lw(Bse()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await N1r(e))()),async()=>{throw new V_.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Hft,zft),"defaultProvider"),zft=xH(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),Hft=xH(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var mpt=E((FGn,upt)=>{"use strict";var AH=Object.defineProperty,k1r=Object.getOwnPropertyDescriptor,M1r=Object.getOwnPropertyNames,L1r=Object.prototype.hasOwnProperty,cr=(e,t)=>AH(e,"name",{value:t,configurable:!0}),U1r=(e,t)=>{for(var r in t)AH(e,r,{get:t[r],enumerable:!0})},B1r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of M1r(t))!L1r.call(e,s)&&s!==r&&AH(e,s,{get:()=>t[s],enumerable:!(n=k1r(t,s))||n.enumerable});return e},F1r=e=>B1r(AH({},"__esModule",{value:!0}),e),Kft={};U1r(Kft,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>q1r,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>Xft,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>Jft,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>j1r,NODE_USE_ARN_REGION_ENV_NAME:()=>Yft,NODE_USE_ARN_REGION_INI_NAME:()=>Qft,bucketEndpointMiddleware:()=>cpt,bucketEndpointMiddlewareOptions:()=>lpt,bucketHostname:()=>zse,getArnResources:()=>opt,getBucketEndpointPlugin:()=>l$r,getSuffixForArnEndpoint:()=>rpt,resolveBucketEndpointConfig:()=>dpt,validateAccountId:()=>ipt,validateDNSHostLabel:()=>dw,validateNoDualstack:()=>t$r,validateNoFIPS:()=>apt,validateOutpostService:()=>npt,validatePartition:()=>spt,validateRegion:()=>Z1r});upt.exports=F1r(Kft);var vh=ax(),Xft="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",Jft="s3_disable_multiregion_access_points",q1r={environmentVariableSelector:cr(e=>(0,vh.booleanSelector)(e,Xft,vh.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:cr(e=>(0,vh.booleanSelector)(e,Jft,vh.SelectorType.CONFIG),"configFileSelector"),default:!1},Yft="AWS_S3_USE_ARN_REGION",Qft="s3_use_arn_region",j1r={environmentVariableSelector:cr(e=>(0,vh.booleanSelector)(e,Yft,vh.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:cr(e=>(0,vh.booleanSelector)(e,Qft,vh.SelectorType.CONFIG),"configFileSelector"),default:void 0},Wft=ore(),$1r=Fe(),z1r=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,H1r=/(\d+\.){3}\d+/,G1r=/\.\./,Zft=/\./,V1r=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,ept=/^s3(-external-1)?\.amazonaws\.com$/,$se="amazonaws.com",W1r=cr(e=>typeof e.bucketName=="string","isBucketNameOptions"),K1r=cr(e=>z1r.test(e)&&!H1r.test(e)&&!G1r.test(e),"isDnsCompatibleBucketName"),tpt=cr(e=>{let t=e.match(V1r);return[t[4],e.replace(new RegExp(`^${t[0]}`),"")]},"getRegionalSuffix"),X1r=cr(e=>ept.test(e)?["us-east-1",$se]:tpt(e),"getSuffix"),rpt=cr(e=>ept.test(e)?[e.replace(`.${$se}`,""),$se]:tpt(e),"getSuffixForArnEndpoint"),J1r=cr(e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),Y1r=cr(e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),Q1r=cr(e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),npt=cr(e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),spt=cr((e,t)=>{if(e!==t.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${t.clientPartition}"`)},"validatePartition"),Z1r=cr((e,t)=>{},"validateRegion"),Hse=cr(e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},"validateRegionalClient"),ipt=cr(e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),dw=cr((e,t={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||t?.tlsCompatible&&Zft.test(e))throw new Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),e$r=cr(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),opt=cr(e=>{let t=e.includes(":")?":":"/",[r,...n]=e.split(t);if(r==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${t}{accesspointname}`);return{accesspointName:n[0]}}else if(r==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${t}{outpostId}${t}accesspoint${t}{accesspointName}`);let[s,i,o]=n;return{outpostId:s,accesspointName:o}}else throw new Error(`ARN resource should begin with 'accesspoint${t}' or 'outpost${t}'`)},"getArnResources"),t$r=cr(e=>{},"validateNoDualstack"),apt=cr(e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),r$r=cr(e=>{try{e.split(".").forEach(t=>{dw(t)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),zse=cr(e=>(e$r(e),W1r(e)?n$r(e):s$r(e)),"bucketHostname"),n$r=cr(({accelerateEndpoint:e=!1,clientRegion:t,baseHostname:r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,pathStyleEndpoint:o=!1,tlsCompatible:a=!0,isCustomEndpoint:c=!1})=>{let[l,d]=c?[t,r]:X1r(r);return o||!K1r(n)||a&&Zft.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${l}.${d}`:r}:(e?r=`s3-accelerate${s?".dualstack":""}.${d}`:s&&(r=`s3.dualstack.${l}.${d}`),{bucketEndpoint:!0,hostname:`${n}.${r}`})},"getEndpointFromBucketName"),s$r=cr(e=>{let{isCustomEndpoint:t,baseHostname:r,clientRegion:n}=e,s=t?r:rpt(r)[1],{pathStyleEndpoint:i,accelerateEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,bucketName:l,clientPartition:d="aws"}=e;J1r({pathStyleEndpoint:i,accelerateEndpoint:o,tlsCompatible:c});let{service:u,partition:f,accountId:p,region:g,resource:S}=l;Y1r(u),spt(f,{clientPartition:d}),ipt(p);let{accesspointName:b,outpostId:A}=opt(S);return u==="s3-object-lambda"?i$r({...e,tlsCompatible:c,bucketName:l,accesspointName:b,hostnameSuffix:s}):g===""?o$r({...e,clientRegion:n,mrapAlias:b,hostnameSuffix:s}):A?a$r({...e,clientRegion:n,outpostId:A,accesspointName:b,hostnameSuffix:s}):c$r({...e,clientRegion:n,accesspointName:b,hostnameSuffix:s})},"getEndpointFromArn"),i$r=cr(({dualstackEndpoint:e=!1,fipsEndpoint:t=!1,tlsCompatible:r=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:i=s,accesspointName:o,bucketName:a,hostnameSuffix:c})=>{let{accountId:l,region:d,service:u}=a;Hse(s);let f=`${o}-${l}`;dw(f,{tlsCompatible:r});let p=n?d:s,g=n?d:i;return{bucketEndpoint:!0,hostname:`${f}.${u}${t?"-fips":""}.${p}.${c}`,signingRegion:g,signingService:u}},"getEndpointFromObjectLambdaArn"),o$r=cr(({disableMultiregionAccessPoints:e,dualstackEndpoint:t=!1,isCustomEndpoint:r,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return r$r(n),{bucketEndpoint:!0,hostname:`${n}${r?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),a$r=cr(({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,outpostId:s,dualstackEndpoint:i=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{Hse(t);let u=`${c}-${n.accountId}`;dw(u,{tlsCompatible:a});let f=e?n.region:t,p=e?n.region:r;return npt(n.service),dw(s,{tlsCompatible:a}),apt(o),{bucketEndpoint:!0,hostname:`${`${u}.${s}`}${l?"":`.s3-outposts.${f}`}.${d}`,signingRegion:p,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),c$r=cr(({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,tlsCompatible:o=!0,accesspointName:a,isCustomEndpoint:c,hostnameSuffix:l})=>{Hse(t);let d=`${a}-${n.accountId}`;dw(d,{tlsCompatible:o});let u=e?n.region:t,f=e?n.region:r;return Q1r(n.service),{bucketEndpoint:!0,hostname:`${d}${c?"":`.s3-accesspoint${i?"-fips":""}${s?".dualstack":""}.${u}`}.${l}`,signingRegion:f}},"getEndpointFromAccessPointArn"),cpt=cr(e=>(t,r)=>async n=>{let{Bucket:s}=n.input,i=e.bucketEndpoint,o=n.request;if($1r.HttpRequest.isInstance(o)){if(e.bucketEndpoint)o.hostname=s;else if((0,Wft.validate)(s)){let a=(0,Wft.parse)(s),c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{partition:u,signingRegion:f=c}=await e.regionInfoProvider(c,{useDualstackEndpoint:l,useFipsEndpoint:d})||{},p=await e.useArnRegion(),{hostname:g,bucketEndpoint:S,signingRegion:b,signingService:A}=zse({bucketName:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",useArnRegion:p,clientPartition:u,clientSigningRegion:f,clientRegion:c,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});b&&b!==f&&(r.signing_region=b),A&&A!=="s3"&&(r.signing_service=A),o.hostname=g,i=S}else{let a=await e.region(),c=await e.useDualstackEndpoint(),l=await e.useFipsEndpoint(),{hostname:d,bucketEndpoint:u}=zse({bucketName:s,clientRegion:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:c,fipsEndpoint:l,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});o.hostname=d,i=u}i&&(o.path=o.path.replace(/^(\/)?[^\/]+/,""),o.path===""&&(o.path="/"))}return t({...n,request:o})},"bucketEndpointMiddleware"),lpt={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},l$r=cr(e=>({applyToStack:cr(t=>{t.addRelativeTo(cpt(e),lpt)},"applyToStack")}),"getBucketEndpointPlugin");function dpt(e){let{bucketEndpoint:t=!1,forcePathStyle:r=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:i=!1}=e;return Object.assign(e,{bucketEndpoint:t,forcePathStyle:r,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof i=="function"?i:()=>Promise.resolve(i)})}cr(dpt,"resolveBucketEndpointConfig")});var vpt=E((qGn,Spt)=>{var RH=Object.defineProperty,d$r=Object.getOwnPropertyDescriptor,u$r=Object.getOwnPropertyNames,m$r=Object.prototype.hasOwnProperty,jf=(e,t)=>RH(e,"name",{value:t,configurable:!0}),f$r=(e,t)=>{for(var r in t)RH(e,r,{get:t[r],enumerable:!0})},p$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of u$r(t))!m$r.call(e,s)&&s!==r&&RH(e,s,{get:()=>t[s],enumerable:!(n=d$r(t,s))||n.enumerable});return e},g$r=e=>p$r(RH({},"__esModule",{value:!0}),e),ppt={};f$r(ppt,{EventStreamCodec:()=>R$r,HeaderMarshaller:()=>hpt,Int64:()=>PH,MessageDecoderStream:()=>I$r,MessageEncoderStream:()=>T$r,SmithyMessageDecoderStream:()=>O$r,SmithyMessageEncoderStream:()=>N$r});Spt.exports=g$r(ppt);var h$r=oT(),W_=SN(),PH=class gpt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{jf(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Gse(r),new gpt(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Gse(t),parseInt((0,W_.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Gse(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}jf(Gse,"negate");var hpt=class{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}static{jf(this,"HeaderMarshaller")}format(e){let t=[];for(let s of Object.keys(e)){let i=this.fromUtf8(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(PH.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!x$r.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,W_.fromHex)(e.value.replace(/\-/g,"")),1),d}}parse(e){let t={},r=0;for(;r<e.byteLength;){let n=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,n));switch(r+=n,e.getUint8(r++)){case 0:t[s]={type:fpt,value:!0};break;case 1:t[s]={type:fpt,value:!1};break;case 2:t[s]={type:y$r,value:e.getInt8(r++)};break;case 3:t[s]={type:_$r,value:e.getInt16(r,!1)},r+=2;break;case 4:t[s]={type:S$r,value:e.getInt32(r,!1)},r+=4;break;case 5:t[s]={type:v$r,value:new PH(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let i=e.getUint16(r,!1);r+=2,t[s]={type:E$r,value:new Uint8Array(e.buffer,e.byteOffset+r,i)},r+=i;break;case 7:let o=e.getUint16(r,!1);r+=2,t[s]={type:C$r,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,o))},r+=o;break;case 8:t[s]={type:b$r,value:new Date(new PH(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let a=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[s]={type:w$r,value:`${(0,W_.toHex)(a.subarray(0,4))}-${(0,W_.toHex)(a.subarray(4,6))}-${(0,W_.toHex)(a.subarray(6,8))}-${(0,W_.toHex)(a.subarray(8,10))}-${(0,W_.toHex)(a.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},fpt="boolean",y$r="byte",_$r="short",S$r="integer",v$r="long",E$r="binary",C$r="string",b$r="timestamp",w$r="uuid",x$r=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,A$r=oT(),ypt=4,Eh=ypt*2,K_=4,P$r=Eh+K_*2;function _pt({byteLength:e,byteOffset:t,buffer:r}){if(e<P$r)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let i=n.getUint32(ypt,!1),o=n.getUint32(Eh,!1),a=n.getUint32(e-K_,!1),c=new A$r.Crc32().update(new Uint8Array(r,t,Eh));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+Eh,e-(Eh+K_))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+Eh+K_,i),body:new Uint8Array(r,t+Eh+K_+i,s-i-(Eh+K_+K_))}}jf(_pt,"splitMessage");var R$r=class{static{jf(this,"EventStreamCodec")}constructor(e,t){this.headerMarshaller=new hpt(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return t}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return t}}}encode({headers:e,body:t}){let r=this.headerMarshaller.format(e),n=r.byteLength+t.byteLength+16,s=new Uint8Array(n),i=new DataView(s.buffer,s.byteOffset,s.byteLength),o=new h$r.Crc32;return i.setUint32(0,n,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,o.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(t,r.byteLength+12),i.setUint32(n-4,o.update(s.subarray(8,n-4)).digest(),!1),s}decode(e){let{headers:t,body:r}=_pt(e);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}},I$r=class{constructor(e){this.options=e}static{jf(this,"MessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}},T$r=class{constructor(e){this.options=e}static{jf(this,"MessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}},O$r=class{constructor(e){this.options=e}static{jf(this,"SmithyMessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let t=await this.options.deserializer(e);t!==void 0&&(yield t)}}},N$r=class{constructor(e){this.options=e}static{jf(this,"SmithyMessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}}});var Apt=E((WGn,xpt)=>{var IH=Object.defineProperty,D$r=Object.getOwnPropertyDescriptor,k$r=Object.getOwnPropertyNames,M$r=Object.prototype.hasOwnProperty,uw=(e,t)=>IH(e,"name",{value:t,configurable:!0}),L$r=(e,t)=>{for(var r in t)IH(e,r,{get:t[r],enumerable:!0})},U$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of k$r(t))!M$r.call(e,s)&&s!==r&&IH(e,s,{get:()=>t[s],enumerable:!(n=D$r(t,s))||n.enumerable});return e},B$r=e=>U$r(IH({},"__esModule",{value:!0}),e),Ept={};L$r(Ept,{EventStreamMarshaller:()=>wpt,eventStreamSerdeProvider:()=>F$r});xpt.exports=B$r(Ept);var hO=vpt();function Cpt(e){let t=0,r=0,n=null,s=null,i=uw(a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},"allocateMessage"),o=uw(async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=await a.next();if(l){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let d=c.length,u=0;for(;u<d;){if(!n){let p=d-u;s||(s=new Uint8Array(4));let g=Math.min(4-r,p);if(s.set(c.slice(u,u+g),r),r+=g,u+=g,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}let f=Math.min(t-r,d-u);n.set(c.slice(u,u+f),r),r+=f,u+=f,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:o}}uw(Cpt,"getChunkedStream");function bpt(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){let s=r.headers[":exception-type"].value,i={[s]:r},o=await e(i);if(o.$unknown){let a=new Error(t(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){let s={[r.headers[":event-type"].value]:r},i=await e(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}uw(bpt,"getMessageUnmarshaller");var wpt=class{static{uw(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new hO.EventStreamCodec(e,t),this.utfEncoder=e}deserialize(e,t){let r=Cpt(e);return new hO.SmithyMessageDecoderStream({messageStream:new hO.MessageDecoderStream({inputStream:r,decoder:this.eventStreamCodec}),deserializer:bpt(t,this.utfEncoder)})}serialize(e,t){return new hO.MessageEncoderStream({messageStream:new hO.SmithyMessageEncoderStream({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},F$r=uw(e=>new wpt(e),"eventStreamSerdeProvider")});var Opt=E((XGn,Tpt)=>{var TH=Object.defineProperty,q$r=Object.getOwnPropertyDescriptor,j$r=Object.getOwnPropertyNames,$$r=Object.prototype.hasOwnProperty,Vse=(e,t)=>TH(e,"name",{value:t,configurable:!0}),z$r=(e,t)=>{for(var r in t)TH(e,r,{get:t[r],enumerable:!0})},H$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j$r(t))!$$r.call(e,s)&&s!==r&&TH(e,s,{get:()=>t[s],enumerable:!(n=q$r(t,s))||n.enumerable});return e},G$r=e=>H$r(TH({},"__esModule",{value:!0}),e),Ppt={};z$r(Ppt,{EventStreamMarshaller:()=>Ipt,eventStreamSerdeProvider:()=>K$r});Tpt.exports=G$r(Ppt);var V$r=Apt(),W$r=require("stream");async function*Rpt(e){let t=!1,r=!1,n=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{t=!0});!r;){let s=await new Promise(i=>setTimeout(()=>i(n.shift()),0));s&&(yield s),r=t&&n.length===0}}Vse(Rpt,"readabletoIterable");var Ipt=class{static{Vse(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new V$r.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){let r=typeof e[Symbol.asyncIterator]=="function"?e:Rpt(e);return this.universalMarshaller.deserialize(r,t)}serialize(e,t){return W$r.Readable.from(this.universalMarshaller.serialize(e,t))}},K$r=Vse(e=>new Ipt(e),"eventStreamSerdeProvider")});var Mpt=E((YGn,kpt)=>{var OH=Object.defineProperty,X$r=Object.getOwnPropertyDescriptor,J$r=Object.getOwnPropertyNames,Y$r=Object.prototype.hasOwnProperty,NH=(e,t)=>OH(e,"name",{value:t,configurable:!0}),Q$r=(e,t)=>{for(var r in t)OH(e,r,{get:t[r],enumerable:!0})},Z$r=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of J$r(t))!Y$r.call(e,s)&&s!==r&&OH(e,s,{get:()=>t[s],enumerable:!(n=X$r(t,s))||n.enumerable});return e},ezr=e=>Z$r(OH({},"__esModule",{value:!0}),e),Npt={};Q$r(Npt,{fileStreamHasher:()=>szr,readableStreamHasher:()=>ozr});kpt.exports=ezr(Npt);var tzr=require("fs"),rzr=Ct(),nzr=require("stream"),Dpt=class extends nzr.Writable{constructor(e,t){super(t),this.hash=e}static{NH(this,"HashCalculator")}_write(e,t,r){try{this.hash.update((0,rzr.toUint8Array)(e))}catch(n){return r(n)}r()}},szr=NH((e,t)=>new Promise((r,n)=>{if(!izr(t)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=(0,tzr.createReadStream)(t.path,{start:t.start,end:t.end}),i=new e,o=new Dpt(i);s.pipe(o),s.on("error",a=>{o.end(),n(a)}),o.on("error",n),o.on("finish",function(){i.digest().then(r).catch(n)})}),"fileStreamHasher"),izr=NH(e=>typeof e.path=="string","isReadStream"),ozr=NH((e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new Dpt(r);return t.pipe(n),new Promise((s,i)=>{t.on("error",o=>{n.end(),i(o)}),n.on("error",i),n.on("finish",()=>{r.digest().then(s).catch(i)})})},"readableStreamHasher")});var qpt=E(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0});DH.getRuntimeConfig=void 0;var Lpt=(Pi(),H(Fu)),azr=az(),czr=V(),lzr=gi(),Upt=bt(),Bpt=sm(),Fpt=Ct(),dzr=bne(),uzr=Cne(),mzr=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??Upt.fromBase64,base64Encoder:e?.base64Encoder??Upt.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uzr.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??Bpt.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dzr.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Lpt.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new Lpt.AwsSdkSigV4ASigner}],logger:e?.logger??new czr.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??Bpt.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??azr.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??lzr.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??Fpt.fromUtf8,utf8Encoder:e?.utf8Encoder??Fpt.toUtf8});DH.getRuntimeConfig=mzr});var Gpt=E(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.getRuntimeConfig=void 0;var fzr=(Vo(),H(Go)),pzr=fzr.__importDefault(Xct()),Wse=(Pi(),H(Fu)),gzr=Vft(),hzr=mpt(),jpt=wte(),yzr=Ne(),$pt=kT(),kH=un(),_zr=Opt(),Kse=Ya(),Szr=Mpt(),zpt=xn(),Gl=io(),Hpt=Ui(),vzr=Qa(),Ezr=ya(),Czr=qpt(),bzr=V(),wzr=Za(),xzr=V(),Azr=e=>{(0,xzr.emitWarningIfUnsupportedVersion)(process.version);let t=(0,wzr.resolveDefaultsModeConfig)(e),r=()=>t().then(bzr.loadConfigsForDefaultMode),n=(0,Czr.getRuntimeConfig)(e);(0,Wse.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Gl.loadConfig)(Wse.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??vzr.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??gzr.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,$pt.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:pzr.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,Gl.loadConfig)(yzr.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??_zr.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,Gl.loadConfig)(zpt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??Kse.Hash.bind(null,"md5"),region:e?.region??(0,Gl.loadConfig)(kH.NODE_REGION_CONFIG_OPTIONS,{...kH.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,Gl.loadConfig)(jpt.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:Hpt.NodeHttpHandler.create(e?.requestHandler??r),responseChecksumValidation:e?.responseChecksumValidation??(0,Gl.loadConfig)(jpt.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,Gl.loadConfig)({...zpt.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Ezr.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??Kse.Hash.bind(null,"sha1"),sha256:e?.sha256??Kse.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,Gl.loadConfig)(Wse.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??Hpt.streamCollector,streamHasher:e?.streamHasher??Szr.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,Gl.loadConfig)(hzr.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,Gl.loadConfig)(kH.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Gl.loadConfig)(kH.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Gl.loadConfig)($pt.NODE_APP_ID_CONFIG_OPTIONS,s)}};MH.getRuntimeConfig=Azr});var Xpt=E((t3n,Kpt)=>{"use strict";var UH=Object.defineProperty,Pzr=Object.getOwnPropertyDescriptor,Rzr=Object.getOwnPropertyNames,Izr=Object.prototype.hasOwnProperty,LH=(e,t)=>UH(e,"name",{value:t,configurable:!0}),Tzr=(e,t)=>{for(var r in t)UH(e,r,{get:t[r],enumerable:!0})},Ozr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rzr(t))!Izr.call(e,s)&&s!==r&&UH(e,s,{get:()=>t[s],enumerable:!(n=Pzr(t,s))||n.enumerable});return e},Nzr=e=>Ozr(UH({},"__esModule",{value:!0}),e),Vpt={};Tzr(Vpt,{getSsecPlugin:()=>Dzr,isValidBase64EncodedSSECustomerKey:()=>Jse,ssecMiddleware:()=>Xse,ssecMiddlewareOptions:()=>Wpt});Kpt.exports=Nzr(Vpt);function Xse(e){return t=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let i of s){let o=n[i.target];if(o){let a;typeof o=="string"?Jse(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),n[i.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[i.target]=e.base64Encoder(a));let c=new e.md5;c.update(a),n[i.hash]=e.base64Encoder(await c.digest())}}return t({...r,input:n})}}LH(Xse,"ssecMiddleware");var Wpt={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Dzr=LH(e=>({applyToStack:LH(t=>{t.add(Xse(e),Wpt)},"applyToStack")}),"getSsecPlugin");function Jse(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}LH(Jse,"isValidBase64EncodedSSECustomerKey")});var Zpt=E((r3n,Qpt)=>{"use strict";var BH=Object.defineProperty,kzr=Object.getOwnPropertyDescriptor,Mzr=Object.getOwnPropertyNames,Lzr=Object.prototype.hasOwnProperty,Yse=(e,t)=>BH(e,"name",{value:t,configurable:!0}),Uzr=(e,t)=>{for(var r in t)BH(e,r,{get:t[r],enumerable:!0})},Bzr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Mzr(t))!Lzr.call(e,s)&&s!==r&&BH(e,s,{get:()=>t[s],enumerable:!(n=kzr(t,s))||n.enumerable});return e},Fzr=e=>Bzr(BH({},"__esModule",{value:!0}),e),Jpt={};Uzr(Jpt,{getLocationConstraintPlugin:()=>qzr,locationConstraintMiddleware:()=>Qse,locationConstraintMiddlewareOptions:()=>Ypt});Qpt.exports=Fzr(Jpt);function Qse(e){return t=>async r=>{let{CreateBucketConfiguration:n}=r.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&(r={...r,input:{...r.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),t(r)}}Yse(Qse,"locationConstraintMiddleware");var Ypt={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},qzr=Yse(e=>({applyToStack:Yse(t=>{t.add(Qse(e),Ypt)},"applyToStack")}),"getLocationConstraintPlugin")});var Rvt=E((n3n,Pvt)=>{"use strict";var $G=Object.defineProperty,jzr=Object.getOwnPropertyDescriptor,$zr=Object.getOwnPropertyNames,zzr=Object.prototype.hasOwnProperty,y=(e,t)=>$G(e,"name",{value:t,configurable:!0}),Hzr=(e,t)=>{for(var r in t)$G(e,r,{get:t[r],enumerable:!0})},Gzr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $zr(t))!zzr.call(e,s)&&s!==r&&$G(e,s,{get:()=>t[s],enumerable:!(n=jzr(t,s))||n.enumerable});return e},Vzr=e=>Gzr($G({},"__esModule",{value:!0}),e),Mgt={};Hzr(Mgt,{AbortMultipartUploadCommand:()=>D_t,AnalyticsFilter:()=>AG,AnalyticsS3ExportFileFormat:()=>AHr,ArchiveStatus:()=>sGr,BucketAccelerateStatus:()=>nHr,BucketAlreadyExists:()=>jgt,BucketAlreadyOwnedByYou:()=>zgt,BucketCannedACL:()=>hHr,BucketLocationConstraint:()=>vHr,BucketLogsPermission:()=>UHr,BucketType:()=>_Hr,BucketVersioningStatus:()=>YHr,ChecksumAlgorithm:()=>dHr,ChecksumMode:()=>eGr,ChecksumType:()=>aHr,CompleteMultipartUploadCommand:()=>k_t,CompleteMultipartUploadOutputFilterSensitiveLog:()=>Zgt,CompleteMultipartUploadRequestFilterSensitiveLog:()=>eht,CompressionType:()=>fGr,CopyObjectCommand:()=>M_t,CopyObjectOutputFilterSensitiveLog:()=>tht,CopyObjectRequestFilterSensitiveLog:()=>rht,CreateBucketCommand:()=>L_t,CreateBucketMetadataConfigurationCommand:()=>U_t,CreateBucketMetadataTableConfigurationCommand:()=>B_t,CreateMultipartUploadCommand:()=>F_t,CreateMultipartUploadOutputFilterSensitiveLog:()=>nht,CreateMultipartUploadRequestFilterSensitiveLog:()=>sht,CreateSessionCommand:()=>eae,CreateSessionOutputFilterSensitiveLog:()=>oht,CreateSessionRequestFilterSensitiveLog:()=>aht,DataRedundancy:()=>yHr,DeleteBucketAnalyticsConfigurationCommand:()=>q_t,DeleteBucketCommand:()=>j_t,DeleteBucketCorsCommand:()=>$_t,DeleteBucketEncryptionCommand:()=>z_t,DeleteBucketIntelligentTieringConfigurationCommand:()=>H_t,DeleteBucketInventoryConfigurationCommand:()=>G_t,DeleteBucketLifecycleCommand:()=>V_t,DeleteBucketMetadataConfigurationCommand:()=>W_t,DeleteBucketMetadataTableConfigurationCommand:()=>K_t,DeleteBucketMetricsConfigurationCommand:()=>X_t,DeleteBucketOwnershipControlsCommand:()=>J_t,DeleteBucketPolicyCommand:()=>Y_t,DeleteBucketReplicationCommand:()=>Q_t,DeleteBucketTaggingCommand:()=>Z_t,DeleteBucketWebsiteCommand:()=>eSt,DeleteMarkerReplicationStatus:()=>$Hr,DeleteObjectCommand:()=>tSt,DeleteObjectTaggingCommand:()=>nSt,DeleteObjectsCommand:()=>rSt,DeletePublicAccessBlockCommand:()=>sSt,EncodingType:()=>iGr,EncryptionFilterSensitiveLog:()=>qht,EncryptionTypeMismatch:()=>bht,Event:()=>qHr,ExistingObjectReplicationStatus:()=>GHr,ExpirationState:()=>wHr,ExpirationStatus:()=>MHr,ExpressionType:()=>mGr,FileHeaderInfo:()=>pGr,FilterRuleName:()=>jHr,GetBucketAccelerateConfigurationCommand:()=>iSt,GetBucketAclCommand:()=>oSt,GetBucketAnalyticsConfigurationCommand:()=>aSt,GetBucketCorsCommand:()=>cSt,GetBucketEncryptionCommand:()=>lSt,GetBucketEncryptionOutputFilterSensitiveLog:()=>dht,GetBucketIntelligentTieringConfigurationCommand:()=>dSt,GetBucketInventoryConfigurationCommand:()=>uSt,GetBucketInventoryConfigurationOutputFilterSensitiveLog:()=>ght,GetBucketLifecycleConfigurationCommand:()=>mSt,GetBucketLocationCommand:()=>fSt,GetBucketLoggingCommand:()=>pSt,GetBucketMetadataConfigurationCommand:()=>gSt,GetBucketMetadataTableConfigurationCommand:()=>hSt,GetBucketMetricsConfigurationCommand:()=>ySt,GetBucketNotificationConfigurationCommand:()=>_St,GetBucketOwnershipControlsCommand:()=>SSt,GetBucketPolicyCommand:()=>vSt,GetBucketPolicyStatusCommand:()=>ESt,GetBucketReplicationCommand:()=>CSt,GetBucketRequestPaymentCommand:()=>bSt,GetBucketTaggingCommand:()=>wSt,GetBucketVersioningCommand:()=>xSt,GetBucketWebsiteCommand:()=>ASt,GetObjectAclCommand:()=>PSt,GetObjectAttributesCommand:()=>RSt,GetObjectAttributesRequestFilterSensitiveLog:()=>_ht,GetObjectCommand:()=>ISt,GetObjectLegalHoldCommand:()=>TSt,GetObjectLockConfigurationCommand:()=>OSt,GetObjectOutputFilterSensitiveLog:()=>hht,GetObjectRequestFilterSensitiveLog:()=>yht,GetObjectRetentionCommand:()=>NSt,GetObjectTaggingCommand:()=>DSt,GetObjectTorrentCommand:()=>kSt,GetObjectTorrentOutputFilterSensitiveLog:()=>Sht,GetPublicAccessBlockCommand:()=>MSt,HeadBucketCommand:()=>r3,HeadObjectCommand:()=>n3,HeadObjectOutputFilterSensitiveLog:()=>vht,HeadObjectRequestFilterSensitiveLog:()=>Eht,IdempotencyParameterMismatch:()=>Oht,IntelligentTieringAccessTier:()=>IHr,IntelligentTieringStatus:()=>RHr,InvalidObjectState:()=>Wgt,InvalidRequest:()=>xht,InvalidWriteOffset:()=>Pht,InventoryConfigurationFilterSensitiveLog:()=>zG,InventoryConfigurationState:()=>CHr,InventoryDestinationFilterSensitiveLog:()=>pht,InventoryEncryptionFilterSensitiveLog:()=>mht,InventoryFormat:()=>THr,InventoryFrequency:()=>DHr,InventoryIncludedObjectVersions:()=>OHr,InventoryOptionalField:()=>NHr,InventoryS3BucketDestinationFilterSensitiveLog:()=>fht,JSONType:()=>gGr,ListBucketAnalyticsConfigurationsCommand:()=>LSt,ListBucketIntelligentTieringConfigurationsCommand:()=>USt,ListBucketInventoryConfigurationsCommand:()=>BSt,ListBucketInventoryConfigurationsOutputFilterSensitiveLog:()=>Cht,ListBucketMetricsConfigurationsCommand:()=>FSt,ListBucketsCommand:()=>tae,ListDirectoryBucketsCommand:()=>rae,ListMultipartUploadsCommand:()=>qSt,ListObjectVersionsCommand:()=>$St,ListObjectsCommand:()=>jSt,ListObjectsV2Command:()=>nae,ListPartsCommand:()=>sae,ListPartsRequestFilterSensitiveLog:()=>Mht,LocationType:()=>SHr,MFADelete:()=>dGr,MFADeleteStatus:()=>JHr,MetadataDirective:()=>uHr,MetricsFilter:()=>PG,MetricsStatus:()=>zHr,NoSuchBucket:()=>Ggt,NoSuchKey:()=>Xgt,NoSuchUpload:()=>Ugt,NotFound:()=>Ygt,ObjectAlreadyInActiveTierError:()=>Dht,ObjectAttributes:()=>tGr,ObjectCannedACL:()=>lHr,ObjectLockEnabled:()=>rGr,ObjectLockLegalHoldStatus:()=>mHr,ObjectLockMode:()=>fHr,ObjectLockRetentionMode:()=>nGr,ObjectNotInActiveTierError:()=>Fgt,ObjectOwnership:()=>EHr,ObjectStorageClass:()=>aGr,ObjectVersionStorageClass:()=>lGr,OptionalObjectAttributes:()=>cGr,OutputLocationFilterSensitiveLog:()=>$ht,OwnerOverride:()=>oHr,PartitionDateSource:()=>BHr,Payer:()=>XHr,Permission:()=>iHr,Protocol:()=>QHr,PutBucketAccelerateConfigurationCommand:()=>zSt,PutBucketAclCommand:()=>HSt,PutBucketAnalyticsConfigurationCommand:()=>GSt,PutBucketCorsCommand:()=>VSt,PutBucketEncryptionCommand:()=>WSt,PutBucketEncryptionRequestFilterSensitiveLog:()=>Lht,PutBucketIntelligentTieringConfigurationCommand:()=>KSt,PutBucketInventoryConfigurationCommand:()=>XSt,PutBucketInventoryConfigurationRequestFilterSensitiveLog:()=>Uht,PutBucketLifecycleConfigurationCommand:()=>JSt,PutBucketLoggingCommand:()=>YSt,PutBucketMetricsConfigurationCommand:()=>QSt,PutBucketNotificationConfigurationCommand:()=>ZSt,PutBucketOwnershipControlsCommand:()=>evt,PutBucketPolicyCommand:()=>tvt,PutBucketReplicationCommand:()=>rvt,PutBucketRequestPaymentCommand:()=>nvt,PutBucketTaggingCommand:()=>svt,PutBucketVersioningCommand:()=>ivt,PutBucketWebsiteCommand:()=>ovt,PutObjectAclCommand:()=>avt,PutObjectCommand:()=>cvt,PutObjectLegalHoldCommand:()=>lvt,PutObjectLockConfigurationCommand:()=>dvt,PutObjectOutputFilterSensitiveLog:()=>Bht,PutObjectRequestFilterSensitiveLog:()=>Fht,PutObjectRetentionCommand:()=>uvt,PutObjectTaggingCommand:()=>mvt,PutPublicAccessBlockCommand:()=>fvt,QuoteFields:()=>hGr,RenameObjectCommand:()=>pvt,ReplicaModificationsStatus:()=>VHr,ReplicationRuleStatus:()=>KHr,ReplicationStatus:()=>ZHr,ReplicationTimeStatus:()=>HHr,RequestCharged:()=>tHr,RequestPayer:()=>rHr,RestoreObjectCommand:()=>gvt,RestoreObjectRequestFilterSensitiveLog:()=>Hht,RestoreRequestFilterSensitiveLog:()=>zht,RestoreRequestType:()=>yGr,S3:()=>Cvt,S3Client:()=>_0,S3LocationFilterSensitiveLog:()=>jht,S3ServiceException:()=>Uo,S3TablesBucketType:()=>FHr,SSEKMSFilterSensitiveLog:()=>uht,SelectObjectContentCommand:()=>hvt,SelectObjectContentEventStream:()=>kie,SelectObjectContentEventStreamFilterSensitiveLog:()=>_Gr,SelectObjectContentOutputFilterSensitiveLog:()=>Ght,SelectObjectContentRequestFilterSensitiveLog:()=>Vht,ServerSideEncryption:()=>cHr,ServerSideEncryptionByDefaultFilterSensitiveLog:()=>cht,ServerSideEncryptionConfigurationFilterSensitiveLog:()=>hoe,ServerSideEncryptionRuleFilterSensitiveLog:()=>lht,SessionCredentialsFilterSensitiveLog:()=>iht,SessionMode:()=>xHr,SseKmsEncryptedObjectsStatus:()=>WHr,StorageClass:()=>pHr,StorageClassAnalysisSchemaVersion:()=>PHr,TableSseAlgorithm:()=>bHr,TaggingDirective:()=>gHr,Tier:()=>uGr,TooManyParts:()=>Iht,TransitionDefaultMinimumObjectSize:()=>LHr,TransitionStorageClass:()=>kHr,Type:()=>sHr,UpdateBucketMetadataInventoryTableConfigurationCommand:()=>yvt,UpdateBucketMetadataJournalTableConfigurationCommand:()=>_vt,UploadPartCommand:()=>Svt,UploadPartCopyCommand:()=>vvt,UploadPartCopyOutputFilterSensitiveLog:()=>Xht,UploadPartCopyRequestFilterSensitiveLog:()=>Jht,UploadPartOutputFilterSensitiveLog:()=>Wht,UploadPartRequestFilterSensitiveLog:()=>Kht,WriteGetObjectResponseCommand:()=>Evt,WriteGetObjectResponseRequestFilterSensitiveLog:()=>Yht,__Client:()=>m.Client,paginateListBuckets:()=>Z7r,paginateListDirectoryBuckets:()=>tQr,paginateListObjectsV2:()=>nQr,paginateListParts:()=>iQr,waitForBucketExists:()=>oQr,waitForBucketNotExists:()=>cQr,waitForObjectExists:()=>dQr,waitForObjectNotExists:()=>mQr,waitUntilBucketExists:()=>aQr,waitUntilBucketNotExists:()=>lQr,waitUntilObjectExists:()=>uQr,waitUntilObjectNotExists:()=>fQr});Pvt.exports=Vzr(Mgt);var Wzr=prt(),qr=wte(),egt=aT(),Kzr=cT(),Xzr=lT(),yO=Ne(),tgt=Fb(),Jzr=un(),Zse=(Ze(),H(As)),Yzr=pat(),Qzr=Ka(),rgt=xn(),ngt=bne(),Zzr=Ne(),se=Fn(),oe=pi(),eHr=y(e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),"resolveClientEndpointParameters"),ae={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},m=V(),Uo=class Lgt extends m.ServiceException{static{y(this,"S3ServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Lgt.prototype)}},tHr={requester:"requester"},rHr={requester:"requester"},Ugt=class Bgt extends Uo{static{y(this,"NoSuchUpload")}name="NoSuchUpload";$fault="client";constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),Object.setPrototypeOf(this,Bgt.prototype)}},nHr={Enabled:"Enabled",Suspended:"Suspended"},sHr={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},iHr={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},oHr={Destination:"Destination"},aHr={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},cHr={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},lHr={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},dHr={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},uHr={COPY:"COPY",REPLACE:"REPLACE"},mHr={OFF:"OFF",ON:"ON"},fHr={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},pHr={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},gHr={COPY:"COPY",REPLACE:"REPLACE"},Fgt=class qgt extends Uo{static{y(this,"ObjectNotInActiveTierError")}name="ObjectNotInActiveTierError";$fault="client";constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,qgt.prototype)}},jgt=class $gt extends Uo{static{y(this,"BucketAlreadyExists")}name="BucketAlreadyExists";$fault="client";constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,$gt.prototype)}},zgt=class Hgt extends Uo{static{y(this,"BucketAlreadyOwnedByYou")}name="BucketAlreadyOwnedByYou";$fault="client";constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),Object.setPrototypeOf(this,Hgt.prototype)}},hHr={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},yHr={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},_Hr={Directory:"Directory"},SHr={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},vHr={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},EHr={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},CHr={DISABLED:"DISABLED",ENABLED:"ENABLED"},bHr={AES256:"AES256",aws_kms:"aws:kms"},wHr={DISABLED:"DISABLED",ENABLED:"ENABLED"},xHr={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},Ggt=class Vgt extends Uo{static{y(this,"NoSuchBucket")}name="NoSuchBucket";$fault="client";constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),Object.setPrototypeOf(this,Vgt.prototype)}},AG;(e=>{e.visit=y((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(AG||(AG={}));var AHr={CSV:"CSV"},PHr={V_1:"V_1"},RHr={Disabled:"Disabled",Enabled:"Enabled"},IHr={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},THr={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},OHr={All:"All",Current:"Current"},NHr={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},DHr={Daily:"Daily",Weekly:"Weekly"},kHr={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},MHr={Disabled:"Disabled",Enabled:"Enabled"},LHr={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},UHr={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},BHr={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},FHr={aws:"aws",customer:"customer"},PG;(e=>{e.visit=y((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(PG||(PG={}));var qHr={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},jHr={prefix:"prefix",suffix:"suffix"},$Hr={Disabled:"Disabled",Enabled:"Enabled"},zHr={Disabled:"Disabled",Enabled:"Enabled"},HHr={Disabled:"Disabled",Enabled:"Enabled"},GHr={Disabled:"Disabled",Enabled:"Enabled"},VHr={Disabled:"Disabled",Enabled:"Enabled"},WHr={Disabled:"Disabled",Enabled:"Enabled"},KHr={Disabled:"Disabled",Enabled:"Enabled"},XHr={BucketOwner:"BucketOwner",Requester:"Requester"},JHr={Disabled:"Disabled",Enabled:"Enabled"},YHr={Enabled:"Enabled",Suspended:"Suspended"},QHr={http:"http",https:"https"},ZHr={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},eGr={ENABLED:"ENABLED"},Wgt=class Kgt extends Uo{static{y(this,"InvalidObjectState")}name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),Object.setPrototypeOf(this,Kgt.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},Xgt=class Jgt extends Uo{static{y(this,"NoSuchKey")}name="NoSuchKey";$fault="client";constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),Object.setPrototypeOf(this,Jgt.prototype)}},tGr={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},rGr={Enabled:"Enabled"},nGr={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},Ygt=class Qgt extends Uo{static{y(this,"NotFound")}name="NotFound";$fault="client";constructor(t){super({name:"NotFound",$fault:"client",...t}),Object.setPrototypeOf(this,Qgt.prototype)}},sGr={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},iGr={url:"url"},Zgt=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING}}),"CompleteMultipartUploadOutputFilterSensitiveLog"),eht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"CompleteMultipartUploadRequestFilterSensitiveLog"),tht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING}}),"CopyObjectOutputFilterSensitiveLog"),rht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:m.SENSITIVE_STRING}}),"CopyObjectRequestFilterSensitiveLog"),nht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING}}),"CreateMultipartUploadOutputFilterSensitiveLog"),sht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING}}),"CreateMultipartUploadRequestFilterSensitiveLog"),iht=y(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:m.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:m.SENSITIVE_STRING}}),"SessionCredentialsFilterSensitiveLog"),oht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING},...e.Credentials&&{Credentials:iht(e.Credentials)}}),"CreateSessionOutputFilterSensitiveLog"),aht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING}}),"CreateSessionRequestFilterSensitiveLog"),cht=y(e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:m.SENSITIVE_STRING}}),"ServerSideEncryptionByDefaultFilterSensitiveLog"),lht=y(e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:cht(e.ApplyServerSideEncryptionByDefault)}}),"ServerSideEncryptionRuleFilterSensitiveLog"),hoe=y(e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>lht(t))}}),"ServerSideEncryptionConfigurationFilterSensitiveLog"),dht=y(e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:hoe(e.ServerSideEncryptionConfiguration)}}),"GetBucketEncryptionOutputFilterSensitiveLog"),uht=y(e=>({...e,...e.KeyId&&{KeyId:m.SENSITIVE_STRING}}),"SSEKMSFilterSensitiveLog"),mht=y(e=>({...e,...e.SSEKMS&&{SSEKMS:uht(e.SSEKMS)}}),"InventoryEncryptionFilterSensitiveLog"),fht=y(e=>({...e,...e.Encryption&&{Encryption:mht(e.Encryption)}}),"InventoryS3BucketDestinationFilterSensitiveLog"),pht=y(e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:fht(e.S3BucketDestination)}}),"InventoryDestinationFilterSensitiveLog"),zG=y(e=>({...e,...e.Destination&&{Destination:pht(e.Destination)}}),"InventoryConfigurationFilterSensitiveLog"),ght=y(e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:zG(e.InventoryConfiguration)}}),"GetBucketInventoryConfigurationOutputFilterSensitiveLog"),hht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING}}),"GetObjectOutputFilterSensitiveLog"),yht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"GetObjectRequestFilterSensitiveLog"),_ht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"GetObjectAttributesRequestFilterSensitiveLog"),Sht=y(e=>({...e}),"GetObjectTorrentOutputFilterSensitiveLog"),vht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING}}),"HeadObjectOutputFilterSensitiveLog"),Eht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"HeadObjectRequestFilterSensitiveLog"),Cht=y(e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>zG(t))}}),"ListBucketInventoryConfigurationsOutputFilterSensitiveLog"),Ye=(Pi(),H(Fu)),O=Bre(),ce=(Ze(),H(As)),Die=Fe(),oGr=(q0(),H(DN)),aGr={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},cGr={RESTORE_STATUS:"RestoreStatus"},lGr={STANDARD:"STANDARD"},dGr={Disabled:"Disabled",Enabled:"Enabled"},bht=class wht extends Uo{static{y(this,"EncryptionTypeMismatch")}name="EncryptionTypeMismatch";$fault="client";constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,wht.prototype)}},xht=class Aht extends Uo{static{y(this,"InvalidRequest")}name="InvalidRequest";$fault="client";constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),Object.setPrototypeOf(this,Aht.prototype)}},Pht=class Rht extends Uo{static{y(this,"InvalidWriteOffset")}name="InvalidWriteOffset";$fault="client";constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),Object.setPrototypeOf(this,Rht.prototype)}},Iht=class Tht extends Uo{static{y(this,"TooManyParts")}name="TooManyParts";$fault="client";constructor(t){super({name:"TooManyParts",$fault:"client",...t}),Object.setPrototypeOf(this,Tht.prototype)}},Oht=class Nht extends Uo{static{y(this,"IdempotencyParameterMismatch")}name="IdempotencyParameterMismatch";$fault="client";constructor(t){super({name:"IdempotencyParameterMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,Nht.prototype)}},Dht=class kht extends Uo{static{y(this,"ObjectAlreadyInActiveTierError")}name="ObjectAlreadyInActiveTierError";$fault="client";constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,kht.prototype)}},uGr={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},mGr={SQL:"SQL"},fGr={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},pGr={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},gGr={DOCUMENT:"DOCUMENT",LINES:"LINES"},hGr={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},yGr={SELECT:"SELECT"},kie;(e=>{e.visit=y((t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1]),"visit")})(kie||(kie={}));var Mht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"ListPartsRequestFilterSensitiveLog"),Lht=y(e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:hoe(e.ServerSideEncryptionConfiguration)}}),"PutBucketEncryptionRequestFilterSensitiveLog"),Uht=y(e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:zG(e.InventoryConfiguration)}}),"PutBucketInventoryConfigurationRequestFilterSensitiveLog"),Bht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING}}),"PutObjectOutputFilterSensitiveLog"),Fht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:m.SENSITIVE_STRING}}),"PutObjectRequestFilterSensitiveLog"),qht=y(e=>({...e,...e.KMSKeyId&&{KMSKeyId:m.SENSITIVE_STRING}}),"EncryptionFilterSensitiveLog"),jht=y(e=>({...e,...e.Encryption&&{Encryption:qht(e.Encryption)}}),"S3LocationFilterSensitiveLog"),$ht=y(e=>({...e,...e.S3&&{S3:jht(e.S3)}}),"OutputLocationFilterSensitiveLog"),zht=y(e=>({...e,...e.OutputLocation&&{OutputLocation:$ht(e.OutputLocation)}}),"RestoreRequestFilterSensitiveLog"),Hht=y(e=>({...e,...e.RestoreRequest&&{RestoreRequest:zht(e.RestoreRequest)}}),"RestoreObjectRequestFilterSensitiveLog"),_Gr=y(e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"SelectObjectContentEventStreamFilterSensitiveLog"),Ght=y(e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),"SelectObjectContentOutputFilterSensitiveLog"),Vht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"SelectObjectContentRequestFilterSensitiveLog"),Wht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING}}),"UploadPartOutputFilterSensitiveLog"),Kht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING}}),"UploadPartRequestFilterSensitiveLog"),Xht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING}}),"UploadPartCopyOutputFilterSensitiveLog"),Jht=y(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:m.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:m.SENSITIVE_STRING}}),"UploadPartCopyRequestFilterSensitiveLog"),Yht=y(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:m.SENSITIVE_STRING}}),"WriteGetObjectResponseRequestFilterSensitiveLog"),SGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me],[SYr]:[()=>(0,m.isSerializableHeaderValue)(e[mgt]),()=>(0,m.dateToUtcString)(e[mgt]).toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"AbortMultipartUpload"],[NO]:[,(0,m.expectNonNull)(e[qa],"UploadId")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_AbortMultipartUploadCommand"),vGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[US]:e[rn],[BS]:e[nn],[FS]:e[sn],[qS]:e[on],[jS]:e[an],[f0]:e[cn],[bYr]:[()=>(0,m.isSerializableHeaderValue)(e[ygt]),()=>e[ygt].toString()],[$r]:e[jr],[fe]:e[me],[d0]:e[bO],[TO]:e[VG],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[NO]:[,(0,m.expectNonNull)(e[qa],"UploadId")]}),i,o;return e.MultipartUpload!==void 0&&(o=V4r(e.MultipartUpload,t),o=o.n("CompleteMultipartUpload"),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_CompleteMultipartUploadCommand"),EGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[m0]:e[Zw],[xO]:e[e0],[Koe]:e[lt],[AO]:e[t0],[PO]:e[r0],[RO]:e[n0],[IO]:e[s0],[E_t]:e[vyt],[C_t]:e[Eyt],[b_t]:[()=>(0,m.isSerializableHeaderValue)(e[RG]),()=>(0,m.dateToUtcString)(e[RG]).toString()],[w_t]:e[Cyt],[x_t]:[()=>(0,m.isSerializableHeaderValue)(e[IG]),()=>(0,m.dateToUtcString)(e[IG]).toString()],[OS]:[()=>(0,m.isSerializableHeaderValue)(e[Zu]),()=>(0,m.dateToUtcString)(e[Zu]).toString()],[p0]:e[i0],[g0]:e[o0],[h0]:e[a0],[y0]:e[c0],[CYr]:e[JJr],[UYr]:e[Y5r],[_c]:e[Bo],[LO]:e[Et],[UO]:e[wO],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[Sc]:e[eo],[Oh]:e[Th],[ws]:[()=>(0,m.isSerializableHeaderValue)(e[vn]),()=>e[vn].toString()],[A_t]:e[byt],[P_t]:e[wyt],[R_t]:e[xyt],[$r]:e[jr],[Qoe]:e[PS],[MO]:e[l0],[NS]:[()=>(0,m.isSerializableHeaderValue)(e[em]),()=>(0,m.serializeDateTime)(e[em]).toString()],[kO]:e[MS],[fe]:e[me],[N_t]:e[Ryt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"CopyObject"]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},"se_CopyObjectCommand"),CGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[m0]:e[Zw],[p0]:e[i0],[g0]:e[o0],[h0]:e[a0],[Xoe]:e[Aoe],[y0]:e[c0],[O9r]:[()=>(0,m.isSerializableHeaderValue)(e[Sgt]),()=>e[Sgt].toString()],[AYr]:e[vO]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,i;return e.CreateBucketConfiguration!==void 0&&(i=Z4r(e.CreateBucketConfiguration,t),s=wr,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=i.toString()),r.m("PUT").h(n).b(s),r.build()},"se_CreateBucketCommand"),bGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Foe]:[,""]}),i,o;return e.MetadataConfiguration!==void 0&&(o=$Wr(e.MetadataConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_CreateBucketMetadataConfigurationCommand"),wGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[qoe]:[,""]}),i,o;return e.MetadataTableConfiguration!==void 0&&(o=HWr(e.MetadataTableConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_CreateBucketMetadataTableConfigurationCommand"),xGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[m0]:e[Zw],[xO]:e[e0],[AO]:e[t0],[PO]:e[r0],[RO]:e[n0],[IO]:e[s0],[OS]:[()=>(0,m.isSerializableHeaderValue)(e[Zu]),()=>(0,m.dateToUtcString)(e[Zu]).toString()],[p0]:e[i0],[g0]:e[o0],[h0]:e[a0],[y0]:e[c0],[_c]:e[Bo],[LO]:e[Et],[UO]:e[wO],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[Sc]:e[eo],[Oh]:e[Th],[ws]:[()=>(0,m.isSerializableHeaderValue)(e[vn]),()=>e[vn].toString()],[$r]:e[jr],[Qoe]:e[PS],[MO]:e[l0],[NS]:[()=>(0,m.isSerializableHeaderValue)(e[em]),()=>(0,m.serializeDateTime)(e[em]).toString()],[kO]:e[MS],[fe]:e[me],[Koe]:e[lt],[f0]:e[cn]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[g_t]:[,""]});return r.m("POST").h(n).q(s).b(void 0),r.build()},"se_CreateMultipartUploadCommand"),AGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[k9r]:e[H5r],[_c]:e[Bo],[Sc]:e[eo],[Oh]:e[Th],[ws]:[()=>(0,m.isSerializableHeaderValue)(e[vn]),()=>e[vn].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[v9r]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_CreateSessionCommand"),PGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteBucketCommand"),RGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[WG]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketAnalyticsConfigurationCommand"),IGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[koe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketCorsCommand"),TGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Moe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketEncryptionCommand"),OGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[ZG]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketIntelligentTieringConfigurationCommand"),NGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[QG]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketInventoryConfigurationCommand"),DGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Boe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketLifecycleCommand"),kGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Foe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketMetadataConfigurationCommand"),MGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[qoe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketMetadataTableConfigurationCommand"),LGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[e3]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketMetricsConfigurationCommand"),UGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[$oe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketOwnershipControlsCommand"),BGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[zoe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketPolicyCommand"),FGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Goe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketReplicationCommand"),qGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[u0]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketTaggingCommand"),jGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Voe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteBucketWebsiteCommand"),$Gr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[Joe]:e[Poe],[$r]:e[jr],[Woe]:[()=>(0,m.isSerializableHeaderValue)(e[Ww]),()=>e[Ww].toString()],[fe]:e[me],[d0]:e[bO],[vYr]:[()=>(0,m.isSerializableHeaderValue)(e[fgt]),()=>(0,m.dateToUtcString)(e[fgt]).toString()],[EYr]:[()=>(0,m.isSerializableHeaderValue)(e[pgt]),()=>e[pgt].toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"DeleteObject"],[ja]:[,e[At]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteObjectCommand"),zGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[Joe]:e[Poe],[$r]:e[jr],[Woe]:[()=>(0,m.isSerializableHeaderValue)(e[Ww]),()=>e[Ww].toString()],[fe]:e[me],[ln]:e[lt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[o9r]:[,""]}),i,o;return e.Delete!==void 0&&(o=nWr(e.Delete,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_DeleteObjectsCommand"),HGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[u0]:[,""],[ja]:[,e[At]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteObjectTaggingCommand"),GGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Hoe]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeletePublicAccessBlockCommand"),VGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me],[$r]:e[jr]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Jyt]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketAccelerateConfigurationCommand"),WGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[KG]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketAclCommand"),KGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[WG]:[,""],[Li]:[,"GetBucketAnalyticsConfiguration"],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketAnalyticsConfigurationCommand"),XGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[koe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketCorsCommand"),JGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Moe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketEncryptionCommand"),YGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[ZG]:[,""],[Li]:[,"GetBucketIntelligentTieringConfiguration"],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketIntelligentTieringConfigurationCommand"),QGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[QG]:[,""],[Li]:[,"GetBucketInventoryConfiguration"],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketInventoryConfigurationCommand"),ZGr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Boe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketLifecycleConfigurationCommand"),e3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[r_t]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketLocationCommand"),t3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[n_t]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketLoggingCommand"),r3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Foe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketMetadataConfigurationCommand"),n3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[qoe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketMetadataTableConfigurationCommand"),s3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[e3]:[,""],[Li]:[,"GetBucketMetricsConfiguration"],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketMetricsConfigurationCommand"),i3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[s_t]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketNotificationConfigurationCommand"),o3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[$oe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketOwnershipControlsCommand"),a3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[zoe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketPolicyCommand"),c3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[h9r]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketPolicyStatusCommand"),l3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Goe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketReplicationCommand"),d3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[o_t]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketRequestPaymentCommand"),u3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[u0]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketTaggingCommand"),m3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[h_t]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketVersioningCommand"),f3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Voe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetBucketWebsiteCommand"),p3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[d0]:e[bO],[Loe]:[()=>(0,m.isSerializableHeaderValue)(e[TG]),()=>(0,m.dateToUtcString)(e[TG]).toString()],[TO]:e[VG],[Uoe]:[()=>(0,m.isSerializableHeaderValue)(e[OG]),()=>(0,m.dateToUtcString)(e[OG]).toString()],[a_t]:e[Fyt],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[$r]:e[jr],[fe]:e[me],[v_t]:e[Syt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"GetObject"],[c_t]:[,e[qyt]],[l_t]:[,e[jyt]],[d_t]:[,e[$yt]],[u_t]:[,e[zyt]],[m_t]:[,e[Hyt]],[f_t]:[()=>e.ResponseExpires!==void 0,()=>(0,m.dateToUtcString)(e[Gyt]).toString()],[ja]:[,e[At]],[t3]:[()=>e.PartNumber!==void 0,()=>e[Ua].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectCommand"),g3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[KG]:[,""],[ja]:[,e[At]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectAclCommand"),h3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[wYr]:[()=>(0,m.isSerializableHeaderValue)(e[Gf]),()=>e[Gf].toString()],[PYr]:e[xh],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[$r]:e[jr],[fe]:e[me],[xYr]:[()=>(0,m.isSerializableHeaderValue)(e[_gt]),()=>(e[_gt]||[]).map(m.quoteHeader).join(", ")]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[s9r]:[,""],[ja]:[,e[At]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectAttributesCommand"),y3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[t_t]:[,""],[ja]:[,e[At]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectLegalHoldCommand"),_3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[i_t]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectLockConfigurationCommand"),S3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[p_t]:[,""],[ja]:[,e[At]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectRetentionCommand"),v3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me],[$r]:e[jr]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[u0]:[,""],[ja]:[,e[At]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectTaggingCommand"),E3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[w9r]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectTorrentCommand"),C3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Hoe]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetPublicAccessBlockCommand"),b3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("HEAD").h(n).b(void 0),r.build()},"se_HeadBucketCommand"),w3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[d0]:e[bO],[Loe]:[()=>(0,m.isSerializableHeaderValue)(e[TG]),()=>(0,m.dateToUtcString)(e[TG]).toString()],[TO]:e[VG],[Uoe]:[()=>(0,m.isSerializableHeaderValue)(e[OG]),()=>(0,m.dateToUtcString)(e[OG]).toString()],[a_t]:e[Fyt],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[$r]:e[jr],[fe]:e[me],[v_t]:e[Syt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[c_t]:[,e[qyt]],[l_t]:[,e[jyt]],[d_t]:[,e[$yt]],[u_t]:[,e[zyt]],[m_t]:[,e[Hyt]],[f_t]:[()=>e.ResponseExpires!==void 0,()=>(0,m.dateToUtcString)(e[Gyt]).toString()],[ja]:[,e[At]],[t3]:[()=>e.PartNumber!==void 0,()=>e[Ua].toString()]});return r.m("HEAD").h(n).q(s).b(void 0),r.build()},"se_HeadObjectCommand"),x3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[WG]:[,""],[Li]:[,"ListBucketAnalyticsConfigurations"],[LS]:[,e[Wr]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketAnalyticsConfigurationsCommand"),A3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[ZG]:[,""],[Li]:[,"ListBucketIntelligentTieringConfigurations"],[LS]:[,e[Wr]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketIntelligentTieringConfigurationsCommand"),P3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[QG]:[,""],[Li]:[,"ListBucketInventoryConfigurations"],[LS]:[,e[Wr]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketInventoryConfigurationsCommand"),R3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[e3]:[,""],[Li]:[,"ListBucketMetricsConfigurations"],[LS]:[,e[Wr]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketMetricsConfigurationsCommand"),I3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n={};r.bp("/");let s=(0,m.map)({[Li]:[,"ListBuckets"],[m9r]:[()=>e.MaxBuckets!==void 0,()=>e[KJr].toString()],[LS]:[,e[Wr]],[OO]:[,e[ge]],[i9r]:[,e[SO]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListBucketsCommand"),T3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n={};r.bp("/");let s=(0,m.map)({[Li]:[,"ListDirectoryBuckets"],[LS]:[,e[Wr]],[f9r]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[YJr].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListDirectoryBucketsCommand"),O3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me],[$r]:e[jr]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[g_t]:[,""],[XG]:[,e[Do]],[JG]:[,e[Mo]],[e_t]:[,e[wh]],[g9r]:[()=>e.MaxUploads!==void 0,()=>e[sG].toString()],[OO]:[,e[ge]],[x9r]:[,e[bG]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListMultipartUploadsCommand"),N3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me],[Yoe]:[()=>(0,m.isSerializableHeaderValue)(e[Kw]),()=>(e[Kw]||[]).map(m.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[XG]:[,e[Do]],[JG]:[,e[Mo]],[u9r]:[,e[rG]],[joe]:[()=>e.MaxKeys!==void 0,()=>e[Wl].toString()],[OO]:[,e[ge]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectsCommand"),D3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me],[Yoe]:[()=>(0,m.isSerializableHeaderValue)(e[Kw]),()=>(e[Kw]||[]).map(m.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[c9r]:[,"2"],[XG]:[,e[Do]],[JG]:[,e[Mo]],[joe]:[()=>e.MaxKeys!==void 0,()=>e[Wl].toString()],[OO]:[,e[ge]],[LS]:[,e[Wr]],[a9r]:[()=>e.FetchOwner!==void 0,()=>e[mJr].toString()],[E9r]:[,e[gG]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectsV2Command"),k3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[fe]:e[me],[$r]:e[jr],[Yoe]:[()=>(0,m.isSerializableHeaderValue)(e[Kw]),()=>(e[Kw]||[]).map(m.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[A9r]:[,""],[XG]:[,e[Do]],[JG]:[,e[Mo]],[e_t]:[,e[wh]],[joe]:[()=>e.MaxKeys!==void 0,()=>e[Wl].toString()],[OO]:[,e[ge]],[P9r]:[,e[xG]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectVersionsCommand"),M3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[$r]:e[jr],[fe]:e[me],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"ListParts"],[p9r]:[()=>e.MaxParts!==void 0,()=>e[Gf].toString()],[y9r]:[,e[xh]],[NO]:[,(0,m.expectNonNull)(e[qa],"UploadId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListPartsCommand"),L3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[fe]:e[me],[ln]:e[lt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Jyt]:[,""]}),i,o;return e.AccelerateConfiguration!==void 0&&(o=D4r(e.AccelerateConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketAccelerateConfigurationCommand"),U3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[m0]:e[Zw],[ys]:e[hs],[ln]:e[lt],[p0]:e[i0],[g0]:e[o0],[h0]:e[a0],[Xoe]:e[Aoe],[y0]:e[c0],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[KG]:[,""]}),i,o;return e.AccessControlPolicy!==void 0&&(o=Qht(e.AccessControlPolicy,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketAclCommand"),B3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[WG]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]}),i,o;return e.AnalyticsConfiguration!==void 0&&(o=F4r(e.AnalyticsConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketAnalyticsConfigurationCommand"),F3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[koe]:[,""]}),i,o;return e.CORSConfiguration!==void 0&&(o=J4r(e.CORSConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketCorsCommand"),q3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Moe]:[,""]}),i,o;return e.ServerSideEncryptionConfiguration!==void 0&&(o=MKr(e.ServerSideEncryptionConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketEncryptionCommand"),j3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[ZG]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]}),i,o;return e.IntelligentTieringConfiguration!==void 0&&(o=_Wr(e.IntelligentTieringConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketIntelligentTieringConfigurationCommand"),$3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[QG]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]}),i,o;return e.InventoryConfiguration!==void 0&&(o=vWr(e.InventoryConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketInventoryConfigurationCommand"),z3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ln]:e[lt],[fe]:e[me],[Zoe]:e[Doe]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Boe]:[,""]}),i,o;return e.LifecycleConfiguration!==void 0&&(o=H4r(e.LifecycleConfiguration,t),o=o.n("LifecycleConfiguration"),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketLifecycleConfigurationCommand"),H3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[n_t]:[,""]}),i,o;return e.BucketLoggingStatus!==void 0&&(o=G4r(e.BucketLoggingStatus,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketLoggingCommand"),G3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[e3]:[,""],[rd]:[,(0,m.expectNonNull)(e[We],"Id")]}),i,o;return e.MetricsConfiguration!==void 0&&(o=WWr(e.MetricsConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketMetricsConfigurationCommand"),V3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[fe]:e[me],[LYr]:[()=>(0,m.isSerializableHeaderValue)(e[Egt]),()=>e[Egt].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[s_t]:[,""]}),i,o;return e.NotificationConfiguration!==void 0&&(o=QWr(e.NotificationConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketNotificationConfigurationCommand"),W3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[fe]:e[me],[ln]:e[lt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[$oe]:[,""]}),i,o;return e.OwnershipControls!==void 0&&(o=aKr(e.OwnershipControls,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketOwnershipControlsCommand"),K3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"text/plain",[ys]:e[hs],[ln]:e[lt],[D9r]:[()=>(0,m.isSerializableHeaderValue)(e[ogt]),()=>e[ogt].toString()],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[zoe]:[,""]}),i,o;return e.Policy!==void 0&&(o=e.Policy,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketPolicyCommand"),X3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[S_t]:e[Kyt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Goe]:[,""]}),i,o;return e.ReplicationConfiguration!==void 0&&(o=_Kr(e.ReplicationConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketReplicationCommand"),J3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[o_t]:[,""]}),i,o;return e.RequestPaymentConfiguration!==void 0&&(o=wKr(e.RequestPaymentConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketRequestPaymentCommand"),Y3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[u0]:[,""]}),i,o;return e.Tagging!==void 0&&(o=voe(e.Tagging,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketTaggingCommand"),Q3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[Joe]:e[Poe],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[h_t]:[,""]}),i,o;return e.VersioningConfiguration!==void 0&&(o=t6r(e.VersioningConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketVersioningCommand"),Z3r=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Voe]:[,""]}),i,o;return e.WebsiteConfiguration!==void 0&&(o=r6r(e.WebsiteConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutBucketWebsiteCommand"),eVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[IO]:e[s0]||"application/octet-stream",[m0]:e[Zw],[xO]:e[e0],[AO]:e[t0],[PO]:e[r0],[RO]:e[n0],[TS]:[()=>(0,m.isSerializableHeaderValue)(e[Ph]),()=>e[Ph].toString()],[ys]:e[hs],[ln]:e[lt],[US]:e[rn],[BS]:e[nn],[FS]:e[sn],[qS]:e[on],[jS]:e[an],[OS]:[()=>(0,m.isSerializableHeaderValue)(e[Zu]),()=>(0,m.dateToUtcString)(e[Zu]).toString()],[d0]:e[bO],[TO]:e[VG],[p0]:e[i0],[g0]:e[o0],[h0]:e[a0],[y0]:e[c0],[BYr]:[()=>(0,m.isSerializableHeaderValue)(e[Rgt]),()=>e[Rgt].toString()],[_c]:e[Bo],[LO]:e[Et],[UO]:e[wO],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[Sc]:e[eo],[Oh]:e[Th],[ws]:[()=>(0,m.isSerializableHeaderValue)(e[vn]),()=>e[vn].toString()],[$r]:e[jr],[Qoe]:e[PS],[MO]:e[l0],[NS]:[()=>(0,m.isSerializableHeaderValue)(e[em]),()=>(0,m.serializeDateTime)(e[em]).toString()],[kO]:e[MS],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"PutObject"]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectCommand"),tVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[m0]:e[Zw],[ys]:e[hs],[ln]:e[lt],[p0]:e[i0],[g0]:e[o0],[h0]:e[a0],[Xoe]:e[Aoe],[y0]:e[c0],[$r]:e[jr],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[KG]:[,""],[ja]:[,e[At]]}),i,o;return e.AccessControlPolicy!==void 0&&(o=Qht(e.AccessControlPolicy,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectAclCommand"),rVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[$r]:e[jr],[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[t_t]:[,""],[ja]:[,e[At]]}),i,o;return e.LegalHold!==void 0&&(o=rKr(e.LegalHold,t),o=o.n("LegalHold"),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectLegalHoldCommand"),nVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[$r]:e[jr],[S_t]:e[Kyt],[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[i_t]:[,""]}),i,o;return e.ObjectLockConfiguration!==void 0&&(o=tKr(e.ObjectLockConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectLockConfigurationCommand"),sVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[$r]:e[jr],[Woe]:[()=>(0,m.isSerializableHeaderValue)(e[Ww]),()=>e[Ww].toString()],[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[p_t]:[,""],[ja]:[,e[At]]}),i,o;return e.Retention!==void 0&&(o=nKr(e.Retention,t),o=o.n("Retention"),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectRetentionCommand"),iVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me],[$r]:e[jr]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[u0]:[,""],[ja]:[,e[At]]}),i,o;return e.Tagging!==void 0&&(o=voe(e.Tagging,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectTaggingCommand"),oVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[Hoe]:[,""]}),i,o;return e.PublicAccessBlockConfiguration!==void 0&&(o=mKr(e.PublicAccessBlockConfiguration,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutPublicAccessBlockCommand"),aVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[TYr]:e[D5r],[d0]:e[tJr],[TO]:e[rJr],[Loe]:[()=>(0,m.isSerializableHeaderValue)(e[agt]),()=>(0,m.dateToUtcString)(e[agt]).toString()],[Uoe]:[()=>(0,m.isSerializableHeaderValue)(e[cgt]),()=>(0,m.dateToUtcString)(e[cgt]).toString()],[OYr]:e[F5r],[DYr]:e[q5r],[NYr]:[()=>(0,m.isSerializableHeaderValue)(e[Cgt]),()=>(0,m.dateToUtcString)(e[Cgt]).toString()],[kYr]:[()=>(0,m.isSerializableHeaderValue)(e[bgt]),()=>(0,m.dateToUtcString)(e[bgt]).toString()],[L9r]:e[QXr]??(0,oGr.v4)()});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[_9r]:[,""]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},"se_RenameObjectCommand"),cVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[$r]:e[jr],[ln]:e[lt],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[S9r]:[,""],[ja]:[,e[At]]}),i,o;return e.RestoreRequest!==void 0&&(o=AKr(e.RestoreRequest,t),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},"se_RestoreObjectCommand"),lVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[C9r]:[,""],[b9r]:[,"2"]}),i;i=wr;let o=new O.XmlNode(G5r);return o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o.cc(e,Tyt),o.cc(e,Iyt),e[mS]!=null&&o.c(tyt(e[mS],t).n(mS)),e[yS]!=null&&o.c(ryt(e[yS],t).n(yS)),e[fG]!=null&&o.c(xKr(e[fG],t).n(fG)),e[yG]!=null&&o.c(NKr(e[yG],t).n(yG)),i+=o.toString(),r.m("POST").h(n).q(s).b(i),r.build()},"se_SelectObjectContentCommand"),dVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[l9r]:[,""]}),i,o;return e.InventoryTableConfiguration!==void 0&&(o=RWr(e.InventoryTableConfiguration,t),o=o.n("InventoryTableConfiguration"),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_UpdateBucketMetadataInventoryTableConfigurationCommand"),uVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/xml",[ys]:e[hs],[ln]:e[lt],[fe]:e[me]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=(0,m.map)({[d9r]:[,""]}),i,o;return e.JournalTableConfiguration!==void 0&&(o=TWr(e.JournalTableConfiguration,t),o=o.n("JournalTableConfiguration"),i=wr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},"se_UpdateBucketMetadataJournalTableConfigurationCommand"),mVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"content-type":"application/octet-stream",[TS]:[()=>(0,m.isSerializableHeaderValue)(e[Ph]),()=>e[Ph].toString()],[ys]:e[hs],[ln]:e[lt],[US]:e[rn],[BS]:e[nn],[FS]:e[sn],[qS]:e[on],[jS]:e[an],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[$r]:e[jr],[fe]:e[me]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"UploadPart"],[t3]:[(0,m.expectNonNull)(e.PartNumber,"PartNumber")!=null,()=>e[Ua].toString()],[NO]:[,(0,m.expectNonNull)(e[qa],"UploadId")]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},"se_UploadPartCommand"),fVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{[E_t]:e[vyt],[C_t]:e[Eyt],[b_t]:[()=>(0,m.isSerializableHeaderValue)(e[RG]),()=>(0,m.dateToUtcString)(e[RG]).toString()],[w_t]:e[Cyt],[x_t]:[()=>(0,m.isSerializableHeaderValue)(e[IG]),()=>(0,m.dateToUtcString)(e[IG]).toString()],[M9r]:e[XXr],[ki]:e[ui],[Ud]:e[Ld],[Mi]:e[mi],[A_t]:e[byt],[P_t]:e[wyt],[R_t]:e[xyt],[$r]:e[jr],[fe]:e[me],[N_t]:e[Ryt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=(0,m.map)({[Li]:[,"UploadPartCopy"],[t3]:[(0,m.expectNonNull)(e.PartNumber,"PartNumber")!=null,()=>e[Ua].toString()],[NO]:[,(0,m.expectNonNull)(e[qa],"UploadId")]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},"se_UploadPartCopyCommand"),pVr=y(async(e,t)=>{let r=(0,ce.requestBuilder)(e,t),n=(0,m.map)({},m.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),"content-type":"application/octet-stream",[IYr]:e[A5r],[MYr]:e[k5r],[_Yr]:[()=>(0,m.isSerializableHeaderValue)(e[vgt]),()=>e[vgt].toString()],[U9r]:e[WH],[B9r]:e[KH],[F9r]:e[woe],[q9r]:e[e0],[j9r]:e[t0],[$9r]:e[r0],[z9r]:e[n0],[TS]:[()=>(0,m.isSerializableHeaderValue)(e[Ph]),()=>e[Ph].toString()],[H9r]:e[xoe],[G9r]:e[s0],[X9r]:e[rn],[J9r]:e[nn],[Y9r]:e[sn],[Q9r]:e[on],[Z9r]:e[an],[eYr]:[()=>(0,m.isSerializableHeaderValue)(e[Dd]),()=>e[Dd].toString()],[V9r]:e[Kr],[W9r]:[()=>(0,m.isSerializableHeaderValue)(e[Zu]),()=>(0,m.dateToUtcString)(e[Zu]).toString()],[tYr]:e[js],[K9r]:[()=>(0,m.isSerializableHeaderValue)(e[gs]),()=>(0,m.dateToUtcString)(e[gs]).toString()],[rYr]:[()=>(0,m.isSerializableHeaderValue)(e[NG]),()=>e[NG].toString()],[iYr]:e[l0],[sYr]:e[MS],[oYr]:[()=>(0,m.isSerializableHeaderValue)(e[em]),()=>(0,m.serializeDateTime)(e[em]).toString()],[nYr]:[()=>(0,m.isSerializableHeaderValue)(e[Xw]),()=>e[Xw].toString()],[lYr]:e[Ooe],[cYr]:e[Cn],[aYr]:e[Noe],[uYr]:e[Bo],[pYr]:e[ui],[mYr]:e[eo],[gYr]:e[mi],[dYr]:e[Et],[hYr]:[()=>(0,m.isSerializableHeaderValue)(e[UG]),()=>e[UG].toString()],[yYr]:e[At],[fYr]:[()=>(0,m.isSerializableHeaderValue)(e[vn]),()=>e[vn].toString()]});r.bp("/WriteGetObjectResponse");let s,i;e.Body!==void 0&&(i=e.Body,s=i);let{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0){if(o="{RequestRoute}."+o,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(o=o.replace("{RequestRoute}",e.RequestRoute),!(0,Die.isValidHostname)(o))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return r.hn(o),r.m("POST").h(n).b(s),r.build()},"se_WriteGetObjectResponseCommand"),gVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_AbortMultipartUploadCommand"),hVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[js]:[,e.headers[DO]],[Bo]:[,e.headers[_c]],[At]:[,e.headers[tm]],[eo]:[,e.headers[Sc]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Yt]!=null&&(r[Yt]=(0,m.expectString)(n[Yt])),n[rn]!=null&&(r[rn]=(0,m.expectString)(n[rn])),n[nn]!=null&&(r[nn]=(0,m.expectString)(n[nn])),n[sn]!=null&&(r[sn]=(0,m.expectString)(n[sn])),n[on]!=null&&(r[on]=(0,m.expectString)(n[on])),n[an]!=null&&(r[an]=(0,m.expectString)(n[an])),n[cn]!=null&&(r[cn]=(0,m.expectString)(n[cn])),n[Kr]!=null&&(r[Kr]=(0,m.expectString)(n[Kr])),n[it]!=null&&(r[it]=(0,m.expectString)(n[it])),n[fS]!=null&&(r[fS]=(0,m.expectString)(n[fS])),r},"de_CompleteMultipartUploadCommand"),yVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[js]:[,e.headers[DO]],[Ayt]:[,e.headers[I_t]],[At]:[,e.headers[tm]],[Bo]:[,e.headers[_c]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[Th]:[,e.headers[Oh]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Cn]:[,e.headers[Mn]]}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.CopyObjectResult=_6r(n,t),r},"de_CopyObjectCommand"),_Vr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[fS]:[,e.headers[r_t]],[_O]:[,e.headers[__t]]});return await(0,m.collectBody)(e.body,t),r},"de_CreateBucketCommand"),SVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_CreateBucketMetadataConfigurationCommand"),vVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_CreateBucketMetadataTableConfigurationCommand"),EVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[yyt]:[()=>e.headers[BG]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[BG]))],[_yt]:[,e.headers[y_t]],[Bo]:[,e.headers[_c]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[Th]:[,e.headers[Oh]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Cn]:[,e.headers[Mn]],[lt]:[,e.headers[Koe]],[cn]:[,e.headers[f0]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Yt]!=null&&(r[Yt]=(0,m.expectString)(n[Yt])),n[it]!=null&&(r[it]=(0,m.expectString)(n[it])),n[qa]!=null&&(r[qa]=(0,m.expectString)(n[qa])),r},"de_CreateMultipartUploadCommand"),CVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Bo]:[,e.headers[_c]],[eo]:[,e.headers[Sc]],[Th]:[,e.headers[Oh]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[tie]!=null&&(r[tie]=oXr(n[tie],t)),r},"de_CreateSessionCommand"),bVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketCommand"),wVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketAnalyticsConfigurationCommand"),xVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketCorsCommand"),AVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketEncryptionCommand"),PVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketIntelligentTieringConfigurationCommand"),RVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketInventoryConfigurationCommand"),IVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketLifecycleCommand"),TVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketMetadataConfigurationCommand"),OVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketMetadataTableConfigurationCommand"),NVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketMetricsConfigurationCommand"),DVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketOwnershipControlsCommand"),kVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketPolicyCommand"),MVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketReplicationCommand"),LVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketTaggingCommand"),UVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeleteBucketWebsiteCommand"),BVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Dd]:[()=>e.headers[Rh]!==void 0,()=>(0,m.parseBoolean)(e.headers[Rh])],[At]:[,e.headers[tm]],[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_DeleteObjectCommand"),FVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.Deleted===""?r[qH]=[]:n[qH]!=null&&(r[qH]=w6r((0,m.getArrayIfSingleItem)(n[qH]),t)),n.Error===""?r[dgt]=[]:n[Md]!=null&&(r[dgt]=k6r((0,m.getArrayIfSingleItem)(n[Md]),t)),r},"de_DeleteObjectsCommand"),qVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[At]:[,e.headers[tm]]});return await(0,m.collectBody)(e.body,t),r},"de_DeleteObjectTaggingCommand"),jVr=y(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_DeletePublicAccessBlockCommand"),$Vr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Ce]!=null&&(r[Ce]=(0,m.expectString)(n[Ce])),r},"de_GetBucketAccelerateConfigurationCommand"),zVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.AccessControlList===""?r[EO]=[]:n[rS]!=null&&n[rS][Xf]!=null&&(r[EO]=lyt((0,m.getArrayIfSingleItem)(n[rS][Xf]),t)),n[lr]!=null&&(r[lr]=Ih(n[lr],t)),r},"de_GetBucketAclCommand"),HVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.AnalyticsConfiguration=iyt(n,t),r},"de_GetBucketAnalyticsConfigurationCommand"),GVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.CORSRule===""?r[Hie]=[]:n[zie]!=null&&(r[Hie]=E6r((0,m.getArrayIfSingleItem)(n[zie]),t)),r},"de_GetBucketCorsCommand"),VVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.ServerSideEncryptionConfiguration=nXr(n,t),r},"de_GetBucketEncryptionCommand"),WVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.IntelligentTieringConfiguration=uyt(n,t),r},"de_GetBucketIntelligentTieringConfigurationCommand"),KVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.InventoryConfiguration=myt(n,t),r},"de_GetBucketInventoryConfigurationCommand"),XVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Doe]:[,e.headers[Zoe]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.Rule===""?r[td]=[]:n[Ba]!=null&&(r[td]=l8r((0,m.getArrayIfSingleItem)(n[Ba]),t)),r},"de_GetBucketLifecycleConfigurationCommand"),JVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Mw]!=null&&(r[Mw]=(0,m.expectString)(n[Mw])),r},"de_GetBucketLocationCommand"),YVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[pS]!=null&&(r[pS]=d8r(n[pS],t)),r},"de_GetBucketLoggingCommand"),QVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.GetBucketMetadataConfigurationResult=q6r(n,t),r},"de_GetBucketMetadataConfigurationCommand"),ZVr=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.GetBucketMetadataTableConfigurationResult=j6r(n,t),r},"de_GetBucketMetadataTableConfigurationCommand"),e2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.MetricsConfiguration=fyt(n,t),r},"de_GetBucketMetricsConfigurationCommand"),t2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[cS]!=null&&(r[cS]=M6r(n[cS],t)),n.CloudFunctionConfiguration===""?r[Qie]=[]:n[igt]!=null&&(r[Qie]=s8r((0,m.getArrayIfSingleItem)(n[igt]),t)),n.QueueConfiguration===""?r[soe]=[]:n[noe]!=null&&(r[soe]=j8r((0,m.getArrayIfSingleItem)(n[noe]),t)),n.TopicConfiguration===""?r[doe]=[]:n[loe]!=null&&(r[doe]=EXr((0,m.getArrayIfSingleItem)(n[loe]),t)),r},"de_GetBucketNotificationConfigurationCommand"),r2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.OwnershipControls=T8r(n,t),r},"de_GetBucketOwnershipControlsCommand"),n2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=await wXr(e.body,t);return r.Policy=(0,m.expectString)(n),r},"de_GetBucketPolicyCommand"),s2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.PolicyStatus=U8r(n,t),r},"de_GetBucketPolicyStatusCommand"),i2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.ReplicationConfiguration=V8r(n,t),r},"de_GetBucketReplicationCommand"),o2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[cG]!=null&&(r[cG]=(0,m.expectString)(n[cG])),r},"de_GetBucketRequestPaymentCommand"),a2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.TagSet===""?r[Nd]=[]:n[Nd]!=null&&n[Nd][pt]!=null&&(r[Nd]=kS((0,m.getArrayIfSingleItem)(n[Nd][pt]),t)),r},"de_GetBucketTaggingCommand"),c2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[eoe]!=null&&(r[nG]=(0,m.expectString)(n[eoe])),n[Ce]!=null&&(r[Ce]=(0,m.expectString)(n[Ce])),r},"de_GetBucketVersioningCommand"),l2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[lS]!=null&&(r[lS]=D6r(n[lS],t)),n[uS]!=null&&(r[uS]=H6r(n[uS],t)),n[SS]!=null&&(r[SS]=H8r(n[SS],t)),n.RoutingRules===""?r[fw]=[]:n[fw]!=null&&n[fw][kG]!=null&&(r[fw]=Z8r((0,m.getArrayIfSingleItem)(n[fw][kG]),t)),r},"de_GetBucketWebsiteCommand"),d2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Dd]:[()=>e.headers[Rh]!==void 0,()=>(0,m.parseBoolean)(e.headers[Rh])],[woe]:[,e.headers[Yyt]],[js]:[,e.headers[DO]],[Noe]:[,e.headers[T_t]],[gs]:[()=>e.headers[Jw]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[Jw]))],[Ph]:[()=>e.headers[TS]!==void 0,()=>(0,m.strictParseLong)(e.headers[TS])],[Kr]:[,e.headers[YG]],[rn]:[,e.headers[US]],[nn]:[,e.headers[BS]],[sn]:[,e.headers[FS]],[on]:[,e.headers[qS]],[an]:[,e.headers[jS]],[cn]:[,e.headers[f0]],[NG]:[()=>e.headers[FG]!==void 0,()=>(0,m.strictParseInt32)(e.headers[FG])],[At]:[,e.headers[tm]],[e0]:[,e.headers[xO]],[t0]:[,e.headers[AO]],[r0]:[,e.headers[PO]],[n0]:[,e.headers[RO]],[xoe]:[,e.headers[Qyt]],[s0]:[,e.headers[IO]],[Zu]:[()=>e.headers[OS]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[OS]))],[Pyt]:[,e.headers[Zyt]],[wO]:[,e.headers[UO]],[Bo]:[,e.headers[_c]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Et]:[,e.headers[LO]],[Cn]:[,e.headers[Mn]],[Ooe]:[,e.headers[O_t]],[Xw]:[()=>e.headers[qG]!==void 0,()=>(0,m.strictParseInt32)(e.headers[qG])],[UG]:[()=>e.headers[jG]!==void 0,()=>(0,m.strictParseInt32)(e.headers[jG])],[l0]:[,e.headers[MO]],[em]:[()=>e.headers[NS]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e.headers[NS]))],[MS]:[,e.headers[kO]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,i)=>(s[i.substring(11)]=e.headers[i],s),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectCommand"),u2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.AccessControlList===""?r[EO]=[]:n[rS]!=null&&n[rS][Xf]!=null&&(r[EO]=lyt((0,m.getArrayIfSingleItem)(n[rS][Xf]),t)),n[lr]!=null&&(r[lr]=Ih(n[lr],t)),r},"de_GetObjectAclCommand"),m2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Dd]:[()=>e.headers[Rh]!==void 0,()=>(0,m.parseBoolean)(e.headers[Rh])],[gs]:[()=>e.headers[Jw]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[Jw]))],[At]:[,e.headers[tm]],[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[sie]!=null&&(r[sie]=p6r(n[sie],t)),n[Kr]!=null&&(r[Kr]=(0,m.expectString)(n[Kr])),n[bie]!=null&&(r[bie]=$6r(n[bie],t)),n[wie]!=null&&(r[wie]=(0,m.strictParseLong)(n[wie])),n[Et]!=null&&(r[Et]=(0,m.expectString)(n[Et])),r},"de_GetObjectAttributesCommand"),f2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.LegalHold=w8r(n,t),r},"de_GetObjectLegalHoldCommand"),p2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.ObjectLockConfiguration=b8r(n,t),r},"de_GetObjectLockConfigurationCommand"),g2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.Retention=x8r(n,t),r},"de_GetObjectRetentionCommand"),h2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[At]:[,e.headers[tm]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.TagSet===""?r[Nd]=[]:n[Nd]!=null&&n[Nd][pt]!=null&&(r[Nd]=kS((0,m.getArrayIfSingleItem)(n[Nd][pt]),t)),r},"de_GetObjectTaggingCommand"),y2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectTorrentCommand"),_2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.PublicAccessBlockConfiguration=F8r(n,t),r},"de_GetPublicAccessBlockCommand"),S2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[_O]:[,e.headers[__t]],[$Xr]:[,e.headers[T9r]],[FXr]:[,e.headers[I9r]],[SO]:[,e.headers[N9r]],[OXr]:[()=>e.headers[Tgt]!==void 0,()=>(0,m.parseBoolean)(e.headers[Tgt])]});return await(0,m.collectBody)(e.body,t),r},"de_HeadBucketCommand"),v2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Dd]:[()=>e.headers[Rh]!==void 0,()=>(0,m.parseBoolean)(e.headers[Rh])],[woe]:[,e.headers[Yyt]],[js]:[,e.headers[DO]],[Noe]:[,e.headers[T_t]],[NXr]:[,e.headers[R9r]],[gs]:[()=>e.headers[Jw]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[Jw]))],[Ph]:[()=>e.headers[TS]!==void 0,()=>(0,m.strictParseLong)(e.headers[TS])],[rn]:[,e.headers[US]],[nn]:[,e.headers[BS]],[sn]:[,e.headers[FS]],[on]:[,e.headers[qS]],[an]:[,e.headers[jS]],[cn]:[,e.headers[f0]],[Kr]:[,e.headers[YG]],[NG]:[()=>e.headers[FG]!==void 0,()=>(0,m.strictParseInt32)(e.headers[FG])],[At]:[,e.headers[tm]],[e0]:[,e.headers[xO]],[t0]:[,e.headers[AO]],[r0]:[,e.headers[PO]],[n0]:[,e.headers[RO]],[s0]:[,e.headers[IO]],[xoe]:[,e.headers[Qyt]],[Zu]:[()=>e.headers[OS]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[OS]))],[Pyt]:[,e.headers[Zyt]],[wO]:[,e.headers[UO]],[Bo]:[,e.headers[_c]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Et]:[,e.headers[LO]],[Cn]:[,e.headers[Mn]],[Ooe]:[,e.headers[O_t]],[Xw]:[()=>e.headers[qG]!==void 0,()=>(0,m.strictParseInt32)(e.headers[qG])],[UG]:[()=>e.headers[jG]!==void 0,()=>(0,m.strictParseInt32)(e.headers[jG])],[l0]:[,e.headers[MO]],[em]:[()=>e.headers[NS]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e.headers[NS]))],[MS]:[,e.headers[kO]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await(0,m.collectBody)(e.body,t),r},"de_HeadObjectCommand"),E2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.AnalyticsConfiguration===""?r[sgt]=[]:n[Mie]!=null&&(r[sgt]=l6r((0,m.getArrayIfSingleItem)(n[Mie]),t)),n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[fa]!=null&&(r[fa]=(0,m.expectString)(n[fa])),r},"de_ListBucketAnalyticsConfigurationsCommand"),C2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),n.IntelligentTieringConfiguration===""?r[ggt]=[]:n[Yie]!=null&&(r[ggt]=V6r((0,m.getArrayIfSingleItem)(n[Yie]),t)),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[fa]!=null&&(r[fa]=(0,m.expectString)(n[fa])),r},"de_ListBucketIntelligentTieringConfigurationsCommand"),b2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),n.InventoryConfiguration===""?r[ugt]=[]:n[Jie]!=null&&(r[ugt]=K6r((0,m.getArrayIfSingleItem)(n[Jie]),t)),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[fa]!=null&&(r[fa]=(0,m.expectString)(n[fa])),r},"de_ListBucketInventoryConfigurationsCommand"),w2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n.MetricsConfiguration===""?r[hgt]=[]:n[Zie]!=null&&(r[hgt]=g8r((0,m.getArrayIfSingleItem)(n[Zie]),t)),n[fa]!=null&&(r[fa]=(0,m.expectString)(n[fa])),r},"de_ListBucketMetricsConfigurationsCommand"),x2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.Buckets===""?r[Xu]=[]:n[Xu]!=null&&n[Xu][Yt]!=null&&(r[Xu]=oyt((0,m.getArrayIfSingleItem)(n[Xu][Yt]),t)),n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),n[lr]!=null&&(r[lr]=Ih(n[lr],t)),n[ge]!=null&&(r[ge]=(0,m.expectString)(n[ge])),r},"de_ListBucketsCommand"),A2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.Buckets===""?r[Xu]=[]:n[Xu]!=null&&n[Xu][Yt]!=null&&(r[Xu]=oyt((0,m.getArrayIfSingleItem)(n[Xu][Yt]),t)),n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),r},"de_ListDirectoryBucketsCommand"),P2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Yt]!=null&&(r[Yt]=(0,m.expectString)(n[Yt])),n.CommonPrefixes===""?r[No]=[]:n[No]!=null&&(r[No]=HG((0,m.getArrayIfSingleItem)(n[No]),t)),n[Do]!=null&&(r[Do]=(0,m.expectString)(n[Do])),n[Mo]!=null&&(r[Mo]=(0,m.expectString)(n[Mo])),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[wh]!=null&&(r[wh]=(0,m.expectString)(n[wh])),n[sG]!=null&&(r[sG]=(0,m.strictParseInt32)(n[sG])),n[Lw]!=null&&(r[Lw]=(0,m.expectString)(n[Lw])),n[Eie]!=null&&(r[Eie]=(0,m.expectString)(n[Eie])),n[ge]!=null&&(r[ge]=(0,m.expectString)(n[ge])),n[bG]!=null&&(r[bG]=(0,m.expectString)(n[bG])),n.Upload===""?r[xgt]=[]:n[wgt]!=null&&(r[xgt]=_8r((0,m.getArrayIfSingleItem)(n[wgt]),t)),r},"de_ListMultipartUploadsCommand"),R2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[No]=[]:n[No]!=null&&(r[No]=HG((0,m.getArrayIfSingleItem)(n[No]),t)),n.Contents===""?r[Ch]=[]:n[Ch]!=null&&(r[Ch]=pyt((0,m.getArrayIfSingleItem)(n[Ch]),t)),n[Do]!=null&&(r[Do]=(0,m.expectString)(n[Do])),n[Mo]!=null&&(r[Mo]=(0,m.expectString)(n[Mo])),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[rG]!=null&&(r[rG]=(0,m.expectString)(n[rG])),n[Wl]!=null&&(r[Wl]=(0,m.strictParseInt32)(n[Wl])),n[Yn]!=null&&(r[Yn]=(0,m.expectString)(n[Yn])),n[vie]!=null&&(r[vie]=(0,m.expectString)(n[vie])),n[ge]!=null&&(r[ge]=(0,m.expectString)(n[ge])),r},"de_ListObjectsCommand"),I2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[No]=[]:n[No]!=null&&(r[No]=HG((0,m.getArrayIfSingleItem)(n[No]),t)),n.Contents===""?r[Ch]=[]:n[Ch]!=null&&(r[Ch]=pyt((0,m.getArrayIfSingleItem)(n[Ch]),t)),n[Wr]!=null&&(r[Wr]=(0,m.expectString)(n[Wr])),n[Do]!=null&&(r[Do]=(0,m.expectString)(n[Do])),n[Mo]!=null&&(r[Mo]=(0,m.expectString)(n[Mo])),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[gie]!=null&&(r[gie]=(0,m.strictParseInt32)(n[gie])),n[Wl]!=null&&(r[Wl]=(0,m.strictParseInt32)(n[Wl])),n[Yn]!=null&&(r[Yn]=(0,m.expectString)(n[Yn])),n[fa]!=null&&(r[fa]=(0,m.expectString)(n[fa])),n[ge]!=null&&(r[ge]=(0,m.expectString)(n[ge])),n[gG]!=null&&(r[gG]=(0,m.expectString)(n[gG])),r},"de_ListObjectsV2Command"),T2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[No]=[]:n[No]!=null&&(r[No]=HG((0,m.getArrayIfSingleItem)(n[No]),t)),n.DeleteMarker===""?r[lgt]=[]:n[Dd]!=null&&(r[lgt]=P6r((0,m.getArrayIfSingleItem)(n[Dd]),t)),n[Do]!=null&&(r[Do]=(0,m.expectString)(n[Do])),n[Mo]!=null&&(r[Mo]=(0,m.expectString)(n[Mo])),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[wh]!=null&&(r[wh]=(0,m.expectString)(n[wh])),n[Wl]!=null&&(r[Wl]=(0,m.strictParseInt32)(n[Wl])),n[Yn]!=null&&(r[Yn]=(0,m.expectString)(n[Yn])),n[Lw]!=null&&(r[Lw]=(0,m.expectString)(n[Lw])),n[Cie]!=null&&(r[Cie]=(0,m.expectString)(n[Cie])),n[ge]!=null&&(r[ge]=(0,m.expectString)(n[ge])),n[xG]!=null&&(r[xG]=(0,m.expectString)(n[xG])),n.Version===""?r[Pgt]=[]:n[Agt]!=null&&(r[Pgt]=I8r((0,m.getArrayIfSingleItem)(n[Agt]),t)),r},"de_ListObjectVersionsCommand"),O2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[yyt]:[()=>e.headers[BG]!==void 0,()=>(0,m.expectNonNull)((0,m.parseRfc7231DateTime)(e.headers[BG]))],[_yt]:[,e.headers[y_t]],[Cn]:[,e.headers[Mn]]}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t)),"body");return n[Yt]!=null&&(r[Yt]=(0,m.expectString)(n[Yt])),n[lt]!=null&&(r[lt]=(0,m.expectString)(n[lt])),n[cn]!=null&&(r[cn]=(0,m.expectString)(n[cn])),n[Ow]!=null&&(r[Ow]=dyt(n[Ow],t)),n[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(n[Tr])),n[it]!=null&&(r[it]=(0,m.expectString)(n[it])),n[Gf]!=null&&(r[Gf]=(0,m.strictParseInt32)(n[Gf])),n[Uw]!=null&&(r[Uw]=(0,m.expectString)(n[Uw])),n[lr]!=null&&(r[lr]=Ih(n[lr],t)),n[xh]!=null&&(r[xh]=(0,m.expectString)(n[xh])),n.Part===""?r[CO]=[]:n[DG]!=null&&(r[CO]=M8r((0,m.getArrayIfSingleItem)(n[DG]),t)),n[Et]!=null&&(r[Et]=(0,m.expectString)(n[Et])),n[qa]!=null&&(r[qa]=(0,m.expectString)(n[qa])),r},"de_ListPartsCommand"),N2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketAccelerateConfigurationCommand"),D2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketAclCommand"),k2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketAnalyticsConfigurationCommand"),M2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketCorsCommand"),L2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketEncryptionCommand"),U2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketIntelligentTieringConfigurationCommand"),B2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketInventoryConfigurationCommand"),F2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Doe]:[,e.headers[Zoe]]});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketLifecycleConfigurationCommand"),q2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketLoggingCommand"),j2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketMetricsConfigurationCommand"),$2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketNotificationConfigurationCommand"),z2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketOwnershipControlsCommand"),H2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketPolicyCommand"),G2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketReplicationCommand"),V2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketRequestPaymentCommand"),W2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketTaggingCommand"),K2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketVersioningCommand"),X2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutBucketWebsiteCommand"),J2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[js]:[,e.headers[DO]],[Kr]:[,e.headers[YG]],[rn]:[,e.headers[US]],[nn]:[,e.headers[BS]],[sn]:[,e.headers[FS]],[on]:[,e.headers[qS]],[an]:[,e.headers[jS]],[cn]:[,e.headers[f0]],[Bo]:[,e.headers[_c]],[At]:[,e.headers[tm]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[Th]:[,e.headers[Oh]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Zi]:[()=>e.headers[Ogt]!==void 0,()=>(0,m.strictParseLong)(e.headers[Ogt])],[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_PutObjectCommand"),Y2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_PutObjectAclCommand"),Q2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_PutObjectLegalHoldCommand"),Z2r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_PutObjectLockConfigurationCommand"),e4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_PutObjectRetentionCommand"),t4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[At]:[,e.headers[tm]]});return await(0,m.collectBody)(e.body,t),r},"de_PutObjectTaggingCommand"),r4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_PutPublicAccessBlockCommand"),n4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_RenameObjectCommand"),s4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Cn]:[,e.headers[Mn]],[w5r]:[,e.headers[RYr]]});return await(0,m.collectBody)(e.body,t),r},"de_RestoreObjectCommand"),i4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)}),n=e.body;return r.Payload=A4r(n,t),r},"de_SelectObjectContentCommand"),o4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_UpdateBucketMetadataInventoryTableConfigurationCommand"),a4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_UpdateBucketMetadataJournalTableConfigurationCommand"),c4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Bo]:[,e.headers[_c]],[Kr]:[,e.headers[YG]],[rn]:[,e.headers[US]],[nn]:[,e.headers[BS]],[sn]:[,e.headers[FS]],[on]:[,e.headers[qS]],[an]:[,e.headers[jS]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Cn]:[,e.headers[Mn]]});return await(0,m.collectBody)(e.body,t),r},"de_UploadPartCommand"),l4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e),[Ayt]:[,e.headers[I_t]],[Bo]:[,e.headers[_c]],[ui]:[,e.headers[ki]],[mi]:[,e.headers[Mi]],[eo]:[,e.headers[Sc]],[vn]:[()=>e.headers[ws]!==void 0,()=>(0,m.parseBoolean)(e.headers[ws])],[Cn]:[,e.headers[Mn]]}),n=(0,m.expectObject)(await(0,Ye.parseXmlBody)(e.body,t));return r.CopyPartResult=S6r(n,t),r},"de_UploadPartCopyCommand"),d4r=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return le(e,t);let r=(0,m.map)({$metadata:X(e)});return await(0,m.collectBody)(e.body,t),r},"de_WriteGetObjectResponseCommand"),le=y(async(e,t)=>{let r={...e,body:await(0,Ye.parseXmlErrorBody)(e.body,t)},n=(0,Ye.loadRestXmlErrorCode)(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await E4r(r,t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await w4r(r,t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await m4r(r,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await f4r(r,t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await S4r(r,t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await h4r(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await v4r(r,t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await C4r(r,t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await p4r(r,t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await y4r(r,t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await _4r(r,t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await x4r(r,t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await g4r(r,t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await b4r(r,t);default:let s=r.body;return u4r({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),u4r=(0,m.withBaseException)(Uo),m4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new jgt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_BucketAlreadyExistsRes"),f4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new zgt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_BucketAlreadyOwnedByYouRes"),p4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new bht({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_EncryptionTypeMismatchRes"),g4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Oht({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_IdempotencyParameterMismatchRes"),h4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body;n[zf]!=null&&(r[zf]=(0,m.expectString)(n[zf])),n[Et]!=null&&(r[Et]=(0,m.expectString)(n[Et]));let s=new Wgt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_InvalidObjectStateRes"),y4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new xht({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_InvalidRequestRes"),_4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Pht({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_InvalidWriteOffsetRes"),S4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Ggt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_NoSuchBucketRes"),v4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Xgt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_NoSuchKeyRes"),E4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Ugt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_NoSuchUploadRes"),C4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Ygt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_NotFoundRes"),b4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Dht({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_ObjectAlreadyInActiveTierErrorRes"),w4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Fgt({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_ObjectNotInActiveTierErrorRes"),x4r=y(async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=new Iht({$metadata:X(e),...r});return(0,m.decorateServiceException)(s,e.body)},"de_TooManyPartsRes"),A4r=y((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.Records!=null?{Records:await T4r(r.Records,t)}:r.Stats!=null?{Stats:await O4r(r.Stats,t)}:r.Progress!=null?{Progress:await I4r(r.Progress,t)}:r.Cont!=null?{Cont:await P4r(r.Cont,t)}:r.End!=null?{End:await R4r(r.End,t)}:{$unknown:r}),"de_SelectObjectContentEventStream"),P4r=y(async(e,t)=>{let r={},n=await(0,Ye.parseXmlBody)(e.body,t);return Object.assign(r,y6r(n,t)),r},"de_ContinuationEvent_event"),R4r=y(async(e,t)=>{let r={},n=await(0,Ye.parseXmlBody)(e.body,t);return Object.assign(r,O6r(n,t)),r},"de_EndEvent_event"),I4r=y(async(e,t)=>{let r={},n=await(0,Ye.parseXmlBody)(e.body,t);return r.Details=B8r(n,t),r},"de_ProgressEvent_event"),T4r=y(async(e,t)=>{let r={};return r.Payload=e.body,r},"de_RecordsEvent_event"),O4r=y(async(e,t)=>{let r={},n=await(0,Ye.parseXmlBody)(e.body,t);return r.Details=mXr(n,t),r},"de_StatsEvent_event"),N4r=y((e,t)=>{let r=new O.XmlNode(sS);return e[X_]!=null&&r.c(O.XmlNode.of(X_,String(e[X_])).n(X_)),r},"se_AbortIncompleteMultipartUpload"),D4r=y((e,t)=>{let r=new O.XmlNode(PXr);return e[Ce]!=null&&r.c(O.XmlNode.of(MXr,e[Ce]).n(Ce)),r},"se_AccelerateConfiguration"),Qht=y((e,t)=>{let r=new O.XmlNode(AXr);return r.lc(e,"Grants","AccessControlList",()=>eyt(e[EO],t)),e[lr]!=null&&r.c(oKr(e[lr],t).n(lr)),r},"se_AccessControlPolicy"),k4r=y((e,t)=>{let r=new O.XmlNode(nS);return e[lr]!=null&&r.c(O.XmlNode.of(g5r,e[lr]).n(lr)),r},"se_AccessControlTranslation"),M4r=y((e,t)=>e.filter(r=>r!=null).map(r=>O.XmlNode.of(Lie,r).n(fi)),"se_AllowedHeaders"),L4r=y((e,t)=>e.filter(r=>r!=null).map(r=>O.XmlNode.of(Bie,r).n(fi)),"se_AllowedMethods"),U4r=y((e,t)=>e.filter(r=>r!=null).map(r=>O.XmlNode.of(qie,r).n(fi)),"se_AllowedOrigins"),B4r=y((e,t)=>{let r=new O.XmlNode(xXr);return r.cc(e,ge),r.l(e,"Tags","Tag",()=>DS(e[Lo],t)),r},"se_AnalyticsAndOperator"),F4r=y((e,t)=>{let r=new O.XmlNode(Mie);return e[We]!=null&&r.c(O.XmlNode.of(TXr,e[We]).n(We)),e[Ve]!=null&&r.c(j4r(e[Ve],t).n(Ve)),e[bS]!=null&&r.c(zKr(e[bS],t).n(bS)),r},"se_AnalyticsConfiguration"),q4r=y((e,t)=>{let r=new O.XmlNode(RXr);return e[Zl]!=null&&r.c($4r(e[Zl],t).n(Zl)),r},"se_AnalyticsExportDestination"),j4r=y((e,t)=>{let r=new O.XmlNode(IXr);return AG.visit(e,{Prefix:y(n=>{e[ge]!=null&&r.c(O.XmlNode.of(ge,n).n(ge))},"Prefix"),Tag:y(n=>{e[pt]!=null&&r.c(Yw(n,t).n(pt))},"Tag"),And:y(n=>{e[En]!=null&&r.c(B4r(n,t).n(En))},"And"),_:y((n,s)=>{if(!(s instanceof O.XmlNode||s instanceof O.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new O.XmlNode(n).c(s))},"_")}),r},"se_AnalyticsFilter"),$4r=y((e,t)=>{let r=new O.XmlNode(DXr);return e[Vl]!=null&&r.c(O.XmlNode.of(kXr,e[Vl]).n(Vl)),e[_w]!=null&&r.c(O.XmlNode.of(gw,e[_w]).n(_w)),e[Yt]!=null&&r.c(O.XmlNode.of(GG,e[Yt]).n(Yt)),r.cc(e,ge),r},"se_AnalyticsS3BucketDestination"),z4r=y((e,t)=>{let r=new O.XmlNode(LXr);return r.cc(e,sJr),e[Fa]!=null&&r.c(O.XmlNode.of(zXr,e[Fa]).n(Fa)),r},"se_BucketInfo"),H4r=y((e,t)=>{let r=new O.XmlNode(UXr);return r.l(e,"Rules","Rule",()=>FWr(e[td],t)),r},"se_BucketLifecycleConfiguration"),G4r=y((e,t)=>{let r=new O.XmlNode(jXr);return e[pS]!=null&&r.c(jWr(e[pS],t).n(pS)),r},"se_BucketLoggingStatus"),V4r=y((e,t)=>{let r=new O.XmlNode(VXr);return r.l(e,"Parts","Part",()=>K4r(e[CO],t)),r},"se_CompletedMultipartUpload"),W4r=y((e,t)=>{let r=new O.XmlNode(KXr);return r.cc(e,Kr),r.cc(e,rn),r.cc(e,nn),r.cc(e,sn),r.cc(e,on),r.cc(e,an),e[Ua]!=null&&r.c(O.XmlNode.of(Ua,String(e[Ua])).n(Ua)),r},"se_CompletedPart"),K4r=y((e,t)=>e.filter(r=>r!=null).map(r=>W4r(r,t).n(fi)),"se_CompletedPartList"),X4r=y((e,t)=>{let r=new O.XmlNode(iS);return r.cc(e,JH),r.cc(e,eG),r},"se_Condition"),J4r=y((e,t)=>{let r=new O.XmlNode(WXr);return r.l(e,"CORSRules","CORSRule",()=>Q4r(e[Hie],t)),r},"se_CORSConfiguration"),Y4r=y((e,t)=>{let r=new O.XmlNode(zie);return r.cc(e,ps),r.l(e,"AllowedHeaders","AllowedHeader",()=>M4r(e[Uie],t)),r.l(e,"AllowedMethods","AllowedMethod",()=>L4r(e[Fie],t)),r.l(e,"AllowedOrigins","AllowedOrigin",()=>U4r(e[jie],t)),r.l(e,"ExposeHeaders","ExposeHeader",()=>uWr(e[Gie],t)),e[Q_]!=null&&r.c(O.XmlNode.of(Q_,String(e[Q_])).n(Q_)),r},"se_CORSRule"),Q4r=y((e,t)=>e.filter(r=>r!=null).map(r=>Y4r(r,t).n(fi)),"se_CORSRules"),Z4r=y((e,t)=>{let r=new O.XmlNode(GXr);return e[Mw]!=null&&r.c(O.XmlNode.of(BXr,e[Mw]).n(Mw)),e[fS]!=null&&r.c(qWr(e[fS],t).n(fS)),e[Yt]!=null&&r.c(z4r(e[Yt],t).n(Yt)),r.lc(e,"Tags","Tags",()=>DS(e[Lo],t)),r},"se_CreateBucketConfiguration"),eWr=y((e,t)=>{let r=new O.XmlNode(JXr);return r.cc(e,uJr),r.cc(e,eJr),r.cc(e,Byt),r.cc(e,Toe),r.cc(e,Oyt),r.cc(e,Uyt),e[FH]!=null&&r.c(O.XmlNode.of(FH,String(e[FH])).n(FH)),r},"se_CSVInput"),tWr=y((e,t)=>{let r=new O.XmlNode(YXr);return r.cc(e,v5r),r.cc(e,Byt),r.cc(e,Toe),r.cc(e,Oyt),r.cc(e,Uyt),r},"se_CSVOutput"),rWr=y((e,t)=>{let r=new O.XmlNode(aS);return e[Kl]!=null&&r.c(O.XmlNode.of(kyt,e[Kl]).n(Kl)),e[$t]!=null&&r.c(O.XmlNode.of($t,String(e[$t])).n($t)),e[tS]!=null&&r.c(O.XmlNode.of(tS,String(e[tS])).n(tS)),r},"se_DefaultRetention"),nWr=y((e,t)=>{let r=new O.XmlNode(iJr);return r.l(e,"Objects","Object",()=>eKr(e[y5r],t)),e[zH]!=null&&r.c(O.XmlNode.of(zH,String(e[zH])).n(zH)),r},"se_Delete"),sWr=y((e,t)=>{let r=new O.XmlNode(oS);return e[Ce]!=null&&r.c(O.XmlNode.of(nJr,e[Ce]).n(Ce)),r},"se_DeleteMarkerReplication"),iWr=y((e,t)=>{let r=new O.XmlNode(di);return e[Yt]!=null&&r.c(O.XmlNode.of(GG,e[Yt]).n(Yt)),e[yw]!=null&&r.c(O.XmlNode.of(gw,e[yw]).n(yw)),r.cc(e,Et),e[nS]!=null&&r.c(k4r(e[nS],t).n(nS)),e[ko]!=null&&r.c(aWr(e[ko],t).n(ko)),e[ES]!=null&&r.c(bKr(e[ES],t).n(ES)),e[gS]!=null&&r.c(GWr(e[gS],t).n(gS)),r},"se_Destination"),oWr=y((e,t)=>{let r=new O.XmlNode(Ju);return e[cie]!=null&&r.c(O.XmlNode.of(Bo,e[cie]).n(cie)),e[hie]!=null&&r.c(O.XmlNode.of(eo,e[hie]).n(hie)),r.cc(e,UJr),r},"se_Encryption"),aWr=y((e,t)=>{let r=new O.XmlNode(ko);return r.cc(e,dG),r},"se_EncryptionConfiguration"),cWr=y((e,t)=>{let r=new O.XmlNode(lS);return e[it]!=null&&r.c(O.XmlNode.of(Ioe,e[it]).n(it)),r},"se_ErrorDocument"),lWr=y((e,t)=>new O.XmlNode(cS),"se_EventBridgeConfiguration"),yoe=y((e,t)=>e.filter(r=>r!=null).map(r=>O.XmlNode.of(IS,r).n(fi)),"se_EventList"),dWr=y((e,t)=>{let r=new O.XmlNode(dS);return e[Ce]!=null&&r.c(O.XmlNode.of(aJr,e[Ce]).n(Ce)),r},"se_ExistingObjectReplication"),uWr=y((e,t)=>e.filter(r=>r!=null).map(r=>O.XmlNode.of(Vie,r).n(fi)),"se_ExposeHeaders"),mWr=y((e,t)=>{let r=new O.XmlNode(Wie);return e[Yn]!=null&&r.c(O.XmlNode.of(fJr,e[Yn]).n(Yn)),e[yc]!=null&&r.c(O.XmlNode.of(pJr,e[yc]).n(yc)),r},"se_FilterRule"),fWr=y((e,t)=>e.filter(r=>r!=null).map(r=>mWr(r,t).n(fi)),"se_FilterRuleList"),pWr=y((e,t)=>{let r=new O.XmlNode(XH);return r.cc(e,Wyt),r},"se_GlacierJobParameters"),gWr=y((e,t)=>{let r=new O.XmlNode(Xf);if(e[hc]!=null){let n=Zht(e[hc],t).n(hc);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return r.cc(e,Yu),r},"se_Grant"),Zht=y((e,t)=>{let r=new O.XmlNode(hc);return r.cc(e,kd),r.cc(e,VH),r.cc(e,ps),r.cc(e,wG),r.a("xsi:type",e[Fa]),r},"se_Grantee"),eyt=y((e,t)=>e.filter(r=>r!=null).map(r=>gWr(r,t).n(Xf)),"se_Grants"),hWr=y((e,t)=>{let r=new O.XmlNode(uS);return r.cc(e,SG),r},"se_IndexDocument"),tyt=y((e,t)=>{let r=new O.XmlNode(mS);return e[ww]!=null&&r.c(eWr(e[ww],t).n(ww)),r.cc(e,ZXr),e[Nw]!=null&&r.c(OWr(e[Nw],t).n(Nw)),e[xie]!=null&&r.c(dKr(e[xie],t).n(xie)),r},"se_InputSerialization"),yWr=y((e,t)=>{let r=new O.XmlNode(xJr);return r.cc(e,ge),r.l(e,"Tags","Tag",()=>DS(e[Lo],t)),r},"se_IntelligentTieringAndOperator"),_Wr=y((e,t)=>{let r=new O.XmlNode(Yie);return e[We]!=null&&r.c(O.XmlNode.of(TJr,e[We]).n(We)),e[Ve]!=null&&r.c(SWr(e[Ve],t).n(Ve)),e[Ce]!=null&&r.c(O.XmlNode.of(OJr,e[Ce]).n(Ce)),r.l(e,"Tierings","Tiering",()=>XKr(e[uoe],t)),r},"se_IntelligentTieringConfiguration"),SWr=y((e,t)=>{let r=new O.XmlNode(IJr);return r.cc(e,ge),e[pt]!=null&&r.c(Yw(e[pt],t).n(pt)),e[En]!=null&&r.c(yWr(e[En],t).n(En)),r},"se_IntelligentTieringFilter"),vWr=y((e,t)=>{let r=new O.XmlNode(Jie);return e[di]!=null&&r.c(EWr(e[di],t).n(di)),e[Y_]!=null&&r.c(O.XmlNode.of(Y_,String(e[Y_])).n(Y_)),e[Ve]!=null&&r.c(bWr(e[Ve],t).n(Ve)),e[We]!=null&&r.c(O.XmlNode.of(vJr,e[We]).n(We)),e[Iw]!=null&&r.c(O.XmlNode.of(EJr,e[Iw]).n(Iw)),r.lc(e,"OptionalFields","OptionalFields",()=>wWr(e[mw],t)),e[zw]!=null&&r.c(AWr(e[zw],t).n(zw)),r},"se_InventoryConfiguration"),EWr=y((e,t)=>{let r=new O.XmlNode(gJr);return e[Zl]!=null&&r.c(xWr(e[Zl],t).n(Zl)),r},"se_InventoryDestination"),CWr=y((e,t)=>{let r=new O.XmlNode(hJr);return e[coe]!=null&&r.c($Kr(e[coe],t).n(LG)),e[aoe]!=null&&r.c(qKr(e[aoe],t).n(MG)),r},"se_InventoryEncryption"),bWr=y((e,t)=>{let r=new O.XmlNode(yJr);return r.cc(e,ge),r},"se_InventoryFilter"),wWr=y((e,t)=>e.filter(r=>r!=null).map(r=>O.XmlNode.of(CJr,r).n(Xie)),"se_InventoryOptionalFields"),xWr=y((e,t)=>{let r=new O.XmlNode(bJr);return r.cc(e,gw),e[Yt]!=null&&r.c(O.XmlNode.of(GG,e[Yt]).n(Yt)),e[Vl]!=null&&r.c(O.XmlNode.of(_Jr,e[Vl]).n(Vl)),r.cc(e,ge),e[Ju]!=null&&r.c(CWr(e[Ju],t).n(Ju)),r},"se_InventoryS3BucketDestination"),AWr=y((e,t)=>{let r=new O.XmlNode(wJr);return e[Pw]!=null&&r.c(O.XmlNode.of(SJr,e[Pw]).n(Pw)),r},"se_InventorySchedule"),PWr=y((e,t)=>{let r=new O.XmlNode(QH);return e[Hf]!=null&&r.c(O.XmlNode.of(Nyt,e[Hf]).n(Hf)),e[ko]!=null&&r.c(_oe(e[ko],t).n(ko)),r},"se_InventoryTableConfiguration"),RWr=y((e,t)=>{let r=new O.XmlNode(PJr);return e[Hf]!=null&&r.c(O.XmlNode.of(Nyt,e[Hf]).n(Hf)),e[ko]!=null&&r.c(_oe(e[ko],t).n(ko)),r},"se_InventoryTableConfigurationUpdates"),IWr=y((e,t)=>{let r=new O.XmlNode(ZH);return e[Qu]!=null&&r.c(nyt(e[Qu],t).n(Qu)),e[ko]!=null&&r.c(_oe(e[ko],t).n(ko)),r},"se_JournalTableConfiguration"),TWr=y((e,t)=>{let r=new O.XmlNode(MJr);return e[Qu]!=null&&r.c(nyt(e[Qu],t).n(Qu)),r},"se_JournalTableConfigurationUpdates"),OWr=y((e,t)=>{let r=new O.XmlNode(NJr);return e[Fa]!=null&&r.c(O.XmlNode.of(kJr,e[Fa]).n(Fa)),r},"se_JSONInput"),NWr=y((e,t)=>{let r=new O.XmlNode(DJr);return r.cc(e,Toe),r},"se_JSONOutput"),DWr=y((e,t)=>{let r=new O.XmlNode(FJr);return e[We]!=null&&r.c(O.XmlNode.of(Roe,e[We]).n(We)),e[tG]!=null&&r.c(O.XmlNode.of(tG,e[tG]).n($ie)),r.l(e,"Events","Event",()=>yoe(e[Kf],t)),e[Ve]!=null&&r.c(Soe(e[Ve],t).n(Ve)),r},"se_LambdaFunctionConfiguration"),kWr=y((e,t)=>e.filter(r=>r!=null).map(r=>DWr(r,t).n(fi)),"se_LambdaFunctionConfigurationList"),MWr=y((e,t)=>{let r=new O.XmlNode(BJr);return e[ma]!=null&&r.c(O.XmlNode.of(ma,(0,m.serializeDateTime)(e[ma]).toString()).n(ma)),e[$t]!=null&&r.c(O.XmlNode.of($t,String(e[$t])).n($t)),e[J_]!=null&&r.c(O.XmlNode.of(J_,String(e[J_])).n(J_)),r},"se_LifecycleExpiration"),LWr=y((e,t)=>{let r=new O.XmlNode(zJr);return e[js]!=null&&r.c(MWr(e[js],t).n(js)),r.cc(e,ps),r.cc(e,ge),e[Ve]!=null&&r.c(BWr(e[Ve],t).n(Ve)),e[Ce]!=null&&r.c(O.XmlNode.of(lJr,e[Ce]).n(Ce)),r.l(e,"Transitions","Transition",()=>ZKr(e[poe],t)),r.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>YWr(e[toe],t)),e[hS]!=null&&r.c(XWr(e[hS],t).n(hS)),e[sS]!=null&&r.c(N4r(e[sS],t).n(sS)),r},"se_LifecycleRule"),UWr=y((e,t)=>{let r=new O.XmlNode(HJr);return r.cc(e,ge),r.l(e,"Tags","Tag",()=>DS(e[Lo],t)),e[Yl]!=null&&r.c(O.XmlNode.of(Myt,String(e[Yl])).n(Yl)),e[Ql]!=null&&r.c(O.XmlNode.of(Lyt,String(e[Ql])).n(Ql)),r},"se_LifecycleRuleAndOperator"),BWr=y((e,t)=>{let r=new O.XmlNode(GJr);return r.cc(e,ge),e[pt]!=null&&r.c(Yw(e[pt],t).n(pt)),e[Yl]!=null&&r.c(O.XmlNode.of(Myt,String(e[Yl])).n(Yl)),e[Ql]!=null&&r.c(O.XmlNode.of(Lyt,String(e[Ql])).n(Ql)),e[En]!=null&&r.c(UWr(e[En],t).n(En)),r},"se_LifecycleRuleFilter"),FWr=y((e,t)=>e.filter(r=>r!=null).map(r=>LWr(r,t).n(fi)),"se_LifecycleRules"),qWr=y((e,t)=>{let r=new O.XmlNode(qJr);return e[Fa]!=null&&r.c(O.XmlNode.of(VJr,e[Fa]).n(Fa)),e[Yn]!=null&&r.c(O.XmlNode.of(jJr,e[Yn]).n(Yn)),r},"se_LocationInfo"),jWr=y((e,t)=>{let r=new O.XmlNode(pS);return r.cc(e,EG),r.lc(e,"TargetGrants","TargetGrants",()=>VKr(e[pw],t)),r.cc(e,CG),e[RS]!=null&&r.c(WKr(e[RS],t).n(RS)),r},"se_LoggingEnabled"),$Wr=y((e,t)=>{let r=new O.XmlNode(XJr);return e[ZH]!=null&&r.c(IWr(e[ZH],t).n(ZH)),e[QH]!=null&&r.c(PWr(e[QH],t).n(QH)),r},"se_MetadataConfiguration"),zWr=y((e,t)=>{let r=new O.XmlNode(Dyt);return e[Yn]!=null&&r.c(O.XmlNode.of(e5r,e[Yn]).n(Yn)),e[yc]!=null&&r.c(O.XmlNode.of(s5r,e[yc]).n(yc)),r},"se_MetadataEntry"),HWr=y((e,t)=>{let r=new O.XmlNode(r5r);return e[_G]!=null&&r.c(OKr(e[_G],t).n(_G)),r},"se_MetadataTableConfiguration"),_oe=y((e,t)=>{let r=new O.XmlNode(n5r);return e[Rie]!=null&&r.c(O.XmlNode.of(e9r,e[Rie]).n(Rie)),r.cc(e,LJr),r},"se_MetadataTableEncryptionConfiguration"),GWr=y((e,t)=>{let r=new O.XmlNode(gS);return e[Ce]!=null&&r.c(O.XmlNode.of(t5r,e[Ce]).n(Ce)),e[Aw]!=null&&r.c(syt(e[Aw],t).n(Aw)),r},"se_Metrics"),VWr=y((e,t)=>{let r=new O.XmlNode(WJr);return r.cc(e,ge),r.l(e,"Tags","Tag",()=>DS(e[Lo],t)),r.cc(e,$f),r},"se_MetricsAndOperator"),WWr=y((e,t)=>{let r=new O.XmlNode(Zie);return e[We]!=null&&r.c(O.XmlNode.of(ZJr,e[We]).n(We)),e[Ve]!=null&&r.c(KWr(e[Ve],t).n(Ve)),r},"se_MetricsConfiguration"),KWr=y((e,t)=>{let r=new O.XmlNode(QJr);return PG.visit(e,{Prefix:y(n=>{e[ge]!=null&&r.c(O.XmlNode.of(ge,n).n(ge))},"Prefix"),Tag:y(n=>{e[pt]!=null&&r.c(Yw(n,t).n(pt))},"Tag"),AccessPointArn:y(n=>{e[$f]!=null&&r.c(O.XmlNode.of($f,n).n($f))},"AccessPointArn"),And:y(n=>{e[En]!=null&&r.c(VWr(n,t).n(En))},"And"),_:y((n,s)=>{if(!(s instanceof O.XmlNode||s instanceof O.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new O.XmlNode(n).c(s))},"_")}),r},"se_MetricsFilter"),XWr=y((e,t)=>{let r=new O.XmlNode(hS);return e[Xl]!=null&&r.c(O.XmlNode.of($t,String(e[Xl])).n(Xl)),e[Jl]!=null&&r.c(O.XmlNode.of(Xyt,String(e[Jl])).n(Jl)),r},"se_NoncurrentVersionExpiration"),JWr=y((e,t)=>{let r=new O.XmlNode(roe);return e[Xl]!=null&&r.c(O.XmlNode.of($t,String(e[Xl])).n(Xl)),e[Et]!=null&&r.c(O.XmlNode.of(Vyt,e[Et]).n(Et)),e[Jl]!=null&&r.c(O.XmlNode.of(Xyt,String(e[Jl])).n(Jl)),r},"se_NoncurrentVersionTransition"),YWr=y((e,t)=>e.filter(r=>r!=null).map(r=>JWr(r,t).n(fi)),"se_NoncurrentVersionTransitionList"),QWr=y((e,t)=>{let r=new O.XmlNode(i5r);return r.l(e,"TopicConfigurations","TopicConfiguration",()=>YKr(e[doe],t)),r.l(e,"QueueConfigurations","QueueConfiguration",()=>pKr(e[soe],t)),r.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>kWr(e[Qie],t)),e[cS]!=null&&r.c(lWr(e[cS],t).n(cS)),r},"se_NotificationConfiguration"),Soe=y((e,t)=>{let r=new O.XmlNode(o5r);return e[it]!=null&&r.c(IKr(e[it],t).n(ooe)),r},"se_NotificationConfigurationFilter"),ZWr=y((e,t)=>{let r=new O.XmlNode(d5r);return e[it]!=null&&r.c(O.XmlNode.of(Ioe,e[it]).n(it)),e[At]!=null&&r.c(O.XmlNode.of(h5r,e[At]).n(At)),r.cc(e,Kr),e[$H]!=null&&r.c(O.XmlNode.of($H,(0,m.dateToUtcString)(e[$H]).toString()).n($H)),e[Zi]!=null&&r.c(O.XmlNode.of(Zi,String(e[Zi])).n(Zi)),r},"se_ObjectIdentifier"),eKr=y((e,t)=>e.filter(r=>r!=null).map(r=>ZWr(r,t).n(fi)),"se_ObjectIdentifierList"),tKr=y((e,t)=>{let r=new O.XmlNode(u5r);return r.cc(e,oG),e[Ba]!=null&&r.c(sKr(e[Ba],t).n(Ba)),r},"se_ObjectLockConfiguration"),rKr=y((e,t)=>{let r=new O.XmlNode(m5r);return e[Ce]!=null&&r.c(O.XmlNode.of(MS,e[Ce]).n(Ce)),r},"se_ObjectLockLegalHold"),nKr=y((e,t)=>{let r=new O.XmlNode(f5r);return e[Kl]!=null&&r.c(O.XmlNode.of(kyt,e[Kl]).n(Kl)),e[jw]!=null&&r.c(O.XmlNode.of(ma,(0,m.serializeDateTime)(e[jw]).toString()).n(jw)),r},"se_ObjectLockRetention"),sKr=y((e,t)=>{let r=new O.XmlNode(p5r);return e[aS]!=null&&r.c(rWr(e[aS],t).n(aS)),r},"se_ObjectLockRule"),iKr=y((e,t)=>{let r=new O.XmlNode(iG);return e[Oie]!=null&&r.c(TKr(e[Oie],t).n(Oie)),r},"se_OutputLocation"),ryt=y((e,t)=>{let r=new O.XmlNode(yS);return e[ww]!=null&&r.c(tWr(e[ww],t).n(ww)),e[Nw]!=null&&r.c(NWr(e[Nw],t).n(Nw)),r},"se_OutputSerialization"),oKr=y((e,t)=>{let r=new O.XmlNode(lr);return r.cc(e,kd),r.cc(e,ps),r},"se_Owner"),aKr=y((e,t)=>{let r=new O.XmlNode(a5r);return r.l(e,"Rules","Rule",()=>lKr(e[td],t)),r},"se_OwnershipControls"),cKr=y((e,t)=>{let r=new O.XmlNode(l5r);return r.cc(e,vO),r},"se_OwnershipControlsRule"),lKr=y((e,t)=>e.filter(r=>r!=null).map(r=>cKr(r,t).n(fi)),"se_OwnershipControlsRules"),dKr=y((e,t)=>new O.XmlNode(S5r),"se_ParquetInput"),uKr=y((e,t)=>{let r=new O.XmlNode(_S);return r.cc(e,aG),r},"se_PartitionedPrefix"),mKr=y((e,t)=>{let r=new O.XmlNode(_5r);return e[vw]!=null&&r.c(O.XmlNode.of(HH,String(e[vw])).n(vw)),e[Tw]!=null&&r.c(O.XmlNode.of(HH,String(e[Tw])).n(Tw)),e[Ew]!=null&&r.c(O.XmlNode.of(HH,String(e[Ew])).n(Ew)),e[Fw]!=null&&r.c(O.XmlNode.of(HH,String(e[Fw])).n(Fw)),r},"se_PublicAccessBlockConfiguration"),fKr=y((e,t)=>{let r=new O.XmlNode(noe);return e[We]!=null&&r.c(O.XmlNode.of(Roe,e[We]).n(We)),e[lG]!=null&&r.c(O.XmlNode.of(lG,e[lG]).n(ioe)),r.l(e,"Events","Event",()=>yoe(e[Kf],t)),e[Ve]!=null&&r.c(Soe(e[Ve],t).n(Ve)),r},"se_QueueConfiguration"),pKr=y((e,t)=>e.filter(r=>r!=null).map(r=>fKr(r,t).n(fi)),"se_QueueConfigurationList"),nyt=y((e,t)=>{let r=new O.XmlNode(Qu);return e[js]!=null&&r.c(O.XmlNode.of(dJr,e[js]).n(js)),e[$t]!=null&&r.c(O.XmlNode.of(C5r,String(e[$t])).n($t)),r},"se_RecordExpiration"),gKr=y((e,t)=>{let r=new O.XmlNode(CS);return r.cc(e,bh),r.cc(e,YH),r.cc(e,Ah),r.cc(e,uG),r.cc(e,mG),r},"se_Redirect"),hKr=y((e,t)=>{let r=new O.XmlNode(SS);return r.cc(e,bh),r.cc(e,Ah),r},"se_RedirectAllRequestsTo"),yKr=y((e,t)=>{let r=new O.XmlNode(vS);return e[Ce]!=null&&r.c(O.XmlNode.of(b5r,e[Ce]).n(Ce)),r},"se_ReplicaModifications"),_Kr=y((e,t)=>{let r=new O.XmlNode(E5r);return r.cc(e,pG),r.l(e,"Rules","Rule",()=>CKr(e[td],t)),r},"se_ReplicationConfiguration"),SKr=y((e,t)=>{let r=new O.XmlNode(O5r);return r.cc(e,ps),e[eS]!=null&&r.c(O.XmlNode.of(eS,String(e[eS])).n(eS)),r.cc(e,ge),e[Ve]!=null&&r.c(EKr(e[Ve],t).n(Ve)),e[Ce]!=null&&r.c(O.XmlNode.of(I5r,e[Ce]).n(Ce)),e[AS]!=null&&r.c(FKr(e[AS],t).n(AS)),e[dS]!=null&&r.c(dWr(e[dS],t).n(dS)),e[di]!=null&&r.c(iWr(e[di],t).n(di)),e[oS]!=null&&r.c(sWr(e[oS],t).n(oS)),r},"se_ReplicationRule"),vKr=y((e,t)=>{let r=new O.XmlNode(P5r);return r.cc(e,ge),r.l(e,"Tags","Tag",()=>DS(e[Lo],t)),r},"se_ReplicationRuleAndOperator"),EKr=y((e,t)=>{let r=new O.XmlNode(R5r);return r.cc(e,ge),e[pt]!=null&&r.c(Yw(e[pt],t).n(pt)),e[En]!=null&&r.c(vKr(e[En],t).n(En)),r},"se_ReplicationRuleFilter"),CKr=y((e,t)=>e.filter(r=>r!=null).map(r=>SKr(r,t).n(fi)),"se_ReplicationRules"),bKr=y((e,t)=>{let r=new O.XmlNode(ES);return e[Ce]!=null&&r.c(O.XmlNode.of(M5r,e[Ce]).n(Ce)),e[Vw]!=null&&r.c(syt(e[Vw],t).n(Vw)),r},"se_ReplicationTime"),syt=y((e,t)=>{let r=new O.XmlNode(L5r);return e[Z_]!=null&&r.c(O.XmlNode.of(Z_,String(e[Z_])).n(Z_)),r},"se_ReplicationTimeValue"),wKr=y((e,t)=>{let r=new O.XmlNode(x5r);return r.cc(e,cG),r},"se_RequestPaymentConfiguration"),xKr=y((e,t)=>{let r=new O.XmlNode(fG);return e[lie]!=null&&r.c(O.XmlNode.of(cJr,String(e[lie])).n(lie)),r},"se_RequestProgress"),AKr=y((e,t)=>{let r=new O.XmlNode(N5r);return e[$t]!=null&&r.c(O.XmlNode.of($t,String(e[$t])).n($t)),e[XH]!=null&&r.c(pWr(e[XH],t).n(XH)),e[Fa]!=null&&r.c(O.XmlNode.of(T5r,e[Fa]).n(Fa)),r.cc(e,Wyt),r.cc(e,oJr),e[hG]!=null&&r.c(DKr(e[hG],t).n(hG)),e[iG]!=null&&r.c(iKr(e[iG],t).n(iG)),r},"se_RestoreRequest"),PKr=y((e,t)=>{let r=new O.XmlNode(kG);return e[iS]!=null&&r.c(X4r(e[iS],t).n(iS)),e[CS]!=null&&r.c(gKr(e[CS],t).n(CS)),r},"se_RoutingRule"),RKr=y((e,t)=>e.filter(r=>r!=null).map(r=>PKr(r,t).n(kG)),"se_RoutingRules"),IKr=y((e,t)=>{let r=new O.XmlNode($5r);return r.l(e,"FilterRules","FilterRule",()=>fWr(e[Kie],t)),r},"se_S3KeyFilter"),TKr=y((e,t)=>{let r=new O.XmlNode(z5r);return r.cc(e,GG),e[ge]!=null&&r.c(O.XmlNode.of($Jr,e[ge]).n(ge)),e[Ju]!=null&&r.c(oWr(e[Ju],t).n(Ju)),e[rie]!=null&&r.c(O.XmlNode.of(c5r,e[rie]).n(rie)),r.lc(e,"AccessControlList","AccessControlList",()=>eyt(e[rS],t)),e[PS]!=null&&r.c(voe(e[PS],t).n(PS)),r.lc(e,"UserMetadata","UserMetadata",()=>e6r(e[t9r],t)),r.cc(e,Et),r},"se_S3Location"),OKr=y((e,t)=>{let r=new O.XmlNode(_G);return e[Wf]!=null&&r.c(O.XmlNode.of(X5r,e[Wf]).n(Wf)),e[ed]!=null&&r.c(O.XmlNode.of(J5r,e[ed]).n(ed)),r},"se_S3TablesDestination"),NKr=y((e,t)=>{let r=new O.XmlNode(yG);return e[GH]!=null&&r.c(O.XmlNode.of(GH,String(e[GH])).n(GH)),e[jH]!=null&&r.c(O.XmlNode.of(jH,String(e[jH])).n(jH)),r},"se_ScanRange"),DKr=y((e,t)=>{let r=new O.XmlNode(hG);return e[mS]!=null&&r.c(tyt(e[mS],t).n(mS)),r.cc(e,Iyt),r.cc(e,Tyt),e[yS]!=null&&r.c(ryt(e[yS],t).n(yS)),r},"se_SelectParameters"),kKr=y((e,t)=>{let r=new O.XmlNode(V5r);return e[$w]!=null&&r.c(O.XmlNode.of(Bo,e[$w]).n($w)),e[kw]!=null&&r.c(O.XmlNode.of(eo,e[kw]).n(kw)),r},"se_ServerSideEncryptionByDefault"),MKr=y((e,t)=>{let r=new O.XmlNode(W5r);return r.l(e,"Rules","Rule",()=>UKr(e[td],t)),r},"se_ServerSideEncryptionConfiguration"),LKr=y((e,t)=>{let r=new O.XmlNode(K5r);return e[hw]!=null&&r.c(kKr(e[hw],t).n(hw)),e[vn]!=null&&r.c(O.XmlNode.of(vn,String(e[vn])).n(vn)),r},"se_ServerSideEncryptionRule"),UKr=y((e,t)=>e.filter(r=>r!=null).map(r=>LKr(r,t).n(fi)),"se_ServerSideEncryptionRules"),BKr=y((e,t)=>new O.XmlNode(xS),"se_SimplePrefix"),FKr=y((e,t)=>{let r=new O.XmlNode(AS);return e[wS]!=null&&r.c(jKr(e[wS],t).n(wS)),e[vS]!=null&&r.c(yKr(e[vS],t).n(vS)),r},"se_SourceSelectionCriteria"),qKr=y((e,t)=>{let r=new O.XmlNode(MG);return e[Dw]!=null&&r.c(O.XmlNode.of(eo,e[Dw]).n(Dw)),r},"se_SSEKMS"),jKr=y((e,t)=>{let r=new O.XmlNode(wS);return e[Ce]!=null&&r.c(O.XmlNode.of(j5r,e[Ce]).n(Ce)),r},"se_SseKmsEncryptedObjects"),$Kr=y((e,t)=>new O.XmlNode(LG),"se_SSES3"),zKr=y((e,t)=>{let r=new O.XmlNode(bS);return e[xw]!=null&&r.c(HKr(e[xw],t).n(xw)),r},"se_StorageClassAnalysis"),HKr=y((e,t)=>{let r=new O.XmlNode(U5r);return e[Bw]!=null&&r.c(O.XmlNode.of(B5r,e[Bw]).n(Bw)),e[di]!=null&&r.c(q4r(e[di],t).n(di)),r},"se_StorageClassAnalysisDataExport"),Yw=y((e,t)=>{let r=new O.XmlNode(pt);return e[it]!=null&&r.c(O.XmlNode.of(Ioe,e[it]).n(it)),r.cc(e,yc),r},"se_Tag"),voe=y((e,t)=>{let r=new O.XmlNode(PS);return r.lc(e,"TagSet","TagSet",()=>DS(e[Nd],t)),r},"se_Tagging"),DS=y((e,t)=>e.filter(r=>r!=null).map(r=>Yw(r,t).n(pt)),"se_TagSet"),GKr=y((e,t)=>{let r=new O.XmlNode(Q5r);if(e[hc]!=null){let n=Zht(e[hc],t).n(hc);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return e[Yu]!=null&&r.c(O.XmlNode.of(qXr,e[Yu]).n(Yu)),r},"se_TargetGrant"),VKr=y((e,t)=>e.filter(r=>r!=null).map(r=>GKr(r,t).n(Xf)),"se_TargetGrants"),WKr=y((e,t)=>{let r=new O.XmlNode(RS);return e[xS]!=null&&r.c(BKr(e[xS],t).n(xS)),e[_S]!=null&&r.c(uKr(e[_S],t).n(_S)),r},"se_TargetObjectKeyFormat"),KKr=y((e,t)=>{let r=new O.XmlNode(moe);return e[$t]!=null&&r.c(O.XmlNode.of(RJr,String(e[$t])).n($t)),e[zf]!=null&&r.c(O.XmlNode.of(AJr,e[zf]).n(zf)),r},"se_Tiering"),XKr=y((e,t)=>e.filter(r=>r!=null).map(r=>KKr(r,t).n(fi)),"se_TieringList"),JKr=y((e,t)=>{let r=new O.XmlNode(loe);return e[We]!=null&&r.c(O.XmlNode.of(Roe,e[We]).n(We)),e[vG]!=null&&r.c(O.XmlNode.of(vG,e[vG]).n(foe)),r.l(e,"Events","Event",()=>yoe(e[Kf],t)),e[Ve]!=null&&r.c(Soe(e[Ve],t).n(Ve)),r},"se_TopicConfiguration"),YKr=y((e,t)=>e.filter(r=>r!=null).map(r=>JKr(r,t).n(fi)),"se_TopicConfigurationList"),QKr=y((e,t)=>{let r=new O.XmlNode(goe);return e[ma]!=null&&r.c(O.XmlNode.of(ma,(0,m.serializeDateTime)(e[ma]).toString()).n(ma)),e[$t]!=null&&r.c(O.XmlNode.of($t,String(e[$t])).n($t)),e[Et]!=null&&r.c(O.XmlNode.of(Vyt,e[Et]).n(Et)),r},"se_Transition"),ZKr=y((e,t)=>e.filter(r=>r!=null).map(r=>QKr(r,t).n(fi)),"se_TransitionList"),e6r=y((e,t)=>e.filter(r=>r!=null).map(r=>zWr(r,t).n(Dyt)),"se_UserMetadata"),t6r=y((e,t)=>{let r=new O.XmlNode(r9r);return e[nG]!=null&&r.c(O.XmlNode.of(nG,e[nG]).n(eoe)),e[Ce]!=null&&r.c(O.XmlNode.of(HXr,e[Ce]).n(Ce)),r},"se_VersioningConfiguration"),r6r=y((e,t)=>{let r=new O.XmlNode(n9r);return e[lS]!=null&&r.c(cWr(e[lS],t).n(lS)),e[uS]!=null&&r.c(hWr(e[uS],t).n(uS)),e[SS]!=null&&r.c(hKr(e[SS],t).n(SS)),r.lc(e,"RoutingRules","RoutingRules",()=>RKr(e[fw],t)),r},"se_WebsiteConfiguration"),n6r=y((e,t)=>{let r={};return e[X_]!=null&&(r[X_]=(0,m.strictParseInt32)(e[X_])),r},"de_AbortIncompleteMultipartUpload"),s6r=y((e,t)=>{let r={};return e[lr]!=null&&(r[lr]=(0,m.expectString)(e[lr])),r},"de_AccessControlTranslation"),i6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_AllowedHeaders"),o6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_AllowedMethods"),a6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_AllowedOrigins"),c6r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e.Tag===""?r[Lo]=[]:e[pt]!=null&&(r[Lo]=kS((0,m.getArrayIfSingleItem)(e[pt]),t)),r},"de_AnalyticsAndOperator"),iyt=y((e,t)=>{let r={};return e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e.Filter===""||e[Ve]!=null&&(r[Ve]=u6r((0,m.expectUnion)(e[Ve]),t)),e[bS]!=null&&(r[bS]=fXr(e[bS],t)),r},"de_AnalyticsConfiguration"),l6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>iyt(r,t)),"de_AnalyticsConfigurationList"),d6r=y((e,t)=>{let r={};return e[Zl]!=null&&(r[Zl]=m6r(e[Zl],t)),r},"de_AnalyticsExportDestination"),u6r=y((e,t)=>e[ge]!=null?{Prefix:(0,m.expectString)(e[ge])}:e[pt]!=null?{Tag:Qw(e[pt],t)}:e[En]!=null?{And:c6r(e[En],t)}:{$unknown:Object.entries(e)[0]},"de_AnalyticsFilter"),m6r=y((e,t)=>{let r={};return e[Vl]!=null&&(r[Vl]=(0,m.expectString)(e[Vl])),e[_w]!=null&&(r[_w]=(0,m.expectString)(e[_w])),e[Yt]!=null&&(r[Yt]=(0,m.expectString)(e[Yt])),e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),r},"de_AnalyticsS3BucketDestination"),f6r=y((e,t)=>{let r={};return e[Yn]!=null&&(r[Yn]=(0,m.expectString)(e[Yn])),e[nie]!=null&&(r[nie]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[nie]))),e[SO]!=null&&(r[SO]=(0,m.expectString)(e[SO])),e[_O]!=null&&(r[_O]=(0,m.expectString)(e[_O])),r},"de_Bucket"),oyt=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>f6r(r,t)),"de_Buckets"),p6r=y((e,t)=>{let r={};return e[rn]!=null&&(r[rn]=(0,m.expectString)(e[rn])),e[nn]!=null&&(r[nn]=(0,m.expectString)(e[nn])),e[sn]!=null&&(r[sn]=(0,m.expectString)(e[sn])),e[on]!=null&&(r[on]=(0,m.expectString)(e[on])),e[an]!=null&&(r[an]=(0,m.expectString)(e[an])),e[cn]!=null&&(r[cn]=(0,m.expectString)(e[cn])),r},"de_Checksum"),ayt=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_ChecksumAlgorithmList"),g6r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),r},"de_CommonPrefix"),HG=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>g6r(r,t)),"de_CommonPrefixList"),h6r=y((e,t)=>{let r={};return e[JH]!=null&&(r[JH]=(0,m.expectString)(e[JH])),e[eG]!=null&&(r[eG]=(0,m.expectString)(e[eG])),r},"de_Condition"),y6r=y((e,t)=>({}),"de_ContinuationEvent"),_6r=y((e,t)=>{let r={};return e[Kr]!=null&&(r[Kr]=(0,m.expectString)(e[Kr])),e[gs]!=null&&(r[gs]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[gs]))),e[cn]!=null&&(r[cn]=(0,m.expectString)(e[cn])),e[rn]!=null&&(r[rn]=(0,m.expectString)(e[rn])),e[nn]!=null&&(r[nn]=(0,m.expectString)(e[nn])),e[sn]!=null&&(r[sn]=(0,m.expectString)(e[sn])),e[on]!=null&&(r[on]=(0,m.expectString)(e[on])),e[an]!=null&&(r[an]=(0,m.expectString)(e[an])),r},"de_CopyObjectResult"),S6r=y((e,t)=>{let r={};return e[Kr]!=null&&(r[Kr]=(0,m.expectString)(e[Kr])),e[gs]!=null&&(r[gs]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[gs]))),e[rn]!=null&&(r[rn]=(0,m.expectString)(e[rn])),e[nn]!=null&&(r[nn]=(0,m.expectString)(e[nn])),e[sn]!=null&&(r[sn]=(0,m.expectString)(e[sn])),e[on]!=null&&(r[on]=(0,m.expectString)(e[on])),e[an]!=null&&(r[an]=(0,m.expectString)(e[an])),r},"de_CopyPartResult"),v6r=y((e,t)=>{let r={};return e[ps]!=null&&(r[ps]=(0,m.expectString)(e[ps])),e.AllowedHeader===""?r[Uie]=[]:e[Lie]!=null&&(r[Uie]=i6r((0,m.getArrayIfSingleItem)(e[Lie]),t)),e.AllowedMethod===""?r[Fie]=[]:e[Bie]!=null&&(r[Fie]=o6r((0,m.getArrayIfSingleItem)(e[Bie]),t)),e.AllowedOrigin===""?r[jie]=[]:e[qie]!=null&&(r[jie]=a6r((0,m.getArrayIfSingleItem)(e[qie]),t)),e.ExposeHeader===""?r[Gie]=[]:e[Vie]!=null&&(r[Gie]=U6r((0,m.getArrayIfSingleItem)(e[Vie]),t)),e[Q_]!=null&&(r[Q_]=(0,m.strictParseInt32)(e[Q_])),r},"de_CORSRule"),E6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>v6r(r,t)),"de_CORSRules"),C6r=y((e,t)=>{let r={};return e[Kl]!=null&&(r[Kl]=(0,m.expectString)(e[Kl])),e[$t]!=null&&(r[$t]=(0,m.strictParseInt32)(e[$t])),e[tS]!=null&&(r[tS]=(0,m.strictParseInt32)(e[tS])),r},"de_DefaultRetention"),b6r=y((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[At]!=null&&(r[At]=(0,m.expectString)(e[At])),e[Dd]!=null&&(r[Dd]=(0,m.parseBoolean)(e[Dd])),e[oie]!=null&&(r[oie]=(0,m.expectString)(e[oie])),r},"de_DeletedObject"),w6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>b6r(r,t)),"de_DeletedObjects"),x6r=y((e,t)=>{let r={};return e[lr]!=null&&(r[lr]=Ih(e[lr],t)),e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[At]!=null&&(r[At]=(0,m.expectString)(e[At])),e[Rw]!=null&&(r[Rw]=(0,m.parseBoolean)(e[Rw])),e[gs]!=null&&(r[gs]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[gs]))),r},"de_DeleteMarkerEntry"),A6r=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),r},"de_DeleteMarkerReplication"),P6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>x6r(r,t)),"de_DeleteMarkers"),R6r=y((e,t)=>{let r={};return e[Yt]!=null&&(r[Yt]=(0,m.expectString)(e[Yt])),e[yw]!=null&&(r[yw]=(0,m.expectString)(e[yw])),e[Et]!=null&&(r[Et]=(0,m.expectString)(e[Et])),e[nS]!=null&&(r[nS]=s6r(e[nS],t)),e[ko]!=null&&(r[ko]=T6r(e[ko],t)),e[ES]!=null&&(r[ES]=Y8r(e[ES],t)),e[gS]!=null&&(r[gS]=f8r(e[gS],t)),r},"de_Destination"),I6r=y((e,t)=>{let r={};return e[Nie]!=null&&(r[Nie]=(0,m.expectString)(e[Nie])),e[Wf]!=null&&(r[Wf]=(0,m.expectString)(e[Wf])),e[Hw]!=null&&(r[Hw]=(0,m.expectString)(e[Hw])),r},"de_DestinationResult"),T6r=y((e,t)=>{let r={};return e[dG]!=null&&(r[dG]=(0,m.expectString)(e[dG])),r},"de_EncryptionConfiguration"),O6r=y((e,t)=>({}),"de_EndEvent"),N6r=y((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[At]!=null&&(r[At]=(0,m.expectString)(e[At])),e[iie]!=null&&(r[iie]=(0,m.expectString)(e[iie])),e[Sie]!=null&&(r[Sie]=(0,m.expectString)(e[Sie])),r},"de__Error"),Eoe=y((e,t)=>{let r={};return e[WH]!=null&&(r[WH]=(0,m.expectString)(e[WH])),e[KH]!=null&&(r[KH]=(0,m.expectString)(e[KH])),r},"de_ErrorDetails"),D6r=y((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),r},"de_ErrorDocument"),k6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>N6r(r,t)),"de_Errors"),M6r=y((e,t)=>({}),"de_EventBridgeConfiguration"),Coe=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_EventList"),L6r=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),r},"de_ExistingObjectReplication"),U6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_ExposeHeaders"),B6r=y((e,t)=>{let r={};return e[Yn]!=null&&(r[Yn]=(0,m.expectString)(e[Yn])),e[yc]!=null&&(r[yc]=(0,m.expectString)(e[yc])),r},"de_FilterRule"),F6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>B6r(r,t)),"de_FilterRuleList"),q6r=y((e,t)=>{let r={};return e[yie]!=null&&(r[yie]=u8r(e[yie],t)),r},"de_GetBucketMetadataConfigurationResult"),j6r=y((e,t)=>{let r={};return e[_ie]!=null&&(r[_ie]=m8r(e[_ie],t)),e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),e[Md]!=null&&(r[Md]=Eoe(e[Md],t)),r},"de_GetBucketMetadataTableConfigurationResult"),$6r=y((e,t)=>{let r={};return e[Xw]!=null&&(r[Z5r]=(0,m.strictParseInt32)(e[Xw])),e[xh]!=null&&(r[xh]=(0,m.expectString)(e[xh])),e[Uw]!=null&&(r[Uw]=(0,m.expectString)(e[Uw])),e[Gf]!=null&&(r[Gf]=(0,m.strictParseInt32)(e[Gf])),e[Tr]!=null&&(r[Tr]=(0,m.parseBoolean)(e[Tr])),e.Part===""?r[CO]=[]:e[DG]!=null&&(r[CO]=L8r((0,m.getArrayIfSingleItem)(e[DG]),t)),r},"de_GetObjectAttributesParts"),z6r=y((e,t)=>{let r={};return e[hc]!=null&&(r[hc]=cyt(e[hc],t)),e[Yu]!=null&&(r[Yu]=(0,m.expectString)(e[Yu])),r},"de_Grant"),cyt=y((e,t)=>{let r={};return e[kd]!=null&&(r[kd]=(0,m.expectString)(e[kd])),e[VH]!=null&&(r[VH]=(0,m.expectString)(e[VH])),e[ps]!=null&&(r[ps]=(0,m.expectString)(e[ps])),e[wG]!=null&&(r[wG]=(0,m.expectString)(e[wG])),e[Igt]!=null&&(r[Fa]=(0,m.expectString)(e[Igt])),r},"de_Grantee"),lyt=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>z6r(r,t)),"de_Grants"),H6r=y((e,t)=>{let r={};return e[SG]!=null&&(r[SG]=(0,m.expectString)(e[SG])),r},"de_IndexDocument"),dyt=y((e,t)=>{let r={};return e[ps]!=null&&(r[ps]=(0,m.expectString)(e[ps])),e[kd]!=null&&(r[kd]=(0,m.expectString)(e[kd])),r},"de_Initiator"),G6r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e.Tag===""?r[Lo]=[]:e[pt]!=null&&(r[Lo]=kS((0,m.getArrayIfSingleItem)(e[pt]),t)),r},"de_IntelligentTieringAndOperator"),uyt=y((e,t)=>{let r={};return e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e[Ve]!=null&&(r[Ve]=W6r(e[Ve],t)),e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),e.Tiering===""?r[uoe]=[]:e[moe]!=null&&(r[uoe]=SXr((0,m.getArrayIfSingleItem)(e[moe]),t)),r},"de_IntelligentTieringConfiguration"),V6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>uyt(r,t)),"de_IntelligentTieringConfigurationList"),W6r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e[pt]!=null&&(r[pt]=Qw(e[pt],t)),e[En]!=null&&(r[En]=G6r(e[En],t)),r},"de_IntelligentTieringFilter"),myt=y((e,t)=>{let r={};return e[di]!=null&&(r[di]=X6r(e[di],t)),e[Y_]!=null&&(r[Y_]=(0,m.parseBoolean)(e[Y_])),e[Ve]!=null&&(r[Ve]=Y6r(e[Ve],t)),e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e[Iw]!=null&&(r[Iw]=(0,m.expectString)(e[Iw])),e.OptionalFields===""?r[mw]=[]:e[mw]!=null&&e[mw][Xie]!=null&&(r[mw]=Q6r((0,m.getArrayIfSingleItem)(e[mw][Xie]),t)),e[zw]!=null&&(r[zw]=e8r(e[zw],t)),r},"de_InventoryConfiguration"),K6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>myt(r,t)),"de_InventoryConfigurationList"),X6r=y((e,t)=>{let r={};return e[Zl]!=null&&(r[Zl]=Z6r(e[Zl],t)),r},"de_InventoryDestination"),J6r=y((e,t)=>{let r={};return e[LG]!=null&&(r[coe]=uXr(e[LG],t)),e[MG]!=null&&(r[aoe]=lXr(e[MG],t)),r},"de_InventoryEncryption"),Y6r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),r},"de_InventoryFilter"),Q6r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,m.expectString)(r)),"de_InventoryOptionalFields"),Z6r=y((e,t)=>{let r={};return e[gw]!=null&&(r[gw]=(0,m.expectString)(e[gw])),e[Yt]!=null&&(r[Yt]=(0,m.expectString)(e[Yt])),e[Vl]!=null&&(r[Vl]=(0,m.expectString)(e[Vl])),e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e[Ju]!=null&&(r[Ju]=J6r(e[Ju],t)),r},"de_InventoryS3BucketDestination"),e8r=y((e,t)=>{let r={};return e[Pw]!=null&&(r[Pw]=(0,m.expectString)(e[Pw])),r},"de_InventorySchedule"),t8r=y((e,t)=>{let r={};return e[Hf]!=null&&(r[Hf]=(0,m.expectString)(e[Hf])),e[Gw]!=null&&(r[Gw]=(0,m.expectString)(e[Gw])),e[Md]!=null&&(r[Md]=Eoe(e[Md],t)),e[ed]!=null&&(r[ed]=(0,m.expectString)(e[ed])),e[Vf]!=null&&(r[Vf]=(0,m.expectString)(e[Vf])),r},"de_InventoryTableConfigurationResult"),r8r=y((e,t)=>{let r={};return e[Gw]!=null&&(r[Gw]=(0,m.expectString)(e[Gw])),e[Md]!=null&&(r[Md]=Eoe(e[Md],t)),e[ed]!=null&&(r[ed]=(0,m.expectString)(e[ed])),e[Vf]!=null&&(r[Vf]=(0,m.expectString)(e[Vf])),e[Qu]!=null&&(r[Qu]=$8r(e[Qu],t)),r},"de_JournalTableConfigurationResult"),n8r=y((e,t)=>{let r={};return e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e[$ie]!=null&&(r[tG]=(0,m.expectString)(e[$ie])),e.Event===""?r[Kf]=[]:e[IS]!=null&&(r[Kf]=Coe((0,m.getArrayIfSingleItem)(e[IS]),t)),e[Ve]!=null&&(r[Ve]=boe(e[Ve],t)),r},"de_LambdaFunctionConfiguration"),s8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>n8r(r,t)),"de_LambdaFunctionConfigurationList"),i8r=y((e,t)=>{let r={};return e[ma]!=null&&(r[ma]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[ma]))),e[$t]!=null&&(r[$t]=(0,m.strictParseInt32)(e[$t])),e[J_]!=null&&(r[J_]=(0,m.parseBoolean)(e[J_])),r},"de_LifecycleExpiration"),o8r=y((e,t)=>{let r={};return e[js]!=null&&(r[js]=i8r(e[js],t)),e[ps]!=null&&(r[ps]=(0,m.expectString)(e[ps])),e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e[Ve]!=null&&(r[Ve]=c8r(e[Ve],t)),e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),e.Transition===""?r[poe]=[]:e[goe]!=null&&(r[poe]=bXr((0,m.getArrayIfSingleItem)(e[goe]),t)),e.NoncurrentVersionTransition===""?r[toe]=[]:e[roe]!=null&&(r[toe]=E8r((0,m.getArrayIfSingleItem)(e[roe]),t)),e[hS]!=null&&(r[hS]=S8r(e[hS],t)),e[sS]!=null&&(r[sS]=n6r(e[sS],t)),r},"de_LifecycleRule"),a8r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e.Tag===""?r[Lo]=[]:e[pt]!=null&&(r[Lo]=kS((0,m.getArrayIfSingleItem)(e[pt]),t)),e[Yl]!=null&&(r[Yl]=(0,m.strictParseLong)(e[Yl])),e[Ql]!=null&&(r[Ql]=(0,m.strictParseLong)(e[Ql])),r},"de_LifecycleRuleAndOperator"),c8r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e[pt]!=null&&(r[pt]=Qw(e[pt],t)),e[Yl]!=null&&(r[Yl]=(0,m.strictParseLong)(e[Yl])),e[Ql]!=null&&(r[Ql]=(0,m.strictParseLong)(e[Ql])),e[En]!=null&&(r[En]=a8r(e[En],t)),r},"de_LifecycleRuleFilter"),l8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>o8r(r,t)),"de_LifecycleRules"),d8r=y((e,t)=>{let r={};return e[EG]!=null&&(r[EG]=(0,m.expectString)(e[EG])),e.TargetGrants===""?r[pw]=[]:e[pw]!=null&&e[pw][Xf]!=null&&(r[pw]=hXr((0,m.getArrayIfSingleItem)(e[pw][Xf]),t)),e[CG]!=null&&(r[CG]=(0,m.expectString)(e[CG])),e[RS]!=null&&(r[RS]=yXr(e[RS],t)),r},"de_LoggingEnabled"),u8r=y((e,t)=>{let r={};return e[aie]!=null&&(r[aie]=I6r(e[aie],t)),e[pie]!=null&&(r[pie]=r8r(e[pie],t)),e[mie]!=null&&(r[mie]=t8r(e[mie],t)),r},"de_MetadataConfigurationResult"),m8r=y((e,t)=>{let r={};return e[Tie]!=null&&(r[Tie]=tXr(e[Tie],t)),r},"de_MetadataTableConfigurationResult"),f8r=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),e[Aw]!=null&&(r[Aw]=gyt(e[Aw],t)),r},"de_Metrics"),p8r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e.Tag===""?r[Lo]=[]:e[pt]!=null&&(r[Lo]=kS((0,m.getArrayIfSingleItem)(e[pt]),t)),e[$f]!=null&&(r[$f]=(0,m.expectString)(e[$f])),r},"de_MetricsAndOperator"),fyt=y((e,t)=>{let r={};return e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e.Filter===""||e[Ve]!=null&&(r[Ve]=h8r((0,m.expectUnion)(e[Ve]),t)),r},"de_MetricsConfiguration"),g8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>fyt(r,t)),"de_MetricsConfigurationList"),h8r=y((e,t)=>e[ge]!=null?{Prefix:(0,m.expectString)(e[ge])}:e[pt]!=null?{Tag:Qw(e[pt],t)}:e[$f]!=null?{AccessPointArn:(0,m.expectString)(e[$f])}:e[En]!=null?{And:p8r(e[En],t)}:{$unknown:Object.entries(e)[0]},"de_MetricsFilter"),y8r=y((e,t)=>{let r={};return e[qa]!=null&&(r[qa]=(0,m.expectString)(e[qa])),e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[fie]!=null&&(r[fie]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[fie]))),e[Et]!=null&&(r[Et]=(0,m.expectString)(e[Et])),e[lr]!=null&&(r[lr]=Ih(e[lr],t)),e[Ow]!=null&&(r[Ow]=dyt(e[Ow],t)),e[lt]!=null&&(r[lt]=(0,m.expectString)(e[lt])),e[cn]!=null&&(r[cn]=(0,m.expectString)(e[cn])),r},"de_MultipartUpload"),_8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>y8r(r,t)),"de_MultipartUploadList"),S8r=y((e,t)=>{let r={};return e[Xl]!=null&&(r[Xl]=(0,m.strictParseInt32)(e[Xl])),e[Jl]!=null&&(r[Jl]=(0,m.strictParseInt32)(e[Jl])),r},"de_NoncurrentVersionExpiration"),v8r=y((e,t)=>{let r={};return e[Xl]!=null&&(r[Xl]=(0,m.strictParseInt32)(e[Xl])),e[Et]!=null&&(r[Et]=(0,m.expectString)(e[Et])),e[Jl]!=null&&(r[Jl]=(0,m.strictParseInt32)(e[Jl])),r},"de_NoncurrentVersionTransition"),E8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>v8r(r,t)),"de_NoncurrentVersionTransitionList"),boe=y((e,t)=>{let r={};return e[ooe]!=null&&(r[it]=eXr(e[ooe],t)),r},"de_NotificationConfigurationFilter"),C8r=y((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[gs]!=null&&(r[gs]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[gs]))),e[Kr]!=null&&(r[Kr]=(0,m.expectString)(e[Kr])),e.ChecksumAlgorithm===""?r[lt]=[]:e[lt]!=null&&(r[lt]=ayt((0,m.getArrayIfSingleItem)(e[lt]),t)),e[cn]!=null&&(r[cn]=(0,m.expectString)(e[cn])),e[Zi]!=null&&(r[Zi]=(0,m.strictParseLong)(e[Zi])),e[Et]!=null&&(r[Et]=(0,m.expectString)(e[Et])),e[lr]!=null&&(r[lr]=Ih(e[lr],t)),e[qw]!=null&&(r[qw]=hyt(e[qw],t)),r},"de__Object"),pyt=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>C8r(r,t)),"de_ObjectList"),b8r=y((e,t)=>{let r={};return e[oG]!=null&&(r[oG]=(0,m.expectString)(e[oG])),e[Ba]!=null&&(r[Ba]=A8r(e[Ba],t)),r},"de_ObjectLockConfiguration"),w8r=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),r},"de_ObjectLockLegalHold"),x8r=y((e,t)=>{let r={};return e[Kl]!=null&&(r[Kl]=(0,m.expectString)(e[Kl])),e[jw]!=null&&(r[jw]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[jw]))),r},"de_ObjectLockRetention"),A8r=y((e,t)=>{let r={};return e[aS]!=null&&(r[aS]=C6r(e[aS],t)),r},"de_ObjectLockRule"),P8r=y((e,t)=>{let r={};return e[Ua]!=null&&(r[Ua]=(0,m.strictParseInt32)(e[Ua])),e[Zi]!=null&&(r[Zi]=(0,m.strictParseLong)(e[Zi])),e[rn]!=null&&(r[rn]=(0,m.expectString)(e[rn])),e[nn]!=null&&(r[nn]=(0,m.expectString)(e[nn])),e[sn]!=null&&(r[sn]=(0,m.expectString)(e[sn])),e[on]!=null&&(r[on]=(0,m.expectString)(e[on])),e[an]!=null&&(r[an]=(0,m.expectString)(e[an])),r},"de_ObjectPart"),R8r=y((e,t)=>{let r={};return e[Kr]!=null&&(r[Kr]=(0,m.expectString)(e[Kr])),e.ChecksumAlgorithm===""?r[lt]=[]:e[lt]!=null&&(r[lt]=ayt((0,m.getArrayIfSingleItem)(e[lt]),t)),e[cn]!=null&&(r[cn]=(0,m.expectString)(e[cn])),e[Zi]!=null&&(r[Zi]=(0,m.strictParseLong)(e[Zi])),e[Et]!=null&&(r[Et]=(0,m.expectString)(e[Et])),e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[At]!=null&&(r[At]=(0,m.expectString)(e[At])),e[Rw]!=null&&(r[Rw]=(0,m.parseBoolean)(e[Rw])),e[gs]!=null&&(r[gs]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[gs]))),e[lr]!=null&&(r[lr]=Ih(e[lr],t)),e[qw]!=null&&(r[qw]=hyt(e[qw],t)),r},"de_ObjectVersion"),I8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>R8r(r,t)),"de_ObjectVersionList"),Ih=y((e,t)=>{let r={};return e[kd]!=null&&(r[kd]=(0,m.expectString)(e[kd])),e[ps]!=null&&(r[ps]=(0,m.expectString)(e[ps])),r},"de_Owner"),T8r=y((e,t)=>{let r={};return e.Rule===""?r[td]=[]:e[Ba]!=null&&(r[td]=N8r((0,m.getArrayIfSingleItem)(e[Ba]),t)),r},"de_OwnershipControls"),O8r=y((e,t)=>{let r={};return e[vO]!=null&&(r[vO]=(0,m.expectString)(e[vO])),r},"de_OwnershipControlsRule"),N8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>O8r(r,t)),"de_OwnershipControlsRules"),D8r=y((e,t)=>{let r={};return e[Ua]!=null&&(r[Ua]=(0,m.strictParseInt32)(e[Ua])),e[gs]!=null&&(r[gs]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[gs]))),e[Kr]!=null&&(r[Kr]=(0,m.expectString)(e[Kr])),e[Zi]!=null&&(r[Zi]=(0,m.strictParseLong)(e[Zi])),e[rn]!=null&&(r[rn]=(0,m.expectString)(e[rn])),e[nn]!=null&&(r[nn]=(0,m.expectString)(e[nn])),e[sn]!=null&&(r[sn]=(0,m.expectString)(e[sn])),e[on]!=null&&(r[on]=(0,m.expectString)(e[on])),e[an]!=null&&(r[an]=(0,m.expectString)(e[an])),r},"de_Part"),k8r=y((e,t)=>{let r={};return e[aG]!=null&&(r[aG]=(0,m.expectString)(e[aG])),r},"de_PartitionedPrefix"),M8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>D8r(r,t)),"de_Parts"),L8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>P8r(r,t)),"de_PartsList"),U8r=y((e,t)=>{let r={};return e[die]!=null&&(r[die]=(0,m.parseBoolean)(e[die])),r},"de_PolicyStatus"),B8r=y((e,t)=>{let r={};return e[bw]!=null&&(r[bw]=(0,m.strictParseLong)(e[bw])),e[Sw]!=null&&(r[Sw]=(0,m.strictParseLong)(e[Sw])),e[Cw]!=null&&(r[Cw]=(0,m.strictParseLong)(e[Cw])),r},"de_Progress"),F8r=y((e,t)=>{let r={};return e[vw]!=null&&(r[vw]=(0,m.parseBoolean)(e[vw])),e[Tw]!=null&&(r[Tw]=(0,m.parseBoolean)(e[Tw])),e[Ew]!=null&&(r[Ew]=(0,m.parseBoolean)(e[Ew])),e[Fw]!=null&&(r[Fw]=(0,m.parseBoolean)(e[Fw])),r},"de_PublicAccessBlockConfiguration"),q8r=y((e,t)=>{let r={};return e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e[ioe]!=null&&(r[lG]=(0,m.expectString)(e[ioe])),e.Event===""?r[Kf]=[]:e[IS]!=null&&(r[Kf]=Coe((0,m.getArrayIfSingleItem)(e[IS]),t)),e[Ve]!=null&&(r[Ve]=boe(e[Ve],t)),r},"de_QueueConfiguration"),j8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>q8r(r,t)),"de_QueueConfigurationList"),$8r=y((e,t)=>{let r={};return e[js]!=null&&(r[js]=(0,m.expectString)(e[js])),e[$t]!=null&&(r[$t]=(0,m.strictParseInt32)(e[$t])),r},"de_RecordExpiration"),z8r=y((e,t)=>{let r={};return e[bh]!=null&&(r[bh]=(0,m.expectString)(e[bh])),e[YH]!=null&&(r[YH]=(0,m.expectString)(e[YH])),e[Ah]!=null&&(r[Ah]=(0,m.expectString)(e[Ah])),e[uG]!=null&&(r[uG]=(0,m.expectString)(e[uG])),e[mG]!=null&&(r[mG]=(0,m.expectString)(e[mG])),r},"de_Redirect"),H8r=y((e,t)=>{let r={};return e[bh]!=null&&(r[bh]=(0,m.expectString)(e[bh])),e[Ah]!=null&&(r[Ah]=(0,m.expectString)(e[Ah])),r},"de_RedirectAllRequestsTo"),G8r=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),r},"de_ReplicaModifications"),V8r=y((e,t)=>{let r={};return e[pG]!=null&&(r[pG]=(0,m.expectString)(e[pG])),e.Rule===""?r[td]=[]:e[Ba]!=null&&(r[td]=J8r((0,m.getArrayIfSingleItem)(e[Ba]),t)),r},"de_ReplicationConfiguration"),W8r=y((e,t)=>{let r={};return e[ps]!=null&&(r[ps]=(0,m.expectString)(e[ps])),e[eS]!=null&&(r[eS]=(0,m.strictParseInt32)(e[eS])),e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e[Ve]!=null&&(r[Ve]=X8r(e[Ve],t)),e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),e[AS]!=null&&(r[AS]=cXr(e[AS],t)),e[dS]!=null&&(r[dS]=L6r(e[dS],t)),e[di]!=null&&(r[di]=R6r(e[di],t)),e[oS]!=null&&(r[oS]=A6r(e[oS],t)),r},"de_ReplicationRule"),K8r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e.Tag===""?r[Lo]=[]:e[pt]!=null&&(r[Lo]=kS((0,m.getArrayIfSingleItem)(e[pt]),t)),r},"de_ReplicationRuleAndOperator"),X8r=y((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,m.expectString)(e[ge])),e[pt]!=null&&(r[pt]=Qw(e[pt],t)),e[En]!=null&&(r[En]=K8r(e[En],t)),r},"de_ReplicationRuleFilter"),J8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>W8r(r,t)),"de_ReplicationRules"),Y8r=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),e[Vw]!=null&&(r[Vw]=gyt(e[Vw],t)),r},"de_ReplicationTime"),gyt=y((e,t)=>{let r={};return e[Z_]!=null&&(r[Z_]=(0,m.strictParseInt32)(e[Z_])),r},"de_ReplicationTimeValue"),hyt=y((e,t)=>{let r={};return e[uie]!=null&&(r[uie]=(0,m.parseBoolean)(e[uie])),e[Aie]!=null&&(r[Aie]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[Aie]))),r},"de_RestoreStatus"),Q8r=y((e,t)=>{let r={};return e[iS]!=null&&(r[iS]=h6r(e[iS],t)),e[CS]!=null&&(r[CS]=z8r(e[CS],t)),r},"de_RoutingRule"),Z8r=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Q8r(r,t)),"de_RoutingRules"),eXr=y((e,t)=>{let r={};return e.FilterRule===""?r[Kie]=[]:e[Wie]!=null&&(r[Kie]=F6r((0,m.getArrayIfSingleItem)(e[Wie]),t)),r},"de_S3KeyFilter"),tXr=y((e,t)=>{let r={};return e[Wf]!=null&&(r[Wf]=(0,m.expectString)(e[Wf])),e[ed]!=null&&(r[ed]=(0,m.expectString)(e[ed])),e[Vf]!=null&&(r[Vf]=(0,m.expectString)(e[Vf])),e[Hw]!=null&&(r[Hw]=(0,m.expectString)(e[Hw])),r},"de_S3TablesDestinationResult"),rXr=y((e,t)=>{let r={};return e[$w]!=null&&(r[$w]=(0,m.expectString)(e[$w])),e[kw]!=null&&(r[kw]=(0,m.expectString)(e[kw])),r},"de_ServerSideEncryptionByDefault"),nXr=y((e,t)=>{let r={};return e.Rule===""?r[td]=[]:e[Ba]!=null&&(r[td]=iXr((0,m.getArrayIfSingleItem)(e[Ba]),t)),r},"de_ServerSideEncryptionConfiguration"),sXr=y((e,t)=>{let r={};return e[hw]!=null&&(r[hw]=rXr(e[hw],t)),e[vn]!=null&&(r[vn]=(0,m.parseBoolean)(e[vn])),r},"de_ServerSideEncryptionRule"),iXr=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>sXr(r,t)),"de_ServerSideEncryptionRules"),oXr=y((e,t)=>{let r={};return e[eie]!=null&&(r[eie]=(0,m.expectString)(e[eie])),e[Pie]!=null&&(r[Pie]=(0,m.expectString)(e[Pie])),e[Iie]!=null&&(r[Iie]=(0,m.expectString)(e[Iie])),e[js]!=null&&(r[js]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[js]))),r},"de_SessionCredentials"),aXr=y((e,t)=>({}),"de_SimplePrefix"),cXr=y((e,t)=>{let r={};return e[wS]!=null&&(r[wS]=dXr(e[wS],t)),e[vS]!=null&&(r[vS]=G8r(e[vS],t)),r},"de_SourceSelectionCriteria"),lXr=y((e,t)=>{let r={};return e[Dw]!=null&&(r[Dw]=(0,m.expectString)(e[Dw])),r},"de_SSEKMS"),dXr=y((e,t)=>{let r={};return e[Ce]!=null&&(r[Ce]=(0,m.expectString)(e[Ce])),r},"de_SseKmsEncryptedObjects"),uXr=y((e,t)=>({}),"de_SSES3"),mXr=y((e,t)=>{let r={};return e[bw]!=null&&(r[bw]=(0,m.strictParseLong)(e[bw])),e[Sw]!=null&&(r[Sw]=(0,m.strictParseLong)(e[Sw])),e[Cw]!=null&&(r[Cw]=(0,m.strictParseLong)(e[Cw])),r},"de_Stats"),fXr=y((e,t)=>{let r={};return e[xw]!=null&&(r[xw]=pXr(e[xw],t)),r},"de_StorageClassAnalysis"),pXr=y((e,t)=>{let r={};return e[Bw]!=null&&(r[Bw]=(0,m.expectString)(e[Bw])),e[di]!=null&&(r[di]=d6r(e[di],t)),r},"de_StorageClassAnalysisDataExport"),Qw=y((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,m.expectString)(e[it])),e[yc]!=null&&(r[yc]=(0,m.expectString)(e[yc])),r},"de_Tag"),kS=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Qw(r,t)),"de_TagSet"),gXr=y((e,t)=>{let r={};return e[hc]!=null&&(r[hc]=cyt(e[hc],t)),e[Yu]!=null&&(r[Yu]=(0,m.expectString)(e[Yu])),r},"de_TargetGrant"),hXr=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>gXr(r,t)),"de_TargetGrants"),yXr=y((e,t)=>{let r={};return e[xS]!=null&&(r[xS]=aXr(e[xS],t)),e[_S]!=null&&(r[_S]=k8r(e[_S],t)),r},"de_TargetObjectKeyFormat"),_Xr=y((e,t)=>{let r={};return e[$t]!=null&&(r[$t]=(0,m.strictParseInt32)(e[$t])),e[zf]!=null&&(r[zf]=(0,m.expectString)(e[zf])),r},"de_Tiering"),SXr=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>_Xr(r,t)),"de_TieringList"),vXr=y((e,t)=>{let r={};return e[We]!=null&&(r[We]=(0,m.expectString)(e[We])),e[foe]!=null&&(r[vG]=(0,m.expectString)(e[foe])),e.Event===""?r[Kf]=[]:e[IS]!=null&&(r[Kf]=Coe((0,m.getArrayIfSingleItem)(e[IS]),t)),e[Ve]!=null&&(r[Ve]=boe(e[Ve],t)),r},"de_TopicConfiguration"),EXr=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vXr(r,t)),"de_TopicConfigurationList"),CXr=y((e,t)=>{let r={};return e[ma]!=null&&(r[ma]=(0,m.expectNonNull)((0,m.parseRfc3339DateTimeWithOffset)(e[ma]))),e[$t]!=null&&(r[$t]=(0,m.strictParseInt32)(e[$t])),e[Et]!=null&&(r[Et]=(0,m.expectString)(e[Et])),r},"de_Transition"),bXr=y((e,t)=>(e||[]).filter(r=>r!=null).map(r=>CXr(r,t)),"de_TransitionList"),X=y(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),wXr=y((e,t)=>(0,m.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),En="And",xXr="AnalyticsAndOperator",Mie="AnalyticsConfiguration",Zw="ACL",rS="AccessControlList",sgt="AnalyticsConfigurationList",AXr="AccessControlPolicy",nS="AccessControlTranslation",PXr="AccelerateConfiguration",yyt="AbortDate",RXr="AnalyticsExportDestination",IXr="AnalyticsFilter",Lie="AllowedHeader",Uie="AllowedHeaders",TXr="AnalyticsId",sS="AbortIncompleteMultipartUpload",gw="AccountId",eie="AccessKeyId",Bie="AllowedMethod",Fie="AllowedMethods",qie="AllowedOrigin",jie="AllowedOrigins",OXr="AccessPointAlias",$f="AccessPointArn",FH="AllowQuotedRecordDelimiter",woe="AcceptRanges",_yt="AbortRuleId",NXr="ArchiveStatus",DXr="AnalyticsS3BucketDestination",kXr="AnalyticsS3ExportFileFormat",hw="ApplyServerSideEncryptionByDefault",zf="AccessTier",yw="Account",Yt="Bucket",_O="BucketArn",_w="BucketAccountId",MXr="BucketAccelerateStatus",Ww="BypassGovernanceRetention",LXr="BucketInfo",vn="BucketKeyEnabled",UXr="BucketLifecycleConfiguration",BXr="BucketLocationConstraint",FXr="BucketLocationName",qXr="BucketLogsPermission",jXr="BucketLoggingStatus",$Xr="BucketLocationType",GG="BucketName",Sw="BytesProcessed",vw="BlockPublicAcls",Ew="BlockPublicPolicy",SO="BucketRegion",Cw="BytesReturned",bw="BytesScanned",zXr="BucketType",HXr="BucketVersioningStatus",Xu="Buckets",tie="Credentials",lt="ChecksumAlgorithm",rie="CannedACL",GXr="CreateBucketConfiguration",e0="CacheControl",rn="ChecksumCRC32",nn="ChecksumCRC32C",sn="ChecksumCRC64NVME",t0="ContentDisposition",nie="CreationDate",r0="ContentEncoding",$ie="CloudFunction",igt="CloudFunctionConfiguration",n0="ContentLanguage",Ph="ContentLength",Syt="ChecksumMode",hs="ContentMD5",VXr="CompletedMultipartUpload",WXr="CORSConfiguration",zie="CORSRule",Hie="CORSRules",No="CommonPrefixes",KXr="CompletedPart",xoe="ContentRange",ogt="ConfirmRemoveSelfBucketAccess",vyt="CopySource",on="ChecksumSHA1",an="ChecksumSHA256",Eyt="CopySourceIfMatch",RG="CopySourceIfModifiedSince",Cyt="CopySourceIfNoneMatch",IG="CopySourceIfUnmodifiedSince",XXr="CopySourceRange",byt="CopySourceSSECustomerAlgorithm",wyt="CopySourceSSECustomerKey",xyt="CopySourceSSECustomerKeyMD5",ww="CSV",Ayt="CopySourceVersionId",JXr="CSVInput",YXr="CSVOutput",Hf="ConfigurationState",cn="ChecksumType",QXr="ClientToken",s0="ContentType",ZXr="CompressionType",Wr="ContinuationToken",sie="Checksum",Ch="Contents",iie="Code",eJr="Comments",iS="Condition",Do="Delimiter",X_="DaysAfterInitiation",xw="DataExport",tJr="DestinationIfMatch",agt="DestinationIfModifiedSince",rJr="DestinationIfNoneMatch",cgt="DestinationIfUnmodifiedSince",Dd="DeleteMarker",oS="DeleteMarkerReplication",nJr="DeleteMarkerReplicationStatus",oie="DeleteMarkerVersionId",lgt="DeleteMarkers",kd="DisplayName",sJr="DataRedundancy",aS="DefaultRetention",aie="DestinationResult",$t="Days",ma="Date",qH="Deleted",iJr="Delete",di="Destination",oJr="Description",Zu="Expires",VH="EmailAddress",cS="EventBridgeConfiguration",me="ExpectedBucketOwner",WH="ErrorCode",ko="EncryptionConfiguration",lS="ErrorDocument",Gie="ExposeHeaders",Vie="ExposeHeader",KH="ErrorMessage",J_="ExpiredObjectDeleteMarker",dS="ExistingObjectReplication",aJr="ExistingObjectReplicationStatus",cJr="EnableRequestProgress",Pyt="ExpiresString",Ryt="ExpectedSourceBucketOwner",lJr="ExpirationStatus",dJr="ExpirationState",Mo="EncodingType",Kr="ETag",cie="EncryptionType",Aw="EventThreshold",Iyt="ExpressionType",Ju="Encryption",lie="Enabled",jH="End",Md="Error",dgt="Errors",IS="Event",Kf="Events",Tyt="Expression",js="Expiration",Ve="Filter",Oyt="FieldDelimiter",uJr="FileHeaderInfo",mJr="FetchOwner",Wie="FilterRule",fJr="FilterRuleName",pJr="FilterRuleValue",Kie="FilterRules",Xie="Field",Vl="Format",Pw="Frequency",Xf="Grant",i0="GrantFullControl",XH="GlacierJobParameters",o0="GrantRead",a0="GrantReadACP",Aoe="GrantWrite",c0="GrantWriteACP",EO="Grants",hc="Grantee",JH="HttpErrorCodeReturnedEquals",bh="HostName",YH="HttpRedirectCode",We="Id",Jie="InventoryConfiguration",ugt="InventoryConfigurationList",Nyt="InventoryConfigurationState",uS="IndexDocument",ps="ID",gJr="InventoryDestination",Y_="IsEnabled",hJr="InventoryEncryption",yJr="InventoryFilter",_Jr="InventoryFormat",SJr="InventoryFrequency",vJr="InventoryId",EJr="InventoryIncludedObjectVersions",Rw="IsLatest",bO="IfMatch",mgt="IfMatchInitiatedTime",fgt="IfMatchLastModifiedTime",pgt="IfMatchSize",TG="IfModifiedSince",VG="IfNoneMatch",CJr="InventoryOptionalField",Iw="IncludedObjectVersions",die="IsPublic",Tw="IgnorePublicAcls",uie="IsRestoreInProgress",mS="InputSerialization",bJr="InventoryS3BucketDestination",wJr="InventorySchedule",Tr="IsTruncated",xJr="IntelligentTieringAndOperator",AJr="IntelligentTieringAccessTier",Yie="IntelligentTieringConfiguration",ggt="IntelligentTieringConfigurationList",mie="InventoryTableConfigurationResult",PJr="InventoryTableConfigurationUpdates",QH="InventoryTableConfiguration",RJr="IntelligentTieringDays",IJr="IntelligentTieringFilter",TJr="IntelligentTieringId",OJr="IntelligentTieringStatus",OG="IfUnmodifiedSince",Ow="Initiator",fie="Initiated",Nw="JSON",NJr="JSONInput",DJr="JSONOutput",kJr="JSONType",ZH="JournalTableConfiguration",pie="JournalTableConfigurationResult",MJr="JournalTableConfigurationUpdates",it="Key",gie="KeyCount",Dw="KeyId",LJr="KmsKeyArn",wh="KeyMarker",UJr="KMSContext",hie="KMSKeyId",kw="KMSMasterKeyID",eG="KeyPrefixEquals",fS="Location",Mw="LocationConstraint",pS="LoggingEnabled",BJr="LifecycleExpiration",tG="LambdaFunctionArn",Qie="LambdaFunctionConfigurations",FJr="LambdaFunctionConfiguration",qJr="LocationInfo",gs="LastModified",$H="LastModifiedTime",jJr="LocationNameAsString",$Jr="LocationPrefix",zJr="LifecycleRule",HJr="LifecycleRuleAndOperator",GJr="LifecycleRuleFilter",VJr="LocationType",rG="Marker",WJr="MetricsAndOperator",Q_="MaxAgeSeconds",KJr="MaxBuckets",Zie="MetricsConfiguration",hgt="MetricsConfigurationList",yie="MetadataConfigurationResult",XJr="MetadataConfiguration",JJr="MetadataDirective",YJr="MaxDirectoryBuckets",eoe="MfaDelete",Dyt="MetadataEntry",QJr="MetricsFilter",Poe="MFA",nG="MFADelete",ZJr="MetricsId",Wl="MaxKeys",e5r="MetadataKey",NG="MissingMeta",ygt="MpuObjectSize",Gf="MaxParts",t5r="MetricsStatus",r5r="MetadataTableConfiguration",_ie="MetadataTableConfigurationResult",n5r="MetadataTableEncryptionConfiguration",sG="MaxUploads",s5r="MetadataValue",gS="Metrics",Sie="Message",Z_="Minutes",Kl="Mode",Yn="Name",i5r="NotificationConfiguration",o5r="NotificationConfigurationFilter",fa="NextContinuationToken",Xl="NoncurrentDays",Roe="NotificationId",Lw="NextKeyMarker",vie="NextMarker",Jl="NewerNoncurrentVersions",Uw="NextPartNumberMarker",Eie="NextUploadIdMarker",hS="NoncurrentVersionExpiration",Cie="NextVersionIdMarker",toe="NoncurrentVersionTransitions",roe="NoncurrentVersionTransition",lr="Owner",_gt="ObjectAttributes",a5r="OwnershipControls",c5r="ObjectCannedACL",l5r="OwnershipControlsRule",mw="OptionalFields",d5r="ObjectIdentifier",Ioe="ObjectKey",iG="OutputLocation",u5r="ObjectLockConfiguration",oG="ObjectLockEnabled",Sgt="ObjectLockEnabledForBucket",m5r="ObjectLockLegalHold",MS="ObjectLockLegalHoldStatus",l0="ObjectLockMode",f5r="ObjectLockRetention",kyt="ObjectLockRetentionMode",em="ObjectLockRetainUntilDate",p5r="ObjectLockRule",vO="ObjectOwnership",Kw="OptionalObjectAttributes",g5r="OwnerOverride",bie="ObjectParts",yS="OutputSerialization",Yl="ObjectSizeGreaterThan",Myt="ObjectSizeGreaterThanBytes",Ql="ObjectSizeLessThan",Lyt="ObjectSizeLessThanBytes",Bw="OutputSchemaVersion",wie="ObjectSize",h5r="ObjectVersionId",y5r="Objects",ge="Prefix",_5r="PublicAccessBlockConfiguration",Xw="PartsCount",aG="PartitionDateSource",S5r="ParquetInput",Ua="PartNumber",xh="PartNumberMarker",_S="PartitionedPrefix",cG="Payer",DG="Part",xie="Parquet",CO="Parts",Yu="Permission",Ah="Protocol",eS="Priority",zH="Quiet",lG="QueueArn",noe="QueueConfiguration",soe="QueueConfigurations",Uyt="QuoteCharacter",Byt="QuoteEscapeCharacter",v5r="QuoteFields",ioe="Queue",Fyt="Range",SS="RedirectAllRequestsTo",Cn="RequestCharged",qyt="ResponseCacheControl",jyt="ResponseContentDisposition",$yt="ResponseContentEncoding",zyt="ResponseContentLanguage",Hyt="ResponseContentType",E5r="ReplicationConfiguration",Toe="RecordDelimiter",Gyt="ResponseExpires",C5r="RecordExpirationDays",Aie="RestoreExpiryDate",Qu="RecordExpiration",dG="ReplicaKmsKeyID",uG="ReplaceKeyPrefixWith",mG="ReplaceKeyWith",vS="ReplicaModifications",b5r="ReplicaModificationsStatus",w5r="RestoreOutputPath",jr="RequestPayer",Fw="RestrictPublicBuckets",x5r="RequestPaymentConfiguration",fG="RequestProgress",A5r="RequestRoute",P5r="ReplicationRuleAndOperator",R5r="ReplicationRuleFilter",I5r="ReplicationRuleStatus",T5r="RestoreRequestType",O5r="ReplicationRule",N5r="RestoreRequest",fw="RoutingRules",kG="RoutingRule",D5r="RenameSource",Ooe="ReplicationStatus",qw="RestoreStatus",k5r="RequestToken",M5r="ReplicationTimeStatus",L5r="ReplicationTimeValue",ES="ReplicationTime",jw="RetainUntilDate",Noe="Restore",CS="Redirect",pG="Role",Ba="Rule",td="Rules",Ce="Status",gG="StartAfter",Pie="SecretAccessKey",Rie="SseAlgorithm",Zl="S3BucketDestination",Et="StorageClass",bS="StorageClassAnalysis",U5r="StorageClassAnalysisDataExport",B5r="StorageClassAnalysisSchemaVersion",vgt="StatusCode",Egt="SkipDestinationValidation",F5r="SourceIfMatch",Cgt="SourceIfModifiedSince",q5r="SourceIfNoneMatch",bgt="SourceIfUnmodifiedSince",MG="SSE-KMS",wS="SseKmsEncryptedObjects",j5r="SseKmsEncryptedObjectsStatus",$5r="S3KeyFilter",ooe="S3Key",z5r="S3Location",H5r="SessionMode",G5r="SelectObjectContentRequest",hG="SelectParameters",xS="SimplePrefix",yG="ScanRange",LG="SSE-S3",AS="SourceSelectionCriteria",Bo="ServerSideEncryption",$w="SSEAlgorithm",V5r="ServerSideEncryptionByDefault",W5r="ServerSideEncryptionConfiguration",ui="SSECustomerAlgorithm",Ld="SSECustomerKey",mi="SSECustomerKeyMD5",aoe="SSEKMS",Th="SSEKMSEncryptionContext",eo="SSEKMSKeyId",K5r="ServerSideEncryptionRule",coe="SSES3",Iie="SessionToken",X5r="S3TablesBucketArn",_G="S3TablesDestination",Tie="S3TablesDestinationResult",J5r="S3TablesName",Oie="S3",zw="Schedule",HH="Setting",Zi="Size",GH="Start",SG="Suffix",PS="Tagging",vG="TopicArn",Vf="TableArn",EG="TargetBucket",Wf="TableBucketArn",Nie="TableBucketType",UG="TagCount",loe="TopicConfiguration",doe="TopicConfigurations",Y5r="TaggingDirective",Doe="TransitionDefaultMinimumObjectSize",pw="TargetGrants",Q5r="TargetGrant",ed="TableName",Hw="TableNamespace",RS="TargetObjectKeyFormat",CG="TargetPrefix",Z5r="TotalPartsCount",Nd="TagSet",e9r="TableSseAlgorithm",Vyt="TransitionStorageClass",Gw="TableStatus",pt="Tag",Lo="Tags",Wyt="Tier",uoe="Tierings",moe="Tiering",Vw="Time",Kyt="Token",foe="Topic",poe="Transitions",goe="Transition",Fa="Type",wgt="Upload",qa="UploadId",bG="UploadIdMarker",t9r="UserMetadata",wG="URI",xgt="Uploads",Agt="Version",Xyt="VersionCount",r9r="VersioningConfiguration",At="VersionId",xG="VersionIdMarker",yc="Value",Pgt="Versions",n9r="WebsiteConfiguration",Rgt="WriteOffsetBytes",wO="WebsiteRedirectLocation",tS="Years",WG="analytics",Jyt="accelerate",KG="acl",Yyt="accept-ranges",s9r="attributes",i9r="bucket-region",koe="cors",xO="cache-control",AO="content-disposition",PO="content-encoding",RO="content-language",TS="content-length",ys="content-md5",Qyt="content-range",IO="content-type",LS="continuation-token",o9r="delete",XG="delimiter",OS="expires",Moe="encryption",JG="encoding-type",YG="etag",Zyt="expiresstring",a9r="fetch-owner",rd="id",d0="if-match",Loe="if-modified-since",QG="inventory",TO="if-none-match",ZG="intelligent-tiering",Uoe="if-unmodified-since",e_t="key-marker",Boe="lifecycle",t_t="legal-hold",Jw="last-modified",r_t="location",n_t="logging",c9r="list-type",e3="metrics",Foe="metadataConfiguration",l9r="metadataInventoryTable",d9r="metadataJournalTable",qoe="metadataTable",u9r="marker",m9r="max-buckets",f9r="max-directory-buckets",fi="member",joe="max-keys",p9r="max-parts",g9r="max-uploads",s_t="notification",$oe="ownershipControls",i_t="object-lock",zoe="policy",Hoe="publicAccessBlock",t3="partNumber",h9r="policyStatus",y9r="part-number-marker",OO="prefix",Goe="replication",_9r="renameObject",o_t="requestPayment",a_t="range",c_t="response-cache-control",l_t="response-content-disposition",d_t="response-content-encoding",u_t="response-content-language",m_t="response-content-type",f_t="response-expires",S9r="restore",p_t="retention",v9r="session",E9r="start-after",C9r="select",b9r="select-type",u0="tagging",w9r="torrent",g_t="uploads",NO="uploadId",x9r="upload-id-marker",h_t="versioning",ja="versionId",wr='<?xml version="1.0" encoding="UTF-8"?>',A9r="versions",P9r="version-id-marker",Voe="website",Igt="xsi:type",m0="x-amz-acl",BG="x-amz-abort-date",Tgt="x-amz-access-point-alias",y_t="x-amz-abort-rule-id",R9r="x-amz-archive-status",__t="x-amz-bucket-arn",Woe="x-amz-bypass-governance-retention",I9r="x-amz-bucket-location-name",T9r="x-amz-bucket-location-type",O9r="x-amz-bucket-object-lock-enabled",S_t="x-amz-bucket-object-lock-token",N9r="x-amz-bucket-region",Koe="x-amz-checksum-algorithm",US="x-amz-checksum-crc32",BS="x-amz-checksum-crc32c",FS="x-amz-checksum-crc64nvme",v_t="x-amz-checksum-mode",D9r="x-amz-confirm-remove-self-bucket-access",qS="x-amz-checksum-sha1",jS="x-amz-checksum-sha256",E_t="x-amz-copy-source",C_t="x-amz-copy-source-if-match",b_t="x-amz-copy-source-if-modified-since",w_t="x-amz-copy-source-if-none-match",x_t="x-amz-copy-source-if-unmodified-since",k9r="x-amz-create-session-mode",M9r="x-amz-copy-source-range",A_t="x-amz-copy-source-server-side-encryption-customer-algorithm",P_t="x-amz-copy-source-server-side-encryption-customer-key",R_t="x-amz-copy-source-server-side-encryption-customer-key-md5",I_t="x-amz-copy-source-version-id",f0="x-amz-checksum-type",L9r="x-amz-client-token",Rh="x-amz-delete-marker",DO="x-amz-expiration",fe="x-amz-expected-bucket-owner",U9r="x-amz-fwd-error-code",B9r="x-amz-fwd-error-message",F9r="x-amz-fwd-header-accept-ranges",q9r="x-amz-fwd-header-cache-control",j9r="x-amz-fwd-header-content-disposition",$9r="x-amz-fwd-header-content-encoding",z9r="x-amz-fwd-header-content-language",H9r="x-amz-fwd-header-content-range",G9r="x-amz-fwd-header-content-type",V9r="x-amz-fwd-header-etag",W9r="x-amz-fwd-header-expires",K9r="x-amz-fwd-header-last-modified",X9r="x-amz-fwd-header-x-amz-checksum-crc32",J9r="x-amz-fwd-header-x-amz-checksum-crc32c",Y9r="x-amz-fwd-header-x-amz-checksum-crc64nvme",Q9r="x-amz-fwd-header-x-amz-checksum-sha1",Z9r="x-amz-fwd-header-x-amz-checksum-sha256",eYr="x-amz-fwd-header-x-amz-delete-marker",tYr="x-amz-fwd-header-x-amz-expiration",rYr="x-amz-fwd-header-x-amz-missing-meta",nYr="x-amz-fwd-header-x-amz-mp-parts-count",sYr="x-amz-fwd-header-x-amz-object-lock-legal-hold",iYr="x-amz-fwd-header-x-amz-object-lock-mode",oYr="x-amz-fwd-header-x-amz-object-lock-retain-until-date",aYr="x-amz-fwd-header-x-amz-restore",cYr="x-amz-fwd-header-x-amz-request-charged",lYr="x-amz-fwd-header-x-amz-replication-status",dYr="x-amz-fwd-header-x-amz-storage-class",uYr="x-amz-fwd-header-x-amz-server-side-encryption",mYr="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",fYr="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",pYr="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",gYr="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",hYr="x-amz-fwd-header-x-amz-tagging-count",yYr="x-amz-fwd-header-x-amz-version-id",_Yr="x-amz-fwd-status",p0="x-amz-grant-full-control",g0="x-amz-grant-read",h0="x-amz-grant-read-acp",Xoe="x-amz-grant-write",y0="x-amz-grant-write-acp",SYr="x-amz-if-match-initiated-time",vYr="x-amz-if-match-last-modified-time",EYr="x-amz-if-match-size",Joe="x-amz-mfa",CYr="x-amz-metadata-directive",FG="x-amz-missing-meta",bYr="x-amz-mp-object-size",wYr="x-amz-max-parts",qG="x-amz-mp-parts-count",xYr="x-amz-object-attributes",kO="x-amz-object-lock-legal-hold",MO="x-amz-object-lock-mode",NS="x-amz-object-lock-retain-until-date",AYr="x-amz-object-ownership",Yoe="x-amz-optional-object-attributes",Ogt="x-amz-object-size",PYr="x-amz-part-number-marker",T_t="x-amz-restore",Mn="x-amz-request-charged",RYr="x-amz-restore-output-path",$r="x-amz-request-payer",IYr="x-amz-request-route",TYr="x-amz-rename-source",O_t="x-amz-replication-status",OYr="x-amz-rename-source-if-match",NYr="x-amz-rename-source-if-modified-since",DYr="x-amz-rename-source-if-none-match",kYr="x-amz-rename-source-if-unmodified-since",MYr="x-amz-request-token",LO="x-amz-storage-class",ln="x-amz-sdk-checksum-algorithm",LYr="x-amz-skip-destination-validation",N_t="x-amz-source-expected-bucket-owner",_c="x-amz-server-side-encryption",Sc="x-amz-server-side-encryption-aws-kms-key-id",ws="x-amz-server-side-encryption-bucket-key-enabled",Oh="x-amz-server-side-encryption-context",ki="x-amz-server-side-encryption-customer-algorithm",Ud="x-amz-server-side-encryption-customer-key",Mi="x-amz-server-side-encryption-customer-key-md5",Qoe="x-amz-tagging",jG="x-amz-tagging-count",UYr="x-amz-tagging-directive",Zoe="x-amz-transition-default-minimum-object-size",tm="x-amz-version-id",BYr="x-amz-write-offset-bytes",UO="x-amz-website-redirect-location",Li="x-id",eae=class extends m.Command.classBuilder().ep({...ae,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,Zzr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(aht,oht).ser(AGr).de(CVr).build(){static{y(this,"CreateSessionCommand")}},FYr=Gpt(),Ngt=LT(),qYr=y(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),jYr=y(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),$Yr=y((e,t)=>{let r=Object.assign((0,Ngt.getAwsRegionExtensionConfiguration)(e),(0,m.getDefaultExtensionConfiguration)(e),(0,Die.getHttpHandlerExtensionConfiguration)(e),qYr(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Ngt.resolveAwsRegionExtensionConfiguration)(r),(0,m.resolveDefaultRuntimeConfig)(r),(0,Die.resolveHttpHandlerRuntimeConfig)(r),jYr(r))},"resolveRuntimeExtensions"),_0=class extends m.Client{static{y(this,"S3Client")}config;constructor(...[e]){let t=(0,FYr.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=eHr(t),n=(0,tgt.resolveUserAgentConfig)(r),s=(0,qr.resolveFlexibleChecksumsConfig)(n),i=(0,rgt.resolveRetryConfig)(s),o=(0,Jzr.resolveRegionConfig)(i),a=(0,egt.resolveHostHeaderConfig)(o),c=(0,se.resolveEndpointConfig)(a),l=(0,Yzr.resolveEventStreamSerdeConfig)(c),d=(0,ngt.resolveHttpAuthSchemeConfig)(l),u=(0,yO.resolveS3Config)(d,{session:[()=>this,eae]}),f=$Yr(u,e?.extensions||[]);this.config=f,this.middlewareStack.use((0,tgt.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,rgt.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Qzr.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,egt.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Kzr.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Xzr.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Zse.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:ngt.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:y(async p=>new Zse.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials,"aws.auth#sigv4a":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Zse.getHttpSigningPlugin)(this.config)),this.middlewareStack.use((0,yO.getValidateBucketNamePlugin)(this.config)),this.middlewareStack.use((0,Wzr.getAddExpectContinuePlugin)(this.config)),this.middlewareStack.use((0,yO.getRegionRedirectMiddlewarePlugin)(this.config)),this.middlewareStack.use((0,yO.getS3ExpressPlugin)(this.config)),this.middlewareStack.use((0,yO.getS3ExpressHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},zYr=Ne(),D_t=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,zYr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(SGr).de(gVr).build(){static{y(this,"AbortMultipartUploadCommand")}},HYr=Ne(),Bd=Xpt(),k_t=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,HYr.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(eht,Zgt).ser(vGr).de(hVr).build(){static{y(this,"CompleteMultipartUploadCommand")}},GYr=Ne(),M_t=class extends m.Command.classBuilder().ep({...ae,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,GYr.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(rht,tht).ser(EGr).de(yVr).build(){static{y(this,"CopyObjectCommand")}},VYr=Zpt(),WYr=Ne(),L_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,WYr.getThrow200ExceptionsPlugin)(r),(0,VYr.getLocationConstraintPlugin)(r)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(CGr).de(_Vr).build(){static{y(this,"CreateBucketCommand")}},U_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(bGr).de(SVr).build(){static{y(this,"CreateBucketMetadataConfigurationCommand")}},B_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(wGr).de(vVr).build(){static{y(this,"CreateBucketMetadataTableConfigurationCommand")}},KYr=Ne(),F_t=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,KYr.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(sht,nht).ser(xGr).de(EVr).build(){static{y(this,"CreateMultipartUploadCommand")}},q_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(RGr).de(wVr).build(){static{y(this,"DeleteBucketAnalyticsConfigurationCommand")}},j_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(PGr).de(bVr).build(){static{y(this,"DeleteBucketCommand")}},$_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(IGr).de(xVr).build(){static{y(this,"DeleteBucketCorsCommand")}},z_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(TGr).de(AVr).build(){static{y(this,"DeleteBucketEncryptionCommand")}},H_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(OGr).de(PVr).build(){static{y(this,"DeleteBucketIntelligentTieringConfigurationCommand")}},G_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(NGr).de(RVr).build(){static{y(this,"DeleteBucketInventoryConfigurationCommand")}},V_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(DGr).de(IVr).build(){static{y(this,"DeleteBucketLifecycleCommand")}},W_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(kGr).de(TVr).build(){static{y(this,"DeleteBucketMetadataConfigurationCommand")}},K_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(MGr).de(OVr).build(){static{y(this,"DeleteBucketMetadataTableConfigurationCommand")}},X_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(LGr).de(NVr).build(){static{y(this,"DeleteBucketMetricsConfigurationCommand")}},J_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(UGr).de(DVr).build(){static{y(this,"DeleteBucketOwnershipControlsCommand")}},Y_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(BGr).de(kVr).build(){static{y(this,"DeleteBucketPolicyCommand")}},Q_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(FGr).de(MVr).build(){static{y(this,"DeleteBucketReplicationCommand")}},Z_t=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(qGr).de(LVr).build(){static{y(this,"DeleteBucketTaggingCommand")}},eSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(jGr).de(UVr).build(){static{y(this,"DeleteBucketWebsiteCommand")}},XYr=Ne(),tSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,XYr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser($Gr).de(BVr).build(){static{y(this,"DeleteObjectCommand")}},JYr=Ne(),rSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,JYr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(zGr).de(FVr).build(){static{y(this,"DeleteObjectsCommand")}},YYr=Ne(),nSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,YYr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(HGr).de(qVr).build(){static{y(this,"DeleteObjectTaggingCommand")}},sSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(GGr).de(jVr).build(){static{y(this,"DeletePublicAccessBlockCommand")}},QYr=Ne(),iSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,QYr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(VGr).de($Vr).build(){static{y(this,"GetBucketAccelerateConfigurationCommand")}},ZYr=Ne(),oSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,ZYr.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(WGr).de(zVr).build(){static{y(this,"GetBucketAclCommand")}},e7r=Ne(),aSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,e7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(KGr).de(HVr).build(){static{y(this,"GetBucketAnalyticsConfigurationCommand")}},t7r=Ne(),cSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,t7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(XGr).de(GVr).build(){static{y(this,"GetBucketCorsCommand")}},r7r=Ne(),lSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,r7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,dht).ser(JGr).de(VVr).build(){static{y(this,"GetBucketEncryptionCommand")}},n7r=Ne(),dSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,n7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(YGr).de(WVr).build(){static{y(this,"GetBucketIntelligentTieringConfigurationCommand")}},s7r=Ne(),uSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,s7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,ght).ser(QGr).de(KVr).build(){static{y(this,"GetBucketInventoryConfigurationCommand")}},i7r=Ne(),mSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,i7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(ZGr).de(XVr).build(){static{y(this,"GetBucketLifecycleConfigurationCommand")}},o7r=Ne(),fSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,o7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(e3r).de(JVr).build(){static{y(this,"GetBucketLocationCommand")}},a7r=Ne(),pSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,a7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(t3r).de(YVr).build(){static{y(this,"GetBucketLoggingCommand")}},c7r=Ne(),gSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,c7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(r3r).de(QVr).build(){static{y(this,"GetBucketMetadataConfigurationCommand")}},l7r=Ne(),hSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,l7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(n3r).de(ZVr).build(){static{y(this,"GetBucketMetadataTableConfigurationCommand")}},d7r=Ne(),ySt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,d7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(s3r).de(e2r).build(){static{y(this,"GetBucketMetricsConfigurationCommand")}},u7r=Ne(),_St=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,u7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(i3r).de(t2r).build(){static{y(this,"GetBucketNotificationConfigurationCommand")}},m7r=Ne(),SSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,m7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(o3r).de(r2r).build(){static{y(this,"GetBucketOwnershipControlsCommand")}},f7r=Ne(),vSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,f7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(a3r).de(n2r).build(){static{y(this,"GetBucketPolicyCommand")}},p7r=Ne(),ESt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,p7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(c3r).de(s2r).build(){static{y(this,"GetBucketPolicyStatusCommand")}},g7r=Ne(),CSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,g7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(l3r).de(i2r).build(){static{y(this,"GetBucketReplicationCommand")}},h7r=Ne(),bSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,h7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(d3r).de(o2r).build(){static{y(this,"GetBucketRequestPaymentCommand")}},y7r=Ne(),wSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,y7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(u3r).de(a2r).build(){static{y(this,"GetBucketTaggingCommand")}},_7r=Ne(),xSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,_7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(m3r).de(c2r).build(){static{y(this,"GetBucketVersioningCommand")}},S7r=Ne(),ASt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,S7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(f3r).de(l2r).build(){static{y(this,"GetBucketWebsiteCommand")}},v7r=Ne(),PSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,v7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(g3r).de(u2r).build(){static{y(this,"GetObjectAclCommand")}},E7r=Ne(),RSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,E7r.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(_ht,void 0).ser(h3r).de(m2r).build(){static{y(this,"GetObjectAttributesCommand")}},C7r=Ne(),ISt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),(0,Bd.getSsecPlugin)(r),(0,C7r.getS3ExpiresMiddlewarePlugin)(r)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(yht,hht).ser(p3r).de(d2r).build(){static{y(this,"GetObjectCommand")}},b7r=Ne(),TSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,b7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(y3r).de(f2r).build(){static{y(this,"GetObjectLegalHoldCommand")}},w7r=Ne(),OSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,w7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(_3r).de(p2r).build(){static{y(this,"GetObjectLockConfigurationCommand")}},x7r=Ne(),NSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,x7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(S3r).de(g2r).build(){static{y(this,"GetObjectRetentionCommand")}},A7r=Ne(),DSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,A7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(v3r).de(h2r).build(){static{y(this,"GetObjectTaggingCommand")}},kSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,Sht).ser(E3r).de(y2r).build(){static{y(this,"GetObjectTorrentCommand")}},P7r=Ne(),MSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,P7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(C3r).de(_2r).build(){static{y(this,"GetPublicAccessBlockCommand")}},R7r=Ne(),r3=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,R7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(b3r).de(S2r).build(){static{y(this,"HeadBucketCommand")}},Dgt=Ne(),n3=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,Dgt.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r),(0,Dgt.getS3ExpiresMiddlewarePlugin)(r)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(Eht,vht).ser(w3r).de(v2r).build(){static{y(this,"HeadObjectCommand")}},I7r=Ne(),LSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,I7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(x3r).de(E2r).build(){static{y(this,"ListBucketAnalyticsConfigurationsCommand")}},T7r=Ne(),USt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,T7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(A3r).de(C2r).build(){static{y(this,"ListBucketIntelligentTieringConfigurationsCommand")}},O7r=Ne(),BSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,O7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,Cht).ser(P3r).de(b2r).build(){static{y(this,"ListBucketInventoryConfigurationsCommand")}},N7r=Ne(),FSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,N7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(R3r).de(w2r).build(){static{y(this,"ListBucketMetricsConfigurationsCommand")}},D7r=Ne(),tae=class extends m.Command.classBuilder().ep(ae).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,D7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(I3r).de(x2r).build(){static{y(this,"ListBucketsCommand")}},k7r=Ne(),rae=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,k7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(T3r).de(A2r).build(){static{y(this,"ListDirectoryBucketsCommand")}},M7r=Ne(),qSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,M7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(O3r).de(P2r).build(){static{y(this,"ListMultipartUploadsCommand")}},L7r=Ne(),jSt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,L7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(N3r).de(R2r).build(){static{y(this,"ListObjectsCommand")}},U7r=Ne(),nae=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,U7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(D3r).de(I2r).build(){static{y(this,"ListObjectsV2Command")}},B7r=Ne(),$St=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,B7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(k3r).de(T2r).build(){static{y(this,"ListObjectVersionsCommand")}},F7r=Ne(),sae=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,F7r.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(Mht,void 0).ser(M3r).de(O2r).build(){static{y(this,"ListPartsCommand")}},zSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(L3r).de(N2r).build(){static{y(this,"PutBucketAccelerateConfigurationCommand")}},HSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(U3r).de(D2r).build(){static{y(this,"PutBucketAclCommand")}},GSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(B3r).de(k2r).build(){static{y(this,"PutBucketAnalyticsConfigurationCommand")}},VSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(F3r).de(M2r).build(){static{y(this,"PutBucketCorsCommand")}},WSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(Lht,void 0).ser(q3r).de(L2r).build(){static{y(this,"PutBucketEncryptionCommand")}},KSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(j3r).de(U2r).build(){static{y(this,"PutBucketIntelligentTieringConfigurationCommand")}},XSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(Uht,void 0).ser($3r).de(B2r).build(){static{y(this,"PutBucketInventoryConfigurationCommand")}},q7r=Ne(),JSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,q7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(z3r).de(F2r).build(){static{y(this,"PutBucketLifecycleConfigurationCommand")}},YSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(H3r).de(q2r).build(){static{y(this,"PutBucketLoggingCommand")}},QSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(G3r).de(j2r).build(){static{y(this,"PutBucketMetricsConfigurationCommand")}},ZSt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(V3r).de($2r).build(){static{y(this,"PutBucketNotificationConfigurationCommand")}},evt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(W3r).de(z2r).build(){static{y(this,"PutBucketOwnershipControlsCommand")}},tvt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(K3r).de(H2r).build(){static{y(this,"PutBucketPolicyCommand")}},rvt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(X3r).de(G2r).build(){static{y(this,"PutBucketReplicationCommand")}},nvt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(J3r).de(V2r).build(){static{y(this,"PutBucketRequestPaymentCommand")}},svt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(Y3r).de(W2r).build(){static{y(this,"PutBucketTaggingCommand")}},ivt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(Q3r).de(K2r).build(){static{y(this,"PutBucketVersioningCommand")}},ovt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(Z3r).de(X2r).build(){static{y(this,"PutBucketWebsiteCommand")}},j7r=Ne(),avt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(tVr).de(Y2r).build(){static{y(this,"PutObjectAclCommand")}},kgt=Ne(),cvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,kgt.getCheckContentLengthHeaderPlugin)(r),(0,kgt.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Fht,Bht).ser(eVr).de(J2r).build(){static{y(this,"PutObjectCommand")}},$7r=Ne(),lvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,$7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(rVr).de(Q2r).build(){static{y(this,"PutObjectLegalHoldCommand")}},z7r=Ne(),dvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,z7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(nVr).de(Z2r).build(){static{y(this,"PutObjectLockConfigurationCommand")}},H7r=Ne(),uvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,H7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(sVr).de(e4r).build(){static{y(this,"PutObjectRetentionCommand")}},G7r=Ne(),mvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,G7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(iVr).de(t4r).build(){static{y(this,"PutObjectTaggingCommand")}},fvt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(oVr).de(r4r).build(){static{y(this,"PutPublicAccessBlockCommand")}},V7r=Ne(),pvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,V7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(aVr).de(n4r).build(){static{y(this,"RenameObjectCommand")}},W7r=Ne(),gvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,W7r.getThrow200ExceptionsPlugin)(r)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(Hht,void 0).ser(cVr).de(s4r).build(){static{y(this,"RestoreObjectCommand")}},K7r=Ne(),hvt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,K7r.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(Vht,Ght).ser(lVr).de(i4r).build(){static{y(this,"SelectObjectContentCommand")}},yvt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(dVr).de(o4r).build(){static{y(this,"UpdateBucketMetadataInventoryTableConfigurationCommand")}},_vt=class extends m.Command.classBuilder().ep({...ae,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(uVr).de(a4r).build(){static{y(this,"UpdateBucketMetadataJournalTableConfigurationCommand")}},X7r=Ne(),Svt=class extends m.Command.classBuilder().ep({...ae,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,qr.getFlexibleChecksumsPlugin)(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,X7r.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(Kht,Wht).ser(mVr).de(c4r).build(){static{y(this,"UploadPartCommand")}},J7r=Ne(),vvt=class extends m.Command.classBuilder().ep({...ae,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,J7r.getThrow200ExceptionsPlugin)(r),(0,Bd.getSsecPlugin)(r)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(Jht,Xht).ser(fVr).de(l4r).build(){static{y(this,"UploadPartCopyCommand")}},Evt=class extends m.Command.classBuilder().ep({...ae,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,se.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(Yht,void 0).ser(pVr).de(d4r).build(){static{y(this,"WriteGetObjectResponseCommand")}},Y7r={AbortMultipartUploadCommand:D_t,CompleteMultipartUploadCommand:k_t,CopyObjectCommand:M_t,CreateBucketCommand:L_t,CreateBucketMetadataConfigurationCommand:U_t,CreateBucketMetadataTableConfigurationCommand:B_t,CreateMultipartUploadCommand:F_t,CreateSessionCommand:eae,DeleteBucketCommand:j_t,DeleteBucketAnalyticsConfigurationCommand:q_t,DeleteBucketCorsCommand:$_t,DeleteBucketEncryptionCommand:z_t,DeleteBucketIntelligentTieringConfigurationCommand:H_t,DeleteBucketInventoryConfigurationCommand:G_t,DeleteBucketLifecycleCommand:V_t,DeleteBucketMetadataConfigurationCommand:W_t,DeleteBucketMetadataTableConfigurationCommand:K_t,DeleteBucketMetricsConfigurationCommand:X_t,DeleteBucketOwnershipControlsCommand:J_t,DeleteBucketPolicyCommand:Y_t,DeleteBucketReplicationCommand:Q_t,DeleteBucketTaggingCommand:Z_t,DeleteBucketWebsiteCommand:eSt,DeleteObjectCommand:tSt,DeleteObjectsCommand:rSt,DeleteObjectTaggingCommand:nSt,DeletePublicAccessBlockCommand:sSt,GetBucketAccelerateConfigurationCommand:iSt,GetBucketAclCommand:oSt,GetBucketAnalyticsConfigurationCommand:aSt,GetBucketCorsCommand:cSt,GetBucketEncryptionCommand:lSt,GetBucketIntelligentTieringConfigurationCommand:dSt,GetBucketInventoryConfigurationCommand:uSt,GetBucketLifecycleConfigurationCommand:mSt,GetBucketLocationCommand:fSt,GetBucketLoggingCommand:pSt,GetBucketMetadataConfigurationCommand:gSt,GetBucketMetadataTableConfigurationCommand:hSt,GetBucketMetricsConfigurationCommand:ySt,GetBucketNotificationConfigurationCommand:_St,GetBucketOwnershipControlsCommand:SSt,GetBucketPolicyCommand:vSt,GetBucketPolicyStatusCommand:ESt,GetBucketReplicationCommand:CSt,GetBucketRequestPaymentCommand:bSt,GetBucketTaggingCommand:wSt,GetBucketVersioningCommand:xSt,GetBucketWebsiteCommand:ASt,GetObjectCommand:ISt,GetObjectAclCommand:PSt,GetObjectAttributesCommand:RSt,GetObjectLegalHoldCommand:TSt,GetObjectLockConfigurationCommand:OSt,GetObjectRetentionCommand:NSt,GetObjectTaggingCommand:DSt,GetObjectTorrentCommand:kSt,GetPublicAccessBlockCommand:MSt,HeadBucketCommand:r3,HeadObjectCommand:n3,ListBucketAnalyticsConfigurationsCommand:LSt,ListBucketIntelligentTieringConfigurationsCommand:USt,ListBucketInventoryConfigurationsCommand:BSt,ListBucketMetricsConfigurationsCommand:FSt,ListBucketsCommand:tae,ListDirectoryBucketsCommand:rae,ListMultipartUploadsCommand:qSt,ListObjectsCommand:jSt,ListObjectsV2Command:nae,ListObjectVersionsCommand:$St,ListPartsCommand:sae,PutBucketAccelerateConfigurationCommand:zSt,PutBucketAclCommand:HSt,PutBucketAnalyticsConfigurationCommand:GSt,PutBucketCorsCommand:VSt,PutBucketEncryptionCommand:WSt,PutBucketIntelligentTieringConfigurationCommand:KSt,PutBucketInventoryConfigurationCommand:XSt,PutBucketLifecycleConfigurationCommand:JSt,PutBucketLoggingCommand:YSt,PutBucketMetricsConfigurationCommand:QSt,PutBucketNotificationConfigurationCommand:ZSt,PutBucketOwnershipControlsCommand:evt,PutBucketPolicyCommand:tvt,PutBucketReplicationCommand:rvt,PutBucketRequestPaymentCommand:nvt,PutBucketTaggingCommand:svt,PutBucketVersioningCommand:ivt,PutBucketWebsiteCommand:ovt,PutObjectCommand:cvt,PutObjectAclCommand:avt,PutObjectLegalHoldCommand:lvt,PutObjectLockConfigurationCommand:dvt,PutObjectRetentionCommand:uvt,PutObjectTaggingCommand:mvt,PutPublicAccessBlockCommand:fvt,RenameObjectCommand:pvt,RestoreObjectCommand:gvt,SelectObjectContentCommand:hvt,UpdateBucketMetadataInventoryTableConfigurationCommand:yvt,UpdateBucketMetadataJournalTableConfigurationCommand:_vt,UploadPartCommand:Svt,UploadPartCopyCommand:vvt,WriteGetObjectResponseCommand:Evt},Cvt=class extends _0{static{y(this,"S3")}};(0,m.createAggregatedClient)(Y7r,Cvt);var Q7r=(Ze(),H(As)),Z7r=(0,Q7r.createPaginator)(_0,tae,"ContinuationToken","ContinuationToken","MaxBuckets"),eQr=(Ze(),H(As)),tQr=(0,eQr.createPaginator)(_0,rae,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),rQr=(Ze(),H(As)),nQr=(0,rQr.createPaginator)(_0,nae,"ContinuationToken","NextContinuationToken","MaxKeys"),sQr=(Ze(),H(As)),iQr=(0,sQr.createPaginator)(_0,sae,"PartNumberMarker","NextPartNumberMarker","MaxParts"),bs=b5(),bvt=y(async(e,t)=>{let r;try{return r=await e.send(new r3(t)),{state:bs.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:bs.WaiterState.RETRY,reason:r}}return{state:bs.WaiterState.RETRY,reason:r}},"checkState"),oQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,bs.createWaiter)({...r,...e},t,bvt)},"waitForBucketExists"),aQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,bs.createWaiter)({...r,...e},t,bvt);return(0,bs.checkExceptions)(n)},"waitUntilBucketExists"),wvt=y(async(e,t)=>{let r;try{r=await e.send(new r3(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:bs.WaiterState.SUCCESS,reason:r}}return{state:bs.WaiterState.RETRY,reason:r}},"checkState"),cQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,bs.createWaiter)({...r,...e},t,wvt)},"waitForBucketNotExists"),lQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,bs.createWaiter)({...r,...e},t,wvt);return(0,bs.checkExceptions)(n)},"waitUntilBucketNotExists"),xvt=y(async(e,t)=>{let r;try{return r=await e.send(new n3(t)),{state:bs.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:bs.WaiterState.RETRY,reason:r}}return{state:bs.WaiterState.RETRY,reason:r}},"checkState"),dQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,bs.createWaiter)({...r,...e},t,xvt)},"waitForObjectExists"),uQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,bs.createWaiter)({...r,...e},t,xvt);return(0,bs.checkExceptions)(n)},"waitUntilObjectExists"),Avt=y(async(e,t)=>{let r;try{r=await e.send(new n3(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:bs.WaiterState.SUCCESS,reason:r}}return{state:bs.WaiterState.RETRY,reason:r}},"checkState"),mQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,bs.createWaiter)({...r,...e},t,Avt)},"waitForObjectNotExists"),fQr=y(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,bs.createWaiter)({...r,...e},t,Avt);return(0,bs.checkExceptions)(n)},"waitUntilObjectNotExists")});var Nvt=E((r2n,Ovt)=>{"use strict";var s3=Object.defineProperty,pQr=Object.getOwnPropertyDescriptor,gQr=Object.getOwnPropertyNames,hQr=Object.prototype.hasOwnProperty,yQr=(e,t)=>s3(e,"name",{value:t,configurable:!0}),_Qr=(e,t)=>{for(var r in t)s3(e,r,{get:t[r],enumerable:!0})},SQr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gQr(t))!hQr.call(e,s)&&s!==r&&s3(e,s,{get:()=>t[s],enumerable:!(n=pQr(t,s))||n.enumerable});return e},vQr=e=>SQr(s3({},"__esModule",{value:!0}),e),Ivt={};_Qr(Ivt,{formatUrl:()=>Tvt});Ovt.exports=vQr(Ivt);var EQr=gN();function Tvt(e){let{port:t,query:r}=e,{protocol:n,path:s,hostname:i}=e;n&&n.slice(-1)!==":"&&(n+=":"),t&&(i+=`:${t}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let o=r?(0,EQr.buildQueryString)(r):"";o&&o[0]!=="?"&&(o=`?${o}`);let a="";if(e.username!=null||e.password!=null){let l=e.username??"",d=e.password??"";a=`${l}:${d}@`}let c="";return e.fragment&&(c=`#${e.fragment}`),`${n}//${a}${i}${s}${o}${c}`}yQr(Tvt,"formatUrl")});var Mvt=E((n2n,kvt)=>{"use strict";var o3=Object.defineProperty,CQr=Object.getOwnPropertyDescriptor,bQr=Object.getOwnPropertyNames,wQr=Object.prototype.hasOwnProperty,i3=(e,t)=>o3(e,"name",{value:t,configurable:!0}),xQr=(e,t)=>{for(var r in t)o3(e,r,{get:t[r],enumerable:!0})},AQr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bQr(t))!wQr.call(e,s)&&s!==r&&o3(e,s,{get:()=>t[s],enumerable:!(n=CQr(t,s))||n.enumerable});return e},PQr=e=>AQr(o3({},"__esModule",{value:!0}),e),Dvt={};xQr(Dvt,{S3RequestPresigner:()=>iae,getSignedUrl:()=>kQr});kvt.exports=PQr(Dvt);var RQr=Nvt(),IQr=Fn(),TQr=Fe(),OQr=az(),NQr="UNSIGNED-PAYLOAD",DQr="X-Amz-Content-Sha256",iae=class{static{i3(this,"S3RequestPresigner")}signer;constructor(e){let t={service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1,applyChecksum:e.applyChecksum||!1,...e};this.signer=new OQr.SignatureV4MultiRegion(t)}presign(e,{unsignableHeaders:t=new Set,hoistableHeaders:r=new Set,unhoistableHeaders:n=new Set,...s}={}){return this.prepareRequest(e,{unsignableHeaders:t,unhoistableHeaders:n,hoistableHeaders:r}),this.signer.presign(e,{expiresIn:900,unsignableHeaders:t,unhoistableHeaders:n,...s})}presignWithCredentials(e,t,{unsignableHeaders:r=new Set,hoistableHeaders:n=new Set,unhoistableHeaders:s=new Set,...i}={}){return this.prepareRequest(e,{unsignableHeaders:r,unhoistableHeaders:s,hoistableHeaders:n}),this.signer.presignWithCredentials(e,t,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:s,...i})}prepareRequest(e,{unsignableHeaders:t=new Set,unhoistableHeaders:r=new Set,hoistableHeaders:n=new Set}={}){t.add("content-type"),Object.keys(e.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{n.has(a)||r.add(a)}),e.headers[DQr]=NQr;let s=e.headers.host,i=e.port,o=`${e.hostname}${e.port!=null?":"+i:""}`;(!s||s===e.hostname&&e.port!=null)&&(e.headers.host=o)}},kQr=i3(async(e,t,r={})=>{let n,s;if(typeof e.config.endpointProvider=="function"){let f=(await(0,IQr.getEndpointFromInstructions)(t.input,t.constructor,e.config)).properties?.authSchemes?.[0];f?.name==="sigv4a"?s=f?.signingRegionSet?.join(","):s=f?.signingRegion,n=new iae({...e.config,signingName:f?.signingName,region:i3(async()=>s,"region")})}else n=new iae(e.config);let i=i3((u,f)=>async p=>{let{request:g}=p;if(!TQr.HttpRequest.isInstance(g))throw new Error("Request to be presigned is not an valid HTTP request.");delete g.headers["amz-sdk-invocation-id"],delete g.headers["amz-sdk-request"],delete g.headers["x-amz-user-agent"];let S,b={...r,signingRegion:r.signingRegion??f.signing_region??s,signingService:r.signingService??f.signing_service};return f.s3ExpressIdentity?S=await n.presignWithCredentials(g,f.s3ExpressIdentity,b):S=await n.presign(g,b),{response:{},output:{$metadata:{httpStatusCode:200},presigned:S}}},"presignInterceptMiddleware"),o="presignInterceptMiddleware",a=e.middlewareStack.clone();a.addRelativeTo(i,{name:o,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let c=t.resolveMiddleware(a,e.config,{}),{output:l}=await c({input:t.input}),{presigned:d}=l;return(0,RQr.formatUrl)(d)},"getSignedUrl")});var Bvt=E(Nh=>{"use strict";var MQr=Nh&&Nh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.s3Service=Nh.S3Service=void 0;var LQr=require("node:crypto"),oae=require("node:path"),$S=Rvt(),UQr=Mvt(),a3=aA(),BO=MQr(Nm());function Uvt(){return process.env.S3_REGION||process.env.AWS_REGION||a3.env.s3.region||a3.env.aws.region||"us-east-1"}function Lvt(){return process.env.S3_BUCKET_NAME||a3.env.s3.bucketName}function BQr(){return process.env.S3_CDN_DOMAIN||a3.env.s3.cdnDomain||""}var S0=new $S.S3Client({region:Uvt()}),c3=class{bucketName;region;cdnDomain;urlExpirationTime=3600;constructor(){this.bucketName=Lvt(),this.region=Uvt(),this.cdnDomain=BQr(),this.bucketName?BO.default.debug("S3Service initialized",{bucket:this.bucketName,region:this.region,cdnDomain:this.cdnDomain||void 0}):BO.default.warn("S3Service initialized without bucket name. Upload operations will fail.")}ensureBucket(){let t=this.bucketName||Lvt();if(!t)throw new Error("S3 bucket name is not configured. Set S3_BUCKET_NAME environment variable.");return t}generateFileKey(t,r={}){let{userId:n,purpose:s="storage",variant:i}=r,o=(0,oae.extname)(t)||".bin",a=(0,oae.basename)(t,o)||"file",c=Date.now(),l=(0,LQr.randomBytes)(6).toString("hex"),d=`${c}_${l}`,u="images";return n&&(u+=`/users/${n}`),u+=`/${s}`,i&&(u+=`/${i}`),u+=`/${d}_${a}${o}`,u.replace(/\\/g,"/")}getContentTypeFromExtension(t){switch((0,oae.extname)(t).toLowerCase()){case".jpg":case".jpeg":return"image/jpeg";case".png":return"image/png";case".webp":return"image/webp";case".gif":return"image/gif";case".heic":return"image/heic";case".tiff":case".tif":return"image/tiff";default:return"application/octet-stream"}}formatToMime(t){if(!t)return"application/octet-stream";switch(t.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"gif":return"image/gif";case"tiff":return"image/tiff";case"heic":return"image/heic";default:return"application/octet-stream"}}getCDNUrl(t){return this.cdnDomain?`https://${this.cdnDomain.replace(/\/$/,"")}/${t}`:`https://${this.ensureBucket()}.s3.${this.region}.amazonaws.com/${t}`}async uploadFile(t,r,n={}){let s=this.ensureBucket(),i=this.generateFileKey(r,n),o=n.contentType||this.getContentTypeFromExtension(n.originalName||r),a={"original-name":n.originalName||r,"upload-timestamp":new Date().toISOString(),"file-size":t.length.toString(),...n.userId&&{"user-id":n.userId},...n.purpose&&{purpose:n.purpose},...n.variant&&{variant:n.variant},...n.metadata||{}},c={Bucket:s,Key:i,Body:t,ContentType:o,Metadata:a,...n.isPublic&&{ACL:"public-read"},...n.expiresIn&&{Expires:new Date(Date.now()+n.expiresIn*1e3)}};try{let l=Date.now(),d=await S0.send(new $S.PutObjectCommand(c)),u=Date.now()-l;return BO.default.info("S3 upload completed",{key:i,bucket:s,size:t.length,duration:u}),{key:i,url:this.getCDNUrl(i),bucket:s,contentType:o,size:t.length,etag:d.ETag||"",metadata:a}}catch(l){throw BO.default.error("S3 upload failed",l instanceof Error?l:void 0,{bucket:s,key:i}),l}}async uploadFiles(t){let r=[];for(let n of t)try{let s=await this.uploadFile(n.buffer,n.name,n.options||{});r.push({name:n.name,result:s})}catch(s){let i=s instanceof Error?s.message:"Unknown error";BO.default.error("Batch S3 upload failed",s instanceof Error?s:void 0,{fileName:n.name}),r.push({name:n.name,error:i})}return r}async getFileInfo(t){let n={Bucket:this.ensureBucket(),Key:t},s=await S0.send(new $S.HeadObjectCommand(n));return{key:t,size:s.ContentLength||0,lastModified:s.LastModified||new Date,etag:s.ETag||"",contentType:s.ContentType,metadata:s.Metadata}}async deleteFile(t){let n={Bucket:this.ensureBucket(),Key:t};await S0.send(new $S.DeleteObjectCommand(n))}async listFiles(t,r=1e3){let s={Bucket:this.ensureBucket(),Prefix:t,MaxKeys:r};return((await S0.send(new $S.ListObjectsV2Command(s))).Contents||[]).map(o=>({key:o.Key||"",size:o.Size||0,lastModified:o.LastModified||new Date,etag:o.ETag||""}))}async getSignedDownloadUrl(t,r){let s={Bucket:this.ensureBucket(),Key:t};return(0,UQr.getSignedUrl)(S0,new $S.GetObjectCommand(s),{expiresIn:r||this.urlExpirationTime})}async downloadFile(t,r){let s={Bucket:r||this.ensureBucket(),Key:t},i=await S0.send(new $S.GetObjectCommand(s));if(!i.Body)throw new Error(`S3 object ${t} has no body`);if(i.Body instanceof Buffer)return i.Body;if(typeof i.Body=="string")return Buffer.from(i.Body);let o=[];for await(let a of i.Body)o.push(a instanceof Buffer?a:Buffer.from(a));return Buffer.concat(o)}mapFormatToMime(t){return this.formatToMime(t)}};Nh.S3Service=c3;Nh.s3Service=new c3});var qvt=E(v0=>{"use strict";var FQr=v0&&v0.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v0,"__esModule",{value:!0});v0.parseMultipartFormData=jQr;v0.findFile=$Qr;var aae=FQr(Nm());function qQr(e){let t=/boundary=([^;]+)/i.exec(e);return t?t[1]:null}function Fvt(e){return e.endsWith(`\r
`)?e.slice(0,-2):e}function jQr(e){let t=e.headers||{},r=t["content-type"]||t["Content-Type"];if(!r)throw new Error("Missing content-type header for multipart parsing");let n=qQr(r);if(!n)throw new Error("Unable to determine multipart boundary");if(!e.body)throw new Error("Empty request body");let i=(e.isBase64Encoded?Buffer.from(e.body,"base64"):Buffer.from(e.body,"utf8")).toString("latin1"),o=`--${n}`,a=`--${n}--`,c=i.split(o).filter(u=>{let f=u.trim();return f.length>0&&f!=="--"}),l=[],d={};for(let u of c){let f=u.replace(/^\r?\n/,"").replace(a,"").trim();if(!f)continue;let p=f.indexOf(`\r
\r
`);if(p===-1){aae.default.warn("Multipart segment missing header separator");continue}let g=f.slice(0,p),S=f.slice(p+4),b=g.split(/\r\n/),A={};for(let G of b){let pe=G.indexOf(":");if(pe===-1)continue;let ne=G.slice(0,pe).trim().toLowerCase(),Ee=G.slice(pe+1).trim();A[ne]=Ee}let P=A["content-disposition"];if(!P){aae.default.warn("Skipping multipart segment without content-disposition header");continue}let M=/name="([^"]+)"/i.exec(P),N=/filename="([^"]*)"/i.exec(P);if(!M){aae.default.warn("Skipping multipart segment with invalid content-disposition",{contentDisposition:P});continue}let L=M[1];if(N&&N[1]){let G=N[1],pe=A["content-type"]||"application/octet-stream",ne=Fvt(S),Ee=Buffer.from(ne,"latin1");l.push({fieldName:L,filename:G,contentType:pe,content:Ee,size:Ee.length})}else d[L]=Fvt(S)}return{files:l,fields:d}}function $Qr(e,t){return e.files.find(r=>r.fieldName===t)}});var Hvt=E(Ue=>{"use strict";var zQr=Ue&&Ue.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cae=Ue&&Ue.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zQr(t,e,r)},l3=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.findFile=Ue.parseMultipartFormData=Ue.S3Service=Ue.s3Service=Ue.textractService=Ue.AppError=Ue.ImageValidationService=Ue.ImagePreprocessingService=Ue.secretsService=Ue.cognitoService=Ue.getRequestId=Ue.logResponse=Ue.logRequest=Ue.createResponse=Ue.emitBusinessMetric=Ue.emitDatabaseConnectionMetric=Ue.emitMetric=Ue.validateEnvironmentVariables=Ue.extractBearerToken=Ue.parseRequestBody=Ue.handleCorsPreflightRequest=Ue.lambdaHandler=Ue.logger=Ue.env=Ue.setupLambdaCleanup=Ue.disconnectPrisma=Ue.getPrismaClient=void 0;var lae=eK();Object.defineProperty(Ue,"getPrismaClient",{enumerable:!0,get:function(){return l3(lae).default}});Object.defineProperty(Ue,"disconnectPrisma",{enumerable:!0,get:function(){return lae.disconnectPrisma}});Object.defineProperty(Ue,"setupLambdaCleanup",{enumerable:!0,get:function(){return lae.setupLambdaCleanup}});var HQr=aA();Object.defineProperty(Ue,"env",{enumerable:!0,get:function(){return HQr.env}});var GQr=Nm();Object.defineProperty(Ue,"logger",{enumerable:!0,get:function(){return l3(GQr).default}});cae(N0e(),Ue);cae($Re(),Ue);var nd=d1e();Object.defineProperty(Ue,"lambdaHandler",{enumerable:!0,get:function(){return nd.lambdaHandler}});Object.defineProperty(Ue,"handleCorsPreflightRequest",{enumerable:!0,get:function(){return nd.handleCorsPreflightRequest}});Object.defineProperty(Ue,"parseRequestBody",{enumerable:!0,get:function(){return nd.parseRequestBody}});Object.defineProperty(Ue,"extractBearerToken",{enumerable:!0,get:function(){return nd.extractBearerToken}});Object.defineProperty(Ue,"validateEnvironmentVariables",{enumerable:!0,get:function(){return nd.validateEnvironmentVariables}});Object.defineProperty(Ue,"emitMetric",{enumerable:!0,get:function(){return nd.emitMetric}});Object.defineProperty(Ue,"emitDatabaseConnectionMetric",{enumerable:!0,get:function(){return nd.emitDatabaseConnectionMetric}});Object.defineProperty(Ue,"emitBusinessMetric",{enumerable:!0,get:function(){return nd.emitBusinessMetric}});Object.defineProperty(Ue,"createResponse",{enumerable:!0,get:function(){return nd.createResponse}});Object.defineProperty(Ue,"logRequest",{enumerable:!0,get:function(){return nd.logRequest}});Object.defineProperty(Ue,"logResponse",{enumerable:!0,get:function(){return nd.logResponse}});Object.defineProperty(Ue,"getRequestId",{enumerable:!0,get:function(){return nd.getRequestId}});var VQr=xee();Object.defineProperty(Ue,"cognitoService",{enumerable:!0,get:function(){return l3(VQr).default}});cae(oet(),Ue);var WQr=ZW();Object.defineProperty(Ue,"secretsService",{enumerable:!0,get:function(){return l3(WQr).default}});var KQr=cet();Object.defineProperty(Ue,"ImagePreprocessingService",{enumerable:!0,get:function(){return KQr.ImagePreprocessingService}});var jvt=uet();Object.defineProperty(Ue,"ImageValidationService",{enumerable:!0,get:function(){return jvt.ImageValidationService}});Object.defineProperty(Ue,"AppError",{enumerable:!0,get:function(){return jvt.AppError}});var XQr=drt();Object.defineProperty(Ue,"textractService",{enumerable:!0,get:function(){return XQr.textractService}});var $vt=Bvt();Object.defineProperty(Ue,"s3Service",{enumerable:!0,get:function(){return $vt.s3Service}});Object.defineProperty(Ue,"S3Service",{enumerable:!0,get:function(){return $vt.S3Service}});var zvt=qvt();Object.defineProperty(Ue,"parseMultipartFormData",{enumerable:!0,get:function(){return zvt.parseMultipartFormData}});Object.defineProperty(Ue,"findFile",{enumerable:!0,get:function(){return zvt.findFile}})});var YQr={};Kt(YQr,{handler:()=>JQr});module.exports=H(YQr);var Jf=C(Hvt()),JQr=async(e,t)=>{let r=Date.now();Jf.logger.logRequest(e.httpMethod,e.path,{requestId:t.awsRequestId,functionName:t.functionName});try{let n=Jf.ImageValidationService.getConfigForUseCase("business-card"),s=Jf.ImagePreprocessingService.getOptionsForUseCase("storage"),i={success:!0,service:"Upload Service with Advanced Validation",status:"healthy",timestamp:new Date().toISOString(),features:{singleUpload:!0,multipleUpload:!0,batchValidation:!0,batchProcessing:!0,comprehensiveValidation:!0,imagePreprocessing:!0,variantGeneration:!0,securityChecks:!0,maxFileSize:`${(n.maxFileSize/1024/1024).toFixed(0)}MB`,maxFiles:n.maxFiles,supportedFormats:n.allowedFormats,validation:{imageDimensions:!0,aspectRatio:!0,fileSignature:!0,contentSecurity:!0,qualityAnalysis:!0},preprocessing:{purposes:["storage","ocr","thumbnail","avatar","web-display"],optimizations:["resizing","format-conversion","compression","enhancement"],outputFormats:["jpeg","png","webp"],variantCreation:!0,batchProcessing:!0,qualityControl:!0},useCases:["business-card","profile-avatar","document","general"]},performance:{defaultQuality:s.quality,maxDimensions:`${s.maxWidth}x${s.maxHeight}`,concurrentProcessing:3,autoFormatSelection:!0,metadataRemoval:s.removeMetadata}},o=Date.now()-r;return Jf.logger.logResponse(200,o,{requestId:t.awsRequestId,functionName:t.functionName}),{statusCode:200,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}}catch(n){let s=Date.now()-r;return Jf.logger.error("Upload service health check failed",n instanceof Error?n:void 0,{requestId:t.awsRequestId}),Jf.logger.logResponse(500,s,{requestId:t.awsRequestId,functionName:t.functionName}),{statusCode:500,headers:{"Content-Type":"application/json"},body:JSON.stringify({success:!1,service:"Upload Service",status:"unhealthy",timestamp:new Date().toISOString(),error:"Health check failed"})}}};0&&(module.exports={handler});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
